(function(){var aa=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a},ba=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");},ca=ba(this),da=function(a,b){if(b)a:{var c=ca;a=a.split(".");for(var d=0;d<
a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&b!=null&&aa(c,a,{configurable:!0,writable:!0,value:b})}};da("Symbol.dispose",function(a){return a?a:Symbol("Symbol.dispose")});/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var l=this||self,ea=function(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}},fa=function(a,b){function c(){}c.prototype=b.prototype;a.tb=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.pb=function(d,e,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[e].apply(d,g)}};function ha(a,b){if(Error.captureStackTrace)Error.captureStackTrace(this,ha);else{const c=Error().stack;c&&(this.stack=c)}a&&(this.message=String(a));b!==void 0&&(this.cause=b)}fa(ha,Error);ha.prototype.name="CustomError";function m(a){l.setTimeout(()=>{throw a;},0)};var ia,ja;a:{for(var ka=["CLOSURE_FLAGS"],la=l,ma=0;ma<ka.length;ma++)if(la=la[ka[ma]],la==null){ja=null;break a}ja=la}var na=ja&&ja[610401301];ia=na!=null?na:!1;var oa;const pa=l.navigator;oa=pa?pa.userAgentData||null:null;function qa(a){return ia?oa?oa.brands.some(({brand:b})=>b&&b.indexOf(a)!=-1):!1:!1}function n(a){var b;a:{if(b=l.navigator)if(b=b.userAgent)break a;b=""}return b.indexOf(a)!=-1};function q(){return ia?!!oa&&oa.brands.length>0:!1}function ra(){return q()?qa("Chromium"):(n("Chrome")||n("CriOS"))&&!(q()?0:n("Edge"))||n("Silk")};function sa(a,b){b=Array.prototype.indexOf.call(a,b,void 0);b>=0&&Array.prototype.splice.call(a,b,1)};!n("Android")||ra();ra();n("Safari")&&(ra()||(q()?0:n("Coast"))||(q()?0:n("Opera"))||(q()?0:n("Edge"))||(q()?qa("Microsoft Edge"):n("Edg/"))||q()&&qa("Opera"));function ta(a){let b="",c=0;const d=a.length-10240;for(;c<d;)b+=String.fromCharCode.apply(null,a.subarray(c,c+=10240));b+=String.fromCharCode.apply(null,c?a.subarray(c):a);return btoa(b)}const ua=/[-_.]/g,va={"-":"+",_:"/",".":"="};function wa(a){return va[a]||""}function xa(a){return a!=null&&a instanceof Uint8Array}var ya={};let za;function Aa(a){if(a!==ya)throw Error("illegal external caller");}var Ca=function(){return za||(za=new Ba(null,ya))},Ba=class{constructor(a,b){Aa(b);this.ba=a;if(a!=null&&a.length===0)throw Error("ByteString should be constructed with non-empty values");}};var Da=function(a,b){a.__closure__error__context__984382||(a.__closure__error__context__984382={});a.__closure__error__context__984382.severity=b};let Ea;function Fa(){const a=Error();Da(a,"incident");m(a)}function Ga(a){a=Error(a);Da(a,"warning");return a};function Ha(){return typeof BigInt==="function"};function Ia(a){return Array.prototype.slice.call(a)};var r=Symbol(),Ja=Symbol(),Ka=Symbol();function La(a,b){b[r]=(a|0)&-14591}function Ma(a,b){b[r]=(a|34)&-14557};var Na={},Oa={};function Pa(a){return!(!a||typeof a!=="object"||a.sb!==Oa)}function Ra(a){return a!==null&&typeof a==="object"&&!Array.isArray(a)&&a.constructor===Object}function Sa(a,b,c){if(a!=null)if(typeof a==="string")a=a?new Ba(a,ya):Ca();else if(a.constructor!==Ba)if(xa(a))a=a.length?new Ba(c?a:new Uint8Array(a),ya):Ca();else{if(!b)throw Error();a=void 0}return a}function Ta(a){return!Array.isArray(a)||a.length?!1:(a[r]|0)&1?!0:!1}var Ua;const Va=[];Va[r]=55;Ua=Object.freeze(Va);
function Wa(a){if(a&2)throw Error();}var Xa=Object.freeze({});Object.freeze({});var Ya=Object.freeze({});function Za(a){a.rb=!0;return a};var $a=Za(a=>typeof a==="number"),ab=Za(a=>typeof a==="string"),bb=Za(a=>typeof a==="boolean");var cb=typeof l.BigInt==="function"&&typeof l.BigInt(0)==="bigint";var ib=Za(a=>cb?a>=db&&a<=eb:a[0]==="-"?fb(a,gb):fb(a,hb));const gb=Number.MIN_SAFE_INTEGER.toString(),db=cb?BigInt(Number.MIN_SAFE_INTEGER):void 0,hb=Number.MAX_SAFE_INTEGER.toString(),eb=cb?BigInt(Number.MAX_SAFE_INTEGER):void 0;function fb(a,b){if(a.length>b.length)return!1;if(a.length<b.length||a===b)return!0;for(let c=0;c<a.length;c++){const d=a[c],e=b[c];if(d>e)return!1;if(d<e)return!0}};let t=0,v=0;function jb(a){const b=a>>>0;t=b;v=(a-b)/4294967296>>>0}function kb(a){if(a<0){jb(0-a);const [b,c]=lb(t,v);t=b>>>0;v=c>>>0}else jb(a)}function mb(a,b){b>>>=0;a>>>=0;if(b<=2097151)var c=""+(4294967296*b+a);else Ha()?c=""+(BigInt(b)<<BigInt(32)|BigInt(a)):(c=(a>>>24|b<<8)&16777215,b=b>>16&65535,a=(a&16777215)+c*6777216+b*6710656,c+=b*8147497,b*=2,a>=1E7&&(c+=a/1E7>>>0,a%=1E7),c>=1E7&&(b+=c/1E7>>>0,c%=1E7),c=b+nb(c)+nb(a));return c}
function nb(a){a=String(a);return"0000000".slice(a.length)+a}function lb(a,b){b=~b;a?a=~a+1:b+=1;return[a,b]};function ob(a){if(a==null||typeof a==="boolean")return a;if(typeof a==="number")return!!a}const pb=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function qb(a){const b=typeof a;switch(b){case "bigint":return!0;case "number":return Number.isFinite(a)}return b!=="string"?!1:pb.test(a)}function w(a){if(a!=null){if(!Number.isFinite(a))throw Ga("enum");a|=0}return a}
function rb(a){if(!qb(a))throw Ga("int64");switch(typeof a){case "string":return wb(a);case "bigint":var b=a=BigInt.asIntN(64,a);if(ab(b)){if(!/^\s*(?:-?[1-9]\d*|0)?\s*$/.test(b))throw Error(String(b));}else if($a(b)&&!Number.isSafeInteger(b))throw Error(String(b));a=cb?BigInt(a):bb(a)?a?"1":"0":ab(a)?a.trim()||"0":String(a);return a;default:return xb(a)}}
function xb(a){a=Math.trunc(a);if(!Number.isSafeInteger(a)){kb(a);var b=t,c=v;if(a=c&2147483648)b=~b+1>>>0,c=~c>>>0,b==0&&(c=c+1>>>0);b=c*4294967296+(b>>>0);a=a?-b:b}return a}
function wb(a){var b=Math.trunc(Number(a));if(Number.isSafeInteger(b))return String(b);b=a.indexOf(".");b!==-1&&(a=a.substring(0,b));if(!(a[0]==="-"?a.length<20||a.length===20&&Number(a.substring(0,7))>-922337:a.length<19||a.length===19&&Number(a.substring(0,6))<922337)){if(a.length<16)kb(Number(a));else if(Ha())a=BigInt(a),t=Number(a&BigInt(4294967295))>>>0,v=Number(a>>BigInt(32)&BigInt(4294967295));else{b=+(a[0]==="-");v=t=0;const c=a.length;for(let d=0+b,e=(c-b)%6+b;e<=c;d=e,e+=6){const f=Number(a.slice(d,
e));v*=1E6;t=t*1E6+f;t>=4294967296&&(v+=Math.trunc(t/4294967296),v>>>=0,t>>>=0)}if(b){const [d,e]=lb(t,v);t=d;v=e}}a=t;b=v;if(b&2147483648)if(Ha())a=""+(BigInt(b|0)<<BigInt(32)|BigInt(a>>>0));else{const [c,d]=lb(a,b);a="-"+mb(c,d)}else a=mb(a,b)}return a}function y(a){if(a!=null&&typeof a!=="string")throw Error();return a}function yb(a,b,c){if(a!=null&&typeof a==="object"&&a.pa===Na)return a;if(Array.isArray(a)){var d=a[r]|0,e=d;e===0&&(e|=c&32);e|=c&2;e!==d&&(a[r]=e);return new b(a)}};var Gb=function(a){zb===void 0&&(zb=typeof Proxy==="function"?Ab(Proxy):null);if(!zb||!Bb())return a;let b=Cb(a);if(b)return b;if(Math.random()>.01)return a;Db(a);b=new zb(a,{set(c,d,e){Eb();c[d]=e;return!0}});Fb(a,b);return b};function Eb(){Fa()}let Hb=void 0,Ib=void 0;var Cb=function(a){let b;return(b=Hb)==null?void 0:b.get(a)};function Fb(a,b){(Hb||(Hb=new z)).set(a,b);(Ib||(Ib=new z)).set(b,a)}let zb=void 0,z=void 0;
function Bb(){z===void 0&&(z=typeof WeakMap==="function"?Ab(WeakMap):null);return z}function Ab(a){try{return a.toString().indexOf("[native code]")!==-1?a:null}catch{return null}}let Jb=void 0;function Db(a){if(Jb===void 0){const b=new zb([],{});Jb=Array.prototype.concat.call([],b).length===1}Jb&&typeof Symbol==="function"&&Symbol.isConcatSpreadable&&(a[Symbol.isConcatSpreadable]=!0)}
var Ob=function(a,b,c){if(Bb()){if(Kb(a,b)){if(c)return}else if(Math.random()>.01)return;var d=a.length;c={length:d};for(var e=0;e<Math.min(d,10);e++){if(d<=10)var f=e;else{f=d/10;const g=Math.floor(e*f);f=g+Math.floor(Math.random()*(Math.floor((e+1)*f)-g))}c[f]=a[f]}Lb(a,c)?(d=Mb||(Mb=new z),e=d.get(b),e||(e=new z,d.set(b,e)),e.set(a,c)):(Fa(),Nb(a,b))}},Qb=function(a,b){const c=Kb(a,b);c&&!Lb(a,c)&&(Pb(),Nb(a,b))};
function Lb(a,b){if(a.length!==b.length)return!1;for(const e in b){var c=Number(e),d;if(d=Number.isInteger(c))d=a[c],c=b[c],d=!(Number.isNaN(d)?Number.isNaN(c):d===c);if(d)return!1}return!0}var Rb=function(a){var b;if(a&&(b=Mb)!=null&&b.has(a)&&(b=a.h))for(let c=0;c<b.length;c++){const d=b[c];if(c===b.length-1&&Ra(d))for(const e in d){const f=d[e];Array.isArray(f)&&Qb(f,a)}else Array.isArray(d)&&Qb(d,a)}};function Pb(){Fa()}let Mb=void 0;
function Kb(a,b){let c,d;return(c=Mb)==null?void 0:(d=c.get(b))==null?void 0:d.get(a)}var Nb=function(a,b){let c,d;(c=Mb)==null||(d=c.get(b))==null||d.delete(a)};let Sb;function Tb(a,b){Sb=b;a=new a(b);Sb=void 0;return a};function Ub(a,b){return Vb(b)}function Vb(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "bigint":return ib(a)?Number(a):String(a);case "boolean":return a?1:0;case "object":if(a)if(Array.isArray(a)){if(Ta(a))return}else{if(xa(a))return ta(a);if(a instanceof Ba){const b=a.ba;return b==null?"":typeof b==="string"?b:a.ba=ta(b)}}}return a};function Wb(a,b,c){a=Ia(a);var d=a.length;const e=b&256?a[d-1]:void 0;d+=e?-1:0;for(b=b&512?1:0;b<d;b++)a[b]=c(a[b]);if(e){b=a[b]={};for(const f in e)b[f]=c(e[f])}return a}function Xb(a,b,c,d,e){if(a!=null){if(Array.isArray(a))a=Ta(a)?void 0:e&&(a[r]|0)&2?a:Yb(a,b,c,d!==void 0,e);else if(Ra(a)){const f={};for(let g in a)f[g]=Xb(a[g],b,c,d,e);a=f}else a=b(a,d);return a}}
function Yb(a,b,c,d,e){const f=d||c?a[r]|0:0;d=d?!!(f&32):void 0;a=Ia(a);for(let g=0;g<a.length;g++)a[g]=Xb(a[g],b,c,d,e);c&&c(f,a);return a}function Zb(a){return a.pa===Na?a.toJSON():Vb(a)};function $b(a,b,c=Ma){if(a!=null){if(a instanceof Uint8Array)return b?a:new Uint8Array(a);if(Array.isArray(a)){var d=a[r]|0;if(d&2)return a;b&&(b=d===0||!!(d&32)&&!(d&64||!(d&16)));return b?(a[r]=(d|34)&-12293,a):Yb(a,$b,d&4?Ma:c,!0,!0)}a.pa===Na&&(c=a.h,d=c[r],a=d&2?a:ac(a,c,d,!0));return a}}function ac(a,b,c,d){Rb(a);return Tb(a.constructor,bc(b,c,d))}function bc(a,b,c){const d=c||b&2?Ma:La,e=!!(b&32);a=Wb(a,b,f=>$b(f,e,d));a[r]=a[r]|32|(c?2:0);return a}
function cc(a){const b=a.h,c=b[r];return c&2?ac(a,b,c,!1):a};var dc=function(a,b){a=a.h;return A(a,a[r],b)};function ec(a,b,c,d){b=d+(+!!(b&512)-1);if(!(b<0||b>=a.length||b>=c))return a[b]}var A=function(a,b,c,d){if(c===-1)return null;const e=b>>15&1023||536870912;if(c>=e){if(b&256)return a[a.length-1][c]}else{var f=a.length;if(d&&b&256&&(d=a[f-1][c],d!=null)){if(ec(a,b,e,c)&&Ja!=null){var g;a=(g=Ea)!=null?g:Ea={};g=a[Ja]||0;g>=4||(a[Ja]=g+1,Fa())}return d}return ec(a,b,e,c)}},fc=function(a,b,c){const d=a.h;let e=d[r];Wa(e);B(d,e,b,c);return a};
function B(a,b,c,d){const e=b>>15&1023||536870912;if(c>=e){let f,g=b;if(b&256)f=a[a.length-1];else{if(d==null)return g;f=a[e+(+!!(b&512)-1)]={};g|=256}f[c]=d;c<e&&(a[c+(+!!(b&512)-1)]=void 0);g!==b&&(a[r]=g);return g}a[c+(+!!(b&512)-1)]=d;b&256&&(a=a[a.length-1],c in a&&delete a[c]);return b}var E=function(a,b,c,d){c=C(a,d)===c?c:-1;return gc(a,b,c)!==void 0};function hc(a){return!!(2&a)&&!!(4&a)||!!(2048&a)}
function F(a,b,c,d){const e=a.h;let f=e[r];Wa(f);B(e,f,b,(d==="0"?Number(c)===0:c===d)?void 0:c);return a}var C=function(a,b){a=a.h;return ic(jc(a),a,a[r],b)};function jc(a){let b;return(b=a[Ka])!=null?b:a[Ka]=new Map}function ic(a,b,c,d){let e=a.get(d);if(e!=null)return e;e=0;for(let f=0;f<d.length;f++){const g=d[f];A(b,c,g)!=null&&(e!==0&&(c=B(b,c,e)),e=g)}a.set(d,e);return e}function gc(a,b,c,d){a=a.h;let e=a[r];d=A(a,e,c,d);b=yb(d,b,e);b!==d&&b!=null&&B(a,e,c,b);return b}
var kc=function(a,b,c){b=gc(a,b,c,!1);if(b==null)return b;a=a.h;let d=a[r];if(!(d&2)){const e=cc(b);e!==b&&(b=e,B(a,d,c,b))}return b},oc=function(a){var b=void 0===Xa?2:5,c=a.h[r],d=c,e=!(2&c);c=a.h;var f=!!(2&d);b=f?1:b;e&&(e=!f);f=A(c,d,1);f=Array.isArray(f)?f:Ua;var g=f[r]|0,h=f;Qb(h,a);b!==2&&b!==1||Nb(h,a);h=!!(4&g);if(!h){var k=g;k===0&&(k=lc(k,d));g=f;k|=1;var p=d,u=mc;const D=!!(2&k);D&&(p|=2);let sb=!D,tb=!0,Qa=0,ub=0;for(;Qa<g.length;Qa++){const vb=yb(g[Qa],u,p);if(vb instanceof u){if(!D){const Ic=
!!((vb.h[r]|0)&2);sb&&(sb=!Ic);tb&&(tb=Ic)}g[ub++]=vb}}ub<Qa&&(g.length=ub);k|=4;k=tb?k|16:k&-17;k=sb?k|8:k&-9;g[r]=k;D&&Object.freeze(g);g=k}if(e&&!(8&g||!f.length&&(b===1||b===4&&32&g))){hc(g)?(f=Ia(f),g=lc(g,d),d=B(c,d,1,f)):Nb(f,a);e=f;for(k=0;k<e.length;k++)p=e[k],u=cc(p),p!==u&&(e[k]=u);g|=8;g=e.length?g&-17:g|16;e[r]=g}let x;if(b===1||b===4&&32&g)hc(g)||(a=g,d=!!(32&g),g|=!f.length||16&g&&(!h||d)?2:2048,g!==a&&(f[r]=g),Object.freeze(f));else if(h=b!==5?!1:!!(32&g)||hc(g)||!!Cb(f),(b===2||h)&&
hc(g)&&(f=Ia(f),g=lc(g,d),g=nc(g,d,!1),f[r]=g,d=B(c,d,1,f)),hc(g)||(c=g,g=nc(g,d,!1),g!==c&&(f[r]=g)),h)x=Gb(f),Ob(f,a,!0);else if(b===2){let D;(D=Hb)==null||D.delete(f)}return x||f},pc=function(a,b,c){c==null&&(c=void 0);return fc(a,b,c)},G=function(a,b,c,d){d==null&&(d=void 0);a:{const g=a.h;var e=g[r];Wa(e);if(d==null){var f=jc(g);if(ic(f,g,e,c)===b)f.set(c,0);else break a}else{f=g;const h=jc(f),k=ic(h,f,e,c);k!==b&&(k&&(e=B(f,e,k)),h.set(c,b))}B(g,e,b,d)}return a},qc=function(a,b){const c=a.h;
let d=c[r];Wa(d);if(b==null)return B(c,d,1),a;var e=b,f;b=((f=Ib)==null?void 0:f.get(e))||e;f=e=b[r]|0;const g=!!(2&e)||!!(2048&e),h=g||Object.isFrozen(b);var k;if(k=!h)(k=void 0===Ya)||(k=!1);let p=!0,u=!0;for(let D=0;D<b.length;D++){var x=b[D];g||(x=!!((x.h[r]|0)&2),p&&(p=!x),u&&(u=x))}g||(e|=5,e=p?e|8:e&-9,e=u?e|16:e&-17);k||h&&e!==f?(b=Ia(b),f=0,e=lc(e,d),e=nc(e,d,!0)):h||Ob(b,a);e!==f&&(b[r]=e);B(c,d,1,b);return a};function lc(a,b){a=(2&b?a|2:a&-3)|32;return a&=-2049}
function nc(a,b,c){32&b&&c||(a&=-33);return a}function rc(a,b){return a!=null?a:b}var sc=function(a){a=dc(a,1);a!=null&&(typeof a==="bigint"?ib(a)?a=Number(a):(a=BigInt.asIntN(64,a),a=ib(a)?Number(a):String(a)):a=qb(a)?typeof a==="number"?xb(a):wb(a):void 0);return rc(a,0)},H=function(a,b){a=dc(a,b);return rc(a==null||typeof a==="string"?a:void 0,"")},I=function(a,b){a=dc(a,b);a=a==null?a:Number.isFinite(a)?a|0:void 0;return rc(a,0)},J=function(a,b,c,d){c=C(a,d)===c?c:-1;return kc(a,b,c)};let tc;
var vc=function(a){try{return tc=!0,JSON.stringify(uc(a),Ub)}finally{tc=!1}},K=class{constructor(a){a:{a==null&&(a=Sb);Sb=void 0;if(a==null){var b=96;a=[]}else{if(!Array.isArray(a))throw Error("narr");b=a[r]|0;if(b&2048)throw Error("farr");if(b&64)break a;var c=a;b|=64;var d=c.length;if(d&&(--d,Ra(c[d]))){b|=256;c=d-(+!!(b&512)-1);if(c>=1024)throw Error("pvtlmt");b=b&-33521665|(c&1023)<<15}}a[r]=b}this.h=a}toJSON(){return uc(this)}getExtension(a){const b=a.D?a.Ya?a.M(this,a.D,a.F,void 0===Xa?2:4,
!0):a.M(this,a.D,a.F,!0):a.Ya?a.M(this,a.F,void 0===Xa?2:4,!0):a.M(this,a.F,a.defaultValue,!0);return a.qb&&b==null?a.defaultValue:b}hasExtension(a){a.D?a=gc(this,a.D,a.F,!0)!==void 0:(a=a.D?a.M(this,a.D,a.F,!0):a.M(this,a.F,null,!0),a=(a===null?void 0:a)!==void 0);return a}clone(){const a=this.h;return ac(this,a,a[r],!1)}};K.prototype.pa=Na;K.prototype.toString=function(){try{return tc=!0,uc(this).toString()}finally{tc=!1}};
function uc(a){Rb(a);a=tc?a.h:Yb(a.h,Zb,void 0,void 0,!1);{var b=!tc;let p=a.length;if(p){var c=a[p-1],d=Ra(c);d?p--:c=void 0;var e=a;if(d){b:{var f=c;var g;var h=!1;if(f)for(let u in f)if(isNaN(+u)){let x;((x=g)!=null?x:g={})[u]=f[u]}else if(d=f[u],Array.isArray(d)&&(Ta(d)||Pa(d)&&d.size===0)&&(d=null),d==null&&(h=!0),d!=null){let x;((x=g)!=null?x:g={})[u]=d}h||(g=f);if(g)for(let u in g){h=g;break b}h=null}f=h==null?c!=null:h!==c}for(;p>0;p--){g=e[p-1];if(!(g==null||Ta(g)||Pa(g)&&g.size===0))break;
var k=!0}if(e!==a||f||k){if(!b)e=Array.prototype.slice.call(e,0,p);else if(k||f||h)e.length=p;h&&e.push(h)}k=e}else k=a}return k};function wc(a){return b=>{if(b==null||b=="")b=new a;else{b=JSON.parse(b);if(!Array.isArray(b))throw Error("dnarr");b[r]|=32;b=Tb(a,b)}return b}};var xc=function(a){return b=>{b=JSON.parse(b);if(!Array.isArray(b)){var c=typeof b;throw Error("Expected jspb data to be an array, got "+(c!="object"?c:b?Array.isArray(b)?"array":c:"null")+": "+b);}b[r]|=34;return new a(b)}}(class extends K{});var yc=class extends K{setSeconds(a){return F(this,1,a==null?a:rb(a),"0")}};var Ac=class extends K{za(){return C(this,zc)}},zc=[2,3];var Bc=class extends K{};var L=class extends Error{constructor({errorType:a,message:b,g:c}){super(`Meet Add-on SDK error: ${`${b}${c?` - ${c}`:""}`}`);this.errorType=a}},M={errorType:"InternalError",message:"An unexpected error has occurred.",g:"No further information is available."},Cc={errorType:"MissingUrlParameter",message:"Missing required Meet SDK URL parameter",g:"This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not strip URL parameters (e.g. as part of a redirect)."},
Dc={errorType:"NeedsMainStageContext",message:"This method can only be invoked if the addon is running in the main stage.",g:"Use getFrameType to check whether the addon is running in the main stage before invoking this method."},Ec={errorType:"NeedsSidePanelContext",message:"This method can only be invoked if the addon is running in the side panel.",g:"Use getFrameType to check whether the addon is running in the side panel before invoking this method."},Fc={errorType:"NotSupportedInStandalone",
message:"This method is not supported in standalone mode.",g:"Do not call this method in standalone mode."},Gc={errorType:"InternalError",message:"The frame type URL parameter is set to an unexpected value.",g:"This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not modify URL parameters (e.g. as part of a redirect)."},Hc={errorType:"InvalidCloudProjectNumber",message:"Cloud Project Number provided by meet does not match the one passed in by the SDK. Ensure that the correct Cloud Project Number is passed to the SDK as a string.",
g:"This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not modify URL parameters (e.g. as part of a redirect) and ensure that the correct Cloud Project Number was passed into the SDK as a string."},Jc={errorType:"DestinationNotReady",message:"The recipient frame is not connected via the addon SDK and cannot receive the notification.",g:"Make sure the destination frame has connected before sending messages to it."},Kc={errorType:"InvalidActivityStartingState",
message:"Origin of the ActivityStartingState iframeURLs does not match the origin of the URLs provided in the Add-on manifest.",g:"Ensure that the ActivityStartingState iframeURL origins match the origins of the URLs provided in the Add-on manifest."},Lc={errorType:"ActivityStartingStateMissingAttributes",message:"The supplied ActivityStartingState object does not contain any recognized attributes.",g:"Ensure that the ActivityStartingState object contains at least one of the following attributes: mainStageUrl, sidePanelUrl, additionalData."},
Mc={errorType:"ActivityStartingStateUnrecognizedAttributes",message:"The supplied ActivityStartingState object contains attributes that are not recognized.",g:"Ensure that the ActivityStartingState object has only the following attributes: mainStageUrl, sidePanelUrl, additionalData."},Nc={errorType:"AddonStartingStateMissingAttributes",message:"The supplied AddonStartingState object does not contain any recognized attributes.",g:"Ensure that the AddonStartingState object contains at least one of the following attributes: sidePanelUrl, additionalData."},
Oc={errorType:"AddonStartingStateUnrecognizedAttributes",message:"The supplied AddonStartingState object contains attributes that are not recognized.",g:"Ensure that the AddonStartingState object has only the following attributes: sidePanelUrl, additionalData."},Pc=a=>({errorType:"ArgumentNullError",message:`The argument supplied for '${a}' was 'null' but a value was expected.`,g:"Ensure you are passing a value of the expected type for the argument."}),N=(a,b,c)=>({errorType:"ArgumentTypeError",message:`The type '${b}' of argument supplied for '${a}' did not match the expected type '${c}'.`,
g:"Ensure the type of the argument provided matches the expected type."}),Qc=a=>({errorType:"InternalError",message:`Could not connect to ${a} channel. Unknown error`,g:"No further information is available."}),Rc={errorType:"ActivityIsOngoing",message:"Operation cannot be performed while an activity is ongoing.",g:"Ensure that no activity is ongoing."},Sc={errorType:"InternalError",message:"Frame message missing required Meet SDK command.",g:"Send one of the available commands in the frame message."},
Tc={errorType:"NoActivityFound",message:"No activity found.",g:"Ensure that the activity is started before performing this operation."},Uc={errorType:"RequiresEapEnrollment",message:"This feature is only available to early access partners.",g:"Meet add-on early access enrollment is currently closed."},Vc={errorType:"UserNotInitiator",message:"Operation cannot be performed because the user is not the initiator of the current activity.",g:"Ensure that the user is the initiator of the current activity or that the activity has ended."},
Wc={errorType:"SizeLimitExceededActivityStartingState",message:"The size of the activityStartingState URLs and/or its data exceed the limits allowed.",g:"Ensure that the activityStartingState URL size is less than 512 characters and the additional data size is less than 4096 characters."},Xc={errorType:"SizeLimitExceededFrameToFrameMessage",message:"The size of the frame to frame message exceeds the limits allowed.",g:"Ensure that the frame to frame message size is less than 1,000,000 characters."},
Yc={errorType:"AddonSessionAlreadyCreated",message:"The addon session has already been created.",g:"Only instantiate the AddonSession once."},Zc={errorType:"UserCancelled",message:"The user cancelled starting an activity.",g:"The user needs to click continue to start the activity."},$c={errorType:"NotSupportedInMeetCall",message:"This method is not supported during a Meet call.",g:"Do not call this method during a Meet call."},ad={errorType:"InvalidAddonStartingState",message:"Origin of the AddonStartingState iframeURLs does not match the origin of the URLs provided in the Add-on manifest.",
g:"Ensure that the AddonStartingState iframeURL origins match the origins of the URLs provided in the Add-on manifest."},bd={errorType:"SizeLimitExceededAddonStartingState",message:"The size of the AddonStartingState URLs and/or its data exceed the limits allowed.",g:"Ensure that the AddonStartingState URL size is less than 512 characters and the additional data size is less than 4096 characters."};
function cd(a){switch(a){case 0:return M;case 1:return Jc;case 2:return Kc;case 3:return Rc;case 4:return Sc;case 5:return Uc;case 6:return Fc;case 7:return Vc;case 8:return Wc;case 9:return Xc;case 10:return Zc;case 11:return $c;case 12:return ad;case 13:return bd;case 14:return Tc;default:return M}}
function dd(a){let b;var c=(b=I(a,1))!=null?b:0;a=ed(a.za());switch(c){case 1:return{errorType:"InternalError",message:`Could not connect to ${a} channel. Meet did not respond with a MessagePort.`,g:"No further information is available."};case 2:return{errorType:"InternalError",message:`Could not connect to ${a}. A conflicting ${a} exists.`,g:"No further information is available."};case 3:return{errorType:"InternalError",message:`Could not connect to ${a} channel. The addon does not have permission to open a ${a}.`,
g:"This method might require EAP enrollment."};case 4:return{errorType:"InternalError",message:`Could not connect to ${a} channel. The addon is not authorized for this ${a}.`,g:"No further information is available."};case 0:return Qc(a);case 5:a:switch(a){case "co":c={errorType:"InternalError",message:`Could not connect to ${a} channel. The coActivity was not found.`,g:`Consider starting the ${a} only after after the startActivity promise returns.`};break a;default:c={errorType:"InternalError",message:`Could not connect to ${a} channel.`,
g:"No further information is available."}}return c;default:return Qc(a)}}function ed(a){switch(a){case 2:return"co";case 3:return"gd";case 0:return"unknown";default:return"unknown"}}function fd({errorType:a,message:b,g:c},d=""){throw new L({errorType:a,message:d?`${b} ${d}`:b,g:c});}function gd(a,b){fd({...Cc,message:`${Cc.message}: ${a}. In URL ${b}`})};var hd=function(a){var b=new mc;return F(b,1,w(a),0)},id=function(a,b){return F(a,2,y(b),"")},jd=function(a,b){return F(a,3,y(b),"")},mc=class extends K{getFrameType(){return I(this,1)}};var kd=class extends K{ia(){return oc(this)}X(a){return qc(this,a)}};var ld=class extends K{constructor(){super()}};var nd=function(a){var b=new md;return F(b,1,w(a),0)},md=class extends K{constructor(){super()}};var od=class extends K{Ka(a){return F(this,2,y(a),"")}};var pd=class extends K{};var qd=class extends K{};var sd=class extends K{S(){return C(this,rd)}la(){return J(this,kd,2,rd)}aa(a){return G(this,2,rd,a)}getMeetingInfo(){return J(this,qd,3,rd)}getMeetPlatformInfo(){return J(this,pd,4,rd)}},rd=[2,3,4,5];var ud=class extends K{Aa(){return C(this,td)}},td=[1,4,5,6,7,8,9,10,11,12,13,14,15,16,17];var vd=class extends K{constructor(){super()}la(){return kc(this,kd,1)}aa(a){return pc(this,1,a)}};var wd=class extends K{constructor(){super()}la(){return kc(this,kd,1)}aa(a){return pc(this,1,a)}};var xd=new Map([[2,"MAIN_STAGE"],[1,"SIDE_PANEL"]]),yd=new Map([[0,"UNKNOWN"],[1,"OPEN_ADDON"],[2,"START_ACTIVITY"],[3,"JOIN_ACTIVITY"]]);function zd(a){a&&typeof a.dispose=="function"&&a.dispose()};var O=function(){this.o=this.o;this.A=this.A};O.prototype.o=!1;O.prototype.dispose=function(){this.o||(this.o=!0,this.fa())};O.prototype[Symbol.dispose]=function(){this.dispose()};var Ad=function(a,b){a.o?b():(a.A||(a.A=[]),a.A.push(b))};O.prototype.fa=function(){if(this.A)for(;this.A.length;)this.A.shift()()};var Bd=function({ta:a,Ga:b}){if(a===null)throw new L(Pc("activityStartingState"));if(b||a!==void 0){if(typeof a!=="object")throw new L(N("activityStartingState",typeof a,`object${b?"":" | undefined"}`));if(a.mainStageUrl!==void 0&&typeof a.mainStageUrl!=="string")throw new L(N("mainStageUrl",typeof a.mainStageUrl,"string | undefined"));if(a.sidePanelUrl!==void 0&&typeof a.sidePanelUrl!=="string")throw new L(N("sidePanelUrl",typeof a.sidePanelUrl,"string | undefined"));if(a.additionalData!==void 0&&
typeof a.additionalData!=="string")throw new L(N("additionalData",typeof a.additionalData,"string | undefined"));if(Object.keys(a).length!==+!!a.mainStageUrl+ +!!a.sidePanelUrl+ +!!a.additionalData)throw new L(Mc);if(Object.keys(a).length===0)throw new L(Lc);}},Cd=function(a){const b=[];b.push(jd(id(hd(2),a.mainStageUrl),a.additionalData));b.push(jd(id(hd(1),a.sidePanelUrl),a.additionalData));return b},Kd=class extends O{constructor(a){super();this.context=a;this.Ea={};Dd(this.context.i.gb,b=>{switch(b.content.Aa()){case 7:const d=
this.Ea.frameToFrameMessage;b=J(b.content,od,7,td);if(d&&b){var c=I(b,1);c=xd.get(c);if(c===void 0)throw Error("Unknown frame type.");d({originator:c,payload:H(b,2)})}break;case 16:Ed(this.context.i)}})}async getMeetingInfo(){const a=await Fd(this.context.i,nd(2));return{meetingId:H(a.getMeetingInfo(),1),meetingCode:H(a.getMeetingInfo(),2)}}async getFrameOpenReason(){let a;const b=(a=this.context.P.Va)!=null?a:0;let c;return(c=yd.get(b))!=null?c:"UNKNOWN"}async getActivityStartingState(){var a=(await Fd(this.context.i,
nd(1))).la();const b=a==null?void 0:a.ia().find(c=>c.getFrameType()===2);a=a==null?void 0:a.ia().find(c=>c.getFrameType()===1);return{mainStageUrl:(b==null?void 0:H(b,2))||void 0,sidePanelUrl:(a==null?void 0:H(a,2))||void 0,additionalData:(a==null?void 0:H(a,3))||void 0}}async setActivityStartingState(a){Bd({ta:a,Ga:!0});a=Cd(a);await Gd(this.context.i,(new vd).aa((new kd).X(a)))}on(a,b){this.Ea[a]=b}async getMeetPlatformInfo(){const a=await Fd(this.context.i,nd(3));return{isMeetHardware:rc(ob(dc(a.getMeetPlatformInfo(),
1)),!1)}}async closeAddon(){await Hd(this.context.i)}async startActivity(a){Bd({ta:a,Ga:!1});const b=new wd;a&&(a=Cd(a),b.aa((new kd).X(a)));await Id(this.context.i,b)}async endActivity(a){var b=Jd,c=this.context.i,d=new ld;a=F(d,1,w(a==="aab61ee0-51b4-475d-aa4d-849f2498640d"?999:0),0);await b(c,a)}};var Ld=wc(class extends K{getFrameOpenReason(){return I(this,5)}});function Md(){var a=window.location.href;var b=window.location.href;var c=(new URL(b)).searchParams.get("meet_sdk");c?b=Ld(atob(c)):(gd("meet_sdk",b),b=void 0);(c=H(b,1))||gd("meet_addon_frame_type",a);c=Number(c);if(c!==2&&c!==1)throw new L(Gc);const d=H(b,2);d||gd("meet_control_channel_name",a);const e=H(b,4);e||gd("addon_cloud_project_number",a);var f;a=(f=b.getFrameOpenReason())!=null?f:0;f=H(b,3)||"https://meet.google.com";return{Va:a,frameType:c,Ra:d,cloudProjectNumber:e,Ha:f}};var Nd=class extends K{constructor(){super()}};var Od=class extends K{constructor(){super()}};var Rd=function(){var a=new Pd,b=new Od;return G(a,1,Qd,b)},Pd=class extends K{constructor(){super()}za(){return C(this,Qd)}},Qd=[1,2];var Sd=class extends K{constructor(){super()}};var Td=class extends K{constructor(){super()}};var Ud=class extends K{constructor(){super()}Ka(a){return F(this,2,y(a),"")}};var Vd=class extends K{constructor(){super()}};var Wd=class extends K{constructor(){super()}ia(){return oc(this)}X(a){return qc(this,a)}};var Xd=class extends K{constructor(){super()}setAddonStartingState(a){return pc(this,1,a)}};var Yd=class extends K{constructor(){super()}};var Q=class extends K{constructor(){super()}Aa(){return C(this,P)}},P=[1,2,5,6,7,8,9,10,11,13,14,15,16];var Zd=class extends K{},$d=wc(Zd),ae=[1,2];class be{constructor(a,b){this.data=a;this.channel=b}};var ce=Promise;var ee=function(a){const b=new MessageChannel;de(b.port1,a);return b},ge=function(a,b){de(a,b);return new fe(a)};class fe{constructor(a){this.ib=a}send(a,b,c=[]){b=ee(b);this.ib.postMessage(a,[b.port2].concat(c))}O(a,b){return new ce(c=>{this.send(a,c,b)})}}const de=function(a,b){b&&(a.onmessage=c=>{var d=c.data;c=ge(c.ports[0]);b(new be(d,c))})};class he{constructor(a,b){this.ab=100;this.Sa=a;this.lb=b;this.W=0;this.V=null}get(){let a;this.W>0?(this.W--,a=this.V,this.V=a.next,a.next=null):a=this.Sa();return a}put(a){this.lb(a);this.W<this.ab&&(this.W++,a.next=this.V,this.V=a)}};class ie{constructor(){this.ca=this.J=null}add(a,b){const c=je.get();c.set(a,b);this.ca?this.ca.next=c:this.J=c;this.ca=c}remove(){let a=null;this.J&&(a=this.J,this.J=this.J.next,this.J||(this.ca=null),a.next=null);return a}}var je=new he(()=>new ke,a=>a.reset());class ke{constructor(){this.next=this.scope=this.ha=null}set(a,b){this.ha=a;this.scope=b;this.next=null}reset(){this.next=this.scope=this.ha=null}};let le,me=!1,ne=new ie,pe=(a,b)=>{le||oe();me||(le(),me=!0);ne.add(a,b)},oe=()=>{const a=l.Promise.resolve(void 0);le=()=>{a.then(qe)}};function qe(){let a;for(;a=ne.remove();){try{a.ha.call(a.scope)}catch(b){m(b)}je.put(a)}me=!1};var re=function(){};var R=function(a){this.l=0;this.Ia=void 0;this.C=this.u=this.B=null;this.T=this.ga=!1;if(a!=re)try{var b=this;a.call(void 0,function(c){se(b,2,c)},function(c){se(b,3,c)})}catch(c){se(this,3,c)}},te=function(){this.next=this.context=this.H=this.N=this.v=null;this.L=!1};te.prototype.reset=function(){this.context=this.H=this.N=this.v=null;this.L=!1};
var ue=new he(function(){return new te},function(a){a.reset()}),ve=function(a,b,c){var d=ue.get();d.N=a;d.H=b;d.context=c;return d},xe=function(){var a,b,c=new R(function(d,e){a=d;b=e});return new we(c,a,b)};R.prototype.then=function(a,b,c){return ye(this,typeof a==="function"?a:null,typeof b==="function"?b:null,c)};R.prototype.$goog_Thenable=!0;var Ae=function(a,b){b=ve(b,b);b.L=!0;ze(a,b)};R.prototype.mb=function(a,b){return ye(this,null,a,b)};R.prototype.catch=R.prototype.mb;
R.prototype.cancel=function(a){if(this.l==0){var b=new S(a);pe(function(){Be(this,b)},this)}};
var Be=function(a,b){if(a.l==0)if(a.B){var c=a.B;if(c.u){for(var d=0,e=null,f=null,g=c.u;g&&(g.L||(d++,g.v==a&&(e=g),!(e&&d>1)));g=g.next)e||(f=g);e&&(c.l==0&&d==1?Be(c,b):(f?(d=f,d.next==c.C&&(c.C=d),d.next=d.next.next):Ce(c),De(c,e,3,b)))}a.B=null}else se(a,3,b)},ze=function(a,b){a.u||a.l!=2&&a.l!=3||Ee(a);a.C?a.C.next=b:a.u=b;a.C=b},ye=function(a,b,c,d){var e=ve(null,null,null);e.v=new R(function(f,g){e.N=b?function(h){try{var k=b.call(d,h);f(k)}catch(p){g(p)}}:f;e.H=c?function(h){try{var k=c.call(d,
h);k===void 0&&h instanceof S?g(h):f(k)}catch(p){g(p)}}:g});e.v.B=a;ze(a,e);return e.v};R.prototype.nb=function(a){this.l=0;se(this,2,a)};R.prototype.ob=function(a){this.l=0;se(this,3,a)};
var se=function(a,b,c){if(a.l==0){a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself"));a.l=1;a:{var d=c,e=a.nb,f=a.ob;if(d instanceof R){ze(d,ve(e||re,f||null,a));var g=!0}else{if(d)try{var h=!!d.$goog_Thenable}catch(p){h=!1}else h=!1;if(h)d.then(e,f,a),g=!0;else{h=typeof d;if(h=="object"&&d!=null||h=="function")try{var k=d.then;if(typeof k==="function"){Fe(d,k,e,f,a);g=!0;break a}}catch(p){f.call(a,p);g=!0;break a}g=!1}}}g||(a.Ia=c,a.l=b,a.B=null,Ee(a),b!=3||c instanceof S||Ge(a,c))}},
Fe=function(a,b,c,d,e){var f=!1,g=function(k){f||(f=!0,c.call(e,k))},h=function(k){f||(f=!0,d.call(e,k))};try{b.call(a,g,h)}catch(k){h(k)}},Ee=function(a){a.ga||(a.ga=!0,pe(a.Ua,a))},Ce=function(a){var b=null;a.u&&(b=a.u,a.u=b.next,b.next=null);a.u||(a.C=null);return b};R.prototype.Ua=function(){for(var a;a=Ce(this);)De(this,a,this.l,this.Ia);this.ga=!1};
var De=function(a,b,c,d){if(c==3&&b.H&&!b.L)for(;a&&a.T;a=a.B)a.T=!1;if(b.v)b.v.B=null,He(b,c,d);else try{b.L?b.N.call(b.context):He(b,c,d)}catch(e){Ie.call(null,e)}ue.put(b)},He=function(a,b,c){b==2?a.N.call(a.context,c):a.H&&a.H.call(a.context,c)},Ge=function(a,b){a.T=!0;pe(function(){a.T&&Ie.call(null,b)})},Ie=m,S=function(a){ha.call(this,a)};fa(S,ha);S.prototype.name="cancel";var we=function(a,b,c){this.promise=a;this.resolve=b;this.reject=c};let Je=1,Ke=new WeakMap;
var Me=function(a,b,c){var d=Le;a.Na.has(b);d(b,c)},Oe=class extends O{constructor(){super();this.Na=new Set}signal(){const a=new Ne;this.Na.add(a);Ad(this,ea(zd,a));return a}},Le=function(a,b){return new Promise(c=>{Pe(()=>{a.va&&(a.Za=b,a.Da=!0);for(const {sa:d,slot:e}of a.j.values())try{e(b,{signal:a,sa:d})}catch(f){m(f)}for(const d of a.I)d.resolve(b);a.I.clear();c()})})},Dd=function(a,b,c){const d=Je++;Pe(()=>{Qe(a,d,b,c)});return d},Qe=function(a,b,c,d){if(!a.o)if(d){if(!d.o){const e=()=>{Pe(()=>
{a.j.delete(b);const f=Ke.get(d);f&&sa(f,e)})};a.j.set(b,{sa:b,slot:c,ea:e});Re(d,e)}}else a.j.set(b,{sa:b,slot:c,ea:()=>a.j.delete(b)})},Ne=class extends O{constructor(){super();this.va=!1;this.j=new Map;this.I=new Set;this.Da=!1}detach(a){Pe(()=>{const b=this.j.get(a);b&&b.ea()})}value(a){return this.promise(!0,a)}next(a){return this.promise(!1,a)}promise(a,b){const c=xe();Pe(()=>{if(this.o)c.reject(new S("Signal initially disposed"));else if(b&&b.o)c.reject(new S("Owner initially disposed"));else if(a&&
this.va&&this.Da)c.resolve(this.Za);else if(this.I.add(c),Ae(c.promise,()=>{this.I.delete(c)}),b){const d=()=>{c.reject(new S("Owner asynchronously disposed"))};Ae(c.promise,()=>{const e=Ke.get(b);e&&sa(e,d)});Re(b,d)}});return c.promise}fa(){super.fa();Pe(()=>{for(const {ea:a}of this.j.values())a();this.j.clear();for(const a of this.I)a.reject(new S("Signal asynchronously disposed"));this.I.clear()})}};const Se=[];let Te=!1;function Pe(a){Se.push(a);Ue()}
async function Ue(){if(!Te)try{Te=!0;let a=Ve(0);for(;a<Se.length;)await Promise.resolve(),a=Ve(a)}catch(a){m(a)}finally{Se.length=0,Te=!1}}function Ve(a){const b=a+100;for(;a<b&&a<Se.length;)try{Se[a++]()}catch(c){m(c)}return a}function Re(a,b){if(a.o)b();else{var c=Ke.get(a);if(c)c.push(b);else{const d=[b];Ke.set(a,d);Ad(a,()=>{for(const e of[...d])e();Ke.delete(a)})}}};function T(a){var b=new Zd;a=G(b,1,ae,a);return{content:vc(a)}}const We=new Oe;function Xe(a,b){const c=We.signal();return{channel:ge(a,d=>{const e=b(d.data);Me(We,c,{content:e,kb:d})}),signal:c}};let Ye;var U=class extends K{getState(){const a=this.h;let b=a[r];const c=A(a,b,1),d=Sa(c,!0,!!(b&34));d!=null&&d!==c&&B(a,b,1,d);return d==null?Ca():d}};var V=class extends K{};var $e=class extends K{ja(){return J(this,U,2,Ze)}Y(a){G(this,2,Ze,a)}U(){return E(this,U,2,Ze)}ka(){return J(this,V,3,Ze)}Z(a){G(this,3,Ze,a)}ma(){return E(this,V,3,Ze)}},Ze=[2,3];var af=wc(class extends K{});var cf=wc(class extends K{S(){return C(this,bf)}}),bf=[1,2];var df=({destination:a,origin:b,ub:c,Oa:d="ZNWN1d",onMessage:e})=>{if(b==="*")throw Error("Sending to wildcard origin not allowed.");const f=ee(e);a.postMessage(c?{n:d,t:c}:d,b,[f.port2]);return ge(f.port1,e)};function ef(a,b,c){const d=new Oe,e=d.signal();a=df({destination:window.parent,origin:b,Oa:a,onMessage:f=>{const g=$d(f.data.content);C(g,ae)===2&&Me(d,e,{content:J(g,ud,2,ae),kb:f,messagePort:f.data.messagePort})}});return new ff(e,a,c)}
var Ed=async function(a){a=a.channel;var b=a.O;var c=new Q;var d=new Vd;c=G(c,13,P,d);await b.call(a,T(c))},Fd=async function(a,b){var c=W,d=new Q;b=G(d,9,P,b);a=await c(a,T(b));let e;return(e=J($d(a.data.content),ud,2,ae))==null?void 0:J(e,sd,9,td)},Gd=async function(a,b){var c=W,d=new Q;b=G(d,8,P,b);await c(a,T(b))},Hd=async function(a){var b=W;var c=new Q;var d=new Nd;c=G(c,11,P,d);await b(a,T(c))},Id=async function(a,b){var c=W,d=new Q;b=G(d,14,P,b);await c(a,T(b))},Jd=async function(a,b){var c=
W,d=new Q;b=G(d,15,P,b);await c(a,T(b))},gf=async function(a){setInterval(async()=>{await Ed(a)},1E3)},W=async function(a,b){(a=await a.channel.O(b))||fd(M,"Falsy response received from the message channel."+` ${JSON.stringify(a)}`);(b=a.data)||fd(M,"Data field in the response from the message channel is falsy."+` ${JSON.stringify(b)}`);(b=b.content)||fd(M,"Content field in the response from the message channel is falsy."+` ${JSON.stringify(b)}`);let c=void 0;try{c=$d(b)}catch(d){fd(M,"The ControlMessage can't be deserialized."+
` ${JSON.stringify(b)}. ${JSON.stringify(d)}`)}(b=J(c,ud,2,ae))||fd(M,"MeetToAddonMessage field on ControlMessage is falsy."+` ${JSON.stringify(b)}`);b=b==null?void 0:J(b,Bc,10,td);if((b==null?void 0:I(b,1))!==void 0)throw new L(cd(I(b,1)));return a},hf=async function(a,b,c){var d=W,e=new Q;b=G(e,1,P,b);d=await d(a,T(b));a=d.data.messagePort;var f;(d=(f=J($d(d.data.content),ud,2,ae))==null?void 0:J(f,Ac,1,td))!=null?f=d:(f=new Ac,f=F(f,1,w(0),0));return{channel:a?Xe(a,c):void 0,response:f}},jf=async function(a){const b=
Rd(),{channel:c,response:d}=await hf(a,b,e=>cf(e));if(!c)throw new L(dd(d));return c},kf=async function(a){var b=W;var c=new Q;var d=new Yd;c=G(c,5,P,d);await b(a,T(c))},lf=async function(a){var b=W;var c=new Q;var d=new Td;c=G(c,6,P,d);await b(a,T(c))},mf=async function(a,b,c){var d=W,e=new Q,f=new Ud;b=F(f,1,w(b),0).Ka(c);e=G(e,7,P,b);await d(a,T(e))},nf=async function(a,b){var c=W,d=new Q;b=G(d,16,P,b);await c(a,T(b))};
class ff extends O{constructor(a,b,c){super();this.gb=a;this.channel=b;a=Ye||(Ye=xc("[1,1,0]"));a=cc(a);a=fc(a,4,y("dev-683175917"));b=a.h;var d=b[r];b=d&2?a:ac(a,b,d,!0);a=new Q;d=new Sd;b=pc(d,2,b);c=F(b,3,y(c),"");c=G(a,2,P,c);this.channel.send(T(c));gf(this)}};let of;var pf=class{constructor(a){var b=of;this.P=a;this.i=b}delete(){throw Error("Not implemented.");}};var rf=class extends K{constructor(){super()}ra(a){return F(this,1,a==null?a:rb(a),"0")}ja(){return J(this,U,2,qf)}Y(a){G(this,2,qf,a)}U(){return E(this,U,2,qf)}ka(){return J(this,V,3,qf)}Z(a){G(this,3,qf,a)}ma(){return E(this,V,3,qf)}},qf=[2,3];var sf=class extends K{constructor(){super()}};var tf=class extends K{constructor(){super()}};var uf=class extends K{constructor(){super()}qa(a){return fc(this,4,y(a))}};var wf=class extends K{constructor(){super()}ra(a){return F(this,1,a==null?a:rb(a),"0")}ja(){return J(this,U,2,vf)}Y(a){G(this,2,vf,a)}U(){return E(this,U,2,vf)}ka(){return J(this,V,3,vf)}Z(a){G(this,3,vf,a)}ma(){return E(this,V,3,vf)}},vf=[2,3],xf=[5,6];var yf=class extends K{constructor(){super()}qa(a){return F(this,1,y(a),"")}};var Af=class extends K{constructor(){super()}S(){return C(this,zf)}},zf=[1,2,3];function Bf(a){var b=new Cf;let c=0,d;return(...e)=>{if(Df(b)){Ef(b);var f=!0}else f=!1;f?a(...e):(d=()=>void a(...e),c||(c=setTimeout(()=>{c=0;let g;(g=d)==null||g()},Ff(b))))}};var Ff=function(a){const b=a.xa;let c;a=Date.now()-((c=a.na[a.index])!=null?c:0);return a>=b?0:b-a},Df=function(a){const b=a.xa;let c;return Date.now()-((c=a.na[a.index])!=null?c:0)>=b},Ef=function(a){a.na[a.index]=Date.now();a.index=(a.index+1)%a.bb},Cf=class{constructor(){this.bb=1;this.xa=500;this.na=[];this.index=0}};var Gf=class extends Error{constructor(){super("Failed to create CoActivity: Connection refused - Meet refused to begin Live Sharing")}};var Hf=class{constructor(a){this.config=a}start(){this.Fa!=null||(this.Fa=setInterval(()=>{this.config.fb()},this.config.Xa));return this}shutdown(){clearInterval(this.Fa)}};function If(){const a=new Map,b={set(c,d){a.set(c,d);return b},da:()=>a};return b};function Jf(a){if(a.U()){var b=a.ja().getState();a=Uint8Array;Aa(ya);var c=b.ba;if(c!=null&&!xa(c))if(typeof c==="string"){ua.test(c)&&(c=c.replace(ua,wa));c=atob(c);const d=new Uint8Array(c.length);for(let e=0;e<c.length;e++)d[e]=c.charCodeAt(e);c=d}else c=null;b=c==null?c:b.ba=c;return{bytes:new a(b||0)}}}function Kf(a,b){a.Y(Lf(b));return a}function Mf(a,b){a.Y(Lf(b));return a}function Lf(a){var b=new U;return F(b,1,Sa(a.bytes,!1,!1),Ca())}
function Nf(a){if(a.ma()){a=a.ka();var b,c,d=H(a,1),e=(c=(b=kc(a,yc,2))==null?void 0:sc(b))!=null?c:0;c=a.h;let f=c[r];const g=A(c,f,4);b=g==null||typeof g==="number"?g:g==="NaN"||g==="Infinity"||g==="-Infinity"?Number(g):void 0;b!=null&&b!==g&&B(c,f,4,b);return{mediaId:d,mediaPlayoutPosition:e,mediaPlayoutRate:rc(b,0),playbackState:Of.get(I(a,3))}}}function Pf(a,b){a.Z(Qf(b));return a}function Rf(a,b){a.Z(Qf(b));return a}
const Of=If().set(0,"INVALID").set(1,"BUFFERING").set(2,"PLAY").set(3,"PAUSE").set(4,"ENDED").da(),Sf=If().set("INVALID",0).set("BUFFERING",1).set("PLAY",2).set("PAUSE",3).set("ENDED",4).da();
function Qf(a){var b=new V;b=F(b,1,y(a.mediaId),"");var c=a.mediaPlayoutRate;if(c!=null&&typeof c!=="number")throw Error(`Value of float/double field must be a number, found ${typeof c}: ${c}`);b=F(b,4,c,0);c=(new yc).setSeconds(a.mediaPlayoutPosition);b=pc(b,2,c);a=Sf.get(a.playbackState);return F(b,3,w(a),0)}function Tf({activityTitle:a}){return(new uf).qa(a)}function Uf(a,b){var c=new tf;b=F(c,1,w(b.G),0);G(a,6,xf,b);return a}function Vf(a){var b=new sf;G(a,5,xf,b);return a};const Wf=If().set("co-doing",1).set("co-watching",2).da();async function Xf(a,b,c){var d=b.O,e=new Af;var f=(new yf).qa(a.activityTitle);var g=Wf.get(a.ua);f=F(f,2,w(g),0);e=G(e,3,zf,f);d=await d.call(b,e,af);let h;if((h=rc(ob(dc(d,1)),!1))!=null&&h)return new Yf(a,b,c,kc(d,$e,2));throw new Gf;}var Zf=function(a,b){const c=a.config.Ba(b);c&&!a.config.ya(a.s,c)&&(a.s=c,a.oa=sc(b),a.Ta(a.s))},X=function(a,b){const {state:c,cb:d,context:e}=b(a.s);a.s=c;a.notify(a.s,e,d)};
class Yf{constructor(a,b,c,d){this.wa=a;this.R=b;this.config=c;this.Ta=Bf(e=>void this.wa.Ca(e));$f(this.R,e=>{const f=e.S();switch(f){case 1:Zf(this,J(e,$e,1,bf));break;case 2:case 0:console.warn(`IllegalMessage: ${f} - ${"Unhandled message"} - ${"Please raise a bug with the MeetJS team"}`)}});this.Wa=(new Hf({Xa:1E3,fb:()=>{var e,f;const g=(f=(e=this.wa).jb)==null?void 0:f.call(e);this.s!==null&&(this.s={...this.s,...g},e=new Af,f=this.config.La((new rf).ra(this.oa),this.s),e=G(e,1,zf,f),this.R.send(e))}})).start();
this.s=null;this.oa=0;d&&Zf(this,d)}disconnect(){this.R.shutdown();this.Wa.shutdown()}notify(a,b,c){var d=c?Tf(c):void 0;c=this.config;var e=c.Ma,f=(new wf).ra(this.oa);d=pc(f,4,d);a=e.call(c,d,a);a=this.config.Ja(a,b);b=this.R;c=b.send;e=new Af;a=G(e,2,zf,a);c.call(b,a)}};var ag=class{constructor(a){this.m=a}broadcastStateUpdate(a){X(this.m,()=>({state:a,context:{}}))}disconnect(){this.m.disconnect()}};function bg(a,b){return a==null||b==null?!1:a.bytes.length===b.bytes.length&&a.bytes.every((c,d)=>c===b.bytes[d])};var cg=class{constructor(a){this.m=a}notifySwitchedToMedia(a,b,c){X(this.m,()=>({state:{mediaId:b,mediaPlayoutRate:1,mediaPlayoutPosition:c,playbackState:"PLAY"},cb:{activityTitle:a},context:{G:1}}))}notifyPauseState(a,b){X(this.m,c=>{if(c==null)throw Error("Invalid before coWatchingState");return{state:{...c,playbackState:a?"PAUSE":"PLAY",mediaPlayoutPosition:b},context:{G:3}}})}notifySeekToTimestamp(a){X(this.m,b=>{if(b==null)throw Error("Invalid before coWatchingState");return{state:{...b,mediaPlayoutPosition:a},
context:{G:2}}})}notifyPlayoutRate(a){X(this.m,b=>{if(b==null)throw Error("Invalid before coWatchingState");return{state:{...b,mediaPlayoutRate:a},context:{G:4}}})}notifyBuffering(a){X(this.m,b=>{if(b==null)throw Error("Invalid before coWatchingState");return{state:{...b,mediaPlayoutPosition:a,playbackState:"BUFFERING"},context:{G:3}}})}notifyReady(a){X(this.m,b=>{if(b==null)throw Error("Invalid before coWatchingState");return{state:{...b,mediaPlayoutPosition:a},context:{G:3}}})}disconnect(){this.m.disconnect()}};
function dg(a,b){if(a==null||b==null)return!1;const c=a.playbackState==="PLAY"?3*Math.max(a.mediaPlayoutRate,1):0,d=Math.abs(a.mediaPlayoutPosition-b.mediaPlayoutPosition);return a.mediaId===b.mediaId&&a.mediaPlayoutRate===b.mediaPlayoutRate&&d<=c&&a.playbackState===b.playbackState};var $f=function(a,b){const c=Dd(a.signal,d=>{b(d)});a.j.push(c)},eg=class{constructor(a,b){this.channel=a;this.signal=b;this.j=[]}send(a){this.channel.send(vc(a))}async O(a,b){a=await this.channel.O(vc(a));return b(a.data)}shutdown(){this.j.forEach(a=>{this.signal.detach(a)})}};function fg(a,b){var c=gg;const d=a.signal(),e=a.signal();Dd(b,f=>{const g=c(f)?d:e;Me(a,g,f)},a);return{hb:d,eb:e}}function hg(a,b,c,d=e=>e){Dd(c,e=>{Me(a,b,d(e))},a)};async function ig(a,b){if(b)return a=await Xf({activityTitle:b.activityTitle,ua:"co-watching",jb:()=>b.onCoWatchingStateQuery(),Ca:c=>{b.onCoWatchingStateChanged(c)}},a,{Ma:Pf,La:Rf,Ja:Uf,Ba:Nf,ya:dg}),new cg(a)}async function jg(a,b){if(b)return a=await Xf({activityTitle:b.activityTitle,ua:"co-doing",Ca:c=>{b.onCoDoingStateChanged(c)}},a,{Ma:Kf,La:Mf,Ja:Vf,Ba:Jf,ya:bg}),new ag(a)}
async function kg(a){const b=new Oe,c=b.signal();a=await a;hg(b,c,a.signal,f=>f.content);const {hb:d,eb:e}=fg(b,c);return{Pa:new eg(a.channel,d),Qa:new eg(a.channel,e)}}function gg(a){a:switch(a.S()){case 1:a=J(a,$e,1,bf);break a;default:throw Error("CA Message arrived with no known content message set");}return a.U()};async function lg(a,b){({Pa:a}=await kg(jf(a.i)));b=await jg(a,b);if(!b)throw Error("Failed to create co-doing session");return b}async function mg(a,b){({Qa:a}=await kg(jf(a.i)));b=await ig(a,b);if(!b)throw Error("Failed to create co-watching session");return b};var ng=class extends Kd{async notifySidePanel(a){await mf(this.context.i,1,a)}async unloadSidePanel(){await kf(this.context.i)}async loadSidePanel(){await lf(this.context.i)}};var og=class extends Kd{async setAddonStartingState(a){if(a===null)throw new L(Pc("addonStartingState"));if(typeof a!=="object")throw new L(N("addonStartingState",typeof a,"object | undefined"));if(a.sidePanelUrl!==void 0&&typeof a.sidePanelUrl!=="string")throw new L(N("sidePanelUrl",typeof a.sidePanelUrl,"string | undefined"));if(a.additionalData!==void 0&&typeof a.additionalData!=="string")throw new L(N("additionalData",typeof a.additionalData,"string | undefined"));if(Object.keys(a).length!==+!!a.sidePanelUrl+
+!!a.additionalData)throw new L(Oc);if(Object.keys(a).length===0)throw new L(Nc);const b=[];b.push(jd(id(hd(1),a.sidePanelUrl),a.additionalData));await nf(this.context.i,(new Xd).setAddonStartingState((new Wd).X(b)))}};var pg=class extends Kd{async notifyMainStage(a){await mf(this.context.i,2,a)}};var qg=class{constructor(a){a=a.cloudProjectNumber;const b=Md();if(b.cloudProjectNumber!==a)throw new L(Hc);const c=b.Ha,d=b.Ra;let e;of=(e=of)!=null?e:ef(d,c,a);this.K=new pf(b)}async createMainStageClient(){var a=this.K;if(a.P.frameType!==2)throw new L(Dc);return await Promise.resolve(new ng(a))}async createSidePanelClient(){var a=this.K;if(a.P.frameType!==1)throw new L(Ec);return await Promise.resolve(new pg(a))}async createCoWatchingClient(a){return await mg(this.K,a)}async createCoDoingClient(a){return await lg(this.K,
a)}async createRoomsStandaloneClient(){var a=this.K;if(a.P.frameType!==2)throw new L(Dc);return await Promise.resolve(new og(a))}};let rg=null;var sg={addon:{getFrameType:function(){a:{var a=Md().frameType;switch(a){case 2:a="MAIN_STAGE";break a;case 1:a="SIDE_PANEL";break a;default:throw Error(`Unknown frame type: ${a}`);}}return a},createAddonSession:async function(a){if(a===null)throw new L(Pc("config"));if(typeof a!=="object")throw new L(N("config",typeof a,"object"));if(typeof a.cloudProjectNumber!=="string")throw new L(N("cloudProjectNumber",typeof a.cloudProjectNumber,"string"));if(rg&&Md().Ha!=="integration.test.google.com")throw new L(Yc);
return rg=new qg(a)}}},tg=["meet"],Y=l;tg[0]in Y||typeof Y.execScript=="undefined"||Y.execScript("var "+tg[0]);for(var Z;tg.length&&(Z=tg.shift());)tg.length||sg===void 0?Y=Y[Z]&&Y[Z]!==Object.prototype[Z]?Y[Z]:Y[Z]={}:Y[Z]=sg;}).call(this);
