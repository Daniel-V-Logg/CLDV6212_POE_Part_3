import{aA as We,J as Te,O as ie,aP as Me,c as Fe,bP as He,y as je,bB as Ve,o as B,ak as ze,j as N}from"./yjs-Cyj2tZeb.js";import{f6 as Ge,c1 as Ye,bP as Xe,f7 as qe,al as Je,an as Qe,f8 as Ze,bM as Ke,cm as et,n as tt,dK as nt,c0 as st,N as ot,dG as rt,f9 as U,d as at,J as it,ey as lt,x as dt,fa as ct}from"./actions-BSn0aWLf.js";import{a1 as F,bQ as ue,L as ut,bc as gt,F as b,bR as ht,b2 as ge,bS as he,bL as pe,bG as pt,bT as mt,r as g,bU as ft,o as $,p as m,q as W,bb as vt,R as d,h as P,a3 as bt,ai as It,ad as me}from"./a1b2c3-BIUAe2b4.js";import{a as fe}from"./statsig-CciSPO6z.js";import{F as Et,S as yt}from"./spotlight-manager-dcrT13_j.js";const St={default:{background:{default:`var(--ds-background-inverse-subtle, ${F})`,hover:`var(--ds-background-inverse-subtle-hovered, ${ue})`,active:`var(--ds-background-inverse-subtle-pressed, ${F})`,disabled:`var(--ds-background-disabled, ${ut})`,selected:`var(--ds-background-inverse-subtle-pressed, ${gt})`,focus:`var(--ds-background-inverse-subtle, ${F})`},color:{default:`var(--ds-text-inverse, ${b})`,hover:`var(--ds-text-inverse, ${b})`,active:`var(--ds-text-inverse, ${b})`,disabled:{light:`var(--ds-text-disabled, ${b})`,dark:`var(--ds-text-disabled, ${ht})`},selected:`var(--ds-text-inverse, ${b})`,focus:`var(--ds-text-inverse, ${b})`}},subtle:{background:{default:"none",hover:`var(--ds-background-inverse-subtle-hovered, ${ue})`,active:`var(--ds-background-inverse-subtle-pressed, ${F})`,disabled:"none",selected:{light:`var(--ds-background-selected-hovered, ${ge})`,dark:`var(--ds-background-selected-hovered, ${he})`},focusSelected:{light:`var(--ds-background-selected-hovered, ${ge})`,dark:`var(--ds-background-selected-hovered, ${he})`}},color:{default:`var(--ds-text-inverse, ${b})`,hover:`var(--ds-text-inverse, ${b})`,active:`var(--ds-text-inverse, ${b})`,disabled:`var(--ds-text-disabled, ${b})`,selected:`var(--ds-text-inverse, ${b})`,focus:`var(--ds-text-inverse, ${b})`}},"subtle-link":{textDecoration:{hover:`underline ${`var(--ds-text-inverse, ${pe})`}`},textDecorationLine:{active:"none"},color:{default:`var(--ds-text-inverse, ${b})`,hover:`var(--ds-text-inverse, ${pe})`,active:`var(--ds-text-inverse, ${pt})`,disabled:`var(--ds-text-discovery, ${F})`,selected:`var(--ds-text-selected, ${b})`,focus:`var(--ds-text-inverse, ${b})`}}};function xt(e,{mode:t,appearance:n,state:s}){if(!e[n])return;const o=e[n];return Object.keys(o).reduce((r,a)=>{let i=o;return[a,s,t].forEach(l=>{if(i[l]){if(typeof i[l]!="object"){r[a]=i[l];return}i=i[l]}}),r},{})}const Ct=(e,t)=>{const{buttonStyles:n,...s}=e(t);return{buttonStyles:{...n,...xt(St,t)},...s}};function ve(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function be(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function se(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return be(n.overflowY,t)||be(n.overflowX,t)||function(s){var o=function(r){if(!r.ownerDocument||!r.ownerDocument.defaultView)return null;try{return r.ownerDocument.defaultView.frameElement}catch{return null}}(s);return!!o&&(o.clientHeight<s.scrollHeight||o.clientWidth<s.scrollWidth)}(e)}return!1}function Q(e,t,n,s,o,r,a,i){return r<e&&a>t||r>e&&a<t?0:r<=e&&i<=n||a>=t&&i>=n?r-e-s:a>t&&i<n||r<e&&i>n?a-t+o:0}function Ie(e,t){var n=window,s=t.scrollMode,o=t.block,r=t.inline,a=t.boundary,i=t.skipOverflowHiddenElements,l=typeof a=="function"?a:function(Ue){return Ue!==a};if(!ve(e))throw new TypeError("Invalid target");for(var h=document.scrollingElement||document.documentElement,f=[],c=e;ve(c)&&l(c);){if((c=c.parentElement)===h){f.push(c);break}c!=null&&c===document.body&&se(c)&&!se(document.documentElement)||c!=null&&se(c,i)&&f.push(c)}for(var u=n.visualViewport?n.visualViewport.width:innerWidth,x=n.visualViewport?n.visualViewport.height:innerHeight,p=window.scrollX||pageXOffset,C=window.scrollY||pageYOffset,v=e.getBoundingClientRect(),E=v.height,k=v.width,w=v.top,R=v.right,M=v.bottom,_=v.left,y=o==="start"||o==="nearest"?w:o==="end"?M:w+E/2,S=r==="center"?_+k/2:r==="end"?R:_,T=[],O=0;O<f.length;O++){var I=f[O],L=I.getBoundingClientRect(),K=L.height,ee=L.width,H=L.top,te=L.right,ne=L.bottom,j=L.left;if(s==="if-needed"&&w>=0&&_>=0&&M<=x&&R<=u&&w>=H&&M<=ne&&_>=j&&R<=te)return T;var V=getComputedStyle(I),z=parseInt(V.borderLeftWidth,10),G=parseInt(V.borderTopWidth,10),Y=parseInt(V.borderRightWidth,10),X=parseInt(V.borderBottomWidth,10),A=0,D=0,q="offsetWidth"in I?I.offsetWidth-I.clientWidth-z-Y:0,J="offsetHeight"in I?I.offsetHeight-I.clientHeight-G-X:0;if(h===I)A=o==="start"?y:o==="end"?y-x:o==="nearest"?Q(C,C+x,x,G,X,C+y,C+y+E,E):y-x/2,D=r==="start"?S:r==="center"?S-u/2:r==="end"?S-u:Q(p,p+u,u,z,Y,p+S,p+S+k,k),A=Math.max(0,A+C),D=Math.max(0,D+p);else{A=o==="start"?y-H-G:o==="end"?y-ne+X+J:o==="nearest"?Q(H,ne,K,G,X+J,y,y+E,E):y-(H+K/2)+J/2,D=r==="start"?S-j-z:r==="center"?S-(j+ee/2)+q/2:r==="end"?S-te+Y+q:Q(j,te,ee,z,Y+q,S,S+k,k);var de=I.scrollLeft,ce=I.scrollTop;y+=ce-(A=Math.max(0,Math.min(ce+A,I.scrollHeight-K+J))),S+=de-(D=Math.max(0,Math.min(de+D,I.scrollWidth-ee+q)))}T.push({el:I,top:A,left:D})}return T}function Oe(e){return e===Object(e)&&Object.keys(e).length!==0}function wt(e,t){t===void 0&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach(function(s){var o=s.el,r=s.top,a=s.left;o.scroll&&n?o.scroll({top:r,left:a,behavior:t}):(o.scrollTop=r,o.scrollLeft=a)})}function kt(e){return e===!1?{block:"end",inline:"nearest"}:Oe(e)?e:{block:"start",inline:"nearest"}}function Ee(e,t){var n=!e.ownerDocument.documentElement.contains(e);if(Oe(t)&&typeof t.behavior=="function")return t.behavior(n?[]:Ie(e,t));if(!n){var s=kt(t);return wt(Ie(e,s),s.behavior)}}const Tt=200,Z=e=>{const{height:t,left:n,top:s,width:o}=e.getBoundingClientRect();return{height:t,left:n,top:s,width:o}},Ot=(e,t)=>{const[n,s]=g.useState({width:0,height:0,left:0,top:0});return g.useLayoutEffect(()=>{t==="resizeListener"&&s(Z(e))},[e,t]),g.useEffect(()=>{const o=()=>{requestAnimationFrame(()=>{s(Z(e))})};if(t==="resizeListener")return We.bind(window,{type:"resize",listener:o})},[e,t]),n},$t=(e,t)=>{const[n,s]=g.useState(0),[o,r]=g.useState(0),[a,i]=g.useState(0),[l,h]=g.useState(0);g.useLayoutEffect(()=>{if(t==="polling"){const p=Z(e);s(p.width),r(p.height),i(p.left),h(p.top)}},[e,t]);const f=g.useRef(),c=g.useRef(),u=g.useCallback(p=>{if(c.current!==void 0){if(p-c.current>Tt){const v=Z(e);s(v.width),r(v.height),i(v.left),h(v.top),c.current=p}}else c.current=p;f.current=requestAnimationFrame(u)},[e]);return g.useEffect(()=>(t==="polling"&&(f.current=requestAnimationFrame(u)),()=>{f.current!==void 0&&cancelAnimationFrame(f.current)}),[u,e,t]),g.useMemo(()=>({width:n,height:o,left:a,top:l}),[n,o,a,l])},Nt=e=>{const t=mt("platform.design-system.refresh-spotlight-on-interval")?"polling":"resizeListener",n=Ot(e,t),s=$t(e,t);return t==="resizeListener"?n:s},ye=e=>{const t=Nt(e.element);return e.children(t)},le=`0 0 0 2px ${`var(--ds-border-discovery, ${vt})`}`,Rt="cubic-bezier(0.55, 0.055, 0.675, 0.19)",$e=ft({"0%, 33%":{boxShadow:`${le}, 0 0 0 var(--ds-border-discovery, rgba(101, 84, 192, 1))`},"66%, 100%":{boxShadow:`${le}, 0 0 0 10px rgba(101, 84, 192, 0.01)`}});$e.name;const At=$({animation:`${$e} 3000ms ${Rt} infinite`,boxShadow:le}),Dt=({children:e,bgColor:t,radius:n,style:s,testId:o,...r})=>m("div",W({"data-testid":o,style:{...s,backgroundColor:t,borderRadius:n?`${n}px`:void 0}},r),e),Bt=({children:e,pulse:t,...n})=>m(Dt,W({},n,{css:[t&&At,Ge]}),e),_t=$({width:"100%",height:"100%",position:"absolute",insetBlockStart:0,insetInlineStart:0}),Lt=e=>m("div",W({},e,{css:_t,style:{cursor:e.onClick?"pointer":"auto"}})),Pt=["fontSize","fontWeight","lineHeight","padding","color","textOverflow"];function Ut(e){const n=e.cloneNode(!0),s=getComputedStyle(e);return Pt.forEach(o=>{n.style[o]=s[o]}),n.style.margin="0",n.style.position="static",n.style.transform="translate(0, 0) translate3d(0, 0, 0)",n}const Wt=e=>{const{pulse:t,style:n,target:s,targetBgColor:o,targetOnClick:r,targetNode:a,targetRadius:i,testId:l}=e;return d.createElement(Bt,{"data-testid":l,pulse:t,bgColor:o,radius:i,style:n},d.createElement("div",{dangerouslySetInnerHTML:{__html:Ut(a).outerHTML},style:{height:"100%",pointerEvents:"none"}}),d.createElement(Lt,{onClick:r?h=>r({event:h,target:s}):void 0}))},Mt=$({maxWidth:"100%",height:"auto"}),Ft=$({display:"flex",margin:"var(--ds-space-0, 0px) -4px",flexDirection:"row-reverse"}),Ht=$({margin:"var(--ds-space-0, 0px) var(--ds-space-050, 4px)"}),jt=({alt:e,...t})=>m("img",W({css:Mt,alt:e},t)),Vt=({children:e})=>m("div",{css:Ft},e),zt=({children:e})=>m("div",{css:Ht},e),Gt=$({display:"flex",padding:"var(--ds-space-200, 16px) var(--ds-space-250, 20px)",flexDirection:"column"}),Yt=$({display:"block"}),Xt=$({display:"flex",alignItems:"baseline",justifyContent:"space-between",paddingBlockEnd:"var(--ds-space-100, 8px)"}),qt=({children:e})=>m("div",{css:Xt},e),Jt=$({display:"flex",alignItems:"center",justifyContent:"space-between",paddingBlockStart:"var(--ds-space-100, 8px)"}),Qt=({children:e})=>m("div",{css:Jt},e),Zt=Te({height:"fit-content",zIndex:"spotlight",borderRadius:"border.radius",color:"color.text.inverse",overflow:"auto",minWidth:"160px",maxWidth:"600px"}),Kt=Te({boxShadow:"elevation.shadow.raised"}),Ne=g.forwardRef((e,t)=>{const{actions:n=[],actionsBeforeElement:s,children:o,components:r={},heading:a,headingLevel:i=4,headingAfterElement:l,image:h,innerRef:f,isFlat:c,testId:u,width:x=400,headingId:p}=e,{Header:C=qt,Footer:v=Qt}=r;return m(qe.Provider,{value:Ct},m(ie,{backgroundColor:"color.background.discovery.bold",xcss:[Zt,!c&&Kt],style:{width:x},ref:t||f,testId:u},typeof h=="string"?m("img",{css:Yt,src:h,alt:""}):h,m("div",{css:Gt},a||l?m(C,null,m(Ye,{id:p,size:"medium",as:`h${i}`,color:"color.text.inverse"},a),l):null,m(Me,null,o),n.length>0||s?m(v,null,s||m("span",null),m(Vt,null,n.map(({text:E,key:k,...w},R)=>m(zt,{key:k||(typeof E=="string"?E:`${R}`)},m(Xe,w,E))))):null)))});Ne.displayName="SpotlightCard";class en extends d.Component{componentDidUpdate(t){t.value!==this.props.value&&this.props.onChange()}render(){return this.props.children}}const Se="@atlaskit/onboarding",xe="11.12.2";class tn extends g.Component{constructor(...t){super(...t),P(this,"state",{focusLockDisabled:!0})}componentDidMount(){this.focusLockTimeoutId=window.setTimeout(()=>{this.setState({focusLockDisabled:!1})},200)}componentWillUnmount(){window.clearTimeout(this.focusLockTimeoutId)}render(){const{actions:t,actionsBeforeElement:n,animationStyles:s,children:o,dialogPlacement:r,dialogWidth:a,footer:i,header:l,heading:h,headingAfterElement:f,image:c,targetNode:u,testId:x}=this.props,{focusLockDisabled:p}=this.state,C=r?{"top left":"top-start","top center":"top","top right":"top-end","right top":"right-start","right middle":"right","right bottom":"right-end","bottom left":"bottom-start","bottom center":"bottom","bottom right":"bottom-end","left top":"left-start","left middle":"left","left bottom":"left-end"}[r]:void 0,v=[{name:"preventOverflow",options:{padding:5,rootBoundary:"document",altAxis:!0,tether:!1}}];return d.createElement(Ze,{modifiers:v,referenceElement:u,placement:C},({ref:E,style:k,update:w})=>d.createElement(en,{value:a,onChange:w},d.createElement(Ke,{disabled:p,returnFocus:!1,autoFocus:!0},d.createElement("div",{ref:E,style:{...k,...s}},d.createElement(Ne,{testId:x,width:a,actions:t,actionsBeforeElement:n,image:c&&d.createElement(jt,{alt:h,src:c}),components:{Header:l,Footer:i},heading:h,headingAfterElement:f,headingLevel:2},o)))))}}const nn=et("atlaskit"),sn=Je({componentName:"spotlight",packageName:Se,packageVersion:xe})(Qe({targetOnClick:nn({action:"clicked",actionSubject:"spotlight",attributes:{componentName:"spotlight",packageName:Se,packageVersion:xe}})})(tn)),Re=g.createContext({isOpen:!0,onExited:tt}),oe=e=>{var t,n;return d.Children.count(e)>0&&(((t=d.Children.map(e||!1,s=>!!s))===null||t===void 0||(n=t.filter(Boolean))===null||n===void 0?void 0:n.length)||0)>0};class _n extends d.Component{constructor(...t){super(...t),P(this,"state",{currentChildren:void 0}),P(this,"onExited",()=>{this.setState({currentChildren:this.props.children})})}static getDerivedStateFromProps(t,n){const{currentChildren:s}=n;return{currentChildren:oe(s)&&!oe(t.children)?s:t.children}}render(){return d.createElement(Re.Provider,{value:{onExited:this.onExited,isOpen:oe(this.props.children)}},this.state.currentChildren)}}const on=Re.Consumer;class Ae extends d.Component{constructor(...t){super(...t),P(this,"state",{replacementElement:null}),P(this,"getTargetNodeStyle",n=>nt.canUseDOM?{...n,position:"fixed"}:{})}componentDidUpdate(t){t.targetNode!==this.props.targetNode&&Ee(this.props.targetNode,{scrollMode:"if-needed",block:this.props.scrollPositionBlock})}componentDidMount(){Ee(this.props.targetNode,{scrollMode:"if-needed",block:this.props.scrollPositionBlock}),this.props.onOpened()}componentWillUnmount(){this.props.onClosed()}render(){const{pulse:t,target:n,targetNode:s,targetBgColor:o,targetOnClick:r,targetRadius:a,testId:i,targetReplacement:l}=this.props,{replacementElement:h}=this.state;return d.createElement(on,null,({isOpen:f,onExited:c})=>d.createElement(st,{zIndex:bt.spotlight()+1},l?d.createElement(ot,{innerRef:u=>this.setState({replacementElement:u})},d.createElement(ye,{element:s},u=>d.createElement(l,W({"data-testid":`${i}--target`},this.getTargetNodeStyle(u))))):d.createElement(ye,{element:s},u=>d.createElement(Wt,{testId:`${i}--target`,pulse:t,target:n,style:this.getTargetNodeStyle(u),targetBgColor:o,targetNode:s,targetOnClick:r,targetRadius:a})),l&&!h?null:d.createElement(Et,{hasEntered:f,onExited:c},u=>d.createElement(sn,{testId:`${i}--dialog`,actions:this.props.actions,actionsBeforeElement:this.props.actionsBeforeElement,children:this.props.children,dialogPlacement:this.props.dialogPlacement,dialogWidth:this.props.dialogWidth,footer:this.props.footer,header:this.props.header,heading:this.props.heading,headingAfterElement:this.props.headingAfterElement,image:this.props.image,targetNode:h||s,animationStyles:u})),d.createElement(rt,null)))}}P(Ae,"defaultProps",{dialogWidth:400,pulse:!0});const Ce=({dialogWidth:e=400,pulse:t=!0,testId:n="spotlight",targetNode:s,target:o,...r})=>d.createElement(yt,null,({opened:a,closed:i,targets:l})=>{const h=s||(typeof o=="string"?l[o]:void 0);return h?d.createElement(Ae,W({},r,{targetNode:h,target:o,onOpened:a,onClosed:i,testId:n,dialogWidth:e,pulse:t})):null}),rn=204,an=503,ln=["bitbucket-pipelines.dev.public.atl-paas.net","bitbucket-pipelines.staging.public.atl-paas.net","bitbucket-pipelines.prod.public.atl-paas.net"],dn=60;async function De(e){return e.ok||await e.text(),e}function cn(e){const t=e.headers.get("X-Failure-Category"),n=!!t&&t.toLowerCase()==="throttled";return e.status===an&&n}function un(e,t,n=cn){return hn(e,n,gn(t))}function Be(e,t){return un(e,t,n=>n.status>=500&&n.status<=599)}function gn(e){return{...e,credentials:ln.includes(location.host)?"include":"same-origin"}}function _e(e,t,n){return e.then(s=>t(s)?n():Promise.resolve(s)).catch(n)}function hn(e,t,n){return _e(fetch(e,n),t,()=>Le(e,t,n))}function Le(e,t,n,s=0){return _e(mn(e,s,n),t,()=>Le(e,t,n,Math.min(s===0?1:s*2,dn)))}const pn=5e3;function mn(e,t,n){const s=Math.round(Math.random()*pn),o=t?t*60*1e3+s:0;return new Promise((r,a)=>{setTimeout(()=>{fetch(e,n).then(r).catch(a)},o)})}U.parse("/engage-targeting/api/v2/user/{cloudId}/in-product-messages{?product,schema,locale}");function Pe(e){return e.status===rn}const fn=U.parse("/engage-targeting/api/v2/user/messages/{messageId}/start"),vn=U.parse("/engage-targeting/api/v2/user/messages/{messageId}/start/{variationId}");async function bn(e){const t={cloudId:e.cloudId,orgId:e.orgId,workspaceId:e.workspaceId};return Be(e.variationId?`${e.stargateUrl}${vn.expand({messageId:e.messageId,variationId:e.variationId})}`:`${e.stargateUrl}${fn.expand({messageId:e.messageId})}`,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(De).then(Pe)}const In=U.parse("/engage-targeting/api/v2/user/messages/{messageId}/stop");async function En(e){const t={cloudId:e.cloudId,orgId:e.orgId,workspaceId:e.workspaceId};return Be(`${e.stargateUrl}${In.expand({messageId:e.messageId})}`,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(De).then(Pe)}U.parse("/engage-targeting/api/v2/user/{cloudId}/messages/{messageId}/response");U.parse("/engage-targeting/api/v2/user/messages/{messageId}/seen");const yn="fedramp-moderate";function Sn(){var e,t;const n=globalThis.MICROS_PERIMETER||globalThis.UNSAFE_ATL_CONTEXT_BOUNDARY;if(n)return n===yn;const s=(e=globalThis.location)===null||e===void 0||(t=e.hostname)===null||t===void 0?void 0:t.match(/atlassian-us-gov-mod\.(com|net)|atlassian-us-gov\.(com|net)|atlassian-fex\.(com|net)|atlassian-stg-fedm\.(com|net)/);return s?s.length>0:!1}function we(){return!Sn()}class xn{constructor(t,n){let s;if(typeof t=="string"?s={cloudId:t,stargateUrl:n,isFedRAMPEnvironment:!1}:s=t,!s.cloudId||!s.stargateUrl)throw new Error("Need a valid CloudId and Stargate url");this.cloudId=s.cloudId,this.stargateUrl=s.stargateUrl,this.orgId=s.orgId,this.workspaceId=s.workspaceId}async start(t,n){return we()?bn({cloudId:this.cloudId,stargateUrl:this.stargateUrl,messageId:t,variationId:n,orgId:this.orgId,workspaceId:this.workspaceId}):!1}async stop(t){return we()?En({cloudId:this.cloudId,stargateUrl:this.stargateUrl,messageId:t,orgId:this.orgId,workspaceId:this.workspaceId}):!1}}const Cn=()=>{const e=Fe(),t=sessionStorage.getItem("confluence.disable-engagement-for-tests")||localStorage.getItem("confluence.disable-engagement-for-tests");return g.useMemo(()=>{if(e)return t!==null?{start:async()=>t==="enabled",stop:async()=>t==="enabled"}:new xn({cloudId:e,stargateUrl:"/gateway/api",workspaceId:He()})},[e,t])},wn=(e,t=!0)=>{const[n,s]=g.useState(!1),o=Cn();g.useEffect(()=>{o&&t&&(async()=>{try{await o.start(e)&&s(!0)}catch(a){a instanceof Error&&fe("Start EP coordination error: ",a)}})()},[o,t,e]);const r=g.useCallback(async(a=!1)=>{if(o&&!(!a&&!n))try{await o.stop(e)}catch(i){i instanceof Error&&fe("Stop EP coordination error: ",i)}},[n,o,e]);return[n,r]},kn="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/inline-comments-onboarding-J142CYpT.gif",re="importOnboarding",Tn="cc-databases-import-onboarding",ae="inlineCommentsOnboarding",On="cc-databases-inline-comments-onboarding",ke=287,$n=e=>{throw new Error(`Not implemented: ${e}`)},Ln=({coordinationMessageKey:e,isEnabled:t,targetRef:n,delay:s=!1})=>{const{formatMessage:o}=It(),{contentId:r}=je(),[a]=at.useEqualSelector(T=>{if(!r)return[null];const O=it(T,{contentId:r,includeDeleted:!1});return[Ve(O==null?void 0:O.entries[0],O==null?void 0:O.fields[0])]}),[i,l]=wn(e,t??!0),{setOpenThread:h}=lt(),{view:f}=dt(),[c,u]=g.useState(0),x=o(B["onboarding-tour.dismiss-spotlight"]),p=o(B["databases.ga.spotlight.ok"]),C=o(B["onboarding.inline-comments-complete"]),[v,E]=g.useState(!1),k=()=>u(0),w=g.useCallback(()=>{l(),u(null)},[l]);ct(w,void 0,['[data-testid="inlineCommentsOnboarding--dialog"]','[data-testid="importOnboarding--dialog"]']),g.useEffect(()=>{i&&s&&setTimeout(()=>{E(!0),k()},5e3)},[i,s]);const R=g.useCallback(()=>{if(!a){l(),u(null);return}f.settings.layout.type===ze.TABLE?h({valueId:a,panel:!1}):h({valueId:a,panel:!0}),l(),u(null)},[a,h,l,f.settings.layout.type]),M=[N.jsx(Ce,{actions:[{onClick:()=>R(),text:C},{onClick:()=>w(),text:x}],heading:o(B["onboarding.inline-comments-heading"]),target:ae,image:kn,targetNode:n||void 0,testId:ae,dialogWidth:ke,dialogPlacement:"right bottom",pulse:!1,children:N.jsx(ie,{children:N.jsx(me,{...B["onboarding.inline-comments-message"]})})},ae)],_=[N.jsx(Ce,{actions:[{onClick:()=>w(),text:p}],heading:o(B["onboarding.import-heading"]),target:re,targetNode:n||void 0,testId:re,dialogWidth:ke,dialogPlacement:"left bottom",pulse:!0,children:N.jsx(ie,{children:N.jsx(me,{...B["onboarding.import-message"]})})},re)],y=T=>{switch(T){case On:return M;case Tn:return _;default:return $n(T)}},S=()=>{if(c===null)return null;const T=y(e);return T?T[c]:null};return N.jsx(N.Fragment,{children:i&&(!s||v)&&S()})};export{Ln as D,Tn as I,Ne as S,re as a,On as b,ae as c,wn as u};
//# sourceMappingURL=DatabaseSpotlight-BgcakTac.js.map
