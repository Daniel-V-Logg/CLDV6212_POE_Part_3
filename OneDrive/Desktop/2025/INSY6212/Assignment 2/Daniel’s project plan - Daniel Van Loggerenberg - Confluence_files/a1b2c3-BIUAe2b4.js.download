const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["index-NKeVeXIZ.js","useErrorLogger-E5k03meA.js","actions-BSn0aWLf.js","yjs-Cyj2tZeb.js","sentry-BPH6silo.js","lodash-JQs4LXD6.js","date-fns-CZMN4x1g.js","zod-C4a_jWXR.js","statsig-CciSPO6z.js","cheerio-DQLnZxVv.js","rxjs-BCoeeh2h.js","apollo-client-CiAgU1zi.js","actions-D8Kpdt48.css","index-BD7cbhxi.js","en-Dr340nNA.js","empty-state-4bt6-Jtb.js","experience-It-jvov0.js","concurrent-experience-DPux6BJu.js","PopupSelect-IKKDH7DC.js","Select-C4FAdvwO.js","index-yRqXOKtO.js","index-D7f4AnO3.js","modal-transition-DlDuGS9m.js","index-CA7pU7Cd.js","avatar-Mp7Tnf4Q.js","constants-B87giwPX.js","text-field-Cj84ujnD.js","useBasicFilterAGG-DWz84dKz.js","useDebouncedCallback-Bg0lnZus.js","question-circle-szuAgvHM.js","question-circle-CjxKh4xV.js","main-WTLnzx_w.js","withAnalyticsContext-vtdasQNy.js","LegacyAnalyticsContext-BUEi-T1x.js","index-L_ay8AnS.js","useDataRenderedUfoExperience-BqA5xsGs.js","question-DjW1642W.js","index-yln1rs47.js","field-BbTussMq.js","datasourceTableView-Bpxnd40S.js","datasourceRenderFailedAnalyticsWrapper-DxnDBC_-.js"])))=>i.map(i=>d[i]);
import{m as xe,l as ie,i as jx}from"./lodash-JQs4LXD6.js";function Gx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const Hx="modulepreload",Wx=function(t){return"https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/"+t},Qu={},yo=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(n.map(l=>{if(l=Wx(l),l in Qu)return;Qu[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Hx,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return o.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var _h={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vo=Symbol.for("react.element"),Kx=Symbol.for("react.portal"),Xx=Symbol.for("react.fragment"),Zx=Symbol.for("react.strict_mode"),Yx=Symbol.for("react.profiler"),Qx=Symbol.for("react.provider"),Jx=Symbol.for("react.context"),eE=Symbol.for("react.forward_ref"),tE=Symbol.for("react.suspense"),nE=Symbol.for("react.memo"),rE=Symbol.for("react.lazy"),Ju=Symbol.iterator;function oE(t){return t===null||typeof t!="object"?null:(t=Ju&&t[Ju]||t["@@iterator"],typeof t=="function"?t:null)}var Sh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ah=Object.assign,Ch={};function Cr(t,e,n){this.props=t,this.context=e,this.refs=Ch,this.updater=n||Sh}Cr.prototype.isReactComponent={};Cr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Dh(){}Dh.prototype=Cr.prototype;function Ql(t,e,n){this.props=t,this.context=e,this.refs=Ch,this.updater=n||Sh}var Jl=Ql.prototype=new Dh;Jl.constructor=Ql;Ah(Jl,Cr.prototype);Jl.isPureReactComponent=!0;var ed=Array.isArray,Mh=Object.prototype.hasOwnProperty,ec={current:null},Th={key:!0,ref:!0,__self:!0,__source:!0};function Rh(t,e,n){var r,o={},s=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)Mh.call(e,r)&&!Th.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:vo,type:t,key:s,ref:i,props:o,_owner:ec.current}}function sE(t,e){return{$$typeof:vo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function tc(t){return typeof t=="object"&&t!==null&&t.$$typeof===vo}function iE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var td=/\/+/g;function Pi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iE(""+t.key):e.toString(36)}function ts(t,e,n,r,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case vo:case Kx:i=!0}}if(i)return i=t,o=o(i),t=r===""?"."+Pi(i,0):r,ed(o)?(n="",t!=null&&(n=t.replace(td,"$&/")+"/"),ts(o,e,n,"",function(c){return c})):o!=null&&(tc(o)&&(o=sE(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(td,"$&/")+"/")+t)),e.push(o)),1;if(i=0,r=r===""?".":r+":",ed(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Pi(s,a);i+=ts(s,e,n,l,o)}else if(l=oE(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Pi(s,a++),i+=ts(s,e,n,l,o);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Bo(t,e,n){if(t==null)return t;var r=[],o=0;return ts(t,r,"","",function(s){return e.call(n,s,o++)}),r}function aE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Be={current:null},ns={transition:null},lE={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:ns,ReactCurrentOwner:ec};W.Children={map:Bo,forEach:function(t,e,n){Bo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bo(t,function(){e++}),e},toArray:function(t){return Bo(t,function(e){return e})||[]},only:function(t){if(!tc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Component=Cr;W.Fragment=Xx;W.Profiler=Yx;W.PureComponent=Ql;W.StrictMode=Zx;W.Suspense=tE;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lE;W.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ah({},t.props),o=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=ec.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Mh.call(e,l)&&!Th.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:vo,type:t.type,key:o,ref:s,props:r,_owner:i}};W.createContext=function(t){return t={$$typeof:Jx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Qx,_context:t},t.Consumer=t};W.createElement=Rh;W.createFactory=function(t){var e=Rh.bind(null,t);return e.type=t,e};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:eE,render:t}};W.isValidElement=tc;W.lazy=function(t){return{$$typeof:rE,_payload:{_status:-1,_result:t},_init:aE}};W.memo=function(t,e){return{$$typeof:nE,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=ns.transition;ns.transition={};try{t()}finally{ns.transition=e}};W.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};W.useCallback=function(t,e){return Be.current.useCallback(t,e)};W.useContext=function(t){return Be.current.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t){return Be.current.useDeferredValue(t)};W.useEffect=function(t,e){return Be.current.useEffect(t,e)};W.useId=function(){return Be.current.useId()};W.useImperativeHandle=function(t,e,n){return Be.current.useImperativeHandle(t,e,n)};W.useInsertionEffect=function(t,e){return Be.current.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return Be.current.useLayoutEffect(t,e)};W.useMemo=function(t,e){return Be.current.useMemo(t,e)};W.useReducer=function(t,e,n){return Be.current.useReducer(t,e,n)};W.useRef=function(t){return Be.current.useRef(t)};W.useState=function(t){return Be.current.useState(t)};W.useSyncExternalStore=function(t,e,n){return Be.current.useSyncExternalStore(t,e,n)};W.useTransition=function(){return Be.current.useTransition()};W.version="18.2.0";_h.exports=W;var A=_h.exports;const L=bo(A),nd=Gx({__proto__:null,default:L},[A]);function Jr(t){"@babel/helpers - typeof";return Jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jr(t)}function cE(t,e){if(Jr(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uE(t){var e=cE(t,"string");return Jr(e)=="symbol"?e:e+""}function re(t,e,n){return(e=uE(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rd=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function dE(t,e){return!!(t===e||rd(t)&&rd(e))}function fE(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!dE(t[n],e[n]))return!1;return!0}function Nh(t,e){e===void 0&&(e=fE);var n=null;function r(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];if(n&&n.lastThis===this&&e(o,n.lastArgs))return n.lastResult;var i=t.apply(this,o);return n={lastResult:i,lastArgs:o,lastThis:this},i}return r.clear=function(){n=null},r}var Oh={exports:{}},te={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var me=typeof Symbol=="function"&&Symbol.for,nc=me?Symbol.for("react.element"):60103,rc=me?Symbol.for("react.portal"):60106,Qs=me?Symbol.for("react.fragment"):60107,Js=me?Symbol.for("react.strict_mode"):60108,ei=me?Symbol.for("react.profiler"):60114,ti=me?Symbol.for("react.provider"):60109,ni=me?Symbol.for("react.context"):60110,oc=me?Symbol.for("react.async_mode"):60111,ri=me?Symbol.for("react.concurrent_mode"):60111,oi=me?Symbol.for("react.forward_ref"):60112,si=me?Symbol.for("react.suspense"):60113,pE=me?Symbol.for("react.suspense_list"):60120,ii=me?Symbol.for("react.memo"):60115,ai=me?Symbol.for("react.lazy"):60116,hE=me?Symbol.for("react.block"):60121,mE=me?Symbol.for("react.fundamental"):60117,gE=me?Symbol.for("react.responder"):60118,yE=me?Symbol.for("react.scope"):60119;function nt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case nc:switch(t=t.type,t){case oc:case ri:case Qs:case ei:case Js:case si:return t;default:switch(t=t&&t.$$typeof,t){case ni:case oi:case ai:case ii:case ti:return t;default:return e}}case rc:return e}}}function Lh(t){return nt(t)===ri}te.AsyncMode=oc;te.ConcurrentMode=ri;te.ContextConsumer=ni;te.ContextProvider=ti;te.Element=nc;te.ForwardRef=oi;te.Fragment=Qs;te.Lazy=ai;te.Memo=ii;te.Portal=rc;te.Profiler=ei;te.StrictMode=Js;te.Suspense=si;te.isAsyncMode=function(t){return Lh(t)||nt(t)===oc};te.isConcurrentMode=Lh;te.isContextConsumer=function(t){return nt(t)===ni};te.isContextProvider=function(t){return nt(t)===ti};te.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===nc};te.isForwardRef=function(t){return nt(t)===oi};te.isFragment=function(t){return nt(t)===Qs};te.isLazy=function(t){return nt(t)===ai};te.isMemo=function(t){return nt(t)===ii};te.isPortal=function(t){return nt(t)===rc};te.isProfiler=function(t){return nt(t)===ei};te.isStrictMode=function(t){return nt(t)===Js};te.isSuspense=function(t){return nt(t)===si};te.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qs||t===ri||t===ei||t===Js||t===si||t===pE||typeof t=="object"&&t!==null&&(t.$$typeof===ai||t.$$typeof===ii||t.$$typeof===ti||t.$$typeof===ni||t.$$typeof===oi||t.$$typeof===mE||t.$$typeof===gE||t.$$typeof===yE||t.$$typeof===hE)};te.typeOf=nt;Oh.exports=te;var bE=Oh.exports,sc=bE,vE={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},kE={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},xE={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Fh={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ic={};ic[sc.ForwardRef]=xE;ic[sc.Memo]=Fh;function od(t){return sc.isMemo(t)?Fh:ic[t.$$typeof]||vE}var EE=Object.defineProperty,wE=Object.getOwnPropertyNames,sd=Object.getOwnPropertySymbols,_E=Object.getOwnPropertyDescriptor,SE=Object.getPrototypeOf,id=Object.prototype;function Ih(t,e,n){if(typeof e!="string"){if(id){var r=SE(e);r&&r!==id&&Ih(t,r,n)}var o=wE(e);sd&&(o=o.concat(sd(e)));for(var s=od(t),i=od(e),a=0;a<o.length;++a){var l=o[a];if(!kE[l]&&!(n&&n[l])&&!(i&&i[l])&&!(s&&s[l])){var c=_E(e,l);try{EE(t,l,c)}catch{}}}}return t}var AE=Ih;const ad=bo(AE);function Ee(){return Ee=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ee.apply(null,arguments)}function CE(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function DE(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var ME=function(){function t(n){var r=this;this._insertTag=function(o){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,s),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(DE(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var s=CE(o);try{s.insertRule(r,s.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ae="-ms-",ks="-moz-",Q="-webkit-",Ph="comm",ac="rule",lc="decl",TE="@import",$h="@keyframes",RE="@layer",NE=Math.abs,li=String.fromCharCode,OE=Object.assign;function LE(t,e){return ye(t,0)^45?(((e<<2^ye(t,0))<<2^ye(t,1))<<2^ye(t,2))<<2^ye(t,3):0}function zh(t){return t.trim()}function FE(t,e){return(t=e.exec(t))?t[0]:t}function J(t,e,n){return t.replace(e,n)}function tl(t,e){return t.indexOf(e)}function ye(t,e){return t.charCodeAt(e)|0}function eo(t,e,n){return t.slice(e,n)}function wt(t){return t.length}function cc(t){return t.length}function qo(t,e){return e.push(t),t}function IE(t,e){return t.map(e).join("")}var ci=1,gr=1,Bh=0,Ke=0,ce=0,Dr="";function ui(t,e,n,r,o,s,i){return{value:t,root:e,parent:n,type:r,props:o,children:s,line:ci,column:gr,length:i,return:""}}function Lr(t,e){return OE(ui("",null,null,"",null,null,0),t,{length:-t.length},e)}function PE(){return ce}function $E(){return ce=Ke>0?ye(Dr,--Ke):0,gr--,ce===10&&(gr=1,ci--),ce}function Ye(){return ce=Ke<Bh?ye(Dr,Ke++):0,gr++,ce===10&&(gr=1,ci++),ce}function Tt(){return ye(Dr,Ke)}function rs(){return Ke}function ko(t,e){return eo(Dr,t,e)}function to(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qh(t){return ci=gr=1,Bh=wt(Dr=t),Ke=0,[]}function Vh(t){return Dr="",t}function ss(t){return zh(ko(Ke-1,nl(t===91?t+2:t===40?t+1:t)))}function zE(t){for(;(ce=Tt())&&ce<33;)Ye();return to(t)>2||to(ce)>3?"":" "}function BE(t,e){for(;--e&&Ye()&&!(ce<48||ce>102||ce>57&&ce<65||ce>70&&ce<97););return ko(t,rs()+(e<6&&Tt()==32&&Ye()==32))}function nl(t){for(;Ye();)switch(ce){case t:return Ke;case 34:case 39:t!==34&&t!==39&&nl(ce);break;case 40:t===41&&nl(t);break;case 92:Ye();break}return Ke}function qE(t,e){for(;Ye()&&t+ce!==57;)if(t+ce===84&&Tt()===47)break;return"/*"+ko(e,Ke-1)+"*"+li(t===47?t:Ye())}function VE(t){for(;!to(Tt());)Ye();return ko(t,Ke)}function UE(t){return Vh(is("",null,null,null,[""],t=qh(t),0,[0],t))}function is(t,e,n,r,o,s,i,a,l){for(var c=0,u=0,d=i,f=0,p=0,h=0,m=1,g=1,y=1,b=0,v="",N=o,C=s,E=r,D=v;g;)switch(h=b,b=Ye()){case 40:if(h!=108&&ye(D,d-1)==58){tl(D+=J(ss(b),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:D+=ss(b);break;case 9:case 10:case 13:case 32:D+=zE(h);break;case 92:D+=BE(rs()-1,7);continue;case 47:switch(Tt()){case 42:case 47:qo(jE(qE(Ye(),rs()),e,n),l);break;default:D+="/"}break;case 123*m:a[c++]=wt(D)*y;case 125*m:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+u:y==-1&&(D=J(D,/\f/g,"")),p>0&&wt(D)-d&&qo(p>32?cd(D+";",r,n,d-1):cd(J(D," ","")+";",r,n,d-2),l);break;case 59:D+=";";default:if(qo(E=ld(D,e,n,c,u,o,a,v,N=[],C=[],d),s),b===123)if(u===0)is(D,e,E,E,N,s,d,a,C);else switch(f===99&&ye(D,3)===110?100:f){case 100:case 108:case 109:case 115:is(t,E,E,r&&qo(ld(t,E,E,0,0,o,a,v,o,N=[],d),C),o,C,d,a,r?N:C);break;default:is(D,E,E,E,[""],C,0,a,C)}}c=u=p=0,m=y=1,v=D="",d=i;break;case 58:d=1+wt(D),p=h;default:if(m<1){if(b==123)--m;else if(b==125&&m++==0&&$E()==125)continue}switch(D+=li(b),b*m){case 38:y=u>0?1:(D+="\f",-1);break;case 44:a[c++]=(wt(D)-1)*y,y=1;break;case 64:Tt()===45&&(D+=ss(Ye())),f=Tt(),u=d=wt(v=D+=VE(rs())),b++;break;case 45:h===45&&wt(D)==2&&(m=0)}}return s}function ld(t,e,n,r,o,s,i,a,l,c,u){for(var d=o-1,f=o===0?s:[""],p=cc(f),h=0,m=0,g=0;h<r;++h)for(var y=0,b=eo(t,d+1,d=NE(m=i[h])),v=t;y<p;++y)(v=zh(m>0?f[y]+" "+b:J(b,/&\f/g,f[y])))&&(l[g++]=v);return ui(t,e,n,o===0?ac:a,l,c,u)}function jE(t,e,n){return ui(t,e,n,Ph,li(PE()),eo(t,2,-2),0)}function cd(t,e,n,r){return ui(t,e,n,lc,eo(t,0,r),eo(t,r+1,-1),r)}function cr(t,e){for(var n="",r=cc(t),o=0;o<r;o++)n+=e(t[o],o,t,e)||"";return n}function GE(t,e,n,r){switch(t.type){case RE:if(t.children.length)break;case TE:case lc:return t.return=t.return||t.value;case Ph:return"";case $h:return t.return=t.value+"{"+cr(t.children,r)+"}";case ac:t.value=t.props.join(",")}return wt(n=cr(t.children,r))?t.return=t.value+"{"+n+"}":""}function HE(t){var e=cc(t);return function(n,r,o,s){for(var i="",a=0;a<e;a++)i+=t[a](n,r,o,s)||"";return i}}function WE(t){return function(e){e.root||(e=e.return)&&t(e)}}var ud=function(e){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var o=e(r);return n.set(r,o),o}};function KE(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var XE=function(e,n,r){for(var o=0,s=0;o=s,s=Tt(),o===38&&s===12&&(n[r]=1),!to(s);)Ye();return ko(e,Ke)},ZE=function(e,n){var r=-1,o=44;do switch(to(o)){case 0:o===38&&Tt()===12&&(n[r]=1),e[r]+=XE(Ke-1,n,r);break;case 2:e[r]+=ss(o);break;case 4:if(o===44){e[++r]=Tt()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=li(o)}while(o=Ye());return e},YE=function(e,n){return Vh(ZE(qh(e),n))},dd=new WeakMap,QE=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,o=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!dd.get(r))&&!o){dd.set(e,!0);for(var s=[],i=YE(n,s),a=r.props,l=0,c=0;l<i.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?i[l].replace(/&\f/g,a[u]):a[u]+" "+i[l]}}},JE=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function Uh(t,e){switch(LE(t,e)){case 5103:return Q+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Q+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Q+t+ks+t+Ae+t+t;case 6828:case 4268:return Q+t+Ae+t+t;case 6165:return Q+t+Ae+"flex-"+t+t;case 5187:return Q+t+J(t,/(\w+).+(:[^]+)/,Q+"box-$1$2"+Ae+"flex-$1$2")+t;case 5443:return Q+t+Ae+"flex-item-"+J(t,/flex-|-self/,"")+t;case 4675:return Q+t+Ae+"flex-line-pack"+J(t,/align-content|flex-|-self/,"")+t;case 5548:return Q+t+Ae+J(t,"shrink","negative")+t;case 5292:return Q+t+Ae+J(t,"basis","preferred-size")+t;case 6060:return Q+"box-"+J(t,"-grow","")+Q+t+Ae+J(t,"grow","positive")+t;case 4554:return Q+J(t,/([^-])(transform)/g,"$1"+Q+"$2")+t;case 6187:return J(J(J(t,/(zoom-|grab)/,Q+"$1"),/(image-set)/,Q+"$1"),t,"")+t;case 5495:case 3959:return J(t,/(image-set\([^]*)/,Q+"$1$`$1");case 4968:return J(J(t,/(.+:)(flex-)?(.*)/,Q+"box-pack:$3"+Ae+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Q+t+t;case 4095:case 3583:case 4068:case 2532:return J(t,/(.+)-inline(.+)/,Q+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(wt(t)-1-e>6)switch(ye(t,e+1)){case 109:if(ye(t,e+4)!==45)break;case 102:return J(t,/(.+:)(.+)-([^]+)/,"$1"+Q+"$2-$3$1"+ks+(ye(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~tl(t,"stretch")?Uh(J(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ye(t,e+1)!==115)break;case 6444:switch(ye(t,wt(t)-3-(~tl(t,"!important")&&10))){case 107:return J(t,":",":"+Q)+t;case 101:return J(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Q+(ye(t,14)===45?"inline-":"")+"box$3$1"+Q+"$2$3$1"+Ae+"$2box$3")+t}break;case 5936:switch(ye(t,e+11)){case 114:return Q+t+Ae+J(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Q+t+Ae+J(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Q+t+Ae+J(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Q+t+Ae+t+t}return t}var e1=function(e,n,r,o){if(e.length>-1&&!e.return)switch(e.type){case lc:e.return=Uh(e.value,e.length);break;case $h:return cr([Lr(e,{value:J(e.value,"@","@"+Q)})],o);case ac:if(e.length)return IE(e.props,function(s){switch(FE(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return cr([Lr(e,{props:[J(s,/:(read-\w+)/,":"+ks+"$1")]})],o);case"::placeholder":return cr([Lr(e,{props:[J(s,/:(plac\w+)/,":"+Q+"input-$1")]}),Lr(e,{props:[J(s,/:(plac\w+)/,":"+ks+"$1")]}),Lr(e,{props:[J(s,/:(plac\w+)/,Ae+"input-$1")]})],o)}return""})}},t1=[e1],n1=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(m){var g=m.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var o=e.stylisPlugins||t1,s={},i,a=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(m){for(var g=m.getAttribute("data-emotion").split(" "),y=1;y<g.length;y++)s[g[y]]=!0;a.push(m)});var l,c=[QE,JE];{var u,d=[GE,WE(function(m){u.insert(m)})],f=HE(c.concat(o,d)),p=function(g){return cr(UE(g),f)};l=function(g,y,b,v){u=b,p(g?g+"{"+y.styles+"}":y.styles),v&&(h.inserted[y.name]=!0)}}var h={key:n,sheet:new ME({key:n,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return h.sheet.hydrate(a),h},r1=!0;function jh(t,e,n){var r="";return n.split(" ").forEach(function(o){t[o]!==void 0?e.push(t[o]+";"):r+=o+" "}),r}var uc=function(e,n,r){var o=e.key+"-"+n.name;(r===!1||r1===!1)&&e.registered[o]===void 0&&(e.registered[o]=n.styles)},dc=function(e,n,r){uc(e,n,r);var o=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+o:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function o1(t){for(var e=0,n,r=0,o=t.length;o>=4;++r,o-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var s1={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i1=/[A-Z]|^ms/g,a1=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Gh=function(e){return e.charCodeAt(1)===45},fd=function(e){return e!=null&&typeof e!="boolean"},$i=KE(function(t){return Gh(t)?t:t.replace(i1,"-$&").toLowerCase()}),pd=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(a1,function(r,o,s){return _t={name:o,styles:s,next:_t},o})}return s1[e]!==1&&!Gh(e)&&typeof n=="number"&&n!==0?n+"px":n};function no(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return _t={name:n.name,styles:n.styles,next:_t},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)_t={name:r.name,styles:r.styles,next:_t},r=r.next;var o=n.styles+";";return o}return l1(t,e,n)}case"function":{if(t!==void 0){var s=_t,i=n(t);return _t=s,no(t,e,i)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function l1(t,e,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=no(t,e,n[o])+";";else for(var s in n){var i=n[s];if(typeof i!="object")e!=null&&e[i]!==void 0?r+=s+"{"+e[i]+"}":fd(i)&&(r+=$i(s)+":"+pd(s,i)+";");else if(Array.isArray(i)&&typeof i[0]=="string"&&(e==null||e[i[0]]===void 0))for(var a=0;a<i.length;a++)fd(i[a])&&(r+=$i(s)+":"+pd(s,i[a])+";");else{var l=no(t,e,i);switch(s){case"animation":case"animationName":{r+=$i(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var hd=/label:\s*([^\s;\n{]+)\s*(;|$)/g,_t,di=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var o=!0,s="";_t=void 0;var i=e[0];i==null||i.raw===void 0?(o=!1,s+=no(r,n,i)):s+=i[0];for(var a=1;a<e.length;a++)s+=no(r,n,e[a]),o&&(s+=i[a]);hd.lastIndex=0;for(var l="",c;(c=hd.exec(s))!==null;)l+="-"+c[1];var u=o1(s)+l;return{name:u,styles:s,next:_t}},c1=function(e){return e()},Hh=nd.useInsertionEffect?nd.useInsertionEffect:!1,Wh=Hh||c1,md=Hh||A.useLayoutEffect,fc={}.hasOwnProperty,Kh=A.createContext(typeof HTMLElement<"u"?n1({key:"css"}):null);Kh.Provider;var pc=function(e){return A.forwardRef(function(n,r){var o=A.useContext(Kh);return e(n,o,r)})},yr=A.createContext({}),I0e=function(){return A.useContext(yr)},u1=function(e,n){if(typeof n=="function"){var r=n(e);return r}return Ee({},e,n)},d1=ud(function(t){return ud(function(e){return u1(t,e)})}),P0e=function(e){var n=A.useContext(yr);return e.theme!==n&&(n=d1(n)(e.theme)),A.createElement(yr.Provider,{value:n},e.children)},rl="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",f1=function(e,n){var r={};for(var o in n)fc.call(n,o)&&(r[o]=n[o]);return r[rl]=e,r},p1=function(e){var n=e.cache,r=e.serialized,o=e.isStringTag;return uc(n,r,o),Wh(function(){return dc(n,r,o)}),null},h1=pc(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var o=t[rl],s=[r],i="";typeof t.className=="string"?i=jh(e.registered,s,t.className):t.className!=null&&(i=t.className+" ");var a=di(s,void 0,A.useContext(yr));i+=e.key+"-"+a.name;var l={};for(var c in t)fc.call(t,c)&&c!=="css"&&c!==rl&&(l[c]=t[c]);return l.ref=n,l.className=i,A.createElement(A.Fragment,null,A.createElement(p1,{cache:e,serialized:a,isStringTag:typeof o=="string"}),A.createElement(o,l))}),m1=h1,$0e=function(e,n){var r=arguments;if(n==null||!fc.call(n,"css"))return A.createElement.apply(void 0,r);var o=r.length,s=new Array(o);s[0]=m1,s[1]=f1(e,n);for(var i=2;i<o;i++)s[i]=r[i];return A.createElement.apply(null,s)},z0e=pc(function(t,e){var n=t.styles,r=di([n],void 0,A.useContext(yr)),o=A.useRef();return md(function(){var s=e.key+"-global",i=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(i.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),i.hydrate([l])),o.current=[i,a],function(){i.flush()}},[e]),md(function(){var s=o.current,i=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&dc(e,r.next,!0),i.tags.length){var l=i.tags[i.tags.length-1].nextElementSibling;i.before=l,i.flush()}e.insert("",r,i,!1)},[e,r.name]),null});function hc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return di(e)}var g1=function(){var e=hc.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},y1=function t(e){for(var n=e.length,r=0,o="";r<n;r++){var s=e[r];if(s!=null){var i=void 0;switch(typeof s){case"boolean":break;case"object":{if(Array.isArray(s))i=t(s);else{i="";for(var a in s)s[a]&&a&&(i&&(i+=" "),i+=a)}break}default:i=s}i&&(o&&(o+=" "),o+=i)}}return o};function b1(t,e,n){var r=[],o=jh(t,r,n);return r.length<2?n:o+e(r)}var v1=function(e){var n=e.cache,r=e.serializedArr;return Wh(function(){for(var o=0;o<r.length;o++)dc(n,r[o],!1)}),null},B0e=pc(function(t,e){var n=!1,r=[],o=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];var f=di(u,e.registered);return r.push(f),uc(e,f,!1),e.key+"-"+f.name},s=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return b1(e.registered,o,y1(u))},i={css:o,cx:s,theme:A.useContext(yr)},a=t.children(i);return n=!0,A.createElement(A.Fragment,null,A.createElement(v1,{cache:e,serializedArr:r}),a)}),Xh={exports:{}},k1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",x1=k1,E1=x1;function Zh(){}function Yh(){}Yh.resetWarningCache=Zh;var w1=function(){function t(r,o,s,i,a,l){if(l!==E1){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Yh,resetWarningCache:Zh};return n.PropTypes=n,n};Xh.exports=w1();var _1=Xh.exports;const xs=bo(_1),xo=A.createContext({getAtlaskitAnalyticsContext:()=>[],getAtlaskitAnalyticsEventHandlers:()=>[]});function S1(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function A1(t,e){var n=A.useState(function(){return{inputs:e,result:t()}})[0],r=A.useRef(!0),o=A.useRef(n),s=r.current||!!(e&&o.current.inputs&&S1(e,o.current.inputs)),i=s?o.current:{inputs:e,result:t()};return A.useEffect(function(){r.current=!1,o.current=i},[i]),i.result}function C1(t,e){return A1(function(){return t},e)}class mc{constructor(e){re(this,"_isAnalyticsEvent",!0),re(this,"clone",()=>{const n={...this.payload};return new mc({payload:n})}),this.payload=e.payload}update(e){return typeof e=="function"&&(this.payload=e(this.payload)),typeof e=="object"&&(this.payload={...this.payload,...e}),this}}class gc extends mc{constructor(e){super(e),re(this,"_isUIAnalyticsEvent",!0),re(this,"clone",()=>{if(this.hasFired)return null;const n=[...this.context],r=[...this.handlers],o=JSON.parse(JSON.stringify(this.payload));return new gc({context:n,handlers:r,payload:o})}),re(this,"fire",n=>{this.hasFired||(this.handlers.forEach(r=>r(this,n)),this.hasFired=!0)}),this.context=e.context||[],this.handlers=e.handlers||[],this.hasFired=!1}update(e){return this.hasFired?this:super.update(e)}}const yc=()=>A.useContext(xo);function bc(){const t=yc();return{createAnalyticsEvent:C1(n=>new gc({context:t.getAtlaskitAnalyticsContext(),handlers:t.getAtlaskitAnalyticsEventHandlers(),payload:n}),[t])}}const ro=t=>{const e=A.useRef(t);return e.current=t,e};function q0e({fn:t,action:e,componentName:n,actionSubject:r,packageName:o,packageVersion:s,analyticsData:i}){const{createAnalyticsEvent:a}=bc(),l=ro(i),c=ro(t);return A.useCallback(d=>{const f=a({action:e,actionSubject:r||n,attributes:{componentName:n,packageName:o,packageVersion:s}}),p={componentName:n,packageName:o,packageVersion:s,...l.current};f.context.push(p);const h=f.clone();h&&h.fire("atlaskit"),c.current(d,f)},[e,n,r,o,s,a,l,c])}function V0e(t,e,n,r){typeof process<"u"}const gd="__ATLASKIT_THEME__",D1="light",M1=["light","dark"],U0e=()=>3,pn=()=>8,T1=()=>14,j0e=()=>11,G0e=()=>"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif",R1=()=>"'SFMono-Medium', 'SF Mono', 'Segoe UI Mono', 'Roboto Mono', 'Ubuntu Mono', Menlo, Consolas, Courier, monospace",Qh={card:()=>100,navigation:()=>200,dialog:()=>300,layer:()=>400,blanket:()=>500,modal:()=>510,flag:()=>600,spotlight:()=>700,tooltip:()=>9999};function Jh(t){if(t&&t.theme){if(gd in t.theme)return t.theme[gd];if("mode"in t.theme&&M1.includes(t.theme.mode))return t.theme}return{mode:D1}}function N1(t,e){return n=>{const r=Jh(n);if(n&&n[t]&&e){const o=e[n[t]];if(o&&o[r.mode]){const s=o[r.mode];if(s)return s}}return""}}function vc(t,e){if(typeof t=="string")return N1(t,e);const n=t;return r=>{const o=Jh(r);if(o.mode in n){const s=n[o.mode];if(s)return s}return""}}const O1="#FFEBE6",H0e="#FFBDAD",W0e="#FF8F73",K0e="#FF7452",L1="#FF5630",F1="#DE350B",X0e="#BF2600",Z0e="#FFFAE6",Y0e="#FFF0B3",Q0e="#FFE380",J0e="#FFC400",ebe="#FFAB00",tbe="#FF991F",nbe="#FF8B00",rbe="#E3FCEF",obe="#ABF5D1",sbe="#79F2C0",ibe="#57D9A3",abe="#36B37E",lbe="#00875A",cbe="#006644",I1="#DEEBFF",ube="#B3D4FF",dbe="#4C9AFF",fbe="#2684FF",P1="#0065FF",pbe="#0052CC",hbe="#0747A6",mbe="#EAE6FF",gbe="#C0B6F2",ybe="#998DD9",bbe="#8777D9",vbe="#6554C0",kbe="#5243AA",xbe="#403294",Ebe="#E6FCFF",wbe="#B3F5FF",_be="#79E2F2",Sbe="#00C7E6",Abe="#00B8D9",Cbe="#008DA6",Dbe="#FFFFFF",Mbe="#FAFBFC",ol="#F4F5F7",Tbe="#EBECF0",$1="#DFE1E6",z1="#C1C7D0",Rbe="#B3BAC5",Nbe="#A5ADBA",Obe="#97A0AF",Lbe="#8993A4",Fbe="#7A869A",em="#6B778C",Ibe="#5E6C84",Pbe="#505F79",$be="#42526E",zbe="#344563",Bbe="#253858",B1="#172B4D",qbe="#091E42",Vbe="rgba(9, 30, 66, 0.04)",Ube="rgba(9, 30, 66, 0.08)",jbe="rgba(9, 30, 66, 0.13)",Gbe="rgba(9, 30, 66, 0.25)",Hbe="rgba(9, 30, 66, 0.31)",Wbe="rgba(9, 30, 66, 0.36)",Kbe="rgba(9, 30, 66, 0.48)",Xbe="rgba(9, 30, 66, 0.54)",Zbe="rgba(9, 30, 66, 0.60)",Ybe="rgba(9, 30, 66, 0.66)",Qbe="#E6EDFA",q1="#B8C7E0",Jbe="#ABBBD6",eve="#9FB0CC",tm="#8C9CB8",tve="#7988A3",nve="#67758F",rve="#56637A",ove="#3B475C",sve="#313D52",ive="#283447",ave="#202B3D",lve="#1B2638",cve="#121A29",uve="#0E1624",dve="#0D1424",fve=vc({light:`var(--ds-text-subtlest, ${em})`,dark:`var(--ds-text-subtlest, ${tm})`}),Eo=vc({light:`var(--ds-text, ${B1})`,dark:`var(--ds-text, ${q1})`}),nm=vc({light:`var(--ds-text-subtlest, ${em})`,dark:`var(--ds-text-subtlest, ${tm})`});function V1(t){const e=(i,a)=>i(a),n=A.createContext(t);function r(i){return(A.useContext(n)||e)(i)}function o(i){const{children:a,...l}=i,c=r(l);return L.createElement(L.Fragment,null,a(c))}function s(i){const a=A.useContext(n),l=i.value||e,c=A.useCallback(u=>l(a,u),[a,l]);return L.createElement(n.Provider,{value:c},i.children)}return{Consumer:o,Provider:s,useTheme:r}}const{Provider:U1,Consumer:j1,useTheme:pve}=V1(()=>({mode:"light"})),hve={Provider:U1,Consumer:j1};var zi,Bi,qi,Vi,Ui;const G1=(zi=(globalThis==null||(Bi=globalThis.process)===null||Bi===void 0||(qi=Bi.env)===null||qi===void 0?void 0:qi.JEST_WORKER_ID)!==void 0)!==null&&zi!==void 0?zi:!1,H1=!G1&&(globalThis==null||(Vi=globalThis.process)===null||Vi===void 0||(Ui=Vi.env)===null||Ui===void 0?void 0:Ui.NODE_ENV)!=="production",W1=(...t)=>{H1&&console.debug(...t)};var kc={VITE_SHOULD_THROW_ON_INVARIANTS:"false",VITE_CANVAS_RELAY_URL:"https://canvas-workers.atlassian.com",VITE_CANVAS_RELAY_WSS_URL:"wss://canvas-workers.atlassian.com",VITE_SHORT_COMMIT_HASH:"79b5d4",VITE_USER_NODE_ENV:"production",SENTRY_DSN:"https://c539b3edb4ba4437b37ac70f1d1a088a@o55978.ingest.sentry.io/4505121292484608",SENTRY_ENV:"prod",SENTRY_RELEASE:"dev",ENVTYPE:"prod",BUILD_MODE:"prod-east"};const K1="@atlaskit/platform-feature-flags",Es="__PLATFORM_FEATURE_FLAGS__",rm=typeof process<"u"&&typeof kc<"u",X1=rm?kc.ENABLE_PLATFORM_FF==="true":!1,Z1=rm?kc.STORYBOOK_ENABLE_PLATFORM_FF==="true":!1,Y1=X1||Z1,Q1={earlyResolvedFlags:new Map,booleanResolver:function(t){return!1}},ws=typeof window<"u"?window:globalThis;ws[Es]=ws[Es]||Q1;function J1(t){ws[Es].booleanResolver=t}function om(t){if(Y1)return W1('[%s]: The feature flags were enabled while running tests. The flag "%s" will be always enabled.',K1,t),!0;try{var e;const n=(e=ws[Es])===null||e===void 0?void 0:e.booleanResolver(t);return typeof n!="boolean"?(console.warn(`${t} resolved to a non-boolean value, returning false for safety`),!1):n}catch{return!1}}function mve(t){J1(t)}function gve(t){return om(t)}function sm(t){return om(t)}var sl=function(t,e){return sl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},sl(t,e)};function ct(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");sl(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var F=function(){return F=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},F.apply(this,arguments)};function Fn(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function yve(t,e,n,r){function o(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function a(u){try{c(r.next(u))}catch(d){i(d)}}function l(u){try{c(r.throw(u))}catch(d){i(d)}}function c(u){u.done?s(u.value):o(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function bve(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(n=0)),n;)try{if(r=1,o&&(s=c[0]&2?o.return:c[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,c[1])).done)return s;switch(o=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],o=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function vve(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ew(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,s=[],i;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}function kve(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ew(arguments[e]));return t}function St(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,s;r<o;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function xc(t,e,n){if(n===void 0&&(n=Error),!t)throw new n(e)}var K;(function(t){t[t.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",t[t.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",t[t.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",t[t.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",t[t.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",t[t.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",t[t.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",t[t.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",t[t.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",t[t.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",t[t.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",t[t.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",t[t.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",t[t.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",t[t.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",t[t.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",t[t.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",t[t.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",t[t.INVALID_TAG=23]="INVALID_TAG",t[t.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",t[t.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",t[t.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(K||(K={}));var oe;(function(t){t[t.literal=0]="literal",t[t.argument=1]="argument",t[t.number=2]="number",t[t.date=3]="date",t[t.time=4]="time",t[t.select=5]="select",t[t.plural=6]="plural",t[t.pound=7]="pound",t[t.tag=8]="tag"})(oe||(oe={}));var br;(function(t){t[t.number=0]="number",t[t.dateTime=1]="dateTime"})(br||(br={}));function yd(t){return t.type===oe.literal}function tw(t){return t.type===oe.argument}function im(t){return t.type===oe.number}function am(t){return t.type===oe.date}function lm(t){return t.type===oe.time}function cm(t){return t.type===oe.select}function um(t){return t.type===oe.plural}function nw(t){return t.type===oe.pound}function dm(t){return t.type===oe.tag}function fm(t){return!!(t&&typeof t=="object"&&t.type===br.number)}function il(t){return!!(t&&typeof t=="object"&&t.type===br.dateTime)}var pm=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,rw=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function ow(t){var e={};return t.replace(rw,function(n){var r=n.length;switch(n[0]){case"G":e.era=r===4?"long":r===5?"narrow":"short";break;case"y":e.year=r===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":e.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":e.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":e.weekday=r===4?"short":r===5?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");e.weekday=["short","long","narrow","short"][r-4];break;case"a":e.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":e.hourCycle="h12",e.hour=["numeric","2-digit"][r-1];break;case"H":e.hourCycle="h23",e.hour=["numeric","2-digit"][r-1];break;case"K":e.hourCycle="h11",e.hour=["numeric","2-digit"][r-1];break;case"k":e.hourCycle="h24",e.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":e.minute=["numeric","2-digit"][r-1];break;case"s":e.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":e.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),e}var sw=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function iw(t){if(t.length===0)throw new Error("Number skeleton cannot be empty");for(var e=t.split(sw).filter(function(f){return f.length>0}),n=[],r=0,o=e;r<o.length;r++){var s=o[r],i=s.split("/");if(i.length===0)throw new Error("Invalid number skeleton");for(var a=i[0],l=i.slice(1),c=0,u=l;c<u.length;c++){var d=u[c];if(d.length===0)throw new Error("Invalid number skeleton")}n.push({stem:a,options:l})}return n}function aw(t){return t.replace(/^(.*?)-/,"")}var bd=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,hm=/^(@+)?(\+|#+)?[rs]?$/g,lw=/(\*)(0+)|(#+)(0+)|(0+)/g,mm=/^(0+)$/;function vd(t){var e={};return t[t.length-1]==="r"?e.roundingPriority="morePrecision":t[t.length-1]==="s"&&(e.roundingPriority="lessPrecision"),t.replace(hm,function(n,r,o){return typeof o!="string"?(e.minimumSignificantDigits=r.length,e.maximumSignificantDigits=r.length):o==="+"?e.minimumSignificantDigits=r.length:r[0]==="#"?e.maximumSignificantDigits=r.length:(e.minimumSignificantDigits=r.length,e.maximumSignificantDigits=r.length+(typeof o=="string"?o.length:0)),""}),e}function gm(t){switch(t){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function cw(t){var e;if(t[0]==="E"&&t[1]==="E"?(e={notation:"engineering"},t=t.slice(2)):t[0]==="E"&&(e={notation:"scientific"},t=t.slice(1)),e){var n=t.slice(0,2);if(n==="+!"?(e.signDisplay="always",t=t.slice(2)):n==="+?"&&(e.signDisplay="exceptZero",t=t.slice(2)),!mm.test(t))throw new Error("Malformed concise eng/scientific notation");e.minimumIntegerDigits=t.length}return e}function kd(t){var e={},n=gm(t);return n||e}function uw(t){for(var e={},n=0,r=t;n<r.length;n++){var o=r[n];switch(o.stem){case"percent":case"%":e.style="percent";continue;case"%x100":e.style="percent",e.scale=100;continue;case"currency":e.style="currency",e.currency=o.options[0];continue;case"group-off":case",_":e.useGrouping=!1;continue;case"precision-integer":case".":e.maximumFractionDigits=0;continue;case"measure-unit":case"unit":e.style="unit",e.unit=aw(o.options[0]);continue;case"compact-short":case"K":e.notation="compact",e.compactDisplay="short";continue;case"compact-long":case"KK":e.notation="compact",e.compactDisplay="long";continue;case"scientific":e=F(F(F({},e),{notation:"scientific"}),o.options.reduce(function(l,c){return F(F({},l),kd(c))},{}));continue;case"engineering":e=F(F(F({},e),{notation:"engineering"}),o.options.reduce(function(l,c){return F(F({},l),kd(c))},{}));continue;case"notation-simple":e.notation="standard";continue;case"unit-width-narrow":e.currencyDisplay="narrowSymbol",e.unitDisplay="narrow";continue;case"unit-width-short":e.currencyDisplay="code",e.unitDisplay="short";continue;case"unit-width-full-name":e.currencyDisplay="name",e.unitDisplay="long";continue;case"unit-width-iso-code":e.currencyDisplay="symbol";continue;case"scale":e.scale=parseFloat(o.options[0]);continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(lw,function(l,c,u,d,f,p){if(c)e.minimumIntegerDigits=u.length;else{if(d&&f)throw new Error("We currently do not support maximum integer digits");if(p)throw new Error("We currently do not support exact integer digits")}return""});continue}if(mm.test(o.stem)){e.minimumIntegerDigits=o.stem.length;continue}if(bd.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(bd,function(l,c,u,d,f,p){return u==="*"?e.minimumFractionDigits=c.length:d&&d[0]==="#"?e.maximumFractionDigits=d.length:f&&p?(e.minimumFractionDigits=f.length,e.maximumFractionDigits=f.length+p.length):(e.minimumFractionDigits=c.length,e.maximumFractionDigits=c.length),""});var s=o.options[0];s==="w"?e=F(F({},e),{trailingZeroDisplay:"stripIfInteger"}):s&&(e=F(F({},e),vd(s)));continue}if(hm.test(o.stem)){e=F(F({},e),vd(o.stem));continue}var i=gm(o.stem);i&&(e=F(F({},e),i));var a=cw(o.stem);a&&(e=F(F({},e),a))}return e}var ji,dw=new RegExp("^"+pm.source+"*"),fw=new RegExp(pm.source+"*$");function X(t,e){return{start:t,end:e}}var pw=!!String.prototype.startsWith,hw=!!String.fromCodePoint,mw=!!Object.fromEntries,gw=!!String.prototype.codePointAt,yw=!!String.prototype.trimStart,bw=!!String.prototype.trimEnd,vw=!!Number.isSafeInteger,kw=vw?Number.isSafeInteger:function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t&&Math.abs(t)<=9007199254740991},al=!0;try{var xw=bm("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");al=((ji=xw.exec("a"))===null||ji===void 0?void 0:ji[0])==="a"}catch{al=!1}var xd=pw?function(e,n,r){return e.startsWith(n,r)}:function(e,n,r){return e.slice(r,r+n.length)===n},ll=hw?String.fromCodePoint:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",o=e.length,s=0,i;o>s;){if(i=e[s++],i>1114111)throw RangeError(i+" is not a valid code point");r+=i<65536?String.fromCharCode(i):String.fromCharCode(((i-=65536)>>10)+55296,i%1024+56320)}return r},Ed=mw?Object.fromEntries:function(e){for(var n={},r=0,o=e;r<o.length;r++){var s=o[r],i=s[0],a=s[1];n[i]=a}return n},ym=gw?function(e,n){return e.codePointAt(n)}:function(e,n){var r=e.length;if(!(n<0||n>=r)){var o=e.charCodeAt(n),s;return o<55296||o>56319||n+1===r||(s=e.charCodeAt(n+1))<56320||s>57343?o:(o-55296<<10)+(s-56320)+65536}},Ew=yw?function(e){return e.trimStart()}:function(e){return e.replace(dw,"")},ww=bw?function(e){return e.trimEnd()}:function(e){return e.replace(fw,"")};function bm(t,e){return new RegExp(t,e)}var cl;if(al){var wd=bm("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");cl=function(e,n){var r;wd.lastIndex=n;var o=wd.exec(e);return(r=o[1])!==null&&r!==void 0?r:""}}else cl=function(e,n){for(var r=[];;){var o=ym(e,n);if(o===void 0||vm(o)||Cw(o))break;r.push(o),n+=o>=65536?2:1}return ll.apply(void 0,r)};var _w=function(){function t(e,n){n===void 0&&(n={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!n.ignoreTag,this.requiresOtherClause=!!n.requiresOtherClause,this.shouldParseSkeletons=!!n.shouldParseSkeletons}return t.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},t.prototype.parseMessage=function(e,n,r){for(var o=[];!this.isEOF();){var s=this.char();if(s===123){var i=this.parseArgument(e,r);if(i.err)return i;o.push(i.val)}else{if(s===125&&e>0)break;if(s===35&&(n==="plural"||n==="selectordinal")){var a=this.clonePosition();this.bump(),o.push({type:oe.pound,location:X(a,this.clonePosition())})}else if(s===60&&!this.ignoreTag&&this.peek()===47){if(r)break;return this.error(K.UNMATCHED_CLOSING_TAG,X(this.clonePosition(),this.clonePosition()))}else if(s===60&&!this.ignoreTag&&ul(this.peek()||0)){var i=this.parseTag(e,n);if(i.err)return i;o.push(i.val)}else{var i=this.parseLiteral(e,n);if(i.err)return i;o.push(i.val)}}}return{val:o,err:null}},t.prototype.parseTag=function(e,n){var r=this.clonePosition();this.bump();var o=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:oe.literal,value:"<"+o+"/>",location:X(r,this.clonePosition())},err:null};if(this.bumpIf(">")){var s=this.parseMessage(e+1,n,!0);if(s.err)return s;var i=s.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!ul(this.char()))return this.error(K.INVALID_TAG,X(a,this.clonePosition()));var l=this.clonePosition(),c=this.parseTagName();return o!==c?this.error(K.UNMATCHED_CLOSING_TAG,X(l,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:oe.tag,value:o,children:i,location:X(r,this.clonePosition())},err:null}:this.error(K.INVALID_TAG,X(a,this.clonePosition())))}else return this.error(K.UNCLOSED_TAG,X(r,this.clonePosition()))}else return this.error(K.INVALID_TAG,X(r,this.clonePosition()))},t.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&Aw(this.char());)this.bump();return this.message.slice(e,this.offset())},t.prototype.parseLiteral=function(e,n){for(var r=this.clonePosition(),o="";;){var s=this.tryParseQuote(n);if(s){o+=s;continue}var i=this.tryParseUnquoted(e,n);if(i){o+=i;continue}var a=this.tryParseLeftAngleBracket();if(a){o+=a;continue}break}var l=X(r,this.clonePosition());return{val:{type:oe.literal,value:o,location:l},err:null}},t.prototype.tryParseLeftAngleBracket=function(){return!this.isEOF()&&this.char()===60&&(this.ignoreTag||!Sw(this.peek()||0))?(this.bump(),"<"):null},t.prototype.tryParseQuote=function(e){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(e==="plural"||e==="selectordinal")break;return null;default:return null}this.bump();var n=[this.char()];for(this.bump();!this.isEOF();){var r=this.char();if(r===39)if(this.peek()===39)n.push(39),this.bump();else{this.bump();break}else n.push(r);this.bump()}return ll.apply(void 0,n)},t.prototype.tryParseUnquoted=function(e,n){if(this.isEOF())return null;var r=this.char();return r===60||r===123||r===35&&(n==="plural"||n==="selectordinal")||r===125&&e>0?null:(this.bump(),ll(r))},t.prototype.parseArgument=function(e,n){var r=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(K.EXPECT_ARGUMENT_CLOSING_BRACE,X(r,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(K.EMPTY_ARGUMENT,X(r,this.clonePosition()));var o=this.parseIdentifierIfPossible().value;if(!o)return this.error(K.MALFORMED_ARGUMENT,X(r,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(K.EXPECT_ARGUMENT_CLOSING_BRACE,X(r,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:oe.argument,value:o,location:X(r,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(K.EXPECT_ARGUMENT_CLOSING_BRACE,X(r,this.clonePosition())):this.parseArgumentOptions(e,n,o,r);default:return this.error(K.MALFORMED_ARGUMENT,X(r,this.clonePosition()))}},t.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),n=this.offset(),r=cl(this.message,n),o=n+r.length;this.bumpTo(o);var s=this.clonePosition(),i=X(e,s);return{value:r,location:i}},t.prototype.parseArgumentOptions=function(e,n,r,o){var s,i=this.clonePosition(),a=this.parseIdentifierIfPossible().value,l=this.clonePosition();switch(a){case"":return this.error(K.EXPECT_ARGUMENT_TYPE,X(i,l));case"number":case"date":case"time":{this.bumpSpace();var c=null;if(this.bumpIf(",")){this.bumpSpace();var u=this.clonePosition(),d=this.parseSimpleArgStyleIfPossible();if(d.err)return d;var f=ww(d.val);if(f.length===0)return this.error(K.EXPECT_ARGUMENT_STYLE,X(this.clonePosition(),this.clonePosition()));var p=X(u,this.clonePosition());c={style:f,styleLocation:p}}var h=this.tryParseArgumentClose(o);if(h.err)return h;var m=X(o,this.clonePosition());if(c&&xd(c==null?void 0:c.style,"::",0)){var g=Ew(c.style.slice(2));if(a==="number"){var d=this.parseNumberSkeletonFromString(g,c.styleLocation);return d.err?d:{val:{type:oe.number,value:r,location:m,style:d.val},err:null}}else{if(g.length===0)return this.error(K.EXPECT_DATE_TIME_SKELETON,m);var f={type:br.dateTime,pattern:g,location:c.styleLocation,parsedOptions:this.shouldParseSkeletons?ow(g):{}},y=a==="date"?oe.date:oe.time;return{val:{type:y,value:r,location:m,style:f},err:null}}}return{val:{type:a==="number"?oe.number:a==="date"?oe.date:oe.time,value:r,location:m,style:(s=c==null?void 0:c.style)!==null&&s!==void 0?s:null},err:null}}case"plural":case"selectordinal":case"select":{var b=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(K.EXPECT_SELECT_ARGUMENT_OPTIONS,X(b,F({},b)));this.bumpSpace();var v=this.parseIdentifierIfPossible(),N=0;if(a!=="select"&&v.value==="offset"){if(!this.bumpIf(":"))return this.error(K.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,X(this.clonePosition(),this.clonePosition()));this.bumpSpace();var d=this.tryParseDecimalInteger(K.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,K.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);if(d.err)return d;this.bumpSpace(),v=this.parseIdentifierIfPossible(),N=d.val}var C=this.tryParsePluralOrSelectOptions(e,a,n,v);if(C.err)return C;var h=this.tryParseArgumentClose(o);if(h.err)return h;var E=X(o,this.clonePosition());return a==="select"?{val:{type:oe.select,value:r,options:Ed(C.val),location:E},err:null}:{val:{type:oe.plural,value:r,options:Ed(C.val),offset:N,pluralType:a==="plural"?"cardinal":"ordinal",location:E},err:null}}default:return this.error(K.INVALID_ARGUMENT_TYPE,X(i,l))}},t.prototype.tryParseArgumentClose=function(e){return this.isEOF()||this.char()!==125?this.error(K.EXPECT_ARGUMENT_CLOSING_BRACE,X(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},t.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,n=this.clonePosition();!this.isEOF();){var r=this.char();switch(r){case 39:{this.bump();var o=this.clonePosition();if(!this.bumpUntil("'"))return this.error(K.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,X(o,this.clonePosition()));this.bump();break}case 123:{e+=1,this.bump();break}case 125:{if(e>0)e-=1;else return{val:this.message.slice(n.offset,this.offset()),err:null};break}default:this.bump();break}}return{val:this.message.slice(n.offset,this.offset()),err:null}},t.prototype.parseNumberSkeletonFromString=function(e,n){var r=[];try{r=iw(e)}catch{return this.error(K.INVALID_NUMBER_SKELETON,n)}return{val:{type:br.number,tokens:r,location:n,parsedOptions:this.shouldParseSkeletons?uw(r):{}},err:null}},t.prototype.tryParsePluralOrSelectOptions=function(e,n,r,o){for(var s,i=!1,a=[],l=new Set,c=o.value,u=o.location;;){if(c.length===0){var d=this.clonePosition();if(n!=="select"&&this.bumpIf("=")){var f=this.tryParseDecimalInteger(K.EXPECT_PLURAL_ARGUMENT_SELECTOR,K.INVALID_PLURAL_ARGUMENT_SELECTOR);if(f.err)return f;u=X(d,this.clonePosition()),c=this.message.slice(d.offset,this.offset())}else break}if(l.has(c))return this.error(n==="select"?K.DUPLICATE_SELECT_ARGUMENT_SELECTOR:K.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,u);c==="other"&&(i=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error(n==="select"?K.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:K.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,X(this.clonePosition(),this.clonePosition()));var h=this.parseMessage(e+1,n,r);if(h.err)return h;var m=this.tryParseArgumentClose(p);if(m.err)return m;a.push([c,{value:h.val,location:X(p,this.clonePosition())}]),l.add(c),this.bumpSpace(),s=this.parseIdentifierIfPossible(),c=s.value,u=s.location}return a.length===0?this.error(n==="select"?K.EXPECT_SELECT_ARGUMENT_SELECTOR:K.EXPECT_PLURAL_ARGUMENT_SELECTOR,X(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!i?this.error(K.MISSING_OTHER_CLAUSE,X(this.clonePosition(),this.clonePosition())):{val:a,err:null}},t.prototype.tryParseDecimalInteger=function(e,n){var r=1,o=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(r=-1);for(var s=!1,i=0;!this.isEOF();){var a=this.char();if(a>=48&&a<=57)s=!0,i=i*10+(a-48),this.bump();else break}var l=X(o,this.clonePosition());return s?(i*=r,kw(i)?{val:i,err:null}:this.error(n,l)):this.error(e,l)},t.prototype.offset=function(){return this.position.offset},t.prototype.isEOF=function(){return this.offset()===this.message.length},t.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},t.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var n=ym(this.message,e);if(n===void 0)throw Error("Offset "+e+" is at invalid UTF-16 code unit boundary");return n},t.prototype.error=function(e,n){return{val:null,err:{kind:e,message:this.message,location:n}}},t.prototype.bump=function(){if(!this.isEOF()){var e=this.char();e===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},t.prototype.bumpIf=function(e){if(xd(this.message,e,this.offset())){for(var n=0;n<e.length;n++)this.bump();return!0}return!1},t.prototype.bumpUntil=function(e){var n=this.offset(),r=this.message.indexOf(e,n);return r>=0?(this.bumpTo(r),!0):(this.bumpTo(this.message.length),!1)},t.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset "+e+" must be greater than or equal to the current offset "+this.offset());for(e=Math.min(e,this.message.length);;){var n=this.offset();if(n===e)break;if(n>e)throw Error("targetOffset "+e+" is at invalid UTF-16 code unit boundary");if(this.bump(),this.isEOF())break}},t.prototype.bumpSpace=function(){for(;!this.isEOF()&&vm(this.char());)this.bump()},t.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),n=this.offset(),r=this.message.charCodeAt(n+(e>=65536?2:1));return r??null},t}();function ul(t){return t>=97&&t<=122||t>=65&&t<=90}function Sw(t){return ul(t)||t===47}function Aw(t){return t===45||t===46||t>=48&&t<=57||t===95||t>=97&&t<=122||t>=65&&t<=90||t==183||t>=192&&t<=214||t>=216&&t<=246||t>=248&&t<=893||t>=895&&t<=8191||t>=8204&&t<=8205||t>=8255&&t<=8256||t>=8304&&t<=8591||t>=11264&&t<=12271||t>=12289&&t<=55295||t>=63744&&t<=64975||t>=65008&&t<=65533||t>=65536&&t<=983039}function vm(t){return t>=9&&t<=13||t===32||t===133||t>=8206&&t<=8207||t===8232||t===8233}function Cw(t){return t>=33&&t<=35||t===36||t>=37&&t<=39||t===40||t===41||t===42||t===43||t===44||t===45||t>=46&&t<=47||t>=58&&t<=59||t>=60&&t<=62||t>=63&&t<=64||t===91||t===92||t===93||t===94||t===96||t===123||t===124||t===125||t===126||t===161||t>=162&&t<=165||t===166||t===167||t===169||t===171||t===172||t===174||t===176||t===177||t===182||t===187||t===191||t===215||t===247||t>=8208&&t<=8213||t>=8214&&t<=8215||t===8216||t===8217||t===8218||t>=8219&&t<=8220||t===8221||t===8222||t===8223||t>=8224&&t<=8231||t>=8240&&t<=8248||t===8249||t===8250||t>=8251&&t<=8254||t>=8257&&t<=8259||t===8260||t===8261||t===8262||t>=8263&&t<=8273||t===8274||t===8275||t>=8277&&t<=8286||t>=8592&&t<=8596||t>=8597&&t<=8601||t>=8602&&t<=8603||t>=8604&&t<=8607||t===8608||t>=8609&&t<=8610||t===8611||t>=8612&&t<=8613||t===8614||t>=8615&&t<=8621||t===8622||t>=8623&&t<=8653||t>=8654&&t<=8655||t>=8656&&t<=8657||t===8658||t===8659||t===8660||t>=8661&&t<=8691||t>=8692&&t<=8959||t>=8960&&t<=8967||t===8968||t===8969||t===8970||t===8971||t>=8972&&t<=8991||t>=8992&&t<=8993||t>=8994&&t<=9e3||t===9001||t===9002||t>=9003&&t<=9083||t===9084||t>=9085&&t<=9114||t>=9115&&t<=9139||t>=9140&&t<=9179||t>=9180&&t<=9185||t>=9186&&t<=9254||t>=9255&&t<=9279||t>=9280&&t<=9290||t>=9291&&t<=9311||t>=9472&&t<=9654||t===9655||t>=9656&&t<=9664||t===9665||t>=9666&&t<=9719||t>=9720&&t<=9727||t>=9728&&t<=9838||t===9839||t>=9840&&t<=10087||t===10088||t===10089||t===10090||t===10091||t===10092||t===10093||t===10094||t===10095||t===10096||t===10097||t===10098||t===10099||t===10100||t===10101||t>=10132&&t<=10175||t>=10176&&t<=10180||t===10181||t===10182||t>=10183&&t<=10213||t===10214||t===10215||t===10216||t===10217||t===10218||t===10219||t===10220||t===10221||t===10222||t===10223||t>=10224&&t<=10239||t>=10240&&t<=10495||t>=10496&&t<=10626||t===10627||t===10628||t===10629||t===10630||t===10631||t===10632||t===10633||t===10634||t===10635||t===10636||t===10637||t===10638||t===10639||t===10640||t===10641||t===10642||t===10643||t===10644||t===10645||t===10646||t===10647||t===10648||t>=10649&&t<=10711||t===10712||t===10713||t===10714||t===10715||t>=10716&&t<=10747||t===10748||t===10749||t>=10750&&t<=11007||t>=11008&&t<=11055||t>=11056&&t<=11076||t>=11077&&t<=11078||t>=11079&&t<=11084||t>=11085&&t<=11123||t>=11124&&t<=11125||t>=11126&&t<=11157||t===11158||t>=11159&&t<=11263||t>=11776&&t<=11777||t===11778||t===11779||t===11780||t===11781||t>=11782&&t<=11784||t===11785||t===11786||t===11787||t===11788||t===11789||t>=11790&&t<=11798||t===11799||t>=11800&&t<=11801||t===11802||t===11803||t===11804||t===11805||t>=11806&&t<=11807||t===11808||t===11809||t===11810||t===11811||t===11812||t===11813||t===11814||t===11815||t===11816||t===11817||t>=11818&&t<=11822||t===11823||t>=11824&&t<=11833||t>=11834&&t<=11835||t>=11836&&t<=11839||t===11840||t===11841||t===11842||t>=11843&&t<=11855||t>=11856&&t<=11857||t===11858||t>=11859&&t<=11903||t>=12289&&t<=12291||t===12296||t===12297||t===12298||t===12299||t===12300||t===12301||t===12302||t===12303||t===12304||t===12305||t>=12306&&t<=12307||t===12308||t===12309||t===12310||t===12311||t===12312||t===12313||t===12314||t===12315||t===12316||t===12317||t>=12318&&t<=12319||t===12320||t===12336||t===64830||t===64831||t>=65093&&t<=65094}function dl(t){t.forEach(function(e){if(delete e.location,cm(e)||um(e))for(var n in e.options)delete e.options[n].location,dl(e.options[n].value);else im(e)&&fm(e.style)||(am(e)||lm(e))&&il(e.style)?delete e.style.location:dm(e)&&dl(e.children)})}function Dw(t,e){e===void 0&&(e={}),e=F({shouldParseSkeletons:!0,requiresOtherClause:!0},e);var n=new _w(t,e).parse();if(n.err){var r=SyntaxError(K[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return e!=null&&e.captureLocation||dl(n.val),n.val}function xt(t,e){var n=e&&e.cache?e.cache:Lw,r=e&&e.serializer?e.serializer:Ow,o=e&&e.strategy?e.strategy:Tw;return o(t,{cache:n,serializer:r})}function Mw(t){return t==null||typeof t=="number"||typeof t=="boolean"}function km(t,e,n,r){var o=Mw(r)?r:n(r),s=e.get(o);return typeof s>"u"&&(s=t.call(this,r),e.set(o,s)),s}function xm(t,e,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),s=e.get(o);return typeof s>"u"&&(s=t.apply(this,r),e.set(o,s)),s}function Ec(t,e,n,r,o){return n.bind(e,t,r,o)}function Tw(t,e){var n=t.length===1?km:xm;return Ec(t,this,n,e.cache.create(),e.serializer)}function Rw(t,e){return Ec(t,this,xm,e.cache.create(),e.serializer)}function Nw(t,e){return Ec(t,this,km,e.cache.create(),e.serializer)}var Ow=function(){return JSON.stringify(arguments)};function wc(){this.cache=Object.create(null)}wc.prototype.get=function(t){return this.cache[t]};wc.prototype.set=function(t,e){this.cache[t]=e};var Lw={create:function(){return new wc}},Et={variadic:Rw,monadic:Nw},Nt;(function(t){t.MISSING_VALUE="MISSING_VALUE",t.INVALID_VALUE="INVALID_VALUE",t.MISSING_INTL_API="MISSING_INTL_API"})(Nt||(Nt={}));var hn=function(t){ct(e,t);function e(n,r,o){var s=t.call(this,n)||this;return s.code=r,s.originalMessage=o,s}return e.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},e}(Error),_d=function(t){ct(e,t);function e(n,r,o,s){return t.call(this,'Invalid values for "'+n+'": "'+r+'". Options are "'+Object.keys(o).join('", "')+'"',Nt.INVALID_VALUE,s)||this}return e}(hn),Fw=function(t){ct(e,t);function e(n,r,o){return t.call(this,'Value for "'+n+'" must be of type '+r,Nt.INVALID_VALUE,o)||this}return e}(hn),Iw=function(t){ct(e,t);function e(n,r){return t.call(this,'The intl string context variable "'+n+'" was not provided to the string "'+r+'"',Nt.MISSING_VALUE,r)||this}return e}(hn),Oe;(function(t){t[t.literal=0]="literal",t[t.object=1]="object"})(Oe||(Oe={}));function Pw(t){return t.length<2?t:t.reduce(function(e,n){var r=e[e.length-1];return!r||r.type!==Oe.literal||n.type!==Oe.literal?e.push(n):r.value+=n.value,e},[])}function Em(t){return typeof t=="function"}function as(t,e,n,r,o,s,i){if(t.length===1&&yd(t[0]))return[{type:Oe.literal,value:t[0].value}];for(var a=[],l=0,c=t;l<c.length;l++){var u=c[l];if(yd(u)){a.push({type:Oe.literal,value:u.value});continue}if(nw(u)){typeof s=="number"&&a.push({type:Oe.literal,value:n.getNumberFormat(e).format(s)});continue}var d=u.value;if(!(o&&d in o))throw new Iw(d,i);var f=o[d];if(tw(u)){(!f||typeof f=="string"||typeof f=="number")&&(f=typeof f=="string"||typeof f=="number"?String(f):""),a.push({type:typeof f=="string"?Oe.literal:Oe.object,value:f});continue}if(am(u)){var p=typeof u.style=="string"?r.date[u.style]:il(u.style)?u.style.parsedOptions:void 0;a.push({type:Oe.literal,value:n.getDateTimeFormat(e,p).format(f)});continue}if(lm(u)){var p=typeof u.style=="string"?r.time[u.style]:il(u.style)?u.style.parsedOptions:void 0;a.push({type:Oe.literal,value:n.getDateTimeFormat(e,p).format(f)});continue}if(im(u)){var p=typeof u.style=="string"?r.number[u.style]:fm(u.style)?u.style.parsedOptions:void 0;p&&p.scale&&(f=f*(p.scale||1)),a.push({type:Oe.literal,value:n.getNumberFormat(e,p).format(f)});continue}if(dm(u)){var h=u.children,m=u.value,g=o[m];if(!Em(g))throw new Fw(m,"function",i);var y=as(h,e,n,r,o,s),b=g(y.map(function(C){return C.value}));Array.isArray(b)||(b=[b]),a.push.apply(a,b.map(function(C){return{type:typeof C=="string"?Oe.literal:Oe.object,value:C}}))}if(cm(u)){var v=u.options[f]||u.options.other;if(!v)throw new _d(u.value,f,Object.keys(u.options),i);a.push.apply(a,as(v.value,e,n,r,o));continue}if(um(u)){var v=u.options["="+f];if(!v){if(!Intl.PluralRules)throw new hn(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Nt.MISSING_INTL_API,i);var N=n.getPluralRules(e,{type:u.pluralType}).select(f-(u.offset||0));v=u.options[N]||u.options.other}if(!v)throw new _d(u.value,f,Object.keys(u.options),i);a.push.apply(a,as(v.value,e,n,r,o,f-(u.offset||0)));continue}}return Pw(a)}function $w(t,e){return e?F(F(F({},t||{}),e||{}),Object.keys(t).reduce(function(n,r){return n[r]=F(F({},t[r]),e[r]||{}),n},{})):t}function zw(t,e){return e?Object.keys(t).reduce(function(n,r){return n[r]=$w(t[r],e[r]),n},F({},t)):t}function Gi(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}}}function Bw(t){return t===void 0&&(t={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:xt(function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((e=Intl.NumberFormat).bind.apply(e,St([void 0],n,!1)))},{cache:Gi(t.number),strategy:Et.variadic}),getDateTimeFormat:xt(function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((e=Intl.DateTimeFormat).bind.apply(e,St([void 0],n,!1)))},{cache:Gi(t.dateTime),strategy:Et.variadic}),getPluralRules:xt(function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new((e=Intl.PluralRules).bind.apply(e,St([void 0],n,!1)))},{cache:Gi(t.pluralRules),strategy:Et.variadic})}}var wm=function(){function t(e,n,r,o){var s=this;if(n===void 0&&(n=t.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(i){var a=s.formatToParts(i);if(a.length===1)return a[0].value;var l=a.reduce(function(c,u){return!c.length||u.type!==Oe.literal||typeof c[c.length-1]!="string"?c.push(u.value):c[c.length-1]+=u.value,c},[]);return l.length<=1?l[0]||"":l},this.formatToParts=function(i){return as(s.ast,s.locales,s.formatters,s.formats,i,void 0,s.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(s.locales)[0]}},this.getAst=function(){return s.ast},typeof e=="string"){if(this.message=e,!t.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=t.__parse(e,{ignoreTag:o==null?void 0:o.ignoreTag})}else this.ast=e;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=zw(t.formats,r),this.locales=n,this.formatters=o&&o.formatters||Bw(this.formatterCache)}return Object.defineProperty(t,"defaultLocale",{get:function(){return t.memoizedDefaultLocale||(t.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),t.memoizedDefaultLocale},enumerable:!1,configurable:!0}),t.memoizedDefaultLocale=null,t.__parse=Dw,t.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},t}(),Re;(function(t){t.FORMAT_ERROR="FORMAT_ERROR",t.UNSUPPORTED_FORMATTER="UNSUPPORTED_FORMATTER",t.INVALID_CONFIG="INVALID_CONFIG",t.MISSING_DATA="MISSING_DATA",t.MISSING_TRANSLATION="MISSING_TRANSLATION"})(Re||(Re={}));var Ze=function(t){ct(e,t);function e(n,r,o){var s=this,i=o?o instanceof Error?o:new Error(String(o)):void 0;return s=t.call(this,"[@formatjs/intl Error "+n+"] "+r+` 
`+(i?`
`+i.message+`
`+i.stack:""))||this,s.code=n,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(s,e),s}return e}(Error),qw=function(t){ct(e,t);function e(n,r){return t.call(this,Re.UNSUPPORTED_FORMATTER,n,r)||this}return e}(Ze),Vw=function(t){ct(e,t);function e(n,r){return t.call(this,Re.INVALID_CONFIG,n,r)||this}return e}(Ze),Sd=function(t){ct(e,t);function e(n,r){return t.call(this,Re.MISSING_DATA,n,r)||this}return e}(Ze),_c=function(t){ct(e,t);function e(n,r,o){return t.call(this,Re.FORMAT_ERROR,n+` 
Locale: `+r+`
`,o)||this}return e}(Ze),Hi=function(t){ct(e,t);function e(n,r,o,s){var i=t.call(this,n+` 
MessageID: `+(o==null?void 0:o.id)+`
Default Message: `+(o==null?void 0:o.defaultMessage)+`
Description: `+(o==null?void 0:o.description)+` 
`,r,s)||this;return i.descriptor=o,i}return e}(_c),Uw=function(t){ct(e,t);function e(n,r){var o=t.call(this,Re.MISSING_TRANSLATION,'Missing message: "'+n.id+'" for locale "'+r+'", using '+(n.defaultMessage?"default message":"id")+" as fallback.")||this;return o.descriptor=n,o}return e}(Ze);function qn(t,e,n){return n===void 0&&(n={}),e.reduce(function(r,o){return o in t?r[o]=t[o]:o in n&&(r[o]=n[o]),r},{})}var jw=function(t){},_m={formats:{},messages:{},timeZone:void 0,defaultLocale:"en",defaultFormats:{},fallbackOnEmptyString:!0,onError:jw};function Sm(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function bn(t){return{create:function(){return{get:function(e){return t[e]},set:function(e,n){t[e]=n}}}}}function Gw(t){t===void 0&&(t=Sm());var e=Intl.RelativeTimeFormat,n=Intl.ListFormat,r=Intl.DisplayNames,o=xt(function(){for(var a,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return new((a=Intl.DateTimeFormat).bind.apply(a,St([void 0],l,!1)))},{cache:bn(t.dateTime),strategy:Et.variadic}),s=xt(function(){for(var a,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return new((a=Intl.NumberFormat).bind.apply(a,St([void 0],l,!1)))},{cache:bn(t.number),strategy:Et.variadic}),i=xt(function(){for(var a,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return new((a=Intl.PluralRules).bind.apply(a,St([void 0],l,!1)))},{cache:bn(t.pluralRules),strategy:Et.variadic});return{getDateTimeFormat:o,getNumberFormat:s,getMessageFormat:xt(function(a,l,c,u){return new wm(a,l,c,F({formatters:{getNumberFormat:s,getDateTimeFormat:o,getPluralRules:i}},u||{}))},{cache:bn(t.message),strategy:Et.variadic}),getRelativeTimeFormat:xt(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return new(e.bind.apply(e,St([void 0],a,!1)))},{cache:bn(t.relativeTime),strategy:Et.variadic}),getPluralRules:i,getListFormat:xt(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return new(n.bind.apply(n,St([void 0],a,!1)))},{cache:bn(t.list),strategy:Et.variadic}),getDisplayNames:xt(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return new(r.bind.apply(r,St([void 0],a,!1)))},{cache:bn(t.displayNames),strategy:Et.variadic})}}function Sc(t,e,n,r){var o=t&&t[e],s;if(o&&(s=o[n]),s)return s;r(new qw("No "+e+" format named: "+n))}function Vo(t,e){return Object.keys(t).reduce(function(n,r){return n[r]=F({timeZone:e},t[r]),n},{})}function Ad(t,e){var n=Object.keys(F(F({},t),e));return n.reduce(function(r,o){return r[o]=F(F({},t[o]||{}),e[o]||{}),r},{})}function Cd(t,e){if(!e)return t;var n=wm.formats;return F(F(F({},n),t),{date:Ad(Vo(n.date,e),Vo(t.date||{},e)),time:Ad(Vo(n.time,e),Vo(t.time||{},e))})}function Am(t,e,n,r,o){var s=t.locale,i=t.formats,a=t.messages,l=t.defaultLocale,c=t.defaultFormats,u=t.fallbackOnEmptyString,d=t.onError,f=t.timeZone,p=t.defaultRichTextElements;n===void 0&&(n={id:""});var h=n.id,m=n.defaultMessage;xc(!!h,"[@formatjs/intl] An `id` must be provided to format a message. You can either:\n1. Configure your build toolchain with [babel-plugin-formatjs](https://formatjs.io/docs/tooling/babel-plugin)\nor [@formatjs/ts-transformer](https://formatjs.io/docs/tooling/ts-transformer) OR\n2. Configure your `eslint` config to include [eslint-plugin-formatjs](https://formatjs.io/docs/tooling/linter#enforce-id)\nto autofix this issue");var g=String(h),y=a&&Object.prototype.hasOwnProperty.call(a,g)&&a[g];if(Array.isArray(y)&&y.length===1&&y[0].type===oe.literal)return y[0].value;if(!r&&y&&typeof y=="string"&&!p)return y.replace(/'\{(.*?)\}'/gi,"{$1}");if(r=F(F({},p),r||{}),i=Cd(i,f),c=Cd(c,f),!y){if(u===!1&&y==="")return y;if((!m||s&&s.toLowerCase()!==l.toLowerCase())&&d(new Uw(n,s)),m)try{var b=e.getMessageFormat(m,l,c,o);return b.format(r)}catch(v){return d(new Hi('Error formatting default message for: "'+g+'", rendering default message verbatim',s,n,v)),typeof m=="string"?m:g}return g}try{var b=e.getMessageFormat(y,s,i,F({formatters:e},o||{}));return b.format(r)}catch(v){d(new Hi('Error formatting message: "'+g+'", using '+(m?"default message":"id")+" as fallback.",s,n,v))}if(m)try{var b=e.getMessageFormat(m,l,c,o);return b.format(r)}catch(v){d(new Hi('Error formatting the default message for: "'+g+'", rendering message verbatim',s,n,v))}return typeof y=="string"?y:typeof m=="string"?m:g}var Cm=["localeMatcher","formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName","hourCycle","dateStyle","timeStyle","calendar","numberingSystem"];function fi(t,e,n,r){var o=t.locale,s=t.formats,i=t.onError,a=t.timeZone;r===void 0&&(r={});var l=r.format,c=F(F({},a&&{timeZone:a}),l&&Sc(s,e,l,i)),u=qn(r,Cm,c);return e==="time"&&!u.hour&&!u.minute&&!u.second&&!u.timeStyle&&!u.dateStyle&&(u=F(F({},u),{hour:"numeric",minute:"numeric"})),n(o,u)}function Hw(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=n[0],s=n[1],i=s===void 0?{}:s,a=typeof o=="string"?new Date(o||0):o;try{return fi(t,"date",e,i).format(a)}catch(l){t.onError(new Ze(Re.FORMAT_ERROR,"Error formatting date.",l))}return String(a)}function Ww(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=n[0],s=n[1],i=s===void 0?{}:s,a=typeof o=="string"?new Date(o||0):o;try{return fi(t,"time",e,i).format(a)}catch(l){t.onError(new Ze(Re.FORMAT_ERROR,"Error formatting time.",l))}return String(a)}function Kw(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=n[0],s=n[1],i=n[2],a=i===void 0?{}:i,l=t.timeZone,c=t.locale,u=t.onError,d=qn(a,Cm,l?{timeZone:l}:{});try{return e(c,d).formatRange(o,s)}catch(f){u(new Ze(Re.FORMAT_ERROR,"Error formatting date time range.",f))}return String(o)}function Xw(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=n[0],s=n[1],i=s===void 0?{}:s,a=typeof o=="string"?new Date(o||0):o;try{return fi(t,"date",e,i).formatToParts(a)}catch(l){t.onError(new Ze(Re.FORMAT_ERROR,"Error formatting date.",l))}return[]}function Zw(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=n[0],s=n[1],i=s===void 0?{}:s,a=typeof o=="string"?new Date(o||0):o;try{return fi(t,"time",e,i).formatToParts(a)}catch(l){t.onError(new Ze(Re.FORMAT_ERROR,"Error formatting time.",l))}return[]}var Yw=["localeMatcher","style","type","fallback"];function Qw(t,e,n,r){var o=t.locale,s=t.onError,i=Intl.DisplayNames;i||s(new hn(`Intl.DisplayNames is not available in this environment.
Try polyfilling it using "@formatjs/intl-displaynames"
`,Nt.MISSING_INTL_API));var a=qn(r,Yw);try{return e(o,a).of(n)}catch(l){s(new Ze(Re.FORMAT_ERROR,"Error formatting display name.",l))}}var Jw=["localeMatcher","type","style"],Dd=Date.now();function e_(t){return Dd+"_"+t+"_"+Dd}function t_(t,e,n,r){r===void 0&&(r={});var o=Dm(t,e,n,r).reduce(function(s,i){var a=i.value;return typeof a!="string"?s.push(a):typeof s[s.length-1]=="string"?s[s.length-1]+=a:s.push(a),s},[]);return o.length===1?o[0]:o}function Dm(t,e,n,r){var o=t.locale,s=t.onError;r===void 0&&(r={});var i=Intl.ListFormat;i||s(new hn(`Intl.ListFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-listformat"
`,Nt.MISSING_INTL_API));var a=qn(r,Jw);try{var l={},c=n.map(function(u,d){if(typeof u=="object"){var f=e_(d);return l[f]=u,f}return String(u)});return e(o,a).formatToParts(c).map(function(u){return u.type==="literal"?u:F(F({},u),{value:l[u.value]||u.value})})}catch(u){s(new Ze(Re.FORMAT_ERROR,"Error formatting list.",u))}return n}var n_=["localeMatcher","type"];function r_(t,e,n,r){var o=t.locale,s=t.onError;r===void 0&&(r={}),Intl.PluralRules||s(new hn(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,Nt.MISSING_INTL_API));var i=qn(r,n_);try{return e(o,i).select(n)}catch(a){s(new _c("Error formatting plural.",o,a))}return"other"}var o_=["numeric","style"];function s_(t,e,n){var r=t.locale,o=t.formats,s=t.onError;n===void 0&&(n={});var i=n.format,a=!!i&&Sc(o,"relative",i,s)||{},l=qn(n,o_,a);return e(r,l)}function i_(t,e,n,r,o){o===void 0&&(o={}),r||(r="second");var s=Intl.RelativeTimeFormat;s||t.onError(new hn(`Intl.RelativeTimeFormat is not available in this environment.
Try polyfilling it using "@formatjs/intl-relativetimeformat"
`,Nt.MISSING_INTL_API));try{return s_(t,e,o).format(n,r)}catch(i){t.onError(new _c("Error formatting relative time.",t.locale,i))}return String(n)}var a_=["localeMatcher","style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay","numberingSystem"];function Mm(t,e,n){var r=t.locale,o=t.formats,s=t.onError;n===void 0&&(n={});var i=n.format,a=i&&Sc(o,"number",i,s)||{},l=qn(n,a_,a);return e(r,l)}function l_(t,e,n,r){r===void 0&&(r={});try{return Mm(t,e,r).format(n)}catch(o){t.onError(new Ze(Re.FORMAT_ERROR,"Error formatting number.",o))}return String(n)}function c_(t,e,n,r){r===void 0&&(r={});try{return Mm(t,e,r).formatToParts(n)}catch(o){t.onError(new Ze(Re.FORMAT_ERROR,"Error formatting number.",o))}return[]}function u_(t){var e=t?t[Object.keys(t)[0]]:void 0;return typeof e=="string"}function d_(t){t.defaultRichTextElements&&u_(t.messages||{})&&console.warn(`[@formatjs/intl] "defaultRichTextElements" was specified but "message" was not pre-compiled. 
Please consider using "@formatjs/cli" to pre-compile your messages for performance.
For more details see https://formatjs.io/docs/getting-started/message-distribution`)}function f_(t,e){var n=Gw(e),r=F(F({},_m),t),o=r.locale,s=r.defaultLocale,i=r.onError;return o?!Intl.NumberFormat.supportedLocalesOf(o).length&&i?i(new Sd('Missing locale data for locale: "'+o+'" in Intl.NumberFormat. Using default locale: "'+s+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):!Intl.DateTimeFormat.supportedLocalesOf(o).length&&i&&i(new Sd('Missing locale data for locale: "'+o+'" in Intl.DateTimeFormat. Using default locale: "'+s+'" as fallback. See https://formatjs.io/docs/react-intl#runtime-requirements for more details')):(i&&i(new Vw('"locale" was not configured, using "'+s+'" as fallback. See https://formatjs.io/docs/react-intl/api#intlshape for more details')),r.locale=r.defaultLocale||"en"),d_(r),F(F({},r),{formatters:n,formatNumber:l_.bind(null,r,n.getNumberFormat),formatNumberToParts:c_.bind(null,r,n.getNumberFormat),formatRelativeTime:i_.bind(null,r,n.getRelativeTimeFormat),formatDate:Hw.bind(null,r,n.getDateTimeFormat),formatDateToParts:Xw.bind(null,r,n.getDateTimeFormat),formatTime:Ww.bind(null,r,n.getDateTimeFormat),formatDateTimeRange:Kw.bind(null,r,n.getDateTimeFormat),formatTimeToParts:Zw.bind(null,r,n.getDateTimeFormat),formatPlural:r_.bind(null,r,n.getPluralRules),formatMessage:Am.bind(null,r,n),formatList:t_.bind(null,r,n.getListFormat),formatListToParts:Dm.bind(null,r,n.getListFormat),formatDisplayName:Qw.bind(null,r,n.getDisplayNames)})}function Ac(t){xc(t,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}var Tm=F(F({},_m),{textComponent:A.Fragment});function p_(t){return function(e){return t(A.Children.toArray(e))}}function fl(t,e){if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),r=Object.keys(e),o=n.length;if(r.length!==o)return!1;for(var s=0;s<o;s++){var i=n[s];if(t[i]!==e[i]||!Object.prototype.hasOwnProperty.call(e,i))return!1}return!0}function h_(t){return t.displayName||t.name||"Component"}var Cc=A.createContext(null),m_=Cc.Consumer,g_=Cc.Provider,y_=g_,b_=Cc;function xve(t,e){var n=e||{},r=n.intlPropName,o=r===void 0?"intl":r,s=n.forwardRef,i=s===void 0?!1:s,a=n.enforceContext,l=a===void 0?!0:a,c=function(u){return A.createElement(m_,null,function(d){var f;l&&Ac(d);var p=(f={},f[o]=d,f);return A.createElement(t,F({},u,p,{ref:i?u.forwardedRef:null}))})};return c.displayName="injectIntl("+h_(t)+")",c.WrappedComponent=t,ad(i?A.forwardRef(function(u,d){return A.createElement(c,F({},u,{forwardedRef:d}))}):c,t)}function pi(){var t=A.useContext(b_);return Ac(t),t}var pl;(function(t){t.formatDate="FormattedDate",t.formatTime="FormattedTime",t.formatNumber="FormattedNumber",t.formatList="FormattedList",t.formatDisplayName="FormattedDisplayName"})(pl||(pl={}));var hl;(function(t){t.formatDate="FormattedDateParts",t.formatTime="FormattedTimeParts",t.formatNumber="FormattedNumberParts",t.formatList="FormattedListParts"})(hl||(hl={}));function Rm(t){var e=function(n){var r=pi(),o=n.value,s=n.children,i=Fn(n,["value","children"]),a=typeof o=="string"?new Date(o||0):o,l=t==="formatDate"?r.formatDateToParts(a,i):r.formatTimeToParts(a,i);return s(l)};return e.displayName=hl[t],e}function wo(t){var e=function(n){var r=pi(),o=n.value,s=n.children,i=Fn(n,["value","children"]),a=r[t](o,i);if(typeof s=="function")return s(a);var l=r.textComponent||A.Fragment;return A.createElement(l,null,a)};return e.displayName=pl[t],e}function Wi(t){return{locale:t.locale,timeZone:t.timeZone,fallbackOnEmptyString:t.fallbackOnEmptyString,formats:t.formats,textComponent:t.textComponent,messages:t.messages,defaultLocale:t.defaultLocale,defaultFormats:t.defaultFormats,onError:t.onError,wrapRichTextChunksInFragment:t.wrapRichTextChunksInFragment,defaultRichTextElements:t.defaultRichTextElements}}function Nm(t){return t&&Object.keys(t).reduce(function(e,n){var r=t[n];return e[n]=Em(r)?p_(r):r,e},{})}var v_=function(t,e,n,r){for(var o=[],s=4;s<arguments.length;s++)o[s-4]=arguments[s];var i=Nm(r),a=Am.apply(void 0,St([t,e,n,i],o,!1));return Array.isArray(a)?A.Children.toArray(a):a},Md=function(t,e){var n=t.defaultRichTextElements,r=Fn(t,["defaultRichTextElements"]),o=Nm(n),s=f_(F(F(F({},Tm),r),{defaultRichTextElements:o}),e);return F(F({},s),{formatMessage:v_.bind(null,{locale:s.locale,timeZone:s.timeZone,formats:s.formats,defaultLocale:s.defaultLocale,defaultFormats:s.defaultFormats,messages:s.messages,onError:s.onError,defaultRichTextElements:o},s.formatters)})},Eve=function(t){ct(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.cache=Sm(),n.state={cache:n.cache,intl:Md(Wi(n.props),n.cache),prevConfig:Wi(n.props)},n}return e.getDerivedStateFromProps=function(n,r){var o=r.prevConfig,s=r.cache,i=Wi(n);return fl(o,i)?null:{intl:Md(i,s),prevConfig:i}},e.prototype.render=function(){return Ac(this.state.intl),A.createElement(y_,{value:this.state.intl},this.props.children)},e.displayName="IntlProvider",e.defaultProps=Tm,e}(A.PureComponent),Dc=60,Mc=60*60,Om=60*60*24;function Td(t){var e=Math.abs(t);return e<Dc?"second":e<Mc?"minute":e<Om?"hour":"day"}function Rd(t){switch(t){case"second":return 1;case"minute":return Dc;case"hour":return Mc;default:return Om}}function k_(t,e){if(!t)return 0;switch(e){case"second":return t;case"minute":return t*Dc;default:return t*Mc}}var x_=["second","minute","hour"];function Uo(t){return t===void 0&&(t="second"),x_.indexOf(t)>-1}var E_=function(t){var e=pi(),n=e.formatRelativeTime,r=e.textComponent,o=t.children,s=t.value,i=t.unit,a=Fn(t,["children","value","unit"]),l=n(s||0,i,a);return typeof o=="function"?o(l):r?A.createElement(r,null,l):A.createElement(A.Fragment,null,l)},Lm=function(t){var e=t.value,n=t.unit,r=t.updateIntervalInSeconds,o=Fn(t,["value","unit","updateIntervalInSeconds"]);xc(!r||!!(r&&Uo(n)),"Cannot schedule update with unit longer than hour");var s=A.useState(),i=s[0],a=s[1],l=A.useState(0),c=l[0],u=l[1],d=A.useState(0),f=d[0],p=d[1],h;(n!==i||e!==c)&&(u(e||0),a(n),p(Uo(n)?k_(e,n):0)),A.useEffect(function(){function b(){clearTimeout(h)}if(b(),!r||!Uo(n))return b;var v=f-r,N=Td(v);if(N==="day")return b;var C=Rd(N),E=v%C,D=v-E,q=D>=f?D-C:D,w=Math.abs(q-f);return f!==q&&(h=setTimeout(function(){return p(q)},w*1e3)),b},[f,r,n]);var m=e||0,g=n;if(Uo(n)&&typeof f=="number"&&r){g=Td(f);var y=Rd(g);m=Math.round(f/y)}return A.createElement(E_,F({value:m,unit:g},o))};Lm.displayName="FormattedRelativeTime";Lm.defaultProps={value:0,unit:"second"};function w_(t,e){var n=t.values,r=Fn(t,["values"]),o=e.values,s=Fn(e,["values"]);return fl(o,n)&&fl(r,s)}function Fm(t){var e=pi(),n=e.formatMessage,r=e.textComponent,o=r===void 0?A.Fragment:r,s=t.id,i=t.description,a=t.defaultMessage,l=t.values,c=t.children,u=t.tagName,d=u===void 0?o:u,f=t.ignoreTag,p={id:s,description:i,defaultMessage:a},h=n(p,l,{ignoreTag:f});return typeof c=="function"?c(Array.isArray(h)?h:[h]):d?A.createElement(d,null,A.Children.toArray(h)):A.createElement(A.Fragment,null,h)}Fm.displayName="FormattedMessage";var __=A.memo(Fm,w_);__.displayName="MemoizedFormattedMessage";function wve(t){return t}var _ve=wo("formatDate");wo("formatTime");var Sve=wo("formatNumber");wo("formatList");wo("formatDisplayName");Rm("formatDate");Rm("formatTime");var S_=(t=>(t[t.TOP=0]="TOP",t[t.MIDDLE=1]="MIDDLE",t[t.BOTTOM=2]="BOTTOM",t))(S_||{}),Im=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var o=42;e[n]=o;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var i=Object.getOwnPropertyDescriptor(e,n);if(i.value!==o||i.enumerable!==!0)return!1}return!0},A_=Im,C_=function(){return A_()&&!!Symbol.toStringTag},D_=Error,M_=EvalError,T_=RangeError,R_=ReferenceError,Pm=SyntaxError,hi=TypeError,N_=URIError,Nd=typeof Symbol<"u"&&Symbol,O_=Im,L_=function(){return typeof Nd!="function"||typeof Symbol!="function"||typeof Nd("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:O_()},Od={foo:{}},F_=Object,I_=function(){return{__proto__:Od}.foo===Od.foo&&!({__proto__:null}instanceof F_)},P_="Function.prototype.bind called on incompatible ",$_=Object.prototype.toString,z_=Math.max,B_="[object Function]",Ld=function(e,n){for(var r=[],o=0;o<e.length;o+=1)r[o]=e[o];for(var s=0;s<n.length;s+=1)r[s+e.length]=n[s];return r},q_=function(e,n){for(var r=[],o=n,s=0;o<e.length;o+=1,s+=1)r[s]=e[o];return r},V_=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n},U_=function(e){var n=this;if(typeof n!="function"||$_.apply(n)!==B_)throw new TypeError(P_+n);for(var r=q_(arguments,1),o,s=function(){if(this instanceof o){var u=n.apply(this,Ld(r,arguments));return Object(u)===u?u:this}return n.apply(e,Ld(r,arguments))},i=z_(0,n.length-r.length),a=[],l=0;l<i;l++)a[l]="$"+l;if(o=Function("binder","return function ("+V_(a,",")+"){ return binder.apply(this,arguments); }")(s),n.prototype){var c=function(){};c.prototype=n.prototype,o.prototype=new c,c.prototype=null}return o},j_=U_,Tc=Function.prototype.bind||j_,G_=Function.prototype.call,H_=Object.prototype.hasOwnProperty,W_=Tc,K_=W_.call(G_,H_),H,X_=D_,Z_=M_,Y_=T_,Q_=R_,vr=Pm,ur=hi,J_=N_,$m=Function,Ki=function(t){try{return $m('"use strict"; return ('+t+").constructor;")()}catch{}},Dn=Object.getOwnPropertyDescriptor;if(Dn)try{Dn({},"")}catch{Dn=null}var Xi=function(){throw new ur},eS=Dn?function(){try{return arguments.callee,Xi}catch{try{return Dn(arguments,"callee").get}catch{return Xi}}}():Xi,Gn=L_(),tS=I_(),fe=Object.getPrototypeOf||(tS?function(t){return t.__proto__}:null),Qn={},nS=typeof Uint8Array>"u"||!fe?H:fe(Uint8Array),Mn={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?H:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?H:ArrayBuffer,"%ArrayIteratorPrototype%":Gn&&fe?fe([][Symbol.iterator]()):H,"%AsyncFromSyncIteratorPrototype%":H,"%AsyncFunction%":Qn,"%AsyncGenerator%":Qn,"%AsyncGeneratorFunction%":Qn,"%AsyncIteratorPrototype%":Qn,"%Atomics%":typeof Atomics>"u"?H:Atomics,"%BigInt%":typeof BigInt>"u"?H:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?H:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?H:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?H:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":X_,"%eval%":eval,"%EvalError%":Z_,"%Float32Array%":typeof Float32Array>"u"?H:Float32Array,"%Float64Array%":typeof Float64Array>"u"?H:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?H:FinalizationRegistry,"%Function%":$m,"%GeneratorFunction%":Qn,"%Int8Array%":typeof Int8Array>"u"?H:Int8Array,"%Int16Array%":typeof Int16Array>"u"?H:Int16Array,"%Int32Array%":typeof Int32Array>"u"?H:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Gn&&fe?fe(fe([][Symbol.iterator]())):H,"%JSON%":typeof JSON=="object"?JSON:H,"%Map%":typeof Map>"u"?H:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Gn||!fe?H:fe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?H:Promise,"%Proxy%":typeof Proxy>"u"?H:Proxy,"%RangeError%":Y_,"%ReferenceError%":Q_,"%Reflect%":typeof Reflect>"u"?H:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?H:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Gn||!fe?H:fe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?H:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Gn&&fe?fe(""[Symbol.iterator]()):H,"%Symbol%":Gn?Symbol:H,"%SyntaxError%":vr,"%ThrowTypeError%":eS,"%TypedArray%":nS,"%TypeError%":ur,"%Uint8Array%":typeof Uint8Array>"u"?H:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?H:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?H:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?H:Uint32Array,"%URIError%":J_,"%WeakMap%":typeof WeakMap>"u"?H:WeakMap,"%WeakRef%":typeof WeakRef>"u"?H:WeakRef,"%WeakSet%":typeof WeakSet>"u"?H:WeakSet};if(fe)try{null.error}catch(t){var rS=fe(fe(t));Mn["%Error.prototype%"]=rS}var oS=function t(e){var n;if(e==="%AsyncFunction%")n=Ki("async function () {}");else if(e==="%GeneratorFunction%")n=Ki("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Ki("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&fe&&(n=fe(o.prototype))}return Mn[e]=n,n},Fd={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_o=Tc,_s=K_,sS=_o.call(Function.call,Array.prototype.concat),iS=_o.call(Function.apply,Array.prototype.splice),Id=_o.call(Function.call,String.prototype.replace),Ss=_o.call(Function.call,String.prototype.slice),aS=_o.call(Function.call,RegExp.prototype.exec),lS=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,cS=/\\(\\)?/g,uS=function(e){var n=Ss(e,0,1),r=Ss(e,-1);if(n==="%"&&r!=="%")throw new vr("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new vr("invalid intrinsic syntax, expected opening `%`");var o=[];return Id(e,lS,function(s,i,a,l){o[o.length]=a?Id(l,cS,"$1"):i||s}),o},dS=function(e,n){var r=e,o;if(_s(Fd,r)&&(o=Fd[r],r="%"+o[0]+"%"),_s(Mn,r)){var s=Mn[r];if(s===Qn&&(s=oS(r)),typeof s>"u"&&!n)throw new ur("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:r,value:s}}throw new vr("intrinsic "+e+" does not exist!")},So=function(e,n){if(typeof e!="string"||e.length===0)throw new ur("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new ur('"allowMissing" argument must be a boolean');if(aS(/^%?[^%]*%?$/,e)===null)throw new vr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=uS(e),o=r.length>0?r[0]:"",s=dS("%"+o+"%",n),i=s.name,a=s.value,l=!1,c=s.alias;c&&(o=c[0],iS(r,sS([0,1],c)));for(var u=1,d=!0;u<r.length;u+=1){var f=r[u],p=Ss(f,0,1),h=Ss(f,-1);if((p==='"'||p==="'"||p==="`"||h==='"'||h==="'"||h==="`")&&p!==h)throw new vr("property names with quotes must have matching quotes");if((f==="constructor"||!d)&&(l=!0),o+="."+f,i="%"+o+"%",_s(Mn,i))a=Mn[i];else if(a!=null){if(!(f in a)){if(!n)throw new ur("base intrinsic for "+e+" exists, but the property is not available.");return}if(Dn&&u+1>=r.length){var m=Dn(a,f);d=!!m,d&&"get"in m&&!("originalValue"in m.get)?a=m.get:a=a[f]}else d=_s(a,f),a=a[f];d&&!l&&(Mn[i]=a)}}return a},zm={exports:{}},fS=So,ls=fS("%Object.defineProperty%",!0)||!1;if(ls)try{ls({},"a",{value:1})}catch{ls=!1}var Rc=ls,pS=So,cs=pS("%Object.getOwnPropertyDescriptor%",!0);if(cs)try{cs([],"length")}catch{cs=null}var Nc=cs,Pd=Rc,hS=Pm,Hn=hi,$d=Nc,mS=function(e,n,r){if(!e||typeof e!="object"&&typeof e!="function")throw new Hn("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Hn("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Hn("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Hn("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Hn("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Hn("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,i=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!$d&&$d(e,n);if(Pd)Pd(e,n,{configurable:i===null&&l?l.configurable:!i,enumerable:o===null&&l?l.enumerable:!o,value:r,writable:s===null&&l?l.writable:!s});else if(a||!o&&!s&&!i)e[n]=r;else throw new hS("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ml=Rc,Bm=function(){return!!ml};Bm.hasArrayLengthDefineBug=function(){if(!ml)return null;try{return ml([],"length",{value:1}).length!==1}catch{return!0}};var gS=Bm,yS=So,zd=mS,bS=gS(),Bd=Nc,qd=hi,vS=yS("%Math.floor%"),kS=function(e,n){if(typeof e!="function")throw new qd("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||vS(n)!==n)throw new qd("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],o=!0,s=!0;if("length"in e&&Bd){var i=Bd(e,"length");i&&!i.configurable&&(o=!1),i&&!i.writable&&(s=!1)}return(o||s||!r)&&(bS?zd(e,"length",n,!0,!0):zd(e,"length",n)),e};(function(t){var e=Tc,n=So,r=kS,o=hi,s=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||e.call(i,s),l=Rc,c=n("%Math.max%");t.exports=function(f){if(typeof f!="function")throw new o("a function is required");var p=a(e,i,arguments);return r(p,1+c(0,f.length-(arguments.length-1)),!0)};var u=function(){return a(e,s,arguments)};l?l(t.exports,"apply",{value:u}):t.exports.apply=u})(zm);var qm=zm.exports,Vm=So,Um=qm,xS=Um(Vm("String.prototype.indexOf")),ES=function(e,n){var r=Vm(e,!!n);return typeof r=="function"&&xS(e,".prototype.")>-1?Um(r):r};function Vd(t){return{title:t.getAttribute("data-title"),__expanded:!0}}const jm={inline:!1,group:"block",marks:"dataConsumer fragment unsupportedMark unsupportedNodeAttribute",content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaGroup | mediaSingle | decisionList | taskList | table | blockCard | embedCard | extension | unsupportedBlock)+",isolating:!0,selectable:!0,attrs:{title:{default:""},__expanded:{default:!0}},parseDOM:[{context:"table//",tag:'div[data-node-type="expand"]',getAttrs:Vd},{context:"expand//",tag:'[data-node-type="expand"]',skip:!0},{context:"nestedExpand//",tag:'[data-node-type="expand"]',skip:!0},{tag:'[data-node-type="nestedExpand"] button',ignore:!0},{tag:'[data-node-type="expand"] button',ignore:!0},{tag:'div[data-node-type="expand"]',getAttrs:Vd}],toDOM(t){return["div",{"data-node-type":"expand","data-title":t.attrs.title,"data-expanded":t.attrs.__expanded},0]}},Gm=t=>({attrs:Object.keys(t.attrs).filter(e=>!e.startsWith("__")).reduce((e,n)=>({...e,[n]:t.attrs[n]}),{})}),Ud="confluenceJiraIssue",Hm={group:"inline",inline:!0,atom:!0,attrs:{issueKey:{default:""},macroId:{default:null},schemaVersion:{default:null},server:{default:null},serverId:{default:null}},parseDOM:[{tag:`span[data-node-type="${Ud}"]`,getAttrs:t=>{const e=t;return{issueKey:e.textContent,macroId:e.dataset&&e.dataset.macroId,schemaVersion:e.dataset&&e.dataset.schemaVersion,server:e.dataset&&e.dataset.server,serverId:e.dataset&&e.dataset.serverId}}}],toDOM(t){return["span",{"data-node-type":Ud,"data-macro-id":t.attrs.macroId,"data-schema-version":t.attrs.schemaVersion,"data-server":t.attrs.server,"data-server-id":t.attrs.serverId,"data-jira-issue":t.attrs.issueKey},t.attrs.issueKey]}},jd="confluenceUnsupportedBlock",Wm={group:"block",attrs:{cxhtml:{default:null}},toDOM(t){return["div",{"data-node-type":jd,"data-confluence-unsupported":"block","data-confluence-unsupported-block-cxhtml":t.attrs.cxhtml},"Unsupported content"]},parseDOM:[{tag:`div[data-node-type="${jd}"]`,getAttrs(t){return{cxhtml:t.getAttribute("data-confluence-unsupported-block-cxhtml")}}}]},Gd="confluenceUnsupportedInline",Km={group:"inline",inline:!0,atom:!0,attrs:{cxhtml:{default:null}},toDOM(t){return["div",{"data-node-type":Gd,"data-confluence-unsupported":"inline","data-confluence-unsupported-inline-cxhtml":t.attrs.cxhtml},"Unsupported content"]},parseDOM:[{tag:`div[data-node-type="${Gd}"]`,getAttrs(t){return{cxhtml:t.getAttribute("data-confluence-unsupported-inline-cxhtml")}}}]},Xm={content:"(block|layoutSection|blockRootOnly)+",marks:"alignment breakout dataConsumer fragment indentation unsupportedMark unsupportedNodeAttribute"},Zm=t=>{const e={group:"block",defining:!0,selectable:!1,parseDOM:[{tag:"blockquote"}],toDOM(){return["blockquote",0]}};return t?e.content="(paragraph | orderedList | bulletList | unsupportedBlock)+":e.content="(paragraph | unsupportedBlock)+",e},wS=Zm(!1),Ym=Zm(!0),Qm=".ak-ul",Jm={group:"block",content:"listItem+",selectable:!1,parseDOM:[{tag:"ul"}],marks:"unsupportedMark unsupportedNodeAttribute",toDOM(){return["ul",{class:Qm.substr(1)},0]}};function ge(t){this.content=t}ge.prototype={constructor:ge,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,o=r.find(t),s=r.content.slice();return o==-1?s.push(n||t,e):(s[o+1]=e,n&&(s[o]=n)),new ge(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new ge(n)},addToStart:function(t,e){return new ge([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new ge(n)},addBefore:function(t,e,n){var r=this.remove(e),o=r.content.slice(),s=r.find(t);return o.splice(s==-1?o.length:s,0,e,n),new ge(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=ge.from(t),t.size?new ge(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=ge.from(t),t.size?new ge(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=ge.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};ge.from=function(t){if(t instanceof ge)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new ge(e)};function eg(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let o=t.child(r),s=e.child(r);if(o==s){n+=o.nodeSize;continue}if(!o.sameMarkup(s))return n;if(o.isText&&o.text!=s.text){for(let i=0;o.text[i]==s.text[i];i++)n++;return n}if(o.content.size||s.content.size){let i=eg(o.content,s.content,n+1);if(i!=null)return i}n+=o.nodeSize}}function tg(t,e,n,r){for(let o=t.childCount,s=e.childCount;;){if(o==0||s==0)return o==s?null:{a:n,b:r};let i=t.child(--o),a=e.child(--s),l=i.nodeSize;if(i==a){n-=l,r-=l;continue}if(!i.sameMarkup(a))return{a:n,b:r};if(i.isText&&i.text!=a.text){let c=0,u=Math.min(i.text.length,a.text.length);for(;c<u&&i.text[i.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(i.content.size||a.content.size){let c=tg(i.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class S{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,o=0,s){for(let i=0,a=0;a<n;i++){let l=this.content[i],c=a+l.nodeSize;if(c>e&&r(l,o+a,s||null,i)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,o+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,o){let s="",i=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?o?typeof o=="function"?o(a):o:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(i?i=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,o=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(o[o.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)o.push(e.content[s]);return new S(o,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],o=0;if(n>e)for(let s=0,i=0;i<n;s++){let a=this.content[s],l=i+a.nodeSize;l>e&&((i<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-i),Math.min(a.text.length,n-i)):a=a.cut(Math.max(0,e-i-1),Math.min(a.content.size,n-i-1))),r.push(a),o+=a.nodeSize),i=l}return new S(r,o)}cutByIndex(e,n){return e==n?S.empty:e==0&&n==this.content.length?this:new S(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let o=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return o[e]=n,new S(o,s)}addToStart(e){return new S([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new S(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let o=this.content[n];e(o,r,n),r+=o.nodeSize}}findDiffStart(e,n=0){return eg(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return tg(this,e,n,r)}findIndex(e,n=-1){if(e==0)return jo(0,e);if(e==this.size)return jo(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,o=0;;r++){let s=this.child(r),i=o+s.nodeSize;if(i>=e)return i==e||n>0?jo(r+1,i):jo(r,o);o=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return S.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new S(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return S.empty;let n,r=0;for(let o=0;o<e.length;o++){let s=e[o];r+=s.nodeSize,o&&s.isText&&e[o-1].sameMarkup(s)?(n||(n=e.slice(0,o)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new S(n||e,r)}static from(e){if(!e)return S.empty;if(e instanceof S)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new S([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}S.empty=new S([],0);const Zi={index:0,offset:0};function jo(t,e){return Zi.index=t,Zi.offset=e,Zi}function As(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!As(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!As(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class Z{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let o=0;o<e.length;o++){let s=e[o];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,o));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,o)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&As(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Z.none;if(e instanceof Z)return[e];let n=e.slice();return n.sort((r,o)=>r.type.rank-o.type.rank),n}}Z.none=[];class Cs extends Error{}class R{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=rg(this.content,e+this.openStart,n);return r&&new R(r,this.openStart,this.openEnd)}removeBetween(e,n){return new R(ng(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return R.empty;let r=n.openStart||0,o=n.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new R(S.fromJSON(e,n.content),r,o)}static maxOpen(e,n=!0){let r=0,o=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)o++;return new R(e,r,o)}}R.empty=new R(S.empty,0,0);function ng(t,e,n){let{index:r,offset:o}=t.findIndex(e),s=t.maybeChild(r),{index:i,offset:a}=t.findIndex(n);if(o==e||s.isText){if(a!=n&&!t.child(i).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=i)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(ng(s.content,e-o-1,n-o-1)))}function rg(t,e,n,r){let{index:o,offset:s}=t.findIndex(e),i=t.maybeChild(o);if(s==e||i.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=rg(i.content,e-s-1,n);return a&&t.replaceChild(o,i.copy(a))}function _S(t,e,n){if(n.openStart>t.depth)throw new Cs("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Cs("Inconsistent open depths");return og(t,e,n,0)}function og(t,e,n,r){let o=t.index(r),s=t.node(r);if(o==e.index(r)&&r<t.depth-n.openStart){let i=og(t,e,n,r+1);return s.copy(s.content.replaceChild(o,i))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let i=t.parent,a=i.content;return Rn(i,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:i,end:a}=SS(n,t);return Rn(s,ig(t,i,a,e,r))}else return Rn(s,Ds(t,e,r))}function sg(t,e){if(!e.type.compatibleContent(t.type))throw new Cs("Cannot join "+e.type.name+" onto "+t.type.name)}function gl(t,e,n){let r=t.node(n);return sg(r,e.node(n)),r}function Tn(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function jr(t,e,n,r){let o=(e||t).node(n),s=0,i=e?e.index(n):o.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Tn(t.nodeAfter,r),s++));for(let a=s;a<i;a++)Tn(o.child(a),r);e&&e.depth==n&&e.textOffset&&Tn(e.nodeBefore,r)}function Rn(t,e){return t.type.checkContent(e),t.copy(e)}function ig(t,e,n,r,o){let s=t.depth>o&&gl(t,e,o+1),i=r.depth>o&&gl(n,r,o+1),a=[];return jr(null,t,o,a),s&&i&&e.index(o)==n.index(o)?(sg(s,i),Tn(Rn(s,ig(t,e,n,r,o+1)),a)):(s&&Tn(Rn(s,Ds(t,e,o+1)),a),jr(e,n,o,a),i&&Tn(Rn(i,Ds(n,r,o+1)),a)),jr(r,null,o,a),new S(a)}function Ds(t,e,n){let r=[];if(jr(null,t,n,r),t.depth>n){let o=gl(t,e,n+1);Tn(Rn(o,Ds(t,e,n+1)),r)}return jr(e,null,n,r),new S(r)}function SS(t,e){let n=e.depth-t.openStart,o=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)o=e.node(s).copy(S.from(o));return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)}}class oo{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(n);return r?e.child(n).cut(r):o}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],o=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)o+=r.child(s).nodeSize;return o}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Z.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),o=e.maybeChild(n);if(!r){let a=r;r=o,o=a}let s=r.marks;for(var i=0;i<s.length;i++)s[i].type.spec.inclusive===!1&&(!o||!s[i].isInSet(o.marks))&&(s=s[i--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,o=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!o||!r[s].isInSet(o.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new CS(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],o=0,s=n;for(let i=e;;){let{index:a,offset:l}=i.content.findIndex(s),c=s-l;if(r.push(i,a,o+l),!c||(i=i.child(a),i.isText))break;s=c-1,o+=l+1}return new oo(n,r,s)}static resolveCached(e,n){for(let o=0;o<Yi.length;o++){let s=Yi[o];if(s.pos==n&&s.doc==e)return s}let r=Yi[Qi]=oo.resolve(e,n);return Qi=(Qi+1)%AS,r}}let Yi=[],Qi=0,AS=12;class CS{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const DS=Object.create(null);let Rt=class yl{constructor(e,n,r,o=Z.none){this.type=e,this.attrs=n,this.marks=o,this.content=r||S.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,o=0){this.content.nodesBetween(e,n,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,o){return this.content.textBetween(e,n,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&As(this.attrs,n||e.defaultAttrs||DS)&&Z.sameSet(this.marks,r||Z.none)}copy(e=null){return e==this.content?this:new yl(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new yl(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return R.empty;let o=this.resolve(e),s=this.resolve(n),i=r?0:o.sharedDepth(n),a=o.start(i),c=o.node(i).content.cut(o.pos-a,s.pos-a);return new R(c,o.depth-i,s.depth-i)}replace(e,n,r){return _S(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:o}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(o==e||n.isText)return n;e-=o+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}}resolve(e){return oo.resolveCached(this,e)}resolveNoCache(e){return oo.resolve(this,e)}rangeHasMark(e,n,r){let o=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),ag(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=S.empty,o=0,s=r.childCount){let i=this.contentMatchAt(e).matchFragment(r,o,s),a=i&&i.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=o;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,o){if(o&&!this.type.allowsMarks(o))return!1;let s=this.contentMatchAt(e).matchType(r),i=s&&s.matchFragment(this.content,n);return i?i.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Z.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Z.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let o=S.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,o,r)}};Rt.prototype.text=void 0;class Ms extends Rt{constructor(e,n,r,o){if(super(e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):ag(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ms(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ms(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function ag(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class In{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new MS(e,n);if(r.next==null)return In.empty;let o=lg(r);r.next&&r.err("Unexpected trailing text");let s=IS(FS(o));return PS(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let o=this;for(let s=n;o&&s<r;s++)o=o.matchType(e.child(s).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let o=[this];function s(i,a){let l=i.matchFragment(e,r);if(l&&(!n||l.validEnd))return S.from(a.map(c=>c.createAndFill()));for(let c=0;c<i.next.length;c++){let{type:u,next:d}=i.next[c];if(!(u.isText||u.hasRequiredAttrs())&&o.indexOf(d)==-1){o.push(d);let f=s(d,a.concat(u));if(f)return f}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),s=o.match;if(s.matchType(e)){let i=[];for(let a=o;a.type;a=a.via)i.push(a.type);return i.reverse()}for(let i=0;i<s.next.length;i++){let{type:a,next:l}=s.next[i];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!o.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:o}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&n(r.next[o].next)}return n(this),e.map((r,o)=>{let s=o+(r.validEnd?"*":" ")+" ";for(let i=0;i<r.next.length;i++)s+=(i?", ":"")+r.next[i].type.name+"->"+e.indexOf(r.next[i].next);return s}).join(`
`)}}In.empty=new In(!0);class MS{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function lg(t){let e=[];do e.push(TS(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function TS(t){let e=[];do e.push(RS(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function RS(t){let e=LS(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=NS(t,e);else break;return e}function Hd(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function NS(t,e){let n=Hd(t),r=n;return t.eat(",")&&(t.next!="}"?r=Hd(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function OS(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let o=[];for(let s in n){let i=n[s];i.groups.indexOf(e)>-1&&o.push(i)}return o.length==0&&t.err("No node type or group '"+e+"' found"),o}function LS(t){if(t.eat("(")){let e=lg(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=OS(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function FS(t){let e=[[]];return o(s(t,0),n()),e;function n(){return e.push([])-1}function r(i,a,l){let c={term:l,to:a};return e[i].push(c),c}function o(i,a){i.forEach(l=>l.to=a)}function s(i,a){if(i.type=="choice")return i.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(i.type=="seq")for(let l=0;;l++){let c=s(i.exprs[l],a);if(l==i.exprs.length-1)return c;o(c,a=n())}else if(i.type=="star"){let l=n();return r(a,l),o(s(i.expr,l),l),[r(l)]}else if(i.type=="plus"){let l=n();return o(s(i.expr,a),l),o(s(i.expr,l),l),[r(l)]}else{if(i.type=="opt")return[r(a)].concat(s(i.expr,a));if(i.type=="range"){let l=a;for(let c=0;c<i.min;c++){let u=n();o(s(i.expr,l),u),l=u}if(i.max==-1)o(s(i.expr,l),l);else for(let c=i.min;c<i.max;c++){let u=n();r(l,u),o(s(i.expr,l),u),l=u}return[r(l)]}else{if(i.type=="name")return[r(a,void 0,i.value)];throw new Error("Unknown expr type")}}}}function cg(t,e){return e-t}function Wd(t,e){let n=[];return r(e),n.sort(cg);function r(o){let s=t[o];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(o);for(let i=0;i<s.length;i++){let{term:a,to:l}=s[i];!a&&n.indexOf(l)==-1&&r(l)}}}function IS(t){let e=Object.create(null);return n(Wd(t,0));function n(r){let o=[];r.forEach(i=>{t[i].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<o.length;u++)o[u][0]==a&&(c=o[u][1]);Wd(t,l).forEach(u=>{c||o.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[r.join(",")]=new In(r.indexOf(t.length-1)>-1);for(let i=0;i<o.length;i++){let a=o[i][1].sort(cg);s.next.push({type:o[i][0],next:e[a.join(",")]||n(a)})}return s}}function PS(t,e){for(let n=0,r=[t];n<r.length;n++){let o=r[n],s=!o.validEnd,i=[];for(let a=0;a<o.next.length;a++){let{type:l,next:c}=o.next[a];i.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function ug(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function dg(t,e){let n=Object.create(null);for(let r in t){let o=e&&e[r];if(o===void 0){let s=t[r];if(s.hasDefault)o=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=o}return n}function fg(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new $S(t[n]);return e}let Kd=class pg{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=fg(r.attrs),this.defaultAttrs=ug(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==In.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:dg(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Rt(this,this.computeAttrs(e),S.from(n),Z.setFrom(r))}createChecked(e=null,n,r){return n=S.from(n),this.checkContent(n),new Rt(this,this.computeAttrs(e),n,Z.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=S.from(n),n.size){let i=this.contentMatch.fillBefore(n);if(!i)return null;n=i.append(n)}let o=this.contentMatch.matchFragment(n),s=o&&o.fillBefore(S.empty,!0);return s?new Rt(this,e,n.append(s),Z.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Z.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,i)=>r[s]=new pg(s,n,i));let o=n.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class $S{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class mi{constructor(e,n,r,o){this.name=e,this.rank=n,this.schema=r,this.spec=o,this.attrs=fg(o.attrs),this.excluded=null;let s=ug(this.attrs);this.instance=s?new Z(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Z(this,dg(this.attrs,e))}static compile(e,n){let r=Object.create(null),o=0;return e.forEach((s,i)=>r[s]=new mi(s,o++,n,i)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class hg{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let o in e)n[o]=e[o];n.nodes=ge.from(e.nodes),n.marks=ge.from(e.marks||{}),this.nodes=Kd.compile(this.spec.nodes,this),this.marks=mi.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let s=this.nodes[o],i=s.spec.content||"",a=s.spec.marks;s.contentMatch=r[i]||(r[i]=In.parse(i,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.markSet=a=="_"?null:a?Xd(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let o in this.marks){let s=this.marks[o],i=s.spec.excludes;s.excluded=i==null?[s]:i==""?[]:Xd(this,i.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Kd){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,o)}text(e,n){let r=this.nodes.text;return new Ms(r,r.defaultAttrs,e,Z.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Rt.fromJSON(this,e)}markFromJSON(e){return Z.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Xd(t,e){let n=[];for(let r=0;r<e.length;r++){let o=e[r],s=t.marks[o],i=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(o=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&n.push(i=l)}if(!i)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class so{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let o=e.nodes[r.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new Yd(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Yd(this,n,!0);return r.addAll(e,n.from,n.to),R.maxOpen(r.finish())}matchTag(e,n,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let s=this.tags[o];if(qS(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let i=s.getAttrs(e);if(i===!1)continue;s.attrs=i||void 0}return s}}}matchStyle(e,n,r,o){for(let s=o?this.styles.indexOf(o)+1:0;s<this.styles.length;s++){let i=this.styles[s],a=i.style;if(!(a.indexOf(e)!=0||i.context&&!r.matchesContext(i.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(i.getAttrs){let l=i.getAttrs(n);if(l===!1)continue;i.attrs=l||void 0}return i}}}static schemaRules(e){let n=[];function r(o){let s=o.priority==null?50:o.priority,i=0;for(;i<n.length;i++){let a=n[i];if((a.priority==null?50:a.priority)<s)break}n.splice(i,0,o)}for(let o in e.marks){let s=e.marks[o].spec.parseDOM;s&&s.forEach(i=>{r(i=Qd(i)),i.mark||i.ignore||i.clearMark||(i.mark=o)})}for(let o in e.nodes){let s=e.nodes[o].spec.parseDOM;s&&s.forEach(i=>{r(i=Qd(i)),i.node||i.ignore||i.mark||(i.node=o)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new so(e,so.schemaRules(e)))}}const mg={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},zS={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},gg={ol:!0,ul:!0},Ts=1,Rs=2,Gr=4;function Zd(t,e,n){return e!=null?(e?Ts:0)|(e==="full"?Rs:0):t&&t.whitespace=="pre"?Ts|Rs:n&~Gr}class Go{constructor(e,n,r,o,s,i,a){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=o,this.solid=s,this.options=a,this.content=[],this.activeMarks=Z.none,this.stashMarks=[],this.match=i||(a&Gr?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(S.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Ts)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-o[0].length))}}let n=S.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(S.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let o=r[n];(this.type?this.type.allowsMarkType(o.type):US(o.type,e))&&!o.isInSet(this.activeMarks)&&(this.activeMarks=o.addToSet(this.activeMarks),this.pendingMarks=o.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!mg.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Yd{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let o=n.topNode,s,i=Zd(null,n.preserveWhitespace,0)|(r?Gr:0);o?s=new Go(o.type,o.attrs,Z.none,Z.none,!0,n.topMatch||o.type.contentMatch,i):r?s=new Go(null,null,Z.none,Z.none,!0,null,i):s=new Go(e.schema.topNodeType,null,Z.none,Z.none,!0,null,i),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let r=e.getAttribute("style");if(!r)return n();let o=this.readStyles(VS(r));if(!o)return;let[s,i]=o,a=this.top;for(let l=0;l<i.length;l++)this.removePendingMark(i[l],a);for(let l=0;l<s.length;l++)this.addPendingMark(s[l]);n();for(let l=0;l<s.length;l++)this.removePendingMark(s[l],a);for(let l=0;l<i.length;l++)this.addPendingMark(i[l])}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&Rs||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Ts)r.options&Rs?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=r.content[r.content.length-1],s=e.previousSibling;(!o||s&&s.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),o;gg.hasOwnProperty(r)&&this.parser.normalizeLists&&BS(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,n));if(s?s.ignore:zS.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let i,a=this.top,l=this.needsBlock;if(mg.hasOwnProperty(r))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),i=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}s&&s.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),i&&this.sync(a),this.needsBlock=l}else this.withStyleRules(e,()=>{this.addElementByRule(e,s,s.consuming===!1?o:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=Z.none,r=Z.none;for(let o=0;o<e.length;o+=2)for(let s=void 0;;){let i=this.parser.matchStyle(e[o],e[o+1],this,s);if(!i)break;if(i.ignore)return null;if(i.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(a=>{i.clearMark(a)&&(r=a.addToSet(r))}):n=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(n),i.consuming===!1)s=i;else break}return[n,r]}addElementByRule(e,n,r){let o,s,i;n.node?(s=this.parser.schema.nodes[n.node],s.isLeaf?this.insertNode(s.create(n.attrs))||this.leafFallback(e):o=this.enter(s,n.attrs||null,n.preserveWhitespace)):(i=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(i));let a=this.top;if(s&&s.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l)}o&&this.sync(a)&&this.open--,i&&this.removePendingMark(i,a)}addAll(e,n,r){let o=n||0;for(let s=n?e.childNodes[n]:e.firstChild,i=r==null?null:e.childNodes[r];s!=i;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s);this.findAtPoint(e,o)}findPlace(e){let n,r;for(let o=this.open;o>=0;o--){let s=this.nodes[o],i=s.findWrapping(e);if(i&&(!n||n.length>i.length)&&(n=i,r=s,!i.length)||s.solid)break}if(!n)return!1;this.sync(r);for(let o=0;o<n.length;o++)this.enterInner(n[o],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let o=0;o<e.marks.length;o++)(!n.type||n.type.allowsMarkType(e.marks[o].type))&&(r=e.marks[o].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let o=this.findPlace(e.create(n));return o&&this.enterInner(e,n,!0,r),o}enterInner(e,n=null,r=!1,o){this.closeExtra();let s=this.top;s.applyPending(e),s.match=s.match&&s.match.matchType(e);let i=Zd(e,o,s.options);s.options&Gr&&s.content.length==0&&(i|=Gr),this.nodes.push(new Go(e,n,s.activeMarks,s.pendingMarks,r,null,i)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&n.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(o?0:1),i=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(i(a-1,l))return!0;return!1}else{let u=l>0||l==0&&o?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&u.groups.indexOf(c)==-1)return!1;l--}}return!0};return i(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=jS(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let o=this.nodes[r];if(o.pendingMarks.lastIndexOf(e)>-1)o.pendingMarks=e.removeFromSet(o.pendingMarks);else{o.activeMarks=e.removeFromSet(o.activeMarks);let i=o.popFromStashMark(e);i&&o.type&&o.type.allowsMarkType(i.type)&&(o.activeMarks=i.addToSet(o.activeMarks))}if(o==n)break}}}function BS(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&gg.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function qS(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function VS(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function Qd(t){let e={};for(let n in t)e[n]=t[n];return e}function US(t,e){let n=e.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(t))continue;let s=[],i=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||s.indexOf(u)<0&&i(u))return!0}};if(i(o.contentMatch))return!0}}function jS(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class jt{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Ji(n).createDocumentFragment());let o=r,s=[];return e.forEach(i=>{if(s.length||i.marks.length){let a=0,l=0;for(;a<s.length&&l<i.marks.length;){let c=i.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)o=s.pop()[1];for(;l<i.marks.length;){let c=i.marks[l++],u=this.serializeMark(c,i.isInline,n);u&&(s.push([c,o]),o.appendChild(u.dom),o=u.contentDOM||u.dom)}}o.appendChild(this.serializeNodeInner(i,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:o}=jt.renderSpec(Ji(n),this.nodes[e.type.name](e));if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,o)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let o=e.marks.length-1;o>=0;o--){let s=this.serializeMark(e.marks[o],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let o=this.marks[e.type.name];return o&&jt.renderSpec(Ji(r),o(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let o=n[0],s=o.indexOf(" ");s>0&&(r=o.slice(0,s),o=o.slice(s+1));let i,a=r?e.createElementNS(r,o):e.createElement(o),l=n[1],c=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){c=2;for(let u in l)if(l[u]!=null){let d=u.indexOf(" ");d>0?a.setAttributeNS(u.slice(0,d),u.slice(d+1),l[u]):a.setAttribute(u,l[u])}}for(let u=c;u<n.length;u++){let d=n[u];if(d===0){if(u<n.length-1||u>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:f,contentDOM:p}=jt.renderSpec(e,d,r);if(a.appendChild(f),p){if(i)throw new RangeError("Multiple content holes");i=p}}}return{dom:a,contentDOM:i}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new jt(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Jd(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Jd(e.marks)}}function Jd(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Ji(t){return t.document||window.document}const GS=t=>t.getAttribute("data-language")||void 0,HS=t=>{if(t&&t.classList.contains("codehilite"))return KS(t.className)},WS=t=>{const e=t.firstElementChild;if(e&&e.nodeName==="CODE")return e.getAttribute("data-language")||void 0},KS=t=>{const n=/(?:^|\s)language-([^\s]+)/.exec(t);if(n&&n[1])return n[1]},XS=t=>{const e=t&&t.parentElement;return e&&e.classList.contains("codehilite")&&(t.textContent=t.textContent.replace(/\n$/,"")),t},yg={attrs:{language:{default:null},uniqueId:{default:null}},content:"(text | unsupportedInline)*",marks:"unsupportedMark unsupportedNodeAttribute",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:t=>{let e=t;const n=HS(e.parentElement)||GS(e.parentElement)||WS(e)||e.getAttribute("data-language");return e=XS(e),{language:n}}},{tag:"div[style]",preserveWhitespace:"full",getAttrs:t=>{const e=t;return e.style.whiteSpace==="pre"||e.style.fontFamily&&e.style.fontFamily.toLowerCase().indexOf("monospace")>-1?{}:!1},getContent:(t,e)=>{const n=t,r=Array.from(n.children).map(o=>o.textContent).filter(o=>o!==void 0).join(`
`);return r?S.from(e.text(r)):S.empty}},{tag:"table[style]",preserveWhitespace:"full",getAttrs:t=>t.querySelector('td[class*="blob-code"]')?{}:!1},{tag:"div.code-block",preserveWhitespace:"full",getAttrs:t=>{const n=t.querySelectorAll(".react-syntax-highlighter-line-number");return n.length>0&&n.forEach(r=>r.remove()),{}}}],toDOM(t){return["pre",["code",{"data-language":t.attrs.language},0]]}},bg=t=>({attrs:Object.keys(t.attrs).reduce((e,n)=>(n==="uniqueId"||n==="language"&&t.attrs.language===null||(e[n]=t.attrs[n]),e),{})}),vg={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}},Wn=t=>e=>{var n,r;return{level:t,localId:e.getAttribute("data-local-id")||((n=Oc.attrs)===null||n===void 0||(r=n.localId)===null||r===void 0?void 0:r.default)}},kg={attrs:{level:{default:1},localId:{default:null}},content:"inline*",group:"block",defining:!0,selectable:!1,parseDOM:[{tag:"h1",getAttrs:Wn(1)},{tag:"h2",getAttrs:Wn(2)},{tag:"h3",getAttrs:Wn(3)},{tag:"h4",getAttrs:Wn(4)},{tag:"h5",getAttrs:Wn(5)},{tag:"h6",getAttrs:Wn(6)}],toDOM(t){const{level:e,localId:n}=t.attrs,r="h"+e,o=n!=null?[{"data-local-id":n}]:[];return[r,...o,0]}},Oc={attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,selectable:!1,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(t){return["h"+t.attrs.level,0]}},Lc=(t="full")=>t==="stage0"?kg:Oc,ZS=["hr"],xg={group:"block",parseDOM:[{tag:"hr"}],toDOM(){return ZS}},Fc=".ak-ol",Eg={group:"block",attrs:{order:{default:1}},content:"listItem+",marks:"unsupportedMark unsupportedNodeAttribute",selectable:!1,parseDOM:[{tag:"ol"}],toDOM(){return["ol",{class:Fc.substr(1)},0]}},ef=t=>{const e=Number(t);if(!Number.isNaN(e)&&!(e<0))return Math.floor(Math.max(e,0))},wg={...Eg,parseDOM:[{tag:"ol",getAttrs:t=>{const n=t.getAttribute("start");if(n){const r=ef(n);if(typeof r=="number")return{order:r}}return null}}],toDOM(t){var e;const n=ef(t==null||(e=t.attrs)===null||e===void 0?void 0:e.order);return["ol",{start:typeof n=="number"?String(n):void 0,class:Fc.substr(1)},0]}},_g={selectable:!1,content:"inline*",group:"block",attrs:{localId:{default:null}},marks:"strong code em link border strike subsup textColor backgroundColor typeAheadQuery underline confluenceInlineComment annotation unsupportedMark unsupportedNodeAttribute dataConsumer fragment",parseDOM:[{tag:"p",getAttrs:t=>{var e,n;return{localId:t.getAttribute("data-local-id")||((e=Ic.attrs)===null||e===void 0||(n=e.localId)===null||n===void 0?void 0:n.default)}}}],toDOM(t){const{localId:e}=t.attrs,n="p",r=e!=null?[{"data-local-id":e}]:[];return[n,...r,0]}},Ic={selectable:!1,content:"inline*",group:"block",marks:"strong code em link border strike subsup textColor backgroundColor typeAheadQuery underline confluenceInlineComment annotation unsupportedMark unsupportedNodeAttribute dataConsumer fragment",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},Pc=(t="full")=>t==="stage0"?_g:Ic,YS="2b50",QS="atlassian-",JS={smile:["1f642",":slight_smile:",""],sad:["1f641",":slight_frown:",""],cheeky:["1f61b",":stuck_out_tongue:",""],laugh:["1f600",":grinning:",""],wink:["1f609",":wink:",""],information:["2139",":information_source:",""],tick:["2705",":white_check_mark:",""],cross:["274c",":x:",""],warning:["26a0",":warning:",""],plus:["2795",":heavy_plus_sign:",""],minus:["2796",":heavy_minus_sign:",""],question:["2753",":question:","?"],"thumbs-up":["1f44d",":thumbsup:",""],"thumbs-down":["1f44e",":thumbsdown:",""],"light-on":["1f4a1",":bulb:",""],"yellow-star":["2b50",":star:",""],"light-off":["1f6ab",":no_entry_sign:",""],"red-star":["2764",":heart:",""],"green-star":["1f49a",":green_heart:",""],"blue-star":["1f499",":blue_heart:",""],heart:["2764",":heart:",""],"broken-heart":["1f494",":broken_heart:",""]};function eA(t){const e=JS[t];return e?{id:e[0],shortName:e[1],text:e[2]}:{id:YS,shortName:`:${t}:`,text:""}}function tA(t){return{id:`${QS}${t}`,shortName:`:${t}:`,text:""}}const Qt={inline:!0,group:"inline",selectable:!0,attrs:{shortName:{default:""},id:{default:""},text:{default:""}},parseDOM:[{tag:"div.ak-editor-panel__icon span",ignore:!0},{tag:"span[data-emoji-short-name]",getAttrs:t=>{const e=t;return{shortName:e.getAttribute("data-emoji-short-name")||Qt.attrs.shortName.default,id:e.getAttribute("data-emoji-id")||Qt.attrs.id.default,text:e.getAttribute("data-emoji-text")||Qt.attrs.text.default}}},{tag:"img[data-emoticon-name]",getAttrs:t=>eA(t.getAttribute("data-emoticon-name"))},{tag:"img[data-hipchat-emoticon]",getAttrs:t=>tA(t.getAttribute("data-hipchat-emoticon"))},{tag:"img.emoji[data-emoji-short-name]",getAttrs:t=>{const e=t;return{shortName:e.getAttribute("data-emoji-short-name")||Qt.attrs.shortName.default,id:e.getAttribute("data-emoji-id")||Qt.attrs.id.default,text:e.getAttribute("data-emoji-text")||Qt.attrs.text.default}}}],toDOM(t){const{shortName:e,id:n,text:r}=t.attrs;return["span",{"data-emoji-short-name":e,"data-emoji-id":n,"data-emoji-text":r,contenteditable:"false"},r]}},Sg={group:"inline",inline:!0,attrs:{src:{default:""},alt:{default:""},title:{default:null}},draggable:!0,parseDOM:[{tag:'img[src^="data:image/"]',ignore:!0},{tag:"img[src]",getAttrs(t){const e=t;return{src:e.getAttribute("src"),alt:e.getAttribute("alt"),title:e.getAttribute("title")}}}],toDOM(t){return["img",t.attrs]}},nA=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)});let tf=!1;const dn={setStatic(t){tf=t},generate(){return tf||nA()}},Ag="#f0f8ff",Cg="#faebd7",Dg="#00ffff",Mg="#7fffd4",Tg="#f0ffff",Rg="#f5f5dc",Ng="#ffe4c4",Og="#000000",Lg="#ffebcd",Fg="#0000ff",Ig="#8a2be2",Pg="#a52a2a",$g="#deb887",zg="#5f9ea0",Bg="#7fff00",qg="#d2691e",Vg="#ff7f50",Ug="#6495ed",jg="#fff8dc",Gg="#dc143c",Hg="#00ffff",Wg="#00008b",Kg="#008b8b",Xg="#b8860b",Zg="#a9a9a9",Yg="#006400",Qg="#a9a9a9",Jg="#bdb76b",ey="#8b008b",ty="#556b2f",ny="#ff8c00",ry="#9932cc",oy="#8b0000",sy="#e9967a",iy="#8fbc8f",ay="#483d8b",ly="#2f4f4f",cy="#2f4f4f",uy="#00ced1",dy="#9400d3",fy="#ff1493",py="#00bfff",hy="#696969",my="#696969",gy="#1e90ff",yy="#b22222",by="#fffaf0",vy="#228b22",ky="#ff00ff",xy="#dcdcdc",Ey="#f8f8ff",wy="#ffd700",_y="#daa520",Sy="#808080",Ay="#008000",Cy="#adff2f",Dy="#808080",My="#f0fff0",Ty="#ff69b4",Ry="#cd5c5c",Ny="#4b0082",Oy="#fffff0",Ly="#f0e68c",Fy="#e6e6fa",Iy="#fff0f5",Py="#7cfc00",$y="#fffacd",zy="#add8e6",By="#f08080",qy="#e0ffff",Vy="#fafad2",Uy="#d3d3d3",jy="#90ee90",Gy="#d3d3d3",Hy="#ffb6c1",Wy="#ffa07a",Ky="#20b2aa",Xy="#87cefa",Zy="#778899",Yy="#778899",Qy="#b0c4de",Jy="#ffffe0",e0="#00ff00",t0="#32cd32",n0="#faf0e6",r0="#ff00ff",o0="#800000",s0="#66cdaa",i0="#0000cd",a0="#ba55d3",l0="#9370db",c0="#3cb371",u0="#7b68ee",d0="#00fa9a",f0="#48d1cc",p0="#c71585",h0="#191970",m0="#f5fffa",g0="#ffe4e1",y0="#ffe4b5",b0="#ffdead",v0="#000080",k0="#fdf5e6",x0="#808000",E0="#6b8e23",w0="#ffa500",_0="#ff4500",S0="#da70d6",A0="#eee8aa",C0="#98fb98",D0="#afeeee",M0="#db7093",T0="#ffefd5",R0="#ffdab9",N0="#cd853f",O0="#ffc0cb",L0="#dda0dd",F0="#b0e0e6",I0="#800080",P0="#663399",$0="#ff0000",z0="#bc8f8f",B0="#4169e1",q0="#8b4513",V0="#fa8072",U0="#f4a460",j0="#2e8b57",G0="#fff5ee",H0="#a0522d",W0="#c0c0c0",K0="#87ceeb",X0="#6a5acd",Z0="#708090",Y0="#708090",Q0="#fffafa",J0="#00ff7f",eb="#4682b4",tb="#d2b48c",nb="#008080",rb="#d8bfd8",ob="#ff6347",sb="#40e0d0",ib="#ee82ee",ab="#f5deb3",lb="#ffffff",cb="#f5f5f5",ub="#ffff00",db="#9acd32",us={aliceblue:Ag,antiquewhite:Cg,aqua:Dg,aquamarine:Mg,azure:Tg,beige:Rg,bisque:Ng,black:Og,blanchedalmond:Lg,blue:Fg,blueviolet:Ig,brown:Pg,burlywood:$g,cadetblue:zg,chartreuse:Bg,chocolate:qg,coral:Vg,cornflowerblue:Ug,cornsilk:jg,crimson:Gg,cyan:Hg,darkblue:Wg,darkcyan:Kg,darkgoldenrod:Xg,darkgray:Zg,darkgreen:Yg,darkgrey:Qg,darkkhaki:Jg,darkmagenta:ey,darkolivegreen:ty,darkorange:ny,darkorchid:ry,darkred:oy,darksalmon:sy,darkseagreen:iy,darkslateblue:ay,darkslategray:ly,darkslategrey:cy,darkturquoise:uy,darkviolet:dy,deeppink:fy,deepskyblue:py,dimgray:hy,dimgrey:my,dodgerblue:gy,firebrick:yy,floralwhite:by,forestgreen:vy,fuchsia:ky,gainsboro:xy,ghostwhite:Ey,gold:wy,goldenrod:_y,gray:Sy,green:Ay,greenyellow:Cy,grey:Dy,honeydew:My,hotpink:Ty,indianred:Ry,indigo:Ny,ivory:Oy,khaki:Ly,lavender:Fy,lavenderblush:Iy,lawngreen:Py,lemonchiffon:$y,lightblue:zy,lightcoral:By,lightcyan:qy,lightgoldenrodyellow:Vy,lightgray:Uy,lightgreen:jy,lightgrey:Gy,lightpink:Hy,lightsalmon:Wy,lightseagreen:Ky,lightskyblue:Xy,lightslategray:Zy,lightslategrey:Yy,lightsteelblue:Qy,lightyellow:Jy,lime:e0,limegreen:t0,linen:n0,magenta:r0,maroon:o0,mediumaquamarine:s0,mediumblue:i0,mediumorchid:a0,mediumpurple:l0,mediumseagreen:c0,mediumslateblue:u0,mediumspringgreen:d0,mediumturquoise:f0,mediumvioletred:p0,midnightblue:h0,mintcream:m0,mistyrose:g0,moccasin:y0,navajowhite:b0,navy:v0,oldlace:k0,olive:x0,olivedrab:E0,orange:w0,orangered:_0,orchid:S0,palegoldenrod:A0,palegreen:C0,paleturquoise:D0,palevioletred:M0,papayawhip:T0,peachpuff:R0,peru:N0,pink:O0,plum:L0,powderblue:F0,purple:I0,rebeccapurple:P0,red:$0,rosybrown:z0,royalblue:B0,saddlebrown:q0,salmon:V0,sandybrown:U0,seagreen:j0,seashell:G0,sienna:H0,silver:W0,skyblue:K0,slateblue:X0,slategray:Z0,slategrey:Y0,snow:Q0,springgreen:J0,steelblue:eb,tan:tb,teal:nb,thistle:rb,tomato:ob,turquoise:sb,violet:ib,wheat:ab,white:lb,whitesmoke:cb,yellow:ub,yellowgreen:db},ea=Object.freeze(Object.defineProperty({__proto__:null,aliceblue:Ag,antiquewhite:Cg,aqua:Dg,aquamarine:Mg,azure:Tg,beige:Rg,bisque:Ng,black:Og,blanchedalmond:Lg,blue:Fg,blueviolet:Ig,brown:Pg,burlywood:$g,cadetblue:zg,chartreuse:Bg,chocolate:qg,coral:Vg,cornflowerblue:Ug,cornsilk:jg,crimson:Gg,cyan:Hg,darkblue:Wg,darkcyan:Kg,darkgoldenrod:Xg,darkgray:Zg,darkgreen:Yg,darkgrey:Qg,darkkhaki:Jg,darkmagenta:ey,darkolivegreen:ty,darkorange:ny,darkorchid:ry,darkred:oy,darksalmon:sy,darkseagreen:iy,darkslateblue:ay,darkslategray:ly,darkslategrey:cy,darkturquoise:uy,darkviolet:dy,deeppink:fy,deepskyblue:py,default:us,dimgray:hy,dimgrey:my,dodgerblue:gy,firebrick:yy,floralwhite:by,forestgreen:vy,fuchsia:ky,gainsboro:xy,ghostwhite:Ey,gold:wy,goldenrod:_y,gray:Sy,green:Ay,greenyellow:Cy,grey:Dy,honeydew:My,hotpink:Ty,indianred:Ry,indigo:Ny,ivory:Oy,khaki:Ly,lavender:Fy,lavenderblush:Iy,lawngreen:Py,lemonchiffon:$y,lightblue:zy,lightcoral:By,lightcyan:qy,lightgoldenrodyellow:Vy,lightgray:Uy,lightgreen:jy,lightgrey:Gy,lightpink:Hy,lightsalmon:Wy,lightseagreen:Ky,lightskyblue:Xy,lightslategray:Zy,lightslategrey:Yy,lightsteelblue:Qy,lightyellow:Jy,lime:e0,limegreen:t0,linen:n0,magenta:r0,maroon:o0,mediumaquamarine:s0,mediumblue:i0,mediumorchid:a0,mediumpurple:l0,mediumseagreen:c0,mediumslateblue:u0,mediumspringgreen:d0,mediumturquoise:f0,mediumvioletred:p0,midnightblue:h0,mintcream:m0,mistyrose:g0,moccasin:y0,navajowhite:b0,navy:v0,oldlace:k0,olive:x0,olivedrab:E0,orange:w0,orangered:_0,orchid:S0,palegoldenrod:A0,palegreen:C0,paleturquoise:D0,palevioletred:M0,papayawhip:T0,peachpuff:R0,peru:N0,pink:O0,plum:L0,powderblue:F0,purple:I0,rebeccapurple:P0,red:$0,rosybrown:z0,royalblue:B0,saddlebrown:q0,salmon:V0,sandybrown:U0,seagreen:j0,seashell:G0,sienna:H0,silver:W0,skyblue:K0,slateblue:X0,slategray:Z0,slategrey:Y0,snow:Q0,springgreen:J0,steelblue:eb,tan:tb,teal:nb,thistle:rb,tomato:ob,turquoise:sb,violet:ib,wheat:ab,white:lb,whitesmoke:cb,yellow:ub,yellowgreen:db},Symbol.toStringTag,{value:"Module"})),rA="#FFEBE6",fb="#FFBDAD",oA="#FF8F73",sA="#FF5630",iA="#BF2600",aA="#FFFAE6",pb="#FFF0B3",hb="#FFC400",lA="#FF991F",cA="#E3FCEF",mb="#ABF5D1",uA="#57D9A3",dA="#36B37E",fA="#006644",pA="#DEEBFF",gb="#B3D4FF",yb="#4C9AFF",hA="#0052CC",mA="#0747A6",gA="#D3F1A7",$c="#FFFFFF",bb="#F4F5F7",yA="#EBECF0",bA="#B3BAC5",vA="#97A0AF",kA="#DCDFE4",xA="#091E4224",EA="#758195",wA="#172B4D",_A="#172B4D",SA="#FDD0EC",AA="#FEDEC8",vb="#EAE6FF",CA="#C0B6F2",DA="#998DD9",MA="#DFD8FD",TA="#6554C0",RA="#403294",NA="#E6FCFF",kb="#B3F5FF",OA="#79E2F2",LA="#C6EDFB",FA="#00B8D9",IA="#008DA6";function PA(t,e){if(!t)return null;if(t=t.trim().toLowerCase(),xb(t))t.length===4&&(t=t.split("").map(n=>n==="#"?"#":`${n}${n}`).join(""));else{if(zc(t))return kr(t);if(t==="default")return null;if(us&&us[t])t=us[t];else if(ea&&ea[t])t=ea[t];else return null}return t===e?null:t}function $A(t,e){const n=PA(t);return n?`rgba(${(o=>o.match(/[a-z0-9]{2}/gi).map(s=>parseInt(s,16)))(n).concat(e).join(",")})`:null}function kr(t){const e=t.match(/(0?\.?\d{1,3})%?\b/g);if(e&&e.length>=3){const[n,r,o]=e.map(Number);return"#"+(o|r<<8|n<<16|1<<24).toString(16).slice(1)}return null}function zc(t){return/rgba?\(/.test(t)}function xb(t){return/^#([A-Fa-f0-9]{3}){1,2}$/.test(t)}var ta,nf;function Bc(){return nf||(nf=1,ta=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),ta}var na,rf;function qc(){return rf||(rf=1,na=/[\0-\x1F\x7F-\x9F]/),na}var ra,of;function Vc(){return of||(of=1,ra=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/),ra}var oa,sf;function gi(){return sf||(sf=1,oa=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/),oa}var sa,af;function zA(){return af||(af=1,sa=function(t){var e={};e.src_Any=Bc().source,e.src_Cc=qc().source,e.src_Z=Vc().source,e.src_P=gi().source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");var n="[><]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+e.src_ZCc+"|[.]).|"+(t&&t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+e.src_ZCc+").|\\!(?!"+e.src_ZCc+"|[!]).|\\?(?!"+e.src_ZCc+"|[?]).)+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}),sa}function bl(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function yi(t){return Object.prototype.toString.call(t)}function BA(t){return yi(t)==="[object String]"}function qA(t){return yi(t)==="[object Object]"}function VA(t){return yi(t)==="[object RegExp]"}function lf(t){return yi(t)==="[object Function]"}function UA(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var Eb={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function jA(t){return Object.keys(t||{}).reduce(function(e,n){return e||Eb.hasOwnProperty(n)},!1)}var GA={"http:":{validate:function(t,e,n){var r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){var r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){var r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},HA="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",WA="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function KA(t){t.__index__=-1,t.__text_cache__=""}function XA(t){return function(e,n){var r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}function cf(){return function(t,e){e.normalize(t)}}function Ns(t){var e=t.re=zA()(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(HA),n.push(e.src_xn),e.src_tlds=n.join("|");function r(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");var o=[];t.__compiled__={};function s(a,l){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+l)}Object.keys(t.__schemas__).forEach(function(a){var l=t.__schemas__[a];if(l!==null){var c={validate:null,link:null};if(t.__compiled__[a]=c,qA(l)){VA(l.validate)?c.validate=XA(l.validate):lf(l.validate)?c.validate=l.validate:s(a,l),lf(l.normalize)?c.normalize=l.normalize:l.normalize?s(a,l):c.normalize=cf();return}if(BA(l)){o.push(a);return}s(a,l)}}),o.forEach(function(a){t.__compiled__[t.__schemas__[a]]&&(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:cf()};var i=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map(UA).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+i+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+i+")","ig"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),KA(t)}function ZA(t,e){var n=t.__index__,r=t.__last_index__,o=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=o,this.text=o,this.url=o}function uf(t,e){var n=new ZA(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function at(t,e){if(!(this instanceof at))return new at(t,e);e||jA(t)&&(e=t,t={}),this.__opts__=bl({},Eb,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=bl({},GA,t),this.__compiled__={},this.__tlds__=WA,this.__tlds_replaced__=!1,this.re={},Ns(this)}at.prototype.add=function(e,n){return this.__schemas__[e]=n,Ns(this),this};at.prototype.set=function(e){return this.__opts__=bl(this.__opts__,e),this};at.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var n,r,o,s,i,a,l,c,u;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(e))!==null;)if(s=this.testSchemaAt(e,n[2],l.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(i=r.index+r[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=e.indexOf("@"),u>=0&&(o=e.match(this.re.email_fuzzy))!==null&&(i=o.index+o[1].length,a=o.index+o[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a))),this.__index__>=0};at.prototype.pretest=function(e){return this.re.pretest.test(e)};at.prototype.testSchemaAt=function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0};at.prototype.match=function(e){var n=0,r=[];this.__index__>=0&&this.__text_cache__===e&&(r.push(uf(this,n)),n=this.__last_index__);for(var o=n?e.slice(n):e;this.test(o);)r.push(uf(this,n)),o=o.slice(this.__last_index__),n+=this.__last_index__;return r.length?r:null};at.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,o,s){return r!==s[o-1]}).reverse(),Ns(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Ns(this),this)};at.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};at.prototype.onCompile=function(){};var YA=at;const QA=bo(YA),JA=[/^https?:\/\//im,/^ftps?:\/\//im,/^gopher:\/\//im,/^integrity:\/\//im,/^file:\/\//im,/^smb:\/\//im,/^dynamicsnav:\/\//im,/^jamfselfservice:\/\//im,/^\//im,/^mailto:/im,/^skype:/im,/^callto:/im,/^facetime:/im,/^git:/im,/^irc6?:/im,/^news:/im,/^nntp:/im,/^feed:/im,/^cvs:/im,/^svn:/im,/^mvn:/im,/^ssh:/im,/^scp:\/\//im,/^sftp:\/\//im,/^itms:/im,/^notes:/im,/^notes:\/\//im,/^hipchat:\/\//im,/^sourcetree:/im,/^sourcetree:\/\//im,/^urn:/im,/^tel:/im,/^xmpp:/im,/^telnet:/im,/^vnc:/im,/^rdp:/im,/^whatsapp:/im,/^slack:/im,/^sips?:/im,/^magnet:/im,/^#/im],bi=t=>{const e=t.trim();return e.length===0?!0:JA.some(n=>n.test(e))},Wt=QA();Wt.add("sourcetree:","http:");Wt.add("jamfselfservice:","http:");const wb={validate:/[^\s]+/};Wt.add("tel:",wb);Wt.add("file:",wb);Wt.add("notes:","http:");const _b="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|"),eC="a[cdefgilmnoqrtuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrtuvwxyz]|n[acefgilopruz]|om|p[aefghkmnrtw]|qa|r[eosuw]|s[abcdegijklmnrtuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]";_b.push(eC);Wt.tlds(_b,!1);const ia=/(https?|ftp|jamfselfservice|gopher|dynamicsnav|integrity|file|smb):\/\/[^\s]+/,tC=t=>{if(!ia.test(t))return[];const e=[];let n=0,r;for(;r=t.substr(n);){const o=(r.match(ia)||[""])[0];if(o){const s=r.search(ia),i=s>=0?s+n:s,a=i+o.length;e.push({index:i,lastIndex:a,raw:o,url:o,text:o,schema:""}),n+=a}else break}return e};function nC(t){if(!t)return null;let e=tC(t);return e.length||(e=Wt.match(t)),e&&e[0]}function Sb(t){const e=nC(t);return e&&e.url||""}function rC(t){return t.startsWith("/")}const ds=(t,e,n)=>Math.round(Math.min(Math.max(t,e),n)),oC=t=>t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,n,r,o)=>n+n+r+r+o+o),Ab=t=>{const e=oC(t),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n===null?null:{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}},sC=({r:t,g:e,b:n})=>{const r=o=>{const s=o.toString(16);return s.length===1?`0${s}`:s};return`#${r(t)}${r(e)}${r(n)}`},iC=t=>{const e=i=>i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,n=i=>i>.008856452?Math.pow(i,.3333333333333333):i/.12841855+.137931034,r=e(t.r/255),o=e(t.g/255),s=e(t.b/255);return{x:n((.4124564*r+.3575761*o+.1804375*s)/.95047),y:n(.2126729*r+.7151522*o+.072175*s),z:n((.0193339*r+.119192*o+.9503041*s)/1.08883)}},aC=({x:t,y:e,z:n})=>({l:Math.max(116*e-16,0),a:500*(t-e),b:200*(e-n)}),lC=({l:t,a:e,b:n})=>{let r=(Math.atan2(n,e)*(180/Math.PI)+360)%360;const o=Math.sqrt(Math.pow(e,2)+Math.pow(n,2));return Math.round(o*1e4)===0&&(r=Number.NaN),{l:t,c:o,h:r}},cC=({l:t,c:e,h:n})=>{const r=Number.isNaN(n)?0:n*(Math.PI/180);return{l:t,a:Math.cos(r)*e,b:Math.sin(r)*e}},uC=({l:t,a:e,b:n})=>{const r=a=>a>.206896552?Math.pow(a,3):.12841855*(a-.137931034),o=(t+16)/116,s=e/500+o,i=o-n/200;return{x:r(s)*.95047,y:r(o),z:r(i)*1.08883}},dC=({x:t,y:e,z:n})=>{const r=o=>255*(o<=.00304?12.92*o:1.055*Math.pow(o,.4166666666666667)-.055);return{r:ds(r(3.2404542*t-1.5371385*e-.4985314*n),0,255),g:ds(r(-.969266*t+1.8760108*e+.041556*n),0,255),b:ds(r(.0556434*t-.2040259*e+1.0572252*n),0,255)}},Cb=t=>lC(aC(iC(t))),fC=t=>dC(uC(cC(t))),pC=(t,e)=>{const n=Ab(t);if(n===null)return t;const r=Cb(n);return r.l=ds(e,0,100),sC(fC(r))},hC=t=>{const e=Ab(t);return e===null?0:Cb(e).l},Uc=t=>{const e=hC(t),n=Math.abs(100-e);return pC(t,n).toUpperCase()};let mC=function(t){return t.DEFAULT="DEFAULT",t.SPECIAL="SPECIAL",t.APP="APP",t}({});const Hr={inline:!0,group:"inline",selectable:!0,attrs:{id:{default:""},text:{default:""},accessLevel:{default:""},userType:{default:null},localId:{default:null}},parseDOM:[{tag:"span[data-mention-id]",getAttrs:t=>{const e=t,n={id:e.getAttribute("data-mention-id")||Hr.attrs.id.default,text:e.textContent||Hr.attrs.text.default,accessLevel:e.getAttribute("data-access-level")||Hr.attrs.accessLevel.default,localId:dn.generate()},r=e.getAttribute("data-user-type");return mC[r]&&(n.userType=r),n}}],toDOM(t){const{id:e,accessLevel:n,text:r,userType:o,localId:s}=t.attrs,i={"data-mention-id":e,"data-access-level":n,contenteditable:"false"};return s&&(i["data-local-id"]=s),o&&(i["data-user-type"]=o),["span",i,r]}},gC=t=>["userType","localId"].indexOf(t)>-1,Db=t=>({attrs:Object.keys(t.attrs).reduce((e,n)=>gC(n)&&!t.attrs[n]?e:{...e,[n]:t.attrs[n]},{})}),yC={content:"(paragraph | mediaSingle | codeBlock | unsupportedBlock) (paragraph | bulletList | orderedList | mediaSingle | codeBlock | unsupportedBlock)*",marks:"unsupportedMark unsupportedNodeAttribute",defining:!0,selectable:!1,parseDOM:[{tag:"li"}],toDOM(){return["li",0]}},Mb={content:"(paragraph | mediaSingle | codeBlock | unsupportedBlock) (paragraph | bulletList | orderedList | taskList | mediaSingle | codeBlock | unsupportedBlock)*",marks:"unsupportedMark unsupportedNodeAttribute",defining:!0,selectable:!1,parseDOM:[{tag:"li"}],toDOM(){return["li",0]}};let vl=function(t){return t.INFO="info",t.NOTE="note",t.TIP="tip",t.WARNING="warning",t.ERROR="error",t.SUCCESS="success",t.CUSTOM="custom",t}({});const Tb=()=>({panelType:{default:"info"},panelIcon:{default:null},panelIconId:{default:null},panelIconText:{default:null},panelColor:{default:null}}),Rb=t=>({"data-panel-type":t.panelType,"data-panel-icon":t.panelIcon,"data-panel-icon-id":t.panelIconId,"data-panel-icon-text":t.panelIconText,"data-panel-color":t.panelColor}),Nb=(t,e)=>{let n={panelType:e.getAttribute("data-panel-type")};return t?n={...n,panelIcon:e.getAttribute("data-panel-icon"),panelIconId:e.getAttribute("data-panel-icon-id"),panelIconText:e.getAttribute("data-panel-icon-text"),panelColor:e.getAttribute("data-panel-color")}:n.panelType=n.panelType===vl.CUSTOM?vl.INFO:n.panelType,n},bC=t=>({group:"block",content:"(paragraph | heading | bulletList | orderedList | blockCard | unsupportedBlock)+",marks:"unsupportedMark unsupportedNodeAttribute",attrs:Tb(),selectable:!0,parseDOM:[{tag:"div[data-panel-type]",getAttrs:n=>Nb(t,n)}],toDOM(n){return["div",Rb(n.attrs),["div",{"data-panel-content":"true"},0]]}}),Ob=t=>({group:"block",content:"(paragraph | heading | bulletList | orderedList | blockCard | mediaGroup | mediaSingle | codeBlock | taskList | rule | decisionList | unsupportedBlock)+",marks:"unsupportedMark unsupportedNodeAttribute",attrs:Tb(),selectable:!0,parseDOM:[{tag:"div[data-panel-type]",getAttrs:n=>Nb(t,n)}],toDOM(n){return["div",Rb(n.attrs),["div",{"data-panel-content":"true"},0]]}}),Lb={group:"inline",toDebugString:()=>"text_node"},df="unknownBlock",Fb={group:"block",content:"inline+",marks:"_",toDOM(){return["div",{"data-node-type":df},0]},parseDOM:[{tag:`div[data-node-type="${df}"]`}]},Ib={content:"(text|hardBreak|mention|emoji|date|placeholder|inlineCard|status|unsupportedInline)*",isolating:!0,marks:"_",selectable:!1,parseDOM:[{tag:"figcaption[data-caption]"}],toDOM(){return["figcaption",{"data-caption":"true"},0]}},Pb={id:{default:""},type:{default:"file"},collection:{default:""},occurrenceKey:{default:null},alt:{default:""},width:{default:null},height:{default:null},url:{default:null},__fileName:{default:null},__fileSize:{default:null},__fileMimeType:{default:null},__displayType:{default:null},__contextId:{default:null},__mediaTraceId:{default:null},__external:{default:!1}},$b=(t,e=!1)=>{const n=e?"span":"div",r=e?"mediaInline":"media",o=[{tag:`${n}[data-node-type="${r}"]`,getAttrs:s=>{const i={};t&&Object.keys(t).forEach(c=>{const u=ff(c).replace(/^__/,""),d=s.getAttribute(`data-${u}`)||"";d&&(i[c]=d)}),i.__fileSize&&(i.__fileSize=+i.__fileSize);const a=Number(i.width);typeof a<"u"&&!isNaN(a)&&(i.width=a);const l=Number(i.height);return typeof l<"u"&&!isNaN(l)&&(i.height=l),i}},{tag:'img[src^="data:image"]',ignore:!0}];return e||o.push({tag:"img:not(.smart-link-icon)",getAttrs:s=>({type:"external",url:s.getAttribute("src")||"",alt:s.getAttribute("alt")||""})}),{selectable:!0,inline:e,group:e?"inline":void 0,attrs:t,parseDOM:o,toDOM(s){const i={"data-id":s.attrs.id,"data-node-type":`${r}`,"data-type":s.attrs.type,"data-collection":s.attrs.collection,"data-occurrence-key":s.attrs.occurrenceKey,"data-width":s.attrs.width,"data-height":s.attrs.height,"data-url":s.attrs.url,"data-alt":s.attrs.alt,title:"Attachment",style:`display: inline-block; border-radius: 3px; background: ${yA}; box-shadow: 0 1px 1px rgba(9, 30, 66, 0.2), 0 0 1px 0 rgba(9, 30, 66, 0.24);`};return zb(s.attrs,i,a=>`data-${ff(a.slice(2))}`),[`${n}`,i]}}},Os=$b(Pb),ff=t=>t.replace(/([^A-Z]+)([A-Z])/g,(e,n,r)=>`${n}-${r.toLowerCase()}`),zb=(t,e,n)=>{Os.attrs&&Object.keys(Os.attrs).forEach(r=>{r[0]==="_"&&r[1]==="_"&&t[r]&&(e[n?n(r):r]=t[r])})},vC=["occurrenceKey","width","height","url","alt"],kC=["type","url","width","height","alt"],kl=t=>({attrs:Object.keys(t.attrs).filter(e=>!(e[0]==="_"&&e[1]==="_")).reduce((e,n)=>t.attrs.type==="external"&&kC.indexOf(n)===-1||vC.indexOf(n)>-1&&(t.attrs[n]===null||t.attrs[n]==="")?e:["width","height"].indexOf(n)!==-1?(e[n]=Number(t.attrs[n]),e):(e[n]=t.attrs[n],e),{})}),Bb={inline:!1,group:"block",content:"(media|unsupportedBlock)+",attrs:{},marks:"unsupportedMark unsupportedNodeAttribute annotation border link",selectable:!1,parseDOM:[{tag:'div[data-node-type="mediaGroup"]'},{tag:'div[class="MediaGroup"]'}],toDOM(){return["div",{"data-node-type":"mediaGroup"},0]}},qb=$b(Pb,!0);let pf=function(t){return t.PIXEL="pixel",t.PERCENTAGE="percentage",t}({});const jc=t=>t instanceof Node&&t.nodeType===Node.ELEMENT_NODE,hf={width:{default:null},layout:{default:"center"}},Ao=({withCaption:t=!1,withExtendedWidthTypes:e=!1})=>{const n=t?"media|unsupportedBlock+|media (caption|unsupportedBlock) unsupportedBlock*":"media|unsupportedBlock+|media unsupportedBlock+",r=!t,o=i=>{if(!jc(i))return{layout:"center"};const a=i.getAttribute("data-layout")||"center",l=Number(i.getAttribute("data-width"))||null,c=i.getAttribute("data-width-type");return e?{layout:a,width:l,widthType:c}:c===pf.PIXEL?{layout:a}:{layout:a,width:l}},s=i=>{const{layout:a,width:l}=i.attrs,c={"data-node-type":"mediaSingle","data-layout":a,"data-width":""};if(l&&(c["data-width"]=isFinite(l)&&Math.floor(l)===l?l:l.toFixed(2)),e&&i.attrs.widthType){const{widthType:u}=i.attrs;return{...c,"data-width-type":u||pf.PERCENTAGE}}return c};return{inline:!1,group:"block",selectable:!0,atom:r,content:n,attrs:e?{...hf,widthType:{default:null}}:hf,marks:"unsupportedMark unsupportedNodeAttribute annotation border link",parseDOM:[{tag:'div[data-node-type="mediaSingle"]',getAttrs:o}],toDOM(i){return["div",s(i),0]}}},xC=Ao({withCaption:!1,withExtendedWidthTypes:!1}),EC=Ao({withCaption:!0,withExtendedWidthTypes:!1}),wC=Ao({withCaption:!1,withExtendedWidthTypes:!0}),Vb=Ao({withCaption:!0,withExtendedWidthTypes:!0}),Ub=t=>({attrs:Object.keys(t.attrs).reduce((e,n)=>(t.attrs[n]!==null&&(e[n]=t.attrs[n]),e),{})});function _C(t){return SC[t.toUpperCase()]}const SC={"#091E4224":"var(--ds-border, #091E4224)","#758195":"var(--ds-border-bold, #758195)","#172B4D":"var(--ds-text, #172B4D)"};function AC(t){return CC[t.toUpperCase()]}const CC={"#B3D4FF":"var(--ds-background-accent-blue-subtler, #B3D4FF)","#4C9AFF":"var(--ds-icon-accent-blue, #4C9AFF)","#0747A6":"var(--ds-text-accent-blue, #0747A6)","#B3F5FF":"var(--ds-background-accent-teal-subtler, #B3F5FF)","#00B8D9":"var(--ds-icon-accent-teal, #00B8D9)","#008DA6":"var(--ds-text-accent-teal, #008DA6)","#ABF5D1":"var(--ds-background-accent-green-subtler, #ABF5D1)","#36B37E":"var(--ds-icon-accent-green, #36B37E)","#006644":"var(--ds-text-accent-green, #006644)","#FFF0B3":"var(--ds-background-accent-yellow-subtler, #FFF0B3)","#FFC400":"var(--ds-background-accent-orange-subtle, #FFC400)","#FF991F":"var(--ds-icon-accent-orange, #FF991F)","#FFBDAD":"var(--ds-background-accent-red-subtler, #FFBDAD)","#FF5630":"var(--ds-icon-accent-red, #FF5630)","#BF2600":"var(--ds-text-accent-red, #BF2600)","#EAE6FF":"var(--ds-background-accent-purple-subtler, #EAE6FF)","#6554C0":"var(--ds-icon-accent-purple, #6554C0)","#403294":"var(--ds-text-accent-purple, #403294)","#FFFFFF":"var(--ds-text-inverse, #FFFFFF)","#97A0AF":"var(--ds-icon-accent-gray, #97A0AF)","#172B4D":"var(--ds-text, #172B4D)"};function DC(t){return MC[t.toUpperCase()]}const MC={"#DCDFE4":"var(--ds-background-accent-gray-subtler, #DCDFE4)","#C6EDFB":"var(--ds-background-accent-teal-subtler, #C6EDFB)","#D3F1A7":"var(--ds-background-accent-lime-subtler, #D3F1A7)","#FEDEC8":"var(--ds-background-accent-orange-subtler, #FEDEC8)","#FDD0EC":"var(--ds-background-accent-magenta-subtler, #FDD0EC)","#DFD8FD":"var(--ds-background-accent-purple-subtler, #DFD8FD)"};function TC(t){const e=RC[t.toUpperCase()];return e?e.getValue(t):void 0}const RC={"#DEEBFF":{getValue:()=>"#DEEBFF",token:"var(--ds-background-accent-blue-subtlest, #DEEBFF)"},"#B3D4FF":{getValue:()=>"#B3D4FF",token:"var(--ds-background-accent-blue-subtler, #B3D4FF)"},"#4C9AFF":{getValue:()=>"#4C9AFF",token:"var(--ds-background-accent-blue-subtle, #4C9AFF)"},"#E6FCFF":{getValue:()=>"#E6FCFF",token:"var(--ds-background-accent-teal-subtlest, #E6FCFF)"},"#B3F5FF":{getValue:()=>"#B3F5FF",token:"var(--ds-background-accent-teal-subtler, #B3F5FF)"},"#79E2F2":{getValue:()=>"#79E2F2",token:"var(--ds-background-accent-teal-subtle, #79E2F2)"},"#E3FCEF":{getValue:()=>"#E3FCEF",token:"var(--ds-background-accent-green-subtlest, #E3FCEF)"},"#ABF5D1":{getValue:()=>"#ABF5D1",token:"var(--ds-background-accent-green-subtler, #ABF5D1)"},"#57D9A3":{getValue:()=>"#57D9A3",token:"var(--ds-background-accent-green-subtle, #57D9A3)"},"#FFFAE6":{getValue:()=>"#FFFAE6",token:"var(--ds-background-accent-yellow-subtlest, #FFFAE6)"},"#FFF0B3":{getValue:()=>"#FFF0B3",token:"var(--ds-background-accent-yellow-subtler, #FFF0B3)"},"#FFC400":{getValue:()=>"#FFC400",token:"var(--ds-background-accent-orange-subtle, #FFC400)"},"#FFEBE6":{getValue:()=>"#FFEBE6",token:"var(--ds-background-accent-red-subtlest, #FFEBE6)"},"#FFBDAD":{getValue:()=>"#FFBDAD",token:"var(--ds-background-accent-red-subtler, #FFBDAD)"},"#FF8F73":{getValue:()=>"#FF8F73",token:"var(--ds-background-accent-red-subtle, #FF8F73)"},"#EAE6FF":{getValue:()=>"#EAE6FF",token:"var(--ds-background-accent-purple-subtlest, #EAE6FF)"},"#C0B6F2":{getValue:()=>"#C0B6F2",token:"var(--ds-background-accent-purple-subtler, #C0B6F2)"},"#998DD9":{getValue:()=>"#998DD9",token:"var(--ds-background-accent-purple-subtle, #998DD9)"},"#FFFFFF":{getValue:()=>"#FFFFFF",token:"var(--ds-surface, #FFFFFF)"},"#F4F5F7":{getValue:()=>"#F4F5F7",token:"var(--ds-background-accent-gray-subtlest, #F4F5F7)"},"#B3BAC5":{getValue:()=>"#B3BAC5",token:"var(--ds-background-accent-gray-subtle, #B3BAC5)"}},Co="pm-table",jb=`${Co}-cell-content-wrap`,Gb=`${Co}-header-content-wrap`,NC=`${Co}-cell-nodeview-wrapper`,OC=`${Co}-cell-nodeview-content-dom`,LC=bb.toLocaleLowerCase(),Gc=(t,e={})=>{const n=t.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(c=>Number(c)):null,o=Number(t.getAttribute("colspan")||1);let{backgroundColor:s}=t.style;const i=t.getAttribute("data-cell-background"),a=i&&xb(i)?i:void 0;if(s.includes("--ds-background-neutral"))s="";else if(s&&zc(s)){const c=kr(s);c!==null&&(s=c)}const l=a||(s&&s!==e.background?s:null);return{colspan:o,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:r&&r.length===o?r:null,background:l}},FC=()=>({colorMode:document.documentElement.getAttribute("data-color-mode")||""}),Hc=t=>{const e={},n=t.type.name;if(t.attrs.colspan!==1&&(e.colspan=t.attrs.colspan),t.attrs.rowspan!==1&&(e.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(e["data-colwidth"]=t.attrs.colwidth.join(",")),t.attrs.background){const{background:r}=t.attrs;if(n==="tableHeader"&&r===Ls.get("light gray")||n==="tableCell"&&r===Ls.get("white")||n==="tableHeader"&&r.includes("--ds-background-neutral"))e.style="";else{const s=zc(r)&&kr(r)?kr(r):r,i=TC(s);i?e.style=`background-color: ${i};`:FC().colorMode==="dark"?e.style=`background-color: ${Uc(s)};`:e.style=`background-color: ${r};`,s&&(e["data-cell-background"]=s),e.colorname=Wc.get(s)}}return n==="tableHeader"?e.class=Gb:e.class=jb,e},Wc=new Map,IC=$A(wA,.12)||$c,Ls=new Map;[[$c,"White"],[pA,"Light blue"],[NA,"Light teal"],[cA,"Light green"],[aA,"Light yellow"],[rA,"Light red"],[vb,"Light purple"],[bb,"Light gray"],[gb,"Blue"],[kb,"Teal"],[mb,"Green"],[pb,"Yellow"],[fb,"Red"],[CA,"Purple"],[bA,"Gray"],[yb,"Dark blue"],[OA,"Dark teal"],[uA,"Dark green"],[hb,"Dark yellow"],[oA,"Dark red"],[DA,"Dark purple"]].forEach(([t,e])=>{Wc.set(t.toLowerCase(),e),Ls.set(e.toLowerCase(),t.toLowerCase())});const Kc=()=>({content:"tableRow+",attrs:{isNumberColumnEnabled:{default:!1},layout:{default:"default"},__autoSize:{default:!1},localId:{default:""},width:{default:null},displayMode:{default:null}},marks:"unsupportedMark unsupportedNodeAttribute",tableRole:"table",isolating:!0,selectable:!0,group:"block",parseDOM:[{tag:"table",getAttrs:n=>{var r;const o=n,s=(r=o.parentElement)===null||r===void 0?void 0:r.parentElement;return{isNumberColumnEnabled:o.getAttribute("data-number-column")==="true",layout:o.getAttribute("data-layout")||(s==null?void 0:s.getAttribute("data-layout"))||"default",__autoSize:o.getAttribute("data-autosize")==="true",localId:o.getAttribute("data-table-local-id")||dn.generate(),width:Number(o.getAttribute("data-table-width"))||null,displayMode:o.getAttribute("data-table-display-mode")||null}}}],toDOM(n){return["table",{"data-number-column":n.attrs.isNumberColumnEnabled,"data-layout":n.attrs.layout,"data-autosize":n.attrs.__autoSize,"data-table-local-id":n.attrs.localId,"data-table-width":n.attrs.width,"data-table-display-mode":n.attrs.displayMode},["tbody",0]]}}),Hb=Kc(),PC=Kc(),$C=Kc(),zC=(t,e)=>!t.startsWith("__")&&(t!=="localId"||!!e),Wb=t=>({attrs:Object.keys(t.attrs).filter(e=>zC(e,t.attrs[e])).reduce((e,n)=>({...e,[n]:t.attrs[n]}),{})}),Kb={selectable:!1,content:"(tableCell | tableHeader)+",marks:"unsupportedMark unsupportedNodeAttribute",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},Xc={colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null}},Xb={selectable:!1,content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaSingle |  mediaGroup | decisionList | taskList | blockCard | embedCard | extension | nestedExpand | unsupportedBlock)+",attrs:Xc,tableRole:"cell",marks:"alignment dataConsumer fragment unsupportedMark unsupportedNodeAttribute",isolating:!0,parseDOM:[{tag:".ak-renderer-table-number-column",ignore:!0},{tag:"td",getAttrs:t=>Gc(t)}],toDOM:t=>["td",Hc(t),0]},Zc=t=>({attrs:Object.keys(t.attrs).reduce((e,n)=>(Xc[n].default!==t.attrs[n]&&(e[n]=t.attrs[n]),e),{})}),Zb={selectable:!1,content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaSingle |  mediaGroup | decisionList | taskList | blockCard | embedCard | extension | nestedExpand)+",attrs:Xc,tableRole:"header_cell",isolating:!0,marks:"alignment dataConsumer fragment unsupportedMark unsupportedNodeAttribute",parseDOM:[{tag:"th",getAttrs:t=>Gc(t,{background:LC})}],toDOM:t=>["th",Hc(t),0]},Yb=Zc,Qb="decisionList",Jb=`[data-node-type="${Qb}"]`,ev={group:"block",defining:!0,content:"(decisionItem|unsupportedBlock)+",marks:"unsupportedMark unsupportedNodeAttribute",selectable:!1,attrs:{localId:{default:""}},parseDOM:[{tag:`ol${Jb}`,priority:100,getAttrs:()=>({localId:dn.generate()})}],toDOM(t){const{localId:e}=t.attrs;return["ol",{"data-node-type":Qb,"data-decision-list-local-id":e||"local-decision-list",style:"list-style: none; padding-left: 0"},0]}},tv={content:"inline*",defining:!0,marks:"_",attrs:{localId:{default:""},state:{default:"DECIDED"}},parseDOM:[{tag:"li[data-decision-local-id]",priority:100,getAttrs:t=>({localId:dn.generate(),state:t.getAttribute("data-decision-state")})}],toDOM(t){const{localId:e,state:n}=t.attrs;return["li",{"data-decision-local-id":e||"local-decision","data-decision-state":n},0]}},nv="actionList",rv=`[data-node-type="${nv}"]`,ov={group:"block",defining:!0,selectable:!1,content:"(taskItem|unsupportedBlock)+ (taskItem|taskList|unsupportedBlock)*",marks:"unsupportedMark unsupportedNodeAttribute",attrs:{localId:{default:""}},parseDOM:[{tag:`div${rv}`,priority:100,getAttrs:()=>({localId:dn.generate()})}],toDOM(t){const{localId:e}=t.attrs;return["div",{"data-node-type":nv,"data-task-list-local-id":e||"local-task-list",style:"list-style: none; padding-left: 0"},0]}},sv={content:"inline*",defining:!0,selectable:!1,marks:"_",attrs:{localId:{default:""},state:{default:"TODO"}},parseDOM:[{tag:"div[data-task-local-id]",priority:100,getAttrs:t=>({localId:dn.generate(),state:t.getAttribute("data-task-state")||"TODO"})}],toDOM(t){const{localId:e,state:n}=t.attrs;return["div",{"data-task-local-id":e||"local-task","data-task-state":n||"TODO"},0]}},iv={inline:!0,group:"inline",selectable:!0,attrs:{timestamp:{default:""}},parseDOM:[{tag:'span[data-node-type="date"]',getAttrs:t=>({timestamp:t.getAttribute("data-timestamp")})}],toDOM(t){return["span",{"data-node-type":"date","data-timestamp":t.attrs.timestamp}]}},Yc={inline:!0,group:"inline",selectable:!1,marks:"",attrs:{text:{default:""}},parseDOM:[{tag:"span[data-placeholder]",getAttrs:t=>({text:t.getAttribute("data-placeholder")||Yc.attrs.text.default})}],toDOM(t){const{text:e}=t.attrs;return["span",{"data-placeholder":e,contenteditable:"true"},e]}},av={content:"(layoutColumn | unsupportedBlock){1,3} unsupportedBlock* | unsupportedBlock+",marks:"unsupportedMark unsupportedNodeAttribute",isolating:!0,parseDOM:[{context:"layoutSection//|layoutColumn//",tag:"div[data-layout-section]",skip:!0},{tag:"div[data-layout-section]"}],toDOM(){return["div",{"data-layout-section":"true"},0]}},lv={content:"(layoutColumn | unsupportedBlock){1,3} unsupportedBlock* | unsupportedBlock+",marks:"unsupportedMark unsupportedNodeAttribute",isolating:!0,parseDOM:[{context:"layoutSection//|layoutColumn//",tag:"div[data-layout-section]",skip:!0},{tag:"div[data-layout-section]"}],toDOM(){return["div",{"data-layout-section":"true"},0]}},cv={content:"(block|unsupportedBlock)+",isolating:!0,marks:"alignment indentation dataConsumer fragment unsupportedMark unsupportedNodeAttribute",selectable:!1,attrs:{width:{default:void 0}},parseDOM:[{context:"layoutColumn//",tag:"div[data-layout-column]",skip:!0},{tag:"div[data-layout-column]",getAttrs:t=>({width:Number(t.getAttribute("data-column-width"))||void 0})}],toDOM(t){const e={"data-layout-column":"true"},{width:n}=t.attrs;return n&&(e.style=`flex-basis: ${n}%`,e["data-column-width"]=n),["div",e,["div",{"data-layout-content":"true"},0]]}},uv={inline:!0,group:"inline",selectable:!0,draggable:!0,attrs:{url:{default:null},data:{default:null}},parseDOM:[{tag:"a[data-inline-card], span[data-inline-card]",priority:100,getAttrs:t=>{const e=t,n=e.getAttribute("data-card-data");return{url:e.getAttribute("href")||e.getAttribute("data-card-url")||null,data:n?JSON.parse(n):null}}},{tag:"div[data-inline-card]",getAttrs:t=>{const e=t,n=e.getAttribute("data-card-data");return{url:e.getAttribute("data-card-url"),data:n?JSON.parse(n):null}}}],toDOM(t){const e={"data-inline-card":"",href:t.attrs.url||"","data-card-data":t.attrs.data?JSON.stringify(t.attrs.data):""};return t.attrs.url?["a",e,t.attrs.url]:["a",e]}},mf=t=>{const e=t,n=e.getAttribute("data-card-data"),r=e.getAttribute("data-datasource");return{data:n?JSON.parse(n):void 0,layout:r&&t.getAttribute("data-layout")||void 0,width:Number(t.getAttribute("data-width"))||void 0,datasource:r?JSON.parse(r):void 0}},dv={inline:!1,group:"block",draggable:!0,selectable:!0,attrs:{url:{default:null},data:{default:null},datasource:{default:null},width:{default:null},layout:{default:null}},parseDOM:[{tag:"a[data-block-card]",priority:100,getAttrs:t=>({url:t.getAttribute("href")||void 0,...mf(t)})},{tag:"div[data-block-card]",getAttrs:t=>({url:t.getAttribute("data-card-url")||void 0,...mf(t)})}],toDOM(t){var e;const{url:n}=t.attrs,{data:r}=t.attrs,{layout:o,width:s,datasource:i}=t.attrs;return["a",{"data-block-card":"",href:n||"","data-card-data":r?JSON.stringify(r):"","data-datasource":i?JSON.stringify(i):"","data-layout":o,"data-width":`${s}`},(t==null||(e=t.attrs)===null||e===void 0?void 0:e.url)||" "]}},fv={inline:!1,group:"block",atom:!0,selectable:!0,attrs:{originalValue:{default:{}}},parseDOM:[{tag:'[data-node-type="unsupportedBlock"]',getAttrs:t=>({originalValue:JSON.parse(t.getAttribute("data-original-value")||"{}")})}],toDOM(t){return["div",{"data-node-type":"unsupportedBlock","data-original-value":JSON.stringify(t.attrs.originalValue)},"Unsupported content"]}},pv={inline:!0,group:"inline",selectable:!0,attrs:{originalValue:{default:{}}},parseDOM:[{tag:'[data-node-type="unsupportedInline"]',getAttrs:t=>({originalValue:JSON.parse(t.getAttribute("data-original-value")||"{}")})}],toDOM(t){return["span",{"data-node-type":"unsupportedInline","data-original-value":JSON.stringify(t.attrs.originalValue)},"Unsupported content"]}},hv={inline:!0,group:"inline",selectable:!0,attrs:{text:{default:""},color:{default:""},localId:{default:dn.generate()},style:{default:""}},parseDOM:[{tag:'span[data-node-type="status"]',getAttrs:t=>{const e=t;return{text:e.textContent.replace(/\n/,"").trim(),color:e.getAttribute("data-color"),localId:dn.generate(),style:e.getAttribute("data-style")}}}],toDOM(t){const{text:e,color:n,localId:r,style:o}=t.attrs;return["span",{"data-node-type":"status","data-color":n,"data-local-id":r,"data-style":o,contenteditable:"false"},e]}},BC=()=>{const t={inline:!1,marks:"unsupportedMark unsupportedNodeAttribute",isolating:!0,selectable:!0,attrs:{title:{default:""},__expanded:{default:!0}},parseDOM:[{context:"nestedExpand//",tag:'[data-node-type="nestedExpand"]',skip:!0},{tag:'[data-node-type="nestedExpand"] button',ignore:!0},{tag:'[data-node-type="expand"] button',ignore:!0},{tag:'div[data-node-type="nestedExpand"]',getAttrs:e=>({title:e.getAttribute("data-title"),__expanded:!0})}],toDOM(e){return["div",{"data-node-type":"nestedExpand","data-title":e.attrs.title,"data-expanded":e.attrs.__expanded},0]}};return t.content="(paragraph | heading | mediaSingle | mediaGroup | codeBlock | bulletList | orderedList | taskList | decisionList | rule | panel | blockquote | unsupportedBlock)+",t},mv=BC(),gv={inline:!1,group:"block",selectable:!0,attrs:{url:{default:""},layout:{default:"center"},width:{default:100},originalWidth:{default:null},originalHeight:{default:null}},parseDOM:[{tag:"div[data-embed-card]",getAttrs:t=>({url:t.getAttribute("data-card-url"),layout:t.getAttribute("data-layout")||"center",width:Number(t.getAttribute("data-width"))||null,originalWidth:Number(t.getAttribute("data-card-original-width"))||null,originalHeight:Number(t.getAttribute("data-card-original-height"))||null})}],toDOM(t){const{url:e,layout:n,width:r,originalWidth:o,originalHeight:s}=t.attrs;return["div",{"data-embed-card":"","data-card-url":e,"data-layout":n,"data-width":r,"data-original-width":o,"data-original-height":s}]}},qC=t=>!!t&&["default","wide","full-width"].includes(t),vi=(t,e=!1)=>{const n=t.getAttribute("data-extension-type"),r=t.getAttribute("data-extension-key");if(!n||!r)return!1;const o={extensionType:n,extensionKey:r,text:t.getAttribute("data-text")||void 0,parameters:JSON.parse(t.getAttribute("data-parameters")||"{}"),localId:t.getAttribute("data-local-id")||void 0};if(!e){const s=t.getAttribute("data-layout");o.layout=qC(s)?s:"default"}return o},VC=()=>({inline:!1,group:"block",atom:!0,selectable:!0,attrs:{extensionType:{default:""},extensionKey:{default:""},parameters:{default:null},text:{default:null},layout:{default:"default"},localId:{default:null}},parseDOM:[{tag:'[data-node-type="extension"]',getAttrs:e=>vi(e)}],toDOM(e){return["div",{"data-node-type":"extension","data-extension-type":e.attrs.extensionType,"data-extension-key":e.attrs.extensionKey,"data-text":e.attrs.text,"data-parameters":JSON.stringify(e.attrs.parameters),"data-layout":e.attrs.layout,"data-local-id:":e.attrs.localId}]}}),yv=VC(),UC=()=>({inline:!0,group:"inline",selectable:!0,attrs:{extensionType:{default:""},extensionKey:{default:""},parameters:{default:null},text:{default:null},localId:{default:null}},parseDOM:[{tag:"span[data-extension-type]",getAttrs:e=>vi(e,!0)}],toDOM(e){return["span",{"data-extension-type":e.attrs.extensionType,"data-extension-key":e.attrs.extensionKey,"data-text":e.attrs.text,"data-parameters":JSON.stringify(e.attrs.parameters),"data-local-id:":e.attrs.localId,contenteditable:"false"}]}}),bv=UC(),jC=()=>({inline:!1,group:"block",marks:"dataConsumer fragment",content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaGroup | mediaSingle | decisionList | taskList | table | blockCard | extension | unsupportedBlock | embedCard)+",defining:!0,selectable:!0,isolating:!0,attrs:{extensionType:{default:""},extensionKey:{default:""},parameters:{default:null},text:{default:null},layout:{default:"default"},localId:{default:null}},parseDOM:[{context:"bodiedExtension//",tag:'[data-node-type="bodied-extension"]',skip:!0},{tag:'[data-node-type="bodied-extension"]',getAttrs:e=>vi(e)}],toDOM(e){return["div",{"data-node-type":"bodied-extension","data-extension-type":e.attrs.extensionType,"data-extension-key":e.attrs.extensionKey,"data-text":e.attrs.text,"data-parameters":JSON.stringify(e.attrs.parameters),"data-layout":e.attrs.layout,"data-local-id:":e.attrs.localId},0]}}),vv=jC(),Qc={content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaGroup | mediaSingle | decisionList | taskList | table | extension | bodiedExtension | unsupportedBlock | blockCard | embedCard)+",isolating:!0,marks:"dataConsumer fragment",definingAsContext:!1,definingForContent:!0,selectable:!1,attrs:{},parseDOM:[{context:"extensionFrame//",tag:"div[data-extension-frame]",skip:!0},{tag:"div[data-extension-frame]"}],toDOM(){return["div",{"data-extension-frame":"true"},0]}},GC=()=>({inline:!1,group:"blockRootOnly",content:"extensionFrame+",definingAsContext:!0,selectable:!0,attrs:{extensionKey:{default:""},extensionType:{default:""},parameters:{default:null},text:{default:null},layout:{default:"default"},localId:{default:null}},parseDOM:[{context:"multiBodiedExtension//",tag:'[data-node-type="multi-bodied-extension"]',skip:!0},{tag:'[data-node-type="multi-bodied-extension"]',getAttrs:e=>vi(e)}],toDOM(e){return["div",{"data-node-type":"multi-bodied-extension","data-extension-type":e.attrs.extensionType,"data-extension-key":e.attrs.extensionKey,"data-text":e.attrs.text,"data-parameters":JSON.stringify(e.attrs.parameters),"data-layout":e.attrs.layout,"data-local-id:":e.attrs.localId},0]}}),Jc=GC(),HC=Object.freeze(Object.defineProperty({__proto__:null,PanelType:vl,blockCard:dv,blockquote:wS,blockquoteWithList:Ym,bodiedExtension:vv,bulletList:Jm,bulletListSelector:Qm,caption:Ib,codeBlock:yg,codeBlockToJSON:bg,confluenceJiraIssue:Hm,confluenceUnsupportedBlock:Wm,confluenceUnsupportedInline:Km,copyPrivateMediaAttributes:zb,date:iv,decisionItem:tv,decisionList:ev,decisionListSelector:Jb,doc:Xm,embedCard:gv,emoji:Qt,expand:jm,expandToJSON:Gm,extendedPanel:Ob,extension:yv,extensionFrame:Qc,getCellAttrs:Gc,getCellDomAttrs:Hc,hardBreak:vg,heading:Oc,headingNodeSpec:Lc,headingStage0:kg,image:Sg,inlineCard:uv,inlineExtension:bv,layoutColumn:cv,layoutSection:av,layoutSectionWithSingleColumn:lv,listItem:yC,listItemWithTask:Mb,media:Os,mediaGroup:Bb,mediaInline:qb,mediaSingle:xC,mediaSingleFull:Vb,mediaSingleSpec:Ao,mediaSingleToJSON:Ub,mediaSingleWithCaption:EC,mediaSingleWithWidthType:wC,mediaToJSON:kl,mention:Hr,mentionToJSON:Db,multiBodiedExtension:Jc,nestedExpand:mv,orderedList:Eg,orderedListSelector:Fc,orderedListWithOrder:wg,panel:bC,paragraph:Ic,paragraphNodeSpec:Pc,paragraphStage0:_g,placeholder:Yc,rule:xg,status:hv,table:Hb,tableBackgroundBorderColor:IC,tableBackgroundColorNames:Ls,tableBackgroundColorPalette:Wc,tableCell:Xb,tableCellContentDomSelector:OC,tableCellContentWrapperSelector:NC,tableCellSelector:jb,tableHeader:Zb,tableHeaderSelector:Gb,tablePrefixSelector:Co,tableRow:Kb,tableStage0:$C,tableToJSON:Wb,tableWithCustomWidth:PC,taskItem:sv,taskList:ov,taskListSelector:rv,text:Lb,toJSONTableCell:Zc,toJSONTableHeader:Yb,unknownBlock:Fb,unsupportedBlock:fv,unsupportedInline:pv},Symbol.toStringTag,{value:"Module"})),Vn="fontStyle",eu="searchQuery",Fs="link",io="color",kv="alignment",xv="indentation",WC=["em"],KC={inclusive:!0,group:Vn,parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM(){return WC}},XC={excludes:`${Vn} ${Fs} ${eu} ${io}`,inclusive:!0,parseDOM:[{tag:"span.code",preserveWhitespace:!0},{tag:"code",preserveWhitespace:!0},{tag:"tt",preserveWhitespace:!0},{tag:"span",preserveWhitespace:!0,getAttrs:t=>{const e=t;return e.style.whiteSpace==="pre"?{}:e.style.fontFamily&&e.style.fontFamily.toLowerCase().indexOf("monospace")>=0?{}:!1}}],toDOM(){return["span",{class:"code",spellcheck:"false"}]}},ZC={inclusive:!0,group:Vn,parseDOM:[{tag:"strike"},{tag:"s"},{tag:"del"},{style:"text-decoration",getAttrs:t=>t==="line-through"&&null}],toDOM(){return["s"]}},YC=["strong"],QC={inclusive:!0,group:Vn,parseDOM:[{tag:"strong"},{tag:"b",getAttrs(t){return t.style.fontWeight!=="normal"&&null}},{tag:"span",getAttrs(t){const e=t,{fontWeight:n}=e.style;return typeof n=="string"&&(n==="bold"||n==="bolder"||/^(bold(er)?|[5-9]\d{2,})$/.test(n))&&null}}],toDOM(){return YC}},JC={inclusive:!0,group:Vn,parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:t=>t==="underline"&&null}],toDOM(){return["u"]}},gf=t=>e=>{const n=e,r=n.getAttribute(t)||"",o={__confluenceMetadata:n.hasAttribute("__confluenceMetadata")?JSON.parse(n.getAttribute("__confluenceMetadata")||""):void 0};return bi(r)?rC(r)?(o.href=r,o):(o.href=Sb(r),o):!1},eD={excludes:`${Fs}`,group:Fs,attrs:{href:{},__confluenceMetadata:{default:null}},inclusive:!1,parseDOM:[{tag:"[data-block-link]",getAttrs:gf("data-block-link"),contentElement:t=>{const e=t.cloneNode(!0);e.removeAttribute("data-block-link"),e.setAttribute("data-skip-paste","true");const n=document.createElement("div");return n.appendChild(e),n}},{tag:"a[href]",getAttrs:gf("href")}],toDOM(t,e){const n=Object.keys(t.attrs).reduce((r,o)=>(o==="__confluenceMetadata"?t.attrs[o]!==null&&(r[o]=JSON.stringify(t.attrs[o])):o==="href"?r[o]=bi(t.attrs[o])?t.attrs[o]:void 0:r[o]=t.attrs[o],r),{});return e?["a",n]:["a",{...n,"data-block-link":"true",class:"blockLink"},0]}},tD=["title","id","collection","occurrenceKey","__confluenceMetadata"],nD=t=>({type:t.type.name,attrs:Object.keys(t.attrs).reduce((e,n)=>((tD.indexOf(n)===-1||t.attrs[n]!==null)&&(e[n]=t.attrs[n]),e),{})}),rD={inclusive:!0,group:eu,parseDOM:[{tag:"span[data-type-ahead-query]"}],toDOM(t){return["span",{"data-type-ahead-query":"true","data-trigger":t.attrs.trigger,style:`color: ${hA}`}]},attrs:{trigger:{default:""}}};function yf(t){if(t.style.verticalAlign){const e=t.style.verticalAlign.slice(0,3);if(e==="sub"||e==="sup")return{type:e}}return!1}const oD={inclusive:!0,group:Vn,attrs:{type:{default:"sub"}},parseDOM:[{tag:"sub",attrs:{type:"sub"}},{tag:"sup",attrs:{type:"sup"}},{tag:"span",style:"vertical-align=super",getAttrs:t=>yf(t)},{tag:"span",style:"vertical-align=sub",getAttrs:t=>yf(t)}],toDOM(t){return[t.attrs.type]}},sD=[[mA,"Dark blue"],[IA,"Dark teal"],[fA,"Dark green"],[lA,"Orange"],[iA,"Dark red"],[RA,"Dark purple"],[vA,"Light gray"],[yb,"Blue"],[FA,"Teal"],[dA,"Green"],[hb,"Yellow"],[sA,"Red"],[TA,"Purple"],[$c,"White"],[gb,"Light blue"],[kb,"Light teal"],[mb,"Light green"],[pb,"Light yellow"],[fb,"Light red"],[vb,"Light purple"]],xl=new Map;sD.forEach(([t,e])=>xl.set(t.toLowerCase(),e));const Ev=()=>({colorMode:document.documentElement.getAttribute("data-color-mode")||""}),iD={attrs:{color:{}},inclusive:!0,group:io,parseDOM:[{style:"color",getAttrs:t=>{const e=t;let n;return e.match(/^rgb/i)?n=kr(e):e[0]==="#"&&(n=e.toLowerCase()),n&&xl.has(n)?{color:n}:!1}},{tag:".fabric-text-color-mark",getAttrs:t=>{if(!(t instanceof HTMLElement))return!1;const e=t.dataset.textCustomColor;return e&&xl.has(e)?{color:e}:!1}}],toDOM(t){let e;const n=AC(t.attrs.color);return n?e=n:Ev().colorMode==="dark"?e=Uc(t.attrs.color):e=t.attrs.color,["span",{class:"fabric-text-color-mark",style:`--custom-palette-color: ${e}`,"data-text-custom-color":t.attrs.color}]}},aD={inclusive:!1,excludes:"",attrs:{reference:{default:""}},parseDOM:[{tag:'span[data-mark-type="confluenceInlineComment"]'}],toDOM(t){return["span",{"data-mark-type":"confluenceInlineComment","data-reference":t.attrs.reference}]}},lD=["wide","full-width"],cD={spanning:!1,inclusive:!1,parseDOM:[{tag:"div.fabric-editor-breakout-mark",getAttrs(t){const e=t.getAttribute("data-mode");return{mode:lD.indexOf(e||"")===-1?"wide":e}}}],attrs:{mode:{default:"wide"}},toDOM(t){return["div",{class:"fabric-editor-breakout-mark","data-mode":t.attrs.mode},0]}},Ave={end:"right",right:"end",center:"center"},uD={excludes:`alignment ${xv}`,group:kv,attrs:{align:{}},parseDOM:[{tag:"div.fabric-editor-block-mark",getAttrs:t=>{const e=t.getAttribute("data-align");return e?{align:e}:!1}}],toDOM(t){return["div",{class:`fabric-editor-block-mark fabric-editor-alignment fabric-editor-align-${t.attrs.align}`,"data-align":t.attrs.align},0]}},dD={excludes:`indentation ${kv}`,group:xv,attrs:{level:{}},parseDOM:[{tag:"div.fabric-editor-indentation-mark",getAttrs(t){const e=+(t.getAttribute("data-level")||"0");return{level:e>6?6:e<1?!1:e}}}],toDOM(t){return["div",{class:"fabric-editor-block-mark fabric-editor-indentation-mark","data-level":t.attrs.level},0]}};let fD=function(t){return t.INLINE_COMMENT="inlineComment",t}({}),Cve=function(t){return t.RESOLVED="resolved",t.ACTIVE="active",t}({});function pD({id:t,annotationType:e,state:n}){const r={"data-mark-type":"annotation","data-mark-annotation-type":e,"data-id":t};return n?{...r,"data-mark-annotation-state":n}:r}const hD={inclusive:!0,group:"annotation",excludes:"",attrs:{id:{default:""},annotationType:{default:fD.INLINE_COMMENT}},parseDOM:[{tag:'span[data-mark-type="annotation"]',mark:"annotation",getAttrs:t=>{const e=t;return{id:e.getAttribute("data-id"),annotationType:e.getAttribute("data-mark-annotation-type")}}}],toDOM(t){return["span",{class:"fabric-editor-annotation",...pD({id:t.attrs.id,annotationType:t.attrs.annotationType})},0]}},mD={toDOM(){return["span"]},excludes:"",attrs:{originalValue:{}}},gD={toDOM(){return["span"]},attrs:{type:{},unsupported:{}}},yD=t=>{const e=jc(t)&&t.getAttribute("data-sources");try{return e?{sources:JSON.parse(e)}:!1}catch{return!1}},bD={attrs:{sources:{default:[]}},parseDOM:[{tag:'[data-mark-type="dataConsumer"]',getAttrs:t=>yD(t)}],toDOM(t,e){return[e?"span":"div",{"data-mark-type":"dataConsumer","data-sources":JSON.stringify(t.attrs.sources)}]}},vD=t=>({type:t.type.name,attrs:Object.keys(t.attrs).filter(e=>e==="sources"&&t.attrs[e].length>0&&t.attrs[e]!==null).reduce((e,n)=>({...e,[n]:t.attrs[n]}),{})}),kD=t=>{var e;if(!jc(t))return!1;const n=(e=t.getAttribute("data-name"))!==null&&e!==void 0?e:void 0,r=t.getAttribute("data-localId");return r?{localId:r,name:n}:!1},xD={inclusive:!1,excludes:"",attrs:{localId:{default:""},name:{default:null}},parseDOM:[{tag:'[data-mark-type="fragment"]',getAttrs:t=>kD(t)}],toDOM(t,e){return[e?"span":"div",{"data-mark-type":"fragment","data-name":t.attrs.name,"data-localId":t.attrs.localId}]}},ED=t=>({type:t.type.name,attrs:{localId:t.attrs.localId,...t.attrs.name?{name:t.attrs.name}:{}}}),wD=[[xA,"Subtle gray"],[EA,"Gray"],[_A,"Bold gray"]],wv=new Map;wD.forEach(([t,e])=>wv.set(t.toLowerCase(),e));const _D={inclusive:!1,parseDOM:[{tag:'[data-mark-type="border"]',getAttrs:t=>{var e,n;const r=t,o=((e=r.getAttribute("data-color"))!==null&&e!==void 0?e:"").toLowerCase(),s=+((n=r.getAttribute("data-size"))!==null&&n!==void 0?n:"0");return{size:s>3?3:s<1?!1:s,color:wv.has(o)?o:!1}}}],attrs:{color:{},size:{}},toDOM(t,e){const n=e?"span":"div",r=_C(t.attrs.color)||t.attrs.color;return[n,{"data-mark-type":"border","data-color":t.attrs.color,"data-size":t.attrs.size,style:`--custom-palette-color: ${r}`}]}},SD=[[kA,"Gray"],[LA,"Teal"],[gA,"Lime"],[AA,"Orange"],[SA,"Magenta"],[MA,"Purple"]],El=new Map;SD.forEach(([t,e])=>El.set(t.toLowerCase(),e));const AD={attrs:{color:{}},inclusive:!0,group:io,excludes:`${io}`,parseDOM:[{style:"background-color",getAttrs:t=>{const e=t;let n;return e.match(/^rgb/i)?n=kr(e):e[0]==="#"&&(n=e.toLowerCase()),n&&El.has(n)?{color:n}:!1}},{tag:".fabric-background-color-mark",getAttrs:t=>{if(!(t instanceof HTMLElement))return!1;const e=t.dataset.backgroundCustomColor;return e&&El.has(e)?{color:e}:!1}}],toDOM(t){let e;const n=DC(t.attrs.color);return n?e=n:Ev().colorMode==="dark"?e=Uc(t.attrs.color):e=t.attrs.color,["span",{class:"fabric-background-color-mark",style:`--custom-palette-color: ${e}`,"data-background-custom-color":t.attrs.color}]}};function bf(t,e,n={}){if(!e)return{};const r=t.reduce((o,{name:s,spec:i})=>(e.indexOf(s)!==-1&&(o[s]=n[s]||i),o),{});return Object.keys(n).reduce((o,s)=>(o[s]||(o[s]=n[s]),o),r)}function Ho(t){return{name:`__${t}GroupDeclaration`,spec:{group:t}}}const _v=[Ho(io),Ho(Vn),Ho(eu),Ho(Fs)],CD=_v.map(t=>t.name),DD=[{name:"doc",spec:Xm},{name:"paragraph",spec:Pc()},{name:"text",spec:Lb},{name:"bulletList",spec:Jm},{name:"orderedList",spec:wg},{name:"listItem",spec:Mb},{name:"heading",spec:Lc()},{name:"blockquote",spec:Ym},{name:"codeBlock",spec:yg},{name:"panel",spec:Ob(!0)},{name:"rule",spec:xg},{name:"image",spec:Sg},{name:"mention",spec:Hr},{name:"caption",spec:Ib},{name:"media",spec:Os},{name:"mediaGroup",spec:Bb},{name:"mediaSingle",spec:Vb},{name:"mediaInline",spec:qb},{name:"placeholder",spec:Yc},{name:"layoutSection",spec:av},{name:"layoutColumn",spec:cv},{name:"hardBreak",spec:vg},{name:"emoji",spec:Qt},{name:"table",spec:Hb},{name:"tableCell",spec:Xb},{name:"tableRow",spec:Kb},{name:"tableHeader",spec:Zb},{name:"confluenceJiraIssue",spec:Hm},{name:"confluenceUnsupportedInline",spec:Km},{name:"confluenceUnsupportedBlock",spec:Wm},{name:"decisionList",spec:ev},{name:"decisionItem",spec:tv},{name:"taskList",spec:ov},{name:"taskItem",spec:sv},{name:"date",spec:iv},{name:"status",spec:hv},{name:"expand",spec:jm},{name:"nestedExpand",spec:mv},{name:"extension",spec:yv},{name:"inlineExtension",spec:bv},{name:"bodiedExtension",spec:vv},{name:"multiBodiedExtension",spec:Jc},{name:"extensionFrame",spec:Qc},{name:"inlineCard",spec:uv},{name:"blockCard",spec:dv},{name:"embedCard",spec:gv},{name:"unknownBlock",spec:Fb},{name:"unsupportedBlock",spec:fv},{name:"unsupportedInline",spec:pv}],MD=[{name:"link",spec:eD},{name:"em",spec:KC},{name:"strong",spec:QC},{name:"textColor",spec:iD},{name:"backgroundColor",spec:AD},{name:"strike",spec:ZC},{name:"subsup",spec:oD},{name:"underline",spec:JC},{name:"code",spec:XC},{name:"typeAheadQuery",spec:rD},{name:"alignment",spec:uD},{name:"annotation",spec:hD},{name:"confluenceInlineComment",spec:aD},..._v,{name:"breakout",spec:cD},{name:"dataConsumer",spec:bD},{name:"fragment",spec:xD},{name:"indentation",spec:dD},{name:"border",spec:_D},{name:"unsupportedMark",spec:mD},{name:"unsupportedNodeAttribute",spec:gD}];function TD(t){const{customNodeSpecs:e,customMarkSpecs:n}=t,r=Object.keys(e||{}).concat(t.nodes),o=Object.keys(n||{}).concat(t.marks||[]).concat(CD);let s=bf(DD,r,e);const i=bf(MD,o,n);return s=RD(s,i),new hg({nodes:s,marks:i})}function RD(t,e){return Object.keys(t).forEach(r=>{const o={...t[r]};o.marks&&o.marks!=="_"&&(o.marks=o.marks.split(" ").filter(s=>!!e[s]).join(" ")),o.content&&(o.content=ND(t,o.content)),t[r]=o}),t}function ND(t,e){return e.replace(/\W/g," ").split(" ").filter(s=>!LD(t,s)).reduce((s,i)=>OD(s,i),e)}function OD(t,e){if(!e.length)return t||"";if(!t||!t.match(/\w/))return"";const n=`(${e}((\\s)*\\|)+)|((\\|(\\s)*)+${e})|(${e}$)|(${e}(\\+|\\*))`;return t.replace(new RegExp(n,"g"),"").replace("  "," ").trim()}function LD(t,e){if(Object.keys(t).indexOf(e)>-1)return!0;for(const r in t){const o=t[r];if(o&&o.group===e)return!0}return!1}const FD=()=>({nodes:["doc","paragraph","text","bulletList","orderedList","listItem","heading","blockquote","codeBlock","panel","rule","image","caption","mention","media","mediaGroup","mediaSingle","mediaInline","confluenceUnsupportedBlock","confluenceUnsupportedInline","confluenceJiraIssue","expand","nestedExpand","extension","inlineExtension","bodiedExtension","hardBreak","emoji","table","tableCell","tableHeader","tableRow","decisionList","decisionItem","taskList","taskItem","unknownBlock","date","status","placeholder","layoutSection","layoutColumn","inlineCard","blockCard","embedCard","unsupportedBlock","unsupportedInline"],marks:["link","em","strong","strike","subsup","underline","code","textColor","backgroundColor","confluenceInlineComment","breakout","alignment","indentation","annotation","dataConsumer","border","unsupportedMark","unsupportedNodeAttribute","typeAheadQuery","fragment"]}),Sv=Nh((t="final")=>{const e=FD();return t==="stage0"&&(e.customNodeSpecs={layoutSection:lv,multiBodiedExtension:Jc,extensionFrame:Qc,heading:Lc("stage0"),paragraph:Pc("stage0")}),TD(e)}),Dve=Sv(),Mve={heading:{xxlarge:'normal 500 35px/40px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif',xlarge:'normal 600 29px/32px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif',large:'normal 500 24px/28px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif',medium:'normal 500 20px/24px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif',small:'normal 600 16px/20px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif',xsmall:'normal 600 14px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif',xxsmall:'normal 600 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif'},body:{large:'normal 400 16px/24px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif',medium:'normal 400 14px/20px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif',UNSAFE_small:'normal 400 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif',small:'normal 400 11px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif'}},Un=(t,e)=>({fontSize:`${t/14}em`,fontStyle:"inherit",lineHeight:e/t}),Xe={h900:{size:35,lineHeight:40},h800:{size:29,lineHeight:32},h700:{size:24,lineHeight:28},h600:{size:20,lineHeight:24},h500:{size:16,lineHeight:20},h400:{size:14,lineHeight:16},h300:{size:12,lineHeight:16},h200:{size:12,lineHeight:16},h100:{size:11,lineHeight:16}},Tve=(t={})=>({...Un(Xe.h700.size,Xe.h700.lineHeight),color:`var(--ds-text, ${Eo(t)})`,fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.01em",marginTop:`${pn()*5}px`}),Rve=(t={})=>({...Un(Xe.h600.size,Xe.h600.lineHeight),color:`var(--ds-text, ${Eo(t)})`,fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.008em",marginTop:`${pn()*3.5}px`}),Nve=(t={})=>({...Un(Xe.h500.size,Xe.h500.lineHeight),color:`var(--ds-text, ${Eo(t)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.006em",marginTop:`${pn()*3}px`}),Ove=(t={})=>({...Un(Xe.h400.size,Xe.h400.lineHeight),color:`var(--ds-text, ${Eo(t)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.003em",marginTop:`${pn()*2}px`}),Lve=(t={})=>({...Un(Xe.h300.size,Xe.h300.lineHeight),color:`var(--ds-text, ${Eo(t)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",marginTop:`${pn()*2.5}px`,textTransform:"uppercase"}),Fve=(t={})=>({...Un(Xe.h200.size,Xe.h200.lineHeight),color:`var(--ds-text-subtlest, ${nm(t)})`,fontWeight:"var(--ds-font-weight-semibold, 600)",marginTop:`${pn()*2}px`}),Ive=(t={})=>({...Un(Xe.h100.size,Xe.h100.lineHeight),color:`var(--ds-text-subtlest, ${nm(t)})`,fontWeight:"var(--ds-font-weight-bold, 700)",marginTop:`${pn()*2}px`});var aa,la,ca,ua,da;const ID=(aa=(globalThis==null||(la=globalThis.process)===null||la===void 0||(ca=la.env)===null||ca===void 0?void 0:ca.JEST_WORKER_ID)!==void 0)!==null&&aa!==void 0?aa:!1,PD=!ID&&(globalThis==null||(ua=globalThis.process)===null||ua===void 0||(da=ua.env)===null||da===void 0?void 0:da.NODE_ENV)!=="production",$D=(...t)=>{PD&&console.debug(...t)};var tu={VITE_SHOULD_THROW_ON_INVARIANTS:"false",VITE_CANVAS_RELAY_URL:"https://canvas-workers.atlassian.com",VITE_CANVAS_RELAY_WSS_URL:"wss://canvas-workers.atlassian.com",VITE_SHORT_COMMIT_HASH:"79b5d4",VITE_USER_NODE_ENV:"production",SENTRY_DSN:"https://c539b3edb4ba4437b37ac70f1d1a088a@o55978.ingest.sentry.io/4505121292484608",SENTRY_ENV:"prod",SENTRY_RELEASE:"dev",ENVTYPE:"prod",BUILD_MODE:"prod-east"};const zD="@atlaskit/platform-feature-flags",wl="__PLATFORM_FEATURE_FLAGS__",Av=typeof process<"u"&&typeof tu<"u",BD=Av?tu.ENABLE_PLATFORM_FF==="true":!1,qD=Av?tu.STORYBOOK_ENABLE_PLATFORM_FF==="true":!1,VD=BD||qD,UD={earlyResolvedFlags:new Map,booleanResolver:function(t){return!1}},_l=typeof window<"u"?window:globalThis;_l[wl]=_l[wl]||UD;function jD(t){if(VD)return $D('[%s]: The feature flags were enabled while running tests. The flag "%s" will be always enabled.',zD,t),!0;try{var e;const n=(e=_l[wl])===null||e===void 0?void 0:e.booleanResolver(t);return typeof n!="boolean"?(console.warn(`${t} resolved to a non-boolean value, returning false for safety`),!1):n}catch{return!1}}function GD(t){return jD(t)}const HD="mediaCtx";var Pve=function(e){var n=[],r=null,o=function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return o.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},o};function WD(t={}){const e=L.useRef(),n=L.useRef(),[r,o]=L.useState({inView:!1,entry:void 0,target:void 0}),{threshold:s,root:i,rootMargin:a}=t,l=L.useCallback(c=>{n.current=new IntersectionObserver(u=>{if(u&&u.length){const d=u[0],{isIntersecting:f,intersectionRatio:p}=d;if(p>=0){let m=p>=(typeof s=="number"?s:0);f!==void 0&&(m=m&&f),o({inView:m,entry:d,target:c})}}},{threshold:s,root:i,rootMargin:a}),e.current&&n.current.unobserve(e.current),c&&n.current.observe(c),e.current=c},[s,i,a]);return L.useEffect(()=>()=>{n.current&&e.current&&n.current.unobserve(e.current)},[]),[l,r.inView,r.target,r.entry]}const KD=L.memo(({setWidth:t,offscreen:e})=>{const[n,r,o]=WD({threshold:0}),s=L.useRef(()=>typeof window>"u"?null:new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const{width:a}=i[0].contentRect;t(Math.round(a))}));return L.useEffect(()=>{const{current:i}=s,a=i();if(a!==null)return o&&(r||e?a.observe(o):a.unobserve(o)),()=>{a.disconnect()}},[o,r,e]),L.createElement("div",{style:{display:"block",width:"100%",position:"absolute"},ref:n})}),$ve=L.memo(t=>L.createElement(KD,{setWidth:t.setWidth,offscreen:t.offscreen}));let Wo=function(t){return t[t.Border=0]="Border",t[t.BoxShadow=1]="BoxShadow",t[t.Background=2]="Background",t[t.Blanket=3]="Blanket",t}({});const zve=16,Bve=R1(),qve=$1,Vve=O1,Uve="rgba(255, 189, 173, 0.5)",jve=L1,Gve=F1,Hve=20,nu=P1,XD=I1,Cv=1,ZD=`${Cv}px solid ${`var(--ds-border-selected, ${nu})`}`,YD=`0 0 0 ${Cv}px ${`var(--ds-border-selected, ${nu})`}`,QD=1,Wve=2,JD=11,eM=JD+1,Kve=1,tM=Qh.blanket(),Xve=Qh.layer(),Zve=tM+10,Yve=z1,Qve=ol,Jve=680,eke=760,tke=960,nke=1800,rke=42,oke=96,ske=720,ike=48,ake=128,lke=12,cke=4,uke="cubic-bezier(0.15, 1, 0.3, 1)",dke=1024,fke=1.33,pke=QD*99,hke=pn()*1.5,mke=1.714,gke=2,yke="0.75rem",bke=680,vke=480,kke="ak-editor-selected-node",xke=({theme:t})=>t&&t.baseFontSize?t.baseFontSize:T1(),Eke=t=>{if(typeof t=="string"&&(t=parseInt(t)),isNaN(t))throw new Error(`Invalid font size: '${t}'`);return`${t/16}rem`},wke=0,_ke=t=>t.map(e=>rM(e)).concat(nM).join(`
`),nM=`
  ::selection,*::selection {
    background-color: transparent;
  }
  ::-moz-selection,*::-moz-selection {
    background-color: transparent;
  }
`,rM=t=>{switch(t){case Wo.Border:return`
        border: ${ZD};

        // Fixes ED-15246: Trello card is visible through a border of a table border
        &::after {
          height: 100%;
          content: '\\00a0';
          background: ${nu};
          position: absolute;
          right: -1px;
          top: 0;
          bottom: 0;
          width: 1px;
          border: none;
          display: inline-block;
        }
      `;case Wo.BoxShadow:return`
        box-shadow: ${YD};
        border-color: transparent;
        `;case Wo.Background:return`background-color: ${`var(--ds-background-selected, ${XD})`};`;case Wo.Blanket:return`
        position: relative;

        // Fixes ED-9263, where emoji or inline card in panel makes selection go outside the panel
        // in Safari. Looks like it's caused by user-select: all in the emoji element
        -webkit-user-select: text;

        ::before {
          position: absolute;
          content: '';
          left: 0;
          right: 0;
          top: 0;
          bottom: 0;
          width: 100%;
          pointer-events: none;
          z-index: ${eM};
          background-color: var(--ds-blanket-selected, #B3D4FF4C)
        }`;default:return""}};var oM={VITE_SHOULD_THROW_ON_INVARIANTS:"false",VITE_CANVAS_RELAY_URL:"https://canvas-workers.atlassian.com",VITE_CANVAS_RELAY_WSS_URL:"wss://canvas-workers.atlassian.com",VITE_SHORT_COMMIT_HASH:"79b5d4",VITE_USER_NODE_ENV:"production",SENTRY_DSN:"https://c539b3edb4ba4437b37ac70f1d1a088a@o55978.ingest.sentry.io/4505121292484608",SENTRY_ENV:"prod",SENTRY_RELEASE:"dev",ENVTYPE:"prod",BUILD_MODE:"prod-east"},fa;const Dv=typeof process<"u"&&process!==null&&((fa=oM)===null||fa===void 0?void 0:fa.ANALYTICS_NEXT_MODERN_CONTEXT),Mv={getAtlaskitAnalyticsEventHandlers:xs.func,getAtlaskitAnalyticsContext:xs.func},vf=()=>[];let ru=class extends A.Component{constructor(e){super(e),re(this,"getChildContext",()=>({getAtlaskitAnalyticsEventHandlers:this.getAnalyticsEventHandlers,getAtlaskitAnalyticsContext:this.getAtlaskitAnalyticsContext})),re(this,"getAnalyticsEventHandlers",()=>{const{channel:n,onEvent:r}=this.props,{getAtlaskitAnalyticsEventHandlers:o=vf}=this.context;return[(i,a)=>{(n==="*"||n===a)&&r(i,a)},...o()]}),re(this,"getAtlaskitAnalyticsContext",()=>{const{getAtlaskitAnalyticsContext:n=vf}=this.context;return n()}),this.contextValue={getAtlaskitAnalyticsContext:this.getAtlaskitAnalyticsContext,getAtlaskitAnalyticsEventHandlers:this.getAnalyticsEventHandlers}}render(){const{children:e}=this.props;return L.createElement(xo.Provider,{value:this.contextValue},e)}};re(ru,"contextTypes",Mv);re(ru,"childContextTypes",Mv);const sM=({children:t,channel:e,onEvent:n})=>{const{getAtlaskitAnalyticsEventHandlers:r=()=>[],getAtlaskitAnalyticsContext:o}=yc(),s=ro(n),i=ro(e),a=A.useCallback(()=>[(u,d)=>{(i.current==="*"||i.current===d)&&s.current(u,d)},...r()],[i,s,r]),l=A.useMemo(()=>({getAtlaskitAnalyticsContext:o,getAtlaskitAnalyticsEventHandlers:a}),[o,a]);return L.createElement(xo.Provider,{value:l},t)},ou=t=>Dv||sm("platform.analytics-next-use-modern-context_fqgbx")?L.createElement(sM,t):L.createElement(ru,t),Tv={getAtlaskitAnalyticsContext:xs.func,getAtlaskitAnalyticsEventHandlers:xs.func},kf=()=>[];let su=class extends A.Component{constructor(e){super(e),re(this,"getChildContext",()=>({getAtlaskitAnalyticsContext:this.getAnalyticsContext})),re(this,"getAnalyticsContext",()=>{const{data:n}=this.props,{getAtlaskitAnalyticsContext:r=kf}=this.context;return[...r(),n]}),re(this,"getAnalyticsEventHandlers",()=>{const{getAtlaskitAnalyticsEventHandlers:n=kf}=this.context;return n()}),this.contextValue={getAtlaskitAnalyticsContext:this.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:this.getAnalyticsEventHandlers}}render(){const{children:e}=this.props;return L.createElement(xo.Provider,{value:this.contextValue},e)}};re(su,"contextTypes",Tv);re(su,"childContextTypes",Tv);const iM=({data:t,children:e})=>{const n=ro(t),{getAtlaskitAnalyticsEventHandlers:r,getAtlaskitAnalyticsContext:o}=yc(),s=A.useCallback(()=>[...o(),n.current],[o,n]),i=A.useMemo(()=>({getAtlaskitAnalyticsContext:s,getAtlaskitAnalyticsEventHandlers:r}),[s,r]);return L.createElement(xo.Provider,{value:i},e)},Rv=t=>Dv||sm("platform.analytics-next-use-modern-context_fqgbx")?L.createElement(iM,t):L.createElement(su,t),Cke=t=>e=>{const n=A.forwardRef(({analyticsContext:r,...o},s)=>{const i=A.useMemo(()=>({...t,...r}),[r]);return L.createElement(Rv,{data:i},L.createElement(e,Ee({},o,{ref:s})))});return n.displayName=`WithAnalyticsContext(${e.displayName||e.name})`,n};function aM(t={},e){const{createAnalyticsEvent:n}=bc(),r=A.useRef({});return{patchedEventProps:A.useMemo(()=>{const s=r.current;return Object.keys(s).filter(i=>!(i in t)).forEach(i=>delete s[i]),Object.keys(t).reduce((i,a)=>{const l=t[a];if(!["object","function"].includes(typeof l))return i;const c=e[a];if(a in s&&s[a].eventCreator===l&&s[a].propValue===c)return{...i,[a]:s[a].wrappedCallback};const u=(...d)=>{const f=typeof l=="function"?l(n,e):n(l);c&&typeof c=="function"&&c(...d,f)};return s[a]={eventCreator:l,wrappedCallback:u,propValue:c},{...i,[a]:u}},{})},[t,e,n,r])}}const Dke=(t={})=>e=>{const n=A.forwardRef((r,o)=>{const{patchedEventProps:s}=aM(t,r),{createAnalyticsEvent:i}=bc();return L.createElement(e,Ee({},r,s,{createAnalyticsEvent:i,ref:o}))});return n.displayName=`WithAnalyticsEvents(${e.displayName||e.name})`,n},Mke=t=>e=>n=>{const r=n(e),o=r.clone();return o&&o.fire(t),r};function lM(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Tke(t,e){t.classList?t.classList.add(e):lM(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function xf(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Rke(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=xf(t.className,e):t.setAttribute("class",xf(t.className&&t.className.baseVal||"",e))}const cM=t=>t&&t.omitCredentials?"omit":"include";class Nke{constructor(){re(this,"listeners",new Set)}subscribe(e){this.listeners.add(e),this.lastResult&&e.result(this.lastResult)}unsubscribe(e){this.listeners.delete(e)}notifyResult(e){this.listeners.forEach(n=>{n.result(e)})}notifyError(e){this.listeners.forEach(n=>{n.error&&n.error(e)})}notifyInfo(e){this.listeners.forEach(n=>{n.info&&n.info(e)})}notifyNotReady(){this.listeners.forEach(e=>{e.notReady&&e.notReady()})}}const uM={},dM=(t,e="",n,r)=>{const o=new URLSearchParams(new URL(t,"https://BASE_FALLBACK").search||void 0);if(t=t.split("?")[0],n)for(const a in n)({}).hasOwnProperty.call(n,a)&&o.append(a,n[a]);if(r&&r.params){for(const a in r.params)if({}.hasOwnProperty.call(r.params,a)){const l=r.params[a];if(Array.isArray(l))for(let c=0;c<l.length;c++)o.append(a,l[c]);else o.append(a,l)}}let s="";e&&t.substr(-1)!=="/"&&!e.startsWith("/")&&(s="/");let i=o.toString();return i&&(i="?"+i),`${t}${s}${e}${i}`},Ef=(t,e)=>{if(e){for(const n in e)if({}.hasOwnProperty.call(e,n)){const r=e[n];if(Array.isArray(r))for(let o=0;o<r.length;o++)t[n]=r[o];else t[n]=r}}},fM=(t,e)=>{const n={};return Ef(n,e),t&&Ef(n,t.headers),n},Nv=(t,e)=>{const{url:n,securityProvider:r,refreshedSecurityProvider:o}=t,{path:s,queryParams:i,requestInit:a}=e||uM,l=r&&r(),c=dM(n,s,i,l),u=fM(l,a&&a.headers),d=cM(l),f=(e==null?void 0:e.ignoreResponsePayload)||!1,p={...a,headers:u,credentials:d};return fetch(c,p).then(h=>h.status===204?Promise.resolve():h.ok?f?Promise.resolve():h.json():h.status===401&&o?o().then(m=>Nv({url:n,securityProvider:()=>m},e)):Promise.reject({code:h.status,reason:h.statusText}))},pM=Object.freeze(Object.defineProperty({__proto__:null,requestService:Nv},Symbol.toStringTag,{value:"Module"})),Oke=pM,le="ui",Ft="track",It="screen",Pt="operational",Qe="unknown",yt=(t,e="NamespacedContext")=>{const n=r=>{const o={[t]:r.data};return L.createElement(Rv,{data:o},L.Children.only(r.children))};return n.displayName=e,n},Ov="fabricElementsCtx",Lke=yt(Ov,"FabricElementsAnalyticsContext"),xn="navigationCtx";yt(xn,"NavigationAnalyticsContext");const Lv="fabricEditorCtx";let Fr=function(t){return t.FIXED_WIDTH="fixedWidth",t.FULL_WIDTH="fullWidth",t.COMMENT="comment",t.CHROMELESS="chromeless",t.MOBILE="mobile",t}({});const Fke=yt(Lv,"FabricEditorAnalyticsContext"),Jn="peopleTeamsCtx";yt(Jn,"PeopleTeamsAnalyticsContext");const er="NotificationsCtx";yt(er,"NotificationsAnalyticsContext");const tr="RecentWorkCtx";yt(tr,"RecentWorkAnalyticsContext");const nr="atlasCtx";yt(nr,"AtlasAnalyticsContext");const zr="linkingPlatformCtx";yt(zr,"LinkingPlatformAnalyticsContext");const rr="postOfficeCtx";yt(rr,"PostOfficeAnalyticsContext");const or="aiMateCtx";yt(or,"AIMateAnalyticsContext");const sr="avpCtx";yt(sr,"AVPAnalyticsContext");const hM=t=>{var e;return t.type!=="paragraph"?!1:!((e=t.content)!=null&&e.some(n=>n.type!=="text"||n.text.trim()!==""))},Ike=t=>{var e;return t?!((e=t.content)!=null&&e.some(n=>!hM(n))):!0};let Y=function(t){return t.atlaskit="atlaskit",t.elements="fabric-elements",t.navigation="navigation",t.editor="editor",t.media="media",t.peopleTeams="peopleTeams",t.notifications="notifications",t.recentWork="recentWork",t.atlas="atlas",t.crossFlow="crossFlow",t.linkingPlatform="linkingPlatform",t.postOffice="postOffice",t.aiMate="aiMate",t.avp="avp",t}({});const mM=t=>typeof t.then=="function",Fv=(t,e)=>n=>{if(e){const{eventType:r,...o}=n,s=i=>{if(mM(e))e.then(i).catch(a=>t.warn("There was an error sending the event",a));else try{i(e)}catch(a){t.warn("There was an error sending the event",a)}};switch(n.eventType){case"ui":t.debug("Sending UI Event via analytics client",o),s(i=>i.sendUIEvent(o));break;case"operational":t.debug("Sending Operational Event via analytics client",o),s(i=>i.sendOperationalEvent(o));break;case"track":t.debug("Sending Track Event via analytics client",o),s(i=>i.sendTrackEvent(o));break;case"screen":t.debug("Sending Screen Event via analytics client",o),s(i=>i.sendScreenEvent(o));break;default:t.error(`cannot map eventType ${n.eventType} to an analytics-web-client function`)}}else t.warn("AnalyticsWebClient instance is not provided")},Iv="editor",gM="fabricEditor";class yM extends L.Component{constructor(...e){super(...e),re(this,"handleEventWrapper",n=>{Pv(n,[Iv,gM],this.props.logger,this.props.client)})}render(){return L.createElement(ou,{onEvent:this.handleEventWrapper,channel:Y.editor},this.props.children)}}const bM=t=>e=>e.map(n=>t.reduce((r,o)=>n[o]?xe(r,{[o]:n[o]}):r,{})).reduce((n,r)=>xe(n,r),{}),vM=t=>bM(["source","objectType","objectId","containerType","containerId",t]),kM=t=>{switch(t){case $v:return Ov;case Iv:return Lv;default:return""}},xM=(t,e)=>{if(e.context.length===0)return{source:Qe,...e.payload};const n=kM(t)||"attributes",{[n]:r,...o}=vM(n)(e.context);return r&&(e.payload.attributes=xe(r,e.payload.attributes||{})),{source:Qe,...o,...e.payload}},EM=(t,e=[])=>{const n=new Set([...e,...t]);return Array.from(n)};function wM(t){if(typeof t=="string")return t;if(!t.length)throw new Error("Empty tags string array. Unable to match analytics event payload with context");return t[0]}const _M=(t,e)=>{const n=wM(e),r=typeof e=="string"?[e]:e;return{...xM(n,t),tags:EM(r,t.payload.tags)}},Pv=(t,e,n,r)=>{if(!t.payload)return;const o=_M(t,e);Fv(n,r)(o)},$v="fabricElements";class SM extends L.Component{constructor(...e){super(...e),re(this,"handleEventWrapper",n=>{Pv(n,$v,this.props.logger,this.props.client)})}render(){return L.createElement(ou,{onEvent:this.handleEventWrapper,channel:Y.elements},this.props.children)}}const Do=(t,e)=>e.context.map(n=>n[t]).filter(Boolean),AM=t=>{const e=Do("actionSubjectOverride",t),n=t.context.length>0?t.context[t.context.length-1]:{},r=t.payload.actionSubject||n.component;return e.length>0?e[0]:r},iu=t=>Do("source",t),zv=t=>Do("component",t),au=t=>Do("attributes",t).reduce((e,n)=>xe(e,n),{}),lu=t=>t.context.map(e=>({packageName:e.packageName,packageVersion:e.packageVersion})).filter(e=>e.packageName);function Bv(t){return(lu(t)||[]).map(n=>n.packageVersion?`${n.packageName}@${n.packageVersion}`:n.packageName).join(",")||void 0}const CM="atlaskit",DM="8.11.1",MM=(t,e)=>{const n=iu(t),r=ie(n)||Qe,o=au(t),s=zv(t),{packageName:i,packageVersion:a}=ie(lu(t))||{},{eventType:l=le,action:c,actionSubjectId:u,attributes:d,containerId:f}=t.payload,p={listenerVersion:DM,sourceHierarchy:n.join(".")||void 0,componentHierarchy:s.join(".")||void 0,packageHierarchy:Bv(t)||void 0,packageName:i,packageVersion:a,...xe(o,d)},h=new Set(t.payload.tags||[]);if(h.add(CM),t.payload){if(l===le)return{eventType:l,source:r,actionSubject:AM(t),action:c,actionSubjectId:u,attributes:p,containerId:f,tags:Array.from(h)};l===Ft||l===Pt||l===It?e.error("Track, screen and operational events are currently not supported for atlaskit events"):e.error("Invalid event type",l)}return null};class ut extends L.Component{constructor(...e){super(...e),re(this,"listenerHandler",n=>{const{client:r,logger:o,channel:s,processEvent:i}=this.props;if(!n.payload)return;o.debug(`Received ${s} event`,n);const a=i(n,o);o.debug(`Processed ${s} event`,a),a&&Fv(o,r)(a)})}render(){return L.createElement(ou,{onEvent:this.listenerHandler,channel:this.props.channel},this.props.children)}}function TM(t){return L.createElement(ut,Ee({},t,{channel:Y.atlaskit,processEvent:MM}))}const Zt={DEBUG:0,INFO:1,WARN:2,ERROR:3,OFF:4};class RM{constructor({logLevel:e}={}){re(this,"logLevel",Zt.OFF),typeof e=="number"&&this.setLogLevel(e)}setLogLevel(e){e>=Zt.DEBUG&&e<=Zt.OFF?this.logLevel=+e:this.logLevel=Zt.OFF}logMessage(e,n,...r){e>=this.logLevel&&console[n](...r)}debug(...e){this.logMessage(Zt.DEBUG,"log",...e)}info(...e){this.logMessage(Zt.INFO,"info",...e)}warn(...e){this.logMessage(Zt.WARN,"warn",...e)}error(...e){this.logMessage(Zt.ERROR,"error",...e)}}const cu=(t,e,n=!0,r)=>e.context.reduce((o,s)=>(t.forEach(i=>{const a=s[r],l=a?a[i]:null,c=n?l:l||s[i];c&&o.push(c)}),o),[]),Kt=(t,e)=>cu(["source"],t,!1,e),Xt=(t,e)=>cu(["component","componentName"],t,!1,e),$t=(t,e)=>cu(["attributes"],t,!0,e).reduce((n,r)=>xe(n,r),{}),we=(t,e)=>t.context.map(n=>{const r=n[e],o=r||n;return{packageName:o.packageName,packageVersion:o.packageVersion}}).filter(n=>n.packageName),NM="navigation",OM="8.11.1",LM=(t,e)=>{const n=Kt(t,xn),r=ie(n)||Qe,o=$t(t,xn),s=Xt(t,xn),i=we(t,xn),{packageName:a,packageVersion:l}=ie(we(t,xn))||{},c=i.map(b=>b.packageVersion?`${b.packageName}@${b.packageVersion}`:b.packageName),{eventType:u=le,action:d,actionSubject:f,actionSubjectId:p,attributes:h,name:m}=t.payload,g={listenerVersion:OM,sourceHierarchy:n.join(".")||void 0,componentHierarchy:s.join(".")||void 0,packageHierarchy:c.join(",")||void 0,packageName:a,packageVersion:l,...xe(o,h)},y=new Set(t.payload.tags||[]);if(y.add(NM),t.payload)switch(u){case le:case Pt:return{eventType:u,source:r,actionSubject:f,action:d,actionSubjectId:p,attributes:g,tags:Array.from(y)};case It:return{eventType:u,name:m,attributes:g,tags:Array.from(y)};case Ft:e.error("Track events are currently not supported for navigation events");break;default:e.error("Invalid event type",u);break}return null};function FM(t){return L.createElement(ut,Ee({},t,{channel:Y.navigation,processEvent:LM}))}const IM="8.11.1";function PM(t){return Do(HD,t)}function $M(){try{return window&&window.sessionStorage&&window.sessionStorage.getItem("media-api-region")}catch{return}}function zM(t){const e=iu(t),{packageName:n,packageVersion:r}=ie(lu(t))||{},o=au(t),s=PM(t)||[],i=xe({},...s),a=new Set(t.payload.tags||[]);a.add("media");const l=zv(t),c=$M();return{source:ie(e)||Qe,actionSubject:t.payload.actionSubject,action:t.payload.action,eventType:t.payload.eventType,actionSubjectId:t.payload.actionSubjectId,name:t.payload.name,tags:Array.from(a),attributes:{packageName:n,packageVersion:r,...xe({},o,i,t.payload.attributes),componentHierarchy:l.join(".")||void 0,packageHierarchy:Bv(t),sourceHierarchy:e.join(".")||void 0,listenerVersion:IM,...c?{mediaRegion:c}:void 0}}}function BM(t){return L.createElement(ut,Ee({},t,{channel:Y.media,processEvent:zM}))}const qM="peopleTeams",VM="8.11.1",UM=(t,e)=>{const n=Kt(t,Jn),r=ie(n)||Qe,o=$t(t,Jn),s=Xt(t,Jn),i=we(t,Jn),{packageName:a,packageVersion:l}=ie(we(t,Jn))||{},c=i.map(b=>b.packageVersion?`${b.packageName}@${b.packageVersion}`:b.packageName),{eventType:u=le,action:d,actionSubject:f,actionSubjectId:p,attributes:h,name:m}=t.payload,g={listenerVersion:VM,sourceHierarchy:n.join(".")||void 0,componentHierarchy:s.join(".")||void 0,packageHierarchy:c.join(",")||void 0,packageName:a,packageVersion:l,...xe(o,h)},y=new Set(t.payload.tags||[]);if(y.add(qM),t.payload)switch(u){case le:case Pt:case Ft:return{eventType:u,source:r,actionSubject:f,action:d,actionSubjectId:p,attributes:g,tags:Array.from(y)};case It:return{eventType:u,name:m,attributes:g,tags:Array.from(y)};default:e.error("Invalid event type",u);break}return null};function jM(t){return L.createElement(ut,Ee({},t,{channel:Y.peopleTeams,processEvent:UM}))}const GM="8.11.1",HM=(t,e)=>{const n=Kt(t,er),r=ie(n)||Qe,o=$t(t,er),s=Xt(t,er),i=we(t,er),{packageName:a,packageVersion:l}=ie(we(t,er))||{},c=i.map(b=>b.packageVersion?`${b.packageName}@${b.packageVersion}`:b.packageName),{eventType:u=le,action:d,actionSubject:f,actionSubjectId:p,attributes:h,name:m}=t.payload,g={listenerVersion:GM,sourceHierarchy:n.join(".")||void 0,componentHierarchy:s.join(".")||void 0,packageHierarchy:c.join(",")||void 0,packageName:a,packageVersion:l,...xe(o,h)},y=new Set(t.payload.tags||[]);if(y.add(Y.notifications),t.payload)switch(u){case le:case Pt:case Ft:return{eventType:u,source:r,actionSubject:f,action:d,actionSubjectId:p,attributes:g,tags:Array.from(y)};case It:return{eventType:u,name:m,attributes:g,tags:Array.from(y)};default:e.error("Invalid event type",u);break}return null};function WM(t){return L.createElement(ut,Ee({},t,{channel:Y.notifications,processEvent:HM}))}const KM="8.11.1",XM=(t,e)=>{const n=Kt(t,tr),r=ie(n)||Qe,o=$t(t,tr),s=Xt(t,tr),i=we(t,tr),{packageName:a,packageVersion:l}=ie(we(t,tr))||{},c=i.map(b=>b.packageVersion?`${b.packageName}@${b.packageVersion}`:b.packageName),{eventType:u=le,action:d,actionSubject:f,actionSubjectId:p,attributes:h,name:m}=t.payload,g={listenerVersion:KM,sourceHierarchy:n.join(".")||void 0,componentHierarchy:s.join(".")||void 0,packageHierarchy:c.join(",")||void 0,packageName:a,packageVersion:l,...xe(o,h)},y=new Set(t.payload.tags||[]);if(y.add(Y.recentWork),t.payload)switch(u){case le:case Pt:case Ft:return{eventType:u,source:r,actionSubject:f,action:d,actionSubjectId:p,attributes:g,tags:Array.from(y)};case It:return{eventType:u,name:m,attributes:g,tags:Array.from(y)};default:e.error("Invalid event type",u);break}return null};function ZM(t){return L.createElement(ut,Ee({},t,{channel:Y.recentWork,processEvent:XM}))}const YM="atlas",QM="8.11.1",JM=(t,e)=>{const n=Kt(t,nr),r=ie(n)||Qe,o=$t(t,nr),s=Xt(t,nr),i=we(t,nr),{packageName:a,packageVersion:l}=ie(we(t,nr))||{},c=i.map(b=>b.packageVersion?`${b.packageName}@${b.packageVersion}`:b.packageName),{eventType:u=le,action:d,actionSubject:f,actionSubjectId:p,attributes:h,name:m}=t.payload,g={listenerVersion:QM,sourceHierarchy:n.join(".")||void 0,componentHierarchy:s.join(".")||void 0,packageHierarchy:c.join(",")||void 0,packageName:a,packageVersion:l,...xe(o,h)},y=new Set(t.payload.tags||[]);if(y.add(YM),t.payload)switch(u){case le:case Pt:case Ft:return{eventType:u,source:r,actionSubject:f,action:d,actionSubjectId:p,attributes:g,tags:Array.from(y)};case It:return{eventType:u,name:m,attributes:g,tags:Array.from(y)};default:e.error("Invalid event type",u);break}return null};function eT(t){return L.createElement(ut,Ee({},t,{channel:Y.atlas,processEvent:JM}))}const tT="crossFlow",nT=(t,e)=>{var n;const{eventType:r=le,action:o,actionSubject:s,actionSubjectId:i,name:a}=t.payload;let l=iu(t);const c=ie(l),u=(n=t.payload.source)!==null&&n!==void 0?n:c;c!==u&&l.push(u);const d={...au(t),...$t(t,xn),...t.payload.attributes,namespaces:l.join(".")},f=new Set(t.payload.tags||[]);if(f.add(tT),t.payload)switch(r){case le:case Pt:case Ft:return{eventType:r,source:u,actionSubject:s,action:o,actionSubjectId:i,attributes:d,tags:Array.from(f)};case It:return{eventType:r,name:a,attributes:d,tags:Array.from(f)};default:e.error("Invalid event type",r);break}return null};function rT(t){return L.createElement(ut,Ee({},t,{channel:Y.crossFlow,processEvent:nT}))}const oT="8.11.1",sT=t=>{const e=Kt(t,zr),n=we(t,zr),r=Xt(t,zr),o=$t(t,zr),{packageName:s,packageVersion:i}=ie(n)||{},a=n.map(u=>u.packageVersion?`${u.packageName}@${u.packageVersion}`:u.packageName),l=new Set(t.payload.tags||[]);return l.add(Y.linkingPlatform),{name:t.payload.name,action:t.payload.action,actionSubject:t.payload.actionSubject,actionSubjectId:t.payload.actionSubjectId,eventType:t.payload.eventType,attributes:{packageName:s,packageVersion:i,listenerVersion:oT,sourceHierarchy:e.join(".")||void 0,componentHierarchy:r.join(".")||void 0,packageHierarchy:a.join(",")||void 0,...xe(o,t.payload.attributes)},tags:Array.from(l),source:ie(e)||Qe,nonPrivacySafeAttributes:t.payload.nonPrivacySafeAttributes}};function iT(t){return L.createElement(ut,Ee({},t,{channel:Y.linkingPlatform,processEvent:sT}))}const aT=Y.postOffice,lT="8.11.1",cT=(t,e)=>{const n=Kt(t,rr),r=ie(n)||Qe,o=$t(t,rr),s=Xt(t,rr),i=we(t,rr),{packageName:a,packageVersion:l}=ie(we(t,rr))||{},c=i.map(b=>b.packageVersion?`${b.packageName}@${b.packageVersion}`:b.packageName),{eventType:u=le,action:d,actionSubject:f,actionSubjectId:p,attributes:h,name:m}=t.payload,g={listenerVersion:lT,sourceHierarchy:n.join(".")||void 0,componentHierarchy:s.join(".")||void 0,packageHierarchy:c.join(",")||void 0,packageName:a,packageVersion:l,...xe(o,h)},y=new Set(t.payload.tags||[]);if(y.add(aT),t.payload)switch(u){case le:case Pt:case Ft:return{eventType:u,source:r,actionSubject:f,action:d,actionSubjectId:p,attributes:g,tags:Array.from(y)};case It:return{eventType:u,name:m,attributes:g,tags:Array.from(y)};default:e.error("Invalid event type",u);break}return null};function uT(t){return L.createElement(ut,Ee({},t,{channel:Y.postOffice,processEvent:cT}))}const dT="aiMate",fT="8.11.1",pT=(t,e)=>{const n=Kt(t,or),r=ie(n)||Qe,o=$t(t,or),s=Xt(t,or),i=we(t,or),{packageName:a,packageVersion:l}=ie(we(t,or))||{},c=i.map(b=>b.packageVersion?`${b.packageName}@${b.packageVersion}`:b.packageName),{eventType:u=le,action:d,actionSubject:f,actionSubjectId:p,attributes:h,name:m}=t.payload,g={listenerVersion:fT,sourceHierarchy:n.join(".")||void 0,componentHierarchy:s.join(".")||void 0,packageHierarchy:c.join(",")||void 0,packageName:a,packageVersion:l,...xe(o,h)},y=new Set(t.payload.tags||[]);if(y.add(dT),t.payload)switch(u){case le:case Pt:case Ft:return{eventType:u,source:r,actionSubject:f,action:d,actionSubjectId:p,attributes:g,tags:Array.from(y)};case It:return{eventType:u,name:m,attributes:g,tags:Array.from(y)};default:e.error("Invalid event type",u);break}return null};function hT(t){return L.createElement(ut,Ee({},t,{channel:Y.aiMate,processEvent:pT}))}const mT="avp",gT="8.11.1",yT=(t,e)=>{const n=Kt(t,sr),r=ie(n)||Qe,o=$t(t,sr),s=Xt(t,sr),i=we(t,sr),{packageName:a,packageVersion:l}=ie(we(t,sr))||{},c=i.map(b=>b.packageVersion?`${b.packageName}@${b.packageVersion}`:b.packageName),{eventType:u=le,action:d,actionSubject:f,actionSubjectId:p,attributes:h,name:m}=t.payload,g={listenerVersion:gT,sourceHierarchy:n.join(".")||void 0,componentHierarchy:s.join(".")||void 0,packageHierarchy:c.join(",")||void 0,packageName:a,packageVersion:l,...xe(o,h)},y=new Set(t.payload.tags||[]);if(y.add(mT),t.payload)switch(u){case le:case Pt:case Ft:return{eventType:u,source:r,actionSubject:f,action:d,actionSubjectId:p,attributes:g,tags:Array.from(y)};case It:return{eventType:u,name:m,attributes:g,tags:Array.from(y)};default:e.error("Invalid event type",u);break}return null};function bT(t){return L.createElement(ut,Ee({},t,{channel:Y.avp,processEvent:yT}))}const wf={[Y.elements]:SM,[Y.editor]:yM,[Y.atlaskit]:TM,[Y.navigation]:FM,[Y.media]:BM,[Y.peopleTeams]:jM,[Y.notifications]:WM,[Y.recentWork]:ZM,[Y.atlas]:eT,[Y.crossFlow]:rT,[Y.linkingPlatform]:iT,[Y.postOffice]:uT,[Y.aiMate]:hT,[Y.avp]:bT};class Pke extends L.Component{constructor(e){super(e),this.logger=new RM({logLevel:e.logLevel})}render(){const{client:e,children:n,logLevel:r,excludedChannels:o}=this.props;return typeof r=="number"&&this.logger.setLogLevel(r),Object.keys(wf).filter(i=>!o||o.indexOf(i)<0).map(i=>wf[i]).reduce((i,a)=>L.createElement(a,{client:e,logger:this.logger},i),n)}}const qv=65535,Vv=Math.pow(2,16);function vT(t,e){return t+e*Vv}function _f(t){return t&qv}function kT(t){return(t-(t&qv))/Vv}const Uv=1,jv=2,fs=4,Gv=8;class Sl{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Gv)>0}get deletedBefore(){return(this.delInfo&(Uv|fs))>0}get deletedAfter(){return(this.delInfo&(jv|fs))>0}get deletedAcross(){return(this.delInfo&fs)>0}}class ve{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&ve.empty)return ve.empty}recover(e){let n=0,r=_f(e);if(!this.inverted)for(let o=0;o<r;o++)n+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+n+kT(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let o=0,s=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?o:0);if(l>e)break;let c=this.ranges[a+s],u=this.ranges[a+i],d=l+c;if(e<=d){let f=c?e==l?-1:e==d?1:n:n,p=l+o+(f<0?0:u);if(r)return p;let h=e==(n<0?l:d)?null:vT(a/3,e-l),m=e==l?jv:e==d?Uv:fs;return(n<0?e!=l:e!=d)&&(m|=Gv),new Sl(p,m,h)}o+=u-c}return r?e+o:new Sl(e+o,0,null)}touches(e,n){let r=0,o=_f(n),s=this.inverted?2:1,i=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],u=l+c;if(e<=u&&a==o*3)return!0;r+=this.ranges[a+i]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,s=0;o<this.ranges.length;o+=3){let i=this.ranges[o],a=i-(this.inverted?s:0),l=i+(this.inverted?0:s),c=this.ranges[o+n],u=this.ranges[o+r];e(a,a+c,l,l+u),s+=u-c}}invert(){return new ve(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ve.empty:new ve(e<0?[0,-e,0]:[0,0,e])}}ve.empty=new ve([]);class dr{constructor(e=[],n,r=0,o=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=o}slice(e=0,n=this.maps.length){return new dr(this.maps,this.mirror,e,n)}copy(){return new dr(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let o=e.getMirror(n);this.appendMap(e.maps[n],o!=null&&o<n?r+o:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let o=e.getMirror(n);this.appendMap(e.maps[n].invert(),o!=null&&o>n?r-o-1:void 0)}}invert(){let e=new dr;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let o=0;for(let s=this.from;s<this.to;s++){let i=this.maps[s],a=i.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this.maps[l].recover(a.recover);continue}}o|=a.delInfo,e=a.pos}return r?e:new Sl(e,o,null)}}const pa=Object.create(null);class se{getMap(){return ve.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=pa[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in pa)throw new RangeError("Duplicate use of step JSON ID "+e);return pa[e]=n,n.prototype.jsonID=e,n}}class ne{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new ne(e,null)}static fail(e){return new ne(null,e)}static fromReplace(e,n,r,o){try{return ne.ok(e.replace(n,r,o))}catch(s){if(s instanceof Cs)return ne.fail(s.message);throw s}}}function uu(t,e,n){let r=[];for(let o=0;o<t.childCount;o++){let s=t.child(o);s.content.size&&(s=s.copy(uu(s.content,e,s))),s.isInline&&(s=e(s,n,o)),r.push(s)}return S.fromArray(r)}class rn extends se{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),s=new R(uu(n.content,(i,a)=>!i.isAtom||!a.type.allowsMarkType(this.mark.type)?i:i.mark(this.mark.addToSet(i.marks)),o),n.openStart,n.openEnd);return ne.fromReplace(e,this.from,this.to,s)}invert(){return new Ct(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new rn(n.pos,r.pos,this.mark)}merge(e){return e instanceof rn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new rn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new rn(n.from,n.to,e.markFromJSON(n.mark))}}se.jsonID("addMark",rn);class Ct extends se{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new R(uu(n.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),n.openStart,n.openEnd);return ne.fromReplace(e,this.from,this.to,r)}invert(){return new rn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ct(n.pos,r.pos,this.mark)}merge(e){return e instanceof Ct&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ct(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ct(n.from,n.to,e.markFromJSON(n.mark))}}se.jsonID("removeMark",Ct);class on extends se{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ne.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ne.fromReplace(e,this.pos,this.pos+1,new R(S.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let o=0;o<n.marks.length;o++)if(!n.marks[o].isInSet(r))return new on(this.pos,n.marks[o]);return new on(this.pos,this.mark)}}return new xr(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new on(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new on(n.pos,e.markFromJSON(n.mark))}}se.jsonID("addNodeMark",on);class xr extends se{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ne.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ne.fromReplace(e,this.pos,this.pos+1,new R(S.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new on(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new xr(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new xr(n.pos,e.markFromJSON(n.mark))}}se.jsonID("removeNodeMark",xr);class ue extends se{constructor(e,n,r,o=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=o}apply(e){return this.structure&&Al(e,this.from,this.to)?ne.fail("Structure replace would overwrite content"):ne.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ve([this.from,this.to-this.from,this.slice.size])}invert(e){return new ue(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ue(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof ue)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?R.empty:new R(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ue(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?R.empty:new R(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ue(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ue(n.from,n.to,R.fromJSON(e,n.slice),!!n.structure)}}se.jsonID("replace",ue);class je extends se{constructor(e,n,r,o,s,i,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=s,this.insert=i,this.structure=a}apply(e){if(this.structure&&(Al(e,this.from,this.gapFrom)||Al(e,this.gapTo,this.to)))return ne.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ne.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?ne.fromReplace(e,this.from,this.to,r):ne.fail("Content does not fit in gap")}getMap(){return new ve([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new je(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),s=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||o<n.pos||s>r.pos?null:new je(n.pos,r.pos,o,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new je(n.from,n.to,n.gapFrom,n.gapTo,R.fromJSON(e,n.slice),n.insert,!!n.structure)}}se.jsonID("replaceAround",je);function Al(t,e,n){let r=t.resolve(e),o=n-e,s=r.depth;for(;o>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,o--;if(o>0){let i=r.node(s).maybeChild(r.indexAfter(s));for(;o>0;){if(!i||i.isLeaf)return!0;i=i.firstChild,o--}}return!1}function xT(t,e,n,r){let o=[],s=[],i,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let f=Math.max(c,e),p=Math.min(c+l.nodeSize,n),h=r.addToSet(d);for(let m=0;m<d.length;m++)d[m].isInSet(h)||(i&&i.to==f&&i.mark.eq(d[m])?i.to=p:o.push(i=new Ct(f,p,d[m])));a&&a.to==f?a.to=p:s.push(a=new rn(f,p,r))}}),o.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function ET(t,e,n,r){let o=[],s=0;t.doc.nodesBetween(e,n,(i,a)=>{if(!i.isInline)return;s++;let l=null;if(r instanceof mi){let c=i.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(i.marks)&&(l=[r]):l=i.marks;if(l&&l.length){let c=Math.min(a+i.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],f;for(let p=0;p<o.length;p++){let h=o[p];h.step==s-1&&d.eq(o[p].style)&&(f=h)}f?(f.to=c,f.step=s):o.push({style:d,from:Math.max(a,e),to:c,step:s})}}}),o.forEach(i=>t.step(new Ct(i.from,i.to,i.style)))}function wT(t,e,n,r=n.contentMatch){let o=t.doc.nodeAt(e),s=[],i=e+1;for(let a=0;a<o.childCount;a++){let l=o.child(a),c=i+l.nodeSize,u=r.matchType(l.type);if(!u)s.push(new ue(i,c,R.empty));else{r=u;for(let d=0;d<l.marks.length;d++)n.allowsMarkType(l.marks[d].type)||t.step(new Ct(i,c,l.marks[d]));if(l.isText&&!n.spec.code){let d,f=/\r?\n|\r/g,p;for(;d=f.exec(l.text);)p||(p=new R(S.from(n.schema.text(" ",n.allowedMarks(l.marks))),0,0)),s.push(new ue(i+d.index,i+d.index+d[0].length,p))}}i=c}if(!r.validEnd){let a=r.fillBefore(S.empty,!0);t.replace(i,i,new R(a,0,0))}for(let a=s.length-1;a>=0;a--)t.step(s[a])}function _T(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function du(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let o=t.$from.node(r),s=t.$from.index(r),i=t.$to.indexAfter(r);if(r<t.depth&&o.canReplace(s,i,n))return r;if(r==0||o.type.spec.isolating||!_T(o,s,i))break}return null}function ST(t,e,n){let{$from:r,$to:o,depth:s}=e,i=r.before(s+1),a=o.after(s+1),l=i,c=a,u=S.empty,d=0;for(let h=s,m=!1;h>n;h--)m||r.index(h)>0?(m=!0,u=S.from(r.node(h).copy(u)),d++):l--;let f=S.empty,p=0;for(let h=s,m=!1;h>n;h--)m||o.after(h+1)<o.end(h)?(m=!0,f=S.from(o.node(h).copy(f)),p++):c++;t.step(new je(l,c,i,a,new R(u.append(f),d,p),u.size-d,!0))}function Hv(t,e,n=null,r=t){let o=AT(t,e),s=o&&CT(r,e);return s?o.map(Sf).concat({type:e,attrs:n}).concat(s.map(Sf)):null}function Sf(t){return{type:t,attrs:null}}function AT(t,e){let{parent:n,startIndex:r,endIndex:o}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let i=s.length?s[0]:e;return n.canReplaceWith(r,o,i)?s:null}function CT(t,e){let{parent:n,startIndex:r,endIndex:o}=t,s=n.child(r),i=e.contentMatch.findWrapping(s.type);if(!i)return null;let l=(i.length?i[i.length-1]:e).contentMatch;for(let c=r;l&&c<o;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:i}function DT(t,e,n){let r=S.empty;for(let i=n.length-1;i>=0;i--){if(r.size){let a=n[i].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=S.from(n[i].type.create(n[i].attrs,r))}let o=e.start,s=e.end;t.step(new je(o,s,o,s,new R(r,0,0),n.length,!0))}function MT(t,e,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(i,a)=>{if(i.isTextblock&&!i.hasMarkup(r,o)&&TT(t.doc,t.mapping.slice(s).map(a),r)){t.clearIncompatible(t.mapping.slice(s).map(a,1),r);let l=t.mapping.slice(s),c=l.map(a,1),u=l.map(a+i.nodeSize,1);return t.step(new je(c,u,c+1,u-1,new R(S.from(r.create(o,null,i.marks)),0,0),1,!0)),!1}})}function TT(t,e,n){let r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function RT(t,e,n,r,o){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let i=n.create(r,null,o||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,i);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new je(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new R(S.from(i),0,0),1,!0))}function ps(t,e,n=1,r){let o=t.resolve(e),s=o.depth-n,i=r&&r[r.length-1]||o.parent;if(s<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!i.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,u=n-2;c>s;c--,u--){let d=o.node(c),f=o.index(c);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),h=r&&r[u+1];h&&(p=p.replaceChild(0,h.type.create(h.attrs)));let m=r&&r[u]||d;if(!d.canReplace(f+1,d.childCount)||!m.type.validContent(p))return!1}let a=o.indexAfter(s),l=r&&r[0];return o.node(s).canReplaceWith(a,a,l?l.type:o.node(s+1).type)}function NT(t,e,n=1,r){let o=t.doc.resolve(e),s=S.empty,i=S.empty;for(let a=o.depth,l=o.depth-n,c=n-1;a>l;a--,c--){s=S.from(o.node(a).copy(s));let u=r&&r[c];i=S.from(u?u.type.create(u.attrs,i):o.node(a).copy(i))}t.step(new ue(e,e,new R(s.append(i),n,n),!0))}function Mo(t,e){let n=t.resolve(e),r=n.index();return OT(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function OT(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function LT(t,e,n){let r=new ue(e-n,e+n,R.empty,!0);t.step(r)}function FT(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let s=r.index(o);if(r.node(o).canReplaceWith(s,s,n))return r.before(o+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let s=r.indexAfter(o);if(r.node(o).canReplaceWith(s,s,n))return r.after(o+1);if(s<r.node(o).childCount)return null}return null}function IT(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let o=n.content;for(let s=0;s<n.openStart;s++)o=o.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let i=r.depth;i>=0;i--){let a=i==r.depth?0:r.pos<=(r.start(i+1)+r.end(i+1))/2?-1:1,l=r.index(i)+(a>0?1:0),c=r.node(i),u=!1;if(s==1)u=c.canReplace(l,l,o);else{let d=c.contentMatchAt(l).findWrapping(o.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(i+1):r.after(i+1)}return null}function fu(t,e,n=e,r=R.empty){if(e==n&&!r.size)return null;let o=t.resolve(e),s=t.resolve(n);return Wv(o,s,r)?new ue(e,n,r):new PT(o,s,r).fit()}function Wv(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class PT{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=S.empty;for(let o=0;o<=e.depth;o++){let s=e.node(o);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=S.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let s=this.placed,i=r.depth,a=o.depth;for(;i&&a&&s.childCount==1;)s=s.firstChild.content,i--,a--;let l=new R(s,i,a);return e>-1?new je(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new ue(r.pos,o.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(o=0),s.type.spec.isolating&&o<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let o,s=null;r?(s=ha(this.unplaced.content,r-1).firstChild,o=s.content):o=this.unplaced.content;let i=o.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(i?c.matchType(i.type)||(d=c.fillBefore(S.from(i),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&i&&(u=c.findWrapping(i.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=ha(e,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new R(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,o=ha(e,n);if(o.childCount<=1&&n>0){let s=e.size-n<=n+o.size;this.unplaced=new R(Br(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new R(Br(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:o,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let m=0;m<s.length;m++)this.openFrontierNode(s[m]);let i=this.unplaced,a=r?r.content:i.content,l=i.openStart-e,c=0,u=[],{match:d,type:f}=this.frontier[n];if(o){for(let m=0;m<o.childCount;m++)u.push(o.child(m));d=d.matchFragment(o)}let p=a.size+e-(i.content.size-i.openEnd);for(;c<a.childCount;){let m=a.child(c),g=d.matchType(m.type);if(!g)break;c++,(c>1||l==0||m.content.size)&&(d=g,u.push(Kv(m.mark(f.allowedMarks(m.marks)),c==1?l:0,c==a.childCount?p:-1)))}let h=c==a.childCount;h||(p=-1),this.placed=qr(this.placed,n,S.from(u)),this.frontier[n].match=d,h&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,g=a;m<p;m++){let y=g.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),g=y.content}this.unplaced=h?e==0?R.empty:new R(Br(i.content,e-1,1),e-1,p<0?i.openEnd:e-1):new R(Br(i.content,e,c),i.openStart,i.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!ma(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:o}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),i=ma(e,n,o,r,s);if(i){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=ma(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:i,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=qr(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let o=e.node(r),s=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,s)}return e}openFrontierNode(e,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=qr(this.placed,this.depth,S.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(S.empty,!0);n.childCount&&(this.placed=qr(this.placed,this.frontier.length,n))}}function Br(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Br(t.firstChild.content,e-1,n)))}function qr(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(qr(t.lastChild.content,e-1,n)))}function ha(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Kv(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Kv(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(S.empty,!0)))),t.copy(r)}function ma(t,e,n,r,o){let s=t.node(e),i=o?t.indexAfter(e):t.index(e);if(i==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,i);return a&&!$T(n,s.content,i)?a:null}function $T(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function zT(t){return t.spec.defining||t.spec.definingForContent}function BT(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let o=t.doc.resolve(e),s=t.doc.resolve(n);if(Wv(o,s,r))return t.step(new ue(e,n,r));let i=Zv(o,t.doc.resolve(n));i[i.length-1]==0&&i.pop();let a=-(o.depth+1);i.unshift(a);for(let f=o.depth,p=o.pos-1;f>0;f--,p--){let h=o.node(f).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;i.indexOf(f)>-1?a=f:o.before(f)==p&&i.splice(1,0,-f)}let l=i.indexOf(a),c=[],u=r.openStart;for(let f=r.content,p=0;;p++){let h=f.firstChild;if(c.push(h),p==r.openStart)break;f=h.content}for(let f=u-1;f>=0;f--){let p=c[f],h=zT(p.type);if(h&&!p.sameMarkup(o.node(Math.abs(a)-1)))u=f;else if(h||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+u+1)%(r.openStart+1),h=c[p];if(h)for(let m=0;m<i.length;m++){let g=i[(m+l)%i.length],y=!0;g<0&&(y=!1,g=-g);let b=o.node(g-1),v=o.index(g-1);if(b.canReplaceWith(v,v,h.type,h.marks))return t.replace(o.before(g),y?s.after(g):n,new R(Xv(r.content,0,r.openStart,p),p,r.openEnd))}}let d=t.steps.length;for(let f=i.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let p=i[f];p<0||(e=o.before(p),n=s.after(p))}}function Xv(t,e,n,r,o){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(Xv(s.content,e+1,n,r,s)))}if(e>r){let s=o.contentMatchAt(0),i=s.fillBefore(t).append(t);t=i.append(s.matchFragment(i).fillBefore(S.empty,!0))}return t}function qT(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let o=FT(t.doc,e,r.type);o!=null&&(e=n=o)}t.replaceRange(e,n,new R(S.from(r),0,0))}function VT(t,e,n){let r=t.doc.resolve(e),o=t.doc.resolve(n),s=Zv(r,o);for(let i=0;i<s.length;i++){let a=s[i],l=i==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),o.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),o.indexAfter(a-1))))return t.delete(r.before(a),o.after(a))}for(let i=1;i<=r.depth&&i<=o.depth;i++)if(e-r.start(i)==r.depth-i&&n>r.end(i)&&o.end(i)-n!=o.depth-i)return t.delete(r.before(i),n);t.delete(e,n)}function Zv(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let o=r;o>=0;o--){let s=t.start(o);if(s<t.pos-(t.depth-o)||e.end(o)>e.pos+(e.depth-o)||t.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(s==e.start(o)||o==t.depth&&o==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==s-1)&&n.push(o)}return n}class fr extends se{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return ne.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return ne.fromReplace(e,this.pos,this.pos+1,new R(S.from(o),0,n.isLeaf?0:1))}getMap(){return ve.empty}invert(e){return new fr(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new fr(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new fr(n.pos,n.attr,n.value)}}se.jsonID("attr",fr);class ao extends se{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let o in e.attrs)n[o]=e.attrs[o];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return ne.ok(r)}getMap(){return ve.empty}invert(e){return new ao(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ao(n.attr,n.value)}}se.jsonID("docAttr",ao);let Er=class extends Error{};Er=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Er.prototype=Object.create(Error.prototype);Er.prototype.constructor=Er;Er.prototype.name="TransformError";class Yv{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new dr}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Er(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=R.empty){let o=fu(this.doc,e,n,r);return o&&this.step(o),this}replaceWith(e,n,r){return this.replace(e,n,new R(S.from(r),0,0))}delete(e,n){return this.replace(e,n,R.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return BT(this,e,n,r),this}replaceRangeWith(e,n,r){return qT(this,e,n,r),this}deleteRange(e,n){return VT(this,e,n),this}lift(e,n){return ST(this,e,n),this}join(e,n=1){return LT(this,e,n),this}wrap(e,n){return DT(this,e,n),this}setBlockType(e,n=e,r,o=null){return MT(this,e,n,r,o),this}setNodeMarkup(e,n,r=null,o){return RT(this,e,n,r,o),this}setNodeAttribute(e,n,r){return this.step(new fr(e,n,r)),this}setDocAttribute(e,n){return this.step(new ao(e,n)),this}addNodeMark(e,n){return this.step(new on(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Z)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new xr(e,n)),this}split(e,n=1,r){return NT(this,e,n,r),this}addMark(e,n,r){return xT(this,e,n,r),this}removeMark(e,n,r){return ET(this,e,n,r),this}clearIncompatible(e,n,r){return wT(this,e,n,r),this}}const UT="atlaskit-insert-type-ahead";let $ke=function(t){return t.DELETING_RAW_QUERY="DELETING_RAW_QUERY",t.INSERTING_ITEM="INSERTING_ITEM",t}({});class Is extends se{constructor({stage:e,query:n,trigger:r,selectedIndex:o},s=!1){super(),this.isInvertStep=s,this.stage=e,this.query=n,this.trigger=r,this.selectedIndex=o}invert(){const e={stage:this.stage,query:this.query,trigger:this.trigger,selectedIndex:this.selectedIndex};return new Is(e,!this.isInvertStep)}apply(e){return ne.ok(e)}merge(){return null}isInsertionStep(){return!this.isInvertStep}isUndoingStep(){return this.isInvertStep}map(){const e={stage:this.stage,query:this.query,trigger:this.trigger,selectedIndex:this.selectedIndex};return new Is(e,this.isInvertStep)}getMap(){return new ve([0,0,0])}toJSON(){return{stepType:"replace",from:0,to:0}}static fromJSON(){return new ue(0,0,R.empty)}}se.jsonID(UT,Is);class Wr extends se{constructor(e,n){super(),this.pos=e,this.attrs=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ne.fail("No node at given position");if(n.isText)return ne.fail("Target is a text node. Attributes are not allowed.");const r={...n.attrs||{},...this.attrs||{}};let o=n.type.create(r,S.empty,n.marks),s=new R(S.from(o),0,n.isLeaf?0:1);return ne.fromReplace(e,this.pos,this.pos+1,s)}invert(e){let n=e.nodeAt(this.pos);return new Wr(this.pos,n?n.attrs:{})}map(e){let n=e.mapResult(this.pos,1);return n.deleted?null:new Wr(n.pos,this.attrs)}toJSON(){return{stepType:"setAttrs",pos:this.pos,attrs:this.attrs}}static fromJSON(e,n){if(typeof n.pos!="number"||n.attrs!==null&&typeof n.attrs!="object")throw new RangeError("Invalid input for SetAttrsStep.fromJSON");return new Wr(n.pos,n.attrs)}}se.jsonID("setAttrs",Wr);const Qv="atlaskit-analytics";var Nn=function(t){return t.UNDID="undid",t.REDID="redid",t}(Nn||{});function jT(t){var e;return{...t,payload:{action:Nn.UNDID,actionSubject:t.payload.actionSubject,actionSubjectId:t.payload.action,attributes:{...t.payload.attributes,actionSubjectId:t.payload.actionSubjectId,inputMethod:((e=t.payload.attributes)===null||e===void 0?void 0:e.inputMethod)||""},eventType:"track"}}}const GT=t=>({...t,payload:{...t.payload,action:t.payload.action===Nn.UNDID?Nn.REDID:Nn.UNDID}});function HT(t){return t.payload.action===Nn.UNDID||t.payload.action===Nn.REDID}class _n extends se{constructor(e,n=[],r){super(),re(this,"analyticsEvents",[]),re(this,"actionsToIgnore",[]),this.analyticsEvents=e,this.actionsToIgnore=n,this.pos=r}invert(){const e=this.analyticsEvents.filter(n=>this.actionsToIgnore.indexOf(n.payload.action)===-1).map(n=>HT(n)?GT(n):jT(n));return new _n(e,[])}apply(e){return ne.ok(e)}map(e){let n=this.pos;return typeof n=="number"&&(n=e.map(n)),new _n(this.analyticsEvents,this.actionsToIgnore,n)}getMap(){return typeof this.pos=="number"?new ve([this.pos,0,0]):new ve([])}merge(e){if(e instanceof _n){const n=e.analyticsEvents;return new _n([...n,...this.analyticsEvents])}return null}toJSON(){return{stepType:Qv}}static fromJSON(){return new ue(0,0,R.empty)}}se.jsonID(Qv,_n);const WT="editor-linking-meta";class Ps extends se{constructor(e,n,r=!1){super(),this.pos=e,this.metadata=n,this.isInverted=r}getMetadata(){return this.metadata}invert(){const{sourceEvent:e,...n}=this.metadata;return new Ps(this.pos,n,!0)}apply(e){return ne.ok(e)}map(e){let n=this.pos;return typeof n=="number"&&(n=e.map(n)),new Ps(n,this.metadata,this.isInverted)}getMap(){return new ve([this.pos||0,0,0])}merge(){return null}toJSON(){return{stepType:"replace",from:0,to:0}}static fromJSON(){return new ue(0,0,R.empty)}}se.jsonID(WT,Ps);const ga=Object.create(null);class V{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Jv(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=R.empty){let r=n.content.lastChild,o=null;for(let a=0;a<n.openEnd;a++)o=r,r=r.lastChild;let s=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:l,$to:c}=i[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),a?R.empty:n),a==0&&Df(e,s,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:i,$to:a}=o[s],l=e.mapping.slice(r),c=l.map(i.pos),u=l.map(a.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),Df(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let o=e.parent.inlineContent?new U(e):ir(e.node(0),e.parent,e.pos,e.index(),n,r);if(o)return o;for(let s=e.depth-1;s>=0;s--){let i=n<0?ir(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):ir(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(i)return i}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Ge(e.node(0))}static atStart(e){return ir(e,e,0,0,1)||new Ge(e)}static atEnd(e){return ir(e,e,e.content.size,e.childCount,-1)||new Ge(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=ga[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in ga)throw new RangeError("Duplicate use of selection JSON ID "+e);return ga[e]=n,n.prototype.jsonID=e,n}getBookmark(){return U.between(this.$anchor,this.$head).getBookmark()}}V.prototype.visible=!0;class Jv{constructor(e,n){this.$from=e,this.$to=n}}let Af=!1;function Cf(t){!Af&&!t.parent.inlineContent&&(Af=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class U extends V{constructor(e,n=e){Cf(e),Cf(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return V.near(r);let o=e.resolve(n.map(this.anchor));return new U(o.parent.inlineContent?o:r,r)}replace(e,n=R.empty){if(super.replace(e,n),n==R.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof U&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new ki(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new U(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let o=e.resolve(n);return new this(o,r==n?o:e.resolve(r))}static between(e,n,r){let o=e.pos-n.pos;if((!r||o)&&(r=o>=0?1:-1),!n.parent.inlineContent){let s=V.findFrom(n,r,!0)||V.findFrom(n,-r,!0);if(s)n=s.$head;else return V.near(n,r)}return e.parent.inlineContent||(o==0?e=n:(e=(V.findFrom(e,-r,!0)||V.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=o<0&&(e=n))),new U(e,n)}}V.jsonID("text",U);class ki{constructor(e,n){this.anchor=e,this.head=n}map(e){return new ki(e.map(this.anchor),e.map(this.head))}resolve(e){return U.between(e.resolve(this.anchor),e.resolve(this.head))}}class P extends V{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:o}=n.mapResult(this.anchor),s=e.resolve(o);return r?V.near(s):new P(s)}content(){return new R(S.from(this.node),0,0)}eq(e){return e instanceof P&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new pu(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new P(e.resolve(n.anchor))}static create(e,n){return new P(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}P.prototype.visible=!1;V.jsonID("node",P);class pu{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new ki(r,r):new pu(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&P.isSelectable(r)?new P(n):V.near(n)}}class Ge extends V{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=R.empty){if(n==R.empty){e.delete(0,e.doc.content.size);let r=V.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Ge(e)}map(e){return new Ge(e)}eq(e){return e instanceof Ge}getBookmark(){return KT}}V.jsonID("all",Ge);const KT={map(){return this},resolve(t){return new Ge(t)}};function ir(t,e,n,r,o,s=!1){if(e.inlineContent)return U.create(t,n);for(let i=r-(o>0?0:1);o>0?i<e.childCount:i>=0;i+=o){let a=e.child(i);if(a.isAtom){if(!s&&P.isSelectable(a))return P.create(t,n-(o<0?a.nodeSize:0))}else{let l=ir(t,a,n+o,o<0?a.childCount:0,o,s);if(l)return l}n+=a.nodeSize*o}return null}function Df(t,e,n){let r=t.steps.length-1;if(r<e)return;let o=t.steps[r];if(!(o instanceof ue||o instanceof je))return;let s=t.mapping.maps[r],i;s.forEach((a,l,c,u)=>{i==null&&(i=u)}),t.setSelection(V.near(t.doc.resolve(i),n))}const Mf=1,Ko=2,Tf=4;class XT extends Yv{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Mf)&~Ko,this.storedMarks=null,this}get selectionSet(){return(this.updated&Mf)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Ko,this}ensureMarks(e){return Z.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ko)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Ko,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Z.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let o=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let i=this.doc.resolve(n);s=r==n?i.marks():i.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,o.text(e,s)),this.selection.empty||this.setSelection(V.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Tf,this}get scrolledIntoView(){return(this.updated&Tf)>0}}function Rf(t,e){return!e||!t?t:t.bind(e)}class Vr{constructor(e,n,r){this.name=e,this.init=Rf(n.init,r),this.apply=Rf(n.apply,r)}}const ZT=[new Vr("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Vr("selection",{init(t,e){return t.selection||V.atStart(e.doc)},apply(t){return t.selection}}),new Vr("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Vr("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class ya{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ZT.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Vr(r.key,r.spec.state,r))})}}class Ur{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),o=null;for(;;){let s=!1;for(let i=0;i<this.config.plugins.length;i++){let a=this.config.plugins[i];if(a.spec.appendTransaction){let l=o?o[i].n:0,c=o?o[i].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,i)){if(u.setMeta("appendedTransaction",e),!o){o=[];for(let d=0;d<this.config.plugins.length;d++)o.push(d<i?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}o&&(o[i]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ur(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let s=r[o];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new XT(this)}static create(e){let n=new ya(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ur(n);for(let o=0;o<n.fields.length;o++)r[n.fields[o].name]=n.fields[o].init(e,r);return r}reconfigure(e){let n=new ya(this.schema,e.plugins),r=n.fields,o=new Ur(n);for(let s=0;s<r.length;s++){let i=r[s].name;o[i]=this.hasOwnProperty(i)?this[i]:r[s].init(e,o)}return o}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],s=o.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(o,this[o.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new ya(e.schema,e.plugins),s=new Ur(o);return o.fields.forEach(i=>{if(i.name=="doc")s.doc=Rt.fromJSON(e.schema,n.doc);else if(i.name=="selection")s.selection=V.fromJSON(s.doc,n.selection);else if(i.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==i.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[i.name]=c.fromJSON.call(l,e,n[a],s);return}}s[i.name]=i.init(e,s)}}),s}}function ek(t,e,n){for(let r in t){let o=t[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=ek(o,e,{})),n[r]=o}return n}class hu{constructor(e){this.spec=e,this.props={},e.props&&ek(e.props,this,this.props),this.key=e.key?e.key.key:tk("plugin")}getState(e){return e[this.key]}}const ba=Object.create(null);function tk(t){return t in ba?t+"$"+ ++ba[t]:(ba[t]=0,t+"$")}class mu{constructor(e="key"){this.key=tk(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}var zke=t=>e=>{const n=_r(t)(e.selection);return n?rk(n.pos)(e):e},YT=(t,e)=>n=>{Array.isArray(t)||(t=[t]);for(let r=0,o=t.length;r<o;r++){const s=_r(t[r])(n.selection);if(s){const i=eR(s.pos,e)(n);if(i!==n)return i}}return n},Bke=t=>{if(lo(t.selection)){const e=t.selection.$from.pos,n=t.selection.$to.pos;return wr(t.delete(e,n))}return t},QT=t=>e=>{if(lo(e.selection)){const{$from:n,$to:r}=e.selection;if(t instanceof S&&n.parent.canReplace(n.index(),n.indexAfter(),t)||t instanceof Rt&&n.parent.canReplaceWith(n.index(),n.indexAfter(),t.type))return wr(e.replaceWith(n.pos,r.pos,t).setSelection(new P(e.doc.resolve(n.pos))))}return e},Cl=(t,e=1)=>n=>{const r=V.findFrom(n.doc.resolve(t),e,!0);return r?n.setSelection(r):n},Dl=t=>!!(t instanceof Rt&&t.type&&t.type.spec.selectable),JT=t=>Dl(t)&&t.type.isLeaf,va=(t,e,n)=>JT(t)?n.setSelection(new P(n.doc.resolve(e))):Cl(e)(n),nk=(t,e,n)=>r=>{const o=typeof e=="number",{$from:s}=r.selection,i=o?r.doc.resolve(e):lo(r.selection)?r.doc.resolve(s.pos+1):s,{parent:a}=i;if(lo(r.selection)&&n){const l=r;if(r=QT(t)(r),l!==r)return r}if(nR(a)){const l=r;if(r=YT(a.type,t)(r),l!==r){const c=Dl(t)?i.before(i.depth):i.pos;return va(t,c,r)}}if(Nf(i,t)){r.insert(i.pos,t);const l=o?i.pos:Dl(t)?r.selection.$anchor.pos-1:r.selection.$anchor.pos;return wr(va(t,l,r))}for(let l=i.depth;l>0;l--){const c=i.after(l),u=r.doc.resolve(c);if(Nf(u,t))return r.insert(c,t),wr(va(t,c,r))}return r},qke=t=>{const e=oR(t.selection);return typeof e=="number"?rk(e)(t):t},lo=t=>t instanceof P,xi=(t,e)=>Array.isArray(t)&&t.indexOf(e.type)>-1||e.type===t,wr=t=>Object.assign(Object.create(t),t).setTime(Date.now()),eR=(t,e)=>n=>{const r=n.doc.nodeAt(t),o=n.doc.resolve(t);if(!r)return n;if(tR(o,e)){n=n.replaceWith(t,t+r.nodeSize,e);const s=n.selection.$from.pos-1;return n=Cl(Math.max(s,0),-1)(n),n=Cl(n.selection.$from.start())(n),wr(n)}return n},tR=(t,e)=>{const n=t.node(t.depth);return n&&n.type.validContent(e instanceof S?e:S.from(e))},rk=t=>e=>{const n=e.doc.nodeAt(t);return n?wr(e.delete(t,t+n.nodeSize)):e},Nf=(t,e)=>{const n=t.index();return e instanceof S?t.parent.canReplace(n,n,e):e instanceof Rt?t.parent.canReplaceWith(n,n,e.type):!1},nR=t=>!t||t.type.name==="paragraph"&&t.nodeSize===2,gu=t=>({$from:e,$to:n},r=!1)=>{if(r&&!e.sameParent(n)){let o=Math.min(e.depth,n.depth);for(;o>=0;){const s=e.node(o);if(n.node(o)===s&&t(s))return{pos:o>0?e.before(o):0,start:e.start(o),depth:o,node:s};o=o-1}return}return ok(e,t)},ok=(t,e)=>{for(let n=t.depth;n>0;n--){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}},rR=t=>e=>!!gu(t)(e),_r=t=>e=>gu(n=>xi(t,n))(e),ka=(t,e)=>ok(t,n=>xi(e,n)),sk=t=>e=>rR(n=>xi(t,n))(e),Vke=t=>e=>{if(lo(e)){const{node:n,$from:r}=e;if(xi(t,n))return{node:n,start:r.start(),pos:r.pos,depth:r.depth}}},oR=t=>{const{nodeBefore:e}=t.$from,n=V.findFrom(t.$from,-1);if(n&&e){const r=_r(e.type)(n);return r?r.pos:n.$from.pos}},Uke=(t,e)=>{const n=e(t),r=n.node.childNodes[n.offset];return n.node.nodeType===Node.TEXT_NODE&&n.node.parentNode?n.node.parentNode:!r||r.nodeType===Node.TEXT_NODE?n.node:r},sR=(t,e=!0)=>{if(!t)throw new Error('Invalid "node" parameter');const n=[];return t.descendants((r,o)=>{if(n.push({node:r,pos:o}),!e)return!1}),n},iR=(t,e,n=!0)=>{if(t){if(!e)throw new Error('Invalid "predicate" parameter')}else throw new Error('Invalid "node" parameter');return sR(t,n).filter(r=>e(r.node))},aR=(t,e,n=!0)=>iR(t,r=>r.type===e,n),jke=(t,e)=>!!aR(t,e).length;function mt(t,e){return ik(t,{node:void 0},e,0,0)}function ik(t,e,n,r,o){const s=n[t.type]||n.any;let i={...t};if(s){const a=s({...i},e,r,o);if(a===!1)return!1;i=a||t}return i.content&&(i.content=i.content.reduce((a,l,c)=>{if(!l)return a;const u=ik(l,{node:i,parent:e},n,c,o+1);return u!==!1&&a.push(u),a},[])),i}const Gke=t=>{let e=!1;return{transformedAdf:mt(t,{mediaSingle:r=>{var o;if(!r.marks||!r.content||((o=r.content[0])===null||o===void 0?void 0:o.type)!=="media")return r;let s=null;if(r.marks.forEach((a,l)=>{if(a.type==="link"){var c;s=a,(c=r.marks)===null||c===void 0||c.splice(l,1),e=!0}}),r.marks.length===0&&delete r.marks,s){var i;const a=r.content[0];(i=a.marks)!==null&&i!==void 0&&i.every(l=>l.type!=="link")?a.marks.push(s):a.marks||(a.marks=[s])}return r}}),isTransformed:e}},lR=t=>{var e;const n=(e=t.marks)===null||e===void 0?void 0:e.map(r=>r.type);return(n==null?void 0:n.includes("link"))&&(n==null?void 0:n.includes("code"))},cR=t=>t.marks?{...t,marks:t.marks.filter(e=>e.type!=="code")}:t,Hke=t=>{let e=!1;return{transformedAdf:mt(t,{text:r=>{if(lR(r))return e=!0,cR(r)}}),isTransformed:e}},ak=new Set(["strong","underline","textColor","link","em","subsup","strike"]),uR=t=>{var e,n;const r=(e=t.marks)===null||e===void 0||(n=e.map(o=>o.type))===null||n===void 0?void 0:n.filter(o=>ak.has(o)||o==="annotation");return r!=null&&r.length?new Set(r).size!==r.length:!1},dR=t=>{const e=new Map,n=new Map,r=[];if(ak.forEach(s=>{e.set(s,!1)}),!t.marks)return{discardedMarks:r};let o=t.marks.filter(s=>{const i=s.type;if(i==="annotation"){var a;const l=(a=s.attrs)===null||a===void 0?void 0:a.id;return n.has(l)?(r.push(s),!1):(n.set(l,!0),!0)}return e.has(i)?e.get(i)?(r.push(s),!1):(e.set(i,!0),!0):!0});return{node:{...t,marks:o},discardedMarks:r}},Wke=t=>{let e=!1,n=[];return{transformedAdf:mt(t,{text:o=>{if(uR(o)){const s=dR(o),i=s.discardedMarks;if(i.length)return n.push(...i),e=!0,s.node}}}),isTransformed:e,discardedMarks:n}},fR=t=>({type:"text",text:t}),xa=t=>({type:"listItem",content:t});function pR(t){return t.map(hR)}function hR(t){return typeof t=="string"?fR(t):t}const pr=(...t)=>({type:"paragraph",content:pR(t)}),Ea=t=>(...e)=>({type:"tableCell",attrs:t,content:e}),wa=t=>({type:"tableRow",content:t}),To=t=>{var e;return!(t!=null&&(e=t.content)!==null&&e!==void 0&&e.length)},mR=t=>{var e;let n=1;return(e=t.content)===null||e===void 0||e.forEach(r=>{var o;(r==null?void 0:r.type)==="tableRow"&&typeof((o=r.content)===null||o===void 0?void 0:o.length)=="number"&&r.content.length>n&&(n=r.content.length)}),n},gR=t=>{switch(t.type){case"tableCell":return[pr()];default:return[]}},yR=t=>e=>{if(To(e))return t(),{...e,content:gR(e)}},bR=t=>{var e;return(e=t.content)===null||e===void 0?void 0:e.some(n=>(n==null?void 0:n.type)!=="listItem")},vR=t=>{var e;return(e=t.content)===null||e===void 0?void 0:e.some(n=>{var r;return(n==null?void 0:n.type)==="listItem"&&!((r=n.content)!==null&&r!==void 0&&r.length)})},kR=t=>{var e;return(e=t.content)===null||e===void 0?void 0:e.map(n=>{if(n)switch(n.type){case"listItem":return To(n)?xa([pr()]):n;case"text":return xa([pr(n)]);default:return xa([n])}return n})},Of=t=>e=>{if(bR(e)||vR(e))return t(),{...e,content:kR(e)}},xR=t=>{var e;return(e=t.content)===null||e===void 0?void 0:e.some(n=>(n==null?void 0:n.type)!=="tableRow")},ER=t=>{var e;const n=mR(t);return(e=t.content)===null||e===void 0?void 0:e.map(r=>{if(r)switch(r.type){case"text":return wa([Ea({})(pr(r)),...new Array(n-1).fill(Ea({})(pr()))]);case"tableCell":return wa([r]);case"tableRow":return To(r)?wa([...new Array(n).fill(Ea({})(pr()))]):r;default:return r}return r})},wR=t=>{var e;return t==null||(e=t.content)===null||e===void 0?void 0:e.some(n=>{var r;return(n==null?void 0:n.type)==="tableRow"&&(n==null||(r=n.content)===null||r===void 0?void 0:r.length)===0})},_R=t=>e=>{if(wR(e)||xR(e))return t(),{...e,content:ER(e)}},SR=t=>e=>{if(To(e))return t(),!1},Kke=t=>{let e=!1;const n=()=>{e=!0};let r=mt(t,{tableCell:yR(n)});return r=mt(r||t,{mediaSingle:SR(n)}),r=mt(r||t,{bulletList:Of(n),orderedList:Of(n),table:_R(n)}),{transformedAdf:r,isTransformed:e}},Lf=t=>{var e,n;return(e=(n=t.content)===null||n===void 0?void 0:n.some(r=>{var o;return(r==null?void 0:r.type)==="heading"&&(r==null||(o=r.marks)===null||o===void 0?void 0:o.some(s=>s.type==="indentation"))}))!==null&&e!==void 0?e:!1},Ff=t=>{var e;return{...t,content:(e=t.content)===null||e===void 0?void 0:e.map(n=>{if((n==null?void 0:n.type)==="heading"){var r;return{...n,marks:(r=n.marks)===null||r===void 0?void 0:r.filter(o=>o.type!=="indentation")}}return n})}},Xke=t=>{let e=!1;return{transformedAdf:mt(t,{tableCell:r=>{if(Lf(r))return e=!0,Ff(r)},tableHeader:r=>{if(Lf(r))return e=!0,Ff(r)}}),isTransformed:e}},Ml=(t,e)=>{let n={};return t.forEach((r,o)=>{if(!(!(r!=null&&r.type)||!e.includes(r.type))){if(!n[r.type]){n[r.type]=1;return}n[r.type]++}}),n},If=(t,e,n)=>{let r=10,o=Ml(e,[t])[t],s=e.findIndex(n);for(;o>1&&s>-1&&r-- >0;)e.splice(s,1),s=e.findIndex(n),o=Ml(e,[t])[t]},AR=(t,e)=>{if(!t.content)return;const n=[...t.content];return Object.keys(e).forEach(r=>{If(r,n,o=>(o==null?void 0:o.type)===r&&To(o)),If(r,n,o=>(o==null?void 0:o.type)===r)}),{...t,content:n}},Zke=t=>{let e=!1;return{transformedAdf:mt(t,{mediaSingle:r=>{var o;if(!(r!=null&&(o=r.content)!==null&&o!==void 0&&o.length))return;const s=["media","caption"],i=Ml(r.content,s);if(Object.values(i).some(a=>a>1))return e=!0,AR(r,i)}}),isTransformed:e}};function CR(t){const{$head:e}=t.selection;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole==="row")return!0;return!1}function lk(t,e){return t.depth===e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}class yu{constructor(e,n){this.anchor=e,this.head=n}map(e){return new yu(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);if(n.parent.type.spec.tableRole==="row"&&r.parent.type.spec.tableRole==="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&lk(n,r)){const o={type:"cell",anchor:n.pos,head:r.pos};return V.fromJSON(e,o)}return V.near(r,1)}}let Tl,Rl;if(typeof WeakMap<"u"){let t=new WeakMap;Tl=e=>t.get(e),Rl=(e,n)=>(t.set(e,n),n)}else{let t=[],e=10,n=0;Tl=r=>{for(let o=0;o<t.length;o+=2)if(t[o]===r)return t[o+1]},Rl=(r,o)=>(n===e&&(n=0),t[n++]=r,t[n++]=o)}class Pf{constructor(e,n,r,o){this.left=e,this.top=n,this.right=r,this.bottom=o}}let hs=function(t){return t.COLLISION="collision",t.OVERLONG_ROWSPAN="overlong_rowspan",t.MISSING="missing",t.COLWIDTH_MISMATCH="colwidth mismatch",t}({});const DR=140;class De{constructor(e,n,r,o){this.width=e,this.height=n,this.map=r,this.problems=o}findCell(e){for(let n=0;n<this.map.length;n++){let r=this.map[n];if(r!==e)continue;let o=n%this.width,s=n/this.width|0,i=o+1,a=s+1;for(let l=1;i<this.width&&this.map[n+l]===r;l++)i++;for(let l=1;a<this.height&&this.map[n+this.width*l]===r;l++)a++;return new Pf(o,s,i,a)}throw new RangeError("No cell with offset "+e+" found")}colCount(e){for(let n=0;n<this.map.length;n++)if(this.map[n]===e)return n%this.width;throw new RangeError("No cell with offset "+e+" found")}rowCount(e){if(this.width<=0)throw new RangeError("Wrong table width found");for(let n=0;n<this.map.length;n++)if(this.map[n]===e)return Math.floor(n/this.width);throw new RangeError("No cell with offset "+e+" found")}isPosMerged(e){return this.map.includes(e,this.map.indexOf(e)+1)}isCellMerged(e,n){return this.isCellMergedTopLeft(e,n)||this.isCellMergedBottomRight(e,n)}isCellMergedTopLeft(e,n){const r=this.map[e*this.width+n];return e>0&&r===this.map[(e-1)*this.width+n]||n>0&&r===this.map[e*this.width+(n-1)]}isCellMergedBottomRight(e,n){const r=this.map[e*this.width+n];return e<this.height-1&&r===this.map[(e+1)*this.width+n]||n<this.width-1&&r===this.map[e*this.width+(n+1)]}nextCell(e,n,r){let{left:o,right:s,top:i,bottom:a}=this.findCell(e);return n==="horiz"?(r<0?o===0:s===this.width)?null:this.map[i*this.width+(r<0?o-1:s)]:(r<0?i===0:a===this.height)?null:this.map[o+this.width*(r<0?i-1:a)]}rectBetween(e,n){let{left:r,right:o,top:s,bottom:i}=this.findCell(e),{left:a,right:l,top:c,bottom:u}=this.findCell(n);return new Pf(Math.min(r,a),Math.min(s,c),Math.max(o,l),Math.max(i,u))}cellsInRect(e){let n=[],r={};for(let o=e.top;o<e.bottom;o++)for(let s=e.left;s<e.right;s++){let i=o*this.width+s,a=this.map[i];r[a]||(r[a]=!0,(s!==e.left||!s||this.map[i-1]!==a)&&(o!==e.top||!o||this.map[i-this.width]!==a)&&n.push(a))}return n}positionAt(e,n,r){for(let o=0,s=0;;o++){let i=s+r.child(o).nodeSize;if(o===e){let a=n+e*this.width,l=(e+1)*this.width;for(;a<l&&this.map[a]<s;)a++;return a===l?i-1:this.map[a]}s=i}}getMaxColInRow(e){let n=e.parent;if(n.type.name==="tableRow")return n.childCount}static get(e){return Tl(e)||Rl(e,MR(e))}}function MR(t){if(t.type.spec.tableRole!=="table")throw new RangeError("Not a table node: "+t.type.name);let e=TR(t),n=t.childCount,r=[],o=0,s=null,i=[];for(let c=0,u=e*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){let d=t.child(c);u++;for(let h=0;;h++){for(;o<r.length&&r[o]!==0;)o++;if(h===d.childCount)break;let m=d.child(h),{colspan:g,rowspan:y,colwidth:b}=m.attrs;for(let v=0;v<y;v++){if(v+c>=n){(s||(s=[])).push({type:hs.OVERLONG_ROWSPAN,pos:u,n:y-v});break}let N=o+v*e;for(let C=0;C<g;C++){r[N+C]===0?r[N+C]=u:(s||(s=[])).push({type:hs.COLLISION,row:c,pos:u,n:g-C});let E=b&&b[C];if(E){let D=(N+C)%e*2,q=i[D];q==null||q!==E&&i[D+1]===1?(i[D]=E,i[D+1]=1):q===E&&i[D+1]++}}}o+=g,u+=m.nodeSize}let f=(c+1)*e,p=0;for(;o<f;)r[o++]===0&&p++;p&&(s||(s=[])).push({type:hs.MISSING,row:c,n:p}),u++}let a=new De(e,n,r,s),l=!1;for(let c=0;!l&&c<i.length;c+=2)i[c]!=null&&i[c+1]<n&&(l=!0);if(i.length>0&&i.length!==e*2){for(let c=0;c<e*2-i.length;c++)i.push(DR,0);l=!0}return l&&RR(a,i,t),a}function TR(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){let o=t.child(r),s=0;if(n)for(let i=0;i<r;i++){let a=t.child(i);for(let l=0;l<a.childCount;l++){let c=a.child(l);i+c.attrs.rowspan>r&&(s+=c.attrs.colspan)}}for(let i=0;i<o.childCount;i++){let a=o.child(i);s+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}e===-1?e=s:e!==s&&(e=Math.max(e,s))}return e}function RR(t,e,n){t.problems||(t.problems=[]);let r={};for(let o=0;o<t.map.length;o++){let s=t.map[o];if(r[s])continue;r[s]=!0;let i=n.nodeAt(s),a=null;for(let l=0;l<i.attrs.colspan;l++){let c=(o+l)%t.width,u=e[c*2];u!=null&&(!i.attrs.colwidth||i.attrs.colwidth[l]!==u)&&((a||(a=NR(i.attrs)))[l]=u)}a&&t.problems.unshift({type:hs.COLWIDTH_MISMATCH,pos:s,colwidth:a})}}function NR(t){if(t.colwidth)return t.colwidth.slice();let e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function $f(t){return t.parent.type.spec.tableRole==="row"&&t.nodeAfter}function OR(t){for(let e=t.nodeAfter,{pos:n}=t;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r==="cell"||r==="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,{pos:n}=t;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r==="cell"||r==="header_cell")return t.doc.resolve(n-e.nodeSize)}return null}function LR(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole==="row")return t.node(0).resolve(t.before(e+1));return null}function co(t,e,n=1){if(!t.colspan)throw new Error("removeColSpan(): attrs.colspan not defined");const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(o=>o>0)||(r.colwidth=void 0)),r}function FR(t,e){const n=t.node(-1),r=De.get(n),o=t.start(-1),s=r.rectBetween(t.pos-o,e.pos-o),i=t.node(0),a=r.cellsInRect(s).filter(l=>l!==e.pos-o);return a.unshift(e.pos-o),a.map(l=>{const c=n.nodeAt(l);if(c===null)throw new Error(`No cell at position ${l}`);const u=l+o+1;return new Jv(i.resolve(u),i.resolve(u+c.content.size))})}class Ue extends V{constructor(e,n=e){const r=FR(e,n);super(r[0].$from,r[0].$to,r),this.$anchorCell=e,this.$headCell=n,this.visible=!1}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),o=e.resolve(n.map(this.$headCell.pos));if($f(r)&&$f(o)&&lk(r,o)){const s=this.$anchorCell.node(-1)!==r.node(-1);return s&&this.isRowSelection()?Ue.rowSelection(r,o):s&&this.isColSelection()?Ue.colSelection(r,o):new Ue(r,o)}return U.between(r,o)}content(){const e=this.$anchorCell.node(-1),n=De.get(e),r=this.$anchorCell.start(-1),o=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},i=[];for(let l=o.top;l<o.bottom;l++){const c=[];for(let u=l*n.width+o.left,d=o.left;d<o.right;d++,u++){const f=n.map[u];if(!s[f]){s[f]=!0;const p=n.findCell(f);let h=e.nodeAt(f);if(h==null)throw new Error(`No cell at position ${f}`);const m=o.left-p.left,g=p.right-o.right;if(m>0||g>0){let{attrs:y}=h;if(!y)throw new Error(`No cell at position ${f}`);m>0&&(y=co(y,0,m)),g>0&&(y=co(y,y.colspan-g,g)),p.left<o.left?h=h.type.createAndFill(y):h=h.type.create(y,h.content)}if(h==null)throw new Error("No cell at position after create/createAndFill");if(p.top<o.top||p.bottom>o.bottom){const y={...h.attrs,rowspan:Math.min(p.bottom,o.bottom)-Math.max(p.top,o.top)};p.top<o.top?h=h.type.createAndFill(y):h=h.type.create(y,h.content)}if(h==null)throw new Error("No cell at position before rowContent.push");c.push(h)}}i.push(e.child(l).copy(S.from(c)))}const a=this.isColSelection()&&this.isRowSelection()?e:i;return new R(S.from(a),1,1)}replace(e,n=R.empty){const r=e.steps.length,{ranges:o}=this;for(let i=0;i<o.length;i++){const{$from:a,$to:l}=o[i],c=e.mapping.slice(r);e.replace(c.map(a.pos),c.map(l.pos),i?R.empty:n)}const s=V.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new R(S.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=De.get(n),o=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o));for(let i=0;i<s.length;i++){const a=n.nodeAt(s[i]);if(a==null)throw new Error(`undefined cell at pos ${s[i]}`);e(a,o+s[i])}}isColSelection(){if(!this.$anchorCell||!this.$headCell)throw new Error("invalid $anchorCell or $headCell");const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,o=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,o)===this.$headCell.node(-1).childCount}static colSelection(e,n=e){let r=e,o=n;const s=De.get(r.node(-1)),i=r.start(-1),a=s.findCell(r.pos-i),l=s.findCell(o.pos-i),c=r.node(0);return a.top<=l.top?(a.top>0&&(r=c.resolve(i+s.map[a.left])),l.bottom<s.height&&(o=c.resolve(i+s.map[s.width*(s.height-1)+l.right-1]))):(l.top>0&&(o=c.resolve(i+s.map[l.left])),a.bottom<s.height&&(r=c.resolve(i+s.map[s.width*(s.height-1)+a.right-1]))),new Ue(r,o)}isRowSelection(){if(!this.$anchorCell||!this.$headCell)return!1;const e=this.$anchorCell.start(-1),n=De.get(this.$anchorCell.node(-1)),r=n.rowCount(this.$anchorCell.pos-e),o=n.rowCount(this.$headCell.pos-e),s=r===o;let i=n.getMaxColInRow(this.$anchorCell);if(s&&this.ranges.length<=n.width&&!n.isPosMerged(this.$anchorCell.pos-e)&&!n.isPosMerged(this.$headCell.pos-e))return this.ranges.length===i;const a=n.colCount(this.$anchorCell.pos-e),l=n.colCount(this.$headCell.pos-e);if(Math.min(a,l)>0)return!1;const c=a+this.$anchorCell.nodeAfter.attrs.colspan,u=l+this.$headCell.nodeAfter.attrs.colspan;return Math.max(c,u)===n.width}eq(e){return e instanceof Ue&&e.$anchorCell.pos===this.$anchorCell.pos&&e.$headCell.pos===this.$headCell.pos}static rowSelection(e,n=e){let r=e,o=n;const s=De.get(r.node(-1)),i=r.start(-1),a=s.findCell(r.pos-i),l=s.findCell(o.pos-i),c=r.node(0);return a.left<=l.left?(a.left>0&&(r=c.resolve(i+s.map[a.top*s.width])),l.right<s.width&&(o=c.resolve(i+s.map[s.width*(l.top+1)-1]))):(l.left>0&&(o=c.resolve(i+s.map[l.top*s.width])),a.right<s.width&&(r=c.resolve(i+s.map[s.width*(a.top+1)-1]))),new Ue(r,o)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new Ue(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new Ue(e.resolve(n),e.resolve(r))}getBookmark(){return new yu(this.$anchorCell.pos,this.$headCell.pos)}}V.jsonID("cell",Ue);function Yke(t,e,n){let r=n;return mt(t,{any:o=>{r=e(r,o)}}),r}function Qke(t,e){const n=[];return mt(t,{any:r=>{e(r)&&n.push(r)}}),n}let Jke=function(t){return t[t.SELF=0]="SELF",t[t.RESTRICTED=1]="RESTRICTED",t[t.DEFAULT=2]="DEFAULT",t}({}),zf=function(t){return t[t.NONE=0]="NONE",t[t.SITE=1]="SITE",t[t.APPLICATION=2]="APPLICATION",t[t.CONTAINER=3]="CONTAINER",t}({}),exe=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.SERVICE_ERROR=1]="SERVICE_ERROR",t[t.OK=2]="OK",t}({});function txe(t){return!!t&&t===zf[zf.NONE]}function IR(t){return t&&(t==="@all"||t==="@here")}const nxe=t=>!!(t&&t.then),PR="fabric-elements",$R="@atlaskit/mention",zR="22.1.10";let BR=function(t){return t.TYPEAHEAD="mentionTypeahead",t.MENTION="mention",t}({});const rxe=t=>(e,n,r,o,s)=>{const i={action:n,actionSubject:e,eventType:le,attributes:{packageName:$R,packageVersion:zR,componentName:BR.MENTION,accessLevel:s,isSpecial:IR(r),userId:o}},a=t(i);return a.fire(PR),a},oxe=t=>!!(t&&t.supportsMentionNameResolving&&t.supportsMentionNameResolving()),qR={props:{type:{type:"enum",values:["em"]}}},VR={props:{type:{type:"enum",values:["code"]}}},UR={props:{type:{type:"enum",values:["strike"]}}},jR={props:{type:{type:"enum",values:["strong"]}}},GR={props:{type:{type:"enum",values:["underline"]}}},HR={props:{type:{type:"enum",values:["link"]},attrs:{props:{href:{type:"string",validatorFn:"safeUrl"},title:{type:"string",optional:!0},id:{type:"string",optional:!0},collection:{type:"string",optional:!0},occurrenceKey:{type:"string",optional:!0}}}}},WR={props:{type:{type:"enum",values:["subsup"]},attrs:{props:{type:{type:"enum",values:["sub","sup"]}}}}},KR={props:{type:{type:"enum",values:["textColor"]},attrs:{props:{color:{type:"string",pattern:"^#[0-9a-fA-F]{6}$"}}}}},XR={props:{type:{type:"enum",values:["confluenceInlineComment"]},attrs:{props:{reference:{type:"string"}}}}},ZR={props:{type:{type:"enum",values:["breakout"]},attrs:{props:{mode:{type:"enum",values:["wide","full-width"]}}}}},YR={props:{type:{type:"enum",values:["alignment"]},attrs:{props:{align:{type:"enum",values:["center","end"]}}}}},QR={props:{type:{type:"enum",values:["indentation"]},attrs:{props:{level:{type:"number",minimum:1,maximum:6}}}}},JR={props:{type:{type:"enum",values:["annotation"]},attrs:{props:{id:{type:"string"},annotationType:{type:"enum",values:["inlineComment"]}}}}},eN={props:{type:{type:"enum",values:["dataConsumer"]},attrs:{props:{sources:{type:"array",items:[{type:"string"}],minItems:1}}}}},tN={props:{type:{type:"enum",values:["fragment"]},attrs:{props:{localId:{type:"string",minLength:1},name:{type:"string",optional:!0}}}}},nN={props:{type:{type:"enum",values:["border"]},attrs:{props:{size:{type:"number",minimum:1,maximum:3},color:{type:"string",pattern:"^#[0-9a-fA-F]{8}$|^#[0-9a-fA-F]{6}$"}}}}},rN={props:{type:{type:"enum",values:["hardBreak"]},attrs:{props:{text:{type:"enum",values:[`
`],optional:!0}},optional:!0}}},oN={props:{type:{type:"enum",values:["mention"]},attrs:{props:{id:{type:"string"},text:{type:"string",optional:!0},userType:{type:"enum",values:["DEFAULT","SPECIAL","APP"],optional:!0},accessLevel:{type:"string",optional:!0}}}}},sN={props:{type:{type:"enum",values:["emoji"]},attrs:{props:{id:{type:"string",optional:!0},shortName:{type:"string"},text:{type:"string",optional:!0}}}}},iN={props:{type:{type:"enum",values:["inlineExtension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0},localId:{type:"string",minLength:1,optional:!0}}},marks:{type:"array",items:[],optional:!0}}},aN=["inlineExtension",{props:{marks:{type:"array",items:[["dataConsumer","fragment"]],optional:!0}}}],lN={props:{type:{type:"enum",values:["date"]},attrs:{props:{timestamp:{type:"string",minLength:1}}}}},cN={props:{type:{type:"enum",values:["placeholder"]},attrs:{props:{text:{type:"string"}}}}},uN={props:{type:{type:"enum",values:["blockCard"]},attrs:[{props:{url:{type:"string",validatorFn:"safeUrl",optional:!0},datasource:{props:{id:{type:"string"},parameters:{type:"object"},views:{type:"array",items:[{props:{type:{type:"string"},properties:{type:"object",optional:!0}}}],minItems:1}}},width:{type:"number",optional:!0},layout:{type:"enum",values:["wide","full-width","center","wrap-right","wrap-left","align-end","align-start"],optional:!0}}},{props:{url:{type:"string",validatorFn:"safeUrl"}}},{props:{data:{type:"object"}}}]},required:["attrs"]},dN={props:{type:{type:"enum",values:["inlineCard"]},attrs:[{props:{url:{type:"string",validatorFn:"safeUrl"}}},{props:{data:{type:"object"}}}]},required:["attrs"]},fN={props:{type:{type:"enum",values:["status"]},attrs:{props:{text:{type:"string",minLength:1},color:{type:"enum",values:["neutral","purple","blue","red","yellow","green"]},localId:{type:"string",optional:!0},style:{type:"string",optional:!0}}}}},pN={props:{type:{type:"enum",values:["text"]},text:{type:"string",minLength:1},marks:{type:"array",items:[],optional:!0}}},hN={props:{type:{type:"enum",values:["media"]},attrs:[{props:{type:{type:"enum",values:["link","file"]},id:{type:"string",minLength:1},collection:{type:"string"},height:{type:"number",optional:!0},width:{type:"number",optional:!0},occurrenceKey:{type:"string",minLength:1,optional:!0},alt:{type:"string",optional:!0}}},{props:{type:{type:"enum",values:["external"]},url:{type:"string"},alt:{type:"string",optional:!0},width:{type:"number",optional:!0},height:{type:"number",optional:!0}}}],marks:{type:"array",items:[["link","annotation","border"]],optional:!0}},required:["attrs"]},mN={props:{type:{type:"enum",values:["mediaInline"]},attrs:{props:{data:{type:"object",optional:!0},type:{type:"enum",values:["link","file","image"],optional:!0},id:{type:"string",minLength:1},collection:{type:"string"},height:{type:"number",optional:!0},width:{type:"number",optional:!0},occurrenceKey:{type:"string",minLength:1,optional:!0},alt:{type:"string",optional:!0}}},marks:{type:"array",items:[["link","annotation","border"]],optional:!0}}},gN=["text",{props:{marks:{type:"array",items:[["em","strike","strong","underline","link","subsup","textColor","annotation"]],optional:!0}}}],yN=["text",{props:{marks:{type:"array",items:["link"],optional:!0}}}],bN=["text",{props:{marks:{type:"array",items:[["code","link","annotation"]],optional:!0}}}],vN=["hardBreak","mention","emoji","inlineExtension_with_marks","date","placeholder","inlineCard","status","mediaInline"],kN=["hardBreak","mention","emoji","inlineExtension_with_marks","date","placeholder","inlineCard","status","mediaInline","formatted_text_inline","code_inline"],xN={props:{type:{type:"enum",values:["paragraph"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},marks:{type:"array",items:[],optional:!0}}},EN=["paragraph",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],wN=["paragraph",{props:{marks:{type:"array",items:["alignment"],optional:!0}}}],_N=["paragraph",{props:{marks:{type:"array",items:["indentation"],optional:!0}}}],SN={props:{type:{type:"enum",values:["caption"]},content:{type:"array",items:[["hardBreak","mention","emoji","date","placeholder","inlineCard","status","formatted_text_inline","code_inline"]],minItems:0,allowUnsupportedInline:!0}}},AN={props:{type:{type:"enum",values:["mediaSingle"]},attrs:[{props:{widthType:{type:"enum",values:["percentage"],optional:!0},width:{type:"number",minimum:0,maximum:100,optional:!0},layout:{type:"enum",values:["wide","full-width","center","wrap-right","wrap-left","align-end","align-start"]}}},{props:{width:{type:"number",minimum:0},widthType:{type:"enum",values:["pixel"]},layout:{type:"enum",values:["wide","full-width","center","wrap-right","wrap-left","align-end","align-start"]}}}],marks:{type:"array",items:["link"],optional:!0}}},CN=["mediaSingle",{props:{content:{type:"array",items:["media","caption"],isTupleLike:!0,minItems:1,maxItems:2,allowUnsupportedBlock:!0}}}],DN=["mediaSingle",{props:{content:{type:"array",items:["media"],minItems:1,maxItems:1,allowUnsupportedBlock:!0}}}],MN={props:{type:{type:"enum",values:["codeBlock"]},content:{type:"array",items:[["text",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}]],allowUnsupportedInline:!0,optional:!0},marks:{type:"array",items:[],optional:!0},attrs:{props:{language:{type:"string",optional:!0}},optional:!0}}},TN=["codeBlock",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],RN=["codeBlock",{props:{marks:{type:"array",items:["breakout"],optional:!0}}}],NN={props:{type:{type:"enum",values:["taskItem"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},attrs:{props:{localId:{type:"string"},state:{type:"enum",values:["TODO","DONE"]}}}}},ON={props:{type:{type:"enum",values:["taskList"]},content:{type:"array",items:["taskItem",["taskItem","taskList"]],isTupleLike:!0,minItems:1,allowUnsupportedBlock:!0},attrs:{props:{localId:{type:"string"}}}}},LN={props:{type:{type:"enum",values:["listItem"]},content:{type:"array",items:[["paragraph_with_no_marks","mediaSingle_caption","mediaSingle_full","codeBlock_with_no_marks"],["paragraph_with_no_marks","mediaSingle_caption","mediaSingle_full","codeBlock_with_no_marks","taskList","bulletList","orderedList"]],isTupleLike:!0,minItems:1,allowUnsupportedBlock:!0}}},FN={props:{type:{type:"enum",values:["bulletList"]},content:{type:"array",items:["listItem"],minItems:1}}},IN={props:{type:{type:"enum",values:["orderedList"]},content:{type:"array",items:["listItem"],minItems:1},attrs:{props:{order:{type:"number",minimum:0,optional:!0}},optional:!0}}},PN={props:{type:{type:"enum",values:["heading"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},marks:{type:"array",items:[],optional:!0},attrs:{props:{level:{type:"number",minimum:1,maximum:6}}}}},$N=["heading",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],zN=["heading",{props:{marks:{type:"array",items:["alignment"],optional:!0}}}],BN=["heading",{props:{marks:{type:"array",items:["indentation"],optional:!0}}}],qN={props:{type:{type:"enum",values:["mediaGroup"]},content:{type:"array",items:["media"],minItems:1,allowUnsupportedBlock:!0}}},VN={props:{type:{type:"enum",values:["decisionItem"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},attrs:{props:{localId:{type:"string"},state:{type:"string"}}}}},UN={props:{type:{type:"enum",values:["decisionList"]},content:{type:"array",items:["decisionItem"],minItems:1,allowUnsupportedBlock:!0},attrs:{props:{localId:{type:"string"}}}}},jN={props:{type:{type:"enum",values:["rule"]}}},GN={props:{type:{type:"enum",values:["panel"]},attrs:{props:{panelType:{type:"enum",values:["info","note","tip","warning","error","success","custom"]},panelIcon:{type:"string",optional:!0},panelIconId:{type:"string",optional:!0},panelIconText:{type:"string",optional:!0},panelColor:{type:"string",optional:!0}}},content:{type:"array",items:[["blockCard","paragraph_with_no_marks","mediaSingle_caption","mediaSingle_full","codeBlock_with_no_marks","taskList","bulletList","orderedList","heading_with_no_marks","mediaGroup","decisionList","rule"]],minItems:1,allowUnsupportedBlock:!0}}},HN={props:{type:{type:"enum",values:["blockquote"]},content:{type:"array",items:[["paragraph_with_no_marks","bulletList","orderedList"]],minItems:1,allowUnsupportedBlock:!0}}},WN={props:{type:{type:"enum",values:["extension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0},layout:{type:"enum",values:["wide","full-width","default"],optional:!0},localId:{type:"string",minLength:1,optional:!0}}},marks:{type:"array",items:[],optional:!0}}},KN=["extension",{props:{marks:{type:"array",items:[["dataConsumer","fragment"]],optional:!0}}}],XN={props:{type:{type:"enum",values:["embedCard"]},attrs:{props:{originalWidth:{type:"number",optional:!0},originalHeight:{type:"number",optional:!0},url:{type:"string",validatorFn:"safeUrl"},width:{type:"number",minimum:0,maximum:100,optional:!0},layout:{type:"enum",values:["wide","full-width","center","wrap-right","wrap-left","align-end","align-start"]}}}}},ZN={type:"array",items:[["paragraph_with_no_marks","mediaSingle_caption","mediaSingle_full","codeBlock_with_no_marks","taskList","bulletList","orderedList","heading_with_no_marks","mediaGroup","decisionList","rule","panel","blockquote"]],minItems:1,allowUnsupportedBlock:!0},YN={props:{type:{type:"enum",values:["nestedExpand"]},attrs:{props:{title:{type:"string",optional:!0}}},content:"nestedExpand_content"},required:["content"]},QN=["nestedExpand",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],JN={props:{type:{type:"enum",values:["table"]},attrs:{props:{isNumberColumnEnabled:{type:"boolean",optional:!0},layout:{type:"enum",values:["wide","full-width","center","align-end","align-start","default"],optional:!0},localId:{type:"string",minLength:1,optional:!0},width:{type:"number",optional:!0},displayMode:{type:"enum",values:["default","fixed"],optional:!0}},optional:!0},content:{type:"array",items:["tableRow"],minItems:1},marks:{type:"array",items:["fragment"],optional:!0}}},eO={props:{type:{type:"enum",values:["tableRow"]},content:{type:"array",items:[["tableCell","tableHeader"]]}}},tO={type:"array",items:[["blockCard","paragraph_with_no_marks","paragraph_with_alignment","mediaSingle_caption","mediaSingle_full","codeBlock_with_no_marks","taskList","bulletList","orderedList","heading_with_no_marks","heading_with_alignment","heading_with_indentation","mediaGroup","decisionList","rule","panel","blockquote","extension_with_marks","embedCard","nestedExpand_with_no_marks"]],minItems:1,allowUnsupportedBlock:!0},nO={props:{type:{type:"enum",values:["tableCell"]},attrs:{props:{colspan:{type:"number",optional:!0},rowspan:{type:"number",optional:!0},colwidth:{type:"array",items:[{type:"number"}],optional:!0},background:{type:"string",optional:!0}},optional:!0},content:"tableCell_content"},required:["content"]},rO={props:{type:{type:"enum",values:["tableHeader"]},attrs:{props:{colspan:{type:"number",optional:!0},rowspan:{type:"number",optional:!0},colwidth:{type:"array",items:[{type:"number"}],optional:!0},background:{type:"string",optional:!0}},optional:!0},content:"tableCell_content"},required:["content"]},oO=["blockCard","paragraph_with_no_marks","mediaSingle_caption","mediaSingle_full","codeBlock_with_no_marks","taskList","bulletList","orderedList","heading_with_no_marks","mediaGroup","decisionList","rule","panel","blockquote","extension_with_marks","embedCard","table"],sO={props:{type:{type:"enum",values:["expand"]},attrs:{props:{title:{type:"string",optional:!0}}},content:{type:"array",items:["non_nestable_block_content"],minItems:1,allowUnsupportedBlock:!0},marks:{type:"array",items:[],optional:!0}}},iO=["expand",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],aO=["expand",{props:{marks:{type:"array",items:["breakout"],optional:!0}}}],lO={props:{type:{type:"enum",values:["bodiedExtension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0},layout:{type:"enum",values:["wide","full-width","default"],optional:!0},localId:{type:"string",minLength:1,optional:!0}}},marks:{type:"array",items:[],optional:!0},content:{type:"array",items:["non_nestable_block_content"],minItems:1,allowUnsupportedBlock:!0}}},cO=["bodiedExtension",{props:{marks:{type:"array",items:[["dataConsumer","fragment"]],optional:!0}}}],uO=["blockCard","paragraph_with_no_marks","paragraph_with_alignment","paragraph_with_indentation","mediaSingle_caption","mediaSingle_full","codeBlock_with_no_marks","taskList","bulletList","orderedList","heading_with_no_marks","heading_with_alignment","heading_with_indentation","mediaGroup","decisionList","rule","panel","blockquote","extension_with_marks","embedCard","table","expand_with_no_mark","bodiedExtension_with_marks"],dO={props:{type:{type:"enum",values:["layoutColumn"]},attrs:{props:{width:{type:"number",minimum:0,maximum:100}}},content:{type:"array",items:["block_content"],minItems:1,allowUnsupportedBlock:!0}}},fO={props:{type:{type:"enum",values:["layoutSection"]},marks:{type:"array",items:["breakout"],optional:!0},content:{type:"array",items:["layoutColumn"]}}},pO=["layoutSection",{props:{type:{type:"enum",values:["layoutSection"]},marks:{type:"array",items:["breakout"],optional:!0},content:{type:"array",items:["layoutColumn"],minItems:2,maxItems:3,allowUnsupportedBlock:!0}}}],hO=["layoutSection",{props:{type:{type:"enum",values:["layoutSection"]},marks:{type:"array",items:["breakout"],optional:!0},content:{type:"array",items:["layoutColumn"],minItems:1,maxItems:3,allowUnsupportedBlock:!0}}}],mO={props:{type:{type:"enum",values:["extensionFrame"]},content:{type:"array",items:[["blockCard","paragraph_with_no_marks","mediaSingle_caption","mediaSingle_full","codeBlock_with_no_marks","taskList","bulletList","orderedList","heading_with_no_marks","mediaGroup","decisionList","rule","panel","blockquote","extension_with_marks","embedCard","table","bodiedExtension_with_marks"]],minItems:1},marks:{type:"array",items:[["dataConsumer","fragment"]],optional:!0}}},gO={props:{type:{type:"enum",values:["multiBodiedExtension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0},layout:{type:"enum",values:["wide","full-width","default"],optional:!0},localId:{type:"string",minLength:1,optional:!0}}},marks:{type:"array",items:[],optional:!0},content:{type:"array",items:["extensionFrame"]}}},yO={props:{version:{type:"enum",values:[1]},type:{type:"enum",values:["doc"]},content:{type:"array",items:[["blockCard","paragraph_with_no_marks","paragraph_with_alignment","paragraph_with_indentation","mediaSingle_caption","mediaSingle_full","codeBlock_with_no_marks","codeBlock_with_marks","taskList","bulletList","orderedList","heading_with_no_marks","heading_with_alignment","heading_with_indentation","mediaGroup","decisionList","rule","panel","blockquote","extension_with_marks","embedCard","table","expand_with_no_mark","expand_with_breakout_mark","bodiedExtension_with_marks","layoutSection_full","layoutSection_with_single_column","multiBodiedExtension"]],allowUnsupportedBlock:!0}}},bO=Object.freeze(Object.defineProperty({__proto__:null,alignment:YR,annotation:JR,atomic_inline:vN,blockCard:uN,block_content:uO,blockquote:HN,bodiedExtension:lO,bodiedExtension_with_marks:cO,border:nN,breakout:ZR,bulletList:FN,caption:SN,code:VR,codeBlock:MN,codeBlock_with_marks:RN,codeBlock_with_no_marks:TN,code_inline:bN,dataConsumer:eN,date:lN,decisionItem:VN,decisionList:UN,doc:yO,em:qR,embedCard:XN,emoji:sN,expand:sO,expand_with_breakout_mark:aO,expand_with_no_mark:iO,extension:WN,extensionFrame:mO,extension_with_marks:KN,formatted_text_inline:gN,fragment:tN,hardBreak:rN,heading:PN,heading_with_alignment:zN,heading_with_indentation:BN,heading_with_no_marks:$N,indentation:QR,inline:kN,inlineCard:dN,inlineExtension:iN,inlineExtension_with_marks:aN,inline_comment_marker:XR,layoutColumn:dO,layoutSection:fO,layoutSection_full:pO,layoutSection_with_single_column:hO,link:HR,link_text_inline:yN,listItem:LN,media:hN,mediaGroup:qN,mediaInline:mN,mediaSingle:AN,mediaSingle_caption:CN,mediaSingle_full:DN,mention:oN,multiBodiedExtension:gO,nestedExpand:YN,nestedExpand_content:ZN,nestedExpand_with_no_marks:QN,non_nestable_block_content:oO,orderedList:IN,panel:GN,paragraph:xN,paragraph_with_alignment:wN,paragraph_with_indentation:_N,paragraph_with_no_marks:EN,placeholder:cN,rule:jN,status:fN,strike:UR,strong:jR,subsup:WR,table:JN,tableCell:nO,tableCell_content:tO,tableHeader:rO,tableRow:eO,taskItem:NN,taskList:ON,text:pN,textColor:KR,underline:GR},Symbol.toStringTag,{value:"Module"})),vO={props:{type:{type:"enum",values:["inlineCard"]},attrs:[{props:{url:{type:"string",validatorFn:"safeUrl"}}},{props:{data:{type:"object"}}}],marks:{type:"array",items:["annotation"],optional:!0}},required:["attrs"]},Le=t=>t!=null,kO=t=>typeof t=="number"&&!isNaN(t)&&isFinite(t),xO=t=>typeof t=="number"&&isFinite(t)&&Math.floor(t)===t,EO=t=>t===!0||t===!1||toString.call(t)==="[object Boolean]",Kr=t=>typeof t=="string"||t instanceof String,wO=t=>typeof t=="object"&&t!==null&&!Array.isArray(t),_O=(t,e,n)=>(e[n]=t[n],e),_a=t=>Array.isArray(t)?t:[t],Bf={safeUrl:bi};function SO(t,e=n=>n){if(t.props&&t.props.marks){const{items:n,...r}=t.props.marks;return{...t,props:{...t.props,marks:{...r,items:n.length?Array.isArray(n[0])?n.map(e):[e(n)]:[[]]}}}}else return t}const ms=(t,e)=>Object.keys(t).reduce((n,r)=>{const o=e(r,t[r],t);return n[o?0:1].push(r),n},[[],[]]);function AO(t,e){let n={...bO};return GD("platform.editor.allow-inline-comments-for-inline-nodes")&&(n.inlineCard=vO),Object.keys(n).reduce((r,o)=>{const s={...n[o]};return s.props&&(s.props={...s.props},s.props.content&&(Kr(s.props.content)&&(s.props.content=n[s.props.content]),Array.isArray(s.props.content)?s.props.content={type:"array",items:(s.props.content||[]).map(i=>i.items)}:s.props.content={...s.props.content},s.props.content.items=s.props.content.items.map(i=>Kr(i)?Array.isArray(n[i])?n[i]:[i]:i).map(i=>i.map(a=>Array.isArray(n[a])?n[a]:Kr(a)?a:["text",a]).filter(a=>{if(t){if(Array.isArray(a)){var l,c,u;const d=t.indexOf(a[0])>-1;return d&&(l=a[1])!==null&&l!==void 0&&(c=l.props)!==null&&c!==void 0&&(u=c.content)!==null&&u!==void 0&&u.items?a[1].props.content.items.every(f=>t.indexOf(f)>-1):d}return t.indexOf(a)>-1}return!0}).map(a=>Array.isArray(a)&&e?[a[0],SO(a[1])]:a)))),r[o]=s,r},{})}function CO(t,e){if(!e)return{};for(let n=0,r=e.length;n<r;n++){const o=e[n];let s=o,i={};if(Array.isArray(o)&&([s,i]=o),s===t)return i}return!1}const DO=t=>!!t.props;function Xr(t,e){if(!Le(e))return!!t.optional;if(DO(t)){const[n,r]=ms(t.props,(o,s)=>Xr(s,e[o]));return r.length===0}if(!Le(t.type))return!!t.optional;switch(t.type){case"boolean":return EO(e);case"number":return kO(e)&&(Le(t.minimum)?t.minimum<=e:!0)&&(Le(t.maximum)?t.maximum>=e:!0);case"integer":return xO(e)&&(Le(t.minimum)?t.minimum<=e:!0)&&(Le(t.maximum)?t.maximum>=e:!0);case"string":const n=r=>typeof e=="string"&&Le(Bf[r])&&Bf[r](e);return Kr(e)&&(Le(t.minLength)?t.minLength<=e.length:!0)&&(Le(t.validatorFn)?n(t.validatorFn):!0)&&(t.pattern?new RegExp(t.pattern).test(e):!0);case"object":return wO(e);case"array":if(Array.isArray(e)){const r=!!t.isTupleLike,{minItems:o,maxItems:s}=t;if(o!==void 0&&e.length<o||s!==void 0&&e.length>s)return!1;if(r){const i=Math.min(t.items.length,e.length);return Array(i).fill(null).every((a,l)=>Xr(t.items[l],e[l]))}else return e.every(i=>t.items.some(a=>Xr(a,i)))}return!1;case"enum":return Kr(e)&&t.values.indexOf(e)>-1}return!1}const En=(t,e)=>`${t}: ${e}.`,ck=t=>{if(t&&t.props&&t.props.content){const{allowUnsupportedBlock:e,allowUnsupportedInline:n}=t.props.content;return{allowUnsupportedBlock:e,allowUnsupportedInline:n}}return{}},qf=(t,e,n)=>{const r=En(t.type,"invalid content");if(e)return e({...t},{code:"INVALID_CONTENT",message:r},ck(n));throw new Error(r)},Vf=(t,e,n,r)=>{const o=r||En(e.type,"unsupported mark");if(n)return n({...e},{code:t,message:o,meta:e},{allowUnsupportedBlock:!1,allowUnsupportedInline:!1,isMark:!0});throw new Error(o)},MO=(t,e,n,r,o)=>{if(o)return o({type:t.type},{code:e,message:r,meta:n},{allowUnsupportedBlock:!1,allowUnsupportedInline:!1,isMark:!1,isNodeAttribute:!0});throw new Error(r)};function sxe(t,e,n){const r=AO(t,e),{mode:o="strict",allowPrivateAttributes:s=!1}=n||{},i=(w,x,M,O)=>{const I=a(w,x,M,O);return{entity:I.entity,valid:I.valid}},a=(w,x,M,O,I=!1)=>{const{type:k}=w;let T={...w};const _=(G,j,Se)=>{const Nr=En(k,j);if(x)return{valid:!1,entity:x(T,{code:G,message:Nr,meta:Se},ck(O))};throw new Error(Nr)};if(k){const G=CO(k,M);if(G===!1)return I?{valid:!1}:_("INVALID_TYPE","type not allowed here");const j=r[k];if(!j)return _("INVALID_TYPE",`${k}: No validation spec found for type!`);const Se=q(j,G,w,_,T,k,x,I);if(Se.hasValidated&&Se.result)return Se.result}else return _("INVALID_TYPE","ProseMirror Node/Mark should contain a `type`");return{valid:!0,entity:T}};return i;function l(w,x,M,O,I){let k;if(w.props&&w.props.marks){const T=d(w),_=u(x,M,T,w);k={valid:!0,entity:O,marksValidationOutput:_}}else k=f(x,O,M,I);return k}function c(w,x){return{...w,...x,...w.props?{props:{...w.props,...x.props||{}}}:{}}}function u(w,x,M,O){return w.marks?w.marks.map(I=>{const k=e?e.indexOf(I.type)>-1:!0;if(o==="strict"&&k){const T=a(I,x,M,O,!0),_=T.entity;return _?{valid:!0,originalMark:I,newMark:_}:T.marksValidationOutput&&T.marksValidationOutput.length?{valid:!1,originalMark:I,errorCode:T.marksValidationOutput[0].errorCode,message:T.marksValidationOutput[0].message}:{valid:!1,originalMark:I,errorCode:"INVALID_TYPE"}}else return{valid:!1,originalMark:I,errorCode:"INVALID_CONTENT"}}):[]}function d(w){const{items:x}=w.props.marks;return x.length?Array.isArray(x[0])?x[0]:x:[]}function f(w,x,M,O){const I="REDUNDANT_MARKS",k=w.marks||[],T=k.map(_=>_.type==="unsupportedNodeAttribute"?_:Vf(I,_,M));return T.length?(x.marks=T,{valid:!0,entity:x}):O("REDUNDANT_MARKS","redundant marks",{marks:Object.keys(k)})}function p(w,x,M){let O={valid:!0,entity:x};return w.required&&(w.required.every(I=>Le(x[I]))||(O=M("MISSING_PROPERTIES","required prop missing"))),O}function h(w,x,M){let O={valid:!0,entity:x};return w.props.text&&Le(x.text)&&!Xr(w.props.text,x.text)&&(O=M("INVALID_TEXT","'text' validation failed")),O}function m(w,x,M){let O={valid:!0,entity:x};if(w.props.content&&x.content){const{minItems:I,maxItems:k}=w.props.content,T=x.content.length;Le(I)&&I>T?O=M("INVALID_CONTENT_LENGTH",`'content' should have more than ${I} child`,{length:T,requiredLength:I,type:"minimum"}):Le(k)&&k<T&&(O=M("INVALID_CONTENT_LENGTH",`'content' should have less than ${k} child`,{length:T,requiredLength:k,type:"maximum"}))}return O}function g(w,x){let M=[],O={};if(w.props&&w.props.attrs){const I=_a(w.props.attrs);for(let k=0,T=I.length;k<T;++k){const _=I[k];if(_&&_.props&&([,M]=ms(_.props,(G,j)=>{const Se=x.attrs[G];return Xr(j,Se)})),O=_,!M.length)break}}return{invalidAttrs:M,validatorAttrs:O}}function y(w,x,M,O,I){const k=w.props&&w.props.attrs;if(x.attrs){if(!k){if(O)return C(x,x.attrs);const j=Object.keys(x.attrs);return v(x,M,[],j,I)}const{hasUnsupportedAttrs:T,redundantAttrs:_,invalidAttrs:G}=b(w,x,x.attrs);if(T)return O?N(x,G,_):v(x,M,G,_,I)}return{valid:!0,entity:x}}function b(w,x,M){const O=g(w,x),{invalidAttrs:I}=O,k=O.validatorAttrs,_=Object.keys(M).filter(Se=>!(s&&Se.startsWith("__"))).filter(Se=>!k.props[Se]),G=_.length>0;return{hasUnsupportedAttrs:I.length||G,invalidAttrs:I,redundantAttrs:_}}function v(w,x,M,O,I){const k=M.concat(O);let T={valid:!0,entity:w};const _=En(w.type,"'attrs' validation failed"),G="UNSUPPORTED_ATTRIBUTES";return x.marks=E(w,x,k,G,_,I),T={valid:!0,entity:x},T}function N(w,x,M){let O="INVALID_ATTRIBUTES",I=En(w.type,"'attrs' validation failed");const k=M.length;return!(k&&x.length)&&k&&(O="REDUNDANT_ATTRIBUTES",I=En("redundant attributes found",M.join(", "))),{valid:!1,marksValidationOutput:[{valid:!0,originalMark:w,errorCode:O,message:I}]}}function C(w,x){const M=En("redundant attributes found",Object.keys(x).join(", "));return{valid:!1,marksValidationOutput:[{valid:!0,originalMark:w,errorCode:"REDUNDANT_ATTRIBUTES",message:M}]}}function E(w,x,M,O,I,k){let T={};for(let j in M)T[M[j]]=w.attrs&&w.attrs[M[j]],x.attrs&&delete x.attrs[M[j]];const _=MO(w,O,T,I,k),G={...x};if(G.marks){if(!_)return G.marks;const j=G.marks.find(Se=>Se.type===_.type);return j?j.attrs=_.attrs:G.marks.push(_),G.marks}else return[_]}function D(w,x,M,O,I){let k={valid:!0,entity:x};const[T,_]=ms(x,G=>Le(w.props[G]));if(_.length){if(o==="loose")O={type:I},T.reduce((G,j)=>_O(x,G,j),O);else if(!((_.indexOf("marks")>-1||_.indexOf("attrs")>-1)&&_.length===1))return M("REDUNDANT_PROPERTIES",`redundant props found: ${_.join(", ")}`,{props:_})}return k}function q(w,x,M,O,I,k,T,_){let G={hasValidated:!1};const j=c(w,x);if(!j)return G;const Se=p(j,M,O);if(!Se.valid)return{hasValidated:!0,result:Se};if(!j.props){const rt=Object.keys(M);return rt.length>1?{hasValidated:!0,result:O("REDUNDANT_PROPERTIES",`redundant props found: ${Object.keys(M).join(", ")}`,{props:rt})}:G}const Nr=h(j,M,O);if(!Nr.valid)return{hasValidated:!0,result:Nr};const Wu=m(j,M,O);if(!Wu.valid)return{hasValidated:!0,result:Wu};const[,Ku]=ms(j.props,(rt,Io)=>{var ot;return(Array.isArray(Io)?!((ot=j.required)!==null&&ot!==void 0&&ot.includes(rt)):Io.optional)||Le(M[rt])});if(Ku.length)return{hasValidated:!0,result:O("MISSING_PROPERTIES","required prop missing",{props:Ku})};const Fo=y(j,M,I,_,T);if(!Fo.valid)return{hasValidated:!0,result:Fo};if(_&&Fo.valid)return{hasValidated:!0,result:Fo};const Xu=D(j,M,O,I,k);if(!Xu.valid)return{hasValidated:!0,result:Xu};if(j.props.content){const rt=j.props.content;if(M.content){const Io=(ot,Zu)=>{if(ot===void 0)return ot;const Yu=(dt,qe,gn,yn,vt=!1)=>{let Po=!0;if(dt&&dt.marks&&qe){const Or=qe.filter(Ne=>Ne.valid),$o=qe.map(Ne=>Ne.valid?Ne.newMark:Or.length||yn||vt||Ne.errorCode==="INVALID_TYPE"||Ne.errorCode==="INVALID_CONTENT"||Ne.errorCode==="REDUNDANT_ATTRIBUTES"||Ne.errorCode==="INVALID_ATTRIBUTES"?Vf(Ne.errorCode,Ne.originalMark,gn,Ne.message):void 0).filter(Boolean);$o.length?dt.marks=$o:(delete dt.marks,Po=!1)}return{valid:Po,entity:dt}};if(!!rt.isTupleLike){const{entity:dt,marksValidationOutput:qe}=a(ot,T,_a(rt.items[Zu]||rt.items[rt.items.length-1]),j),{entity:gn}=Yu(dt,qe,T,!1,!0);return gn}const Ii=rt.items.filter(dt=>Array.isArray(dt)?dt.some(qe=>(Array.isArray(qe)?qe[0]:qe)===ot.type):!0);if(Ii.length){if(Ii.length>1)throw new Error("Consider using Tuple instead!");const qe=_a(Ii[0]).filter(vt=>(Array.isArray(vt)?vt[0]:vt)===ot.type);if(qe.length===0)return qf(ot,T,j);let gn,yn;for(let vt=0,Po=qe.length;vt<Po;vt++)try{const Or=[qe[vt]],{valid:$o,entity:Ne,marksValidationOutput:zx}=a(ot,T,Or,j);if($o){const Bx=vt===qe.length-1,{valid:qx,entity:zo}=Yu(Ne,zx,T,Bx),Vx=zo&&zo.marks&&zo.marks.filter(Ux=>Ux.type==="unsupportedMark")||[];if(qx&&!Vx.length)return zo;yn=yn||Ne}else yn=yn||Ne}catch(Or){gn=gn||Or}if(T)return yn;throw gn}else return qf(ot,T,j)};I.content=M.content.map(Io).filter(Boolean)}else if(!rt.optional)return{hasValidated:!0,result:O("MISSING_PROPERTIES","missing `content` prop")}}return M.marks?{hasValidated:!0,result:l(j,M,T,I,O)}:G}}const ixe=({leftCoverWidth:t,rightCoverWidth:e})=>{const n="var(--ds-space-100, 8px)",r=t||n,o=e||n;return hc`
/* shadow cover left */
  linear-gradient(
    to right,
    ${`var(--ds-background-neutral, ${ol})`} ${r},
    transparent ${r}
  ),
/* shadow cover background left */
  linear-gradient(
    to right,
    ${"var(--ds-surface-raised, transparent)"} ${r},
    transparent ${r}
  ),
/* shadow cover right */
  linear-gradient(
    to left,
    ${`var(--ds-background-neutral, ${ol})`} ${o},
    transparent ${o}
  ),
/* shadow cover background right */
  linear-gradient(
    to left,
    ${"var(--ds-surface-raised, transparent)"} ${o},
    transparent ${o}
  ),
/* overflow shadow right spread */
  linear-gradient(
    to left,
    ${"var(--ds-shadow-overflow-spread, rgba(9, 30, 66, 0.13))"} 0,
    ${"var(--ds-UNSAFE-transparent, rgba(99, 114, 130, 0))"}  ${n}
  ),
  /* overflow shadow right perimeter */
  linear-gradient(
    to left,
    ${"var(--ds-shadow-overflow-perimeter, transparent)"} 0,
    ${"var(--ds-UNSAFE-transparent, transparent)"}  ${n}
  ),
  /* overflow shadow left spread */
  linear-gradient(
    to right,
    ${"var(--ds-shadow-overflow-spread, rgba(9, 30, 66, 0.13))"} 0,
    ${"var(--ds-UNSAFE-transparent, rgba(99, 114, 130, 0))"}  ${n}
  ),
  /* overflow shadow left perimeter */
  linear-gradient(
    to right,
    ${"var(--ds-shadow-overflow-perimeter, transparent)"} 0,
    ${"var(--ds-UNSAFE-transparent, transparent)"}  ${n}
  )
`},Sa=HC,axe=new Set(Object.keys(Sa).filter(t=>Sa[t]&&Sa[t].group==="inline")),TO={canOverrideUnsupportedMark:()=>!0},RO={canOverrideUnsupportedMark:()=>!1},NO=t=>{switch(t){case"link":case"em":case"strong":case"strike":case"subsup":case"underline":case"code":case"textColor":case"confluenceInlineComment":case"breakout":case"alignment":case"indentation":case"border":return TO;default:return RO}};function Kn(t){let e={...t};return delete e.marks,e}function Uf(t){return mt(t,{text:n=>!n||!Array.isArray(n.marks)?n:{...n,marks:n.marks.filter(r=>r.type!=="typeAheadQuery")},status:n=>n.attrs&&n.attrs.text?Kn(n):!1,caption:n=>n.content?n:!1,emoji:Kn,mention:Kn,date:Kn,hardBreak:Kn,inlineCard:Kn})}let OO=function(t){return t.FINAL="final",t.STAGE_0="stage0",t}({});const de=t=>e=>e.type.name===t,LO=de("codeBlock"),FO=de("media"),IO=de("mediaInline"),PO=de("mediaSingle"),$O=de("mention"),zO=de("paragraph"),BO=de("heading"),qO=de("table"),VO=de("tableCell"),UO=de("tableHeader"),jO=de("link"),GO=de("unsupportedMark"),jf=de("unsupportedNodeAttribute"),HO=de("expand"),WO=de("nestedExpand"),KO=t=>de("unsupportedBlock")(t)||de("unsupportedInline")(t),XO=de("dataConsumer"),ZO=de("fragment"),uk=t=>{let e={...t};for(const n in e){const r=e[n];if(r===null){const{[n]:o,...s}=e;e=s}else typeof r=="object"&&!Array.isArray(r)&&(e[n]=uk(r))}return e},Nl=t=>({version:1,type:"doc",content:t||[]}),Gf=Nl([{type:"paragraph",content:[]}]),Ol=t=>{const e={type:t.type.name};if(KO(t))return t.attrs.originalValue;if(FO(t)?e.attrs=kl(t).attrs:PO(t)?e.attrs=Ub(t).attrs:IO(t)?e.attrs=kl(t).attrs:$O(t)?e.attrs=Db(t).attrs:LO(t)?e.attrs=bg(t).attrs:qO(t)?e.attrs=Wb(t).attrs:VO(t)?e.attrs=Zc(t).attrs:UO(t)?e.attrs=Yb(t).attrs:HO(t)||WO(t)?e.attrs=Gm(t).attrs:t.attrs&&Object.keys(t.attrs).length&&(e.attrs=t.attrs),e.attrs&&(e.attrs=uk(e.attrs)),t.isText?e.text=t.textContent:t.content.forEach(n=>{e.content=e.content||[],e.content.push(Ol(n))}),(zO(t)||BO(t))&&(e.content=e.content||[]),t.marks.length){const n=t.marks.map(o=>{if(GO(o))return YO(o,t.marks)?null:o.attrs.originalValue;if(jf(o))return null;if(jO(o))return nD(o);if(XO(o)){var s;const i=vD(o);return!i.attrs.sources||((s=i.attrs.sources)===null||s===void 0?void 0:s.length)===0?null:i}else if(ZO(o)){const i=ED(o);return i.attrs.localId?i:null}else return o.toJSON()}).filter(o=>o!==null);e.marks=(n==null?void 0:n.length)>0?n:void 0;const r=t.marks.find(jf);r&&r.attrs.type.nodeType===e.type&&(e.attrs={...QO(t,r,e)})}return e},YO=(t,e)=>e.some(n=>t.attrs.originalValue.type===n.type.name)?NO(t.attrs.originalValue.type).canOverrideUnsupportedMark():!1,QO=(t,e,n)=>{const r=t.type.spec.attrs,o={...e.attrs.unsupported,...n.attrs};for(var s in n.attrs)if(n.attrs.hasOwnProperty(s)){const i=r?r[s]:null;if(i&&i.default===t.attrs[s]&&e.attrs.unsupported[s])return{...o,[s]:e.attrs.unsupported[s]}}return o};class lxe{encode(e){const n=[];return e.content.forEach(r=>{n.push(Uf(Ol(r)))}),!n||jx(n,Gf.content)?Nl([]):Nl(n)}internalParse(e,n=OO.FINAL){const o=Sv(n).nodeFromJSON(e);return o.check(),o}parse(e,n){if(e.type!=="doc")throw new Error("Expected content format to be ADF");return!e.content||e.content.length===0?this.internalParse(Gf,n):this.internalParse(e,n)}encodeNode(e){return Uf(Ol(e))}}function _e(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}_e.EventEmitter=_e;_e.prototype._events=void 0;_e.prototype._maxListeners=void 0;_e.defaultMaxListeners=10;_e.prototype.setMaxListeners=function(t){if(!JO(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this};_e.prototype.emit=function(t){var e,n,r,o,s,i;if(this._events||(this._events={}),t==="error"&&(!this._events.error||uo(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var a=new Error('Uncaught, unspecified "error" event. ('+e+")");throw a.context=e,a}if(n=this._events[t],dk(n))return!1;if(Ht(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(uo(n))for(o=Array.prototype.slice.call(arguments,1),i=n.slice(),r=i.length,s=0;s<r;s++)i[s].apply(this,o);return!0};_e.prototype.addListener=function(t,e){var n;if(!Ht(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,Ht(e.listener)?e.listener:e),this._events[t]?uo(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,uo(this._events[t])&&!this._events[t].warned&&(dk(this._maxListeners)?n=_e.defaultMaxListeners:n=this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),typeof console.trace=="function"&&console.trace())),this};_e.prototype.on=_e.prototype.addListener;_e.prototype.once=function(t,e){if(!Ht(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this};_e.prototype.removeListener=function(t,e){var n,r,o,s;if(!Ht(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||Ht(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(uo(n)){for(s=o;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(r<0)return this;n.length===1?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this};_e.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[t]&&delete this._events[t],this;if(arguments.length===0){for(e in this._events)e!=="removeListener"&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],Ht(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this};_e.prototype.listeners=function(t){var e;return!this._events||!this._events[t]?e=[]:Ht(this._events[t])?e=[this._events[t]]:e=this._events[t].slice(),e};_e.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(Ht(e))return 1;if(e)return e.length}return 0};_e.listenerCount=function(t,e){return t.listenerCount(e)};function Ht(t){return typeof t=="function"}function JO(t){return typeof t=="number"}function uo(t){return typeof t=="object"&&t!==null}function dk(t){return t===void 0}const eL=A.lazy(()=>yo(()=>import("./index-NKeVeXIZ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33])).then(t=>({default:t.ConfluenceSearchConfigModal}))),cxe=t=>L.createElement(A.Suspense,{fallback:L.createElement("div",{"data-testid":"confluence-search-datasource-table-suspense"})},L.createElement(eL,t)),uxe="d8b75300-dfda-4519-b6cd-e49abbd50401",tL=A.lazy(()=>yo(()=>import("./index-L_ay8AnS.js"),__vite__mapDeps([34,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,35,26,27,28,29,30,36,32,33,31])).then(t=>({default:t.JiraIssuesConfigModal}))),dxe=t=>L.createElement(A.Suspense,{fallback:L.createElement("div",{"data-testid":"jira-datasource-table-suspense"})},L.createElement(tL,t)),fxe="361d618a-3c04-40ad-9b27-3c8ea6927020",nL=A.lazy(()=>yo(()=>import("./index-yln1rs47.js"),__vite__mapDeps([37,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,35,26,29,30,38,32,33,31])).then(t=>({default:t.AssetsConfigModal}))),pxe=t=>L.createElement(A.Suspense,{fallback:L.createElement("div",{"data-testid":"assets-aql-datasource-table-suspense"})},L.createElement(nL,t)),rL=A.lazy(()=>yo(()=>import("./datasourceTableView-Bpxnd40S.js"),__vite__mapDeps([39,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,35,32,33,31])).then(t=>({default:t.DatasourceTableView}))),hxe=t=>L.createElement(A.Suspense,{fallback:L.createElement("div",{"data-testid":"datasource-table-view-suspense"})},L.createElement(rL,t)),mxe=(t,e)=>({type:"blockCard",attrs:{url:e,datasource:t}}),oL=L.lazy(()=>yo(()=>import("./datasourceRenderFailedAnalyticsWrapper-DxnDBC_-.js"),__vite__mapDeps([40,1,2,3,4,5,6,7,8,9,10,11,12,32,33]))),gxe=t=>L.createElement(A.Suspense,{fallback:null},L.createElement(oL,t)),fk=t=>gu(e=>e.type.spec.tableRole&&e.type.spec.tableRole==="table")(t);function Pn(t){let e=t.cached.tableNodeTypes;if(!e){e={},t.cached.tableNodeTypes=e;for(const n in t.nodes){const r=t.nodes[n],o=r.spec.tableRole;o&&(e[o]=r)}}return e}const Fe=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},fo=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Hf=null;const Vt=function(t,e,n){let r=Hf||(Hf=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},$n=function(t,e,n,r){return n&&(Wf(t,e,n,r,-1)||Wf(t,e,n,r,1))},sL=/^(img|br|input|textarea|hr)$/i;function Wf(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:At(t))){let s=t.parentNode;if(!s||s.nodeType!=1||bu(t)||sL.test(t.nodeName)||t.contentEditable=="false")return!1;e=Fe(t)+(o<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(o<0?-1:0)],t.contentEditable=="false")return!1;e=o<0?At(t):0}else return!1}}function At(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function iL(t,e,n){for(let r=e==0,o=e==At(t);r||o;){if(t==n)return!0;let s=Fe(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,o=o&&s==At(t)}}function bu(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Ei=function(t){return t.focusNode&&$n(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function wn(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function aL(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function lL(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Ot=typeof navigator<"u"?navigator:null,Kf=typeof document<"u"?document:null,mn=Ot&&Ot.userAgent||"",Ll=/Edge\/(\d+)/.exec(mn),pk=/MSIE \d/.exec(mn),Fl=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(mn),He=!!(pk||Fl||Ll),an=pk?document.documentMode:Fl?+Fl[1]:Ll?+Ll[1]:0,gt=!He&&/gecko\/(\d+)/i.test(mn);gt&&+(/Firefox\/(\d+)/.exec(mn)||[0,0])[1];const Il=!He&&/Chrome\/(\d+)/.exec(mn),Me=!!Il,cL=Il?+Il[1]:0,Ie=!He&&!!Ot&&/Apple Computer/.test(Ot.vendor),Sr=Ie&&(/Mobile\/\w+/.test(mn)||!!Ot&&Ot.maxTouchPoints>2),st=Sr||(Ot?/Mac/.test(Ot.platform):!1),uL=Ot?/Win/.test(Ot.platform):!1,ft=/Android \d/.test(mn),Ro=!!Kf&&"webkitFontSmoothing"in Kf.documentElement.style,dL=Ro?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function fL(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function qt(t,e){return typeof t=="number"?t:t[e]}function pL(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Xf(t,e,n){let r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let i=n||t.dom;i;i=fo(i)){if(i.nodeType!=1)continue;let a=i,l=a==s.body,c=l?fL(s):pL(a),u=0,d=0;if(e.top<c.top+qt(r,"top")?d=-(c.top-e.top+qt(o,"top")):e.bottom>c.bottom-qt(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+qt(o,"top")-c.top:e.bottom-c.bottom+qt(o,"bottom")),e.left<c.left+qt(r,"left")?u=-(c.left-e.left+qt(o,"left")):e.right>c.right-qt(r,"right")&&(u=e.right-c.right+qt(o,"right")),u||d)if(l)s.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,p=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let h=a.scrollLeft-f,m=a.scrollTop-p;e={left:e.left-h,top:e.top-m,right:e.right-h,bottom:e.bottom-m}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(i).position))break}}function hL(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,o;for(let s=(e.left+e.right)/2,i=n+1;i<Math.min(innerHeight,e.bottom);i+=5){let a=t.root.elementFromPoint(s,i);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,o=l.top;break}}return{refDOM:r,refTop:o,stack:hk(t.dom)}}function hk(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=fo(r));return e}function mL({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;mk(n,r==0?0:r-e)}function mk(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:o,left:s}=t[n];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Xn=null;function gL(t){if(t.setActive)return t.setActive();if(Xn)return t.focus(Xn);let e=hk(t);t.focus(Xn==null?{get preventScroll(){return Xn={preventScroll:!0},!0}}:void 0),Xn||(Xn=!1,mk(e,0))}function gk(t,e){let n,r=2e8,o,s=0,i=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Vt(u).getClientRects();else continue;for(let p=0;p<f.length;p++){let h=f[p];if(h.top<=i&&h.bottom>=a){i=Math.max(h.bottom,i),a=Math.min(h.top,a);let m=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(m<r){n=u,r=m,o=m&&n.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,u.nodeType==1&&m&&(s=d+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!l&&h.left<=e.left&&h.right>=e.left&&(l=u,c={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(s=d+1)}}return!n&&l&&(n=l,o=c,r=0),n&&n.nodeType==3?yL(n,o):!n||r&&n.nodeType==1?{node:t,offset:s}:gk(n,o)}function yL(t,e){let n=t.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);let s=Yt(r,1);if(s.top!=s.bottom&&vu(e,s))return{node:t,offset:o+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function vu(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function bL(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function vL(t,e,n){let{node:r,offset:o}=gk(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let i=r.getBoundingClientRect();s=i.left!=i.right&&n.left>(i.left+i.right)/2?1:-1}return t.docView.posFromDOM(r,o,s)}function kL(t,e,n,r){let o=-1;for(let s=e,i=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent&&!i||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&!i&&(i=!0,l.left>r.left||l.top>r.top?o=a.posBefore:(l.right<r.left||l.bottom<r.top)&&(o=a.posAfter)),!a.contentDOM&&o<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}s=a.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n,-1)}function yk(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=o;;){let i=t.childNodes[s];if(i.nodeType==1){let a=i.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(vu(e,c))return yk(i,e,c)}}if((s=(s+1)%r)==o)break}return t}function xL(t,e){let n=t.dom.ownerDocument,r,o=0,s=lL(n,e.left,e.top);s&&({node:r,offset:o}=s);let i=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!i||!t.dom.contains(i.nodeType!=1?i.parentNode:i)){let c=t.dom.getBoundingClientRect();if(!vu(e,c)||(i=yk(t.dom,e,c),!i))return null}if(Ie)for(let c=i;r&&c;c=fo(c))c.draggable&&(r=void 0);if(i=bL(i,e),r){if(gt&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let u=r.childNodes[o],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&o++}let c;Ro&&o&&r.nodeType==1&&(c=r.childNodes[o-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&o--,r==t.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(a=kL(t,r,o,e))}a==null&&(a=vL(t,i,e));let l=t.docView.nearestDesc(i,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function Zf(t){return t.top<t.bottom||t.left<t.right}function Yt(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Zf(r))return r}return Array.prototype.find.call(n,Zf)||t.getBoundingClientRect()}const EL=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function bk(t,e,n){let{node:r,offset:o,atom:s}=t.docView.domFromPos(e,n<0?-1:1),i=Ro||gt;if(r.nodeType==3)if(i&&(EL.test(r.nodeValue)||(n<0?!o:o==r.nodeValue.length))){let l=Yt(Vt(r,o,o),n);if(gt&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let c=Yt(Vt(r,o-1,o-1),-1);if(c.top==l.top){let u=Yt(Vt(r,o,o+1),-1);if(u.top!=l.top)return Ir(u,u.left<c.left)}}return l}else{let l=o,c=o,u=n<0?1:-1;return n<0&&!o?(c++,u=-1):n>=0&&o==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Ir(Yt(Vt(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&o&&(n<0||o==At(r))){let l=r.childNodes[o-1];if(l.nodeType==1)return Aa(l.getBoundingClientRect(),!1)}if(s==null&&o<At(r)){let l=r.childNodes[o];if(l.nodeType==1)return Aa(l.getBoundingClientRect(),!0)}return Aa(r.getBoundingClientRect(),n>=0)}if(s==null&&o&&(n<0||o==At(r))){let l=r.childNodes[o-1],c=l.nodeType==3?Vt(l,At(l)-(i?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Ir(Yt(c,1),!1)}if(s==null&&o<At(r)){let l=r.childNodes[o];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?Vt(l,0,i?0:1):l.nodeType==1?l:null:null;if(c)return Ir(Yt(c,-1),!0)}return Ir(Yt(r.nodeType==3?Vt(r):r,-n),n>=0)}function Ir(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Aa(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function vk(t,e,n){let r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}function wL(t,e,n){let r=e.selection,o=n=="up"?r.$from:r.$to;return vk(t,e,()=>{let{node:s}=t.docView.domFromPos(o.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let i=bk(t,o.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Vt(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?i.top-u.top>(u.bottom-i.top)*2:u.bottom-i.bottom>(i.bottom-u.top)*2))return!1}}return!0})}const _L=/[\u0590-\u08ac]/;function SL(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,s=!o,i=o==r.parent.content.size,a=t.domSelection();return!_L.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:i:vk(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),f=a.caretBidiLevel;a.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:h,focusOffset:m}=t.domSelectionRange(),g=h&&!p.contains(h.nodeType==1?h:h.parentNode)||l==h&&c==m;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return f!=null&&(a.caretBidiLevel=f),g})}let Yf=null,Qf=null,Jf=!1;function AL(t,e,n){return Yf==e&&Qf==n?Jf:(Yf=e,Qf=n,Jf=n=="up"||n=="down"?wL(t,e,n):SL(t,e,n))}const it=0,ep=1,Sn=2,Lt=3;class No{constructor(e,n,r,o){this.parent=e,this.children=n,this.dom=r,this.contentDOM=o,this.dirty=it,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let o=this.children[n];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,i;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((i=s.pmViewDesc)&&i.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(i)+i.size:this.posAtStart}else{let s,i;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((i=s.pmViewDesc)&&i.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(i):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=n>Fe(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!1;break}if(s.previousSibling)break}if(o==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!0;break}if(s.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,o=e;o;o=o.parentNode){let s=this.getDesc(o),i;if(s&&(!n||s.node))if(r&&(i=s.nodeDOM)&&!(i.nodeType==1?i.contains(e.nodeType==1?e:e.parentNode):i==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let o=e;o;o=o.parentNode){let s=this.getDesc(o);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let o=this.children[n],s=r+o.size;if(r==e&&s!=r){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<s)return o.descAt(e-r-o.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let s=0;r<this.children.length;r++){let i=this.children[r],a=s+i.size;if(a>e||i instanceof xk){o=e-s;break}s=a}if(o)return this.children[r].domFromPos(o-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof kk&&s.side>=0;r--);if(n<=0){let s,i=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,i=!1);return s&&n&&i&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?Fe(s.dom)+1:0}}else{let s,i=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,i=!1);return s&&i&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?Fe(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,s=-1;for(let i=r,a=0;;a++){let l=this.children[a],c=i+l.size;if(o==-1&&e<=c){let u=i+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=i;for(let d=a;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){o=Fe(f.dom)+1;break}e-=f.size}o==-1&&(o=0)}if(o>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=Fe(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:e,to:n,fromOffset:o,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,o=!1){let s=Math.min(e,n),i=Math.max(e,n);for(let f=0,p=0;f<this.children.length;f++){let h=this.children[f],m=p+h.size;if(s>p&&i<m)return h.setSelection(e-p-h.border,n-p-h.border,r,o);p=m}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((gt||Ie)&&e==n){let{node:f,offset:p}=a;if(f.nodeType==3){if(u=!!(p&&f.nodeValue[p-1]==`
`),u&&p==f.nodeValue.length)for(let h=f,m;h;h=h.parentNode){if(m=h.nextSibling){m.nodeName=="BR"&&(a=l={node:m.parentNode,offset:Fe(m)+1});break}let g=h.pmViewDesc;if(g&&g.node&&g.node.isBlock)break}}else{let h=f.childNodes[p-1];u=h&&(h.nodeName=="BR"||h.contentEditable=="false")}}if(gt&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let f=c.focusNode.childNodes[c.focusOffset];f&&f.contentEditable=="false"&&(o=!0)}if(!(o||u&&Ie)&&$n(a.node,a.offset,c.anchorNode,c.anchorOffset)&&$n(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==n)&&!u){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let p=a;a=l,l=p}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,o=0;o<this.children.length;o++){let s=this.children[o],i=r+s.size;if(r==i?e<=i&&n>=r:e<i&&n>r){let a=r+s.border,l=i-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==i?Sn:ep,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Lt:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Sn:Lt}r=i}this.dirty=Sn}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Sn:ep;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class kk extends No{constructor(e,n,r,o){let s,i=n.type.toDOM;if(typeof i=="function"&&(i=i(r,()=>{if(!s)return o;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(i.nodeType!=1){let a=document.createElement("span");a.appendChild(i),i=a}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==it&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class CL extends No{constructor(e,n,r,o){super(e,[],n,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class zn extends No{constructor(e,n,r,o){super(e,[],r,o),this.mark=n}static create(e,n,r,o){let s=o.nodeViews[n.type.name],i=s&&s(n,o,r);return(!i||!i.dom)&&(i=jt.renderSpec(document,n.type.spec.toDOM(n,r))),new zn(e,n,i.dom,i.contentDOM||i.dom)}parseRule(){return this.dirty&Lt||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Lt&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=it){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=it}}slice(e,n,r){let o=zn.create(this.parent,this.mark,!0,r),s=this.children,i=this.size;n<i&&(s=zl(s,n,i,r)),e>0&&(s=zl(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=o;return o.children=s,o}}class ln extends No{constructor(e,n,r,o,s,i,a,l,c){super(e,[],s,i),this.node=n,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=a}static create(e,n,r,o,s,i){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return i;if(l.parent)return l.parent.posBeforeChild(l)},r,o),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=jt.renderSpec(document,n.type.spec.toDOM(n)));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let f=u;return u=_k(u,r,n),c?l=new DL(e,n,r,o,u,d||null,f,c,s,i+1):n.isText?new wi(e,n,r,o,u,f,s):new ln(e,n,r,o,u,d||null,f,s,i+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>S.empty)}return e}matchesNode(e,n,r){return this.dirty==it&&e.eq(this.node)&&$l(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,o=n,s=e.composing?this.localCompositionInfo(e,n):null,i=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new TL(this,i&&i.node,e);OL(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Z.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,o)},(c,u,d,f)=>{l.syncToMarks(c.marks,r,e);let p;l.findNodeMatch(c,u,d,f)||a&&e.state.selection.from>o&&e.state.selection.to<o+c.nodeSize&&(p=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,d,p,e)||l.updateNextNode(c,u,d,e,f,o)||l.addNode(c,u,d,e,o),o+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Sn)&&(i&&this.protectLocalComposition(e,i),Ek(this.contentDOM,this.children,e),Sr&&LL(this.dom))}localCompositionInfo(e,n){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof U)||r<n||o>n+this.node.content.size)return null;let s=e.domSelectionRange(),i=FL(s.focusNode,s.focusOffset);if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let a=i.nodeValue,l=IL(this.node.content,a,r-n,o-n);return l<0?null:{node:i,pos:l,text:a}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:o}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let i=new CL(this,s,n,o);e.input.compositionNodes.push(i),this.children=zl(this.children,r,r+o.length,e,i)}update(e,n,r,o){return this.dirty==Lt||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,o),!0)}updateInner(e,n,r,o){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=it}updateOuterDeco(e){if($l(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=wk(this.dom,this.nodeDOM,Pl(this.outerDeco,this.node,n),Pl(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function tp(t,e,n,r,o){_k(r,e,t);let s=new ln(void 0,t,e,n,r,r,r,o,0);return s.contentDOM&&s.updateChildren(o,0),s}class wi extends ln{constructor(e,n,r,o,s,i,a){super(e,n,r,o,s,null,i,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,o){return this.dirty==Lt||this.dirty!=it&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=it||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=it,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let o=this.node.cut(e,n),s=document.createTextNode(o.text);return new wi(this.parent,o,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Lt)}get domAtom(){return!1}}class xk extends No{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==it&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class DL extends ln{constructor(e,n,r,o,s,i,a,l,c,u){super(e,n,r,o,s,i,a,c,u),this.spec=l}update(e,n,r,o){if(this.dirty==Lt)return!1;if(this.spec.update){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,o),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Ek(t,e,n){let r=t.firstChild,o=!1;for(let s=0;s<e.length;s++){let i=e[s],a=i.dom;if(a.parentNode==t){for(;a!=r;)r=np(r),o=!0;r=r.nextSibling}else o=!0,t.insertBefore(a,r);if(i instanceof zn){let l=r?r.previousSibling:t.lastChild;Ek(i.contentDOM,i.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=np(r),o=!0;o&&n.trackWrites==t&&(n.trackWrites=null)}const Zr=function(t){t&&(this.nodeName=t)};Zr.prototype=Object.create(null);const An=[new Zr];function Pl(t,e,n){if(t.length==0)return An;let r=n?An[0]:new Zr,o=[r];for(let s=0;s<t.length;s++){let i=t[s].type.attrs;if(i){i.nodeName&&o.push(r=new Zr(i.nodeName));for(let a in i){let l=i[a];l!=null&&(n&&o.length==1&&o.push(r=new Zr(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return o}function wk(t,e,n,r){if(n==An&&r==An)return e;let o=e;for(let s=0;s<r.length;s++){let i=r[s],a=n[s];if(s){let l;a&&a.nodeName==i.nodeName&&o!=t&&(l=o.parentNode)&&l.nodeName.toLowerCase()==i.nodeName||(l=document.createElement(i.nodeName),l.pmIsDeco=!0,l.appendChild(o),a=An[0]),o=l}ML(o,a||An[0],i)}return o}function ML(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)o.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<o.length;s++)r.indexOf(o[s])==-1&&t.classList.add(o[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)t.style.removeProperty(o[1])}n.style&&(t.style.cssText+=n.style)}}function _k(t,e,n){return wk(t,t,An,Pl(e,n,t.nodeType!=1))}function $l(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function np(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class TL{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=RL(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let o=0,s=this.stack.length>>1,i=Math.min(s,e.length);for(;o<i&&(o==s-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<s;)this.destroyRest(),this.top.dirty=it,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=zn.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,o){let s=-1,i;if(o>=this.preMatch.index&&(i=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&i.matchesNode(e,n,r))s=this.top.children.indexOf(i,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,o,s){let i=this.top.children[o];return i.dirty==Lt&&i.dom==i.contentDOM&&(i.dirty=Sn),i.update(e,n,r,s)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=n}}updateNextNode(e,n,r,o,s,i){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof ln){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,d,f=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Lt&&$l(n,l.outerDeco));if(!f&&l.update(e,n,r,o))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,e,n,r,o,i)))return this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Sn,d.updateChildren(o,i+1),d.dirty=it),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,o,s,i){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let a=ln.create(this.top,n,r,o,s,i);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,o,s){let i=ln.create(this.top,e,n,r,o,s);i.contentDOM&&i.updateChildren(o,s+1),this.top.children.splice(this.index++,0,i),this.changed=!0}placeWidget(e,n,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let s=new kk(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof zn;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof wi)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ie||Me)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new xk(this.top,[],r,null);n!=this.top?n.children.push(o):n.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function RL(t,e){let n=e,r=n.children.length,o=t.childCount,s=new Map,i=[];e:for(;o>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof zn)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(o-1))break;--o,s.set(a,o),i.push(a)}}return{index:o,matched:s,matches:i.reverse()}}function NL(t,e){return t.type.side-e.type.side}function OL(t,e,n,r){let o=e.locals(t),s=0;if(o.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,o,e.forChild(s,u),c),s+=u.nodeSize}return}let i=0,a=[],l=null;for(let c=0;;){let u,d;for(;i<o.length&&o[i].to==s;){let g=o[i++];g.widget&&(u?(d||(d=[u])).push(g):u=g)}if(u)if(d){d.sort(NL);for(let g=0;g<d.length;g++)n(d[g],c,!!l)}else n(u,c,!!l);let f,p;if(l)p=-1,f=l,l=null;else if(c<t.childCount)p=c,f=t.child(c++);else break;for(let g=0;g<a.length;g++)a[g].to<=s&&a.splice(g--,1);for(;i<o.length&&o[i].from<=s&&o[i].to>s;)a.push(o[i++]);let h=s+f.nodeSize;if(f.isText){let g=h;i<o.length&&o[i].from<g&&(g=o[i].from);for(let y=0;y<a.length;y++)a[y].to<g&&(g=a[y].to);g<h&&(l=f.cut(g-s),f=f.cut(0,g-s),h=g,p=-1)}let m=f.isInline&&!f.isLeaf?a.filter(g=>!g.inline):a.slice();r(f,m,e.forChild(s,f),p),s=h}}function LL(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function FL(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=At(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function IL(t,e,n,r){for(let o=0,s=0;o<t.childCount&&s<=r;){let i=t.child(o++),a=s;if(s+=i.nodeSize,!i.isText)continue;let l=i.text;for(;o<t.childCount;){let c=t.child(o++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function zl(t,e,n,r,o){let s=[];for(let i=0,a=0;i<t.length;i++){let l=t[i],c=a,u=a+=l.size;c>=n||u<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,r)),o&&(s.push(o),o=void 0),u>n&&s.push(l.slice(n-c,l.size,r)))}return s}function ku(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let o=t.docView.nearestDesc(n.focusNode),s=o&&o.size==0,i=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(i<0)return null;let a=r.resolve(i),l,c;if(Ei(n)){for(l=a;o&&!o.node;)o=o.parent;let u=o.node;if(o&&u.isAtom&&P.isSelectable(u)&&o.parent&&!(u.isInline&&iL(n.focusNode,n.focusOffset,o.dom))){let d=o.posBefore;c=new P(i==d?a:r.resolve(d))}}else{let u=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null;l=r.resolve(u)}if(!c){let u=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=xu(t,l,a,u)}return c}function Sk(t){return t.editable?t.hasFocus():Ck(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Gt(t,e=!1){let n=t.state.selection;if(Ak(t,n),!!Sk(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Me){let r=t.domSelectionRange(),o=t.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&$n(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)$L(t);else{let{anchor:r,head:o}=n,s,i;rp&&!(n instanceof U)&&(n.$from.parent.inlineContent||(s=op(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(i=op(t,n.to))),t.docView.setSelection(r,o,t.root,e),rp&&(s&&sp(s),i&&sp(i)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&PL(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const rp=Ie||Me&&cL<63;function op(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),o=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Ie&&o&&o.contentEditable=="false")return Ca(o);if((!o||o.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(o)return Ca(o);if(s)return Ca(s)}}function Ca(t){return t.contentEditable="true",Ie&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function sp(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function PL(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=o)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Sk(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function $L(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,o=r.nodeName=="IMG";o?n.setEnd(r.parentNode,Fe(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&He&&an<=11&&(r.disabled=!0,r.disabled=!1)}function Ak(t,e){if(e instanceof P){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(ip(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else ip(t)}function ip(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function xu(t,e,n,r){return t.someProp("createSelectionBetween",o=>o(t,e,n))||U.between(e,n,r)}function ap(t){return t.editable&&!t.hasFocus()?!1:Ck(t)}function Ck(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function zL(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return $n(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Bl(t,e){let{$anchor:n,$head:r}=t.selection,o=e>0?n.max(r):n.min(r),s=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return s&&V.findFrom(s,e)}function Jt(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function lp(t,e,n){let r=t.state.selection;if(r instanceof U)if(n.indexOf("s")>-1){let{$head:o}=r,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let i=t.state.doc.resolve(o.pos+s.nodeSize*(e<0?-1:1));return Jt(t,new U(r.$anchor,i))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let o=Bl(t.state,e);return o&&o instanceof P?Jt(t,o):!1}else if(!(st&&n.indexOf("m")>-1)){let o=r.$head,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,i;if(!s||s.isText)return!1;let a=e<0?o.pos-s.nodeSize:o.pos;return s.isAtom||(i=t.docView.descAt(a))&&!i.contentDOM?P.isSelectable(s)?Jt(t,new P(e<0?t.state.doc.resolve(o.pos-s.nodeSize):o)):Ro?Jt(t,new U(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof P&&r.node.isInline)return Jt(t,new U(e>0?r.$to:r.$from));{let o=Bl(t.state,e);return o?Jt(t,o):!1}}}function $s(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Yr(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Zn(t,e){return e<0?BL(t):qL(t)}function BL(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o,s,i=!1;for(gt&&n.nodeType==1&&r<$s(n)&&Yr(n.childNodes[r],-1)&&(i=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Yr(a,-1))o=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(Dk(n))break;{let a=n.previousSibling;for(;a&&Yr(a,-1);)o=n.parentNode,s=Fe(a),a=a.previousSibling;if(a)n=a,r=$s(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}i?ql(t,n,r):o&&ql(t,o,s)}function qL(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let o=$s(n),s,i;for(;;)if(r<o){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Yr(a,1))s=n,i=++r;else break}else{if(Dk(n))break;{let a=n.nextSibling;for(;a&&Yr(a,1);)s=a.parentNode,i=Fe(a)+1,a=a.nextSibling;if(a)n=a,r=0,o=$s(n);else{if(n=n.parentNode,n==t.dom)break;r=o=0}}}s&&ql(t,s,i)}function Dk(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function VL(t,e){for(;t&&e==t.childNodes.length&&!bu(t);)e=Fe(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function UL(t,e){for(;t&&!e&&!bu(t);)e=Fe(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function ql(t,e,n){if(e.nodeType!=3){let s,i;(i=VL(e,n))?(e=i,n=0):(s=UL(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(Ei(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:o}=t;setTimeout(()=>{t.state==o&&Gt(t)},50)}function cp(t,e){let n=t.state.doc.resolve(e);if(!(Me||uL)&&n.parent.inlineContent){let o=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),i=(s.top+s.bottom)/2;if(i>o.top&&i<o.bottom&&Math.abs(s.left-o.left)>1)return s.left<o.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),i=(s.top+s.bottom)/2;if(i>o.top&&i<o.bottom&&Math.abs(s.left-o.left)>1)return s.left>o.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function up(t,e,n){let r=t.state.selection;if(r instanceof U&&!r.empty||n.indexOf("s")>-1||st&&n.indexOf("m")>-1)return!1;let{$from:o,$to:s}=r;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let i=Bl(t.state,e);if(i&&i instanceof P)return Jt(t,i)}if(!o.parent.inlineContent){let i=e<0?o:s,a=r instanceof Ge?V.near(i,e):V.findFrom(i,e);return a?Jt(t,a):!1}return!1}function dp(t,e){if(!(t.state.selection instanceof U))return!0;let{$head:n,$anchor:r,empty:o}=t.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let i=t.state.tr;return e<0?i.delete(n.pos-s.nodeSize,n.pos):i.delete(n.pos,n.pos+s.nodeSize),t.dispatch(i),!0}return!1}function fp(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function jL(t){if(!Ie||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;fp(t,r,"true"),setTimeout(()=>fp(t,r,"false"),20)}return!1}function GL(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function HL(t,e){let n=e.keyCode,r=GL(e);if(n==8||st&&n==72&&r=="c")return dp(t,-1)||Zn(t,-1);if(n==46&&!e.shiftKey||st&&n==68&&r=="c")return dp(t,1)||Zn(t,1);if(n==13||n==27)return!0;if(n==37||st&&n==66&&r=="c"){let o=n==37?cp(t,t.state.selection.from)=="ltr"?-1:1:-1;return lp(t,o,r)||Zn(t,o)}else if(n==39||st&&n==70&&r=="c"){let o=n==39?cp(t,t.state.selection.from)=="ltr"?1:-1:1;return lp(t,o,r)||Zn(t,o)}else{if(n==38||st&&n==80&&r=="c")return up(t,-1,r)||Zn(t,-1);if(n==40||st&&n==78&&r=="c")return jL(t)||up(t,1,r)||Zn(t,1);if(r==(st?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Mk(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:o,openEnd:s}=e;for(;o>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,s--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let i=t.someProp("clipboardSerializer")||jt.fromSchema(t.state.schema),a=Fk(),l=a.createElement("div");l.appendChild(i.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=Lk[c.nodeName.toLowerCase()]);){for(let p=u.length-1;p>=0;p--){let h=a.createElement(u[p]);for(;l.firstChild;)h.appendChild(l.firstChild);l.appendChild(h),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${o} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:f}}function Tk(t,e,n,r,o){let s=o.parent.type.spec.code,i,a;if(!n&&!e)return null;let l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",f=>{e=f(e,s||r,t)}),s)return e?new R(S.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):R.empty;let d=t.someProp("clipboardTextParser",f=>f(e,o,r,t));if(d)a=d;else{let f=o.marks(),{schema:p}=t.state,h=jt.fromSchema(p);i=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let g=i.appendChild(document.createElement("p"));m&&g.appendChild(h.serializeNode(p.text(m,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),i=XL(n),Ro&&ZL(i);let c=i&&i.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let f=i.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;i=f}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||so.fromSchema(t.state.schema)).parseSlice(i,{preserveWhitespace:!!(l||u),context:o,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!WL.test(f.parentNode.nodeName)?{ignore:!0}:null}})),u)a=YL(pp(a,+u[1],+u[2]),u[4]);else if(a=R.maxOpen(KL(a.content,o),!0),a.openStart||a.openEnd){let d=0,f=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;f<a.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);a=pp(a,d,f)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const WL=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function KL(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let o=e.node(n).contentMatchAt(e.index(n)),s,i=[];if(t.forEach(a=>{if(!i)return;let l=o.findWrapping(a.type),c;if(!l)return i=null;if(c=i.length&&s.length&&Nk(l,s,a,i[i.length-1],0))i[i.length-1]=c;else{i.length&&(i[i.length-1]=Ok(i[i.length-1],s.length));let u=Rk(a,l);i.push(u),o=o.matchType(u.type),s=l}}),i)return S.from(i)}return t}function Rk(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,S.from(t));return t}function Nk(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){let s=Nk(t,e,n,r.lastChild,o+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(S.from(Rk(n,t,o+1))))}}function Ok(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Ok(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(S.empty,!0);return t.copy(n.append(r))}function Vl(t,e,n,r,o,s){let i=e<0?t.firstChild:t.lastChild,a=i.content;return t.childCount>1&&(s=0),o<r-1&&(a=Vl(a,e,n,r,o+1,s)),o>=n&&(a=e<0?i.contentMatchAt(0).fillBefore(a,s<=o).append(a):a.append(i.contentMatchAt(i.childCount).fillBefore(S.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,i.copy(a))}function pp(t,e,n){return e<t.openStart&&(t=new R(Vl(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new R(Vl(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Lk={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let hp=null;function Fk(){return hp||(hp=document.implementation.createHTMLDocument("title"))}function XL(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=Fk().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),o;if((o=r&&Lk[r[1].toLowerCase()])&&(t=o.map(s=>"<"+s+">").join("")+t+o.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=t,o)for(let s=0;s<o.length;s++)n=n.querySelector(o[s])||n;return n}function ZL(t){let e=t.querySelectorAll(Me?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function YL(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:o,openStart:s,openEnd:i}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;o=S.from(l.create(r[a+1],o)),s++,i++}return new R(o,s,i)}const Pe={},$e={},QL={touchstart:!0,touchmove:!0};class JL{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function eF(t){for(let e in Pe){let n=Pe[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{nF(t,r)&&!Eu(t,r)&&(t.editable||!(r.type in $e))&&n(t,r)},QL[e]?{passive:!0}:void 0)}Ie&&t.dom.addEventListener("input",()=>null),Ul(t)}function sn(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function tF(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Ul(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Eu(t,r))})}function Eu(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function nF(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function rF(t,e){!Eu(t,e)&&Pe[e.type]&&(t.editable||!(e.type in $e))&&Pe[e.type](t,e)}$e.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!Pk(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(ft&&Me&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Sr&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",o=>o(t,wn(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||HL(t,n)?n.preventDefault():sn(t,"key")};$e.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};$e.keypress=(t,e)=>{let n=e;if(Pk(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||st&&n.metaKey)return;if(t.someProp("handleKeyPress",o=>o(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof U)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(n.charCode);!/[\r\n]/.test(o)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,o))&&t.dispatch(t.state.tr.insertText(o).scrollIntoView()),n.preventDefault()}};function _i(t){return{left:t.clientX,top:t.clientY}}function oF(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function wu(t,e,n,r,o){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let i=s.depth+1;i>0;i--)if(t.someProp(e,a=>i>s.depth?a(t,n,s.nodeAfter,s.before(i),o,!0):a(t,n,s.node(i),s.before(i),o,!1)))return!0;return!1}function hr(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function sF(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&P.isSelectable(r)?(hr(t,new P(n)),!0):!1}function iF(t,e){if(e==-1)return!1;let n=t.state.selection,r,o;n instanceof P&&(r=n.node);let s=t.state.doc.resolve(e);for(let i=s.depth+1;i>0;i--){let a=i>s.depth?s.nodeAfter:s.node(i);if(P.isSelectable(a)){r&&n.$from.depth>0&&i>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?o=s.before(n.$from.depth):o=s.before(i);break}}return o!=null?(hr(t,P.create(t.state.doc,o)),!0):!1}function aF(t,e,n,r,o){return wu(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(o?iF(t,n):sF(t,n))}function lF(t,e,n,r){return wu(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",o=>o(t,e,r))}function cF(t,e,n,r){return wu(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",o=>o(t,e,r))||uF(t,n,r)}function uF(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(hr(t,U.create(r,0,r.content.size)),!0):!1;let o=r.resolve(e);for(let s=o.depth+1;s>0;s--){let i=s>o.depth?o.nodeAfter:o.node(s),a=o.before(s);if(i.inlineContent)hr(t,U.create(r,a+1,a+1+i.content.size));else if(P.isSelectable(i))hr(t,P.create(r,a));else continue;return!0}}function _u(t){return zs(t)}const Ik=st?"metaKey":"ctrlKey";Pe.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=_u(t),o=Date.now(),s="singleClick";o-t.input.lastClick.time<500&&oF(n,t.input.lastClick)&&!n[Ik]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:s};let i=t.posAtCoords(_i(n));i&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new dF(t,i,n,!!r)):(s=="doubleClick"?lF:cF)(t,i.pos,i.inside,n)?n.preventDefault():sn(t,"pointer"))};class dF{constructor(e,n,r,o){this.view=e,this.pos=n,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Ik],this.allowDefault=r.shiftKey;let s,i;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),i=n.inside;else{let u=e.state.doc.resolve(n.pos);s=u.parent,i=u.depth?u.before():0}const a=o?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof P&&c.from<=i&&c.to>i)&&(this.mightDrag={node:s,pos:i,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gt&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),sn(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Gt(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(_i(e))),this.updateAllowDefault(e),this.allowDefault||!n?sn(this.view,"pointer"):aF(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ie&&this.mightDrag&&!this.mightDrag.node.isAtom||Me&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(hr(this.view,V.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):sn(this.view,"pointer")}move(e){this.updateAllowDefault(e),sn(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Pe.touchstart=t=>{t.input.lastTouch=Date.now(),_u(t),sn(t,"pointer")};Pe.touchmove=t=>{t.input.lastTouch=Date.now(),sn(t,"pointer")};Pe.contextmenu=t=>_u(t);function Pk(t,e){return t.composing?!0:Ie&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const fF=ft?5e3:-1;$e.compositionstart=$e.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),zs(t,!0),t.markCursor=null;else if(zs(t),gt&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let o=r.focusNode,s=r.focusOffset;o&&o.nodeType==1&&s!=0;){let i=s<0?o.lastChild:o.childNodes[s-1];if(!i)break;if(i.nodeType==3){t.domSelection().collapse(i,i.nodeValue.length);break}else o=i,s=-1}}t.input.composing=!0}$k(t,fF)};$e.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,$k(t,20))};function $k(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>zs(t),e))}function zk(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=pF());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function pF(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function zs(t,e=!1){if(!(ft&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),zk(t),e||t.docView&&t.docView.dirty){let n=ku(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function hF(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const po=He&&an<15||Sr&&dL<604;Pe.copy=$e.cut=(t,e)=>{let n=e,r=t.state.selection,o=n.type=="cut";if(r.empty)return;let s=po?null:n.clipboardData,i=r.content(),{dom:a,text:l}=Mk(t,i);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):hF(t,a),o&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function mF(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function gF(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?ho(t,r.value,null,o,e):ho(t,r.textContent,r.innerHTML,o,e)},50)}function ho(t,e,n,r,o){let s=Tk(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,o,s||R.empty)))return!0;if(!s)return!1;let i=mF(s),a=i?t.state.tr.replaceSelectionWith(i,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Bk(t){let e=t.getData("text/html")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}$e.paste=(t,e)=>{let n=e;if(t.composing&&!ft)return;let r=po?null:n.clipboardData,o=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&ho(t,Bk(r),r.getData("text/html"),o,n)?n.preventDefault():gF(t,n)};class yF{constructor(e,n){this.slice=e,this.move=n}}const qk=st?"altKey":"ctrlKey";Pe.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=t.state.selection,s=o.empty?null:t.posAtCoords(_i(n));if(!(s&&s.pos>=o.from&&s.pos<=(o instanceof P?o.to-1:o.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(P.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let c=t.docView.nearestDesc(n.target,!0);c&&c.node.type.spec.draggable&&c!=t.docView&&t.dispatch(t.state.tr.setSelection(P.create(t.state.doc,c.posBefore)))}}let i=t.state.selection.content(),{dom:a,text:l}=Mk(t,i);n.dataTransfer.clearData(),n.dataTransfer.setData(po?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",po||n.dataTransfer.setData("text/plain",l),t.dragging=new yF(i,!n[qk])};Pe.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};$e.dragover=$e.dragenter=(t,e)=>e.preventDefault();$e.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let o=t.posAtCoords(_i(n));if(!o)return;let s=t.state.doc.resolve(o.pos),i=r&&r.slice;i?t.someProp("transformPasted",h=>{i=h(i,t)}):i=Tk(t,Bk(n.dataTransfer),po?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[qk]);if(t.someProp("handleDrop",h=>h(t,n,i||R.empty,a))){n.preventDefault();return}if(!i)return;n.preventDefault();let l=i?IT(t.state.doc,s.pos,i):s.pos;l==null&&(l=s.pos);let c=t.state.tr;a&&c.deleteSelection();let u=c.mapping.map(l),d=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,f=c.doc;if(d?c.replaceRangeWith(u,u,i.content.firstChild):c.replaceRange(u,u,i),c.doc.eq(f))return;let p=c.doc.resolve(u);if(d&&P.isSelectable(i.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(i.content.firstChild))c.setSelection(new P(p));else{let h=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((m,g,y,b)=>h=b),c.setSelection(xu(t,p,c.doc.resolve(h)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};Pe.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Gt(t)},20))};Pe.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Pe.beforeinput=(t,e)=>{if(Me&&ft&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,wn(8,"Backspace")))))return;let{$cursor:o}=t.state.selection;o&&o.pos>0&&t.dispatch(t.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let t in $e)Pe[t]=$e[t];function mo(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Bs{constructor(e,n){this.toDOM=e,this.spec=n||On,this.side=this.spec.side||0}map(e,n,r,o){let{pos:s,deleted:i}=e.mapResult(n.from+o,this.side<0?-1:1);return i?null:new ht(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Bs&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&mo(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class cn{constructor(e,n){this.attrs=e,this.spec=n||On}map(e,n,r,o){let s=e.map(n.from+o,this.spec.inclusiveStart?-1:1)-r,i=e.map(n.to+o,this.spec.inclusiveEnd?1:-1)-r;return s>=i?null:new ht(s,i,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof cn&&mo(this.attrs,e.attrs)&&mo(this.spec,e.spec)}static is(e){return e.type instanceof cn}destroy(){}}class Su{constructor(e,n){this.attrs=e,this.spec=n||On}map(e,n,r,o){let s=e.mapResult(n.from+o,1);if(s.deleted)return null;let i=e.mapResult(n.to+o,-1);return i.deleted||i.pos<=s.pos?null:new ht(s.pos-r,i.pos-r,this)}valid(e,n){let{index:r,offset:o}=e.content.findIndex(n.from),s;return o==n.from&&!(s=e.child(r)).isText&&o+s.nodeSize==n.to}eq(e){return this==e||e instanceof Su&&mo(this.attrs,e.attrs)&&mo(this.spec,e.spec)}destroy(){}}class ht{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new ht(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new ht(e,e,new Bs(n,r))}static inline(e,n,r,o){return new ht(e,n,new cn(r,o))}static node(e,n,r,o){return new ht(e,n,new Su(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof cn}get widget(){return this.type instanceof Bs}}const ar=[],On={};class he{constructor(e,n){this.local=e.length?e:ar,this.children=n.length?n:ar}static create(e,n){return n.length?qs(n,e,0,On):Ce}find(e,n,r){let o=[];return this.findInner(e??0,n??1e9,o,0,r),o}findInner(e,n,r,o,s){for(let i=0;i<this.local.length;i++){let a=this.local[i];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+o,a.to+o))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<n&&this.children[i+1]>e){let a=this.children[i]+1;this.children[i+2].findInner(e-a,n-a,r,o+a,s)}}map(e,n,r){return this==Ce||e.maps.length==0?this:this.mapInner(e,n,0,0,r||On)}mapInner(e,n,r,o,s){let i;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,o);l&&l.type.valid(n,l)?(i||(i=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?bF(this.children,i||[],e,n,r,o,s):i?new he(i.sort(Ln),ar):Ce}add(e,n){return n.length?this==Ce?he.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let o,s=0;e.forEach((a,l)=>{let c=l+r,u;if(u=Uk(n,a,c)){for(o||(o=this.children.slice());s<o.length&&o[s]<l;)s+=3;o[s]==l?o[s+2]=o[s+2].addInner(a,u,c+1):o.splice(s,0,l,l+a.nodeSize,qs(u,a,c+1,On)),s+=3}});let i=Vk(s?jk(n):n,-r);for(let a=0;a<i.length;a++)i[a].type.valid(e,i[a])||i.splice(a--,1);return new he(i.length?this.local.concat(i).sort(Ln):this.local,o||this.children)}remove(e){return e.length==0||this==Ce?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,o=this.local;for(let s=0;s<r.length;s+=3){let i,a=r[s]+n,l=r[s+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(i||(i=[])).push(d));if(!i)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(i,a+1);c!=Ce?r[s+2]=c:(r.splice(s,3),s-=3)}if(o.length){for(let s=0,i;s<e.length;s++)if(i=e[s])for(let a=0;a<o.length;a++)o[a].eq(i,n)&&(o==this.local&&(o=this.local.slice()),o.splice(a--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new he(o,r):Ce}forChild(e,n){if(this==Ce)return this;if(n.isLeaf)return he.empty;let r,o;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,i=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<i&&l.to>s&&l.type instanceof cn){let c=Math.max(s,l.from)-s,u=Math.min(i,l.to)-s;c<u&&(o||(o=[])).push(l.copy(c,u))}}if(o){let a=new he(o.sort(Ln),ar);return r?new nn([a,r]):a}return r||Ce}eq(e){if(this==e)return!0;if(!(e instanceof he)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Au(this.localsInner(e))}localsInner(e){if(this==Ce)return ar;if(e.inlineContent||!this.local.some(cn.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof cn||n.push(this.local[r]);return n}}he.empty=new he([],[]);he.removeOverlap=Au;const Ce=he.empty;class nn{constructor(e){this.members=e}map(e,n){const r=this.members.map(o=>o.map(e,n,On));return nn.from(r)}forChild(e,n){if(n.isLeaf)return he.empty;let r=[];for(let o=0;o<this.members.length;o++){let s=this.members[o].forChild(e,n);s!=Ce&&(s instanceof nn?r=r.concat(s.members):r.push(s))}return nn.from(r)}eq(e){if(!(e instanceof nn)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let o=0;o<this.members.length;o++){let s=this.members[o].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let i=0;i<s.length;i++)n.push(s[i])}}return n?Au(r?n:n.sort(Ln)):ar}static from(e){switch(e.length){case 0:return Ce;case 1:return e[0];default:return new nn(e.every(n=>n instanceof he)?e:e.reduce((n,r)=>n.concat(r instanceof he?r:r.members),[]))}}}function bF(t,e,n,r,o,s,i){let a=t.slice();for(let c=0,u=s;c<n.maps.length;c++){let d=0;n.maps[c].forEach((f,p,h,m)=>{let g=m-h-(p-f);for(let y=0;y<a.length;y+=3){let b=a[y+1];if(b<0||f>b+u-d)continue;let v=a[y]+u-d;p>=v?a[y+1]=f<=v?-2:-1:h>=o&&g&&(a[y]+=g,a[y+1]+=g)}d+=g}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+s),d=u-o;if(d<0||d>=r.content.size){l=!0;continue}let f=n.map(t[c+1]+s,-1),p=f-o,{index:h,offset:m}=r.content.findIndex(d),g=r.maybeChild(h);if(g&&m==d&&m+g.nodeSize==p){let y=a[c+2].mapInner(n,g,u+1,t[c]+s+1,i);y!=Ce?(a[c]=d,a[c+1]=p,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=vF(a,t,e,n,o,s,i),u=qs(c,r,0,i);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,f=0;d<u.children.length;d+=3){let p=u.children[d];for(;f<a.length&&a[f]<p;)f+=3;a.splice(f,0,u.children[d],u.children[d+1],u.children[d+2])}}return new he(e.sort(Ln),a)}function Vk(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let o=t[r];n.push(new ht(o.from+e,o.to+e,o.type))}return n}function vF(t,e,n,r,o,s,i){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,o,c);d?n.push(d):i.onRemove&&i.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function Uk(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,o=null;for(let s=0,i;s<t.length;s++)(i=t[s])&&i.from>n&&i.to<r&&((o||(o=[])).push(i),t[s]=null);return o}function jk(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function qs(t,e,n,r){let o=[],s=!1;e.forEach((a,l)=>{let c=Uk(t,a,l+n);if(c){s=!0;let u=qs(c,a,n+l+1,r);u!=Ce&&o.push(l,l+a.nodeSize,u)}});let i=Vk(s?jk(t):t,-n).sort(Ln);for(let a=0;a<i.length;a++)i[a].type.valid(e,i[a])||(r.onRemove&&r.onRemove(i[a].spec),i.splice(a--,1));return i.length||o.length?new he(i,o):Ce}function Ln(t,e){return t.from-e.from||t.to-e.to}function Au(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let o=n+1;o<e.length;o++){let s=e[o];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[o]=s.copy(s.from,r.to),mp(e,o+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),mp(e,o,r.copy(s.from,r.to)));break}}}return e}function mp(t,e,n){for(;e<t.length&&Ln(n,t[e])>0;)e++;t.splice(e,0,n)}function Da(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Ce&&e.push(r)}),t.cursorWrapper&&e.push(he.create(t.state.doc,[t.cursorWrapper.deco])),nn.from(e)}const kF={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},xF=He&&an<=11;class EF{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class wF{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new EF,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);He&&an<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),xF&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,kF)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(ap(this.view)){if(this.suppressingSelectionUpdates)return Gt(this.view);if(He&&an<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&$n(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=fo(s))n.add(s);for(let s=e.anchorNode;s;s=fo(s))if(n.has(s)){r=s;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&ap(e)&&!this.ignoreSelectionChange(r),s=-1,i=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(s=s<0?d.from:Math.min(d.from,s),i=i<0?d.to:Math.max(d.to,i),d.typeOver&&(a=!0))}if(gt&&l.length>1){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let d=u[0],f=u[1];d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}}let c=null;s<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ei(r)&&(c=ku(e))&&c.eq(V.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Gt(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||o)&&(s>-1&&(e.docView.markDirty(s,i),_F(e)),this.handleDOMChange(s,i,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Gt(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++)n.push(e.addedNodes[u]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,s=e.nextSibling;if(He&&an<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:f}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(o=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(s=f)}let i=o&&o.parentNode==e.target?Fe(o)+1:0,a=r.localPosFromDOM(e.target,i,-1),l=s&&s.parentNode==e.target?Fe(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let gp=new WeakMap,yp=!1;function _F(t){if(!gp.has(t)&&(gp.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=gt,yp)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),yp=!0}}function SF(t){let e;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,o=e.startOffset,s=e.endContainer,i=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return $n(a.node,a.offset,s,i)&&([r,o,s,i]=[s,i,r,o]),{anchorNode:r,anchorOffset:o,focusNode:s,focusOffset:i}}function AF(t,e,n){let{node:r,fromOffset:o,toOffset:s,from:i,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Ei(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Me&&t.input.lastKeyCode===8)for(let g=s;g>o;g--){let y=r.childNodes[g-1],b=y.pmViewDesc;if(y.nodeName=="BR"&&!b){s=g;break}if(!b||b.size)break}let d=t.state.doc,f=t.someProp("domParser")||so.fromSchema(t.state.schema),p=d.resolve(i),h=null,m=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:o,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:CF,context:p});if(c&&c[0].pos!=null){let g=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=g),h={anchor:g+i,head:y+i}}return{doc:m,sel:h,from:i,to:a}}function CF(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Ie&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Ie&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const DF=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function MF(t,e,n,r,o){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let w=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,x=ku(t,w);if(x&&!t.state.selection.eq(x)){if(Me&&ft&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",O=>O(t,wn(13,"Enter"))))return;let M=t.state.tr.setSelection(x);w=="pointer"?M.setMeta("pointer",!0):w=="key"&&M.scrollIntoView(),s&&M.setMeta("composition",s),t.dispatch(M)}return}let i=t.state.doc.resolve(e),a=i.sharedDepth(n);e=i.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=AF(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),f,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,p="end"):(f=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let h=NF(d.content,c.doc.content,c.from,f,p);if((Sr&&t.input.lastIOSEnter>Date.now()-225||ft)&&o.some(w=>w.nodeType==1&&!DF.test(w.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",w=>w(t,wn(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&l instanceof U&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))h={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let w=bp(t,t.state.doc,c.sel);if(w&&!w.eq(t.state.selection)){let x=t.state.tr.setSelection(w);s&&x.setMeta("composition",s),t.dispatch(x)}}return}if(Me&&t.cursorWrapper&&c.sel&&c.sel.anchor==t.cursorWrapper.deco.from&&c.sel.head==c.sel.anchor){let w=h.endB-h.start;c.sel={anchor:c.sel.anchor+w,head:c.sel.anchor+w}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof U&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),He&&an<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>c.from&&c.doc.textBetween(h.start-c.from-1,h.start-c.from+1)==" "&&(h.start--,h.endA--,h.endB--);let m=c.doc.resolveNoCache(h.start-c.from),g=c.doc.resolveNoCache(h.endB-c.from),y=u.resolve(h.start),b=m.sameParent(g)&&m.parent.inlineContent&&y.end()>=h.endA,v;if((Sr&&t.input.lastIOSEnter>Date.now()-225&&(!b||o.some(w=>w.nodeName=="DIV"||w.nodeName=="P"))||!b&&m.pos<c.doc.content.size&&!m.sameParent(g)&&(v=V.findFrom(c.doc.resolve(m.pos+1),1,!0))&&v.head==g.pos)&&t.someProp("handleKeyDown",w=>w(t,wn(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&RF(u,h.start,h.endA,m,g)&&t.someProp("handleKeyDown",w=>w(t,wn(8,"Backspace")))){ft&&Me&&t.domObserver.suppressSelectionUpdates();return}Me&&ft&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),ft&&!b&&m.start()!=g.start()&&g.parentOffset==0&&m.depth==g.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==h.endA&&(h.endB-=2,g=c.doc.resolveNoCache(h.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(w){return w(t,wn(13,"Enter"))})},20));let N=h.start,C=h.endA,E,D,q;if(b){if(m.pos==g.pos)He&&an<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Gt(t),20)),E=t.state.tr.delete(N,C),D=u.resolve(h.start).marksAcross(u.resolve(h.endA));else if(h.endA==h.endB&&(q=TF(m.parent.content.cut(m.parentOffset,g.parentOffset),y.parent.content.cut(y.parentOffset,h.endA-y.start()))))E=t.state.tr,q.type=="add"?E.addMark(N,C,q.mark):E.removeMark(N,C,q.mark);else if(m.parent.child(m.index()).isText&&m.index()==g.index()-(g.textOffset?0:1)){let w=m.parent.textBetween(m.parentOffset,g.parentOffset);if(t.someProp("handleTextInput",x=>x(t,N,C,w)))return;E=t.state.tr.insertText(w,N,C)}}if(E||(E=t.state.tr.replace(N,C,c.doc.slice(h.start-c.from,h.endB-c.from))),c.sel){let w=bp(t,E.doc,c.sel);w&&!(Me&&ft&&t.composing&&w.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(w.head==N||w.head==E.mapping.map(C)-1)||He&&w.empty&&w.head==N)&&E.setSelection(w)}D&&E.ensureMarks(D),s&&E.setMeta("composition",s),t.dispatch(E.scrollIntoView())}function bp(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:xu(t,e.resolve(n.anchor),e.resolve(n.head))}function TF(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,o=n,s=r,i,a,l;for(let u=0;u<r.length;u++)o=r[u].removeFromSet(o);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(o.length==1&&s.length==0)a=o[0],i="add",l=u=>u.mark(a.addToSet(u.marks));else if(o.length==0&&s.length==1)a=s[0],i="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(S.from(c).eq(t))return{mark:a,type:i}}function RF(t,e,n,r,o){if(!r.parent.isTextblock||n-e<=o.pos-r.pos||Ma(r,!0,!1)<o.pos)return!1;let s=t.resolve(e);if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let i=t.resolve(Ma(s,!0,!0));return!i.parent.isTextblock||i.pos>n||Ma(i,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(i.parent.content)}function Ma(t,e,n){let r=t.depth,o=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,o++}return o}function NF(t,e,n,r,o){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:i,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(o=="end"){let l=Math.max(0,s-Math.min(i,a));r-=i+l-s}if(i<s&&t.size<e.size){let l=r<=s&&r>=i?s-r:0;s-=l,a=s+(a-i),i=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,i=s+(i-a),a=s}return{start:s,endA:i,endB:a}}class yxe{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new JL,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(wp),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=xp(this),kp(this),this.nodeViews=Ep(this),this.docView=tp(this.state.doc,vp(this),Da(this),this.dom,this),this.domObserver=new wF(this,(r,o,s,i)=>MF(this,r,o,s,i)),this.domObserver.start(),eF(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Ul(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(wp),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(zk(this),s=!0),this.state=e;let i=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(i||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=Ep(this);LF(f,this.nodeViews)&&(this.nodeViews=f,o=!0)}(i||n.handleDOMEvents!=this._props.handleDOMEvents)&&Ul(this),this.editable=xp(this),kp(this);let a=Da(this),l=vp(this),c=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",u=o||!this.docView.matchesNode(e.doc,l,a);(u||!e.selection.eq(r.selection))&&(s=!0);let d=c=="preserve"&&s&&this.dom.style.overflowAnchor==null&&hL(this);if(s){this.domObserver.stop();let f=u&&(He||Me)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&OF(r.selection,e.selection);if(u){let p=Me?this.trackWrites=this.domSelectionRange().focusNode:null;(o||!this.docView.update(e.doc,l,a,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=tp(e.doc,l,a,this.dom,this)),p&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&zL(this))?Gt(this,f):(Ak(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():d&&mL(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof P){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Xf(this,n.getBoundingClientRect(),e)}else Xf(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],o;if(r!=null&&(o=n?n(r):r))return o;for(let i=0;i<this.directPlugins.length;i++){let a=this.directPlugins[i].props[e];if(a!=null&&(o=n?n(a):a))return o}let s=this.state.plugins;if(s)for(let i=0;i<s.length;i++){let a=s[i].props[e];if(a!=null&&(o=n?n(a):a))return o}}hasFocus(){if(He){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&gL(this.dom),Gt(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return xL(this,e)}coordsAtPos(e,n=1){return bk(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let o=this.docView.posFromDOM(e,n,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,n){return AL(this,n||this.state,e)}pasteHTML(e,n){return ho(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return ho(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(tF(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Da(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return rF(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Ie&&this.root.nodeType===11&&aL(this.dom.ownerDocument)==this.dom?SF(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function vp(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[ht.node(0,t.state.doc.content.size,e)]}function kp(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:ht.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function xp(t){return!t.someProp("editable",e=>e(t.state)===!1)}function OF(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Ep(t){let e=Object.create(null);function n(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function LF(t,e){let n=0,r=0;for(let o in t){if(t[o]!=e[o])return!0;n++}for(let o in e)r++;return n!=r}function wp(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}function Vs(t,e){return t?t.toJSON().type===e:!1}function Gk(t){return Vs(t,"cell")?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:Vs(t,"node")&&t.node.type.spec.tableRole==="cell"?t.$anchor:LR(t.$head)||OR(t.$head)}const FF=t=>e=>{if(!Vs(e,"cell"))return!1;const n=De.get(e.$anchorCell.node(-1)),r=e.$anchorCell.start(-1),o=n.cellsInRect(t),s=n.cellsInRect(n.rectBetween(e.$anchorCell.pos-r,e.$headCell.pos-r));for(let i=0,a=o.length;i<a;i++)if(s.indexOf(o[i])===-1)return!1;return!0},IF=t=>{if(Vs(t,"cell")){const e=De.get(t.$anchorCell.node(-1));return FF({left:0,right:e.width,top:0,bottom:e.height})(t)}return!1};function Hk(t){const e=t.selection,n=Gk(e);if(!n)throw new Error("selectedRect: invalid $pos for selection");const r=n.node(-1),o=n.start(-1),s=De.get(r);let i;return e instanceof Ue?i=s.rectBetween(e.$anchorCell.pos-o,e.$headCell.pos-o):i=s.findCell(n.pos-o),i.tableStart=o,i.map=s,i.table=r,i}function _p(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t==="row"?e.map.width:1,bottom:t==="column"?e.map.height:1});for(let o=0;o<r.length;o++){const s=e.table.nodeAt(r[o]);if(s&&s.type!==n.header_cell)return!1}return!0}function PF(t,e){const n=[];return e.forEach(r=>{var o;const s=Pn(t).cell,i=r.type===s?r:(o=s.createAndFill(r.attrs,r.content,r.marks))!==null&&o!==void 0?o:r;n.push(i)}),S.from(n)}function $F(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;if(!e.firstChild)throw new Error("pastedCells: no firstChild defined for content");for(;e.childCount===1&&(n>0&&r>0||e.firstChild.type.spec.tableRole==="table");)if(n--,r--,e=e.firstChild.content,!e.firstChild)throw new Error("pastedCells: no firstChild defined for content");const o=e.firstChild,s=o.type.spec.tableRole,{schema:i}=o.type,a=[];if(s==="row")for(let c=0;c<e.childCount;c++){let u=e.child(c).content;const d=c?0:Math.max(0,n-1),f=c<e.childCount-1?0:Math.max(0,r-1);(d||f)&&(u=jl(Pn(i).row,new R(u,d,f)).content),a.push(u)}else if(s==="cell"||s==="header_cell")a.push(n||r?jl(Pn(i).row,new R(e,n,r)).content:e);else return null;const l=a.map(c=>PF(i,c));return zF(i,l)}function zF(t,e){const n=e,r=[];for(let s=0;s<n.length;s++){const i=n[s];for(let a=i.childCount-1;a>=0;a--){const{rowspan:l,colspan:c}=i.child(a).attrs;for(let u=s;u<s+l;u++)r[u]=(r[u]||0)+c}}let o=0;for(let s=0;s<r.length;s++)o=Math.max(o,r[s]);for(let s=0;s<r.length;s++)if(s>=n.length&&n.push(S.empty),r[s]<o){const i=Pn(t).cell.createAndFill(),a=[];for(let l=r[s];l<o;l++)a.push(i);n[s]=n[s].append(S.from(a))}return{height:n.length,width:o,rows:n}}function jl(t,e){const n=t.createAndFill();if(!n)throw new Error("fitSlice: unable to create node");return new Yv(n).replace(0,n.content.size,e).doc}function BF({width:t,height:e,rows:n},r,o){let s=n,i=t,a=e;if(i!==r){const l=[],c=[];for(let u=0;u<s.length;u++){const d=s[u],f=[];for(let p=l[u]||0,h=0;p<r;h++){let m=d.child(h%d.childCount);p+m.attrs.colspan>r&&(m=m.type.create(co(m.attrs,m.attrs.colspan,p+m.attrs.colspan-r),m.content)),f.push(m),p+=m.attrs.colspan;for(let g=1;g<m.attrs.rowspan;g++)l[u+g]=(l[u+g]||0)+m.attrs.colspan}c.push(S.from(f))}s=c,i=r}if(a!==o){const l=[];for(let c=0,u=0;c<o;c++,u++){const d=[],f=s[u%a];for(let p=0;p<f.childCount;p++){let h=f.child(p);c+h.attrs.rowspan>o&&(h=h.type.create({...h.attrs,rowspan:Math.max(1,o-h.attrs.rowspan)},h.content)),d.push(h)}l.push(S.from(d))}s=l,a=o}return{width:i,height:a,rows:s}}function qF(t,e,n,r,o,s,i){const{schema:a}=t.doc.type,l=Pn(a);let c,u;if(o>e.width)for(let d=0,f=0;d<e.height;d++){const p=n.child(d);f+=p.nodeSize;const h=[];let m;p.lastChild==null||p.lastChild.type===l.cell?m=c||(c=l.cell.createAndFill()):m=u||(u=l.header_cell.createAndFill());for(let g=e.width;g<o;g++)h.push(m);t.insert(t.mapping.slice(i).map(f-1+r),h)}if(s>e.height){const d=[];for(let h=0,m=(e.height-1)*e.width;h<Math.max(e.width,o);h++){let g;if(h>=e.width)g=!1;else{const y=e.map[m+h],b=n.nodeAt(y);if(!b)throw new Error(`growTable: no node found at pos ${y}`);g=b.type===l.header_cell}d.push(g?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const f=l.row.create(null,S.from(d)),p=[];for(let h=e.height;h<s;h++)p.push(f);t.insert(t.mapping.slice(i).map(r+n.nodeSize-2),p)}return!!(c||u)}function Sp(t,e,n,r,o,s,i,a){if(i===0||i===e.height)return!1;let l=!1;for(let c=o;c<s;c++){const u=i*e.width+c,d=e.map[u];if(e.map[u-e.width]===d){l=!0;const f=n.nodeAt(d);if(!f)throw new Error(`isolateHorizontal: no cell found at pos ${d}`);const{top:p,left:h}=e.findCell(d);t.setNodeMarkup(t.mapping.slice(a).map(d+r),void 0,{...f.attrs,rowspan:i-p});const m=f.type.createAndFill({...f.attrs,rowspan:p+f.attrs.rowspan-i});if(!m)throw new Error("isolateHorizontal: failed to create cell");t.insert(t.mapping.slice(a).map(e.positionAt(i,h,n)),m),c+=f.attrs.colspan-1}}return l}function Ap(t,e,n,r,o,s,i,a){if(i===0||i===e.width)return!1;let l=!1;for(let c=o;c<s;c++){const u=c*e.width+i,d=e.map[u];if(e.map[u-1]===d){l=!0;const f=n.nodeAt(d);if(!f)throw new Error(`isolateVertical: could not find cell at pos ${d}`);const p=e.colCount(d),h=t.mapping.slice(a).map(d+r);t.setNodeMarkup(h,void 0,co(f.attrs,i-p,f.attrs.colspan-(i-p)));const m=f.type.createAndFill(co(f.attrs,0,i-p));if(!m)throw new Error("isolateVertical: failed to create cell");t.insert(h+f.nodeSize,m),c+=f.attrs.rowspan-1}}return l}function VF(t,e,n,r,o,s,i){const{schema:a}=n,l=(c,u,d,f)=>{const p=r+e.positionAt(u,d,o),h=c.doc.nodeAt(p),m=f?a.nodes.tableHeader:a.nodes.tableCell,g=m!==(h==null?void 0:h.type),y=!!h&&[a.nodes.tableCell,a.nodes.tableHeader].includes(h.type);g&&y&&c.setNodeMarkup(p,m,h==null?void 0:h.attrs,h==null?void 0:h.marks)};l(t,0,0,i||s);for(let c=1;c<e.width;c++)l(t,0,c,s);for(let c=1;c<e.height;c++)l(t,c,0,i)}function Cp(t,e,n,r,o){let s=t.doc;const i=Hk(t),a=Pn(t.schema),l=_p("row",i,a),c=_p("column",i,a);if(n&&(s=t.doc.nodeAt(n-1),!s))throw new Error(`insertCells: could not find table at pos ${n-1}`);let u=De.get(s);const{top:d,left:f}=r,p=f+o.width,h=d+o.height,{tr:m}=t;let g=0;function y(){s=n?m.doc.nodeAt(n-1):m.doc,u=De.get(s),g=m.mapping.maps.length}qF(m,u,s,n,p,h,g)&&y(),Sp(m,u,s,n,f,p,d,g)&&y(),Sp(m,u,s,n,f,p,h,g)&&y(),Ap(m,u,s,n,d,h,f,g)&&y(),Ap(m,u,s,n,d,h,p,g)&&y();for(let b=d;b<h;b++){const v=u.positionAt(b,f,s),N=u.positionAt(b,p,s);m.replace(m.mapping.slice(g).map(v+n),m.mapping.slice(g).map(N+n),new R(o.rows[b-d],0,0))}y(),VF(m,u,t,n,s,l,c),m.setSelection(new Ue(m.doc.resolve(n+u.map[d*u.width+f]),m.doc.resolve(n+u.map[(h-1)*u.width+p-1]))),e(m)}function bxe(t,e,n){if(!CR(t.state))return!1;let r=$F(n);const o=t.state.selection;if(o instanceof Ue){r||(r={width:1,height:1,rows:[S.from(jl(Pn(t.state.schema).cell,n))]});const s=o.$anchorCell.node(-1),i=o.$anchorCell.start(-1),a=De.get(s),l=a.rectBetween(o.$anchorCell.pos-i,o.$headCell.pos-i);return r=BF(r,l.right-l.left,l.bottom-l.top),Cp(t.state,t.dispatch,i,l,Dp(r,l,a)),!0}if(r){const s=Gk(o);if(!s)throw new Error("handlePaste: no cell found");const i=s.start(-1),a=De.get(s.node(-1)).findCell(s.pos-i),l=De.get(s.node(-1));return Cp(t.state,t.dispatch,i,a,Dp(r,a,l)),!0}return!1}const Dp=(t,e,n)=>{const r=[];for(const o of t.rows){let s=e.left;for(let i=0;i<o.childCount;i++){const a=o.child(i);if(s+a.attrs.colspan<=n.width)r.push(a),s+=a.attrs.colspan;else break}}for(const o of r)o.attrs.colwidth=null;return t},vxe=(t,e)=>{if(IF(t.selection)){const n=fk(t.selection);if(n){const r=typeof e=="string"?new R(S.from(t.schema.text(e)),0,0):e;let o=t.tr.replace(n.pos,n.pos+n.node.nodeSize,r);return o.setSelection(U.create(o.doc,n.pos+r.size+1)),o}}return t.tr};function kxe(t){let e,n=0,r=0;const o=fk(t);return o&&(e=De.get(o.node),n=e.height,r=e.width),{table:o,map:e,totalRowCount:n,totalColumnCount:r}}var Us=200,ke=function(){};ke.prototype.append=function(e){return e.length?(e=ke.from(e),!this.length&&e||e.length<Us&&this.leafAppend(e)||this.length<Us&&e.leafPrepend(this)||this.appendInner(e)):this};ke.prototype.prepend=function(e){return e.length?ke.from(e).append(this):this};ke.prototype.appendInner=function(e){return new UF(this,e)};ke.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?ke.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};ke.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};ke.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};ke.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(s,i){return o.push(e(s,i))},n,r),o};ke.from=function(e){return e instanceof ke?e:e&&e.length?new Wk(e):ke.empty};var Wk=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,s){return o==0&&s==this.length?this:new e(this.values.slice(o,s))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,s,i,a){for(var l=s;l<i;l++)if(o(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(o,s,i,a){for(var l=s-1;l>=i;l--)if(o(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=Us)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=Us)return new e(o.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(ke);ke.empty=new Wk([]);var UF=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,s,i){var a=this.left.length;if(o<a&&this.left.forEachInner(r,o,Math.min(s,a),i)===!1||s>a&&this.right.forEachInner(r,Math.max(o-a,0),Math.min(this.length,s)-a,i+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,s,i){var a=this.left.length;if(o>a&&this.right.forEachInvertedInner(r,o-a,Math.max(s,a)-a,i+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(o,a),s,i)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var s=this.left.length;return o<=s?this.left.slice(r,o):r>=s?this.right.slice(r-s,o-s):this.left.slice(r,s).append(this.right.slice(0,o-s))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(ke),Kk=ke;const jF=500;class pt{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,s;n&&(o=this.remapping(r,this.items.length),s=o.maps.length);let i=e.tr,a,l,c=[],u=[];return this.items.forEach((d,f)=>{if(!d.step){o||(o=this.remapping(r,f+1),s=o.maps.length),s--,u.push(d);return}if(o){u.push(new kt(d.map));let p=d.step.map(o.slice(s)),h;p&&i.maybeStep(p).doc&&(h=i.mapping.maps[i.mapping.maps.length-1],c.push(new kt(h,void 0,void 0,c.length+u.length))),s--,h&&o.appendMap(h,s)}else i.maybeStep(d.step);if(d.selection)return a=o?d.selection.map(o.slice(s)):d.selection,l=new pt(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:i,selection:a}}addTransform(e,n,r,o){let s=[],i=this.eventCount,a=this.items,l=!o&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),f=new kt(e.mapping.maps[u],d,n),p;(p=l&&l.merge(f))&&(f=p,u?s.pop():a=a.slice(0,a.length-1)),s.push(f),n&&(i++,n=void 0),o||(l=f)}let c=i-r.depth;return c>HF&&(a=GF(a,c),i-=c),new pt(a.append(s),i)}remapping(e,n){let r=new dr;return this.items.forEach((o,s)=>{let i=o.mirrorOffset!=null&&s-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,i)},e,n),r}addMaps(e){return this.eventCount==0?this:new pt(this.items.append(e.map(n=>new kt(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-n),s=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach(f=>{f.selection&&a--},o);let l=n;this.items.forEach(f=>{let p=s.getMirror(--l);if(p==null)return;i=Math.min(i,p);let h=s.maps[p];if(f.step){let m=e.steps[p].invert(e.docs[p]),g=f.selection&&f.selection.map(s.slice(l+1,p));g&&a++,r.push(new kt(h,m,g))}else r.push(new kt(h))},o);let c=[];for(let f=n;f<i;f++)c.push(new kt(s.maps[f]));let u=this.items.slice(0,o).append(c).append(r),d=new pt(u,a);return d.emptyItemCount()>jF&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,o=[],s=0;return this.items.forEach((i,a)=>{if(a>=e)o.push(i),i.selection&&s++;else if(i.step){let l=i.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=i.selection&&i.selection.map(n.slice(r));u&&s++;let d=new kt(c.invert(),l,u),f,p=o.length-1;(f=o.length&&o[p].merge(d))?o[p]=f:o.push(d)}}else i.map&&r--},this.items.length,0),new pt(Kk.from(o.reverse()),s)}}pt.empty=new pt(Kk.empty,0);function GF(t,e){let n;return t.forEach((r,o)=>{if(r.selection&&e--==0)return n=o,!1}),t.slice(n)}class kt{constructor(e,n,r,o){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new kt(n.getMap().invert(),n,this.selection)}}}class en{constructor(e,n,r,o,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=o,this.prevComposition=s}}const HF=20;function WF(t,e,n,r){let o=n.getMeta(un),s;if(o)return o.historyState;n.getMeta(Yk)&&(t=new en(t.done,t.undone,null,0,-1));let i=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(i&&i.getMeta(un))return i.getMeta(un).redo?new en(t.done.addTransform(n,void 0,r,gs(e)),t.undone,Mp(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new en(t.done,t.undone.addTransform(n,void 0,r,gs(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(i&&i.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!i&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!KF(n,t.prevRanges)),c=i?Ta(t.prevRanges,n.mapping):Mp(n.mapping.maps[n.steps.length-1]);return new en(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,gs(e)),pt.empty,c,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new en(t.done.rebased(n,s),t.undone.rebased(n,s),Ta(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new en(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Ta(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function KF(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,o)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&o>=e[s]&&(n=!0)}),n}function Mp(t){let e=[];return t.forEach((n,r,o,s)=>e.push(o,s)),e}function Ta(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let o=e.map(t[r],1),s=e.map(t[r+1],-1);o<=s&&n.push(o,s)}return n}function Xk(t,e,n,r){let o=gs(e),s=un.get(e).spec.config,i=(r?t.undone:t.done).popEvent(e,o);if(!i)return;let a=i.selection.resolve(i.transform.doc),l=(r?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,o),c=new en(r?l:i.remaining,r?i.remaining:l,null,0,-1);n(i.transform.setSelection(a).setMeta(un,{redo:r,historyState:c}).scrollIntoView())}let Ra=!1,Tp=null;function gs(t){let e=t.plugins;if(Tp!=e){Ra=!1,Tp=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Ra=!0;break}}return Ra}function Zk(t){return t.setMeta(Yk,!0)}const un=new mu("history"),Yk=new mu("closeHistory");function xxe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new hu({key:un,state:{init(){return new en(pt.empty,pt.empty,null,0,-1)},apply(e,n,r){return WF(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,o=r=="historyUndo"?XF:r=="historyRedo"?ZF:null;return o?(n.preventDefault(),o(e.state,e.dispatch)):!1}}}})}const XF=(t,e)=>{let n=un.getState(t);return!n||n.done.eventCount==0?!1:(e&&Xk(n,t,e,!1),!0)},ZF=(t,e)=>{let n=un.getState(t);return!n||n.undone.eventCount==0?!1:(e&&Xk(n,t,e,!0),!0)};var fn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},js={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},YF=typeof navigator<"u"&&/Mac/.test(navigator.platform),QF=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var be=0;be<10;be++)fn[48+be]=fn[96+be]=String(be);for(var be=1;be<=24;be++)fn[be+111]="F"+be;for(var be=65;be<=90;be++)fn[be]=String.fromCharCode(be+32),js[be]=String.fromCharCode(be);for(var Na in fn)js.hasOwnProperty(Na)||(js[Na]=fn[Na]);function JF(t){var e=YF&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||QF&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?js:fn)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}let Je=function(t){return t.OPERATIONAL="operational",t.SCREEN="screen",t.TRACK="track",t.UI="ui",t}({}),et=function(t){return t.ACTIVATED="activated",t.ADDED="added",t.BROWSER_FREEZE="browserFreeze",t.CHANGED_BACKGROUND_COLOR="changedBackgroundColor",t.CHANGED_ICON="changedIcon",t.CHANGED_FULL_WIDTH_MODE="changedFullWidthMode",t.CHANGED_LAYOUT="changedLayout",t.CHANGED_REPLACEMENT_TEXT="changedReplacementText",t.CHANGED_TYPE="changedType",t.CHANGED_URL="changedUrl",t.CLEARED="cleared",t.CLICKED="clicked",t.CLOSED="closed",t.COMMITTED="committed",t.CONNECTED_NODES="connectedNodes",t.CONVERTED="converted",t.COPIED="copied",t.CUT="cut",t.DEACTIVATED="deactivated",t.DECREMENTED="decremented",t.DELETED="deleted",t.DISCARDED_INVALID_STEPS_FROM_TRANSACTION="discardedInvalidStepsFromTransaction",t.DISCONNECTED_SOURCE="disconnectedSource",t.DISCONNECTED_TARGET="disconnectedTarget",t.DISMISSED="dismissed",t.DISPATCHED_INVALID_TRANSACTION="dispatchedInvalidTransaction",t.DISPATCHED_VALID_TRANSACTION="dispatchedValidTransaction",t.EDITED="edited",t.EDITOR_CRASHED="unhandledErrorCaught",t.EDITOR_CRASHED_ADDITIONAL_INFORMATION="unhandledErrorCaughtAdditionalInfov2",t.EDITOR_MOUNTED="mounted",t.EDITOR_TTI="tti",t.EDITOR_CONTENT_RETRIEVAL_PERFORMED="contentRetrievalPerformed",t.RE_RENDERED="reRendered",t.ENTERED="entered",t.ERRORED="errored",t.EXPOSED="exposed",t.FAILED_TO_UNMOUNT="failedToUnmount",t.FIND_NEXT_PERFORMED="findNextPerformed",t.FIND_PERFORMED="findPerformed",t.FIND_PREV_PERFORMED="findPrevPerformed",t.FORMATTED="formatted",t.HELP_OPENED="helpOpened",t.HIGHLIGHTED="highlighted",t.INCREMENTED="incremented",t.INDENTED="indented",t.INITIALISED="initialised",t.INITIALISED_FRAGMENT_MARK="initialisedFragmentMark",t.INPUT_PERF_SAMPLING="inputPerfSampling",t.INPUT_PERF_SAMPLING_AVG="inputPerfSamplingAvg",t.INPUT_PERF_SAMPLING_SINGLE_KEYPRESS="inputPerfSamplingSingleKeypress",t.INPUT_PERF_SAMPLING_SINGLE_KEYPRESS_AVG="inputPerfSamplingSingleKeypressAvg",t.INPUT_PERF_SAMPLING_RENDERED="inputPerfSamplingRendered",t.INPUT_PERF_SAMPLING_RENDERED_AVG="inputPerfSamplingRenderedAvg",t.INSERTED="inserted",t.INVALID_DOCUMENT_ENCOUNTERED="invalidDocumentEncountered",t.INVOKED="invoked",t.GOT_CONNECTIONS="gotConnections",t.LANGUAGE_SELECTED="languageSelected",t.LIST_ITEM_JOINED="listItemJoined",t.MATCHED="matched",t.MEDIA_LINK_TRANSFORMED="mediaLinkTransformed",t.NODE_CONTENT_SANITIZED="nodeContentSanitized",t.OPENED="opened",t.OUTDENTED="outdented",t.PASTED="pasted",t.PASTED_AS_PLAIN="pastedAsPlain",t.PASTED_TIMED="pastedTimed",t.PROSEMIRROR_RENDERED="proseMirrorRendered",t.REACT_NODEVIEW_RENDERED="reactNodeViewRendered",t.REPLACED_ALL="replacedAll",t.REPLACED_ONE="replacedOne",t.RESOLVED="resolved",t.SELECTED="selected",t.SHOWN="shown",t.SLOW_INPUT="slowInput",t.STARTED="started",t.STOPPED="stopped",t.SUBSTITUTED="autoSubstituted",t.SYNCHRONY_DISCONNECTED="synchronyDisconnected",t.SYNCHRONY_ENTITY_ERROR="synchronyEntityError",t.SYNCHRONY_ERROR="synchronyError",t.TEXT_LINK_MARK_TRANSFORMED="textLinkMarkTransformed",t.DEDUPE_MARKS_TRANSFORMED_V2="dedupeMarksTransformedV2",t.NODES_MISSING_CONTENT_TRANSFORMED="nodesMissingContentTransformed",t.INDENTATION_MARKS_TRANSFORMED="indentationMarksTransformed",t.INVALID_MEDIA_CONTENT_TRANSFORMED="invalidMediaContentTransformed",t.TOGGLE_EXPAND="toggleExpand",t.TRANSACTION_DISPATCHED="transactionDispatched",t.TRANSACTION_MUTATED_AFTER_DISPATCH="transactionMutatedAfterDispatched",t.TYPING_FINISHED="typingFinished",t.TYPING_STARTED="typingStarted",t.UNLINK="unlinked",t.UNSUPPORTED_CONTENT_ENCOUNTERED="unsupportedContentEncounteredV2",t.UPDATED="updated",t.UPDATED_FRAGMENT_MARK_NAME="updatedFragmentMarkName",t.UPDATED_SOURCE="updatedSource",t.UPDATED_TARGET="updatedTarget",t.UPLOAD_EXTERNAL_FAIL="uploadExternalFailed",t.VIEWED="viewed",t.VISITED="visited",t.WITH_PLUGIN_STATE_CALLED="withPluginStateCalled",t.RENDERED="rendered",t.ON_EDITOR_READY_CALLBACK="onEditorReadyCallback",t.ON_CHANGE_CALLBACK="onChangeCalled",t.NEW_COLLAB_SYNC_UP_ERROR_NO_STEPS="newCollabSyncUpErrorNoSteps",t.REMOVE_ICON="removedIcon",t.UFO_SESSION_COMPLETE="ufoSessionComplete",t.INVALID_PROSEMIRROR_DOCUMENT="invalidProsemirrorDocument",t.DOCUMENT_PROCESSING_ERROR="documentProcessingErrorV2",t.RENDERER_TTI="tti",t.CRASHED="unhandledErrorCaughtV2",t.SELECT_ALL_CAUGHT="selectAllCaught",t.SELECT_ALL_ESCAPED="selectAllEscaped",t.SORT_COLUMN="sortedColumn",t.SORT_COLUMN_NOT_ALLOWED="sortColumnNotAllowed",t.CREATE_NOT_ALLOWED="createNotAllowed",t.UNSUPPORTED_CONTENT_LEVELS_TRACKING_SUCCEEDED="unsupportedContentLevelsTrackingSucceeded",t.UNSUPPORTED_CONTENT_LEVELS_TRACKING_ERRORED="unsupportedContentLevelsTrackingErrored",t.UNSUPPORTED_TOOLTIP_VIEWED="viewed",t.RECORD_VIDEO="recordVideo",t.INSERT_VIDEO="insertVideo",t.RECORD_VIDEO_FAILED="recordVideoFailed",t.ADD_CHILD="addChild",t.CHANGE_ACTIVE="changeActive",t.REMOVE_CHILD="removeChild",t.UPDATE_PARAMETERS="updateParameters",t.GET_CHILDERN="getChildern",t}({}),Gs=function(t){return t.ASCII="ascii",t.AUTO="auto",t.AUTO_DETECT="autoDetect",t.BUTTON="button",t.BLUR="blur",t.CARD="card",t.CLIPBOARD="clipboard",t.CONFIG_PANEL="configPanel",t.CONTEXT_MENU="contextMenu",t.DRAG_AND_DROP="dragAndDrop",t.EXTERNAL="external",t.EXTENSION_API="extensionApi",t.FLOATING_TB="floatingToolbar",t.FORMATTING="autoformatting",t.INSERT_MENU="insertMenu",t.KEYBOARD="keyboard",t.MACRO_BROWSER="macroBrowser",t.MANUAL="manual",t.PICKER="picker",t.PICKER_CLOUD="cloudPicker",t.PREFILL="prefill",t.QUICK_INSERT="quickInsert",t.SHORTCUT="shortcut",t.TOOLBAR="toolbar",t.TYPEAHEAD="typeAhead",t.DATASOURCE="datasource_config",t.TABLE_CONTEXT_MENU="tableContextMenu",t}({}),ze=function(t){return t.TOOLBAR_BUTTON="toolbarButton",t.BUTTON="button",t.CONFIG_PANEL="configPanel",t.CONTENT_COMPONENT="contentComponent",t.DATE="date",t.DATE_SEGMENT="dateSegment",t.DOCUMENT="document",t.EDITOR="editor",t.ELEMENT_BROWSER="elementBrowser",t.EMBEDS="embeds",t.EXPAND="expand",t.EXTENSION="extension",t.FEATURE="feature",t.FEEDBACK_DIALOG="feedbackDialog",t.FIND_REPLACE_DIALOG="findReplaceDialog",t.FLOATING_CONTEXTUAL_BUTTON="floatingContextualButton",t.FLOATING_TOOLBAR_PLUGIN="floatingToolbarPlugin",t.HELP="help",t.LAYOUT="layout",t.LIST="list",t.MEDIA="media",t.MEDIA_SINGLE="mediaSingle",t.NESTED_EXPAND="nestedExpand",t.PANEL="panel",t.PICKER="picker",t.PLUS_MENU="plusMenu",t.PLUGIN_SLOT="pluginSlot",t.REACT_NODE_VIEW="reactNodeView",t.SELECTION="selection",t.SMART_LINK="smartLink",t.HYPERLINK="hyperlink",t.TABLE="table",t.TABLES_PLUGIN="tablesPlugin",t.TEXT="text",t.TOOLBAR="toolbar",t.TYPEAHEAD="typeAhead",t.TYPEAHEAD_ITEM="typeAheadItem",t.ANNOTATION="annotation",t.SEARCH_RESULT="searchResult",t.CREATE_LINK_INLINE_DIALOG="createLinkInlineDialog",t.CODE_BLOCK="codeBlock",t.REACT_EDITOR_VIEW="reactEditorView",t.RENDERER="renderer",t.ANCHOR_LINK="anchorLink",t.LINK="link",t.TOOLTIP="tooltip",t.LOOM="loom",t.MULTI_BODIED_EXTENSION="multiBodiedExtension",t}({}),Te=function(t){return t.ACTION="action",t.ALL="all",t.ALT_TEXT="altText",t.ANNOTATE_BUTTON="annotateButton",t.AVATAR_GROUP_PLUGIN="AvatarGroupInPlugin",t.BLOCK_QUOTE="blockQuote",t.BORDER="border",t.BUTTON_CATEGORY="categoryButton",t.BUTTON_FEEDBACK="feedbackButton",t.BUTTON_HELP="helpButton",t.CANCEL="cancel",t.CAPTION="caption",t.CARD_BLOCK="blockCard",t.CARD_INLINE="inlineCard",t.CELL="cell",t.CODE_BLOCK="codeBlock",t.CODEBLOCK_COPY="codeBlockCopy",t.CODEBLOCK_WRAP="codeBlockWrap",t.DATE="date",t.DATE_DAY="day",t.DATE_MONTH="month",t.DATE_YEAR="year",t.DECISION="decision",t.DIVIDER="divider",t.EDIT_LINK="editLink",t.EMBEDS="embeds",t.EMOJI="emoji",t.EXPAND="expand",t.EXTENSION="extension",t.EXTENSION_API="extensionApi",t.EXTENSION_BLOCK="extension",t.EXTENSION_BODIED="bodiedExtension",t.EXTENSION_INLINE="inlineExtension",t.FORMAT_BLOCK_QUOTE="blockQuote",t.FORMAT_CLEAR="clearFormatting",t.FORMAT_CODE="code",t.FORMAT_COLOR="color",t.FORMAT_HEADING="heading",t.FORMAT_INDENT="indentation",t.FORMAT_ITALIC="italic",t.FORMAT_LIST_BULLET="bulletedList",t.FORMAT_LIST_NUMBER="numberedList",t.FORMAT_STRIKE="strike",t.FORMAT_STRONG="strong",t.FORMAT_SUB="subscript",t.FORMAT_SUPER="superscript",t.FORMAT_UNDERLINE="underline",t.FRAGMENT_MARK="fragmentMark",t.GOTO_SMART_LINK_SETTINGS="goToSmartLinkSettings",t.HELP_QUICK_INSERT="helpQuickInsert",t.HYPERLINK="hyperlink",t.INLINE_COMMENT="inlineComment",t.LAYOUT="layout",t.LINE_BREAK="lineBreak",t.LINK="link",t.LINK_PREVIEW="linkPreview",t.LINK_SEARCH_INPUT="linkSearchInput",t.MEDIA="media",t.MEDIA_GROUP="mediaGroup",t.MEDIA_INLINE="mediaInline",t.MEDIA_LINK="mediaLink",t.MEDIA_SINGLE="mediaSingle",t.MENTION="mention",t.NESTED_EXPAND="nestedExpand",t.NODE="node",t.OPEN_LINK="openLink",t.PANEL="panel",t.PASTE_BLOCK_CARD="blockCard",t.PASTE_BLOCKQUOTE="blockQuote",t.PASTE_BODIED_EXTENSION="bodiedExtension",t.PASTE_BULLET_LIST="bulletList",t.PASTE_CODE_BLOCK="codeBlock",t.PASTE_DECISION_LIST="decisionList",t.PASTE_EXPAND="expand",t.PASTE_EXTENSION="extension",t.PASTE_HEADING="heading",t.PASTE_MEDIA_GROUP="mediaGroup",t.PASTE_MEDIA_SINGLE="mediaSingle",t.PASTE_NESTED_EXPAND="nestedExpand",t.PASTE_ORDERED_LIST="orderedList",t.PASTE_PANEL="panel",t.PASTE_PARAGRAPH="paragraph",t.PASTE_RULE="rule",t.PASTE_TABLE="table",t.PASTE_TABLE_CELL="tableCell",t.PASTE_TABLE_HEADER="tableHeader",t.PASTE_TABLE_ROW="tableRow",t.PASTE_TASK_LIST="taskList",t.PICKER_CLOUD="cloudPicker",t.PICKER_COLOR="colorPicker",t.PICKER_EMOJI="emojiPicker",t.PLACEHOLDER_TEXT="placeholderText",t.POST_QUERY_SEARCH_RESULTS="postQuerySearchResults",t.PRE_QUERY_SEARCH_RESULTS="preQuerySearchResults",t.PRODUCT_NAME="productName",t.PUNC="punctuation",t.QUICK_SEARCH="quickSearch",t.RANGE="range",t.REACT_NODE_VIEW="reactNodeView",t.RECENT_ACTIVITIES="recentActivities",t.RESIZED="resized",t.RICH_MEDIA_LAYOUT="richMediaLayout",t.SAVE="save",t.SECTION="section",t.SMART_LINK="smartLink",t.STATUS="status",t.SYMBOL="symbol",t.TABLE="table",t.TEXT="text",t.TYPEAHEAD_EMOJI="emojiTypeAhead",t.TYPEAHEAD_LINK="linkTypeAhead",t.TYPEAHEAD_MENTION="mentionTypeAhead",t.TYPEAHEAD_QUICK_INSERT="quickInsertTypeAhead",t.UNKNOWN_NODE="unknownNode",t.UNLINK="unlink",t.HEADING_ANCHOR_LINK="headingAnchorLink",t.UNSUPPORTED_ERROR="unsupportedUnhandled",t.UNSUPPORTED_NODE_ATTRIBUTE="unsupportedNodeAttribute",t.UNSUPPORTED_BLOCK="unsupportedBlock",t.UNSUPPORTED_INLINE="unsupportedInline",t.UNSUPPORTED_MARK="unsupportedMark",t.ON_UNSUPPORTED_INLINE="onUnsupportedInline",t.ON_UNSUPPORTED_BLOCK="onUnsupportedBlock",t.MULTI_BODIED_EXTENSION="multiBodiedExtension",t}({}),Exe=function(t){return t.INDENT="indent",t.OUTDENT="outdent",t}({}),wxe=function(t){return t.PARAGRAPH="paragraph",t.LIST="list",t.HEADING="heading",t.CODE_BLOCK="codeBlock",t.TASK_LIST="taskList",t}({}),_xe=function(t){return t.LOADING="loading",t.TYPING="typing",t.CLICKING="clicking",t.PASTING="pasting",t}({}),Sxe=function(t){return t.DELETED="deleted",t.CLEARED="cleared",t.COLLAPSED="collapsed",t.MERGED="merged",t.SPLIT="split",t.COLORED="colored",t.TOGGLED_HEADER_COLUMN="toggledHeaderColumn",t.TOGGLED_HEADER_ROW="toggledHeaderRow",t.TOGGLED_NUMBER_COLUMN="toggledNumberColumn",t.CHANGED_BREAKOUT_MODE="changedBreakoutMode",t.CUT="cut",t.COPIED="copied",t.ADDED_ROW="addedRow",t.ADDED_COLUMN="addedColumn",t.DELETED_ROW="deletedRow",t.DELETED_COLUMN="deletedColumn",t.SORTED_COLUMN="sortedColumn",t.REPLACED="replaced",t.ATTEMPTED_TABLE_WIDTH_CHANGE="attemptedTableWidthChange",t.DISTRIBUTED_COLUMNS_WIDTHS="distributedColumnsWidths",t.FIXED="fixed",t.RESIZED="resized",t.RESIZE_PERF_SAMPLING="resizePerfSampling",t.OVERFLOW_CHANGED="overflowChanged",t.INITIAL_OVERFLOW_CAPTURED="initialOverflowCaptured",t.MOVED_ROW="movedRow",t.MOVED_COLUMN="movedColumn",t.ROW_OR_COLUMN_MOVED="rowOrColumnMoved",t}({});const Axe={richText:"richText",plain:"plain",markdown:"markdown",binary:"binary"},Cxe={text:"text",url:"url",code:"code",mediaSingle:"mediaSingle",mediaCard:"mediaCard",mediaGroup:"mediaGroup",tableCells:"tableCells",table:"table",expand:"expand",nestedExpand:"nestedExpand",mixed:"mixed",blockquote:"blockquote",blockCard:"blockCard",bodiedExtension:"bodiedExtension",multiBodiedExtension:"multiBodiedExtension",bulletList:"bulletList",codeBlock:"codeBlock",decisionList:"decisionList",decisionItem:"decisionItem",extension:"extension",heading:"heading",layoutSection:"layoutSection",orderedList:"orderedList",panel:"panel",rule:"rule",tableHeader:"tableHeader",tableRow:"tableRow",taskItem:"taskItem",uncategorized:"uncategorized"};let Dxe=function(t){return t.BACKWARD="backward",t.FORWARD="forward",t}({}),Mxe=function(t){return t.JOIN_SIBLINGS="joinSiblings",t.JOIN_DESCENDANT_TO_PARENT="joinDescendantToParent",t.JOIN_TO_SIBLING_DESCENDANT="joinToSiblingDescendant",t.JOIN_PARAGRAPH_WITH_LIST="joinParagraphWithList",t.JOIN_PARENT_SIBLING_TO_PARENT_CHILD="joinParentSiblingToParentChild",t.JOIN_LIST_ITEM_WITH_PARAGRAPH="joinListItemWithParagraph",t}({}),eI=function(t){return t.NO_JOIN="noJoin",t.JOINED_TO_LIST_ABOVE="joinedToListAbove",t.JOINED_TO_LIST_BELOW="joinedToListBelow",t}({}),Txe=function(t){return t.SPLIT_LIST="splitList",t}({}),Rxe=function(t){return t.FIND_REPLACE="findReplace",t.EMOJI="emoji",t.ORDERED_LIST="orderedList",t.BULLET_LIST="bulletList",t.MEDIA="media",t.MENTION="mention",t.DECISION_LIST="decisionList",t.TASK_LIST="taskList",t.TEXT_COLOR="color",t.TEXT_FORMATTING_STRONG="strong",t.TEXT_FORMATTING_ITALIC="italic",t.UNDO="undo",t.REDO="redo",t.INDENT="indent",t.OUTDENT="outdent",t.RECORD_VIDEO="recordVideo",t}({}),Nxe=function(t){return t.CURSOR="cursor",t.RANGED="ranged",t.TEXT="text",t.NODE="node",t.CELL="cell",t.GAP_CURSOR="gapCursor",t}({}),Oxe=function(t){return t.START="start",t.MIDDLE="middle",t.END="end",t.LEFT="left",t.RIGHT="right",t}({});var Qk;class Cu{constructor(){re(this,"tasks",[]),re(this,"running",!1)}request(e){if(window.requestIdleCallback)window.requestIdleCallback(e);else{const n=performance.now();setTimeout(()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(performance.now()-n))})},0)}}pending(){var e,n;if(typeof((e=window.navigator)===null||e===void 0||(n=e.scheduling)===null||n===void 0?void 0:n.isInputPending)=="function"){var r,o;return((r=window.navigator)===null||r===void 0||(o=r.scheduling)===null||o===void 0?void 0:o.isInputPending())===!0}return!1}process(){this.running||(this.running=!0,this.request(e=>{for(;e.timeRemaining()>0&&this.tasks.length>0&&!this.pending();){const n=this.tasks.shift();n&&n()}this.running=!1,this.tasks.length>0&&this.process()}))}schedule(e){this.tasks.push(e),this.process()}}Qk=Cu;re(Cu,"get",Nh(()=>new Qk));const tI=Y.editor,Lxe=t=>({payload:e,channel:n=tI})=>{if(!t)return;if(!!t.__queueAnalytics)Cu.get().schedule(()=>{var i;return(i=t(e))===null||i===void 0?void 0:i.fire(n)});else{var o;(o=t(e))===null||o===void 0||o.fire(n)}};function Fxe(t){return t.steps.filter(e=>e instanceof _n).reduce((e,n)=>[...e,...n.analyticsEvents],[])}const Ixe=t=>({action:et.CLICKED,actionSubject:t===Te.HYPERLINK?ze.HYPERLINK:ze.SMART_LINK,actionSubjectId:Te.EDIT_LINK,attributes:t!==Te.HYPERLINK?{display:t}:{},eventType:Je.UI}),nI=t=>{switch(t){case Te.CARD_INLINE:return"inline";case Te.CARD_BLOCK:return"block";case Te.EMBEDS:return"embed";default:return"url"}},Pxe=t=>t===Te.HYPERLINK?{action:et.VISITED,actionSubject:ze.HYPERLINK,actionSubjectId:void 0,attributes:{inputMethod:Gs.TOOLBAR},eventType:Je.TRACK}:{action:et.VISITED,actionSubject:ze.SMART_LINK,actionSubjectId:t,attributes:{inputMethod:Gs.TOOLBAR},eventType:Je.TRACK},$xe=t=>({action:et.CLICKED,actionSubject:ze.BUTTON,actionSubjectId:Te.GOTO_SMART_LINK_SETTINGS,attributes:{inputMethod:Gs.TOOLBAR,display:nI(t)},eventType:Je.UI}),zxe=t=>({action:et.UNLINK,actionSubject:t===Te.HYPERLINK?ze.HYPERLINK:ze.SMART_LINK,actionSubjectId:t===Te.HYPERLINK?void 0:t,attributes:{inputMethod:Gs.TOOLBAR},eventType:Je.TRACK});function Bxe(t,e){let n=t;for(;n&&n.parentElement&&!e(n);)n=n.parentElement;return n}function qxe(t,e){const n=document.createDocumentFragment();Array.from(e.children).forEach(r=>{n.appendChild(r)}),t.replaceChild(n,e)}function Vxe(t){for(;t.parentElement&&t.childElementCount===0&&t.textContent==="";){const e=t.parentElement;e.removeChild(t),t=e}}function Uxe(t,e){if(!t)return null;let n=t;if(!document.documentElement||!document.documentElement.contains(n))return null;if(n.closest)return n.closest(e);do{const r=n.matches?n.matches:n.msMatchesSelector;if(r&&r.call(n,e))return n;n=n.parentElement||n.parentNode}while(n!==null&&n.nodeType===1);return null}function Hs(t){return!!t&&t.type.name==="paragraph"&&!t.childCount}const jxe=t=>t&&t.hasOwnProperty("slice"),Gxe=t=>!(t instanceof ue)&&!(t instanceof je)?null:t.slice,Hxe=t=>t instanceof U;function Wxe(t,e,n,r){const o=[];return t.nodesBetween(e,n,(s,i,a)=>{r(s,i,a)&&o.push({node:s,pos:i})}),o}const rI=(t,e)=>{const{selection:n,schema:r}=t;let{tr:o}=t;const s=e.filter(Boolean);if(s.length===0)return;let i=!1;const a=l=>s.indexOf(l.type)>-1;return t.doc.nodesBetween(n.from,n.to,(l,c)=>{if(l.type===r.nodes.paragraph&&l.marks.some(a)){i=!0;const u=t.doc.resolve(c),d=l.marks.filter(oI(a));o=o.setNodeMarkup(u.pos,void 0,l.attrs,d)}}),i?o:void 0},oI=t=>e=>!t(e),sI=(t,e,n,r)=>{e({action:t,actionSubjectId:n,actionSubject:ze.TOOLTIP,eventType:Je.UI,attributes:{unsupportedNodeType:r}})},Kxe=(t,e,n)=>{sI(et.UNSUPPORTED_TOOLTIP_VIEWED,t,e,n)};function iI(t){return t.depth===1}function Xxe(t){const e=t.content.firstChild;return t.childCount!==1||!e?!1:Hs(e)}function Zxe(t){const{selection:e}=t,{$cursor:n,$anchor:r}=e;if(!n)return!1;const o=n.nodeBefore;return o&&o.type.name==="text"&&o.text==="{"?r.node().marks.length===0&&iI(r):!1}function aI(t){const e=n=>n.isText?!!n.textContent.trim():n.type.name!=="hardBreak";if(t.isInline)return e(t);if(t.isBlock&&(t.isLeaf||t.isAtom))return!0;if(!t.childCount)return!1;for(let n=0;n<t.childCount;n++){const r=t.child(n);if(!["paragraph","text","hardBreak"].includes(r.type.name)||aI(r))return!0}return!1}const Yxe=t=>t.selection.$to.parent.type===t.schema.nodes.paragraph&&t.selection.$to.pos===t.doc.resolve(t.selection.$to.pos).end();function Rp(t,e){const{schema:{marks:{annotation:n}}}=e;return!!(n&&t&&t.marks.length&&n.isInSet(t.marks))}function Qxe(t,e){if(!t.content.size)return!1;let n=!1;return t.content.forEach(r=>{if(n=n||Rp(r,e),n)return!0;r.descendants(o=>Rp(o,e)?(n=!0,!1):!0)}),n}const Ve={mac:!1,ie:!1,ie_version:0,gecko:!1,gecko_version:0,chrome:!1,chrome_version:0,android:!1,ios:!1,webkit:!1,safari:!1,safari_version:0,supportsIntersectionObserver:!1,supportsResizeObserver:!1};if(typeof navigator<"u"){const t=/Edge\/(\d+)/.exec(navigator.userAgent),e=/MSIE \d/.test(navigator.userAgent),n=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);Ve.mac=/Mac/.test(navigator.platform);let r=Ve.ie=!!(e||n||t);Ve.ie_version=e?document.documentMode||6:n?+n[1]:t?+t[1]:null,Ve.gecko=!r&&/gecko\/\d/i.test(navigator.userAgent),Ve.gecko_version=parseInt((navigator.userAgent.match(/Firefox\/(\d+)/)||[])[1],10),Ve.chrome=!r&&/Chrome\//.test(navigator.userAgent),Ve.chrome_version=parseInt((navigator.userAgent.match(/Chrome\/(\d+)/)||[])[1],10),Ve.android=/Android \d/.test(navigator.userAgent),Ve.ios=!r&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Ve.webkit=!r&&!!document.documentElement&&"WebkitAppearance"in document.documentElement.style,Ve.safari=!!(navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")===-1&&navigator.userAgent.indexOf("FxiOS")===-1),Ve.safari_version=parseInt((navigator.userAgent.match(/Version\/([0-9\._]+).*Safari/)||[])[1],10),Ve.supportsIntersectionObserver=typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,Ve.supportsResizeObserver=typeof window<"u"&&"ResizeObserver"in window&&"ResizeObserverEntry"in window}const lI=t=>t<10?`0${t}`:t,Jxe=(t,e,n)=>cI(t),cI=t=>{const e=new Date(Number(t));return`${e.getUTCFullYear()}-${lI(e.getUTCMonth()+1)}-${e.getUTCDate()}`},eEe={normal:{id:"fabric.editor.normal",defaultMessage:"Normal text",description:"This is the default text style"},heading1:{id:"fabric.editor.heading1",defaultMessage:"Heading 1",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading1Description:{id:"fabric.editor.heading1Description",defaultMessage:"Use this for a top level heading",description:"Description of the main heading, heading 1"},heading2:{id:"fabric.editor.heading2",defaultMessage:"Heading 2",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading2Description:{id:"fabric.editor.heading2Description",defaultMessage:"Use this for key sections",description:"Description of a subtitle heading or secondary heading"},heading3:{id:"fabric.editor.heading3",defaultMessage:"Heading 3",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading3Description:{id:"fabric.editor.heading3Description",defaultMessage:"Use this for sub sections and group headings",description:""},heading4:{id:"fabric.editor.heading4",defaultMessage:"Heading 4",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading4Description:{id:"fabric.editor.heading4Description",defaultMessage:"Use this for deep headings",description:""},heading5:{id:"fabric.editor.heading5",defaultMessage:"Heading 5",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading5Description:{id:"fabric.editor.heading5Description",defaultMessage:"Use this for grouping list items",description:""},heading6:{id:"fabric.editor.heading6",defaultMessage:"Heading 6",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading6Description:{id:"fabric.editor.heading6Description",defaultMessage:"Use this for low level headings",description:""},blockquote:{id:"fabric.editor.blockquote2",defaultMessage:"Quote",description:"Quote some text"},blockquoteDescription:{id:"fabric.editor.blockquote.description",defaultMessage:"Insert a quote or citation",description:"Quote some text"},codeblock:{id:"fabric.editor.codeblock",defaultMessage:"Code snippet",description:"Insert a snippet/segment of code (code block)"},codeblockDescription:{id:"fabric.editor.codeblock.description",defaultMessage:"Display code with syntax highlighting",description:"Insert a snippet/segment of code (code block)"},infoPanel:{id:"fabric.editor.infoPanel",defaultMessage:"Info panel",description:"Visually distinguishes your text by adding a background colour (blue, purple, yellow, green, red)"},infoPanelDescription:{id:"fabric.editor.infoPanel.description",defaultMessage:"Highlight information in a colored panel",description:"Visually distinguishes your text by adding a background colour (blue, purple, yellow, green, red)"},notePanel:{id:"fabric.editor.notePanel",defaultMessage:"Note panel",description:"Visually distinguishes your text by adding a note panel"},notePanelDescription:{id:"fabric.editor.notePanel.description",defaultMessage:"Add a note in a colored panel",description:"Visually distinguishes your text by adding a note panel"},successPanel:{id:"fabric.editor.successPanel",defaultMessage:"Success panel",description:"Visually distinguishes your text by adding a success panel"},successPanelDescription:{id:"fabric.editor.successPanel.description",defaultMessage:"Add tips in a colored panel",description:"Visually distinguishes your text by adding a success panel"},warningPanel:{id:"fabric.editor.warningPanel",defaultMessage:"Warning panel",description:"Visually distinguishes your text by adding a warning panel"},warningPanelDescription:{id:"fabric.editor.warningPanel.description",defaultMessage:"Add a note of caution in a colored panel",description:"Visually distinguishes your text by adding a warning panel"},errorPanel:{id:"fabric.editor.errorPanel",defaultMessage:"Error panel",description:"Visually distinguishes your text by adding a error panel"},errorPanelDescription:{id:"fabric.editor.errorPanel.description",defaultMessage:"Call out errors in a colored panel",description:"Visually distinguishes your text by adding a error panel"},customPanel:{id:"fabric.editor.customPanel",defaultMessage:"Custom panel",description:"Visually distinguishes your panel by adding a emoji icon and background color"},customPanelDescription:{id:"fabric.editor.customPanel.description",defaultMessage:"Add a note with an emoji and colored background",description:"Visually distinguishes your panel by adding a emoji icon and background color "},other:{id:"fabric.editor.other",defaultMessage:"Others...",description:"Other text formatting"}},tEe={label:{id:"fabric.editor.codeBidiWarningLabel",defaultMessage:"Bidirectional characters change the order that text is rendered. This could be used to obscure malicious code.",description:"Tooltip message to present to users when a bidirectional character is encountered in code."}},nEe={openLink:{id:"fabric.editor.openLink",defaultMessage:"Open link in a new tab",description:"Opens the link in a new tab"}},rEe={addLink:{id:"fabric.editor.mediaAddLink",defaultMessage:"Add link",description:"Add link"},unableToOpenLink:{id:"fabric.editor.unableToOpenLink",defaultMessage:"Unable to open this link",description:"Unable to open this link"},unlink:{id:"fabric.editor.unlink",defaultMessage:"Unlink",description:"Removes the hyperlink but keeps your text."},editLink:{id:"fabric.editor.editLink",defaultMessage:"Edit link",description:"Edit the link, update display text"},placeholder:{id:"fabric.editor.hyperlinkToolbarPlaceholder",defaultMessage:"Paste or search for link",description:"Paste or search for link"},linkPlaceholder:{id:"fabric.editor.linkPlaceholder",defaultMessage:"Paste link",description:"Create a new link by pasting a URL."},linkAddress:{id:"fabric.editor.linkAddress",defaultMessage:"Link address",description:"Insert the address of the link"},invalidLink:{id:"fabric.editor.invalidLink",defaultMessage:"Please enter a valid link.",description:"Please enter a valid link."},emptyLink:{id:"fabric.editor.emptyLink",defaultMessage:"Please enter a link.",description:"Please enter a link."},settingsLink:{id:"fabric.editor.settingsLinks",defaultMessage:"Go to Link Preferences",description:"Go to Link Preferences"},editDatasource:{id:"fabric.editor.edit.datasource",defaultMessage:"Edit search query",description:"Datasource toolbar edit button"}},oEe={unsupportedInlineContent:{id:"fabric.editor.unsupportedInlineContent",defaultMessage:"Unsupported content",description:"Unsupported content"},unsupportedBlockContent:{id:"fabric.editor.unsupportedBlockContent",defaultMessage:"This editor does not support displaying this content",description:"This editor does not support displaying this content"},unsupportedContentTooltip:{id:"fabric.editor.unsupportedContentTooltip",defaultMessage:"Content is not available in this editor, this will be preserved when you edit and save",description:"Content is not available in this editor, this will be preserved when you edit and save"}},sEe={copyCodeToClipboard:{id:"fabric.editor.codeBlockCopyButton.copyToClipboard",defaultMessage:"Copy as text",description:"Copy the content of the code block as text to your clipboard"},copiedCodeToClipboard:{id:"fabric.editor.codeBlockCopyButton.copiedToClipboard",defaultMessage:"Copied!",description:"Copied the content of the code block as text to clipboard"},wrapCode:{id:"fabric.editor.codeBlockWrapButton.wrapCodeBlock",defaultMessage:"Turn on wrap",description:"Wrap the content of the code block"},unwrapCode:{id:"fabric.editor.codeBlockWrapButton.unwrapCodeBlock",defaultMessage:"Turn off wrap",description:"Wrap the content of the code block"}},iEe={action:{id:"fabric.editor.action",defaultMessage:"Action item",description:"Also known as a task, to do item, or a checklist"},actionDescription:{id:"fabric.editor.action.description",defaultMessage:"Create and assign action items",description:""},link:{id:"fabric.editor.link",defaultMessage:"Link",description:"Insert a hyperlink"},linkDescription:{id:"fabric.editor.link.description",defaultMessage:"Insert a link",description:"Insert a hyperlink"},mediaFiles:{id:"fabric.editor.mediaFiles",defaultMessage:"Image, video, or file",description:"Insert one or more files, videos or images"},addMediaFiles:{id:"fabric.editor.addMediaFiles",defaultMessage:"Add image, video, or file",description:"Insert one or more files, videos or images"},mediaFilesDescription:{id:"fabric.editor.mediaFiles.description",defaultMessage:"Add images and other files to your page",description:"Insert one or more files or images"},image:{id:"fabric.editor.image",defaultMessage:"Image",description:"Insert an image."},mention:{id:"fabric.editor.mention",defaultMessage:"Mention",description:"Reference another person in your document"},mentionDescription:{id:"fabric.editor.mention.description",defaultMessage:"Mention someone to send them a notification",description:"Reference another person in your document"},emoji:{id:"fabric.editor.emoji",defaultMessage:"Emoji",description:"Insert an emoticon or smiley :-)"},emojiDescription:{id:"fabric.editor.emoji.description",defaultMessage:"Use emojis to express ideas  and emotions ",description:"Insert an emoticon or smiley :-)"},table:{id:"fabric.editor.table",defaultMessage:"Table",description:"Inserts a table in the document"},tableDescription:{id:"fabric.editor.table.description",defaultMessage:"Insert a table",description:"Inserts a table in the document"},tableSelector:{id:"fabric.editor.tableSelector",defaultMessage:"Table size",description:"Opens a table selector that lets you insert a table of custom size"},tableSelectorDescription:{id:"fabric.editor.tableSelector.description",defaultMessage:"Add a table using popup to select a custom size",description:"Opens a table selector that lets you insert a table of a custom size"},tableSizeSelectorButton:{id:"fabric.editor.tableSizeSelectorButton",defaultMessage:"Create table of size",description:"Creates table popup grid of defined size"},tableSizeSelectorPopup:{id:"fabric.editor.tableSizeSelectorPopup",defaultMessage:"Table size selector",description:"Table selector popup to create table of custom size"},expand:{id:"fabric.editor.expand",defaultMessage:"Expand",description:"Inserts an expand in the document"},expandDescription:{id:"fabric.editor.expand.description",defaultMessage:"Insert an expand",description:"Inserts an expand in the document"},decision:{id:"fabric.editor.decision",defaultMessage:"Decision",description:"Capture a decision youve made"},decisionDescription:{id:"fabric.editor.decision.description",defaultMessage:"Capture decisions so theyre easy to track",description:"Capture a decision youve made"},feedbackDialog:{id:"fabric.editor.feedbackDialog",defaultMessage:"Give feedback",description:"Open the feedback dialog from editor"},feedbackDialogDescription:{id:"fabric.editor.feedbackDialog.description",defaultMessage:"Tell us about your experience using the new editor",description:"Description for feedback option under quick insert dropdown"},horizontalRule:{id:"fabric.editor.horizontalRule",defaultMessage:"Divider",description:"A horizontal rule or divider"},horizontalRuleDescription:{id:"fabric.editor.horizontalRule.description",defaultMessage:"Separate content with a horizontal line",description:"A horizontal rule or divider"},date:{id:"fabric.editor.date",defaultMessage:"Date",description:"Opens a date picker that lets you select a date"},dateDescription:{id:"fabric.editor.date.description",defaultMessage:"Add a date using a calendar",description:"Opens a date picker that lets you select a date"},placeholderText:{id:"fabric.editor.placeholderText",defaultMessage:"Placeholder text",description:"Inserts a text placeholder into the page"},placeholderTextDescription:{id:"fabric.editor.placeholderText.description",defaultMessage:"Insert a text placeholder into the page",description:"Inserts a text placeholder into the page"},columns:{id:"fabric.editor.columns",defaultMessage:"Layouts",description:"Create a multi column section or layout"},columnsDescription:{id:"fabric.editor.columns.description",defaultMessage:"Structure your page using sections",description:"Create a multi column section or layout"},status:{id:"fabric.editor.status",defaultMessage:"Status",description:"Inserts an item representing the status of an activity to task."},statusDescription:{id:"fabric.editor.status.description",defaultMessage:"Add a custom status label",description:"Inserts an item representing the status of an activity to task."},viewMore:{id:"fabric.editor.viewMore",defaultMessage:"View more",description:""},insertMenu:{id:"fabric.editor.insertMenu",defaultMessage:"Insert elements",description:"Opens a menu of additional items that can be inserted into your document."},help:{id:"fabric.editor.help",defaultMessage:"Help",description:"Opens up the help dialog"},helpDescription:{id:"fabric.editor.help.description",defaultMessage:"Browse all the keyboard shortcuts and markdown options",description:"Browse all the keyboard shortcuts and markdown options"},recordVideo:{id:"fabric.editor.recordVideo",defaultMessage:"Record video",description:"Record video using Loom"},recordVideoDescription:{id:"fabric.editor.recordVideo.description",defaultMessage:"Record video using Loom",description:"Record video using Loom"}},aEe={underline:{id:"fabric.editor.underline",defaultMessage:"Underline",description:"Whether the text selection has underlined text"},strike:{id:"fabric.editor.strike",defaultMessage:"Strikethrough",description:"Whether the text selection has crossed out text"},code:{id:"fabric.editor.code",defaultMessage:"Code",description:"Whether the text selection has monospaced/code font"},codeOn:{id:"fabric.editor.code.on",defaultMessage:"{textFormattingOff}, Code On",description:"Reports that code formatting has been turned on"},subscript:{id:"fabric.editor.subscript",defaultMessage:"Subscript",description:"Whether the text selection is written below the line in a slightly smaller size"},subscriptOffSuperscriptOn:{id:"fabric.editor.subscript.off.superscript.on",defaultMessage:"Subscript Off, Superscript On",description:"Reports text formatting in case when subscript off and superscript on"},superscript:{id:"fabric.editor.superscript",defaultMessage:"Superscript",description:"Whether the text selection is written above the line in a slightly smaller size"},superscriptOffSubscriptOn:{id:"fabric.editor.superscript.off.subscript.on",defaultMessage:"Superscript Off, Subscript On",description:"Describe text formatting in case when Superscript Off and Subscript on"},clearFormatting:{id:"fabric.editor.clearFormatting",defaultMessage:"Clear formatting",description:"Remove all rich text formatting from the selected text"},moreFormatting:{id:"fabric.editor.moreFormatting",defaultMessage:"More formatting",description:"Clicking this will show a menu with additional formatting options"},bold:{id:"fabric.editor.bold",defaultMessage:"Bold",description:"This refers to bold or strong formatting, indicates that its contents have strong importance, seriousness, or urgency."},italic:{id:"fabric.editor.italic",defaultMessage:"Italic",description:"This refers to italics or emphasized formatting."},on:{id:"fabric.editor.on",defaultMessage:"{formattingType} On",description:"Reports that text formatting has been turned on"},off:{id:"fabric.editor.off",defaultMessage:"{formattingType} Off",description:"Reports that text formatting has been turned off"},textStyles:{id:"fabric.editor.textStyles",defaultMessage:"Text styles",description:"Menu provides access to various heading styles or normal text"},textFormattingOff:{id:"fabric.editor.text.formatting.off",defaultMessage:"Text formatting Off",description:"Reports that text formatting has been turned off"},navigateToEditorToolbar:{id:"fabric.editor.navigate.toolbar.editor",defaultMessage:"Navigate to editor toolbar",description:"Navigate to the main editor toolbar."},navigateToFloatingToolbar:{id:"fabric.editor.navigate.toolbar.floating",defaultMessage:"Navigate to floating toolbar",description:"Navigate to a floating toolbar for relevant nodes (e.g. tables or panels)."}},lEe={unorderedList:{id:"fabric.editor.unorderedList",defaultMessage:"Bullet list",description:"A list with bullets. Also known as an unordered list"},unorderedListDescription:{id:"fabric.editor.unorderedList.description",defaultMessage:"Create an unordered list",description:""},orderedList:{id:"fabric.editor.orderedList",defaultMessage:"Numbered list",description:"A list with ordered items 1 2 3"},orderedListDescription:{id:"fabric.editor.orderedList.description",defaultMessage:"Create an ordered list",description:""},lists:{id:"fabric.editor.lists",defaultMessage:"Lists",description:"Menu shows ordered/bullet list and unordered/numbered lists"}},cEe={layoutFixedWidth:{id:"fabric.editor.layoutFixedWidth",defaultMessage:"Back to center",description:"Display your element (image, table, extension, etc) as standard width"},layoutWide:{id:"fabric.editor.layoutWide",defaultMessage:"Go wide",description:"Display your element (image, table, extension, etc) wider than normal"},layoutFullWidth:{id:"fabric.editor.layoutFullWidth",defaultMessage:"Go full width",description:"Display your element (image, table, extension, etc) as full width"},alignImageRight:{id:"fabric.editor.alignImageRight",defaultMessage:"Align right",description:"Aligns image to the right"},alignImageCenter:{id:"fabric.editor.alignImageCenter",defaultMessage:"Align center",description:"Aligns image to the center"},alignImageLeft:{id:"fabric.editor.alignImageLeft",defaultMessage:"Align left",description:"Aligns image to the left"},remove:{id:"fabric.editor.remove",defaultMessage:"Remove",description:"Delete the element (image, panel, table, etc.) from your document"},removeEmoji:{id:"fabric.editor.removeEmoji",defaultMessage:"Remove emoji",description:"Remove the emoji panel icon from custom panel"},visit:{id:"fabric.editor.visit",defaultMessage:"Open link in a new window",description:"Open the link in a new window"},inviteToEditButtonTitle:{id:"fabric.editor.editMode.inviteToEditButton.title",defaultMessage:"Invite to edit",description:"Invite another user to edit the current document"},saveButton:{id:"fabric.editor.saveButton",defaultMessage:"Save",description:"Submit and save a comment or document"},cancelButton:{id:"fabric.editor.cancelButton",defaultMessage:"Cancel",description:"Discard the current comment or document"},taskList:{id:"fabric.editor.tooltip.taskList",defaultMessage:"an action item",description:"an action item in the Editor"},bulletList:{id:"fabric.editor.tooltip.bulletList",defaultMessage:"a list",description:"a list item in the Editor"},nestedExpand:{id:"fabric.editor.tooltip.nestedExpand",defaultMessage:"a nested expand",description:"expand node which is nested"},decisionList:{id:"fabric.editor.tooltip.decisionList",defaultMessage:"a decision list",description:"a list of decisions"},defaultBlockNode:{id:"fabric.editor.tooltip.defaultBlockNode",defaultMessage:"a block node",description:"a block node element"},panel:{id:"fabric.editor.tooltip.blockPanel",defaultMessage:"a panel",description:"Panel node in the Editor"},blockquote:{id:"fabric.editor.blockquote",defaultMessage:"a quote",description:"a quote node"},timeUpdated:{id:"fabric.editor.time.updated",defaultMessage:"Updated",description:"Time last updated"},timeViewed:{id:"fabric.editor.time.viewed",defaultMessage:"Viewed",description:"Time last viewed"},timeAgo:{id:"fabric.editor.time.ago",defaultMessage:"ago",description:"Some time ago"},copyToClipboard:{id:"fabric.editor.copyToClipboard",defaultMessage:"Copy",description:"Copy the whole content of the element to your clipboard"},copiedToClipboard:{id:"fabric.editor.copiedToClipboard",defaultMessage:"Copied!",description:"Copied the whole content of the element to clipboard"}},Du=(t,e)=>e&&t&&t.type===e,uEe=(t,e)=>Du(t,e.nodes.paragraph),dEe=(t,e)=>Du(t,e.nodes.text),fEe=(t,e)=>Du(t,e.marks.link),pEe=(t,e,n)=>{const o=t.selection.$from.node(-1);return o&&o.type.validContent(e)},Jk=t=>["media","mediaInline","mediaGroup","mediaSingle"].includes(t.type.name),hEe=(t,e)=>{let n=t.nodeBefore;if(!n){const r=t.depth-1||1,o=_r([e.schema.nodes[`${t.node(r).type.name}`]])(e.selection),s=o?e.tr.doc.resolve(o.pos):void 0,i=s&&s.pos<e.doc.nodeSize?s.nodeBefore:void 0;i&&(n=i)}return n?["media","mediaInline","mediaGroup","mediaSingle"].includes(n.type.name):!1};function Np(t){return typeof t=="function"}function mEe(t,e,n={}){const{mapping:r,onDocChanged:o,onSelectionChanged:s}=n;return{createPluginState(i,a){return{init:(l,c)=>Np(a)?a(c):a,apply:(l,c,u,d)=>{const f=r?r(l,c,d):c;let p=f;const h=l.getMeta(t);return h&&(p=e(f,h)),o&&l.docChanged?p=o(l,p,d):s&&l.selectionSet&&(p=s(l,p,d)),p!==f&&i(t,p),p}}},createCommand(i,a){return(l,c)=>{if(c){const u=a?a(l.tr,l):l.tr,d=Np(i)?i(l):i;if(u&&d)c(u.setMeta(t,d));else return!1}return!0}},getPluginState(i){return t.getState(i)}}}function uI(t){return t.content}function ex(t,e,n=null){const r=[];for(let o=0,s=t.childCount;o<s;o++){const i=t.child(o),a=i.isLeaf?e(i,n,o):e(i.copy(ex(i.content,e,i)),n,o);a&&(a instanceof S?r.push(...uI(a)):Array.isArray(a)?r.push(...a):r.push(a))}return S.fromArray(r)}function dI(t,e){const n=ex(t.content,e);return new R(n,t.openStart,t.openEnd)}function gEe(t,e){const n=[];for(let r=0;r<t.childCount;r++)n.push(e(t.child(r),r,t instanceof S?t:t.content));return n}const fI=t=>{switch(t){case"full-page":return Fr.FIXED_WIDTH;case"full-width":return Fr.FULL_WIDTH;case"comment":return Fr.COMMENT;case"chromeless":return Fr.CHROMELESS;case"mobile":return Fr.MOBILE}},yEe=t=>t?`editor_${fI(t)}`:"_unknown",bEe=(t,e,n)=>t>e&&t<=n?Oa.DEGRADED:t>n?Oa.BLOCKING:Oa.NORMAL;let Oa=function(t){return t.NORMAL="normal",t.DEGRADED="degraded",t.BLOCKING="blocking",t}({});const vEe="EDITOR_ANALYTICS_EVENT";let La;function Si(){return La===void 0&&(La=typeof window<"u"&&"performance"in window&&["measure","clearMeasures","clearMarks","getEntriesByName","getEntriesByType","now"].every(t=>!!performance[t])),La}function kEe(){return typeof window<"u"&&"PerformanceObserver"in window}const pI=()=>{if(typeof document>"u")return{distortedDuration:!1,cleanup(){}};let t=document.visibilityState!=="visible";function e(){document.visibilityState!=="visible"&&(t=!0)}return document.addEventListener("visibilitychange",e),{distortedDuration:t,cleanup(){document.removeEventListener("visibilitychange",e)}}};function xEe(t,e){if(!Si())return;const n=`[START]: ${t}`,r=`[END]: ${t}`,o=performance.now();performance.mark(n);let s=pI();requestAnimationFrame(()=>{requestAnimationFrame(()=>{performance.mark(r),s.cleanup();const i=performance.now()-o;try{performance.measure(t,n,r);const a=performance.getEntriesByName(t).pop();e(a?{duration:a.duration,startTime:a.startTime,distortedDuration:s.distortedDuration}:{duration:i,startTime:o,distortedDuration:s.distortedDuration})}catch{e({duration:i,startTime:o,distortedDuration:s.distortedDuration})}performance.clearMeasures(t),performance.clearMarks(n),performance.clearMarks(r)})})}const Mu=new Map;function hI(t){Si()&&(performance.mark(`${t}::start`),Mu.set(t,performance.now()))}function mI(t,e){if(!Si())return;performance.mark(`${t}::end`);const n=e?Mu.get(t):void 0;try{performance.measure(t,`${t}::start`,`${t}::end`)}catch{}finally{if(e){const r=performance.getEntriesByName(t).pop();r?e(r.duration,r.startTime):n&&e(performance.now()-n,n)}gI(t)}}function gI(t){Si()&&(Mu.delete(t),performance.clearMarks(`${t}::start`),performance.clearMarks(`${t}::end`),performance.clearMeasures(t))}function EEe(t,e,n){if(!e.nodes.tableRow)return!1;let r=t.doc,o=t;const s=n==="before"?"nodeBefore":"nodeAfter";for(;o.depth>0;){var i;if(((i=o[s])===null||i===void 0?void 0:i.type)===e.nodes.tableRow)return!0;o=r.resolve(o[n]())}return!1}let wEe=function(t){return t[t.XXL=6]="XXL",t[t.XL=5]="XL",t[t.L=4]="L",t[t.M=3]="M",t[t.S=2]="S",t[t.XXXS=1]="XXXS",t}({});const _Ee="";let yI=0;const bI=100,vI=7;function SEe(t){var e,n;const o={key:"analyticsPlugin$",getState:l=>l.analyticsPlugin$}.getState(t.state),s=o&&o.performanceTracking?o.performanceTracking.nodeViewTracking||{}:{},i=(e=s.samplingRate)!==null&&e!==void 0?e:bI,a=(n=s.slowThreshold)!==null&&n!==void 0?n:vI;return{trackingEnabled:!!s.enabled,samplingRate:i,slowThreshold:a}}function AEe({nodeTypeName:t}){hI(`${t}::ReactNodeView`)}function CEe({nodeTypeName:t,dispatchAnalyticsEvent:e,samplingRate:n,slowThreshold:r}){mI(`${t}::ReactNodeView`,o=>{++yI%n===0&&o>r&&e({action:et.REACT_NODEVIEW_RENDERED,actionSubject:ze.EDITOR,eventType:Je.OPERATIONAL,attributes:{node:t,duration:o}})})}function DEe(t,e){if(Array.isArray(e)){let o=e;e=s=>o.indexOf(s.type.name)>-1}const n=[];for(let o=0;o<t.mapping.maps.length;o++){const s=t.mapping.maps[o];for(let i=0;i<n.length;i++)n[i]=s.map(n[i]);s.forEach((i,a,l,c)=>n.push(l,c))}const r=[];for(let o=0;o<n.length;o+=2){const s=n[o],i=n[o+1],a=t.doc.resolve(s),l=a.sharedDepth(i),c=a.node(l);for(let u=a.indexAfter(l),d=a.after(l+1);d<=i;++u){const f=c.maybeChild(u);if(!f)break;if(u&&r.indexOf(d)===-1){const p=c.child(u-1);p.type===f.type&&e(p,f)&&r.push(d)}d+=f.nodeSize}}r.sort((o,s)=>o-s);for(let o=r.length-1;o>=0;o--)Mo(t.doc,r[o])&&t.join(r[o])}const tx=1,nx=t=>{const e=Number(t);if(!Number.isNaN(e)&&!(e<0))return Math.floor(Math.max(e,0))},Op=t=>{var e,n;const r=t==null||(e=t.attrs)===null||e===void 0?void 0:e.order;return(n=nx(r))!==null&&n!==void 0?n:tx},MEe=t=>{var e,n,r,o;const s=(e=nx(t.order))!==null&&e!==void 0?e:tx,i=typeof t.itemsCount=="number"?t.itemsCount:0,a=s+(i-1);return(n=String(a))===null||n===void 0||(r=n.split("."))===null||r===void 0||(o=r[0])===null||o===void 0?void 0:o.length};function kI(t){return!!(t&&t.type&&["orderedList","bulletList"].includes(t.type.name))}function TEe(t){return!!(t&&t.type&&t.type.name==="paragraph")}function REe(t){return!!(t&&t.type&&t.type.name==="listItem")}function NEe(t){return!!(t&&t.type&&t.type.name==="bulletList")}function Lp(t){return!!(t&&t.type&&t.type.name==="orderedList")}const OEe=(t,e)=>Lp(t)&&Lp(e)?Op(t)+t.childCount===Op(e):!1,xI=/([a-zA-Z]:|\\)([^\/:*?<>"|]+\\)?([^\/:*?<>"| ]+(?=\s?))?/gim,EI=/^(\$|{)/;class LEe{static create(){class e{exec(r){const o=r.slice(0,r.length-1).split(" "),s=o[o.length-1],i=s.length>0;if(!r.endsWith(" ")||!i||EI.test(s))return null;const a=Wt.match(s);if(!a||a.length===0)return null;const l=a[a.length-1],c=a[a.length-1];return c.input=r.substring(l.index),c.length=c.lastIndex-c.index+1,c.index=r.lastIndexOf(s)+l.index,c}}return new e}}function wI(t){return t?bi(t)?t:Sb(t):""}function FEe(t){return e=>dI(e,(n,r)=>{const o=!r||r.type!==t.nodes.codeBlock,s=n.type.schema.marks.link;if(s===void 0)throw new Error("Link not in schema - unable to linkify content");if(o&&n.isText&&!s.isInSet(n.marks)){const i=[],a=n.text,l=SI(a);let c=0;const u=AI(a);return l.forEach(d=>{CI(d.start,u)||(d.start>0&&i.push(n.cut(c,d.start)),i.push(n.cut(d.start,d.end).mark(s.create({href:wI(d.href)}).addToSet(n.marks))),c=d.end)}),c<a.length&&i.push(n.cut(c)),i}return n})}function rx(t){return t.toLowerCase().replace(/^(.*):\/\//,"").replace(/^(www\.)/,"").replace(/[:\/?#](.*)$/,"")}function _I(t){if(!window||!window.location)return!1;const e=window.location.hostname,n=rx(t);return e===n}function SI(t){const e=[];let n=t&&Wt.match(t);return n&&n.length>0&&n.forEach(r=>{e.push({start:r.index,end:r.lastIndex,title:r.raw,href:r.url})}),e}const AI=(t,e=0)=>{const n=new RegExp(xI);let r;const o=[],s=260;for(;(r=n.exec(t))!==null;){const i=r.index+e;let a=n.lastIndex+e;a-i>s&&(a=i+s),o.push({startIndex:i,endIndex:a})}return o},CI=(t,e)=>{for(let n=0;n<e.length;n++)if(t>=e[n].startIndex&&t<e[n].endIndex)return!0;return!1};function IEe(t,e){return{action:et.INSERTED,actionSubject:ze.DOCUMENT,actionSubjectId:Te.LINK,attributes:{inputMethod:t,fromCurrentDomain:_I(e)},eventType:Je.TRACK,nonPrivacySafeAttributes:{linkDomain:rx(e)}}}const PEe=(t,e)=>n=>{if(!n.doc.rangeHasMark(t,e,n.schema.marks.link)){const r=n.doc.resolve(t),o=n.doc.resolve(e),s=n.schema.marks.link;if(r.parent===o.parent&&r.parent.isTextblock&&r.parent.type.allowsMarkType(s)){let i=!0;return n.doc.nodesBetween(t,e,a=>(i=i&&!a.marks.some(l=>l.type.excludes(s)),i)),i}}return!1},$Ee=250,zEe="caption-placeholder";function DI(t,e,n){return r=>(o,s,i)=>r(o,a=>{if(s)if(e instanceof Function){const l=e(o);l&&(t==null||t.attachAnalyticsEvent(l,n)(a),s(a))}else t==null||t.attachAnalyticsEvent(e,n)(a),s(a)},i)}let BEe=function(t){return t.Before="Before",t.Start="Start",t.Inside="Inside",t.End="End",t}({});const MI=["paragraph","bulletList","orderedList","listItem","taskItem","decisionItem","heading","blockquote","layoutColumn","caption","media","extensionFrame"],TI=t=>!!t&&MI.indexOf(t.type.name)!==-1,Fp=t=>!!t&&!TI(t);let kn=function(t){return t.LEFT="left",t.RIGHT="right",t}({});const ox="gapcursor";class ae extends V{constructor(e,n=kn.LEFT){super(e,e),re(this,"visible",!1),this.side=n}static valid(e){const{parent:n,nodeBefore:r,nodeAfter:o}=e;if(!(Fp(r)?r:Fp(o)?o:null)||n.isTextblock)return!1;const i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findFrom(e,n,r=!1){const o=n===1?kn.RIGHT:kn.LEFT;if(!r&&ae.valid(e))return new ae(e,o);let s=e.pos,i=null;for(let a=e.depth;;a--){const l=e.node(a);if(o===kn.RIGHT?e.indexAfter(a)<l.childCount:e.index(a)>0){i=l.maybeChild(o===kn.RIGHT?e.indexAfter(a):e.index(a)-1);break}else if(a===0)return null;s+=n;const c=e.doc.resolve(s);if(ae.valid(c))return new ae(c,o)}for(;i=o===kn.RIGHT?i.firstChild:i.lastChild,i!==null;){s+=n;const a=e.doc.resolve(s);if(ae.valid(a))return new ae(a,o)}return null}static fromJSON(e,n){return new ae(e.resolve(n.pos),n.side)}map(e,n){const r=e.resolve(n.map(this.head));return ae.valid(r)?new ae(r,this.side):V.near(r)}eq(e){return e instanceof ae&&e.head===this.head}content(){return R.empty}getBookmark(){return new Tu(this.anchor)}toJSON(){return{pos:this.head,type:ox,side:this.side}}}try{V.jsonID(ox,ae)}catch{}class Tu{constructor(e){this.pos=e}map(e){return new Tu(e.map(this.pos))}resolve(e){const n=e.resolve(this.pos);return ae.valid(n)?new ae(n):V.near(n)}}const qEe=(t,e=kn.LEFT)=>(n,r)=>{if(t>n.doc.content.size)return!1;const o=n.doc.resolve(t);return ae.valid(o)?(r&&r(n.tr.setSelection(new ae(o,e))),!0):!1};function VEe(t,e,n){const{state:r}=t;t.dispatch(r.tr.setSelection(new ae(r.doc.resolve(e),n)))}const RI=g1`
  from, to {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
`,NI="ProseMirror-hide-gapcursor",$=".ProseMirror-gapcursor",Ip=".ProseMirror-widget",z='[layout="wrap-left"]',B='[layout="wrap-right"]';hc`
  /* =============== GAP CURSOR ================== */
  .ProseMirror {
    &.${NI} {
      caret-color: transparent;
    }

    ${$} {
      display: none;
      pointer-events: none;
      position: relative;

      & span {
        caret-color: transparent;
        position: absolute;
        height: 100%;
        width: 100%;
        display: block;
      }

      & span::after {
        animation: 1s ${RI} step-end infinite;
        border-left: 1px solid;
        content: '';
        display: block;
        position: absolute;
        top: 0;
        height: 100%;
      }
      &.-left span::after {
        left: -3px;
      }
      &.-right span::after {
        right: -3px;
      }
      & span[layout='full-width'],
      & span[layout='wide'],
      & span[layout='fixed-width'] {
        margin-left: 50%;
        transform: translateX(-50%);
      }
      &${B} {
        float: right;
      }

      /* fix vertical alignment of gap cursor */
      &:first-of-type + ul,
      &:first-of-type + span + ul,
      &:first-of-type + ol,
      &:first-of-type + span + ol,
      &:first-of-type + pre,
      &:first-of-type + span + pre,
      &:first-of-type + blockquote,
      &:first-of-type + span + blockquote {
        margin-top: 0;
      }
    }
    &.ProseMirror-focused ${$} {
      display: block;
      border-color: transparent;
    }
  }

  /* This hack below is for two images aligned side by side */
  ${$}${z} + span + ${z},
  ${$}${B} + span + ${B},
  ${$} + ${z} + ${B},
  ${$} + ${z} + span + ${B},
  ${$} + ${B} + ${z},
  ${$} + ${B} + span + ${z},
  ${z} + ${$} + ${B},
  ${z} + ${$} + span ${B},
  ${B} + ${$} + ${z},
  ${B} + ${$} + span + ${z},
  ${z} + ${$} {
    clear: none;
  }

  ${z} + ${$} + ${B} > div,
  ${z} + ${$} + span + ${B} > div,
  ${B} + ${$} + ${z} > div,
  ${B} + ${$} + span + ${z} > div,
  ${$} + ${B} + ${z} > div,
  ${$} + ${B} + span + ${z} > div,
  ${$} + ${z} + ${B} > div,
  ${$} + ${z} + span + ${B} > div {
    margin-right: 0;
    margin-left: 0;
    margin-bottom: 0;
  }

  ${z} + ${$},
  ${B} + ${$} {
    float: left;
  }

  ${$} + ${z} + span + ${B}::after,
  ${$} + ${B} + span + ${z}::after,
  ${z} + ${$} + ${B}::after,
  ${z} + ${$} + span + ${B}::after,
  ${B} + ${$} + ${z}::after,
  ${B} + ${$} + span + ${z}::after {
    visibility: hidden;
    display: block;
    font-size: 0;
    content: ' ';
    clear: both;
    height: 0;
  }

  ${z} + ${$} + ${B} + *,
  ${z} + ${$} + ${B} + span + *,
  ${B} + ${$} + ${z} + *,
  ${B} + ${$} + ${z} + span + *,
  ${z} + ${$} + span + ${B} + *,
  ${B} + ${$} + span + ${z} + *,
  ${$} + ${z} + span + ${B} + *,
  ${$} + ${B} + span + ${z} + *,
  ${z} + ${$} + ${B} + * > *,
  ${z} + ${$} + ${B} + span + * > *,
  ${B} + ${$} + ${z} + * > *,
  ${B} + ${$} + ${z} + span + * > *,
  ${z} + ${$} + span + ${B} + * > *,
  ${B} + ${$} + span + ${z} + * > *,
  ${$} + ${z} + span + ${B} + * > *,
  ${$} + ${B} + span + ${z} + * > *,
  ${Ip} + ${$} + *,
  ${Ip} + ${$} + span + * {
    margin-top: 0;
  }
`;const UEe=(t,e)=>{if(!e)return!1;for(let n=t.depth+1;n>0;n--){const r=t.node(n);if(r&&r.eq(e.node))break;if(n>1&&t.before(n)!==t.before(n-1)+1)return!1}return!0};function jEe(t){const{selection:e,doc:n}=t;return n.nodeSize-e.$to.pos-2===e.$to.depth}function GEe(t){const{selection:e}=t;return e.$from.pos===e.$from.depth}function HEe(t){if(t instanceof P)return{action:et.SELECTED,actionSubject:ze.DOCUMENT,actionSubjectId:Te.NODE,eventType:Je.TRACK,attributes:{node:t.node.type.name}}}function WEe(t){if(t instanceof Ge)return{action:et.SELECTED,actionSubject:ze.DOCUMENT,actionSubjectId:Te.ALL,eventType:Je.TRACK}}function KEe(t){if(t.selection instanceof Ue){const e=Hk(t),n=e.map.cellsInRect(e).length,r=e.map.map.length;return{action:et.SELECTED,actionSubject:ze.DOCUMENT,actionSubjectId:Te.CELL,eventType:Je.TRACK,attributes:{selectedCells:n,totalCells:r}}}}function XEe(t,e){if(t instanceof U&&t.from!==t.to){const{from:n,to:r,anchor:o,head:s}=t,i=[];return e.nodesBetween(n,r,(a,l)=>{if(a.isText||l>=n&&l+a.nodeSize<=r)return i.push(a.type.name),!1}),{action:et.SELECTED,actionSubject:ze.DOCUMENT,actionSubjectId:Te.RANGE,eventType:Je.TRACK,attributes:{from:o,to:s,nodes:i}}}}const OI=t=>(e,n)=>(n&&n(e.tr.setSelection(new P(e.doc.resolve(t)))),!0);function ZEe(t,e,n){return function(o,s,i,a,l,c){if(n.useLongPressSelection)return!1;if(c&&t.indexOf(i.type.name)!==-1&&l.target){const u=l.target;if(e(u)){const d=n.getNodeSelectionPos?n.getNodeSelectionPos(o.state,a):a;return OI(d)(o.state,o.dispatch),!0}}return!1}}const YEe=(t,e)=>function(n,r,o){return Array.isArray(t)||(t=[t]),t.some(s=>!s(n,o))?!1:e(n,r,o)||!1},LI=t=>{let e=t;for(;e.pos<e.doc.nodeSize-2&&(e.pos===t.pos||e.parentOffset>0);)e=e.doc.resolve(e.pos+1);return{$pos:e,foundNode:e.pos<e.doc.nodeSize-2}},QEe=t=>{let e=t;for(;e.pos>0&&(e.pos===t.pos||e.parentOffset<e.parent.nodeSize-2);)e=e.doc.resolve(e.pos-1);return{$pos:e,foundNode:e.pos>0}};function FI(){return function(t,e){const{$from:n}=t.selection,r=n.parent,{hardBreak:o}=t.schema.nodes;if(o){const s=o.createChecked();if(r&&r.type.validContent(S.from(s)))return e&&e(t.tr.replaceSelectionWith(s,!1)),!0}return t.selection instanceof U?(e&&e(t.tr.insertText(`
`)),!0):!1}}const JEe=t=>DI(t,{action:et.INSERTED,actionSubject:ze.TEXT,actionSubjectId:Te.LINE_BREAK,eventType:Je.TRACK})(FI()),e1e=(t,e)=>!zI(t)&&sx(t)?(ix(!1)(t,e),!0):!1,t1e=(t,e)=>!BI(t)&&sx(t)?(ix(!0)(t,e),!0):!1;function sx(t){const{selection:{$from:e}}=t,n=e.node(e.depth),r=!!n&&n.type===t.schema.nodes.codeBlock,o=t.selection instanceof P;return e.depth>1||o||r}function ix(t=!0){return function(e,n){const r=e.schema.nodes.paragraph;if(!r)return!1;let o;if(e.selection instanceof U){if($I(e))return!1;o=II(e,t)}else o=PI(e,t);const s=e.tr.insert(o,r.createAndFill());return s.setSelection(U.create(s.doc,o+1)),n&&n(s),!0}}function II(t,e){const{$from:n,$to:r}=t.selection;let o;return e?o=r.end(0):o=n.start(0),o}function PI(t,e){const{$from:n,$to:r}=t.selection,o=t.selection instanceof P&&t.doc.nodeAt(t.selection.$anchor.pos),s=o&&o.type.name==="mediaGroup";let i;return e?(i=r.end(r.depth),i=r.depth>0&&!s?i+1:i):(i=n.start(n.depth),i=n.depth>0&&!s?i-1:i),i}function $I(t){const e=t.selection.$from.node(1);return e.isTextblock&&e.type!==t.schema.nodes.codeBlock&&e.nodeSize===2}function zI(t){const{selection:e}=t;return e instanceof P&&Jk(e.node)||e instanceof U&&!e.empty?!0:!VI(t)}function BI(t){const{selection:e}=t;return e instanceof P&&Jk(e.node)||e instanceof U&&!e.empty?!0:!qI(t)}function qI(t){const{selection:e,doc:n}=t;return n.nodeSize-e.$to.pos-2===e.$to.depth}function VI(t){const{selection:e}=t;return e.$from.pos===e.$from.depth}const n1e=t=>(e,n,r)=>{const{selection:{$from:{pos:o,parent:s},$head:i,empty:a},tr:l,doc:c}=e,{$pos:u}=LI(i),d=c.nodeAt(u.pos-1);return a&&d&&t(d)&&Hs(s)&&r!==null&&r!==void 0&&r.endOfTextblock("right")?(l.deleteRange(o-1,o+1),n&&n(l),!0):!1},r1e=(t,e,n,r)=>{n.forEach(o=>{let[s,i]=o;t.insert(t.mapping.map(i),s)}),r.forEach(o=>{let[s,i]=o;t.delete(t.mapping.map(s),t.mapping.map(i))}),t.setSelection(new U(e(t)))},o1e=t=>{const{empty:e,$from:n}=t.selection;return e&&(n.parentOffset===0||t.selection instanceof ae)},s1e=t=>{const{empty:e,$from:n}=t.selection;return e&&(n.end()===n.pos||t.selection instanceof ae)},i1e=120,a1e="#editor-scroll-gutter",l1e=t=>performance.now()-t;function c1e(t){var e,n,r,o;const s={},i={},a=t.schema.nodes,l=[(e=a.extension)===null||e===void 0?void 0:e.name,(n=a.inlineExtension)===null||n===void 0?void 0:n.name,(r=a.bodiedExtension)===null||r===void 0?void 0:r.name,(o=a.multiBodiedExtension)===null||o===void 0?void 0:o.name];return t.doc.descendants(c=>{var u;const d=c.type.name;d in s?s[d]++:s[d]=1;let f=d;if(l.includes(f)&&(u=c.attrs)!==null&&u!==void 0&&u.extensionType){var p;f=`${c.attrs.extensionType} - ${(p=c.attrs)===null||p===void 0?void 0:p.extensionKey}`,f in i?i[f]++:i[f]=1}return!0}),{nodeCount:s,extensionNodeCount:i}}const u1e=(t,e)=>n=>({...n,onHandlerApply:(o,s,i)=>{const a=typeof t=="function"?t(o,i):t;a&&a.attributes&&(a.attributes.formatSize=typeof i[0]=="string"?i[0].length:0),e==null||e.attachAnalyticsEvent(a)(s),n.onHandlerApply&&n.onHandlerApply(o,s,i)}}),d1e=({match:t,nodeType:e,getAttrs:n,joinPredicate:r})=>UI(t,(s,i,a,l)=>{const c=(n instanceof Function?n(i):n)||{},u=s.tr,d=Math.max(a,1);u.delete(d,l);const p=u.doc.resolve(d).blockRange(),h=p&&Hv(p,e,c);if(!h||!p)return null;const m=u.mapping.map(p.start),g=u.doc.nodeAt(m),y=h[h.length-1];if(g&&y){const v=y.type.allowedMarks(g.marks)||[];u.setNodeMarkup(m,g.type,g.attrs,v)}u.wrap(p,h);const b=u.doc.resolve(d-1).nodeBefore;return b&&b.type===e&&Mo(u.doc,d-1)&&(!r||r(i,b,eI.JOINED_TO_LIST_ABOVE))&&u.join(d-1),u}),UI=(t,e)=>({match:t,handler:e,onHandlerApply:(n,r)=>{Zk(r)}});function f1e(t=[],e=n=>n){const n=new Set;return t.forEach(r=>n.add(e(r))),t.filter(r=>{const o=e(r);return n.has(o)?(n.delete(o),!0):!1})}function jI({state:t,type:e,nodeAttributes:n}){let{tr:r}=t;const{alignment:o,indentation:s}=t.schema.marks;r=rI(t,[o,s])||r;const{range:a,wrapping:l}=GI(t,e,n);return l?r.wrap(a,l).scrollIntoView():nk(e.createAndFill(n))(r).scrollIntoView(),r}function GI(t,e,n){const{$from:r,$to:o}=t.selection,s=r.blockRange(o);let i=!0;t.selection.empty&&t.doc.nodesBetween(r.pos,o.pos,l=>i?i=l.type!==t.schema.nodes.codeBlock:!1);const a=i&&s&&Hv(s,e,n);return{range:s,wrapping:a}}function p1e(t,e){var n,r;const{$to:o,$from:s,to:i,from:a}=t.selection,{orderedList:l,bulletList:c,listItem:u}=t.doc.type.schema.nodes,d=s.start(),f=s.depth===0?0:s.before(),p=d===a?f:a,h=_r(u)(t.selection),m=_r([c,l])(t.selection),g=m==null?void 0:m.node;if(!m)return t;const y=o.depth-m.depth+1,b=o.depth-m.depth,N=!!ka(t.doc.resolve(m.pos),[c,l]);let C=!1;if(h==null||h.node.content.forEach(k=>{kI(k)&&(C=!0)}),C||N)return nk(e)(t).scrollIntoView();const E=((n=t.doc.nodeAt(i+b))===null||n===void 0?void 0:n.type)===u;let D;E?D=i+b:E?D=i+y:D=i,t.replaceWith(p,D,e).scrollIntoView();const q=o.indexAfter(o.depth-b),w=t.doc.resolve(m.pos+1).posAtIndex(q),x=t.mapping.map(w);if(x>t.doc.nodeSize)return t;const M=ka(t.doc.resolve(x),[l]),O=g==null?void 0:g.attrs.order,I=(r=ka(t.doc.resolve(a-1),[l]))===null||r===void 0?void 0:r.node.childCount;return typeof O=="number"&&I&&M&&t.setNodeMarkup(M.pos,l,{...M.node.attrs,order:O+I}),t}function h1e(t){return function(e,n){let r=jI({state:e,type:t});return n&&n(r),!0}}function m1e(t={},e={}){const n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.reduce((o,s)=>o&&t[s]===e[s],!0)}const g1e=t=>sk(t.schema.nodes.listItem)(t.selection),y1e=t=>{const{tableCell:e,tableHeader:n}=t.schema.nodes;return sk([e,n])(t.selection)},b1e=t=>{const{doc:e,paragraph:n,codeBlock:r,blockquote:o,panel:s,heading:i,listItem:a,bulletList:l,orderedList:c,taskList:u,taskItem:d,decisionList:f,decisionItem:p,media:h,mediaGroup:m,mediaSingle:g}=t.nodes,y=b=>{switch(b.type){case h:case m:case g:return!1;case n:case r:case i:case d:case p:return b.content.size===0;case o:case s:case a:return b.content.size===2&&y(b.content.firstChild);case l:case c:return b.content.size===4&&y(b.content.firstChild);case u:case f:return b.content.size===2&&y(b.content.firstChild);case e:let v=!0;return b.content.forEach(N=>{v=v&&y(N)}),v;default:return HI(b)}};return y};function HI(t){if(t&&t.textContent)return!1;if(!t||!t.childCount||t.childCount===1&&Hs(t.firstChild))return!0;const e=[],n=[];return t.forEach(r=>{r.isInline?n.push(r):e.push(r)}),!n.length&&!e.filter(r=>!!r.childCount&&!(r.childCount===1&&Hs(r.firstChild))||r.isAtom).length}const WI=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function KI(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,o,s,i;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))i=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))WI?i=!0:o=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),o&&(n="Ctrl-"+n),i&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function XI(t){let e=Object.create(null);for(let n in t)e[KI(n)]=t[n];return e}function Fa(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function v1e(t){return new hu({props:{handleKeyDown:ZI(t)}})}function ZI(t){let e=XI(t);return function(n,r){let o=JF(r),s,i=e[Fa(o,r)];if(i&&i(n.state,n.dispatch,n))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let a=e[Fa(o,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||o.charCodeAt(0)>127)&&(s=fn[r.keyCode])&&s!=o){let a=e[Fa(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const YI=t=>{var e;if(!(t!=null&&(e=t.props)!==null&&e!==void 0&&e.nodeViews))return t;const n=t.props.nodeViews,r=new Proxy(n,{get(o,s,i){return new Proxy(Reflect.get(o,s,i),{apply(l,c,u){const[d,f,p,...h]=u,m=(()=>{try{return p()}catch{return}}).bind(c);return Reflect.apply(l,c,[d,f,m,...h])}})}});return t.props.nodeViews=r,t};class QI extends hu{constructor(e){super(YI(e))}}const ax=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function JI(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const eP=(t,e,n)=>{let r=JI(t,n);if(!r)return!1;let o=lx(r);if(!o){let i=r.blockRange(),a=i&&du(i);return a==null?!1:(e&&e(t.tr.lift(i,a).scrollIntoView()),!0)}let s=o.nodeBefore;if(!s.type.spec.isolating&&ux(t,o,e))return!0;if(r.parent.content.size==0&&(Ar(s,"end")||P.isSelectable(s))){let i=fu(t.doc,r.before(),r.after(),R.empty);if(i&&i.slice.size<i.to-i.from){if(e){let a=t.tr.step(i);a.setSelection(Ar(s,"end")?V.findFrom(a.doc.resolve(a.mapping.map(o.pos,-1)),-1):P.create(a.doc,o.pos-s.nodeSize)),e(a.scrollIntoView())}return!0}}return s.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0):!1};function Ar(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const tP=(t,e,n)=>{let{$head:r,empty:o}=t.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=lx(r)}let i=s&&s.nodeBefore;return!i||!P.isSelectable(i)?!1:(e&&e(t.tr.setSelection(P.create(t.doc,s.pos-i.nodeSize)).scrollIntoView()),!0)};function lx(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function nP(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const rP=(t,e,n)=>{let r=nP(t,n);if(!r)return!1;let o=cx(r);if(!o)return!1;let s=o.nodeAfter;if(ux(t,o,e))return!0;if(r.parent.content.size==0&&(Ar(s,"start")||P.isSelectable(s))){let i=fu(t.doc,r.before(),r.after(),R.empty);if(i&&i.slice.size<i.to-i.from){if(e){let a=t.tr.step(i);a.setSelection(Ar(s,"start")?V.findFrom(a.doc.resolve(a.mapping.map(o.pos)),1):P.create(a.doc,a.mapping.map(o.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&o.depth==r.depth-1?(e&&e(t.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),!0):!1},oP=(t,e,n)=>{let{$head:r,empty:o}=t.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=cx(r)}let i=s&&s.nodeAfter;return!i||!P.isSelectable(i)?!1:(e&&e(t.tr.setSelection(P.create(t.doc,s.pos)).scrollIntoView()),!0)};function cx(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const sP=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Ru(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const iP=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),s=n.indexAfter(-1),i=Ru(o.contentMatchAt(s));if(!i||!o.canReplaceWith(s,s,i))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,i.createAndFill());l.setSelection(V.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},aP=(t,e)=>{let n=t.selection,{$from:r,$to:o}=n;if(n instanceof Ge||r.parent.inlineContent||o.parent.inlineContent)return!1;let s=Ru(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let i=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=t.tr.insert(i,s.createAndFill());a.setSelection(U.create(a.doc,i+1)),e(a.scrollIntoView())}return!0},lP=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(ps(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),o=r&&du(r);return o==null?!1:(e&&e(t.tr.lift(r,o).scrollIntoView()),!0)};function cP(t){return(e,n)=>{let{$from:r,$to:o}=e.selection;if(e.selection instanceof P&&e.selection.node.isBlock)return!r.parentOffset||!ps(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let s=o.parentOffset==o.parent.content.size,i=e.tr;(e.selection instanceof U||e.selection instanceof Ge)&&i.deleteSelection();let a=r.depth==0?null:Ru(r.node(-1).contentMatchAt(r.indexAfter(-1))),l=s&&a?[{type:a}]:void 0,c=ps(i.doc,i.mapping.map(r.pos),1,l);if(!l&&!c&&ps(i.doc,i.mapping.map(r.pos),1,a?[{type:a}]:void 0)&&(a&&(l=[{type:a}]),c=!0),c&&(i.split(i.mapping.map(r.pos),1,l),!s&&!r.parentOffset&&r.parent.type!=a)){let u=i.mapping.map(r.before()),d=i.doc.resolve(u);a&&r.node(-1).canReplaceWith(d.index(),d.index()+1,a)&&i.setNodeMarkup(i.mapping.map(r.before()),a)}n(i.scrollIntoView())}return!0}}const uP=cP(),dP=(t,e)=>(e&&e(t.tr.setSelection(new Ge(t.doc))),!0);function fP(t,e,n){let r=e.nodeBefore,o=e.nodeAfter,s=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(o.isTextblock||Mo(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function ux(t,e,n){let r=e.nodeBefore,o=e.nodeAfter,s,i;if(r.type.spec.isolating||o.type.spec.isolating)return!1;if(fP(t,e,n))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(s=(i=r.contentMatchAt(r.childCount)).findWrapping(o.type))&&i.matchType(s[0]||o.type).validEnd){if(n){let d=e.pos+o.nodeSize,f=S.empty;for(let m=s.length-1;m>=0;m--)f=S.from(s[m].create(null,f));f=S.from(r.copy(f));let p=t.tr.step(new je(e.pos-1,d,e.pos,d,new R(f,1,0),s.length,!0)),h=d+2*s.length;Mo(p.doc,h)&&p.join(h),n(p.scrollIntoView())}return!0}let l=V.findFrom(e,1),c=l&&l.$from.blockRange(l.$to),u=c&&du(c);if(u!=null&&u>=e.depth)return n&&n(t.tr.lift(c,u).scrollIntoView()),!0;if(a&&Ar(o,"start",!0)&&Ar(r,"end")){let d=r,f=[];for(;f.push(d),!d.isTextblock;)d=d.lastChild;let p=o,h=1;for(;!p.isTextblock;p=p.firstChild)h++;if(d.canReplace(d.childCount,d.childCount,p.content)){if(n){let m=S.empty;for(let y=f.length-1;y>=0;y--)m=S.from(f[y].copy(m));let g=t.tr.step(new je(e.pos-f.length,e.pos+o.nodeSize,e.pos+h,e.pos+o.nodeSize-h,new R(m,f.length,0),0,!0));n(g.scrollIntoView())}return!0}}return!1}function dx(t){return function(e,n){let r=e.selection,o=t<0?r.$from:r.$to,s=o.depth;for(;o.node(s).isInline;){if(!s)return!1;s--}return o.node(s).isTextblock?(n&&n(e.tr.setSelection(U.create(e.doc,t<0?o.start(s):o.end(s)))),!0):!1}}const pP=dx(-1),hP=dx(1);function mP(t,e,n){for(let r=0;r<e.length;r++){let{$from:o,$to:s}=e[r],i=o.depth==0?t.inlineContent&&t.type.allowsMarkType(n):!1;if(t.nodesBetween(o.pos,s.pos,a=>{if(i)return!1;i=a.inlineContent&&a.type.allowsMarkType(n)}),i)return!0}return!1}function k1e(t,e=null){return function(n,r){let{empty:o,$cursor:s,ranges:i}=n.selection;if(o&&!s||!mP(n.doc,i,t))return!1;if(r)if(s)t.isInSet(n.storedMarks||s.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{let a=!1,l=n.tr;for(let c=0;!a&&c<i.length;c++){let{$from:u,$to:d}=i[c];a=n.doc.rangeHasMark(u.pos,d.pos,t)}for(let c=0;c<i.length;c++){let{$from:u,$to:d}=i[c];if(a)l.removeMark(u.pos,d.pos,t);else{let f=u.pos,p=d.pos,h=u.nodeAfter,m=d.nodeBefore,g=h&&h.isText?/^\s*/.exec(h.text)[0].length:0,y=m&&m.isText?/\s*$/.exec(m.text)[0].length:0;f+g<p&&(f+=g,p-=y),l.addMark(f,p,t.create(e))}}r(l.scrollIntoView())}return!0}}function gP(t,e){return n=>{if(!n.isGeneric)return t(n);let r=[];for(let s=0;s<n.mapping.maps.length;s++){let i=n.mapping.maps[s];for(let a=0;a<r.length;a++)r[a]=i.map(r[a]);i.forEach((a,l,c,u)=>r.push(c,u))}let o=[];for(let s=0;s<r.length;s+=2){let i=r[s],a=r[s+1],l=n.doc.resolve(i),c=l.sharedDepth(a),u=l.node(c);for(let d=l.indexAfter(c),f=l.after(c+1);f<=a;++d){let p=u.maybeChild(d);if(!p)break;if(d&&o.indexOf(f)==-1){let h=u.child(d-1);h.type==p.type&&e(h,p)&&o.push(f)}f+=p.nodeSize}}o.sort((s,i)=>s-i);for(let s=o.length-1;s>=0;s--)Mo(n.doc,o[s])&&n.join(o[s]);t(n)}}function x1e(t,e){let n=Array.isArray(e)?r=>e.indexOf(r.type.name)>-1:e;return(r,o,s)=>t(r,o&&gP(o,n),s)}function Nu(...t){return function(e,n,r){for(let o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}let Ia=Nu(ax,eP,tP),Pp=Nu(ax,rP,oP);const Ut={Enter:Nu(sP,aP,lP,uP),"Mod-Enter":iP,Backspace:Ia,"Mod-Backspace":Ia,"Shift-Backspace":Ia,Delete:Pp,"Mod-Delete":Pp,"Mod-a":dP},fx={"Ctrl-h":Ut.Backspace,"Alt-Backspace":Ut["Mod-Backspace"],"Ctrl-d":Ut.Delete,"Ctrl-Alt-Backspace":Ut["Mod-Delete"],"Alt-Delete":Ut["Mod-Delete"],"Alt-d":Ut["Mod-Delete"],"Ctrl-a":pP,"Ctrl-e":hP};for(let t in Ut)fx[t]=Ut[t];const yP=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,E1e=yP?fx:Ut;var px={},Ou={},Gl=We&&We.__assign||function(){return Gl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Gl.apply(this,arguments)},bP=We&&We.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(Ou,"__esModule",{value:!0});var vP=bP(A),kP={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}};function xP(t){return vP.createElement("div",{className:t.className||"",style:Gl({position:"absolute",userSelect:"none"},kP[t.direction],t.replaceStyles||{}),onMouseDown:function(e){t.onResizeStart(e,t.direction)},onTouchStart:function(e){t.onResizeStart(e,t.direction)}},t.children)}Ou.Resizer=xP;var Lu={exports:{}};function EP(t,e){var n=e&&e.cache?e.cache:DP,r=e&&e.serializer?e.serializer:CP,o=e&&e.strategy?e.strategy:_P;return o(t,{cache:n,serializer:r})}function wP(t){return t==null||typeof t=="number"||typeof t=="boolean"}function hx(t,e,n,r){var o=wP(r)?r:n(r),s=e.get(o);return typeof s>"u"&&(s=t.call(this,r),e.set(o,s)),s}function mx(t,e,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),s=e.get(o);return typeof s>"u"&&(s=t.apply(this,r),e.set(o,s)),s}function Fu(t,e,n,r,o){return n.bind(e,t,r,o)}function _P(t,e){var n=t.length===1?hx:mx;return Fu(t,this,n,e.cache.create(),e.serializer)}function SP(t,e){var n=mx;return Fu(t,this,n,e.cache.create(),e.serializer)}function AP(t,e){var n=hx;return Fu(t,this,n,e.cache.create(),e.serializer)}function CP(){return JSON.stringify(arguments)}function Ai(){this.cache=Object.create(null)}Ai.prototype.has=function(t){return t in this.cache};Ai.prototype.get=function(t){return this.cache[t]};Ai.prototype.set=function(t,e){this.cache[t]=e};var DP={create:function(){return new Ai}};Lu.exports=EP;Lu.exports.strategies={variadic:SP,monadic:AP};var MP=Lu.exports,TP=We&&We.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)o.hasOwnProperty(s)&&(r[s]=o[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ws=We&&We.__assign||function(){return Ws=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ws.apply(this,arguments)},RP=We&&We.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},NP=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(px,"__esModule",{value:!0});var Pr=RP(A),OP=Ou,jn=NP(MP),LP={width:"auto",height:"auto"},Xo=jn.default(function(t,e,n){return Math.max(Math.min(t,n),e)}),$p=jn.default(function(t,e){return Math.round(t/e)*e}),Zo=jn.default(function(t,e){return new RegExp(t,"i").test(e)}),zp=jn.default(function(t,e,n){n===void 0&&(n=0);var r=e.reduce(function(s,i,a){return Math.abs(i-t)<Math.abs(e[s]-t)?a:s},0),o=Math.abs(e[r]-t);return n===0||o<n?e[r]:t}),pe=jn.default(function(t,e){return t.substr(t.length-e.length,e.length)===e}),Pa=jn.default(function(t){return t=t.toString(),t==="auto"||pe(t,"px")||pe(t,"%")||pe(t,"vh")||pe(t,"vw")||pe(t,"vmax")||pe(t,"vmin")?t:t+"px"}),FP=jn.default(function(t,e,n,r,o){if(e&&typeof e=="string"&&pe(e,"%")){var s=Number(e.replace("%",""))/100;e=t.width*s}if(n&&typeof n=="string"&&pe(n,"%")){var s=Number(n.replace("%",""))/100;n=t.height*s}if(r&&typeof r=="string"&&pe(r,"%")){var s=Number(r.replace("%",""))/100;r=t.width*s}if(o&&typeof o=="string"&&pe(o,"%")){var s=Number(o.replace("%",""))/100;o=t.height*s}return{maxWidth:typeof e>"u"?void 0:Number(e),maxHeight:typeof n>"u"?void 0:Number(n),minWidth:typeof r>"u"?void 0:Number(r),minHeight:typeof o>"u"?void 0:Number(o)}}),IP=["style","className","grid","snap","bounds","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],$a="__resizable_base__",PP=function(t){TP(e,t);function e(n){var r=t.call(this,n)||this;return r.ratio=1,r.resizable=null,r.parentLeft=0,r.parentTop=0,r.resizableLeft=0,r.resizableTop=0,r.targetLeft=0,r.targetTop=0,r.state={isResizing:!1,resizeCursor:"auto",width:typeof(r.propsSize&&r.propsSize.width)>"u"?"auto":r.propsSize&&r.propsSize.width,height:typeof(r.propsSize&&r.propsSize.height)>"u"?"auto":r.propsSize&&r.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0}},r.onResizeStart=r.onResizeStart.bind(r),r.onMouseMove=r.onMouseMove.bind(r),r.onMouseUp=r.onMouseUp.bind(r),typeof window<"u"&&(window.addEventListener("mouseup",r.onMouseUp),window.addEventListener("mousemove",r.onMouseMove),window.addEventListener("mouseleave",r.onMouseUp),window.addEventListener("touchmove",r.onMouseMove),window.addEventListener("touchend",r.onMouseUp)),r}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||LP},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"base",{get:function(){var n=this.parentNode;if(n)for(var r=[].slice.call(n.children),o=0,s=r;o<s.length;o++){var i=s[o];if(i instanceof HTMLElement&&i.classList.contains($a))return i}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var n=0,r=0;if(typeof window<"u"&&this.resizable){var o=this.resizable.offsetWidth,s=this.resizable.offsetHeight,i=this.resizable.style.position;i!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:o,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=i}return{width:n,height:r}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,o=function(a){if(typeof n.state[a]>"u"||n.state[a]==="auto")return"auto";if(n.propsSize&&n.propsSize[a]&&pe(n.propsSize[a].toString(),"%")){if(pe(n.state[a].toString(),"%"))return n.state[a].toString();var l=n.getParentSize(),c=Number(n.state[a].toString().replace("px","")),u=c/l[a]*100;return u+"%"}return Pa(n.state[a])},s=r&&typeof r.width<"u"&&!this.state.isResizing?Pa(r.width):o("width"),i=r&&typeof r.height<"u"&&!this.state.isResizing?Pa(r.height):o("height");return{width:s,height:i}},enumerable:!0,configurable:!0}),e.prototype.getParentSize=function(){if(!this.base||!this.parentNode)return{width:window.innerWidth,height:window.innerHeight};var n=!1,r=this.parentNode.style.flexWrap,o=this.base.style.minWidth;r!=="wrap"&&(n=!0,this.parentNode.style.flexWrap="wrap"),this.base.style.position="relative",this.base.style.minWidth="100%";var s={width:this.base.offsetWidth,height:this.base.offsetHeight};return this.base.style.position="absolute",n&&(this.parentNode.style.flexWrap=r),this.base.style.minWidth=o,s},e.prototype.componentDidMount=function(){this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height});var n=this.parentNode;if(n instanceof HTMLElement&&!this.base){var r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.position="absolute",r.style.transform="scale(0, 0)",r.style.left="0",r.style.flex="0",r.classList?r.classList.add($a):r.className+=$a,n.appendChild(r)}},e.prototype.componentWillUnmount=function(){if(typeof window<"u"){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseleave",this.onMouseUp),window.removeEventListener("touchmove",this.onMouseMove),window.removeEventListener("touchend",this.onMouseUp);var n=this.parentNode;if(!this.base||!n||!(n instanceof HTMLElement)||!(this.base instanceof Node))return;n.removeChild(this.base)}},e.prototype.createSizeForCssProperty=function(n,r){var o=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof o>"u"||o==="auto")?"auto":n},e.prototype.calculateNewMaxFromBoundary=function(n,r){if(this.props.bounds==="parent"){var o=this.parentNode;if(o instanceof HTMLElement){var s=o.offsetWidth+(this.parentLeft-this.resizableLeft),i=o.offsetHeight+(this.parentTop-this.resizableTop);n=n&&n<s?n:s,r=r&&r<i?r:i}}else if(this.props.bounds==="window"){if(typeof window<"u"){var s=window.innerWidth-this.resizableLeft,i=window.innerHeight-this.resizableTop;n=n&&n<s?n:s,r=r&&r<i?r:i}}else if(this.props.bounds instanceof HTMLElement){var s=this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),i=this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop);n=n&&n<s?n:s,r=r&&r<i?r:i}return{maxWidth:n,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(n,r){var o=this.props.scale||1,s=this.props.resizeRatio||1,i=this.state,a=i.direction,l=i.original,c=this.props,u=c.lockAspectRatio,d=c.lockAspectRatioExtraHeight,f=c.lockAspectRatioExtraWidth,p=l.width,h=l.height,m=d||0,g=f||0;return Zo("right",a)&&(p=l.width+(n-l.x)*s/o,u&&(h=(p-g)/this.ratio+m)),Zo("left",a)&&(p=l.width-(n-l.x)*s/o,u&&(h=(p-g)/this.ratio+m)),Zo("bottom",a)&&(h=l.height+(r-l.y)*s/o,u&&(p=(h-m)*this.ratio+g)),Zo("top",a)&&(h=l.height-(r-l.y)*s/o,u&&(p=(h-m)*this.ratio+g)),{newWidth:p,newHeight:h}},e.prototype.calculateNewSizeFromAspectRatio=function(n,r,o,s){var i=this.props,a=i.lockAspectRatio,l=i.lockAspectRatioExtraHeight,c=i.lockAspectRatioExtraWidth,u=typeof s.width>"u"?10:s.width,d=typeof o.width>"u"||o.width<0?n:o.width,f=typeof s.height>"u"?10:s.height,p=typeof o.height>"u"||o.height<0?r:o.height,h=l||0,m=c||0;if(a){var g=(f-h)*this.ratio+m,y=(p-h)*this.ratio+m,b=(u-m)/this.ratio+h,v=(d-m)/this.ratio+h,N=Math.max(u,g),C=Math.min(d,y),E=Math.max(f,b),D=Math.min(p,v);n=Xo(n,N,C),r=Xo(r,E,D)}else n=Xo(n,u,d),r=Xo(r,f,p);return{newWidth:n,newHeight:r}},e.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var n=this.parentNode;if(n instanceof HTMLElement){var r=n.getBoundingClientRect();this.parentLeft=r.left,this.parentTop=r.top}}if(this.props.bounds instanceof HTMLElement){var o=this.props.bounds.getBoundingClientRect();this.targetLeft=o.left,this.targetTop=o.top}if(this.resizable){var s=this.resizable.getBoundingClientRect(),i=s.left,a=s.top;this.resizableLeft=i,this.resizableTop=a}},e.prototype.onResizeStart=function(n,r){var o=0,s=0;if(n.nativeEvent instanceof MouseEvent){if(o=n.nativeEvent.clientX,s=n.nativeEvent.clientY,n.nativeEvent.which===3)return}else n.nativeEvent instanceof TouchEvent&&(o=n.nativeEvent.touches[0].clientX,s=n.nativeEvent.touches[0].clientY);if(this.props.onResizeStart&&this.resizable){var i=this.props.onResizeStart(n,r,this.resizable);if(i===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height,this.setBoundingClientRect(),this.setState({original:{x:o,y:s,width:this.size.width,height:this.size.height},isResizing:!0,resizeCursor:window.getComputedStyle(n.target).cursor||"auto",direction:r})},e.prototype.onMouseMove=function(n){if(!(!this.state.isResizing||!this.resizable)){var r=this.props,o=r.maxWidth,s=r.maxHeight,i=r.minWidth,a=r.minHeight,l=n instanceof MouseEvent?n.clientX:n.touches[0].clientX,c=n instanceof MouseEvent?n.clientY:n.touches[0].clientY,u=this.state,d=u.direction,f=u.original,p=u.width,h=u.height,m=this.getParentSize(),g=FP(m,o,s,i,a);o=g.maxWidth,s=g.maxHeight,i=g.minWidth,a=g.minHeight;var y=this.calculateNewSizeFromDirection(l,c),b=y.newHeight,v=y.newWidth,N=this.calculateNewMaxFromBoundary(o,s),C=this.calculateNewSizeFromAspectRatio(v,b,{width:N.maxWidth,height:N.maxHeight},{width:i,height:a});if(v=C.newWidth,b=C.newHeight,this.props.grid){var E=$p(v,this.props.grid[0]),D=$p(b,this.props.grid[1]),q=this.props.snapGap||0;v=q===0||Math.abs(E-v)<=q?E:v,b=q===0||Math.abs(D-b)<=q?D:b}this.props.snap&&this.props.snap.x&&(v=zp(v,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(b=zp(b,this.props.snap.y,this.props.snapGap));var w={width:v-f.width,height:b-f.height};if(p&&typeof p=="string"){if(pe(p,"%")){var x=v/m.width*100;v=x+"%"}else if(pe(p,"vw")){var M=v/window.innerWidth*100;v=M+"vw"}else if(pe(p,"vh")){var O=v/window.innerHeight*100;v=O+"vh"}}if(h&&typeof h=="string"){if(pe(h,"%")){var x=b/m.height*100;b=x+"%"}else if(pe(h,"vw")){var M=b/window.innerWidth*100;b=M+"vw"}else if(pe(h,"vh")){var O=b/window.innerHeight*100;b=O+"vh"}}this.setState({width:this.createSizeForCssProperty(v,"width"),height:this.createSizeForCssProperty(b,"height")}),this.props.onResize&&this.props.onResize(n,d,this.resizable,w)}},e.prototype.onMouseUp=function(n){var r=this.state,o=r.isResizing,s=r.direction,i=r.original;if(!(!o||!this.resizable)){var a={width:this.size.width-i.width,height:this.size.height-i.height};this.props.onResizeStop&&this.props.onResizeStop(n,s,this.resizable,a),this.props.size&&this.setState(this.props.size),this.setState({isResizing:!1,resizeCursor:"auto"})}},e.prototype.updateSize=function(n){this.setState({width:n.width,height:n.height})},e.prototype.renderResizer=function(){var n=this,r=this.props,o=r.enable,s=r.handleStyles,i=r.handleClasses,a=r.handleWrapperStyle,l=r.handleWrapperClass,c=r.handleComponent;if(!o)return null;var u=Object.keys(o).map(function(d){return o[d]!==!1?Pr.createElement(OP.Resizer,{key:d,direction:d,onResizeStart:n.onResizeStart,replaceStyles:s&&s[d],className:i&&i[d]},c&&c[d]?c[d]:null):null});return Pr.createElement("span",{className:l,style:a},u)},e.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(o,s){return IP.indexOf(s)!==-1||(o[s]=n.props[s]),o},{});return Pr.createElement("div",Ws({ref:function(o){o&&(n.resizable=o)},style:Ws({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style,this.sizeStyle,{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box"}),className:this.props.className},r),this.state.isResizing&&Pr.createElement("div",{style:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:""+(this.state.resizeCursor||"auto"),opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"}}),this.props.children,this.renderResizer())},e.defaultProps={onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(Pr.PureComponent),w1e=px.Resizable=PP;const $P="",gx="input_rule_plugin_transaction",yx=500,zP=({rules:t,pluginKey:e,allowInsertTextOnDocument:n,onInputEvent:r,onBeforeRegexMatch:o})=>({view:s,from:i,to:a,text:l})=>{if(s.composing)return!1;const c=s.state,u=c.doc.resolve(i);if(u.parent.type.spec.code||r&&!r({state:c,from:i,to:a}))return!1;const d=u.parent.textBetween(Math.max(0,u.parentOffset-yx),u.parentOffset,void 0,$P)+l,f=BP({rules:t,textBefore:d,from:i,to:a,state:c});if(!f)return!1;const p=n?c.tr.insertText(l,i,a):c.tr;return p.setMeta(gx,!0),p.setMeta(e,{textInserted:l,from:f.from,to:f.to,matchedRule:f.matchedRule}),o&&o(p),s.dispatch(p),!0};function BP({rules:t,textBefore:e,from:n,to:r,state:o}){for(let i=0;i<t.length;i++){var s;const a=t[i],l=o.selection instanceof ae?(s=e.at(-1))!==null&&s!==void 0?s:"":e,c=a.match.exec(l);if(!c)continue;const u=o.selection.$from.start(),d=Math.max(0,o.selection.$from.parentOffset-yx),f=Math.max(u+c.index+d,1);if(a.handler(o,c,f,r))return{from:f,to:r,matchedRule:{...a,result:c}}}return null}function qP(t,e,n={}){const r=n==null?void 0:n.onInputEvent,o=n==null?void 0:n.onBeforeRegexMatch,s=!!(n!=null&&n.allowInsertTextOnDocument),i=new mu(`inputRulePlugin__${t}`),a=zP({allowInsertTextOnDocument:s,pluginKey:i,rules:e,onInputEvent:r,onBeforeRegexMatch:o});return new QI({key:i,state:{init(){return null},apply(c,u){const d=c.getMeta(i);return d||(c.selectionSet||c.docChanged?null:u)}},appendTransaction:(c,u,d)=>{const f=c.find(N=>N.getMeta(i)),p=f==null?void 0:f.getMeta(i);if(!p||!f)return null;const{matchedRule:h,from:m,to:g}=p,{result:y}=h,b=f.mapping.map(g),v=h.handler(d,y,m,b);return v?(v.setMeta(gx,!0),h.onHandlerApply&&h.onHandlerApply(d,v,h.result),v):null},props:{handleTextInput(c,u,d,f){return a({view:c,from:u,to:d,text:f})},handleDOMEvents:{compositionend:c=>(setTimeout(()=>{const u=c.state.selection;if(!(u instanceof U))return;const{$cursor:d}=u;d&&a({view:c,from:d.pos,to:d.pos,text:""})}),!1)}},isInputRules:!0})}const VP=(t,e,n,r)=>{const o=l=>(r||[]).includes(l.type.name),s=t.doc.resolve(e),i=t.doc.resolve(n);return((e===n?s.marks():s.marksAcross(i))||[]).some(o)},UP=(t,e)=>{var n,r;const{selection:o}=t;if(!(o instanceof U))return!1;const{$cursor:s}=o,i=a=>e.includes(a.type.name);return!!(!(s==null||(n=s.nodeBefore)===null||n===void 0||(r=n.marks)===null||r===void 0)&&r.some(i))},_1e=(t,e,n={})=>{const{isBlockNodeRule:r=!1,allowInsertTextOnDocument:o=!0}=n;return qP(t,e,{allowInsertTextOnDocument:o,onInputEvent:({state:i,from:a,to:l})=>{const c=r?["code","link","typeAheadQuery"]:["code"];return!(i.selection.$from.parent.type.spec.code||!(i.selection instanceof U)&&!(i.selection instanceof ae)||VP(i,a,l,c)||r&&UP(i,c))},onBeforeRegexMatch:i=>{Zk(i)}})};var ee={};const jP="",GP="",HP="",WP="",KP="",XP="",ZP="",YP="",QP="",JP="",e2="",t2="",n2="",r2="",o2="",s2="",i2="",a2="",l2="",c2="",u2="",d2="",f2="",p2="",h2="",m2="",g2="&",y2="&",b2="",v2="",k2="",x2="",E2="",w2="",_2="",S2="",A2="",C2="",D2="",M2="",T2="",R2="",N2="",O2="",L2="",F2="",I2="",P2="",$2="",z2="",B2="",q2="",V2="",U2="",j2="",G2="",H2="",W2="",K2="",X2="",Z2="",Y2="'",Q2="",J2="",e$="",t$="",n$="",r$="",o$="",s$="",i$="*",a$="",l$="",c$="",u$="",d$="",f$="",p$="",h$="",m$="",g$="",y$="",b$="",v$="",k$="",x$="",E$="",w$="",_$="",S$="",A$="",C$="",D$="",M$="",T$="",R$="",N$="",O$="",L$="",F$="",I$="",P$="",$$="",z$="",B$="",q$="",V$="",U$="",j$="",G$="",H$="",W$="",K$="",X$="",Z$="",Y$="",Q$="",J$="",ez="",tz="",nz="",rz="",oz="",sz="",iz="",az="",lz="",cz="",uz="",dz="",fz="",pz="",hz="",mz="",gz="=",yz="",bz="",vz="",kz="",xz="",Ez="",wz="",_z="",Sz="",Az="",Cz="",Dz="",Mz="",Tz="",Rz="",Nz="",Oz="",Lz="",Fz="",Iz="",Pz="",$z="",zz="",Bz="",qz="",Vz="",Uz="",jz="",Gz="",Hz="",Wz="",Kz="",Xz="",Zz="",Yz="",Qz="",Jz="",eB="",tB="",nB="",rB="",oB="",sB="",iB="",aB="",lB="",cB="",uB="",dB="",fB="",pB="",hB="",mB="",gB="",yB="",bB="",vB="",kB="",xB="",EB="",wB="",_B="",SB="\\",AB="",CB="",DB="",MB="",TB="",RB="",NB="",OB="",LB="",FB="",IB="",PB="",$B="",zB="",BB="",qB="",VB="",UB="",jB="",GB="",HB="",WB="",KB="",XB="",ZB="",YB="",QB="",JB="",e3="",t3="",n3="",r3="",o3="",s3="",i3="",a3="",l3="",c3="",u3="",d3="",f3="",p3="",h3="",m3="",g3="",y3="",b3="",v3="",k3="",x3="",E3="",w3="",_3="",S3="",A3="",C3="",D3="",M3="",T3="",R3="",N3="",O3="",L3="",F3="",I3="",P3="",$3="",z3="",B3="",q3="",V3="",U3="",j3=":",G3="",H3="",W3="",K3="",X3=",",Z3="@",Y3="",Q3="",J3="",eq="",tq="",nq="",rq="",oq="",sq="",iq="",aq="",lq="",cq="",uq="",dq="",fq="",pq="",hq="",mq="",gq="",yq="",bq="",vq="",kq="",xq="",Eq="",wq="",_q="",Sq="",Aq="",Cq="",Dq="",Mq="",Tq="",Rq="",Nq="",Oq="",Lq="",Fq="",Iq="",Pq="",$q="",zq="",Bq="",qq="",Vq="",Uq="",jq="",Gq="",Hq="",Wq="",Kq="",Xq="",Zq="",Yq="",Qq="",Jq="",eV="",tV="",nV="",rV="",oV="",sV="",iV="",aV="",lV="",cV="",uV="",dV="",fV="",pV="",hV="",mV="",gV="",yV="",bV="",vV="",kV="",xV="",EV="",wV="",_V="",SV="",AV="",CV="",DV="",MV="",TV="",RV="",NV="",OV="",LV="",FV="`",IV="",PV="",$V="",zV="",BV="",qV="",VV="",UV="",jV="",GV="",HV="",WV="",KV="",XV="",ZV="",YV="",QV="",JV="",e5="$",t5="",n5="",r5="",o5="",s5="",i5="",a5="",l5="",c5="",u5="",d5="",f5="",p5="",h5="",m5="",g5="",y5="",b5="",v5="",k5="",x5="",E5="",w5="",_5="",S5="",A5="",C5="",D5="",M5="",T5="",R5="",N5="",O5="",L5="",F5="",I5="",P5="",$5="",z5="",B5="",q5="",V5="",U5="",j5="",G5="",H5="",W5="",K5="",X5="",Z5="",Y5="",Q5="",J5="",e6="",t6="",n6="",r6="",o6="",s6="",i6="",a6="",l6="",c6="",u6="",d6="",f6="",p6="",h6="",m6="",g6="",y6="",b6="",v6="",k6="",x6="",E6="",w6="",_6="",S6="",A6="",C6="",D6="",M6="",T6="",R6="",N6="",O6="",L6="",F6="",I6="",P6="",$6="",z6="",B6="",q6="",V6="",U6="",j6="",G6="",H6="",W6="",K6="",X6="",Z6="",Y6="",Q6="",J6="",e4="",t4="",n4="",r4="",o4="",s4="",i4="",a4="",l4="",c4="",u4="",d4="",f4="",p4="",h4="",m4="",g4="=",y4="",b4="",v4="",k4="",x4="",E4="",w4="",_4="",S4="",A4="",C4="",D4="",M4="",T4="",R4="",N4="",O4="",L4="",F4="",I4="",P4="!",$4="",z4="",B4="",q4="",V4="",U4="",j4="",G4="",H4="",W4="",K4="",X4="",Z4="",Y4="",Q4="",J4="",eU="",tU="fj",nU="",rU="",oU="",sU="",iU="",aU="",lU="",cU="",uU="",dU="",fU="",pU="",hU="",mU="",gU="",yU="",bU="",vU="",kU="",xU="",EU="",wU="",_U="",SU="",AU="",CU="",DU="",MU="",TU="",RU="",NU="",OU="",LU="",FU="",IU="",PU="",$U="",zU="",BU="",qU="",VU="",UU="",jU="",GU="",HU="",WU="",KU="",XU="",ZU="",YU="",QU="",JU="",ej="",tj="",nj="",rj="",oj="",sj="",ij="",aj="",lj="",cj="",uj="",dj="",fj="",pj="",hj="",mj="",gj="",yj="",bj="",vj="",kj="",xj="",Ej="",wj="",_j="",Sj="",Aj="",Cj="",Dj="",Mj="`",Tj="",Rj="",Nj="",Oj="",Lj="",Fj="",Ij="",Pj="",$j="",zj="",Bj="",qj="",Vj="",Uj="",jj=">",Gj=">",Hj="",Wj="",Kj="",Xj="",Zj="",Yj="",Qj="",Jj="",e9="",t9="",n9="",r9="",o9="",s9="",i9="",a9="",l9="",c9="",u9="",d9="",f9="",p9="",h9="",m9="^",g9="",y9="",b9="",v9="",k9="",x9="",E9="",w9="",_9="",S9="",A9="",C9="",D9="",M9="",T9="",R9="",N9="",O9="",L9="",F9="",I9="",P9="",$9="",z9="",B9="",q9="",V9="",U9="",j9="",G9="",H9="",W9="",K9="",X9="",Z9="",Y9="",Q9="",J9="",eG="",tG="",nG="",rG="",oG="",sG="",iG="",aG="",lG="",cG="",uG="",dG="",fG="",pG="",hG="",mG="",gG="",yG="",bG="",vG="",kG="",xG="",EG="",wG="",_G="",SG="",AG="",CG="",DG="",MG="",TG="",RG="",NG="",OG="",LG="",FG="",IG="",PG="",$G="",zG="",BG="",qG="",VG="",UG="",jG="",GG="",HG="",WG="",KG="",XG="",ZG="",YG="",QG="",JG="",eH="",tH="",nH="",rH="",oH="",sH="",iH="",aH="",lH="",cH="",uH="",dH="",fH="",pH="",hH="",mH="",gH="",yH="",bH="",vH="",kH="",xH="",EH="",wH="",_H="",SH="",AH="",CH="",DH="",MH="",TH="",RH="",NH="",OH="",LH="",FH="",IH="",PH="",$H="",zH="",BH="",qH="",VH="",UH="",jH="",GH="",HH="",WH="",KH="",XH="",ZH="",YH="",QH="",JH="",e8="",t8="",n8="",r8="",o8="",s8="",i8="",a8="",l8="",c8="",u8="",d8="",f8="",p8="",h8="",m8="",g8="",y8="",b8="",v8="",k8="",x8="",E8="",w8="{",_8="[",S8="",A8="",C8="",D8="",M8="",T8="",R8="",N8="",O8="{",L8="",F8="",I8="",P8="",$8="",z8="",B8="",q8="",V8="",U8="",j8="",G8="",H8="",W8="",K8="",X8="",Z8="",Y8="",Q8="",J8="",eW="",tW="",nW="",rW="",oW="",sW="",iW="",aW="",lW="",cW="",uW="",dW="",fW="",pW="",hW="",mW="",gW="",yW="",bW="",vW="",kW="",xW="",EW="",wW="",_W="",SW="",AW="",CW="",DW="",MW="",TW="",RW="",NW="",OW="",LW="",FW="",IW="",PW="",$W="",zW="",BW="",qW="",VW="",UW="",jW="",GW="",HW="",WW="",KW="",XW="",ZW="",YW="",QW="",JW="",e7="",t7="",n7="",r7="",o7="",s7="",i7="",a7="",l7="",c7="",u7="",d7="",f7="",p7="",h7="",m7="",g7="",y7="",b7="",v7="",k7="",x7="",E7="",w7="",_7="",S7="",A7="",C7="",D7="",M7="",T7="",R7="",N7="",O7="",L7="",F7="",I7="",P7="",$7="",z7="",B7="",q7="",V7="",U7="",j7="",G7="",H7="",W7="",K7="_",X7="",Z7="",Y7="",Q7="",J7="",eK="(",tK="",nK="",rK="",oK="",sK="",iK="",aK="",lK="",cK="",uK="",dK="",fK="",pK="",hK="",mK="",gK="[",yK="",bK="",vK="",kK="",xK="",EK="",wK="<",_K="<",SK="",AK="",CK="",DK="",MK="",TK="",RK="",NK="",OK="",LK="",FK="",IK="",PK="",$K="",zK="",BK="",qK="",VK="",UK="",jK="",GK="",HK="",WK="",KK="",XK="",ZK="",YK="",QK="",JK="",eX="",tX="",nX="",rX="",oX="",sX="",iX="",aX="*",lX="",cX="",uX="",dX="",fX="",pX="",hX="",mX="",gX="",yX="",bX="",vX="",kX="",xX="",EX="",wX="",_X="",SX="",AX="",CX="",DX="",MX="",TX="",RX="",NX="",OX="",LX="",FX="",IX="",PX="",$X="",zX="",BX="",qX="",VX="",UX="",jX="",GX="",HX="",WX="",KX="",XX="",ZX="",YX="",QX="",JX="",eZ="",tZ="",nZ="",rZ="",oZ="",sZ="",iZ="",aZ="",lZ="",cZ="",uZ="",dZ="",fZ="",pZ="",hZ="",mZ="",gZ="",yZ=`
`,bZ="",vZ="",kZ="",xZ="",EZ="",wZ="",_Z="",SZ="",AZ="",CZ="",DZ="",MZ="",TZ="",RZ="",NZ="",OZ="",LZ="",FZ="",IZ="",PZ="",$Z="",zZ="",BZ="",qZ="",VZ="",UZ="",jZ="",GZ="",HZ="",WZ="",KZ="",XZ="",ZZ="",YZ="",QZ="",JZ="",eY="",tY="",nY="",rY="",oY="",sY="",iY="",aY="",lY="",cY="",uY="",dY="",fY="",pY="",hY="",mY="",gY="",yY="",bY="",vY="",kY="",xY="",EY="",wY="",_Y="",SY="",AY="",CY="",DY="",MY="",TY="",RY="",NY="",OY="",LY="",FY="",IY="",PY="",$Y="",zY="",BY="",qY="",VY="",UY="",jY="",GY="",HY="",WY="",KY="",XY="",ZY="",YY="",QY="",JY="",eQ="",tQ="",nQ="",rQ="",oQ="",sQ="",iQ="",aQ="",lQ="",cQ="",uQ="",dQ="",fQ="",pQ="",hQ="",mQ="",gQ="",yQ="",bQ="",vQ="",kQ="",xQ="",EQ="",wQ="",_Q="",SQ="",AQ="",CQ="",DQ="",MQ="",TQ="",RQ="",NQ="",OQ="",LQ="",FQ="",IQ="",PQ="",$Q="",zQ="",BQ="",qQ="",VQ="",UQ="",jQ="",GQ="",HQ="",WQ="",KQ="",XQ="",ZQ="",YQ="",QQ="",JQ="",eJ="",tJ="",nJ="",rJ="",oJ="",sJ="",iJ="",aJ="",lJ="",cJ="",uJ="",dJ="",fJ="",pJ="",hJ="",mJ="",gJ="",yJ="",bJ="",vJ="",kJ="",xJ="",EJ="",wJ="",_J="",SJ="",AJ="#",CJ="",DJ="",MJ="",TJ="",RJ="",NJ="",OJ="",LJ="",FJ=">",IJ="",PJ="",$J="",zJ="",BJ="<",qJ="",VJ="",UJ="",jJ="",GJ="",HJ="",WJ="",KJ="",XJ="",ZJ="",YJ="",QJ="",JJ="",eee="",tee="",nee="",ree="",oee="",see="",iee="",aee="",lee="",cee="",uee="",dee="",fee="",pee="",hee="",mee="",gee="",yee="",bee="",vee="",kee="",xee="",Eee="",wee="",_ee="",See="",Aee="",Cee="",Dee="",Mee="",Tee="",Ree="",Nee="",Oee="",Lee="",Fee="",Iee="",Pee="",$ee="",zee="",Bee="",qee="",Vee="",Uee="",jee="",Gee="",Hee="",Wee="",Kee="",Xee="",Zee="",Yee="",Qee="",Jee="",ete="",tte="",nte="",rte="",ote="",ste="",ite="",ate="",lte="",cte="",ute="",dte="",fte="",pte="",hte="",mte="",gte="",yte="",bte="",vte="",kte="",xte="",Ete="",wte="",_te="",Ste="",Ate="",Cte="%",Dte=".",Mte="",Tte="",Rte="",Nte="",Ote="",Lte="",Fte="",Ite="",Pte="",$te="",zte="",Bte="",qte="",Vte="",Ute="",jte="",Gte="",Hte="",Wte="",Kte="",Xte="+",Zte="",Yte="",Qte="",Jte="",ene="",tne="",nne="",rne="",one="",sne="",ine="",ane="",lne="",cne="",une="",dne="",fne="",pne="",hne="",mne="",gne="",yne="",bne="",vne="",kne="",xne="",Ene="",wne="",_ne="",Sne="",Ane="",Cne="",Dne="",Mne="",Tne="",Rne="",Nne="",One="",Lne="",Fne="",Ine="",Pne="",$ne="",zne="",Bne="",qne="",Vne="",Une="",jne="",Gne="",Hne="",Wne="",Kne="",Xne="",Zne="",Yne="",Qne="",Jne="",ere="",tre="",nre="",rre="",ore="",sre="?",ire="",are='"',lre='"',cre="",ure="",dre="",fre="",pre="",hre="",mre="",gre="",yre="",bre="",vre="",kre="",xre="",Ere="",wre="",_re="",Sre="",Are="",Cre="",Dre="",Mre="",Tre="",Rre="",Nre="",Ore="",Lre="",Fre="",Ire="",Pre="",$re="",zre="",Bre="",qre="",Vre="",Ure="",jre="}",Gre="]",Hre="",Wre="",Kre="",Xre="",Zre="",Yre="",Qre="",Jre="",eoe="}",toe="",noe="",roe="",ooe="",soe="",ioe="",aoe="",loe="",coe="",uoe="",doe="",foe="",poe="",hoe="",moe="",goe="",yoe="",boe="",voe="",koe="",xoe="",Eoe="",woe="",_oe="",Soe="",Aoe="",Coe="",Doe="",Moe="",Toe="",Roe="",Noe="",Ooe="",Loe="",Foe="",Ioe="",Poe="",$oe="",zoe="",Boe="",qoe="",Voe="",Uoe="",joe="",Goe="",Hoe="",Woe="",Koe="",Xoe="",Zoe="",Yoe="",Qoe="",Joe="",ese="",tse="",nse="",rse="",ose="",sse="",ise="",ase="",lse="",cse="",use="",dse="",fse="",pse="",hse="",mse="",gse="",yse="",bse="",vse="",kse="",xse="",Ese="",wse="",_se="",Sse=")",Ase="",Cse="",Dse="",Mse="",Tse="",Rse="",Nse="",Ose="",Lse="",Fse="]",Ise="",Pse="",$se="",zse="",Bse="",qse="",Vse="",Use="",jse="",Gse="",Hse="",Wse="",Kse="",Xse="",Zse="",Yse="",Qse="",Jse="",eie="",tie="",nie="",rie="",oie="",sie="",iie="",aie="",lie="",cie="",uie="",die="",fie="",pie="",hie="",mie="",gie="",yie="",bie="",vie="",kie="",xie="",Eie="",wie=";",_ie="",Sie="",Aie="",Cie="",Die="",Mie="",Tie="",Rie="",Nie="",Oie="",Lie="",Fie="",Iie="",Pie="",$ie="",zie="",Bie="",qie="",Vie="",Uie="",jie="",Gie="",Hie="",Wie="",Kie="",Xie="",Zie="",Yie="",Qie="",Jie="",eae="",tae="",nae="",rae="",oae="",sae="",iae="",aae="",lae="",cae="",uae="",dae="",fae="",pae="",hae="",mae="",gae="",yae="",bae="/",vae="",kae="",xae="",Eae="",wae="",_ae="",Sae="",Aae="",Cae="",Dae="",Mae="",Tae="",Rae="",Nae="",Oae="",Lae="",Fae="",Iae="",Pae="",$ae="",zae="",Bae="",qae="",Vae="",Uae="",jae="",Gae="",Hae="",Wae="",Kae="",Xae="",Zae="",Yae="",Qae="",Jae="",ele="",tle="",nle="",rle="",ole="",sle="",ile="",ale="",lle="",cle="",ule="",dle="",fle="",ple="",hle="",mle="",gle="",yle="",ble="",vle="",kle="",xle="",Ele="",wle="",_le="",Sle="",Ale="",Cle="",Dle="",Mle="",Tle="",Rle="",Nle="",Ole="",Lle="",Fle="",Ile="",Ple="",$le="",zle="",Ble="",qle="",Vle="",Ule="",jle="",Gle="",Hle="",Wle="",Kle="",Xle="",Zle="",Yle="",Qle="",Jle="",ece="",tce="",nce="",rce="",oce="",sce="",ice="",ace="",lce="",cce="",uce="",dce="",fce="",pce="",hce="",mce="",gce="",yce="",bce="",vce="",kce="",xce="",Ece="",wce="	",_ce="",Sce="",Ace="",Cce="",Dce="",Mce="",Tce="",Rce="",Nce="",Oce="",Lce="",Fce="",Ice="",Pce="",$ce="",zce="",Bce="",qce="",Vce="",Uce="",jce="",Gce="",Hce="",Wce="",Kce="",Xce="",Zce="",Yce="",Qce="",Jce="",eue="",tue="",nue="",rue="",oue="",sue="",iue="",aue="",lue="",cue="",uue="",due="",fue="",pue="",hue="",mue="",gue="",yue="",bue="",vue="",kue="",xue="",Eue="",wue="",_ue="",Sue="",Aue="",Cue="",Due="",Mue="",Tue="",Rue="",Nue="",Oue="",Lue="",Fue="",Iue="",Pue="",$ue="",zue="",Bue="",que="",Vue="",Uue="",jue="",Gue="",Hue="",Wue="",Kue="",Xue="",Zue="",Yue="",Que="",Jue="",ede="",tde="",nde="",rde="",ode="",sde="",ide="",ade="",lde="",cde="",ude="",dde="",fde="",pde="",hde="",mde="",gde="",yde="",bde="",vde="",kde="",xde="",Ede="",wde="",_de="",Sde="",Ade="",Cde="_",Dde="",Mde="",Tde="",Rde="",Nde="",Ode="",Lde="",Fde="",Ide="",Pde="",$de="",zde="",Bde="",qde="",Vde="",Ude="",jde="",Gde="",Hde="",Wde="",Kde="",Xde="",Zde="",Yde="",Qde="",Jde="",efe="",tfe="",nfe="",rfe="",ofe="",sfe="",ife="",afe="",lfe="",cfe="",ufe="",dfe="",ffe="",pfe="",hfe="",mfe="",gfe="",yfe="",bfe="",vfe="",kfe="",xfe="",Efe="",wfe="",_fe="",Sfe="",Afe="",Cfe="",Dfe="",Mfe="",Tfe="",Rfe="",Nfe="",Ofe="",Lfe="",Ffe="",Ife="",Pfe="",$fe="",zfe="",Bfe="",qfe="",Vfe="",Ufe="",jfe="",Gfe="",Hfe="",Wfe="",Kfe="",Xfe="",Zfe="",Yfe="",Qfe="",Jfe="",epe="",tpe="|",npe="",rpe="|",ope="",spe="",ipe="|",ape="",lpe="",cpe="",upe="",dpe="",fpe="",ppe="",hpe="",mpe="",gpe="",ype="",bpe="",vpe="",kpe="",xpe="",Epe="",wpe="",_pe="",Spe="",Ape="",Cpe="",Dpe="",Mpe="",Tpe="",Rpe="",Npe="",Ope="",Lpe="",Fpe="",Ipe="",Ppe="",$pe="",zpe="",Bpe="",qpe="",Vpe="",Upe="",jpe="",Gpe="",Hpe="",Wpe="",Kpe="",Xpe="",Zpe="",Ype="",Qpe="",Jpe="",ehe="",the="",nhe="",rhe="",ohe="",she="",ihe="",ahe="",lhe="",che="",uhe="",dhe="",fhe="",phe="",hhe="",mhe="",ghe="",yhe="",bhe="",vhe="",khe="",xhe="",Ehe="",whe="",_he="",She="",Ahe="",Che="",Dhe="",Mhe="",The="",Rhe="",Nhe="",Ohe="",Lhe="",Fhe="",Ihe="",Phe="",$he="",zhe="",Bhe="",qhe="",Vhe="",Uhe="",jhe="",Ghe="",Hhe="",Whe="",Khe="",Xhe="",Zhe="",Yhe="",Qhe="",Jhe="",eme="",tme="",nme="",rme="",ome="",sme="",ime="",ame={Aacute:jP,aacute:GP,Abreve:HP,abreve:WP,ac:KP,acd:XP,acE:ZP,Acirc:YP,acirc:QP,acute:JP,Acy:e2,acy:t2,AElig:n2,aelig:r2,af:o2,Afr:s2,afr:i2,Agrave:a2,agrave:l2,alefsym:c2,aleph:u2,Alpha:d2,alpha:f2,Amacr:p2,amacr:h2,amalg:m2,amp:g2,AMP:y2,andand:b2,And:v2,and:k2,andd:x2,andslope:E2,andv:w2,ang:_2,ange:S2,angle:A2,angmsdaa:C2,angmsdab:D2,angmsdac:M2,angmsdad:T2,angmsdae:R2,angmsdaf:N2,angmsdag:O2,angmsdah:L2,angmsd:F2,angrt:I2,angrtvb:P2,angrtvbd:$2,angsph:z2,angst:B2,angzarr:q2,Aogon:V2,aogon:U2,Aopf:j2,aopf:G2,apacir:H2,ap:W2,apE:K2,ape:X2,apid:Z2,apos:Y2,ApplyFunction:Q2,approx:J2,approxeq:e$,Aring:t$,aring:n$,Ascr:r$,ascr:o$,Assign:s$,ast:i$,asymp:a$,asympeq:l$,Atilde:c$,atilde:u$,Auml:d$,auml:f$,awconint:p$,awint:h$,backcong:m$,backepsilon:g$,backprime:y$,backsim:b$,backsimeq:v$,Backslash:k$,Barv:x$,barvee:E$,barwed:w$,Barwed:_$,barwedge:S$,bbrk:A$,bbrktbrk:C$,bcong:D$,Bcy:M$,bcy:T$,bdquo:R$,becaus:N$,because:O$,Because:L$,bemptyv:F$,bepsi:I$,bernou:P$,Bernoullis:$$,Beta:z$,beta:B$,beth:q$,between:V$,Bfr:U$,bfr:j$,bigcap:G$,bigcirc:H$,bigcup:W$,bigodot:K$,bigoplus:X$,bigotimes:Z$,bigsqcup:Y$,bigstar:Q$,bigtriangledown:J$,bigtriangleup:ez,biguplus:tz,bigvee:nz,bigwedge:rz,bkarow:oz,blacklozenge:sz,blacksquare:iz,blacktriangle:az,blacktriangledown:lz,blacktriangleleft:cz,blacktriangleright:uz,blank:dz,blk12:fz,blk14:pz,blk34:hz,block:mz,bne:gz,bnequiv:yz,bNot:bz,bnot:vz,Bopf:kz,bopf:xz,bot:Ez,bottom:wz,bowtie:_z,boxbox:Sz,boxdl:Az,boxdL:Cz,boxDl:Dz,boxDL:Mz,boxdr:Tz,boxdR:Rz,boxDr:Nz,boxDR:Oz,boxh:Lz,boxH:Fz,boxhd:Iz,boxHd:Pz,boxhD:$z,boxHD:zz,boxhu:Bz,boxHu:qz,boxhU:Vz,boxHU:Uz,boxminus:jz,boxplus:Gz,boxtimes:Hz,boxul:Wz,boxuL:Kz,boxUl:Xz,boxUL:Zz,boxur:Yz,boxuR:Qz,boxUr:Jz,boxUR:eB,boxv:tB,boxV:nB,boxvh:rB,boxvH:oB,boxVh:sB,boxVH:iB,boxvl:aB,boxvL:lB,boxVl:cB,boxVL:uB,boxvr:dB,boxvR:fB,boxVr:pB,boxVR:hB,bprime:mB,breve:gB,Breve:yB,brvbar:bB,bscr:vB,Bscr:kB,bsemi:xB,bsim:EB,bsime:wB,bsolb:_B,bsol:SB,bsolhsub:AB,bull:CB,bullet:DB,bump:MB,bumpE:TB,bumpe:RB,Bumpeq:NB,bumpeq:OB,Cacute:LB,cacute:FB,capand:IB,capbrcup:PB,capcap:$B,cap:zB,Cap:BB,capcup:qB,capdot:VB,CapitalDifferentialD:UB,caps:jB,caret:GB,caron:HB,Cayleys:WB,ccaps:KB,Ccaron:XB,ccaron:ZB,Ccedil:YB,ccedil:QB,Ccirc:JB,ccirc:e3,Cconint:t3,ccups:n3,ccupssm:r3,Cdot:o3,cdot:s3,cedil:i3,Cedilla:a3,cemptyv:l3,cent:c3,centerdot:u3,CenterDot:d3,cfr:f3,Cfr:p3,CHcy:h3,chcy:m3,check:g3,checkmark:y3,Chi:b3,chi:v3,circ:k3,circeq:x3,circlearrowleft:E3,circlearrowright:w3,circledast:_3,circledcirc:S3,circleddash:A3,CircleDot:C3,circledR:D3,circledS:M3,CircleMinus:T3,CirclePlus:R3,CircleTimes:N3,cir:O3,cirE:L3,cire:F3,cirfnint:I3,cirmid:P3,cirscir:$3,ClockwiseContourIntegral:z3,CloseCurlyDoubleQuote:B3,CloseCurlyQuote:q3,clubs:V3,clubsuit:U3,colon:j3,Colon:G3,Colone:H3,colone:W3,coloneq:K3,comma:X3,commat:Z3,comp:Y3,compfn:Q3,complement:J3,complexes:eq,cong:tq,congdot:nq,Congruent:rq,conint:oq,Conint:sq,ContourIntegral:iq,copf:aq,Copf:lq,coprod:cq,Coproduct:uq,copy:dq,COPY:fq,copysr:pq,CounterClockwiseContourIntegral:hq,crarr:mq,cross:gq,Cross:yq,Cscr:bq,cscr:vq,csub:kq,csube:xq,csup:Eq,csupe:wq,ctdot:_q,cudarrl:Sq,cudarrr:Aq,cuepr:Cq,cuesc:Dq,cularr:Mq,cularrp:Tq,cupbrcap:Rq,cupcap:Nq,CupCap:Oq,cup:Lq,Cup:Fq,cupcup:Iq,cupdot:Pq,cupor:$q,cups:zq,curarr:Bq,curarrm:qq,curlyeqprec:Vq,curlyeqsucc:Uq,curlyvee:jq,curlywedge:Gq,curren:Hq,curvearrowleft:Wq,curvearrowright:Kq,cuvee:Xq,cuwed:Zq,cwconint:Yq,cwint:Qq,cylcty:Jq,dagger:eV,Dagger:tV,daleth:nV,darr:rV,Darr:oV,dArr:sV,dash:iV,Dashv:aV,dashv:lV,dbkarow:cV,dblac:uV,Dcaron:dV,dcaron:fV,Dcy:pV,dcy:hV,ddagger:mV,ddarr:gV,DD:yV,dd:bV,DDotrahd:vV,ddotseq:kV,deg:xV,Del:EV,Delta:wV,delta:_V,demptyv:SV,dfisht:AV,Dfr:CV,dfr:DV,dHar:MV,dharl:TV,dharr:RV,DiacriticalAcute:NV,DiacriticalDot:OV,DiacriticalDoubleAcute:LV,DiacriticalGrave:FV,DiacriticalTilde:IV,diam:PV,diamond:$V,Diamond:zV,diamondsuit:BV,diams:qV,die:VV,DifferentialD:UV,digamma:jV,disin:GV,div:HV,divide:WV,divideontimes:KV,divonx:XV,DJcy:ZV,djcy:YV,dlcorn:QV,dlcrop:JV,dollar:e5,Dopf:t5,dopf:n5,Dot:r5,dot:o5,DotDot:s5,doteq:i5,doteqdot:a5,DotEqual:l5,dotminus:c5,dotplus:u5,dotsquare:d5,doublebarwedge:f5,DoubleContourIntegral:p5,DoubleDot:h5,DoubleDownArrow:m5,DoubleLeftArrow:g5,DoubleLeftRightArrow:y5,DoubleLeftTee:b5,DoubleLongLeftArrow:v5,DoubleLongLeftRightArrow:k5,DoubleLongRightArrow:x5,DoubleRightArrow:E5,DoubleRightTee:w5,DoubleUpArrow:_5,DoubleUpDownArrow:S5,DoubleVerticalBar:A5,DownArrowBar:C5,downarrow:D5,DownArrow:M5,Downarrow:T5,DownArrowUpArrow:R5,DownBreve:N5,downdownarrows:O5,downharpoonleft:L5,downharpoonright:F5,DownLeftRightVector:I5,DownLeftTeeVector:P5,DownLeftVectorBar:$5,DownLeftVector:z5,DownRightTeeVector:B5,DownRightVectorBar:q5,DownRightVector:V5,DownTeeArrow:U5,DownTee:j5,drbkarow:G5,drcorn:H5,drcrop:W5,Dscr:K5,dscr:X5,DScy:Z5,dscy:Y5,dsol:Q5,Dstrok:J5,dstrok:e6,dtdot:t6,dtri:n6,dtrif:r6,duarr:o6,duhar:s6,dwangle:i6,DZcy:a6,dzcy:l6,dzigrarr:c6,Eacute:u6,eacute:d6,easter:f6,Ecaron:p6,ecaron:h6,Ecirc:m6,ecirc:g6,ecir:y6,ecolon:b6,Ecy:v6,ecy:k6,eDDot:x6,Edot:E6,edot:w6,eDot:_6,ee:S6,efDot:A6,Efr:C6,efr:D6,eg:M6,Egrave:T6,egrave:R6,egs:N6,egsdot:O6,el:L6,Element:F6,elinters:I6,ell:P6,els:$6,elsdot:z6,Emacr:B6,emacr:q6,empty:V6,emptyset:U6,EmptySmallSquare:j6,emptyv:G6,EmptyVerySmallSquare:H6,emsp13:W6,emsp14:K6,emsp:X6,ENG:Z6,eng:Y6,ensp:Q6,Eogon:J6,eogon:e4,Eopf:t4,eopf:n4,epar:r4,eparsl:o4,eplus:s4,epsi:i4,Epsilon:a4,epsilon:l4,epsiv:c4,eqcirc:u4,eqcolon:d4,eqsim:f4,eqslantgtr:p4,eqslantless:h4,Equal:m4,equals:g4,EqualTilde:y4,equest:b4,Equilibrium:v4,equiv:k4,equivDD:x4,eqvparsl:E4,erarr:w4,erDot:_4,escr:S4,Escr:A4,esdot:C4,Esim:D4,esim:M4,Eta:T4,eta:R4,ETH:N4,eth:O4,Euml:L4,euml:F4,euro:I4,excl:P4,exist:$4,Exists:z4,expectation:B4,exponentiale:q4,ExponentialE:V4,fallingdotseq:U4,Fcy:j4,fcy:G4,female:H4,ffilig:W4,fflig:K4,ffllig:X4,Ffr:Z4,ffr:Y4,filig:Q4,FilledSmallSquare:J4,FilledVerySmallSquare:eU,fjlig:tU,flat:nU,fllig:rU,fltns:oU,fnof:sU,Fopf:iU,fopf:aU,forall:lU,ForAll:cU,fork:uU,forkv:dU,Fouriertrf:fU,fpartint:pU,frac12:hU,frac13:mU,frac14:gU,frac15:yU,frac16:bU,frac18:vU,frac23:kU,frac25:xU,frac34:EU,frac35:wU,frac38:_U,frac45:SU,frac56:AU,frac58:CU,frac78:DU,frasl:MU,frown:TU,fscr:RU,Fscr:NU,gacute:OU,Gamma:LU,gamma:FU,Gammad:IU,gammad:PU,gap:$U,Gbreve:zU,gbreve:BU,Gcedil:qU,Gcirc:VU,gcirc:UU,Gcy:jU,gcy:GU,Gdot:HU,gdot:WU,ge:KU,gE:XU,gEl:ZU,gel:YU,geq:QU,geqq:JU,geqslant:ej,gescc:tj,ges:nj,gesdot:rj,gesdoto:oj,gesdotol:sj,gesl:ij,gesles:aj,Gfr:lj,gfr:cj,gg:uj,Gg:dj,ggg:fj,gimel:pj,GJcy:hj,gjcy:mj,gla:gj,gl:yj,glE:bj,glj:vj,gnap:kj,gnapprox:xj,gne:Ej,gnE:wj,gneq:_j,gneqq:Sj,gnsim:Aj,Gopf:Cj,gopf:Dj,grave:Mj,GreaterEqual:Tj,GreaterEqualLess:Rj,GreaterFullEqual:Nj,GreaterGreater:Oj,GreaterLess:Lj,GreaterSlantEqual:Fj,GreaterTilde:Ij,Gscr:Pj,gscr:$j,gsim:zj,gsime:Bj,gsiml:qj,gtcc:Vj,gtcir:Uj,gt:jj,GT:Gj,Gt:Hj,gtdot:Wj,gtlPar:Kj,gtquest:Xj,gtrapprox:Zj,gtrarr:Yj,gtrdot:Qj,gtreqless:Jj,gtreqqless:e9,gtrless:t9,gtrsim:n9,gvertneqq:r9,gvnE:o9,Hacek:s9,hairsp:i9,half:a9,hamilt:l9,HARDcy:c9,hardcy:u9,harrcir:d9,harr:f9,hArr:p9,harrw:h9,Hat:m9,hbar:g9,Hcirc:y9,hcirc:b9,hearts:v9,heartsuit:k9,hellip:x9,hercon:E9,hfr:w9,Hfr:_9,HilbertSpace:S9,hksearow:A9,hkswarow:C9,hoarr:D9,homtht:M9,hookleftarrow:T9,hookrightarrow:R9,hopf:N9,Hopf:O9,horbar:L9,HorizontalLine:F9,hscr:I9,Hscr:P9,hslash:$9,Hstrok:z9,hstrok:B9,HumpDownHump:q9,HumpEqual:V9,hybull:U9,hyphen:j9,Iacute:G9,iacute:H9,ic:W9,Icirc:K9,icirc:X9,Icy:Z9,icy:Y9,Idot:Q9,IEcy:J9,iecy:eG,iexcl:tG,iff:nG,ifr:rG,Ifr:oG,Igrave:sG,igrave:iG,ii:aG,iiiint:lG,iiint:cG,iinfin:uG,iiota:dG,IJlig:fG,ijlig:pG,Imacr:hG,imacr:mG,image:gG,ImaginaryI:yG,imagline:bG,imagpart:vG,imath:kG,Im:xG,imof:EG,imped:wG,Implies:_G,incare:SG,in:"",infin:AG,infintie:CG,inodot:DG,intcal:MG,int:TG,Int:RG,integers:NG,Integral:OG,intercal:LG,Intersection:FG,intlarhk:IG,intprod:PG,InvisibleComma:$G,InvisibleTimes:zG,IOcy:BG,iocy:qG,Iogon:VG,iogon:UG,Iopf:jG,iopf:GG,Iota:HG,iota:WG,iprod:KG,iquest:XG,iscr:ZG,Iscr:YG,isin:QG,isindot:JG,isinE:eH,isins:tH,isinsv:nH,isinv:rH,it:oH,Itilde:sH,itilde:iH,Iukcy:aH,iukcy:lH,Iuml:cH,iuml:uH,Jcirc:dH,jcirc:fH,Jcy:pH,jcy:hH,Jfr:mH,jfr:gH,jmath:yH,Jopf:bH,jopf:vH,Jscr:kH,jscr:xH,Jsercy:EH,jsercy:wH,Jukcy:_H,jukcy:SH,Kappa:AH,kappa:CH,kappav:DH,Kcedil:MH,kcedil:TH,Kcy:RH,kcy:NH,Kfr:OH,kfr:LH,kgreen:FH,KHcy:IH,khcy:PH,KJcy:$H,kjcy:zH,Kopf:BH,kopf:qH,Kscr:VH,kscr:UH,lAarr:jH,Lacute:GH,lacute:HH,laemptyv:WH,lagran:KH,Lambda:XH,lambda:ZH,lang:YH,Lang:QH,langd:JH,langle:e8,lap:t8,Laplacetrf:n8,laquo:r8,larrb:o8,larrbfs:s8,larr:i8,Larr:a8,lArr:l8,larrfs:c8,larrhk:u8,larrlp:d8,larrpl:f8,larrsim:p8,larrtl:h8,latail:m8,lAtail:g8,lat:y8,late:b8,lates:v8,lbarr:k8,lBarr:x8,lbbrk:E8,lbrace:w8,lbrack:_8,lbrke:S8,lbrksld:A8,lbrkslu:C8,Lcaron:D8,lcaron:M8,Lcedil:T8,lcedil:R8,lceil:N8,lcub:O8,Lcy:L8,lcy:F8,ldca:I8,ldquo:P8,ldquor:$8,ldrdhar:z8,ldrushar:B8,ldsh:q8,le:V8,lE:U8,LeftAngleBracket:j8,LeftArrowBar:G8,leftarrow:H8,LeftArrow:W8,Leftarrow:K8,LeftArrowRightArrow:X8,leftarrowtail:Z8,LeftCeiling:Y8,LeftDoubleBracket:Q8,LeftDownTeeVector:J8,LeftDownVectorBar:eW,LeftDownVector:tW,LeftFloor:nW,leftharpoondown:rW,leftharpoonup:oW,leftleftarrows:sW,leftrightarrow:iW,LeftRightArrow:aW,Leftrightarrow:lW,leftrightarrows:cW,leftrightharpoons:uW,leftrightsquigarrow:dW,LeftRightVector:fW,LeftTeeArrow:pW,LeftTee:hW,LeftTeeVector:mW,leftthreetimes:gW,LeftTriangleBar:yW,LeftTriangle:bW,LeftTriangleEqual:vW,LeftUpDownVector:kW,LeftUpTeeVector:xW,LeftUpVectorBar:EW,LeftUpVector:wW,LeftVectorBar:_W,LeftVector:SW,lEg:AW,leg:CW,leq:DW,leqq:MW,leqslant:TW,lescc:RW,les:NW,lesdot:OW,lesdoto:LW,lesdotor:FW,lesg:IW,lesges:PW,lessapprox:$W,lessdot:zW,lesseqgtr:BW,lesseqqgtr:qW,LessEqualGreater:VW,LessFullEqual:UW,LessGreater:jW,lessgtr:GW,LessLess:HW,lesssim:WW,LessSlantEqual:KW,LessTilde:XW,lfisht:ZW,lfloor:YW,Lfr:QW,lfr:JW,lg:e7,lgE:t7,lHar:n7,lhard:r7,lharu:o7,lharul:s7,lhblk:i7,LJcy:a7,ljcy:l7,llarr:c7,ll:u7,Ll:d7,llcorner:f7,Lleftarrow:p7,llhard:h7,lltri:m7,Lmidot:g7,lmidot:y7,lmoustache:b7,lmoust:v7,lnap:k7,lnapprox:x7,lne:E7,lnE:w7,lneq:_7,lneqq:S7,lnsim:A7,loang:C7,loarr:D7,lobrk:M7,longleftarrow:T7,LongLeftArrow:R7,Longleftarrow:N7,longleftrightarrow:O7,LongLeftRightArrow:L7,Longleftrightarrow:F7,longmapsto:I7,longrightarrow:P7,LongRightArrow:$7,Longrightarrow:z7,looparrowleft:B7,looparrowright:q7,lopar:V7,Lopf:U7,lopf:j7,loplus:G7,lotimes:H7,lowast:W7,lowbar:K7,LowerLeftArrow:X7,LowerRightArrow:Z7,loz:Y7,lozenge:Q7,lozf:J7,lpar:eK,lparlt:tK,lrarr:nK,lrcorner:rK,lrhar:oK,lrhard:sK,lrm:iK,lrtri:aK,lsaquo:lK,lscr:cK,Lscr:uK,lsh:dK,Lsh:fK,lsim:pK,lsime:hK,lsimg:mK,lsqb:gK,lsquo:yK,lsquor:bK,Lstrok:vK,lstrok:kK,ltcc:xK,ltcir:EK,lt:wK,LT:_K,Lt:SK,ltdot:AK,lthree:CK,ltimes:DK,ltlarr:MK,ltquest:TK,ltri:RK,ltrie:NK,ltrif:OK,ltrPar:LK,lurdshar:FK,luruhar:IK,lvertneqq:PK,lvnE:$K,macr:zK,male:BK,malt:qK,maltese:VK,Map:"",map:UK,mapsto:jK,mapstodown:GK,mapstoleft:HK,mapstoup:WK,marker:KK,mcomma:XK,Mcy:ZK,mcy:YK,mdash:QK,mDDot:JK,measuredangle:eX,MediumSpace:tX,Mellintrf:nX,Mfr:rX,mfr:oX,mho:sX,micro:iX,midast:aX,midcir:lX,mid:cX,middot:uX,minusb:dX,minus:fX,minusd:pX,minusdu:hX,MinusPlus:mX,mlcp:gX,mldr:yX,mnplus:bX,models:vX,Mopf:kX,mopf:xX,mp:EX,mscr:wX,Mscr:_X,mstpos:SX,Mu:AX,mu:CX,multimap:DX,mumap:MX,nabla:TX,Nacute:RX,nacute:NX,nang:OX,nap:LX,napE:FX,napid:IX,napos:PX,napprox:$X,natural:zX,naturals:BX,natur:qX,nbsp:VX,nbump:UX,nbumpe:jX,ncap:GX,Ncaron:HX,ncaron:WX,Ncedil:KX,ncedil:XX,ncong:ZX,ncongdot:YX,ncup:QX,Ncy:JX,ncy:eZ,ndash:tZ,nearhk:nZ,nearr:rZ,neArr:oZ,nearrow:sZ,ne:iZ,nedot:aZ,NegativeMediumSpace:lZ,NegativeThickSpace:cZ,NegativeThinSpace:uZ,NegativeVeryThinSpace:dZ,nequiv:fZ,nesear:pZ,nesim:hZ,NestedGreaterGreater:mZ,NestedLessLess:gZ,NewLine:yZ,nexist:bZ,nexists:vZ,Nfr:kZ,nfr:xZ,ngE:EZ,nge:wZ,ngeq:_Z,ngeqq:SZ,ngeqslant:AZ,nges:CZ,nGg:DZ,ngsim:MZ,nGt:TZ,ngt:RZ,ngtr:NZ,nGtv:OZ,nharr:LZ,nhArr:FZ,nhpar:IZ,ni:PZ,nis:$Z,nisd:zZ,niv:BZ,NJcy:qZ,njcy:VZ,nlarr:UZ,nlArr:jZ,nldr:GZ,nlE:HZ,nle:WZ,nleftarrow:KZ,nLeftarrow:XZ,nleftrightarrow:ZZ,nLeftrightarrow:YZ,nleq:QZ,nleqq:JZ,nleqslant:eY,nles:tY,nless:nY,nLl:rY,nlsim:oY,nLt:sY,nlt:iY,nltri:aY,nltrie:lY,nLtv:cY,nmid:uY,NoBreak:dY,NonBreakingSpace:fY,nopf:pY,Nopf:hY,Not:mY,not:gY,NotCongruent:yY,NotCupCap:bY,NotDoubleVerticalBar:vY,NotElement:kY,NotEqual:xY,NotEqualTilde:EY,NotExists:wY,NotGreater:_Y,NotGreaterEqual:SY,NotGreaterFullEqual:AY,NotGreaterGreater:CY,NotGreaterLess:DY,NotGreaterSlantEqual:MY,NotGreaterTilde:TY,NotHumpDownHump:RY,NotHumpEqual:NY,notin:OY,notindot:LY,notinE:FY,notinva:IY,notinvb:PY,notinvc:$Y,NotLeftTriangleBar:zY,NotLeftTriangle:BY,NotLeftTriangleEqual:qY,NotLess:VY,NotLessEqual:UY,NotLessGreater:jY,NotLessLess:GY,NotLessSlantEqual:HY,NotLessTilde:WY,NotNestedGreaterGreater:KY,NotNestedLessLess:XY,notni:ZY,notniva:YY,notnivb:QY,notnivc:JY,NotPrecedes:eQ,NotPrecedesEqual:tQ,NotPrecedesSlantEqual:nQ,NotReverseElement:rQ,NotRightTriangleBar:oQ,NotRightTriangle:sQ,NotRightTriangleEqual:iQ,NotSquareSubset:aQ,NotSquareSubsetEqual:lQ,NotSquareSuperset:cQ,NotSquareSupersetEqual:uQ,NotSubset:dQ,NotSubsetEqual:fQ,NotSucceeds:pQ,NotSucceedsEqual:hQ,NotSucceedsSlantEqual:mQ,NotSucceedsTilde:gQ,NotSuperset:yQ,NotSupersetEqual:bQ,NotTilde:vQ,NotTildeEqual:kQ,NotTildeFullEqual:xQ,NotTildeTilde:EQ,NotVerticalBar:wQ,nparallel:_Q,npar:SQ,nparsl:AQ,npart:CQ,npolint:DQ,npr:MQ,nprcue:TQ,nprec:RQ,npreceq:NQ,npre:OQ,nrarrc:LQ,nrarr:FQ,nrArr:IQ,nrarrw:PQ,nrightarrow:$Q,nRightarrow:zQ,nrtri:BQ,nrtrie:qQ,nsc:VQ,nsccue:UQ,nsce:jQ,Nscr:GQ,nscr:HQ,nshortmid:WQ,nshortparallel:KQ,nsim:XQ,nsime:ZQ,nsimeq:YQ,nsmid:QQ,nspar:JQ,nsqsube:eJ,nsqsupe:tJ,nsub:nJ,nsubE:rJ,nsube:oJ,nsubset:sJ,nsubseteq:iJ,nsubseteqq:aJ,nsucc:lJ,nsucceq:cJ,nsup:uJ,nsupE:dJ,nsupe:fJ,nsupset:pJ,nsupseteq:hJ,nsupseteqq:mJ,ntgl:gJ,Ntilde:yJ,ntilde:bJ,ntlg:vJ,ntriangleleft:kJ,ntrianglelefteq:xJ,ntriangleright:EJ,ntrianglerighteq:wJ,Nu:_J,nu:SJ,num:AJ,numero:CJ,numsp:DJ,nvap:MJ,nvdash:TJ,nvDash:RJ,nVdash:NJ,nVDash:OJ,nvge:LJ,nvgt:FJ,nvHarr:IJ,nvinfin:PJ,nvlArr:$J,nvle:zJ,nvlt:BJ,nvltrie:qJ,nvrArr:VJ,nvrtrie:UJ,nvsim:jJ,nwarhk:GJ,nwarr:HJ,nwArr:WJ,nwarrow:KJ,nwnear:XJ,Oacute:ZJ,oacute:YJ,oast:QJ,Ocirc:JJ,ocirc:eee,ocir:tee,Ocy:nee,ocy:ree,odash:oee,Odblac:see,odblac:iee,odiv:aee,odot:lee,odsold:cee,OElig:uee,oelig:dee,ofcir:fee,Ofr:pee,ofr:hee,ogon:mee,Ograve:gee,ograve:yee,ogt:bee,ohbar:vee,ohm:kee,oint:xee,olarr:Eee,olcir:wee,olcross:_ee,oline:See,olt:Aee,Omacr:Cee,omacr:Dee,Omega:Mee,omega:Tee,Omicron:Ree,omicron:Nee,omid:Oee,ominus:Lee,Oopf:Fee,oopf:Iee,opar:Pee,OpenCurlyDoubleQuote:$ee,OpenCurlyQuote:zee,operp:Bee,oplus:qee,orarr:Vee,Or:Uee,or:jee,ord:Gee,order:Hee,orderof:Wee,ordf:Kee,ordm:Xee,origof:Zee,oror:Yee,orslope:Qee,orv:Jee,oS:ete,Oscr:tte,oscr:nte,Oslash:rte,oslash:ote,osol:ste,Otilde:ite,otilde:ate,otimesas:lte,Otimes:cte,otimes:ute,Ouml:dte,ouml:fte,ovbar:pte,OverBar:hte,OverBrace:mte,OverBracket:gte,OverParenthesis:yte,para:bte,parallel:vte,par:kte,parsim:xte,parsl:Ete,part:wte,PartialD:_te,Pcy:Ste,pcy:Ate,percnt:Cte,period:Dte,permil:Mte,perp:Tte,pertenk:Rte,Pfr:Nte,pfr:Ote,Phi:Lte,phi:Fte,phiv:Ite,phmmat:Pte,phone:$te,Pi:zte,pi:Bte,pitchfork:qte,piv:Vte,planck:Ute,planckh:jte,plankv:Gte,plusacir:Hte,plusb:Wte,pluscir:Kte,plus:Xte,plusdo:Zte,plusdu:Yte,pluse:Qte,PlusMinus:Jte,plusmn:ene,plussim:tne,plustwo:nne,pm:rne,Poincareplane:one,pointint:sne,popf:ine,Popf:ane,pound:lne,prap:cne,Pr:une,pr:dne,prcue:fne,precapprox:pne,prec:hne,preccurlyeq:mne,Precedes:gne,PrecedesEqual:yne,PrecedesSlantEqual:bne,PrecedesTilde:vne,preceq:kne,precnapprox:xne,precneqq:Ene,precnsim:wne,pre:_ne,prE:Sne,precsim:Ane,prime:Cne,Prime:Dne,primes:Mne,prnap:Tne,prnE:Rne,prnsim:Nne,prod:One,Product:Lne,profalar:Fne,profline:Ine,profsurf:Pne,prop:$ne,Proportional:zne,Proportion:Bne,propto:qne,prsim:Vne,prurel:Une,Pscr:jne,pscr:Gne,Psi:Hne,psi:Wne,puncsp:Kne,Qfr:Xne,qfr:Zne,qint:Yne,qopf:Qne,Qopf:Jne,qprime:ere,Qscr:tre,qscr:nre,quaternions:rre,quatint:ore,quest:sre,questeq:ire,quot:are,QUOT:lre,rAarr:cre,race:ure,Racute:dre,racute:fre,radic:pre,raemptyv:hre,rang:mre,Rang:gre,rangd:yre,range:bre,rangle:vre,raquo:kre,rarrap:xre,rarrb:Ere,rarrbfs:wre,rarrc:_re,rarr:Sre,Rarr:Are,rArr:Cre,rarrfs:Dre,rarrhk:Mre,rarrlp:Tre,rarrpl:Rre,rarrsim:Nre,Rarrtl:Ore,rarrtl:Lre,rarrw:Fre,ratail:Ire,rAtail:Pre,ratio:$re,rationals:zre,rbarr:Bre,rBarr:qre,RBarr:Vre,rbbrk:Ure,rbrace:jre,rbrack:Gre,rbrke:Hre,rbrksld:Wre,rbrkslu:Kre,Rcaron:Xre,rcaron:Zre,Rcedil:Yre,rcedil:Qre,rceil:Jre,rcub:eoe,Rcy:toe,rcy:noe,rdca:roe,rdldhar:ooe,rdquo:soe,rdquor:ioe,rdsh:aoe,real:loe,realine:coe,realpart:uoe,reals:doe,Re:foe,rect:poe,reg:hoe,REG:moe,ReverseElement:goe,ReverseEquilibrium:yoe,ReverseUpEquilibrium:boe,rfisht:voe,rfloor:koe,rfr:xoe,Rfr:Eoe,rHar:woe,rhard:_oe,rharu:Soe,rharul:Aoe,Rho:Coe,rho:Doe,rhov:Moe,RightAngleBracket:Toe,RightArrowBar:Roe,rightarrow:Noe,RightArrow:Ooe,Rightarrow:Loe,RightArrowLeftArrow:Foe,rightarrowtail:Ioe,RightCeiling:Poe,RightDoubleBracket:$oe,RightDownTeeVector:zoe,RightDownVectorBar:Boe,RightDownVector:qoe,RightFloor:Voe,rightharpoondown:Uoe,rightharpoonup:joe,rightleftarrows:Goe,rightleftharpoons:Hoe,rightrightarrows:Woe,rightsquigarrow:Koe,RightTeeArrow:Xoe,RightTee:Zoe,RightTeeVector:Yoe,rightthreetimes:Qoe,RightTriangleBar:Joe,RightTriangle:ese,RightTriangleEqual:tse,RightUpDownVector:nse,RightUpTeeVector:rse,RightUpVectorBar:ose,RightUpVector:sse,RightVectorBar:ise,RightVector:ase,ring:lse,risingdotseq:cse,rlarr:use,rlhar:dse,rlm:fse,rmoustache:pse,rmoust:hse,rnmid:mse,roang:gse,roarr:yse,robrk:bse,ropar:vse,ropf:kse,Ropf:xse,roplus:Ese,rotimes:wse,RoundImplies:_se,rpar:Sse,rpargt:Ase,rppolint:Cse,rrarr:Dse,Rrightarrow:Mse,rsaquo:Tse,rscr:Rse,Rscr:Nse,rsh:Ose,Rsh:Lse,rsqb:Fse,rsquo:Ise,rsquor:Pse,rthree:$se,rtimes:zse,rtri:Bse,rtrie:qse,rtrif:Vse,rtriltri:Use,RuleDelayed:jse,ruluhar:Gse,rx:Hse,Sacute:Wse,sacute:Kse,sbquo:Xse,scap:Zse,Scaron:Yse,scaron:Qse,Sc:Jse,sc:eie,sccue:tie,sce:nie,scE:rie,Scedil:oie,scedil:sie,Scirc:iie,scirc:aie,scnap:lie,scnE:cie,scnsim:uie,scpolint:die,scsim:fie,Scy:pie,scy:hie,sdotb:mie,sdot:gie,sdote:yie,searhk:bie,searr:vie,seArr:kie,searrow:xie,sect:Eie,semi:wie,seswar:_ie,setminus:Sie,setmn:Aie,sext:Cie,Sfr:Die,sfr:Mie,sfrown:Tie,sharp:Rie,SHCHcy:Nie,shchcy:Oie,SHcy:Lie,shcy:Fie,ShortDownArrow:Iie,ShortLeftArrow:Pie,shortmid:$ie,shortparallel:zie,ShortRightArrow:Bie,ShortUpArrow:qie,shy:Vie,Sigma:Uie,sigma:jie,sigmaf:Gie,sigmav:Hie,sim:Wie,simdot:Kie,sime:Xie,simeq:Zie,simg:Yie,simgE:Qie,siml:Jie,simlE:eae,simne:tae,simplus:nae,simrarr:rae,slarr:oae,SmallCircle:sae,smallsetminus:iae,smashp:aae,smeparsl:lae,smid:cae,smile:uae,smt:dae,smte:fae,smtes:pae,SOFTcy:hae,softcy:mae,solbar:gae,solb:yae,sol:bae,Sopf:vae,sopf:kae,spades:xae,spadesuit:Eae,spar:wae,sqcap:_ae,sqcaps:Sae,sqcup:Aae,sqcups:Cae,Sqrt:Dae,sqsub:Mae,sqsube:Tae,sqsubset:Rae,sqsubseteq:Nae,sqsup:Oae,sqsupe:Lae,sqsupset:Fae,sqsupseteq:Iae,square:Pae,Square:$ae,SquareIntersection:zae,SquareSubset:Bae,SquareSubsetEqual:qae,SquareSuperset:Vae,SquareSupersetEqual:Uae,SquareUnion:jae,squarf:Gae,squ:Hae,squf:Wae,srarr:Kae,Sscr:Xae,sscr:Zae,ssetmn:Yae,ssmile:Qae,sstarf:Jae,Star:ele,star:tle,starf:nle,straightepsilon:rle,straightphi:ole,strns:sle,sub:ile,Sub:ale,subdot:lle,subE:cle,sube:ule,subedot:dle,submult:fle,subnE:ple,subne:hle,subplus:mle,subrarr:gle,subset:yle,Subset:ble,subseteq:vle,subseteqq:kle,SubsetEqual:xle,subsetneq:Ele,subsetneqq:wle,subsim:_le,subsub:Sle,subsup:Ale,succapprox:Cle,succ:Dle,succcurlyeq:Mle,Succeeds:Tle,SucceedsEqual:Rle,SucceedsSlantEqual:Nle,SucceedsTilde:Ole,succeq:Lle,succnapprox:Fle,succneqq:Ile,succnsim:Ple,succsim:$le,SuchThat:zle,sum:Ble,Sum:qle,sung:Vle,sup1:Ule,sup2:jle,sup3:Gle,sup:Hle,Sup:Wle,supdot:Kle,supdsub:Xle,supE:Zle,supe:Yle,supedot:Qle,Superset:Jle,SupersetEqual:ece,suphsol:tce,suphsub:nce,suplarr:rce,supmult:oce,supnE:sce,supne:ice,supplus:ace,supset:lce,Supset:cce,supseteq:uce,supseteqq:dce,supsetneq:fce,supsetneqq:pce,supsim:hce,supsub:mce,supsup:gce,swarhk:yce,swarr:bce,swArr:vce,swarrow:kce,swnwar:xce,szlig:Ece,Tab:wce,target:_ce,Tau:Sce,tau:Ace,tbrk:Cce,Tcaron:Dce,tcaron:Mce,Tcedil:Tce,tcedil:Rce,Tcy:Nce,tcy:Oce,tdot:Lce,telrec:Fce,Tfr:Ice,tfr:Pce,there4:$ce,therefore:zce,Therefore:Bce,Theta:qce,theta:Vce,thetasym:Uce,thetav:jce,thickapprox:Gce,thicksim:Hce,ThickSpace:Wce,ThinSpace:Kce,thinsp:Xce,thkap:Zce,thksim:Yce,THORN:Qce,thorn:Jce,tilde:eue,Tilde:tue,TildeEqual:nue,TildeFullEqual:rue,TildeTilde:oue,timesbar:sue,timesb:iue,times:aue,timesd:lue,tint:cue,toea:uue,topbot:due,topcir:fue,top:pue,Topf:hue,topf:mue,topfork:gue,tosa:yue,tprime:bue,trade:vue,TRADE:kue,triangle:xue,triangledown:Eue,triangleleft:wue,trianglelefteq:_ue,triangleq:Sue,triangleright:Aue,trianglerighteq:Cue,tridot:Due,trie:Mue,triminus:Tue,TripleDot:Rue,triplus:Nue,trisb:Oue,tritime:Lue,trpezium:Fue,Tscr:Iue,tscr:Pue,TScy:$ue,tscy:zue,TSHcy:Bue,tshcy:que,Tstrok:Vue,tstrok:Uue,twixt:jue,twoheadleftarrow:Gue,twoheadrightarrow:Hue,Uacute:Wue,uacute:Kue,uarr:Xue,Uarr:Zue,uArr:Yue,Uarrocir:Que,Ubrcy:Jue,ubrcy:ede,Ubreve:tde,ubreve:nde,Ucirc:rde,ucirc:ode,Ucy:sde,ucy:ide,udarr:ade,Udblac:lde,udblac:cde,udhar:ude,ufisht:dde,Ufr:fde,ufr:pde,Ugrave:hde,ugrave:mde,uHar:gde,uharl:yde,uharr:bde,uhblk:vde,ulcorn:kde,ulcorner:xde,ulcrop:Ede,ultri:wde,Umacr:_de,umacr:Sde,uml:Ade,UnderBar:Cde,UnderBrace:Dde,UnderBracket:Mde,UnderParenthesis:Tde,Union:Rde,UnionPlus:Nde,Uogon:Ode,uogon:Lde,Uopf:Fde,uopf:Ide,UpArrowBar:Pde,uparrow:$de,UpArrow:zde,Uparrow:Bde,UpArrowDownArrow:qde,updownarrow:Vde,UpDownArrow:Ude,Updownarrow:jde,UpEquilibrium:Gde,upharpoonleft:Hde,upharpoonright:Wde,uplus:Kde,UpperLeftArrow:Xde,UpperRightArrow:Zde,upsi:Yde,Upsi:Qde,upsih:Jde,Upsilon:efe,upsilon:tfe,UpTeeArrow:nfe,UpTee:rfe,upuparrows:ofe,urcorn:sfe,urcorner:ife,urcrop:afe,Uring:lfe,uring:cfe,urtri:ufe,Uscr:dfe,uscr:ffe,utdot:pfe,Utilde:hfe,utilde:mfe,utri:gfe,utrif:yfe,uuarr:bfe,Uuml:vfe,uuml:kfe,uwangle:xfe,vangrt:Efe,varepsilon:wfe,varkappa:_fe,varnothing:Sfe,varphi:Afe,varpi:Cfe,varpropto:Dfe,varr:Mfe,vArr:Tfe,varrho:Rfe,varsigma:Nfe,varsubsetneq:Ofe,varsubsetneqq:Lfe,varsupsetneq:Ffe,varsupsetneqq:Ife,vartheta:Pfe,vartriangleleft:$fe,vartriangleright:zfe,vBar:Bfe,Vbar:qfe,vBarv:Vfe,Vcy:Ufe,vcy:jfe,vdash:Gfe,vDash:Hfe,Vdash:Wfe,VDash:Kfe,Vdashl:Xfe,veebar:Zfe,vee:Yfe,Vee:Qfe,veeeq:Jfe,vellip:epe,verbar:tpe,Verbar:npe,vert:rpe,Vert:ope,VerticalBar:spe,VerticalLine:ipe,VerticalSeparator:ape,VerticalTilde:lpe,VeryThinSpace:cpe,Vfr:upe,vfr:dpe,vltri:fpe,vnsub:ppe,vnsup:hpe,Vopf:mpe,vopf:gpe,vprop:ype,vrtri:bpe,Vscr:vpe,vscr:kpe,vsubnE:xpe,vsubne:Epe,vsupnE:wpe,vsupne:_pe,Vvdash:Spe,vzigzag:Ape,Wcirc:Cpe,wcirc:Dpe,wedbar:Mpe,wedge:Tpe,Wedge:Rpe,wedgeq:Npe,weierp:Ope,Wfr:Lpe,wfr:Fpe,Wopf:Ipe,wopf:Ppe,wp:$pe,wr:zpe,wreath:Bpe,Wscr:qpe,wscr:Vpe,xcap:Upe,xcirc:jpe,xcup:Gpe,xdtri:Hpe,Xfr:Wpe,xfr:Kpe,xharr:Xpe,xhArr:Zpe,Xi:Ype,xi:Qpe,xlarr:Jpe,xlArr:ehe,xmap:the,xnis:nhe,xodot:rhe,Xopf:ohe,xopf:she,xoplus:ihe,xotime:ahe,xrarr:lhe,xrArr:che,Xscr:uhe,xscr:dhe,xsqcup:fhe,xuplus:phe,xutri:hhe,xvee:mhe,xwedge:ghe,Yacute:yhe,yacute:bhe,YAcy:vhe,yacy:khe,Ycirc:xhe,ycirc:Ehe,Ycy:whe,ycy:_he,yen:She,Yfr:Ahe,yfr:Che,YIcy:Dhe,yicy:Mhe,Yopf:The,yopf:Rhe,Yscr:Nhe,yscr:Ohe,YUcy:Lhe,yucy:Fhe,yuml:Ihe,Yuml:Phe,Zacute:$he,zacute:zhe,Zcaron:Bhe,zcaron:qhe,Zcy:Vhe,zcy:Uhe,Zdot:jhe,zdot:Ghe,zeetrf:Hhe,ZeroWidthSpace:Whe,Zeta:Khe,zeta:Xhe,zfr:Zhe,Zfr:Yhe,ZHcy:Qhe,zhcy:Jhe,zigrarr:eme,zopf:tme,Zopf:nme,Zscr:rme,zscr:ome,zwj:sme,zwnj:ime};var bx=ame,Mr={},Bp={};function lme(t){var e,n,r=Bp[t];if(r)return r;for(r=Bp[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)r[t.charCodeAt(e)]=t[e];return r}function Ci(t,e,n){var r,o,s,i,a,l="";for(typeof e!="string"&&(n=e,e=Ci.defaultChars),typeof n>"u"&&(n=!0),a=lme(e),r=0,o=t.length;r<o;r++){if(s=t.charCodeAt(r),n&&s===37&&r+2<o&&/^[0-9a-f]{2}$/i.test(t.slice(r+1,r+3))){l+=t.slice(r,r+3),r+=2;continue}if(s<128){l+=a[s];continue}if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&r+1<o&&(i=t.charCodeAt(r+1),i>=56320&&i<=57343)){l+=encodeURIComponent(t[r]+t[r+1]),r++;continue}l+="%EF%BF%BD";continue}l+=encodeURIComponent(t[r])}return l}Ci.defaultChars=";/?:@&=+$,-_.!~*'()#";Ci.componentChars="-_.!~*'()";var cme=Ci,qp={};function ume(t){var e,n,r=qp[t];if(r)return r;for(r=qp[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),r.push(n);for(e=0;e<t.length;e++)n=t.charCodeAt(e),r[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return r}function Di(t,e){var n;return typeof e!="string"&&(e=Di.defaultChars),n=ume(e),t.replace(/(%[a-f0-9]{2})+/gi,function(r){var o,s,i,a,l,c,u,d="";for(o=0,s=r.length;o<s;o+=3){if(i=parseInt(r.slice(o+1,o+3),16),i<128){d+=n[i];continue}if((i&224)===192&&o+3<s&&(a=parseInt(r.slice(o+4,o+6),16),(a&192)===128)){u=i<<6&1984|a&63,u<128?d+="":d+=String.fromCharCode(u),o+=3;continue}if((i&240)===224&&o+6<s&&(a=parseInt(r.slice(o+4,o+6),16),l=parseInt(r.slice(o+7,o+9),16),(a&192)===128&&(l&192)===128)){u=i<<12&61440|a<<6&4032|l&63,u<2048||u>=55296&&u<=57343?d+="":d+=String.fromCharCode(u),o+=6;continue}if((i&248)===240&&o+9<s&&(a=parseInt(r.slice(o+4,o+6),16),l=parseInt(r.slice(o+7,o+9),16),c=parseInt(r.slice(o+10,o+12),16),(a&192)===128&&(l&192)===128&&(c&192)===128)){u=i<<18&1835008|a<<12&258048|l<<6&4032|c&63,u<65536||u>1114111?d+="":(u-=65536,d+=String.fromCharCode(55296+(u>>10),56320+(u&1023))),o+=9;continue}d+=""}return d})}Di.defaultChars=";/?:@&=+$,#";Di.componentChars="";var dme=Di,fme=function(e){var n="";return n+=e.protocol||"",n+=e.slashes?"//":"",n+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?n+="["+e.hostname+"]":n+=e.hostname||"",n+=e.port?":"+e.port:"",n+=e.pathname||"",n+=e.search||"",n+=e.hash||"",n};function Ks(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var pme=/^([a-z0-9.+-]+:)/i,hme=/:[0-9]*$/,mme=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,gme=["<",">",'"',"`"," ","\r",`
`,"	"],yme=["{","}","|","\\","^","`"].concat(gme),bme=["'"].concat(yme),Vp=["%","/","?",";","#"].concat(bme),Up=["/","?","#"],vme=255,jp=/^[+a-z0-9A-Z_-]{0,63}$/,kme=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Gp={javascript:!0,"javascript:":!0},Hp={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function xme(t,e){if(t&&t instanceof Ks)return t;var n=new Ks;return n.parse(t,e),n}Ks.prototype.parse=function(t,e){var n,r,o,s,i,a=t;if(a=a.trim(),!e&&t.split("#").length===1){var l=mme.exec(a);if(l)return this.pathname=l[1],l[2]&&(this.search=l[2]),this}var c=pme.exec(a);if(c&&(c=c[0],o=c.toLowerCase(),this.protocol=c,a=a.substr(c.length)),(e||c||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i=a.substr(0,2)==="//",i&&!(c&&Gp[c])&&(a=a.substr(2),this.slashes=!0)),!Gp[c]&&(i||c&&!Hp[c])){var u=-1;for(n=0;n<Up.length;n++)s=a.indexOf(Up[n]),s!==-1&&(u===-1||s<u)&&(u=s);var d,f;for(u===-1?f=a.lastIndexOf("@"):f=a.lastIndexOf("@",u),f!==-1&&(d=a.slice(0,f),a=a.slice(f+1),this.auth=d),u=-1,n=0;n<Vp.length;n++)s=a.indexOf(Vp[n]),s!==-1&&(u===-1||s<u)&&(u=s);u===-1&&(u=a.length),a[u-1]===":"&&u--;var p=a.slice(0,u);a=a.slice(u),this.parseHost(p),this.hostname=this.hostname||"";var h=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!h){var m=this.hostname.split(/\./);for(n=0,r=m.length;n<r;n++){var g=m[n];if(g&&!g.match(jp)){for(var y="",b=0,v=g.length;b<v;b++)g.charCodeAt(b)>127?y+="x":y+=g[b];if(!y.match(jp)){var N=m.slice(0,n),C=m.slice(n+1),E=g.match(kme);E&&(N.push(E[1]),C.unshift(E[2])),C.length&&(a=C.join(".")+a),this.hostname=N.join(".");break}}}}this.hostname.length>vme&&(this.hostname=""),h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var D=a.indexOf("#");D!==-1&&(this.hash=a.substr(D),a=a.slice(0,D));var q=a.indexOf("?");return q!==-1&&(this.search=a.substr(q),a=a.slice(0,q)),a&&(this.pathname=a),Hp[o]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Ks.prototype.parseHost=function(t){var e=hme.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var Eme=xme;Mr.encode=cme;Mr.decode=dme;Mr.format=fme;Mr.parse=Eme;var vn={},za,Wp;function wme(){return Wp||(Wp=1,za=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/),za}var Kp;function _me(){return Kp||(Kp=1,vn.Any=Bc(),vn.Cc=qc(),vn.Cf=wme(),vn.P=gi(),vn.Z=Vc()),vn}(function(t){function e(k){return Object.prototype.toString.call(k)}function n(k){return e(k)==="[object String]"}var r=Object.prototype.hasOwnProperty;function o(k,T){return r.call(k,T)}function s(k){var T=Array.prototype.slice.call(arguments,1);return T.forEach(function(_){if(_){if(typeof _!="object")throw new TypeError(_+"must be object");Object.keys(_).forEach(function(G){k[G]=_[G]})}}),k}function i(k,T,_){return[].concat(k.slice(0,T),_,k.slice(T+1))}function a(k){return!(k>=55296&&k<=57343||k>=64976&&k<=65007||(k&65535)===65535||(k&65535)===65534||k>=0&&k<=8||k===11||k>=14&&k<=31||k>=127&&k<=159||k>1114111)}function l(k){if(k>65535){k-=65536;var T=55296+(k>>10),_=56320+(k&1023);return String.fromCharCode(T,_)}return String.fromCharCode(k)}var c=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,u=/&([a-z#][a-z0-9]{1,31});/gi,d=new RegExp(c.source+"|"+u.source,"gi"),f=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i,p=bx;function h(k,T){var _;return o(p,T)?p[T]:T.charCodeAt(0)===35&&f.test(T)&&(_=T[1].toLowerCase()==="x"?parseInt(T.slice(2),16):parseInt(T.slice(1),10),a(_))?l(_):k}function m(k){return k.indexOf("\\")<0?k:k.replace(c,"$1")}function g(k){return k.indexOf("\\")<0&&k.indexOf("&")<0?k:k.replace(d,function(T,_,G){return _||h(T,G)})}var y=/[&<>"]/,b=/[&<>"]/g,v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function N(k){return v[k]}function C(k){return y.test(k)?k.replace(b,N):k}var E=/[.?*+^$[\]\\(){}|-]/g;function D(k){return k.replace(E,"\\$&")}function q(k){switch(k){case 9:case 32:return!0}return!1}function w(k){if(k>=8192&&k<=8202)return!0;switch(k){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var x=gi();function M(k){return x.test(k)}function O(k){switch(k){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function I(k){return k=k.trim().replace(/\s+/g," "),"".toLowerCase()===""&&(k=k.replace(//g,"")),k.toLowerCase().toUpperCase()}t.lib={},t.lib.mdurl=Mr,t.lib.ucmicro=_me(),t.assign=s,t.isString=n,t.has=o,t.unescapeMd=m,t.unescapeAll=g,t.isValidEntityCode=a,t.fromCodePoint=l,t.escapeHtml=C,t.arrayReplaceAt=i,t.isSpace=q,t.isWhiteSpace=w,t.isMdAsciiPunct=O,t.isPunctChar=M,t.escapeRE=D,t.normalizeReference=I})(ee);var Mi={},Sme=function(e,n,r){var o,s,i,a,l=-1,c=e.posMax,u=e.pos;for(e.pos=n+1,o=1;e.pos<c;){if(i=e.src.charCodeAt(e.pos),i===93&&(o--,o===0)){s=!0;break}if(a=e.pos,e.md.inline.skipToken(e),i===91){if(a===e.pos-1)o++;else if(r)return e.pos=u,-1}}return s&&(l=e.pos),e.pos=u,l},Xp=ee.unescapeAll,Ame=function(e,n,r){var o,s,i=n,a={ok:!1,pos:0,lines:0,str:""};if(e.charCodeAt(i)===60){for(i++;i<r;){if(o=e.charCodeAt(i),o===10||o===60)return a;if(o===62)return a.pos=i+1,a.str=Xp(e.slice(n+1,i)),a.ok=!0,a;if(o===92&&i+1<r){i+=2;continue}i++}return a}for(s=0;i<r&&(o=e.charCodeAt(i),!(o===32||o<32||o===127));){if(o===92&&i+1<r){if(e.charCodeAt(i+1)===32)break;i+=2;continue}if(o===40&&(s++,s>32))return a;if(o===41){if(s===0)break;s--}i++}return n===i||s!==0||(a.str=Xp(e.slice(n,i)),a.pos=i,a.ok=!0),a},Cme=ee.unescapeAll,Dme=function(e,n,r){var o,s,i=0,a=n,l={ok:!1,pos:0,lines:0,str:""};if(a>=r||(s=e.charCodeAt(a),s!==34&&s!==39&&s!==40))return l;for(a++,s===40&&(s=41);a<r;){if(o=e.charCodeAt(a),o===s)return l.pos=a+1,l.lines=i,l.str=Cme(e.slice(n+1,a)),l.ok=!0,l;if(o===40&&s===41)return l;o===10?i++:o===92&&a+1<r&&(a++,e.charCodeAt(a)===10&&i++),a++}return l};Mi.parseLinkLabel=Sme;Mi.parseLinkDestination=Ame;Mi.parseLinkTitle=Dme;var Mme=ee.assign,Tme=ee.unescapeAll,Bn=ee.escapeHtml,zt={};zt.code_inline=function(t,e,n,r,o){var s=t[e];return"<code"+o.renderAttrs(s)+">"+Bn(s.content)+"</code>"};zt.code_block=function(t,e,n,r,o){var s=t[e];return"<pre"+o.renderAttrs(s)+"><code>"+Bn(t[e].content)+`</code></pre>
`};zt.fence=function(t,e,n,r,o){var s=t[e],i=s.info?Tme(s.info).trim():"",a="",l="",c,u,d,f,p;return i&&(d=i.split(/(\s+)/g),a=d[0],l=d.slice(2).join("")),n.highlight?c=n.highlight(s.content,a,l)||Bn(s.content):c=Bn(s.content),c.indexOf("<pre")===0?c+`
`:i?(u=s.attrIndex("class"),f=s.attrs?s.attrs.slice():[],u<0?f.push(["class",n.langPrefix+a]):(f[u]=f[u].slice(),f[u][1]+=" "+n.langPrefix+a),p={attrs:f},"<pre><code"+o.renderAttrs(p)+">"+c+`</code></pre>
`):"<pre><code"+o.renderAttrs(s)+">"+c+`</code></pre>
`};zt.image=function(t,e,n,r,o){var s=t[e];return s.attrs[s.attrIndex("alt")][1]=o.renderInlineAsText(s.children,n,r),o.renderToken(t,e,n)};zt.hardbreak=function(t,e,n){return n.xhtmlOut?`<br />
`:`<br>
`};zt.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};zt.text=function(t,e){return Bn(t[e].content)};zt.html_block=function(t,e){return t[e].content};zt.html_inline=function(t,e){return t[e].content};function Tr(){this.rules=Mme({},zt)}Tr.prototype.renderAttrs=function(e){var n,r,o;if(!e.attrs)return"";for(o="",n=0,r=e.attrs.length;n<r;n++)o+=" "+Bn(e.attrs[n][0])+'="'+Bn(e.attrs[n][1])+'"';return o};Tr.prototype.renderToken=function(e,n,r){var o,s="",i=!1,a=e[n];return a.hidden?"":(a.block&&a.nesting!==-1&&n&&e[n-1].hidden&&(s+=`
`),s+=(a.nesting===-1?"</":"<")+a.tag,s+=this.renderAttrs(a),a.nesting===0&&r.xhtmlOut&&(s+=" /"),a.block&&(i=!0,a.nesting===1&&n+1<e.length&&(o=e[n+1],(o.type==="inline"||o.hidden||o.nesting===-1&&o.tag===a.tag)&&(i=!1))),s+=i?`>
`:">",s)};Tr.prototype.renderInline=function(t,e,n){for(var r,o="",s=this.rules,i=0,a=t.length;i<a;i++)r=t[i].type,typeof s[r]<"u"?o+=s[r](t,i,e,n,this):o+=this.renderToken(t,i,e);return o};Tr.prototype.renderInlineAsText=function(t,e,n){for(var r="",o=0,s=t.length;o<s;o++)t[o].type==="text"?r+=t[o].content:t[o].type==="image"?r+=this.renderInlineAsText(t[o].children,e,n):t[o].type==="softbreak"&&(r+=`
`);return r};Tr.prototype.render=function(t,e,n){var r,o,s,i="",a=this.rules;for(r=0,o=t.length;r<o;r++)s=t[r].type,s==="inline"?i+=this.renderInline(t[r].children,e,n):typeof a[s]<"u"?i+=a[s](t,r,e,n,this):i+=this.renderToken(t,r,e,n);return i};var Rme=Tr;function bt(){this.__rules__=[],this.__cache__=null}bt.prototype.__find__=function(t){for(var e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};bt.prototype.__compile__=function(){var t=this,e=[""];t.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){e.indexOf(r)<0&&e.push(r)})}),t.__cache__={},e.forEach(function(n){t.__cache__[n]=[],t.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||t.__cache__[n].push(r.fn))})})};bt.prototype.at=function(t,e,n){var r=this.__find__(t),o=n||{};if(r===-1)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=o.alt||[],this.__cache__=null};bt.prototype.before=function(t,e,n,r){var o=this.__find__(t),s=r||{};if(o===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(o,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};bt.prototype.after=function(t,e,n,r){var o=this.__find__(t),s=r||{};if(o===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(o+1,0,{name:e,enabled:!0,fn:n,alt:s.alt||[]}),this.__cache__=null};bt.prototype.push=function(t,e,n){var r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};bt.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);var n=[];return t.forEach(function(r){var o=this.__find__(r);if(o<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[o].enabled=!0,n.push(r)},this),this.__cache__=null,n};bt.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(t,e)};bt.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);var n=[];return t.forEach(function(r){var o=this.__find__(r);if(o<0){if(e)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[o].enabled=!1,n.push(r)},this),this.__cache__=null,n};bt.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};var Iu=bt,Nme=/\r\n?|\n/g,Ome=/\0/g,Lme=function(e){var n;n=e.src.replace(Nme,`
`),n=n.replace(Ome,""),e.src=n},Fme=function(e){var n;e.inlineMode?(n=new e.Token("inline","",0),n.content=e.src,n.map=[0,1],n.children=[],e.tokens.push(n)):e.md.block.parse(e.src,e.md,e.env,e.tokens)},Ime=function(e){var n=e.tokens,r,o,s;for(o=0,s=n.length;o<s;o++)r=n[o],r.type==="inline"&&e.md.inline.parse(r.content,e.md,e.env,r.children)},Pme=ee.arrayReplaceAt;function $me(t){return/^<a[>\s]/i.test(t)}function zme(t){return/^<\/a\s*>/i.test(t)}var Bme=function(e){var n,r,o,s,i,a,l,c,u,d,f,p,h,m,g,y,b=e.tokens,v;if(e.md.options.linkify){for(r=0,o=b.length;r<o;r++)if(!(b[r].type!=="inline"||!e.md.linkify.pretest(b[r].content)))for(s=b[r].children,h=0,n=s.length-1;n>=0;n--){if(a=s[n],a.type==="link_close"){for(n--;s[n].level!==a.level&&s[n].type!=="link_open";)n--;continue}if(a.type==="html_inline"&&($me(a.content)&&h>0&&h--,zme(a.content)&&h++),!(h>0)&&a.type==="text"&&e.md.linkify.test(a.content)){for(u=a.content,v=e.md.linkify.match(u),l=[],p=a.level,f=0,v.length>0&&v[0].index===0&&n>0&&s[n-1].type==="text_special"&&(v=v.slice(1)),c=0;c<v.length;c++)m=v[c].url,g=e.md.normalizeLink(m),e.md.validateLink(g)&&(y=v[c].text,v[c].schema?v[c].schema==="mailto:"&&!/^mailto:/i.test(y)?y=e.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):y=e.md.normalizeLinkText(y):y=e.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,""),d=v[c].index,d>f&&(i=new e.Token("text","",0),i.content=u.slice(f,d),i.level=p,l.push(i)),i=new e.Token("link_open","a",1),i.attrs=[["href",g]],i.level=p++,i.markup="linkify",i.info="auto",l.push(i),i=new e.Token("text","",0),i.content=y,i.level=p,l.push(i),i=new e.Token("link_close","a",-1),i.level=--p,i.markup="linkify",i.info="auto",l.push(i),f=v[c].lastIndex);f<u.length&&(i=new e.Token("text","",0),i.content=u.slice(f),i.level=p,l.push(i)),b[r].children=s=Pme(s,n,l)}}}},vx=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,qme=/\((c|tm|r)\)/i,Vme=/\((c|tm|r)\)/ig,Ume={c:"",r:"",tm:""};function jme(t,e){return Ume[e.toLowerCase()]}function Gme(t){var e,n,r=0;for(e=t.length-1;e>=0;e--)n=t[e],n.type==="text"&&!r&&(n.content=n.content.replace(Vme,jme)),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}function Hme(t){var e,n,r=0;for(e=t.length-1;e>=0;e--)n=t[e],n.type==="text"&&!r&&vx.test(n.content)&&(n.content=n.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1").replace(/(^|\s)--(?=\s|$)/mg,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1")),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}var Wme=function(e){var n;if(e.md.options.typographer)for(n=e.tokens.length-1;n>=0;n--)e.tokens[n].type==="inline"&&(qme.test(e.tokens[n].content)&&Gme(e.tokens[n].children),vx.test(e.tokens[n].content)&&Hme(e.tokens[n].children))},Zp=ee.isWhiteSpace,Yp=ee.isPunctChar,Qp=ee.isMdAsciiPunct,Kme=/['"]/,Jp=/['"]/g,eh="";function Yo(t,e,n){return t.slice(0,e)+n+t.slice(e+1)}function Xme(t,e){var n,r,o,s,i,a,l,c,u,d,f,p,h,m,g,y,b,v,N,C,E;for(N=[],n=0;n<t.length;n++){for(r=t[n],l=t[n].level,b=N.length-1;b>=0&&!(N[b].level<=l);b--);if(N.length=b+1,r.type==="text"){o=r.content,i=0,a=o.length;e:for(;i<a&&(Jp.lastIndex=i,s=Jp.exec(o),!!s);){if(g=y=!0,i=s.index+1,v=s[0]==="'",u=32,s.index-1>=0)u=o.charCodeAt(s.index-1);else for(b=n-1;b>=0&&!(t[b].type==="softbreak"||t[b].type==="hardbreak");b--)if(t[b].content){u=t[b].content.charCodeAt(t[b].content.length-1);break}if(d=32,i<a)d=o.charCodeAt(i);else for(b=n+1;b<t.length&&!(t[b].type==="softbreak"||t[b].type==="hardbreak");b++)if(t[b].content){d=t[b].content.charCodeAt(0);break}if(f=Qp(u)||Yp(String.fromCharCode(u)),p=Qp(d)||Yp(String.fromCharCode(d)),h=Zp(u),m=Zp(d),m?g=!1:p&&(h||f||(g=!1)),h?y=!1:f&&(m||p||(y=!1)),d===34&&s[0]==='"'&&u>=48&&u<=57&&(y=g=!1),g&&y&&(g=f,y=p),!g&&!y){v&&(r.content=Yo(r.content,s.index,eh));continue}if(y){for(b=N.length-1;b>=0&&(c=N[b],!(N[b].level<l));b--)if(c.single===v&&N[b].level===l){c=N[b],v?(C=e.md.options.quotes[2],E=e.md.options.quotes[3]):(C=e.md.options.quotes[0],E=e.md.options.quotes[1]),r.content=Yo(r.content,s.index,E),t[c.token].content=Yo(t[c.token].content,c.pos,C),i+=E.length-1,c.token===n&&(i+=C.length-1),o=r.content,a=o.length,N.length=b;continue e}}g?N.push({token:n,pos:s.index,single:v,level:l}):y&&v&&(r.content=Yo(r.content,s.index,eh))}}}}var Zme=function(e){var n;if(e.md.options.typographer)for(n=e.tokens.length-1;n>=0;n--)e.tokens[n].type!=="inline"||!Kme.test(e.tokens[n].content)||Xme(e.tokens[n].children,e)},Yme=function(e){var n,r,o,s,i,a,l=e.tokens;for(n=0,r=l.length;n<r;n++)if(l[n].type==="inline"){for(o=l[n].children,i=o.length,s=0;s<i;s++)o[s].type==="text_special"&&(o[s].type="text");for(s=a=0;s<i;s++)o[s].type==="text"&&s+1<i&&o[s+1].type==="text"?o[s+1].content=o[s].content+o[s+1].content:(s!==a&&(o[a]=o[s]),a++);s!==a&&(o.length=a)}};function Rr(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Rr.prototype.attrIndex=function(e){var n,r,o;if(!this.attrs)return-1;for(n=this.attrs,r=0,o=n.length;r<o;r++)if(n[r][0]===e)return r;return-1};Rr.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Rr.prototype.attrSet=function(e,n){var r=this.attrIndex(e),o=[e,n];r<0?this.attrPush(o):this.attrs[r]=o};Rr.prototype.attrGet=function(e){var n=this.attrIndex(e),r=null;return n>=0&&(r=this.attrs[n][1]),r};Rr.prototype.attrJoin=function(e,n){var r=this.attrIndex(e);r<0?this.attrPush([e,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};var Pu=Rr,Qme=Pu;function kx(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}kx.prototype.Token=Qme;var Jme=kx,ege=Iu,Ba=[["normalize",Lme],["block",Fme],["inline",Ime],["linkify",Bme],["replacements",Wme],["smartquotes",Zme],["text_join",Yme]];function $u(){this.ruler=new ege;for(var t=0;t<Ba.length;t++)this.ruler.push(Ba[t][0],Ba[t][1])}$u.prototype.process=function(t){var e,n,r;for(r=this.ruler.getRules(""),e=0,n=r.length;e<n;e++)r[e](t)};$u.prototype.State=Jme;var tge=$u,qa=ee.isSpace;function Va(t,e){var n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];return t.src.slice(n,r)}function th(t){var e=[],n=0,r=t.length,o,s=!1,i=0,a="";for(o=t.charCodeAt(n);n<r;)o===124&&(s?(a+=t.substring(i,n-1),i=n):(e.push(a+t.substring(i,n)),a="",i=n+1)),s=o===92,n++,o=t.charCodeAt(n);return e.push(a+t.substring(i)),e}var nge=function(e,n,r,o){var s,i,a,l,c,u,d,f,p,h,m,g,y,b,v,N,C,E;if(n+2>r||(u=n+1,e.sCount[u]<e.blkIndent)||e.sCount[u]-e.blkIndent>=4||(a=e.bMarks[u]+e.tShift[u],a>=e.eMarks[u])||(C=e.src.charCodeAt(a++),C!==124&&C!==45&&C!==58)||a>=e.eMarks[u]||(E=e.src.charCodeAt(a++),E!==124&&E!==45&&E!==58&&!qa(E))||C===45&&qa(E))return!1;for(;a<e.eMarks[u];){if(s=e.src.charCodeAt(a),s!==124&&s!==45&&s!==58&&!qa(s))return!1;a++}for(i=Va(e,n+1),d=i.split("|"),h=[],l=0;l<d.length;l++){if(m=d[l].trim(),!m){if(l===0||l===d.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;m.charCodeAt(m.length-1)===58?h.push(m.charCodeAt(0)===58?"center":"right"):m.charCodeAt(0)===58?h.push("left"):h.push("")}if(i=Va(e,n).trim(),i.indexOf("|")===-1||e.sCount[n]-e.blkIndent>=4||(d=th(i),d.length&&d[0]===""&&d.shift(),d.length&&d[d.length-1]===""&&d.pop(),f=d.length,f===0||f!==h.length))return!1;if(o)return!0;for(b=e.parentType,e.parentType="table",N=e.md.block.ruler.getRules("blockquote"),p=e.push("table_open","table",1),p.map=g=[n,0],p=e.push("thead_open","thead",1),p.map=[n,n+1],p=e.push("tr_open","tr",1),p.map=[n,n+1],l=0;l<d.length;l++)p=e.push("th_open","th",1),h[l]&&(p.attrs=[["style","text-align:"+h[l]]]),p=e.push("inline","",0),p.content=d[l].trim(),p.children=[],p=e.push("th_close","th",-1);for(p=e.push("tr_close","tr",-1),p=e.push("thead_close","thead",-1),u=n+2;u<r&&!(e.sCount[u]<e.blkIndent);u++){for(v=!1,l=0,c=N.length;l<c;l++)if(N[l](e,u,r,!0)){v=!0;break}if(v||(i=Va(e,u).trim(),!i)||e.sCount[u]-e.blkIndent>=4)break;for(d=th(i),d.length&&d[0]===""&&d.shift(),d.length&&d[d.length-1]===""&&d.pop(),u===n+2&&(p=e.push("tbody_open","tbody",1),p.map=y=[n+2,0]),p=e.push("tr_open","tr",1),p.map=[u,u+1],l=0;l<f;l++)p=e.push("td_open","td",1),h[l]&&(p.attrs=[["style","text-align:"+h[l]]]),p=e.push("inline","",0),p.content=d[l]?d[l].trim():"",p.children=[],p=e.push("td_close","td",-1);p=e.push("tr_close","tr",-1)}return y&&(p=e.push("tbody_close","tbody",-1),y[1]=u),p=e.push("table_close","table",-1),g[1]=u,e.parentType=b,e.line=u,!0},rge=function(e,n,r){var o,s,i;if(e.sCount[n]-e.blkIndent<4)return!1;for(s=o=n+1;o<r;){if(e.isEmpty(o)){o++;continue}if(e.sCount[o]-e.blkIndent>=4){o++,s=o;continue}break}return e.line=s,i=e.push("code_block","code",0),i.content=e.getLines(n,s,4+e.blkIndent,!1)+`
`,i.map=[n,e.line],!0},oge=function(e,n,r,o){var s,i,a,l,c,u,d,f=!1,p=e.bMarks[n]+e.tShift[n],h=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4||p+3>h||(s=e.src.charCodeAt(p),s!==126&&s!==96)||(c=p,p=e.skipChars(p,s),i=p-c,i<3)||(d=e.src.slice(c,p),a=e.src.slice(p,h),s===96&&a.indexOf(String.fromCharCode(s))>=0))return!1;if(o)return!0;for(l=n;l++,!(l>=r||(p=c=e.bMarks[l]+e.tShift[l],h=e.eMarks[l],p<h&&e.sCount[l]<e.blkIndent));)if(e.src.charCodeAt(p)===s&&!(e.sCount[l]-e.blkIndent>=4)&&(p=e.skipChars(p,s),!(p-c<i)&&(p=e.skipSpaces(p),!(p<h)))){f=!0;break}return i=e.sCount[n],e.line=l+(f?1:0),u=e.push("fence","code",0),u.info=a,u.content=e.getLines(n+1,l,i,!0),u.markup=d,u.map=[n,e.line],!0},sge=ee.isSpace,ige=function(e,n,r,o){var s,i,a,l,c,u,d,f,p,h,m,g,y,b,v,N,C,E,D,q,w=e.lineMax,x=e.bMarks[n]+e.tShift[n],M=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4||e.src.charCodeAt(x)!==62)return!1;if(o)return!0;for(h=[],m=[],b=[],v=[],E=e.md.block.ruler.getRules("blockquote"),y=e.parentType,e.parentType="blockquote",f=n;f<r&&(q=e.sCount[f]<e.blkIndent,x=e.bMarks[f]+e.tShift[f],M=e.eMarks[f],!(x>=M));f++){if(e.src.charCodeAt(x++)===62&&!q){for(l=e.sCount[f]+1,e.src.charCodeAt(x)===32?(x++,l++,s=!1,N=!0):e.src.charCodeAt(x)===9?(N=!0,(e.bsCount[f]+l)%4===3?(x++,l++,s=!1):s=!0):N=!1,p=l,h.push(e.bMarks[f]),e.bMarks[f]=x;x<M&&(i=e.src.charCodeAt(x),sge(i));){i===9?p+=4-(p+e.bsCount[f]+(s?1:0))%4:p++;x++}u=x>=M,m.push(e.bsCount[f]),e.bsCount[f]=e.sCount[f]+1+(N?1:0),b.push(e.sCount[f]),e.sCount[f]=p-l,v.push(e.tShift[f]),e.tShift[f]=x-e.bMarks[f];continue}if(u)break;for(C=!1,a=0,c=E.length;a<c;a++)if(E[a](e,f,r,!0)){C=!0;break}if(C){e.lineMax=f,e.blkIndent!==0&&(h.push(e.bMarks[f]),m.push(e.bsCount[f]),v.push(e.tShift[f]),b.push(e.sCount[f]),e.sCount[f]-=e.blkIndent);break}h.push(e.bMarks[f]),m.push(e.bsCount[f]),v.push(e.tShift[f]),b.push(e.sCount[f]),e.sCount[f]=-1}for(g=e.blkIndent,e.blkIndent=0,D=e.push("blockquote_open","blockquote",1),D.markup=">",D.map=d=[n,0],e.md.block.tokenize(e,n,f),D=e.push("blockquote_close","blockquote",-1),D.markup=">",e.lineMax=w,e.parentType=y,d[1]=e.line,a=0;a<v.length;a++)e.bMarks[a+n]=h[a],e.tShift[a+n]=v[a],e.sCount[a+n]=b[a],e.bsCount[a+n]=m[a];return e.blkIndent=g,!0},age=ee.isSpace,lge=function(e,n,r,o){var s,i,a,l,c=e.bMarks[n]+e.tShift[n],u=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4||(s=e.src.charCodeAt(c++),s!==42&&s!==45&&s!==95))return!1;for(i=1;c<u;){if(a=e.src.charCodeAt(c++),a!==s&&!age(a))return!1;a===s&&i++}return i<3?!1:(o||(e.line=n+1,l=e.push("hr","hr",0),l.map=[n,e.line],l.markup=Array(i+1).join(String.fromCharCode(s))),!0)},xx=ee.isSpace;function nh(t,e){var n,r,o,s;return r=t.bMarks[e]+t.tShift[e],o=t.eMarks[e],n=t.src.charCodeAt(r++),n!==42&&n!==45&&n!==43||r<o&&(s=t.src.charCodeAt(r),!xx(s))?-1:r}function rh(t,e){var n,r=t.bMarks[e]+t.tShift[e],o=r,s=t.eMarks[e];if(o+1>=s||(n=t.src.charCodeAt(o++),n<48||n>57))return-1;for(;;){if(o>=s)return-1;if(n=t.src.charCodeAt(o++),n>=48&&n<=57){if(o-r>=10)return-1;continue}if(n===41||n===46)break;return-1}return o<s&&(n=t.src.charCodeAt(o),!xx(n))?-1:o}function cge(t,e){var n,r,o=t.level+2;for(n=e+2,r=t.tokens.length-2;n<r;n++)t.tokens[n].level===o&&t.tokens[n].type==="paragraph_open"&&(t.tokens[n+2].hidden=!0,t.tokens[n].hidden=!0,n+=2)}var uge=function(e,n,r,o){var s,i,a,l,c,u,d,f,p,h,m,g,y,b,v,N,C,E,D,q,w,x,M,O,I,k,T,_=n,G=!1,j=!0;if(e.sCount[_]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[_]-e.listIndent>=4&&e.sCount[_]<e.blkIndent)return!1;if(o&&e.parentType==="paragraph"&&e.sCount[_]>=e.blkIndent&&(G=!0),(x=rh(e,_))>=0){if(d=!0,O=e.bMarks[_]+e.tShift[_],y=Number(e.src.slice(O,x-1)),G&&y!==1)return!1}else if((x=nh(e,_))>=0)d=!1;else return!1;if(G&&e.skipSpaces(x)>=e.eMarks[_])return!1;if(o)return!0;for(g=e.src.charCodeAt(x-1),m=e.tokens.length,d?(T=e.push("ordered_list_open","ol",1),y!==1&&(T.attrs=[["start",y]])):T=e.push("bullet_list_open","ul",1),T.map=h=[_,0],T.markup=String.fromCharCode(g),M=!1,k=e.md.block.ruler.getRules("list"),C=e.parentType,e.parentType="list";_<r;){for(w=x,b=e.eMarks[_],u=v=e.sCount[_]+x-(e.bMarks[_]+e.tShift[_]);w<b;){if(s=e.src.charCodeAt(w),s===9)v+=4-(v+e.bsCount[_])%4;else if(s===32)v++;else break;w++}if(i=w,i>=b?c=1:c=v-u,c>4&&(c=1),l=u+c,T=e.push("list_item_open","li",1),T.markup=String.fromCharCode(g),T.map=f=[_,0],d&&(T.info=e.src.slice(O,x-1)),q=e.tight,D=e.tShift[_],E=e.sCount[_],N=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=l,e.tight=!0,e.tShift[_]=i-e.bMarks[_],e.sCount[_]=v,i>=b&&e.isEmpty(_+1)?e.line=Math.min(e.line+2,r):e.md.block.tokenize(e,_,r,!0),(!e.tight||M)&&(j=!1),M=e.line-_>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=N,e.tShift[_]=D,e.sCount[_]=E,e.tight=q,T=e.push("list_item_close","li",-1),T.markup=String.fromCharCode(g),_=e.line,f[1]=_,_>=r||e.sCount[_]<e.blkIndent||e.sCount[_]-e.blkIndent>=4)break;for(I=!1,a=0,p=k.length;a<p;a++)if(k[a](e,_,r,!0)){I=!0;break}if(I)break;if(d){if(x=rh(e,_),x<0)break;O=e.bMarks[_]+e.tShift[_]}else if(x=nh(e,_),x<0)break;if(g!==e.src.charCodeAt(x-1))break}return d?T=e.push("ordered_list_close","ol",-1):T=e.push("bullet_list_close","ul",-1),T.markup=String.fromCharCode(g),h[1]=_,e.line=_,e.parentType=C,j&&cge(e,m),!0},dge=ee.normalizeReference,Qo=ee.isSpace,fge=function(e,n,r,o){var s,i,a,l,c,u,d,f,p,h,m,g,y,b,v,N,C=0,E=e.bMarks[n]+e.tShift[n],D=e.eMarks[n],q=n+1;if(e.sCount[n]-e.blkIndent>=4||e.src.charCodeAt(E)!==91)return!1;for(;++E<D;)if(e.src.charCodeAt(E)===93&&e.src.charCodeAt(E-1)!==92){if(E+1===D||e.src.charCodeAt(E+1)!==58)return!1;break}for(l=e.lineMax,v=e.md.block.ruler.getRules("reference"),h=e.parentType,e.parentType="reference";q<l&&!e.isEmpty(q);q++)if(!(e.sCount[q]-e.blkIndent>3)&&!(e.sCount[q]<0)){for(b=!1,u=0,d=v.length;u<d;u++)if(v[u](e,q,l,!0)){b=!0;break}if(b)break}for(y=e.getLines(n,q,e.blkIndent,!1).trim(),D=y.length,E=1;E<D;E++){if(s=y.charCodeAt(E),s===91)return!1;if(s===93){p=E;break}else s===10?C++:s===92&&(E++,E<D&&y.charCodeAt(E)===10&&C++)}if(p<0||y.charCodeAt(p+1)!==58)return!1;for(E=p+2;E<D;E++)if(s=y.charCodeAt(E),s===10)C++;else if(!Qo(s))break;if(m=e.md.helpers.parseLinkDestination(y,E,D),!m.ok||(c=e.md.normalizeLink(m.str),!e.md.validateLink(c)))return!1;for(E=m.pos,C+=m.lines,i=E,a=C,g=E;E<D;E++)if(s=y.charCodeAt(E),s===10)C++;else if(!Qo(s))break;for(m=e.md.helpers.parseLinkTitle(y,E,D),E<D&&g!==E&&m.ok?(N=m.str,E=m.pos,C+=m.lines):(N="",E=i,C=a);E<D&&(s=y.charCodeAt(E),!!Qo(s));)E++;if(E<D&&y.charCodeAt(E)!==10&&N)for(N="",E=i,C=a;E<D&&(s=y.charCodeAt(E),!!Qo(s));)E++;return E<D&&y.charCodeAt(E)!==10||(f=dge(y.slice(1,p)),!f)?!1:(o||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[f]>"u"&&(e.env.references[f]={title:N,href:c}),e.parentType=h,e.line=n+C+1),!0)},pge=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ti={},hge="[a-zA-Z_:][a-zA-Z0-9:._-]*",mge="[^\"'=<>`\\x00-\\x20]+",gge="'[^']*'",yge='"[^"]*"',bge="(?:"+mge+"|"+gge+"|"+yge+")",vge="(?:\\s+"+hge+"(?:\\s*=\\s*"+bge+")?)",Ex="<[A-Za-z][A-Za-z0-9\\-]*"+vge+"*\\s*\\/?>",wx="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",kge="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",xge="<[?][\\s\\S]*?[?]>",Ege="<![A-Z]+\\s+[^>]*>",wge="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",_ge=new RegExp("^(?:"+Ex+"|"+wx+"|"+kge+"|"+xge+"|"+Ege+"|"+wge+")"),Sge=new RegExp("^(?:"+Ex+"|"+wx+")");Ti.HTML_TAG_RE=_ge;Ti.HTML_OPEN_CLOSE_TAG_RE=Sge;var Age=pge,Cge=Ti.HTML_OPEN_CLOSE_TAG_RE,Yn=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+Age.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Cge.source+"\\s*$"),/^$/,!1]],Dge=function(e,n,r,o){var s,i,a,l,c=e.bMarks[n]+e.tShift[n],u=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(c)!==60)return!1;for(l=e.src.slice(c,u),s=0;s<Yn.length&&!Yn[s][0].test(l);s++);if(s===Yn.length)return!1;if(o)return Yn[s][2];if(i=n+1,!Yn[s][1].test(l)){for(;i<r&&!(e.sCount[i]<e.blkIndent);i++)if(c=e.bMarks[i]+e.tShift[i],u=e.eMarks[i],l=e.src.slice(c,u),Yn[s][1].test(l)){l.length!==0&&i++;break}}return e.line=i,a=e.push("html_block","",0),a.map=[n,i],a.content=e.getLines(n,i,e.blkIndent,!0),!0},oh=ee.isSpace,Mge=function(e,n,r,o){var s,i,a,l,c=e.bMarks[n]+e.tShift[n],u=e.eMarks[n];if(e.sCount[n]-e.blkIndent>=4||(s=e.src.charCodeAt(c),s!==35||c>=u))return!1;for(i=1,s=e.src.charCodeAt(++c);s===35&&c<u&&i<=6;)i++,s=e.src.charCodeAt(++c);return i>6||c<u&&!oh(s)?!1:(o||(u=e.skipSpacesBack(u,c),a=e.skipCharsBack(u,35,c),a>c&&oh(e.src.charCodeAt(a-1))&&(u=a),e.line=n+1,l=e.push("heading_open","h"+String(i),1),l.markup="########".slice(0,i),l.map=[n,e.line],l=e.push("inline","",0),l.content=e.src.slice(c,u).trim(),l.map=[n,e.line],l.children=[],l=e.push("heading_close","h"+String(i),-1),l.markup="########".slice(0,i)),!0)},Tge=function(e,n,r){var o,s,i,a,l,c,u,d,f,p=n+1,h,m=e.md.block.ruler.getRules("paragraph");if(e.sCount[n]-e.blkIndent>=4)return!1;for(h=e.parentType,e.parentType="paragraph";p<r&&!e.isEmpty(p);p++)if(!(e.sCount[p]-e.blkIndent>3)){if(e.sCount[p]>=e.blkIndent&&(c=e.bMarks[p]+e.tShift[p],u=e.eMarks[p],c<u&&(f=e.src.charCodeAt(c),(f===45||f===61)&&(c=e.skipChars(c,f),c=e.skipSpaces(c),c>=u)))){d=f===61?1:2;break}if(!(e.sCount[p]<0)){for(s=!1,i=0,a=m.length;i<a;i++)if(m[i](e,p,r,!0)){s=!0;break}if(s)break}}return d?(o=e.getLines(n,p,e.blkIndent,!1).trim(),e.line=p+1,l=e.push("heading_open","h"+String(d),1),l.markup=String.fromCharCode(f),l.map=[n,e.line],l=e.push("inline","",0),l.content=o,l.map=[n,e.line-1],l.children=[],l=e.push("heading_close","h"+String(d),-1),l.markup=String.fromCharCode(f),e.parentType=h,!0):!1},Rge=function(e,n,r){var o,s,i,a,l,c,u=n+1,d=e.md.block.ruler.getRules("paragraph");for(c=e.parentType,e.parentType="paragraph";u<r&&!e.isEmpty(u);u++)if(!(e.sCount[u]-e.blkIndent>3)&&!(e.sCount[u]<0)){for(s=!1,i=0,a=d.length;i<a;i++)if(d[i](e,u,r,!0)){s=!0;break}if(s)break}return o=e.getLines(n,u,e.blkIndent,!1).trim(),e.line=u,l=e.push("paragraph_open","p",1),l.map=[n,e.line],l=e.push("inline","",0),l.content=o,l.map=[n,e.line],l.children=[],l=e.push("paragraph_close","p",-1),e.parentType=c,!0},_x=Pu,Ri=ee.isSpace;function Bt(t,e,n,r){var o,s,i,a,l,c,u,d;for(this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",s=this.src,d=!1,i=a=c=u=0,l=s.length;a<l;a++){if(o=s.charCodeAt(a),!d)if(Ri(o)){c++,o===9?u+=4-u%4:u++;continue}else d=!0;(o===10||a===l-1)&&(o!==10&&a++,this.bMarks.push(i),this.eMarks.push(a),this.tShift.push(c),this.sCount.push(u),this.bsCount.push(0),d=!1,c=0,u=0,i=a+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Bt.prototype.push=function(t,e,n){var r=new _x(t,e,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};Bt.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};Bt.prototype.skipEmptyLines=function(e){for(var n=this.lineMax;e<n&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};Bt.prototype.skipSpaces=function(e){for(var n,r=this.src.length;e<r&&(n=this.src.charCodeAt(e),!!Ri(n));e++);return e};Bt.prototype.skipSpacesBack=function(e,n){if(e<=n)return e;for(;e>n;)if(!Ri(this.src.charCodeAt(--e)))return e+1;return e};Bt.prototype.skipChars=function(e,n){for(var r=this.src.length;e<r&&this.src.charCodeAt(e)===n;e++);return e};Bt.prototype.skipCharsBack=function(e,n,r){if(e<=r)return e;for(;e>r;)if(n!==this.src.charCodeAt(--e))return e+1;return e};Bt.prototype.getLines=function(e,n,r,o){var s,i,a,l,c,u,d,f=e;if(e>=n)return"";for(u=new Array(n-e),s=0;f<n;f++,s++){for(i=0,d=l=this.bMarks[f],f+1<n||o?c=this.eMarks[f]+1:c=this.eMarks[f];l<c&&i<r;){if(a=this.src.charCodeAt(l),Ri(a))a===9?i+=4-(i+this.bsCount[f])%4:i++;else if(l-d<this.tShift[f])i++;else break;l++}i>r?u[s]=new Array(i-r+1).join(" ")+this.src.slice(l,c):u[s]=this.src.slice(l,c)}return u.join("")};Bt.prototype.Token=_x;var Nge=Bt,Oge=Iu,Jo=[["table",nge,["paragraph","reference"]],["code",rge],["fence",oge,["paragraph","reference","blockquote","list"]],["blockquote",ige,["paragraph","reference","blockquote","list"]],["hr",lge,["paragraph","reference","blockquote","list"]],["list",uge,["paragraph","reference","blockquote"]],["reference",fge],["html_block",Dge,["paragraph","reference","blockquote"]],["heading",Mge,["paragraph","reference","blockquote"]],["lheading",Tge],["paragraph",Rge]];function Ni(){this.ruler=new Oge;for(var t=0;t<Jo.length;t++)this.ruler.push(Jo[t][0],Jo[t][1],{alt:(Jo[t][2]||[]).slice()})}Ni.prototype.tokenize=function(t,e,n){for(var r,o,s,i=this.ruler.getRules(""),a=i.length,l=e,c=!1,u=t.md.options.maxNesting;l<n&&(t.line=l=t.skipEmptyLines(l),!(l>=n||t.sCount[l]<t.blkIndent));){if(t.level>=u){t.line=n;break}for(s=t.line,o=0;o<a;o++)if(r=i[o](t,l,n,!1),r){if(s>=t.line)throw new Error("block rule didn't increment state.line");break}if(!r)throw new Error("none of the block rules matched");t.tight=!c,t.isEmpty(t.line-1)&&(c=!0),l=t.line,l<n&&t.isEmpty(l)&&(c=!0,l++,t.line=l)}};Ni.prototype.parse=function(t,e,n,r){var o;t&&(o=new this.State(t,e,n,r),this.tokenize(o,o.line,o.lineMax))};Ni.prototype.State=Nge;var Lge=Ni;function Fge(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}var Ige=function(e,n){for(var r=e.pos;r<e.posMax&&!Fge(e.src.charCodeAt(r));)r++;return r===e.pos?!1:(n||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)},Pge=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i,$ge=function(e,n){var r,o,s,i,a,l,c,u;return!e.md.options.linkify||e.linkLevel>0||(r=e.pos,o=e.posMax,r+3>o)||e.src.charCodeAt(r)!==58||e.src.charCodeAt(r+1)!==47||e.src.charCodeAt(r+2)!==47||(s=e.pending.match(Pge),!s)||(i=s[1],a=e.md.linkify.matchAtStart(e.src.slice(r-i.length)),!a)||(l=a.url,l.length<=i.length)||(l=l.replace(/\*+$/,""),c=e.md.normalizeLink(l),!e.md.validateLink(c))?!1:(n||(e.pending=e.pending.slice(0,-i.length),u=e.push("link_open","a",1),u.attrs=[["href",c]],u.markup="linkify",u.info="auto",u=e.push("text","",0),u.content=e.md.normalizeLinkText(l),u=e.push("link_close","a",-1),u.markup="linkify",u.info="auto"),e.pos+=l.length-i.length,!0)},zge=ee.isSpace,Bge=function(e,n){var r,o,s,i=e.pos;if(e.src.charCodeAt(i)!==10)return!1;if(r=e.pending.length-1,o=e.posMax,!n)if(r>=0&&e.pending.charCodeAt(r)===32)if(r>=1&&e.pending.charCodeAt(r-1)===32){for(s=r-1;s>=1&&e.pending.charCodeAt(s-1)===32;)s--;e.pending=e.pending.slice(0,s),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(i++;i<o&&zge(e.src.charCodeAt(i));)i++;return e.pos=i,!0},qge=ee.isSpace,zu=[];for(var sh=0;sh<256;sh++)zu.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){zu[t.charCodeAt(0)]=1});var Vge=function(e,n){var r,o,s,i,a,l=e.pos,c=e.posMax;if(e.src.charCodeAt(l)!==92||(l++,l>=c))return!1;if(r=e.src.charCodeAt(l),r===10){for(n||e.push("hardbreak","br",0),l++;l<c&&(r=e.src.charCodeAt(l),!!qge(r));)l++;return e.pos=l,!0}return i=e.src[l],r>=55296&&r<=56319&&l+1<c&&(o=e.src.charCodeAt(l+1),o>=56320&&o<=57343&&(i+=e.src[l+1],l++)),s="\\"+i,n||(a=e.push("text_special","",0),r<256&&zu[r]!==0?a.content=i:a.content=s,a.markup=s,a.info="escape"),e.pos=l+1,!0},Uge=function(e,n){var r,o,s,i,a,l,c,u,d=e.pos,f=e.src.charCodeAt(d);if(f!==96)return!1;for(r=d,d++,o=e.posMax;d<o&&e.src.charCodeAt(d)===96;)d++;if(s=e.src.slice(r,d),c=s.length,e.backticksScanned&&(e.backticks[c]||0)<=r)return n||(e.pending+=s),e.pos+=c,!0;for(l=d;(a=e.src.indexOf("`",l))!==-1;){for(l=a+1;l<o&&e.src.charCodeAt(l)===96;)l++;if(u=l-a,u===c)return n||(i=e.push("code_inline","code",0),i.markup=s,i.content=e.src.slice(d,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=l,!0;e.backticks[u]=a}return e.backticksScanned=!0,n||(e.pending+=s),e.pos+=c,!0},Oi={};Oi.tokenize=function(e,n){var r,o,s,i,a,l=e.pos,c=e.src.charCodeAt(l);if(n||c!==126||(o=e.scanDelims(e.pos,!0),i=o.length,a=String.fromCharCode(c),i<2))return!1;for(i%2&&(s=e.push("text","",0),s.content=a,i--),r=0;r<i;r+=2)s=e.push("text","",0),s.content=a+a,e.delimiters.push({marker:c,length:0,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0};function ih(t,e){var n,r,o,s,i,a=[],l=e.length;for(n=0;n<l;n++)o=e[n],o.marker===126&&o.end!==-1&&(s=e[o.end],i=t.tokens[o.token],i.type="s_open",i.tag="s",i.nesting=1,i.markup="~~",i.content="",i=t.tokens[s.token],i.type="s_close",i.tag="s",i.nesting=-1,i.markup="~~",i.content="",t.tokens[s.token-1].type==="text"&&t.tokens[s.token-1].content==="~"&&a.push(s.token-1));for(;a.length;){for(n=a.pop(),r=n+1;r<t.tokens.length&&t.tokens[r].type==="s_close";)r++;r--,n!==r&&(i=t.tokens[r],t.tokens[r]=t.tokens[n],t.tokens[n]=i)}}Oi.postProcess=function(e){var n,r=e.tokens_meta,o=e.tokens_meta.length;for(ih(e,e.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&ih(e,r[n].delimiters)};var Li={};Li.tokenize=function(e,n){var r,o,s,i=e.pos,a=e.src.charCodeAt(i);if(n||a!==95&&a!==42)return!1;for(o=e.scanDelims(e.pos,a===42),r=0;r<o.length;r++)s=e.push("text","",0),s.content=String.fromCharCode(a),e.delimiters.push({marker:a,length:o.length,token:e.tokens.length-1,end:-1,open:o.can_open,close:o.can_close});return e.pos+=o.length,!0};function ah(t,e){var n,r,o,s,i,a,l=e.length;for(n=l-1;n>=0;n--)r=e[n],!(r.marker!==95&&r.marker!==42)&&r.end!==-1&&(o=e[r.end],a=n>0&&e[n-1].end===r.end+1&&e[n-1].marker===r.marker&&e[n-1].token===r.token-1&&e[r.end+1].token===o.token+1,i=String.fromCharCode(r.marker),s=t.tokens[r.token],s.type=a?"strong_open":"em_open",s.tag=a?"strong":"em",s.nesting=1,s.markup=a?i+i:i,s.content="",s=t.tokens[o.token],s.type=a?"strong_close":"em_close",s.tag=a?"strong":"em",s.nesting=-1,s.markup=a?i+i:i,s.content="",a&&(t.tokens[e[n-1].token].content="",t.tokens[e[r.end+1].token].content="",n--))}Li.postProcess=function(e){var n,r=e.tokens_meta,o=e.tokens_meta.length;for(ah(e,e.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&ah(e,r[n].delimiters)};var jge=ee.normalizeReference,Ua=ee.isSpace,Gge=function(e,n){var r,o,s,i,a,l,c,u,d,f="",p="",h=e.pos,m=e.posMax,g=e.pos,y=!0;if(e.src.charCodeAt(e.pos)!==91||(a=e.pos+1,i=e.md.helpers.parseLinkLabel(e,e.pos,!0),i<0))return!1;if(l=i+1,l<m&&e.src.charCodeAt(l)===40){for(y=!1,l++;l<m&&(o=e.src.charCodeAt(l),!(!Ua(o)&&o!==10));l++);if(l>=m)return!1;if(g=l,c=e.md.helpers.parseLinkDestination(e.src,l,e.posMax),c.ok){for(f=e.md.normalizeLink(c.str),e.md.validateLink(f)?l=c.pos:f="",g=l;l<m&&(o=e.src.charCodeAt(l),!(!Ua(o)&&o!==10));l++);if(c=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<m&&g!==l&&c.ok)for(p=c.str,l=c.pos;l<m&&(o=e.src.charCodeAt(l),!(!Ua(o)&&o!==10));l++);}(l>=m||e.src.charCodeAt(l)!==41)&&(y=!0),l++}if(y){if(typeof e.env.references>"u")return!1;if(l<m&&e.src.charCodeAt(l)===91?(g=l+1,l=e.md.helpers.parseLinkLabel(e,l),l>=0?s=e.src.slice(g,l++):l=i+1):l=i+1,s||(s=e.src.slice(a,i)),u=e.env.references[jge(s)],!u)return e.pos=h,!1;f=u.href,p=u.title}return n||(e.pos=a,e.posMax=i,d=e.push("link_open","a",1),d.attrs=r=[["href",f]],p&&r.push(["title",p]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,d=e.push("link_close","a",-1)),e.pos=l,e.posMax=m,!0},Hge=ee.normalizeReference,ja=ee.isSpace,Wge=function(e,n){var r,o,s,i,a,l,c,u,d,f,p,h,m,g="",y=e.pos,b=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91||(l=e.pos+2,a=e.md.helpers.parseLinkLabel(e,e.pos+1,!1),a<0))return!1;if(c=a+1,c<b&&e.src.charCodeAt(c)===40){for(c++;c<b&&(o=e.src.charCodeAt(c),!(!ja(o)&&o!==10));c++);if(c>=b)return!1;for(m=c,d=e.md.helpers.parseLinkDestination(e.src,c,e.posMax),d.ok&&(g=e.md.normalizeLink(d.str),e.md.validateLink(g)?c=d.pos:g=""),m=c;c<b&&(o=e.src.charCodeAt(c),!(!ja(o)&&o!==10));c++);if(d=e.md.helpers.parseLinkTitle(e.src,c,e.posMax),c<b&&m!==c&&d.ok)for(f=d.str,c=d.pos;c<b&&(o=e.src.charCodeAt(c),!(!ja(o)&&o!==10));c++);else f="";if(c>=b||e.src.charCodeAt(c)!==41)return e.pos=y,!1;c++}else{if(typeof e.env.references>"u")return!1;if(c<b&&e.src.charCodeAt(c)===91?(m=c+1,c=e.md.helpers.parseLinkLabel(e,c),c>=0?i=e.src.slice(m,c++):c=a+1):c=a+1,i||(i=e.src.slice(l,a)),u=e.env.references[Hge(i)],!u)return e.pos=y,!1;g=u.href,f=u.title}return n||(s=e.src.slice(l,a),e.md.inline.parse(s,e.md,e.env,h=[]),p=e.push("image","img",0),p.attrs=r=[["src",g],["alt",""]],p.children=h,p.content=s,f&&r.push(["title",f])),e.pos=c,e.posMax=b,!0},Kge=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Xge=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/,Zge=function(e,n){var r,o,s,i,a,l,c=e.pos;if(e.src.charCodeAt(c)!==60)return!1;for(a=e.pos,l=e.posMax;;){if(++c>=l||(i=e.src.charCodeAt(c),i===60))return!1;if(i===62)break}return r=e.src.slice(a+1,c),Xge.test(r)?(o=e.md.normalizeLink(r),e.md.validateLink(o)?(n||(s=e.push("link_open","a",1),s.attrs=[["href",o]],s.markup="autolink",s.info="auto",s=e.push("text","",0),s.content=e.md.normalizeLinkText(r),s=e.push("link_close","a",-1),s.markup="autolink",s.info="auto"),e.pos+=r.length+2,!0):!1):Kge.test(r)?(o=e.md.normalizeLink("mailto:"+r),e.md.validateLink(o)?(n||(s=e.push("link_open","a",1),s.attrs=[["href",o]],s.markup="autolink",s.info="auto",s=e.push("text","",0),s.content=e.md.normalizeLinkText(r),s=e.push("link_close","a",-1),s.markup="autolink",s.info="auto"),e.pos+=r.length+2,!0):!1):!1},Yge=Ti.HTML_TAG_RE;function Qge(t){return/^<a[>\s]/i.test(t)}function Jge(t){return/^<\/a\s*>/i.test(t)}function eye(t){var e=t|32;return e>=97&&e<=122}var tye=function(e,n){var r,o,s,i,a=e.pos;return!e.md.options.html||(s=e.posMax,e.src.charCodeAt(a)!==60||a+2>=s)||(r=e.src.charCodeAt(a+1),r!==33&&r!==63&&r!==47&&!eye(r))||(o=e.src.slice(a).match(Yge),!o)?!1:(n||(i=e.push("html_inline","",0),i.content=o[0],Qge(i.content)&&e.linkLevel++,Jge(i.content)&&e.linkLevel--),e.pos+=o[0].length,!0)},lh=bx,nye=ee.has,rye=ee.isValidEntityCode,ch=ee.fromCodePoint,oye=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,sye=/^&([a-z][a-z0-9]{1,31});/i,iye=function(e,n){var r,o,s,i,a=e.pos,l=e.posMax;if(e.src.charCodeAt(a)!==38||a+1>=l)return!1;if(r=e.src.charCodeAt(a+1),r===35){if(s=e.src.slice(a).match(oye),s)return n||(o=s[1][0].toLowerCase()==="x"?parseInt(s[1].slice(1),16):parseInt(s[1],10),i=e.push("text_special","",0),i.content=rye(o)?ch(o):ch(65533),i.markup=s[0],i.info="entity"),e.pos+=s[0].length,!0}else if(s=e.src.slice(a).match(sye),s&&nye(lh,s[1]))return n||(i=e.push("text_special","",0),i.content=lh[s[1]],i.markup=s[0],i.info="entity"),e.pos+=s[0].length,!0;return!1};function uh(t){var e,n,r,o,s,i,a,l,c={},u=t.length;if(u){var d=0,f=-2,p=[];for(e=0;e<u;e++)if(r=t[e],p.push(0),(t[d].marker!==r.marker||f!==r.token-1)&&(d=e),f=r.token,r.length=r.length||0,!!r.close){for(c.hasOwnProperty(r.marker)||(c[r.marker]=[-1,-1,-1,-1,-1,-1]),s=c[r.marker][(r.open?3:0)+r.length%3],n=d-p[d]-1,i=n;n>s;n-=p[n]+1)if(o=t[n],o.marker===r.marker&&o.open&&o.end<0&&(a=!1,(o.close||r.open)&&(o.length+r.length)%3===0&&(o.length%3!==0||r.length%3!==0)&&(a=!0),!a)){l=n>0&&!t[n-1].open?p[n-1]+1:0,p[e]=e-n+l,p[n]=l,r.open=!1,o.end=e,o.close=!1,i=-1,f=-2;break}i!==-1&&(c[r.marker][(r.open?3:0)+(r.length||0)%3]=i)}}}var aye=function(e){var n,r=e.tokens_meta,o=e.tokens_meta.length;for(uh(e.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&uh(r[n].delimiters)},lye=function(e){var n,r,o=0,s=e.tokens,i=e.tokens.length;for(n=r=0;n<i;n++)s[n].nesting<0&&o--,s[n].level=o,s[n].nesting>0&&o++,s[n].type==="text"&&n+1<i&&s[n+1].type==="text"?s[n+1].content=s[n].content+s[n+1].content:(n!==r&&(s[r]=s[n]),r++);n!==r&&(s.length=r)},Bu=Pu,dh=ee.isWhiteSpace,fh=ee.isPunctChar,ph=ee.isMdAsciiPunct;function Oo(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}Oo.prototype.pushPending=function(){var t=new Bu("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};Oo.prototype.push=function(t,e,n){this.pending&&this.pushPending();var r=new Bu(t,e,n),o=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],o={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(o),r};Oo.prototype.scanDelims=function(t,e){var n=t,r,o,s,i,a,l,c,u,d,f=!0,p=!0,h=this.posMax,m=this.src.charCodeAt(t);for(r=t>0?this.src.charCodeAt(t-1):32;n<h&&this.src.charCodeAt(n)===m;)n++;return s=n-t,o=n<h?this.src.charCodeAt(n):32,c=ph(r)||fh(String.fromCharCode(r)),d=ph(o)||fh(String.fromCharCode(o)),l=dh(r),u=dh(o),u?f=!1:d&&(l||c||(f=!1)),l?p=!1:c&&(u||d||(p=!1)),e?(i=f,a=p):(i=f&&(!p||c),a=p&&(!f||d)),{can_open:i,can_close:a,length:s}};Oo.prototype.Token=Bu;var cye=Oo,hh=Iu,Ga=[["text",Ige],["linkify",$ge],["newline",Bge],["escape",Vge],["backticks",Uge],["strikethrough",Oi.tokenize],["emphasis",Li.tokenize],["link",Gge],["image",Wge],["autolink",Zge],["html_inline",tye],["entity",iye]],Ha=[["balance_pairs",aye],["strikethrough",Oi.postProcess],["emphasis",Li.postProcess],["fragments_join",lye]];function Lo(){var t;for(this.ruler=new hh,t=0;t<Ga.length;t++)this.ruler.push(Ga[t][0],Ga[t][1]);for(this.ruler2=new hh,t=0;t<Ha.length;t++)this.ruler2.push(Ha[t][0],Ha[t][1])}Lo.prototype.skipToken=function(t){var e,n,r=t.pos,o=this.ruler.getRules(""),s=o.length,i=t.md.options.maxNesting,a=t.cache;if(typeof a[r]<"u"){t.pos=a[r];return}if(t.level<i){for(n=0;n<s;n++)if(t.level++,e=o[n](t,!0),t.level--,e){if(r>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}else t.pos=t.posMax;e||t.pos++,a[r]=t.pos};Lo.prototype.tokenize=function(t){for(var e,n,r,o=this.ruler.getRules(""),s=o.length,i=t.posMax,a=t.md.options.maxNesting;t.pos<i;){if(r=t.pos,t.level<a){for(n=0;n<s;n++)if(e=o[n](t,!1),e){if(r>=t.pos)throw new Error("inline rule didn't increment state.pos");break}}if(e){if(t.pos>=i)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};Lo.prototype.parse=function(t,e,n,r){var o,s,i,a=new this.State(t,e,n,r);for(this.tokenize(a),s=this.ruler2.getRules(""),i=s.length,o=0;o<i;o++)s[o](a)};Lo.prototype.State=cye;var uye=Lo,Wa,mh;function dye(){return mh||(mh=1,Wa=function(t){var e={};t=t||{},e.src_Any=Bc().source,e.src_Cc=qc().source,e.src_Z=Vc().source,e.src_P=gi().source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");var n="[><]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}),Wa}function Hl(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function Fi(t){return Object.prototype.toString.call(t)}function fye(t){return Fi(t)==="[object String]"}function pye(t){return Fi(t)==="[object Object]"}function hye(t){return Fi(t)==="[object RegExp]"}function gh(t){return Fi(t)==="[object Function]"}function mye(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var Sx={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function gye(t){return Object.keys(t||{}).reduce(function(e,n){return e||Sx.hasOwnProperty(n)},!1)}var yye={"http:":{validate:function(t,e,n){var r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){var r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){var r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},bye="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",vye="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function kye(t){t.__index__=-1,t.__text_cache__=""}function xye(t){return function(e,n){var r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}function yh(){return function(t,e){e.normalize(t)}}function Xs(t){var e=t.re=dye()(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(bye),n.push(e.src_xn),e.src_tlds=n.join("|");function r(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");var o=[];t.__compiled__={};function s(a,l){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+l)}Object.keys(t.__schemas__).forEach(function(a){var l=t.__schemas__[a];if(l!==null){var c={validate:null,link:null};if(t.__compiled__[a]=c,pye(l)){hye(l.validate)?c.validate=xye(l.validate):gh(l.validate)?c.validate=l.validate:s(a,l),gh(l.normalize)?c.normalize=l.normalize:l.normalize?s(a,l):c.normalize=yh();return}if(fye(l)){o.push(a);return}s(a,l)}}),o.forEach(function(a){t.__compiled__[t.__schemas__[a]]&&(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:yh()};var i=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map(mye).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+i+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+i+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),kye(t)}function Eye(t,e){var n=t.__index__,r=t.__last_index__,o=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=o,this.text=o,this.url=o}function Wl(t,e){var n=new Eye(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function tt(t,e){if(!(this instanceof tt))return new tt(t,e);e||gye(t)&&(e=t,t={}),this.__opts__=Hl({},Sx,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Hl({},yye,t),this.__compiled__={},this.__tlds__=vye,this.__tlds_replaced__=!1,this.re={},Xs(this)}tt.prototype.add=function(e,n){return this.__schemas__[e]=n,Xs(this),this};tt.prototype.set=function(e){return this.__opts__=Hl(this.__opts__,e),this};tt.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var n,r,o,s,i,a,l,c,u;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(e))!==null;)if(s=this.testSchemaAt(e,n[2],l.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(i=r.index+r[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=e.indexOf("@"),u>=0&&(o=e.match(this.re.email_fuzzy))!==null&&(i=o.index+o[1].length,a=o.index+o[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a))),this.__index__>=0};tt.prototype.pretest=function(e){return this.re.pretest.test(e)};tt.prototype.testSchemaAt=function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0};tt.prototype.match=function(e){var n=0,r=[];this.__index__>=0&&this.__text_cache__===e&&(r.push(Wl(this,n)),n=this.__last_index__);for(var o=n?e.slice(n):e;this.test(o);)r.push(Wl(this,n)),o=o.slice(this.__last_index__),n+=this.__last_index__;return r.length?r:null};tt.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;var n=this.re.schema_at_start.exec(e);if(!n)return null;var r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,Wl(this,0)):null};tt.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,o,s){return r!==s[o-1]}).reverse(),Xs(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Xs(this),this)};tt.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};tt.prototype.onCompile=function(){};var wye=tt;const mr=2147483647,Dt=36,qu=1,go=26,_ye=38,Sye=700,Ax=72,Cx=128,Dx="-",Aye=/^xn--/,Cye=/[^\0-\x7F]/,Dye=/[\x2E\u3002\uFF0E\uFF61]/g,Mye={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ka=Dt-qu,Mt=Math.floor,Xa=String.fromCharCode;function tn(t){throw new RangeError(Mye[t])}function Tye(t,e){const n=[];let r=t.length;for(;r--;)n[r]=e(t[r]);return n}function Mx(t,e){const n=t.split("@");let r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(Dye,".");const o=t.split("."),s=Tye(o,e).join(".");return r+s}function Vu(t){const e=[];let n=0;const r=t.length;for(;n<r;){const o=t.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((o&1023)<<10)+(s&1023)+65536):(e.push(o),n--)}else e.push(o)}return e}const Tx=t=>String.fromCodePoint(...t),Rye=function(t){return t>=48&&t<58?26+(t-48):t>=65&&t<91?t-65:t>=97&&t<123?t-97:Dt},bh=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},Rx=function(t,e,n){let r=0;for(t=n?Mt(t/Sye):t>>1,t+=Mt(t/e);t>Ka*go>>1;r+=Dt)t=Mt(t/Ka);return Mt(r+(Ka+1)*t/(t+_ye))},Uu=function(t){const e=[],n=t.length;let r=0,o=Cx,s=Ax,i=t.lastIndexOf(Dx);i<0&&(i=0);for(let a=0;a<i;++a)t.charCodeAt(a)>=128&&tn("not-basic"),e.push(t.charCodeAt(a));for(let a=i>0?i+1:0;a<n;){const l=r;for(let u=1,d=Dt;;d+=Dt){a>=n&&tn("invalid-input");const f=Rye(t.charCodeAt(a++));f>=Dt&&tn("invalid-input"),f>Mt((mr-r)/u)&&tn("overflow"),r+=f*u;const p=d<=s?qu:d>=s+go?go:d-s;if(f<p)break;const h=Dt-p;u>Mt(mr/h)&&tn("overflow"),u*=h}const c=e.length+1;s=Rx(r-l,c,l==0),Mt(r/c)>mr-o&&tn("overflow"),o+=Mt(r/c),r%=c,e.splice(r++,0,o)}return String.fromCodePoint(...e)},ju=function(t){const e=[];t=Vu(t);const n=t.length;let r=Cx,o=0,s=Ax;for(const l of t)l<128&&e.push(Xa(l));const i=e.length;let a=i;for(i&&e.push(Dx);a<n;){let l=mr;for(const u of t)u>=r&&u<l&&(l=u);const c=a+1;l-r>Mt((mr-o)/c)&&tn("overflow"),o+=(l-r)*c,r=l;for(const u of t)if(u<r&&++o>mr&&tn("overflow"),u===r){let d=o;for(let f=Dt;;f+=Dt){const p=f<=s?qu:f>=s+go?go:f-s;if(d<p)break;const h=d-p,m=Dt-p;e.push(Xa(bh(p+h%m,0))),d=Mt(h/m)}e.push(Xa(bh(d,0))),s=Rx(o,c,a===i),o=0,++a}++o,++r}return e.join("")},Nx=function(t){return Mx(t,function(e){return Aye.test(e)?Uu(e.slice(4).toLowerCase()):e})},Ox=function(t){return Mx(t,function(e){return Cye.test(e)?"xn--"+ju(e):e})},Nye={version:"2.3.1",ucs2:{decode:Vu,encode:Tx},decode:Uu,encode:ju,toASCII:Ox,toUnicode:Nx},Oye=Object.freeze(Object.defineProperty({__proto__:null,decode:Uu,default:Nye,encode:ju,toASCII:Ox,toUnicode:Nx,ucs2decode:Vu,ucs2encode:Tx},Symbol.toStringTag,{value:"Module"})),Lye=wh(Oye);var Fye={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},Iye={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},Pye={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},Qr=ee,$ye=Mi,zye=Rme,Bye=tge,qye=Lge,Vye=uye,Uye=wye,Cn=Mr,Lx=Lye,jye={default:Fye,zero:Iye,commonmark:Pye},Gye=/^(vbscript|javascript|file|data):/,Hye=/^data:image\/(gif|png|jpeg|webp);/;function Wye(t){var e=t.trim().toLowerCase();return Gye.test(e)?!!Hye.test(e):!0}var Fx=["http:","https:","mailto:"];function Kye(t){var e=Cn.parse(t,!0);if(e.hostname&&(!e.protocol||Fx.indexOf(e.protocol)>=0))try{e.hostname=Lx.toASCII(e.hostname)}catch{}return Cn.encode(Cn.format(e))}function Xye(t){var e=Cn.parse(t,!0);if(e.hostname&&(!e.protocol||Fx.indexOf(e.protocol)>=0))try{e.hostname=Lx.toUnicode(e.hostname)}catch{}return Cn.decode(Cn.format(e),Cn.decode.defaultChars+"%")}function lt(t,e){if(!(this instanceof lt))return new lt(t,e);e||Qr.isString(t)||(e=t||{},t="default"),this.inline=new Vye,this.block=new qye,this.core=new Bye,this.renderer=new zye,this.linkify=new Uye,this.validateLink=Wye,this.normalizeLink=Kye,this.normalizeLinkText=Xye,this.utils=Qr,this.helpers=Qr.assign({},$ye),this.options={},this.configure(t),e&&this.set(e)}lt.prototype.set=function(t){return Qr.assign(this.options,t),this};lt.prototype.configure=function(t){var e=this,n;if(Qr.isString(t)&&(n=t,t=jye[n],!t))throw new Error('Wrong `markdown-it` preset "'+n+'", check name');if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(r){t.components[r].rules&&e[r].ruler.enableOnly(t.components[r].rules),t.components[r].rules2&&e[r].ruler2.enableOnly(t.components[r].rules2)}),this};lt.prototype.enable=function(t,e){var n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(o){n=n.concat(this[o].ruler.enable(t,!0))},this),n=n.concat(this.inline.ruler2.enable(t,!0));var r=t.filter(function(o){return n.indexOf(o)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};lt.prototype.disable=function(t,e){var n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(o){n=n.concat(this[o].ruler.disable(t,!0))},this),n=n.concat(this.inline.ruler2.disable(t,!0));var r=t.filter(function(o){return n.indexOf(o)<0});if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};lt.prototype.use=function(t){var e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};lt.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");var n=new this.core.State(t,this,e);return this.core.process(n),n.tokens};lt.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};lt.prototype.parseInline=function(t,e){var n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens};lt.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};var Zye=lt,Yye=Zye;const Qye=bo(Yye),Jye=new hg({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(t){return["h"+t.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:t=>({params:t.getAttribute("data-params")||""})}],toDOM(t){return["pre",t.attrs.params?{"data-params":t.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1,tight:t.hasAttribute("data-tight")}}}],toDOM(t){return["ol",{start:t.attrs.order==1?null:t.attrs.order,"data-tight":t.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:t=>({tight:t.hasAttribute("data-tight")})}],toDOM(t){return["ul",{"data-tight":t.attrs.tight?"true":null},0]}},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(t){return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")}}}],toDOM(t){return["img",t.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:t=>t.type.name=="em"}],toDOM(){return["em"]}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name=="strong"},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],toDOM(){return["strong"]}},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(t){return{href:t.getAttribute("href"),title:t.getAttribute("title")}}}],toDOM(t){return["a",t.attrs]}},code:{parseDOM:[{tag:"code"}],toDOM(){return["code"]}}}});function e0e(t,e){if(t.isText&&e.isText&&Z.sameSet(t.marks,e.marks))return t.withText(t.text+e.text)}class t0e{constructor(e,n){this.schema=e,this.tokenHandlers=n,this.stack=[{type:e.topNodeType,attrs:null,content:[],marks:Z.none}]}top(){return this.stack[this.stack.length-1]}push(e){this.stack.length&&this.top().content.push(e)}addText(e){if(!e)return;let n=this.top(),r=n.content,o=r[r.length-1],s=this.schema.text(e,n.marks),i;o&&(i=e0e(o,s))?r[r.length-1]=i:r.push(s)}openMark(e){let n=this.top();n.marks=e.addToSet(n.marks)}closeMark(e){let n=this.top();n.marks=e.removeFromSet(n.marks)}parseTokens(e){for(let n=0;n<e.length;n++){let r=e[n],o=this.tokenHandlers[r.type];if(!o)throw new Error("Token type `"+r.type+"` not supported by Markdown parser");o(this,r,e,n)}}addNode(e,n,r){let o=this.top(),s=e.createAndFill(n,r,o?o.marks:[]);return s?(this.push(s),s):null}openNode(e,n){this.stack.push({type:e,attrs:n,content:[],marks:Z.none})}closeNode(){let e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)}}function $r(t,e,n,r){return t.getAttrs?t.getAttrs(e,n,r):t.attrs instanceof Function?t.attrs(e):t.attrs}function Za(t,e){return t.noCloseToken||e=="code_inline"||e=="code_block"||e=="fence"}function vh(t){return t[t.length-1]==`
`?t.slice(0,t.length-1):t}function Ya(){}function n0e(t,e){let n=Object.create(null);for(let r in e){let o=e[r];if(o.block){let s=t.nodeType(o.block);Za(o,r)?n[r]=(i,a,l,c)=>{i.openNode(s,$r(o,a,l,c)),i.addText(vh(a.content)),i.closeNode()}:(n[r+"_open"]=(i,a,l,c)=>i.openNode(s,$r(o,a,l,c)),n[r+"_close"]=i=>i.closeNode())}else if(o.node){let s=t.nodeType(o.node);n[r]=(i,a,l,c)=>i.addNode(s,$r(o,a,l,c))}else if(o.mark){let s=t.marks[o.mark];Za(o,r)?n[r]=(i,a,l,c)=>{i.openMark(s.create($r(o,a,l,c))),i.addText(vh(a.content)),i.closeMark(s)}:(n[r+"_open"]=(i,a,l,c)=>i.openMark(s.create($r(o,a,l,c))),n[r+"_close"]=i=>i.closeMark(s))}else if(o.ignore)Za(o,r)?n[r]=Ya:(n[r+"_open"]=Ya,n[r+"_close"]=Ya);else throw new RangeError("Unrecognized parsing spec "+JSON.stringify(o))}return n.text=(r,o)=>r.addText(o.content),n.inline=(r,o)=>r.parseTokens(o.children),n.softbreak=n.softbreak||(r=>r.addText(" ")),n}class r0e{constructor(e,n,r){this.schema=e,this.tokenizer=n,this.tokens=r,this.tokenHandlers=n0e(e,r)}parse(e,n={}){let r=new t0e(this.schema,this.tokenHandlers),o;r.parseTokens(this.tokenizer.parse(e,n));do o=r.closeNode();while(r.stack.length);return o||this.schema.topNodeType.createAndFill()}}function kh(t,e){for(;++e<t.length;)if(t[e].type!="list_item_open")return t[e].hidden;return!1}new r0e(Jye,Qye("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(t,e,n)=>({tight:kh(e,n)})},ordered_list:{block:"ordered_list",getAttrs:(t,e,n)=>({order:+t.attrGet("start")||1,tight:kh(e,n)})},heading:{block:"heading",getAttrs:t=>({level:+t.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:t=>({params:t.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:t=>({src:t.attrGet("src"),title:t.attrGet("title")||null,alt:t.children[0]&&t.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:t=>({href:t.attrGet("href"),title:t.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}});const o0e=!!(typeof window<"u"&&window.document&&window.document.createElement);var es;function s0e(t){if((!es&&es!==0||t)&&o0e){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),es=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return es}const i0e=Object.freeze(Object.defineProperty({__proto__:null,default:s0e},Symbol.toStringTag,{value:"Module"})),S1e=wh(i0e);var Ix=Function.prototype.toString,lr=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Kl,ys;if(typeof lr=="function"&&typeof Object.defineProperty=="function")try{Kl=Object.defineProperty({},"length",{get:function(){throw ys}}),ys={},lr(function(){throw 42},null,Kl)}catch(t){t!==ys&&(lr=null)}else lr=null;var a0e=/^\s*class\b/,Xl=function(e){try{var n=Ix.call(e);return a0e.test(n)}catch{return!1}},Qa=function(e){try{return Xl(e)?!1:(Ix.call(e),!0)}catch{return!1}},bs=Object.prototype.toString,l0e="[object Object]",c0e="[object Function]",u0e="[object GeneratorFunction]",d0e="[object HTMLAllCollection]",f0e="[object HTML document.all class]",p0e="[object HTMLCollection]",h0e=typeof Symbol=="function"&&!!Symbol.toStringTag,m0e=!(0 in[,]),Zl=function(){return!1};if(typeof document=="object"){var g0e=document.all;bs.call(g0e)===bs.call(document.all)&&(Zl=function(e){if((m0e||!e)&&(typeof e>"u"||typeof e=="object"))try{var n=bs.call(e);return(n===d0e||n===f0e||n===p0e||n===l0e)&&e("")==null}catch{}return!1})}var y0e=lr?function(e){if(Zl(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{lr(e,null,Kl)}catch(n){if(n!==ys)return!1}return!Xl(e)&&Qa(e)}:function(e){if(Zl(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(h0e)return Qa(e);if(Xl(e))return!1;var n=bs.call(e);return n!==c0e&&n!==u0e&&!/^\[object HTML/.test(n)?!1:Qa(e)},b0e=y0e,v0e=Object.prototype.toString,Px=Object.prototype.hasOwnProperty,k0e=function(e,n,r){for(var o=0,s=e.length;o<s;o++)Px.call(e,o)&&(r==null?n(e[o],o,e):n.call(r,e[o],o,e))},x0e=function(e,n,r){for(var o=0,s=e.length;o<s;o++)r==null?n(e.charAt(o),o,e):n.call(r,e.charAt(o),o,e)},E0e=function(e,n,r){for(var o in e)Px.call(e,o)&&(r==null?n(e[o],o,e):n.call(r,e[o],o,e))},w0e=function(e,n,r){if(!b0e(n))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=r),v0e.call(e)==="[object Array]"?k0e(e,n,o):typeof e=="string"?x0e(e,n,o):E0e(e,n,o)},_0e=w0e,Ja=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],S0e=typeof globalThis>"u"?We:globalThis,A0e=function(){for(var e=[],n=0;n<Ja.length;n++)typeof S0e[Ja[n]]=="function"&&(e[e.length]=Ja[n]);return e},Zs=_0e,C0e=A0e,xh=qm,Gu=ES,vs=Nc,D0e=Gu("Object.prototype.toString"),$x=C_(),Eh=typeof globalThis>"u"?We:globalThis,Yl=C0e(),Hu=Gu("String.prototype.slice"),el=Object.getPrototypeOf,M0e=Gu("Array.prototype.indexOf",!0)||function(e,n){for(var r=0;r<e.length;r+=1)if(e[r]===n)return r;return-1},Ys={__proto__:null};$x&&vs&&el?Zs(Yl,function(t){var e=new Eh[t];if(Symbol.toStringTag in e){var n=el(e),r=vs(n,Symbol.toStringTag);if(!r){var o=el(n);r=vs(o,Symbol.toStringTag)}Ys["$"+t]=xh(r.get)}}):Zs(Yl,function(t){var e=new Eh[t],n=e.slice||e.set;n&&(Ys["$"+t]=xh(n))});var T0e=function(e){var n=!1;return Zs(Ys,function(r,o){if(!n)try{"$"+r(e)===o&&(n=Hu(o,1))}catch{}}),n},R0e=function(e){var n=!1;return Zs(Ys,function(r,o){if(!n)try{r(e),n=Hu(o,1)}catch{}}),n},N0e=function(e){if(!e||typeof e!="object")return!1;if(!$x){var n=Hu(D0e(e),8,-1);return M0e(Yl,n)>-1?n:n!=="Object"?!1:R0e(e)}return vs?T0e(e):null},O0e=N0e,A1e=function(e){return!!O0e(e)};export{Pbe as $,xo as A,wve as B,Dve as C,ol as D,fbe as E,Dbe as F,Fbe as G,pbe as H,F1 as I,B1 as J,lbe as K,kbe as L,$be as M,Rt as N,I1 as O,xs as P,O1 as Q,L as R,hg as S,Sbe as T,Z0e as U,S_ as V,rbe as W,cbe as X,ebe as Y,Ebe as Z,ct as _,F as a,b_ as a$,mbe as a0,xbe as a1,$1 as a2,Qh as a3,pn as a4,cxe as a5,dxe as a6,xve as a7,GD as a8,nke as a9,Wo as aA,Lke as aB,dbe as aC,tve as aD,vc as aE,Vbe as aF,ive as aG,bi as aH,gxe as aI,fxe as aJ,uxe as aK,hxe as aL,HD as aM,tke as aN,Lbe as aO,uke as aP,hke as aQ,Gbe as aR,Eke as aS,T1 as aT,mke as aU,Zbe as aV,Ybe as aW,jbe as aX,Eve as aY,lke as aZ,Jve as a_,eke as aa,vke as ab,bke as ac,__ as ad,L1 as ae,qbe as af,Ube as ag,P1 as ah,pi as ai,Obe as aj,Mbe as ak,Tbe as al,Nbe as am,q0e as an,pc as ao,yr as ap,jh as aq,di as ar,uc as as,Wh as at,dc as au,sm as av,em as aw,U0e as ax,nM as ay,_ke as az,St as b,Rbe as b$,Md as b0,Sm as b1,Bbe as b2,ixe as b3,pve as b4,z0e as b5,ibe as b6,Xbe as b7,Rve as b8,Y0e as b9,_ve as bA,Sve as bB,Lve as bC,hbe as bD,W0e as bE,J0e as bF,ybe as bG,ube as bH,Q0e as bI,sbe as bJ,_be as bK,gbe as bL,obe as bM,wbe as bN,$ve as bO,mxe as bP,bbe as bQ,lve as bR,dve as bS,gve as bT,g1 as bU,Jke as bV,txe as bW,rxe as bX,oxe as bY,nxe as bZ,exe as b_,R1 as ba,vbe as bb,X0e as bc,Bc as bd,qc as be,Vc as bf,gi as bg,abe as bh,bc as bi,B0e as bj,Wbe as bk,Mve as bl,Ibe as bm,H0e as bn,yke as bo,ike as bp,vl as bq,Hve as br,tbe as bs,z1 as bt,Qke as bu,Tke as bv,Rke as bw,Abe as bx,zbe as by,Lm as bz,yve as c,V as c$,j0e as c0,Hbe as c1,Ove as c2,Qbe as c3,sve as c4,nbe as c5,Lxe as c6,et as c7,ze as c8,Te as c9,S as cA,hu as cB,ZI as cC,he as cD,ht as cE,so as cF,Ur as cG,xxe as cH,v1e as cI,XF as cJ,ZF as cK,E1e as cL,yxe as cM,_n as cN,mt as cO,sxe as cP,Gke as cQ,Hke as cR,Wke as cS,Kke as cT,Xke as cU,Zke as cV,P0e as cW,oke as cX,fke as cY,Fr as cZ,dn as c_,Je as ca,_1 as cb,S1e as cc,Jbe as cd,eve as ce,Y as cf,lxe as cg,ue as ch,$A as ci,mu as cj,fk as ck,De as cl,CS as cm,Hv as cn,_r as co,Pve as cp,Kbe as cq,YD as cr,G0e as cs,Fve as ct,Ive as cu,A1e as cv,N0e as cw,Im as cx,U as cy,R as cz,bve as d,Oxe as d$,XT as d0,QI as d1,JF as d2,fn as d3,Ve as d4,Fxe as d5,bEe as d6,l1e as d7,_xe as d8,kEe as d9,kke as dA,dke as dB,qve as dC,Tve as dD,Nve as dE,Fc as dF,Qm as dG,Wve as dH,Gve as dI,Kve as dJ,jve as dK,Vve as dL,Cv as dM,Uve as dN,RD as dO,I0e as dP,xke as dQ,nu as dR,wke as dS,Cbe as dT,tM as dU,gke as dV,ske as dW,zve as dX,Fke as dY,Nxe as dZ,Ue as d_,c1e as da,Si as db,Hxe as dc,_Ee as dd,YEe as de,Yxe as df,a1e as dg,i1e as dh,Xxe as di,Xm as dj,Ic as dk,Lb as dl,P as dm,gu as dn,nk as dp,y_ as dq,Bve as dr,Ls as ds,Co as dt,OC as du,jb as dv,Gb as dw,rke as dx,Yve as dy,Qve as dz,Fn as e,Hs as e$,xEe as e0,Zk as e1,Gxe as e2,je as e3,eEe as e4,DI as e5,Wxe as e6,h1e as e7,sk as e8,d1e as e9,Qye as eA,sR as eB,iR as eC,se as eD,ne as eE,ve as eF,rn as eG,Ct as eH,cke as eI,Wr as eJ,Uke as eK,Bke as eL,pxe as eM,Mke as eN,Vke as eO,gv as eP,uv as eQ,dv as eR,HEe as eS,XEe as eT,WEe as eU,KEe as eV,jt as eW,mEe as eX,jxe as eY,tEe as eZ,lo as e_,UI as ea,_1e as eb,u1e as ec,Gs as ed,$P as ee,JEe as ef,e1e as eg,t1e as eh,Nu as ei,n1e as ej,Xve as ek,oEe as el,Kxe as em,Rxe as en,aEe as eo,Ym as ep,wS as eq,wEe as er,Oc as es,vg as et,Sb as eu,ka as ev,Ps as ew,pke as ex,w1e as ey,tC as ez,Jr as f,Jm as f$,Nf as f0,ae as f1,kn as f2,REe as f3,dI as f4,Jxe as f5,zke as f6,gEe as f7,Exe as f8,wxe as f9,iEe as fA,ok as fB,kI as fC,Lp as fD,OEe as fE,TEe as fF,DEe as fG,ps as fH,du as fI,NEe as fJ,r1e as fK,Mxe as fL,LI as fM,s1e as fN,Dxe as fO,QEe as fP,o1e as fQ,Op as fR,Txe as fS,aI as fT,oR as fU,Mo as fV,eI as fW,VEe as fX,MEe as fY,Mb as fZ,yC as f_,Cl as fa,b1e as fb,ZEe as fc,sEe as fd,cEe as fe,yg as ff,Oke as fg,Nke as fh,Qt as fi,Ge as fj,yEe as fk,wI as fl,PEe as fm,m1e as fn,IEe as fo,Ixe as fp,zxe as fq,AI as fr,CI as fs,LEe as ft,nC as fu,nEe as fv,rEe as fw,Pxe as fx,$xe as fy,eD as fz,bo as g,Uxe as g$,wg as g0,lEe as g1,Pt as g2,le as g3,SEe as g4,AEe as g5,CEe as g6,vEe as g7,Hr as g8,r0e as g9,f1e as gA,xg as gB,zEe as gC,qke as gD,GEe as gE,hEe as gF,Fp as gG,jEe as gH,EEe as gI,Jk as gJ,TI as gK,UEe as gL,BEe as gM,aP as gN,NI as gO,ox as gP,qEe as gQ,k1e as gR,KC as gS,QC as gT,ZC as gU,XC as gV,oD as gW,JC as gX,p1e as gY,Is as gZ,$ke as g_,x1e as ga,pEe as gb,IF as gc,kxe as gd,Sxe as ge,Z as gf,Yv as gg,g1e as gh,HI as gi,jke as gj,uEe as gk,dEe as gl,fEe as gm,vxe as gn,y1e as go,FEe as gp,qxe as gq,Bxe as gr,Vxe as gs,$Ee as gt,Cxe as gu,Axe as gv,rx as gw,bxe as gx,Qxe as gy,Zxe as gz,re as h,Zve as h0,rD as h1,mD as h2,gD as h3,Wm as h4,Km as h5,fv as h6,pv as h7,Ike as h8,Xe as h9,rve as hA,q1 as hB,Cke as hC,Dke as hD,K0e as hE,nd as hF,fve as hG,JD as ha,Wc as hb,Uc as hc,ake as hd,fD as he,Cve as hf,Ave as hg,pD as hh,axe as hi,nA as hj,aR as hk,mi as hl,Sv as hm,Yke as hn,ove as ho,nve as hp,tm as hq,V1 as hr,hve as hs,mve as ht,V0e as hu,KE as hv,ad as hw,cve as hx,ave as hy,uve as hz,We as i,ew as j,kve as k,vve as l,Nh as m,yo as n,hc as o,$0e as p,Ee as q,A as r,wh as s,uE as t,C1 as u,C_ as v,ES as w,gS as x,mS as y,qm as z};
//# sourceMappingURL=a1b2c3-BIUAe2b4.js.map
