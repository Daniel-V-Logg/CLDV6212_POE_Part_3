const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["cardWithMediaClient-B5MhzMPc.js","a1b2c3-BIUAe2b4.js","lodash-JQs4LXD6.js","yjs-Cyj2tZeb.js","sentry-BPH6silo.js","date-fns-CZMN4x1g.js","zod-C4a_jWXR.js","statsig-CciSPO6z.js","cheerio-DQLnZxVv.js","rxjs-BCoeeh2h.js","apollo-client-CiAgU1zi.js","mime-type-icon-CKyTOrL8.js","emotion-styled.browser.esm-BQu8RZDQ.js","24-DXzUnmsC.js","16-BQgjNLKV.js","16-DfxZDeIJ.js","16-gomp6ANX.js","16-CLDoIAjk.js","media-card-analytics-error-boundary-DD-XiL2y.js","truncateText-DIVMO0XJ.js","helpers-C5e7C8iy.js","formatDate-_79eWuXv.js","warning-DG27vdJF.js","vid-play-D_11zvkd.js","index-DhUi0PSa.js","experience-It-jvov0.js","concurrent-experience-DPux6BJu.js","MediaFileStateError-COc8vh8K.js","constants-p_ktqV6b.js","MediaClientProvider-CUEemo-y.js","media-viewer-loader-DK751Idh.js","modalSpinner-D6cEAuv-.js","withMediaClient-PIb3UCsm.js","cardWithMediaClientV2-Cq7osUrj.js","index-D32Bes_z.js","useFilePreview-DoVtXpC5.js","MediaViewer-BIqX3mQS.js","16-CnALvZaw.js","16-D0BtS1WG.js","16-VUgfvALo.js","16-Bp_xiKPT.js","16-BRFNm7rL.js","16-DVCGeyM-.js","16-DFFXC7N4.js","16-cuutpu-9.js","16-D5GvxJQi.js","16-C-Ay5AEV.js","16-BNh0v2Ui.js","16-BKLbfrzr.js","16-CRkiV1DJ.js","task-CiTbEiyu.js","watch-Cb28lFVU.js","like-BgjOKa8Z.js","priority-blocker-GKZjXHNm.js","priority-critical-BE8BsNQq.js","priority-high-mV7R7hZq.js","priority-highest-BLqlN-Ts.js","priority-low-CkQ6FRFB.js","priority-lowest-BZAggPgx.js","priority-major-D1SA0P27.js","priority-medium-BDVwG8pC.js","priority-minor-rkexRudD.js","priority-trivial-BBViKdIr.js","question-DjW1642W.js","question-circle-CjxKh4xV.js","subtask-fu2265hu.js","index-DB3-S8k1.js","shortcut-DiCfRAxy.js","vid-full-screen-off-B10T8qGN.js","modal-transition-DlDuGS9m.js","index-66irp7ub.js","index-CuDvoRSN.js","index-Cy8Nz5_P.js","field-BbTussMq.js","text-field-Bwd7lhs0.js","Select-C4FAdvwO.js","question-circle-szuAgvHM.js","index-CX2pQl4N.js","index-CA7pU7Cd.js","RenderDatasourceComponent-BGGiXeEb.js","index-yRqXOKtO.js","index-D7f4AnO3.js","avatar-Mp7Tnf4Q.js","constants-B87giwPX.js","ProfileCard-DG_GcODf.js","ErrorBoundary-BurKcwkH.js","office-building-aPrs0Xit.js","clock-DeSC3LIE.js","main-CQC-4gfa.js","main-WTLnzx_w.js","AgentProfileCard-UC37I5t0.js","index-5fOgIAgx.js","heading.partial-Cw58ppLQ.js","heading-uhoybPNR.css","index-DhWH51X1.css","DatabaseFatalError-CkLhcYzI.js","empty-state-4bt6-Jtb.js","DatabaseSnackbar-Cs_xWcUL.js","DatabaseSnackbar-B5OybbZL.css","index-CawCM-Ye.js","block-CYDwqwwl.js","constants-KZ8HBB51.js","apply-H95FjO8u.js","index-C682QkrO.css","ExportDialog-7Hq1BcwY.js","radio-group-CmE6tojq.js","ImportDialog-BEagr8w2.js","remove-DDTy9pPG.js","DatabaseSetup-Cu2zicyf.js","DatabaseSpotlight-BgcakTac.js","spotlight-manager-dcrT13_j.js","spotlight-target-B67LsFI0.js","CopyDatabaseDialog-UNKrENzr.js","space-0ps14Km5.js","FieldSettingsDialog-ZkUheON_.js","FieldSettings-fCWG27gD.js","DatabaseEntryPanel-hXpyemV9.js","CreateFieldPanel-D-GU8ZJs.js","thread-dialog-BFj8TAu7.js","withAnalyticsContext-vtdasQNy.js","LegacyAnalyticsContext-BUEi-T1x.js","rusha-Bey50EBw.js","thread-dialog-C6JiAiGC.css","BoardLayout-DfQV1NLj.js","generic_error_dark-DBshirMG.js","EntryCardWithMenu-BvwY_wbn.js","EntryCardValue-NLuMmil0.js","CalendarLayout-C46DBk35.js","CardLayout-H9_XpTby.js","ShrinkingEmptyState-B9CFHPUa.js","EmbedEmptyState-DeDR3eDR.js"])))=>i.map(i=>d[i]);
var _O=e=>{throw TypeError(e)};var h2=(e,t,n)=>t.has(e)||_O("Cannot "+n);var Ne=(e,t,n)=>(h2(e,t,"read from private field"),n?n.call(e):t.get(e)),ya=(e,t,n)=>t.has(e)?_O("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Js=(e,t,n,r)=>(h2(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),xO=(e,t,n)=>(h2(e,t,"access private method"),n);import{aa as wle,ab as SO,cM as Pe,dh as YS,di as cu,dj as KS,dk as nn,aO as Me,aB as sr,J as ie,O as _e,S as Rt,aN as Co,j as h,t as U,ac as Ra,dc as Cle,c_ as _le,dl as Wb,dm as r_,dn as sN,dp as Rp,a7 as tn,aF as wt,dq as iN,dr as ws,ds as xle,bp as Aa,dt as Sle,du as kle,dv as Ile,dw as Tle,dx as Ale,dy as Dle,dz as Ole,at as ae,dA as ma,az as on,ak as yt,dB as Da,dC as qe,N as Pa,bv as hv,b$ as Mle,dD as $le,dE as Rle,dF as Ple,aJ as Lle,dG as Nle,dH as Fle,dI as jle,dJ as Vle,I as ye,dK as Gb,dL as qb,dM as Yb,dN as Ble,dO as Ule,dP as Ni,dQ as Hle,dR as kO,br as Xr,y as An,z as Vt,A as Ht,dS as ql,dT as Kb,dU as zle,b9 as Wr,dV as Wle,dW as lN,V as It,u as du,dX as XS,bC as $m,bD as St,dY as Gle,dZ as qle,d_ as Yle,d$ as Kle,aA as mt,e0 as JS,e1 as ZS,e2 as QS,e3 as Xle,e4 as IO,e5 as cN,c3 as tt,e6 as Jle,e7 as Xb,e8 as uu,ah as dN,e9 as Zle,bO as it,cD as TO,o as G,a9 as o_,ea as L0,eb as Jb,b as Xe,ec as Qle,ed as fu,w as Cn,am as AO,av as Be,ee as pu,ef as ece,bu as mr,bf as uN,aP as Gt,aw as ko,eg as Lg,eh as g2,ei as tce,co as nce,cp as rce,cq as oce,ba as ace,d8 as sce,bb as ek,ej as ice,a8 as tk,ek as lce,em as cce,en as dce,eo as uce,ep as gv,cz as Fs,eq as Zb,a6 as or,_ as to,er as nk,es as Gr,a1 as fn,ax as Wo,et as rk,L as Rm,eu as fN,ev as fce,ew as pce,ex as mce,a4 as mu,a3 as Qb,ey as hce,ez as gce,P as pN,eA as mN,eB as As,bw as _o,eC as Fd,cY as jd,bX as hN,eD as gN,eE as vce,eF as e1,eG as bce,eH as vv,eI as yce,eJ as vN,eK as Pm,eL as Yl,cF as bN,eM as yN,eN as Lm,eO as t1,eP as n1,eQ as ok,eR as N0,eS as Ng,bR as Ece,eT as wce,eU as ak,eV as Vd,eW as Nm,eX as EN,eY as wN,eZ as CN,e_ as r1,e$ as _N,f0 as xN,f1 as sk,f2 as SN,f3 as Cce,f4 as bv,f5 as DO,f6 as Fm,f7 as Pp,f8 as ik,ad as o1,c as ia,f9 as il,fa as Rc,fb as dr,fc as rp,fd as lk,fe as a1,ff as kN,a5 as jm,fg as ck,fh as _ce,fi as xce,cH as Ci,fj as s1,fk as IN,cO as TN,p as dk,cP as AN,cN as DN,fl as ON,fm as Sce,cA as a_,B as Un,fn as s_,a2 as kce,cR as yv,fo as MN,fp as $N,fq as RN,cK as PN,fr as LN,fs as NN,ft as FN,fu as jN,fv as Ice,cv as VN,fw as Tce,fx as Ace,cu as Dce,fy as Vm,M as uk,ay as za,fz as Bm,fA as Oce,fB as Mce,fC as $ce,fD as Rce,R as hu,bn as Jn,bB as Va,fE as OO,fF as BN,fG as v2,b8 as Ae,fH as UN,fI as fk,fJ as HN,K as no,fK as MO,F as Pce,C as Um,G as Lce,E as zN,fL as Nce,fM as Fg,fN as Fce,fO as Cd,fP as Or,fQ as jce,fR as Vce,fS as Bce,fT as cd,al as Uce,fU as Hce,g as zce,fV as Hm,$ as pk,fW as WN,H as lc,fX as Kl,fY as Sl,fZ as zm,f_ as GN,f$ as Ii,g0 as i1,an as Wce,g1 as Gce,bP as qce,by as qN,g2 as Yce,bq as Kce,g3 as Xce,g4 as Jce,g5 as Zce,g6 as YN,g7 as KN,g8 as ho,bz as Qce,g9 as ede,bA as tde,aj as op,ga as nde,b_ as XN,gb as rde,gc as $O,gd as ode,ar as Wm,as as Fi,ge as ade,gf as i_,gg as RO,af as PO,gh as sde,d5 as LO,gi as Br,gj as Ur,de as Pc,dd as jg,bx as Lp,gk as Np,gl as Ie,gm as NO,gn as ide,go as mk,gp as hk,gq as lde,gr as cde,gs as dde,gt as ude,gu as FO,gv as fde,gw as JN,gx as b2,gy as pde,gz as jO,gA as mde,au as hde,gB as VO,gC as gde,gD as od,gE as ft,gF as ZN,gG as QN,ap as Ff,gH as eF,a0 as vde,gI as Bd,gJ as bde,gK as yde,gL as Ede,gM as wde,f as Cde,gN as _de}from"./yjs-Cyj2tZeb.js";import{r as c,o as M,p as k,q as H,F as Ve,J as mn,b2 as Qn,M as rn,ag as Mn,H as Jt,bj as js,aF as No,ho as df,c4 as BO,bH as jo,bS as Lc,aC as cn,ah as Vo,bD as l_,E as vn,Y as c_,bF as Fp,bs as hs,I as bn,ae as Er,bc as yr,D as Ke,ce as ea,am as an,bR as El,hp as y2,aw as jt,aO as Wa,O as gn,$ as gu,hq as xde,a4 as gt,R as _,hr as tF,hs as Sde,bU as Pr,av as et,a3 as Qt,s as gk,an as Bo,b0 as nF,n as de,b1 as kde,aY as rF,h as q,m as Za,ht as Ide,A as vu,P as Lt,u as oF,g as _r,ai as Ee,b4 as l1,i as aa,aR as Vs,c1 as Bs,a8 as Pt,c3 as Tde,cd as Ade,bm as Vn,hu as bu,h9 as vk,al as Dt,cb as Gm,hv as Dde,ax as cc,f as aF,bt as bk,hw as sF,B as xr,cp as d_,ak as Xl,G as ji,a2 as Ut,aT as yu,cs as Eu,ba as iF,hx as Ode,hy as yk,aD as c1,hz as qm,hA as lF,af as Ba,hB as cF,c as wu,d as Cu,b as UO,j as HO,aj as Ek,by as Rl,bn as Uo,K as Ds,hC as Mde,hD as $de,eN as Rde,ao as Pde,ap as Lde,aq as Nde,ar as Fde,as as jde,at as Vde,au as Bde,b$ as wk,bT as dF,ad as Ue,Q as Ev,bk as zO,bb as uF,bh as fF,bA as Ude,aX as u_,bz as WO,b5 as pF,bE as GO,bI as qO,b6 as mF,bJ as YO,T as Hde,bK as KO,bG as XO,bL as E2,b9 as JO,bM as ZO,bN as QO,a0 as eM,L as zde,U as Wde,W as Gde,Z as qde,hE as hF,bQ as gF,b7 as Yde,c0 as Kde,c2 as Xde,X as Jde,hF as vF,bl as bF,g2 as Ck,g3 as dc,hG as _k}from"./a1b2c3-BIUAe2b4.js";import{p as Ym,u as _u,o as Zde,D as Qde,j as yF,s as EF,k as uc,F as Bn,G as _d,H as eue,I as wv,J as w2,K as tue,_ as nue,c as wF,i as f_,m as rue,C as tM,h as nM,L as oue,a as aue,M as sue}from"./sentry-BPH6silo.js";import{d as Vi,l as $r,a as wn,g as xk,n as iue,f as p_,p as lue,S as cue,q as due,i as uue,s as Cv,B as fue,F as pue}from"./statsig-CciSPO6z.js";import{K as mue,L as CF,M as hue,N as Km,O as gue,P as Xm,Q as Jm,R as vue,p as xd,i as _F,f as xF,S as bue,J as yue,I as Eue}from"./date-fns-CZMN4x1g.js";import{E as rM,F as oM,G as wue,H as Cue,i as la,j as Zm,o as ap,I as _ue,J as SF,K as kF,q as jp,L as xue,M as Sue,N as kue,a as aM,z as Iue,O as Tue,c as Aue,s as IF,r as sp}from"./lodash-JQs4LXD6.js";import{D as Due}from"./apollo-client-CiAgU1zi.js";import{o as Oue,n as Mue,s as C2,a as $ue,c as sM}from"./zod-C4a_jWXR.js";function ro(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var Rue={},d1={};d1.byteLength=Nue;d1.toByteArray=jue;d1.fromByteArray=Uue;var Oa=[],$o=[],Pue=typeof Uint8Array<"u"?Uint8Array:Array,_2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Nc=0,Lue=_2.length;Nc<Lue;++Nc)Oa[Nc]=_2[Nc],$o[_2.charCodeAt(Nc)]=Nc;$o[45]=62;$o[95]=63;function TF(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function Nue(e){var t=TF(e),n=t[0],r=t[1];return(n+r)*3/4-r}function Fue(e,t,n){return(t+n)*3/4-n}function jue(e){var t,n=TF(e),r=n[0],o=n[1],a=new Pue(Fue(e,r,o)),s=0,i=o>0?r-4:r,l;for(l=0;l<i;l+=4)t=$o[e.charCodeAt(l)]<<18|$o[e.charCodeAt(l+1)]<<12|$o[e.charCodeAt(l+2)]<<6|$o[e.charCodeAt(l+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return o===2&&(t=$o[e.charCodeAt(l)]<<2|$o[e.charCodeAt(l+1)]>>4,a[s++]=t&255),o===1&&(t=$o[e.charCodeAt(l)]<<10|$o[e.charCodeAt(l+1)]<<4|$o[e.charCodeAt(l+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function Vue(e){return Oa[e>>18&63]+Oa[e>>12&63]+Oa[e>>6&63]+Oa[e&63]}function Bue(e,t,n){for(var r,o=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),o.push(Vue(r));return o.join("")}function Uue(e){for(var t,n=e.length,r=n%3,o=[],a=16383,s=0,i=n-r;s<i;s+=a)o.push(Bue(e,s,s+a>i?i:s+a));return r===1?(t=e[n-1],o.push(Oa[t>>2]+Oa[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],o.push(Oa[t>>10]+Oa[t>>4&63]+Oa[t<<2&63]+"=")),o.join("")}var Sk={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Sk.read=function(e,t,n,r,o){var a,s,i=o*8-r-1,l=(1<<i)-1,d=l>>1,u=-7,f=n?o-1:0,p=n?-1:1,m=e[t+f];for(f+=p,a=m&(1<<-u)-1,m>>=-u,u+=i;u>0;a=a*256+e[t+f],f+=p,u-=8);for(s=a&(1<<-u)-1,a>>=-u,u+=r;u>0;s=s*256+e[t+f],f+=p,u-=8);if(a===0)a=1-d;else{if(a===l)return s?NaN:(m?-1:1)*(1/0);s=s+Math.pow(2,r),a=a-d}return(m?-1:1)*s*Math.pow(2,a-r)};Sk.write=function(e,t,n,r,o,a){var s,i,l,d=a*8-o-1,u=(1<<d)-1,f=u>>1,p=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:a-1,g=r?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(i=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+f>=1?t+=p/l:t+=p*Math.pow(2,1-f),t*l>=2&&(s++,l/=2),s+f>=u?(i=0,s=u):s+f>=1?(i=(t*l-1)*Math.pow(2,o),s=s+f):(i=t*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;e[n+m]=i&255,m+=g,i/=256,o-=8);for(s=s<<o|i,d+=o;d>0;e[n+m]=s&255,m+=g,s/=256,d-=8);e[n+m-g]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=d1,n=Sk,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=i,e.SlowBuffer=E,e.INSPECT_MAX_BYTES=50;var o=2147483647;e.kMaxLength=o,i.TYPED_ARRAY_SUPPORT=a(),!i.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{var N=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(N,R),N.foo()===42}catch{return!1}}Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}});function s(N){if(N>o)throw new RangeError('The value "'+N+'" is invalid for option "size"');var R=new Uint8Array(N);return Object.setPrototypeOf(R,i.prototype),R}function i(N,R,P){if(typeof N=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(N)}return l(N,R,P)}i.poolSize=8192;function l(N,R,P){if(typeof N=="string")return p(N,R);if(ArrayBuffer.isView(N))return g(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(ve(N,ArrayBuffer)||N&&ve(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ve(N,SharedArrayBuffer)||N&&ve(N.buffer,SharedArrayBuffer)))return v(N,R,P);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var W=N.valueOf&&N.valueOf();if(W!=null&&W!==N)return i.from(W,R,P);var re=b(N);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return i.from(N[Symbol.toPrimitive]("string"),R,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}i.from=function(N,R,P){return l(N,R,P)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array);function d(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function u(N,R,P){return d(N),N<=0?s(N):R!==void 0?typeof P=="string"?s(N).fill(R,P):s(N).fill(R):s(N)}i.alloc=function(N,R,P){return u(N,R,P)};function f(N){return d(N),s(N<0?0:y(N)|0)}i.allocUnsafe=function(N){return f(N)},i.allocUnsafeSlow=function(N){return f(N)};function p(N,R){if((typeof R!="string"||R==="")&&(R="utf8"),!i.isEncoding(R))throw new TypeError("Unknown encoding: "+R);var P=w(N,R)|0,W=s(P),re=W.write(N,R);return re!==P&&(W=W.slice(0,re)),W}function m(N){for(var R=N.length<0?0:y(N.length)|0,P=s(R),W=0;W<R;W+=1)P[W]=N[W]&255;return P}function g(N){if(ve(N,Uint8Array)){var R=new Uint8Array(N);return v(R.buffer,R.byteOffset,R.byteLength)}return m(N)}function v(N,R,P){if(R<0||N.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<R+(P||0))throw new RangeError('"length" is outside of buffer bounds');var W;return R===void 0&&P===void 0?W=new Uint8Array(N):P===void 0?W=new Uint8Array(N,R):W=new Uint8Array(N,R,P),Object.setPrototypeOf(W,i.prototype),W}function b(N){if(i.isBuffer(N)){var R=y(N.length)|0,P=s(R);return P.length===0||N.copy(P,0,0,R),P}if(N.length!==void 0)return typeof N.length!="number"||ke(N.length)?s(0):m(N);if(N.type==="Buffer"&&Array.isArray(N.data))return m(N.data)}function y(N){if(N>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return N|0}function E(N){return+N!=N&&(N=0),i.alloc(+N)}i.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==i.prototype},i.compare=function(R,P){if(ve(R,Uint8Array)&&(R=i.from(R,R.offset,R.byteLength)),ve(P,Uint8Array)&&(P=i.from(P,P.offset,P.byteLength)),!i.isBuffer(R)||!i.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===P)return 0;for(var W=R.length,re=P.length,be=0,te=Math.min(W,re);be<te;++be)if(R[be]!==P[be]){W=R[be],re=P[be];break}return W<re?-1:re<W?1:0},i.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(R,P){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return i.alloc(0);var W;if(P===void 0)for(P=0,W=0;W<R.length;++W)P+=R[W].length;var re=i.allocUnsafe(P),be=0;for(W=0;W<R.length;++W){var te=R[W];if(ve(te,Uint8Array))be+te.length>re.length?i.from(te).copy(re,be):Uint8Array.prototype.set.call(re,te,be);else if(i.isBuffer(te))te.copy(re,be);else throw new TypeError('"list" argument must be an Array of Buffers');be+=te.length}return re};function w(N,R){if(i.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||ve(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);var P=N.length,W=arguments.length>2&&arguments[2]===!0;if(!W&&P===0)return 0;for(var re=!1;;)switch(R){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return ee(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P*2;case"hex":return P>>>1;case"base64":return se(N).length;default:if(re)return W?-1:ee(N).length;R=(""+R).toLowerCase(),re=!0}}i.byteLength=w;function C(N,R,P){var W=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0,R>>>=0,P<=R))return"";for(N||(N="utf8");;)switch(N){case"hex":return z(this,R,P);case"utf8":case"utf-8":return F(this,R,P);case"ascii":return Y(this,R,P);case"latin1":case"binary":return J(this,R,P);case"base64":return L(this,R,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,R,P);default:if(W)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),W=!0}}i.prototype._isBuffer=!0;function x(N,R,P){var W=N[R];N[R]=N[P],N[P]=W}i.prototype.swap16=function(){var R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var P=0;P<R;P+=2)x(this,P,P+1);return this},i.prototype.swap32=function(){var R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var P=0;P<R;P+=4)x(this,P,P+3),x(this,P+1,P+2);return this},i.prototype.swap64=function(){var R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var P=0;P<R;P+=8)x(this,P,P+7),x(this,P+1,P+6),x(this,P+2,P+5),x(this,P+3,P+4);return this},i.prototype.toString=function(){var R=this.length;return R===0?"":arguments.length===0?F(this,0,R):C.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(R){if(!i.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:i.compare(this,R)===0},i.prototype.inspect=function(){var R="",P=e.INSPECT_MAX_BYTES;return R=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(R+=" ... "),"<Buffer "+R+">"},r&&(i.prototype[r]=i.prototype.inspect),i.prototype.compare=function(R,P,W,re,be){if(ve(R,Uint8Array)&&(R=i.from(R,R.offset,R.byteLength)),!i.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(P===void 0&&(P=0),W===void 0&&(W=R?R.length:0),re===void 0&&(re=0),be===void 0&&(be=this.length),P<0||W>R.length||re<0||be>this.length)throw new RangeError("out of range index");if(re>=be&&P>=W)return 0;if(re>=be)return-1;if(P>=W)return 1;if(P>>>=0,W>>>=0,re>>>=0,be>>>=0,this===R)return 0;for(var te=be-re,xe=W-P,he=Math.min(te,xe),we=this.slice(re,be),$e=R.slice(P,W),Fe=0;Fe<he;++Fe)if(we[Fe]!==$e[Fe]){te=we[Fe],xe=$e[Fe];break}return te<xe?-1:xe<te?1:0};function S(N,R,P,W,re){if(N.length===0)return-1;if(typeof P=="string"?(W=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,ke(P)&&(P=re?0:N.length-1),P<0&&(P=N.length+P),P>=N.length){if(re)return-1;P=N.length-1}else if(P<0)if(re)P=0;else return-1;if(typeof R=="string"&&(R=i.from(R,W)),i.isBuffer(R))return R.length===0?-1:I(N,R,P,W,re);if(typeof R=="number")return R=R&255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(N,R,P):Uint8Array.prototype.lastIndexOf.call(N,R,P):I(N,[R],P,W,re);throw new TypeError("val must be string, number or Buffer")}function I(N,R,P,W,re){var be=1,te=N.length,xe=R.length;if(W!==void 0&&(W=String(W).toLowerCase(),W==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(N.length<2||R.length<2)return-1;be=2,te/=2,xe/=2,P/=2}function he(dt,Qe){return be===1?dt[Qe]:dt.readUInt16BE(Qe*be)}var we;if(re){var $e=-1;for(we=P;we<te;we++)if(he(N,we)===he(R,$e===-1?0:we-$e)){if($e===-1&&($e=we),we-$e+1===xe)return $e*be}else $e!==-1&&(we-=we-$e),$e=-1}else for(P+xe>te&&(P=te-xe),we=P;we>=0;we--){for(var Fe=!0,st=0;st<xe;st++)if(he(N,we+st)!==he(R,st)){Fe=!1;break}if(Fe)return we}return-1}i.prototype.includes=function(R,P,W){return this.indexOf(R,P,W)!==-1},i.prototype.indexOf=function(R,P,W){return S(this,R,P,W,!0)},i.prototype.lastIndexOf=function(R,P,W){return S(this,R,P,W,!1)};function A(N,R,P,W){P=Number(P)||0;var re=N.length-P;W?(W=Number(W),W>re&&(W=re)):W=re;var be=R.length;W>be/2&&(W=be/2);for(var te=0;te<W;++te){var xe=parseInt(R.substr(te*2,2),16);if(ke(xe))return te;N[P+te]=xe}return te}function T(N,R,P,W){return ue(ee(R,N.length-P),N,P,W)}function O(N,R,P,W){return ue(ne(R),N,P,W)}function D(N,R,P,W){return ue(se(R),N,P,W)}function $(N,R,P,W){return ue(Q(R,N.length-P),N,P,W)}i.prototype.write=function(R,P,W,re){if(P===void 0)re="utf8",W=this.length,P=0;else if(W===void 0&&typeof P=="string")re=P,W=this.length,P=0;else if(isFinite(P))P=P>>>0,isFinite(W)?(W=W>>>0,re===void 0&&(re="utf8")):(re=W,W=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var be=this.length-P;if((W===void 0||W>be)&&(W=be),R.length>0&&(W<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");for(var te=!1;;)switch(re){case"hex":return A(this,R,P,W);case"utf8":case"utf-8":return T(this,R,P,W);case"ascii":case"latin1":case"binary":return O(this,R,P,W);case"base64":return D(this,R,P,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,R,P,W);default:if(te)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),te=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(N,R,P){return R===0&&P===N.length?t.fromByteArray(N):t.fromByteArray(N.slice(R,P))}function F(N,R,P){P=Math.min(N.length,P);for(var W=[],re=R;re<P;){var be=N[re],te=null,xe=be>239?4:be>223?3:be>191?2:1;if(re+xe<=P){var he,we,$e,Fe;switch(xe){case 1:be<128&&(te=be);break;case 2:he=N[re+1],(he&192)===128&&(Fe=(be&31)<<6|he&63,Fe>127&&(te=Fe));break;case 3:he=N[re+1],we=N[re+2],(he&192)===128&&(we&192)===128&&(Fe=(be&15)<<12|(he&63)<<6|we&63,Fe>2047&&(Fe<55296||Fe>57343)&&(te=Fe));break;case 4:he=N[re+1],we=N[re+2],$e=N[re+3],(he&192)===128&&(we&192)===128&&($e&192)===128&&(Fe=(be&15)<<18|(he&63)<<12|(we&63)<<6|$e&63,Fe>65535&&Fe<1114112&&(te=Fe))}}te===null?(te=65533,xe=1):te>65535&&(te-=65536,W.push(te>>>10&1023|55296),te=56320|te&1023),W.push(te),re+=xe}return V(W)}var B=4096;function V(N){var R=N.length;if(R<=B)return String.fromCharCode.apply(String,N);for(var P="",W=0;W<R;)P+=String.fromCharCode.apply(String,N.slice(W,W+=B));return P}function Y(N,R,P){var W="";P=Math.min(N.length,P);for(var re=R;re<P;++re)W+=String.fromCharCode(N[re]&127);return W}function J(N,R,P){var W="";P=Math.min(N.length,P);for(var re=R;re<P;++re)W+=String.fromCharCode(N[re]);return W}function z(N,R,P){var W=N.length;(!R||R<0)&&(R=0),(!P||P<0||P>W)&&(P=W);for(var re="",be=R;be<P;++be)re+=ge[N[be]];return re}function ce(N,R,P){for(var W=N.slice(R,P),re="",be=0;be<W.length-1;be+=2)re+=String.fromCharCode(W[be]+W[be+1]*256);return re}i.prototype.slice=function(R,P){var W=this.length;R=~~R,P=P===void 0?W:~~P,R<0?(R+=W,R<0&&(R=0)):R>W&&(R=W),P<0?(P+=W,P<0&&(P=0)):P>W&&(P=W),P<R&&(P=R);var re=this.subarray(R,P);return Object.setPrototypeOf(re,i.prototype),re};function le(N,R,P){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+R>P)throw new RangeError("Trying to access beyond buffer length")}i.prototype.readUintLE=i.prototype.readUIntLE=function(R,P,W){R=R>>>0,P=P>>>0,W||le(R,P,this.length);for(var re=this[R],be=1,te=0;++te<P&&(be*=256);)re+=this[R+te]*be;return re},i.prototype.readUintBE=i.prototype.readUIntBE=function(R,P,W){R=R>>>0,P=P>>>0,W||le(R,P,this.length);for(var re=this[R+--P],be=1;P>0&&(be*=256);)re+=this[R+--P]*be;return re},i.prototype.readUint8=i.prototype.readUInt8=function(R,P){return R=R>>>0,P||le(R,1,this.length),this[R]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(R,P){return R=R>>>0,P||le(R,2,this.length),this[R]|this[R+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(R,P){return R=R>>>0,P||le(R,2,this.length),this[R]<<8|this[R+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(R,P){return R=R>>>0,P||le(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(R,P){return R=R>>>0,P||le(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},i.prototype.readIntLE=function(R,P,W){R=R>>>0,P=P>>>0,W||le(R,P,this.length);for(var re=this[R],be=1,te=0;++te<P&&(be*=256);)re+=this[R+te]*be;return be*=128,re>=be&&(re-=Math.pow(2,8*P)),re},i.prototype.readIntBE=function(R,P,W){R=R>>>0,P=P>>>0,W||le(R,P,this.length);for(var re=P,be=1,te=this[R+--re];re>0&&(be*=256);)te+=this[R+--re]*be;return be*=128,te>=be&&(te-=Math.pow(2,8*P)),te},i.prototype.readInt8=function(R,P){return R=R>>>0,P||le(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},i.prototype.readInt16LE=function(R,P){R=R>>>0,P||le(R,2,this.length);var W=this[R]|this[R+1]<<8;return W&32768?W|4294901760:W},i.prototype.readInt16BE=function(R,P){R=R>>>0,P||le(R,2,this.length);var W=this[R+1]|this[R]<<8;return W&32768?W|4294901760:W},i.prototype.readInt32LE=function(R,P){return R=R>>>0,P||le(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},i.prototype.readInt32BE=function(R,P){return R=R>>>0,P||le(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},i.prototype.readFloatLE=function(R,P){return R=R>>>0,P||le(R,4,this.length),n.read(this,R,!0,23,4)},i.prototype.readFloatBE=function(R,P){return R=R>>>0,P||le(R,4,this.length),n.read(this,R,!1,23,4)},i.prototype.readDoubleLE=function(R,P){return R=R>>>0,P||le(R,8,this.length),n.read(this,R,!0,52,8)},i.prototype.readDoubleBE=function(R,P){return R=R>>>0,P||le(R,8,this.length),n.read(this,R,!1,52,8)};function j(N,R,P,W,re,be){if(!i.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>re||R<be)throw new RangeError('"value" argument is out of bounds');if(P+W>N.length)throw new RangeError("Index out of range")}i.prototype.writeUintLE=i.prototype.writeUIntLE=function(R,P,W,re){if(R=+R,P=P>>>0,W=W>>>0,!re){var be=Math.pow(2,8*W)-1;j(this,R,P,W,be,0)}var te=1,xe=0;for(this[P]=R&255;++xe<W&&(te*=256);)this[P+xe]=R/te&255;return P+W},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(R,P,W,re){if(R=+R,P=P>>>0,W=W>>>0,!re){var be=Math.pow(2,8*W)-1;j(this,R,P,W,be,0)}var te=W-1,xe=1;for(this[P+te]=R&255;--te>=0&&(xe*=256);)this[P+te]=R/xe&255;return P+W},i.prototype.writeUint8=i.prototype.writeUInt8=function(R,P,W){return R=+R,P=P>>>0,W||j(this,R,P,1,255,0),this[P]=R&255,P+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(R,P,W){return R=+R,P=P>>>0,W||j(this,R,P,2,65535,0),this[P]=R&255,this[P+1]=R>>>8,P+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(R,P,W){return R=+R,P=P>>>0,W||j(this,R,P,2,65535,0),this[P]=R>>>8,this[P+1]=R&255,P+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(R,P,W){return R=+R,P=P>>>0,W||j(this,R,P,4,4294967295,0),this[P+3]=R>>>24,this[P+2]=R>>>16,this[P+1]=R>>>8,this[P]=R&255,P+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(R,P,W){return R=+R,P=P>>>0,W||j(this,R,P,4,4294967295,0),this[P]=R>>>24,this[P+1]=R>>>16,this[P+2]=R>>>8,this[P+3]=R&255,P+4},i.prototype.writeIntLE=function(R,P,W,re){if(R=+R,P=P>>>0,!re){var be=Math.pow(2,8*W-1);j(this,R,P,W,be-1,-be)}var te=0,xe=1,he=0;for(this[P]=R&255;++te<W&&(xe*=256);)R<0&&he===0&&this[P+te-1]!==0&&(he=1),this[P+te]=(R/xe>>0)-he&255;return P+W},i.prototype.writeIntBE=function(R,P,W,re){if(R=+R,P=P>>>0,!re){var be=Math.pow(2,8*W-1);j(this,R,P,W,be-1,-be)}var te=W-1,xe=1,he=0;for(this[P+te]=R&255;--te>=0&&(xe*=256);)R<0&&he===0&&this[P+te+1]!==0&&(he=1),this[P+te]=(R/xe>>0)-he&255;return P+W},i.prototype.writeInt8=function(R,P,W){return R=+R,P=P>>>0,W||j(this,R,P,1,127,-128),R<0&&(R=255+R+1),this[P]=R&255,P+1},i.prototype.writeInt16LE=function(R,P,W){return R=+R,P=P>>>0,W||j(this,R,P,2,32767,-32768),this[P]=R&255,this[P+1]=R>>>8,P+2},i.prototype.writeInt16BE=function(R,P,W){return R=+R,P=P>>>0,W||j(this,R,P,2,32767,-32768),this[P]=R>>>8,this[P+1]=R&255,P+2},i.prototype.writeInt32LE=function(R,P,W){return R=+R,P=P>>>0,W||j(this,R,P,4,2147483647,-2147483648),this[P]=R&255,this[P+1]=R>>>8,this[P+2]=R>>>16,this[P+3]=R>>>24,P+4},i.prototype.writeInt32BE=function(R,P,W){return R=+R,P=P>>>0,W||j(this,R,P,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[P]=R>>>24,this[P+1]=R>>>16,this[P+2]=R>>>8,this[P+3]=R&255,P+4};function Z(N,R,P,W,re,be){if(P+W>N.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function K(N,R,P,W,re){return R=+R,P=P>>>0,re||Z(N,R,P,4),n.write(N,R,P,W,23,4),P+4}i.prototype.writeFloatLE=function(R,P,W){return K(this,R,P,!0,W)},i.prototype.writeFloatBE=function(R,P,W){return K(this,R,P,!1,W)};function oe(N,R,P,W,re){return R=+R,P=P>>>0,re||Z(N,R,P,8),n.write(N,R,P,W,52,8),P+8}i.prototype.writeDoubleLE=function(R,P,W){return oe(this,R,P,!0,W)},i.prototype.writeDoubleBE=function(R,P,W){return oe(this,R,P,!1,W)},i.prototype.copy=function(R,P,W,re){if(!i.isBuffer(R))throw new TypeError("argument should be a Buffer");if(W||(W=0),!re&&re!==0&&(re=this.length),P>=R.length&&(P=R.length),P||(P=0),re>0&&re<W&&(re=W),re===W||R.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),R.length-P<re-W&&(re=R.length-P+W);var be=re-W;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(P,W,re):Uint8Array.prototype.set.call(R,this.subarray(W,re),P),be},i.prototype.fill=function(R,P,W,re){if(typeof R=="string"){if(typeof P=="string"?(re=P,P=0,W=this.length):typeof W=="string"&&(re=W,W=this.length),re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!i.isEncoding(re))throw new TypeError("Unknown encoding: "+re);if(R.length===1){var be=R.charCodeAt(0);(re==="utf8"&&be<128||re==="latin1")&&(R=be)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(P<0||this.length<P||this.length<W)throw new RangeError("Out of range index");if(W<=P)return this;P=P>>>0,W=W===void 0?this.length:W>>>0,R||(R=0);var te;if(typeof R=="number")for(te=P;te<W;++te)this[te]=R;else{var xe=i.isBuffer(R)?R:i.from(R,re),he=xe.length;if(he===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(te=0;te<W-P;++te)this[te+P]=xe[te%he]}return this};var X=/[^+/0-9A-Za-z-_]/g;function pe(N){if(N=N.split("=")[0],N=N.trim().replace(X,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function ee(N,R){R=R||1/0;for(var P,W=N.length,re=null,be=[],te=0;te<W;++te){if(P=N.charCodeAt(te),P>55295&&P<57344){if(!re){if(P>56319){(R-=3)>-1&&be.push(239,191,189);continue}else if(te+1===W){(R-=3)>-1&&be.push(239,191,189);continue}re=P;continue}if(P<56320){(R-=3)>-1&&be.push(239,191,189),re=P;continue}P=(re-55296<<10|P-56320)+65536}else re&&(R-=3)>-1&&be.push(239,191,189);if(re=null,P<128){if((R-=1)<0)break;be.push(P)}else if(P<2048){if((R-=2)<0)break;be.push(P>>6|192,P&63|128)}else if(P<65536){if((R-=3)<0)break;be.push(P>>12|224,P>>6&63|128,P&63|128)}else if(P<1114112){if((R-=4)<0)break;be.push(P>>18|240,P>>12&63|128,P>>6&63|128,P&63|128)}else throw new Error("Invalid code point")}return be}function ne(N){for(var R=[],P=0;P<N.length;++P)R.push(N.charCodeAt(P)&255);return R}function Q(N,R){for(var P,W,re,be=[],te=0;te<N.length&&!((R-=2)<0);++te)P=N.charCodeAt(te),W=P>>8,re=P%256,be.push(re),be.push(W);return be}function se(N){return t.toByteArray(pe(N))}function ue(N,R,P,W){for(var re=0;re<W&&!(re+P>=R.length||re>=N.length);++re)R[re+P]=N[re];return re}function ve(N,R){return N instanceof R||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===R.name}function ke(N){return N!==N}var ge=function(){for(var N="0123456789abcdef",R=new Array(256),P=0;P<16;++P)for(var W=P*16,re=0;re<16;++re)R[W+re]=N[P]+N[re];return R}()})(Rue);class AF{constructor(t=Ym({data:[]})){this.flags=t}}class tIt extends AF{addFlag(t){const r={id:this.flags.data.length+1,...t};this.flags.data.unshift(r)}handleFlagDismiss(t){this.flags.data=this.flags.data.filter(n=>n.id!==t)}clearFlags(){this.flags.data=[]}}class Hue extends AF{addFlag(){}handleFlagDismiss(){}clearFlags(){}}const zue=c.createContext(0),Wue=()=>c.useContext(zue),DF=e=>{const t=Wue();return[t,t&&(t>6?"div":`h${t}`)||e]},Gue={xxlarge:"h1",xlarge:"h1",large:"h2",medium:"h3",small:"h4",xsmall:"h5",xxsmall:"h6"},que=M({letterSpacing:"normal",marginBlock:0,textTransform:"none"}),Yue=e=>{const t=wle();return SO.hasOwnProperty(t)?SO[t]:e||"color.text"},Kue=({children:e,size:t,id:n,testId:r,as:o,color:a})=>{typeof process<"u";const[s,i]=DF(Gue[t]),l=o||i,d=l==="div"&&s,u=Yue(a);return k(l,{id:n,"data-testid":r,role:d?"heading":void 0,"aria-level":d?s:void 0,css:[que,t&&Jue[t],Xue[u]]},e)},Xue={"color.text":M({color:"var(--ds-text, #172B4D)"}),"color.text.inverse":M({color:"var(--ds-text-inverse, #FFFFFF)"}),"color.text.warning.inverse":M({color:"var(--ds-text-warning-inverse, #172B4D)"})},Jue={xxlarge:M({font:'var(--ds-font-heading-xxlarge, normal 500 35px/40px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),xlarge:M({font:'var(--ds-font-heading-xlarge, normal 600 29px/32px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),large:M({font:'var(--ds-font-heading-large, normal 500 24px/28px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),medium:M({font:'var(--ds-font-heading-medium, normal 500 20px/24px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),small:M({font:'var(--ds-font-heading-small, normal 600 16px/20px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),xsmall:M({font:'var(--ds-font-heading-xsmall, normal 600 14px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),xxsmall:M({font:'var(--ds-font-heading-xxsmall, normal 600 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'})},Zue={h900:"h1",h800:"h1",h700:"h2",h600:"h3",h500:"h4",h400:"h5",h300:"h6",h200:"div",h100:"div"},Que=M({color:"var(--ds-text, #172B4D)",marginBlock:"var(--ds-space-0, 0px)"}),efe=M({fontSize:"var(--ds-font-size-600, 35px)",fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.01em",lineHeight:"var(--ds-font-lineHeight-600, 40px)"}),tfe=M({fontSize:"var(--ds-font-size-500, 29px)",fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.01em",lineHeight:"var(--ds-font-lineHeight-500, 32px)"}),nfe=M({fontSize:"var(--ds-font-size-400, 24px)",fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.01em",lineHeight:"var(--ds-font-lineHeight-400, 28px)"}),rfe=M({fontSize:"var(--ds-font-size-300, 20px)",fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.008em",lineHeight:"var(--ds-font-lineHeight-300, 24px)"}),ofe=M({fontSize:"var(--ds-font-size-200, 16px)",fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.006em",lineHeight:"var(--ds-font-lineHeight-200, 20px)"}),afe=M({fontSize:"var(--ds-font-size-100, 14px)",fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.003em",lineHeight:"var(--ds-font-lineHeight-100, 16px)"}),sfe=M({fontSize:"var(--ds-font-size-075, 12px)",fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:0,lineHeight:"var(--ds-font-lineHeight-100, 16px)",textTransform:"uppercase"}),ife=M({fontSize:"var(--ds-font-size-075, 12px)",fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:0,lineHeight:"var(--ds-font-lineHeight-100, 16px)"}),lfe=M({fontSize:"var(--ds-font-size-050, 11px)",fontWeight:"var(--ds-font-weight-bold, 700)",letterSpacing:0,lineHeight:"var(--ds-font-lineHeight-100, 16px)"}),cfe=M({color:"var(--ds-text-inverse, #FFF)"}),dfe=M({color:"var(--ds-text-subtlest, #6B778C)"}),ufe=({children:e,level:t,id:n,testId:r,as:o,color:a="default"})=>{typeof process<"u";const[s,i]=DF(Zue[t]),l=o||i,d=t==="h200"||t==="h100",u=l==="div"&&s;return k(l,{id:n,"data-testid":r,role:u?"heading":void 0,"aria-level":u?s:void 0,css:[Que,t==="h100"&&lfe,t==="h200"&&ife,t==="h300"&&sfe,t==="h400"&&afe,t==="h500"&&ofe,t==="h600"&&rfe,t==="h700"&&nfe,t==="h800"&&tfe,t==="h900"&&efe,a==="inverse"&&cfe,a==="default"&&d&&dfe]},e)},Go=({level:e,...t})=>e?k(ufe,H({level:e},t)):k(Kue,t);function ct(){}const ip="normal",OF="--color",MF="--bg-color",$F="--bg-color-hover",RF="--bg-color-active",ffe={error:"color.background.danger.bold",info:"color.background.neutral.bold",normal:"elevation.surface.overlay",success:"color.background.success.bold",warning:"color.background.warning.bold"},pfe={error:`var(--ds-icon-inverse, ${Ve})`,info:`var(--ds-icon-inverse, ${Ve})`,normal:`var(--ds-icon-subtle, ${rn})`,success:`var(--ds-icon-inverse, ${Ve})`,warning:`var(--ds-icon-warning-inverse, ${Qn})`},mfe={error:"color.text.inverse",info:"color.text.inverse",normal:"color.text",success:"color.text.inverse",warning:"color.text.warning.inverse"},PF={error:`var(--ds-text-inverse, ${Ve})`,info:`var(--ds-text-inverse, ${Ve})`,normal:`var(--ds-text, ${mn})`,success:`var(--ds-text-inverse, ${Ve})`,warning:`var(--ds-text-warning-inverse, ${Qn})`},x2={success:{default:`var(--ds-background-inverse-subtle, ${Mn})`,active:`var(--ds-background-inverse-subtle-pressed, ${Mn})`,pressed:`var(--ds-background-inverse-subtle-hovered, ${Mn})`},info:{default:`var(--ds-background-inverse-subtle, ${Mn})`,active:`var(--ds-background-inverse-subtle-pressed, ${Mn})`,pressed:`var(--ds-background-inverse-subtle-hovered, ${Mn})`},error:{default:`var(--ds-background-inverse-subtle, ${Mn})`,active:`var(--ds-background-inverse-subtle-pressed, ${Mn})`,pressed:`var(--ds-background-inverse-subtle-hovered, ${Mn})`},warning:{default:`var(--ds-background-inverse-subtle, ${Mn})`,active:`var(--ds-background-inverse-subtle-pressed, ${Mn})`,pressed:`var(--ds-background-inverse-subtle-hovered, ${Mn})`},normal:{default:"none",active:"none",pressed:"none"}},hfe={success:`var(--ds-text-inverse, ${Ve})`,info:`var(--ds-text-inverse, ${Ve})`,error:`var(--ds-text-inverse, ${Ve})`,warning:`var(--ds-text-warning-inverse, ${Qn})`,normal:`var(--ds-link, ${Jt})`};function LF(e,t){const n=c.useRef(!0);c.useEffect(()=>{e&&n.current&&t&&e.current&&e.current.focus(),n.current=!1},[t,e])}const m_=2,h_=M({outline:`${m_}px solid var(--ds-border-focused, #2684FF)`,outlineOffset:m_}),g_=M({outlineColor:"var(--ds-border-focused, #2684FF)",outlineOffset:-m_,outlineStyle:"solid",outlineWidth:"var(--ds-border-width-outline, 2px)"}),gfe=M({"&:focus":h_,"&:focus-visible":h_,"&:focus:not(:focus-visible)":{outline:"none"},"@media screen and (forced-colors: active), screen and (-ms-high-contrast: active)":{"&:focus-visible":{outline:"1px solid"}}}),vfe=M({"&:focus":g_,"&:focus-visible":g_,"&:focus:not(:focus-visible)":{outline:"none"},"@media screen and (forced-colors: active), screen and (-ms-high-contrast: active)":{"&:focus-visible":{outline:"1px solid",outlineOffset:"-1px"}}}),u1=c.memo(({children:e,isInset:t,focus:n})=>{const a=typeof n>"u"?t?vfe:gfe:n==="on"&&(t?g_:h_);return k(js,null,({css:s,cx:i})=>c.Children.only(a?c.cloneElement(e,{className:i([s(a),e.props.className])}):e))});u1.displayName="FocusRing";function us(e){e.preventDefault(),e.stopPropagation()}const bfe=9;function iM(e){e.keyCode!==bfe&&us(e)}const yfe={onMouseDownCapture:us,onMouseUpCapture:us,onKeyDownCapture:iM,onKeyUpCapture:iM,onTouchStartCapture:us,onTouchEndCapture:us,onPointerDownCapture:us,onPointerUpCapture:us,onClickCapture:us,onClick:us},Efe={};function wfe({isInteractive:e}){return e?Efe:yfe}const lM="rgba(179, 212, 255, 0.6)",cM={background:{default:{default:{light:`var(--ds-background-neutral, ${No})`,dark:`var(--ds-background-neutral, ${df})`},hover:{light:`var(--ds-background-neutral-hovered, ${Mn})`,dark:`var(--ds-background-neutral-hovered, ${BO})`},active:{light:`var(--ds-background-neutral-pressed, ${lM})`,dark:`var(--ds-background-neutral-pressed, ${jo})`},disabled:{light:`var(--ds-background-disabled, ${No})`,dark:`var(--ds-background-disabled, ${df})`},selected:{light:`var(--ds-background-selected, ${Qn})`,dark:`var(--ds-background-selected, ${Lc})`},focusSelected:{light:`var(--ds-background-selected, ${Qn})`,dark:`var(--ds-background-selected, ${Lc})`}},primary:{default:{light:`var(--ds-background-brand-bold, ${Jt})`,dark:`var(--ds-background-brand-bold, ${cn})`},hover:{light:`var(--ds-background-brand-bold-hovered, ${Vo})`,dark:`var(--ds-background-brand-bold-hovered, ${jo})`},active:{light:`var(--ds-background-brand-bold-pressed, ${l_})`,dark:`var(--ds-background-brand-bold-pressed, ${vn})`},disabled:{light:`var(--ds-background-disabled, ${No})`,dark:`var(--ds-background-disabled, ${df})`},selected:{light:`var(--ds-background-selected, ${Qn})`,dark:`var(--ds-background-selected, ${Lc})`},focusSelected:{light:`var(--ds-background-selected, ${Qn})`,dark:`var(--ds-background-selected, ${Lc})`}},warning:{default:{light:`var(--ds-background-warning-bold, ${c_})`,dark:`var(--ds-background-warning-bold, ${c_})`},hover:{light:`var(--ds-background-warning-bold-hovered, ${Fp})`,dark:`var(--ds-background-warning-bold-hovered, ${Fp})`},active:{light:`var(--ds-background-warning-bold-pressed, ${hs})`,dark:`var(--ds-background-warning-bold-pressed, ${hs})`},disabled:{light:`var(--ds-background-disabled, ${No})`,dark:`var(--ds-background-disabled, ${df})`},selected:{light:`var(--ds-background-selected, ${hs})`,dark:`var(--ds-background-selected, ${hs})`},focusSelected:{light:`var(--ds-background-selected, ${hs})`,dark:`var(--ds-background-selected, ${hs})`}},danger:{default:{light:`var(--ds-background-danger-bold, ${bn})`,dark:`var(--ds-background-danger-bold, ${bn})`},hover:{light:`var(--ds-background-danger-bold-hovered, ${Er})`,dark:`var(--ds-background-danger-bold-hovered, ${Er})`},active:{light:`var(--ds-background-danger-bold-pressed, ${yr})`,dark:`var(--ds-background-danger-bold-pressed, ${yr})`},disabled:{light:`var(--ds-background-disabled, ${No})`,dark:`var(--ds-background-disabled, ${df})`},selected:{light:`var(--ds-background-selected, ${yr})`,dark:`var(--ds-background-selected, ${yr})`},focusSelected:{light:`var(--ds-background-selected, ${yr})`,dark:`var(--ds-background-selected, ${yr})`}},link:{default:{light:"var(--ds-background-neutral-subtle, none)",dark:"var(--ds-background-neutral-subtle, none)"},selected:{light:`var(--ds-background-selected, ${Qn})`,dark:`var(--ds-background-selected, ${Ke})`},focusSelected:{light:`var(--ds-background-selected, ${Qn})`,dark:`var(--ds-background-selected, ${Ke})`}},subtle:{default:{light:"var(--ds-background-neutral-subtle, none)",dark:"var(--ds-background-neutral-subtle, none)"},hover:{light:`var(--ds-background-neutral-subtle-hovered, ${Mn})`,dark:`var(--ds-background-neutral-subtle-hovered, ${BO})`},active:{light:`var(--ds-background-neutral-subtle-pressed, ${lM})`,dark:`var(--ds-background-neutral-subtle-pressed, ${jo})`},disabled:{light:"var(--ds-background-neutral-subtle, none)",dark:"var(--ds-background-neutral-subtle, none)"},selected:{light:`var(--ds-background-selected, ${Qn})`,dark:`var(--ds-background-selected, ${Lc})`},focusSelected:{light:`var(--ds-background-selected, ${Qn})`,dark:`var(--ds-background-selected, ${Lc})`}},"subtle-link":{default:{light:"var(--ds-background-neutral-subtle, none)",dark:"var(--ds-background-neutral-subtle, none)"},selected:{light:`var(--ds-background-selected, ${Qn})`,dark:`var(--ds-background-selected, ${Ke})`},focusSelected:{light:`var(--ds-background-selected, ${Qn})`,dark:`var(--ds-background-selected, ${Ke})`}}},color:{default:{default:{light:`var(--ds-text, ${rn})`,dark:`var(--ds-text, ${ea})`},active:{light:`var(--ds-text, ${Jt})`,dark:`var(--ds-text, ${Jt})`},disabled:{light:`var(--ds-text-disabled, ${an})`,dark:`var(--ds-text-disabled, ${El})`},selected:{light:`var(--ds-text-selected, ${Ke})`,dark:`var(--ds-text-selected, ${ea})`},focusSelected:{light:`var(--ds-text-selected, ${Ke})`,dark:`var(--ds-text-selected, ${ea})`}},primary:{default:{light:`var(--ds-text-inverse, ${Ve})`,dark:`var(--ds-text-inverse, ${El})`},disabled:{light:`var(--ds-text-disabled, ${an})`,dark:`var(--ds-text-disabled, ${El})`},selected:{light:`var(--ds-text-selected, ${Ke})`,dark:`var(--ds-text-selected, ${ea})`},focusSelected:{light:`var(--ds-text-selected, ${Ke})`,dark:`var(--ds-text-selected, ${ea})`}},warning:{default:{light:`var(--ds-text-warning-inverse, ${mn})`,dark:`var(--ds-text-warning-inverse, ${mn})`},disabled:{light:`var(--ds-text-disabled, ${an})`,dark:`var(--ds-text-disabled, ${El})`},selected:{light:`var(--ds-text-selected, ${mn})`,dark:`var(--ds-text-selected, ${mn})`},focusSelected:{light:`var(--ds-text-selected, ${mn})`,dark:`var(--ds-text-selected, ${mn})`}},danger:{default:{light:`var(--ds-text-inverse, ${Ve})`,dark:`var(--ds-text-inverse, ${Ve})`},disabled:{light:`var(--ds-text-disabled, ${an})`,dark:`var(--ds-text-disabled, ${El})`},selected:{light:`var(--ds-text-selected, ${Ve})`,dark:`var(--ds-text-selected, ${Ve})`},focusSelected:{light:`var(--ds-text-selected, ${Ve})`,dark:`var(--ds-text-selected, ${Ve})`}},link:{default:{light:`var(--ds-link, ${Jt})`,dark:`var(--ds-link, ${cn})`},hover:{light:`var(--ds-link, ${Vo})`,dark:`var(--ds-link, ${jo})`},active:{light:`var(--ds-link-pressed, ${l_})`,dark:`var(--ds-link-pressed, ${vn})`},disabled:{light:`var(--ds-text-disabled, ${an})`,dark:`var(--ds-text-disabled, ${y2})`},selected:{light:`var(--ds-text-selected, ${Ke})`,dark:`var(--ds-text-selected, ${Qn})`},focusSelected:{light:`var(--ds-text-selected, ${Ke})`,dark:`var(--ds-text-selected, ${Qn})`}},subtle:{default:{light:`var(--ds-text, ${rn})`,dark:`var(--ds-text, ${ea})`},active:{light:`var(--ds-text, ${Jt})`,dark:`var(--ds-text, ${Jt})`},disabled:{light:`var(--ds-text-disabled, ${an})`,dark:`var(--ds-text-disabled, ${y2})`},selected:{light:`var(--ds-text-selected, ${Ke})`,dark:`var(--ds-text-selected, ${ea})`},focusSelected:{light:`var(--ds-text-selected, ${Ke})`,dark:`var(--ds-text-selected, ${ea})`}},"subtle-link":{default:{light:`var(--ds-text-subtle, ${jt})`,dark:`var(--ds-text-subtle, ${ea})`},hover:{light:`var(--ds-text-subtle, ${Wa})`,dark:`var(--ds-text-subtle, ${gn})`},active:{light:`var(--ds-text, ${gu})`,dark:`var(--ds-text, ${xde})`},disabled:{light:`var(--ds-text-disabled, ${an})`,dark:`var(--ds-text-disabled, ${y2})`},selected:{light:`var(--ds-text-selected, ${Ke})`,dark:`var(--ds-text-selected, ${ea})`},focusSelected:{light:`var(--ds-text-selected, ${Ke})`,dark:`var(--ds-text-selected, ${ea})`}}}},_i=gt(),S2=["default","primary","danger","warning"],v_={default:`${32/14}em`,compact:`${24/14}em`,none:"auto"},Cfe={default:v_.default,compact:v_.compact,none:"inherit"},_fe={default:`0 ${_i+_i/4}px`,compact:`0 ${_i+_i/4}px`,none:"0"},xfe={compact:`0 ${_i/4}px`,default:`0 ${_i/4}px`,none:"0"},Sfe={default:"middle",compact:"middle",none:"baseline"},NF={content:`0 ${_i/4}px`,icon:`0 ${_i/4}px`},FF={borderRadius:"inherit",inset:"var(--ds-space-0, 0px)",borderStyle:"solid",borderWidth:"var(--ds-border-width, 1px)",pointerEvents:"none",position:"absolute"},kfe={background:"var(--ds-background-neutral-subtle, #00000000)",color:"var(--ds-text, #172B4D)","&:not([disabled])::after":{...FF,content:'""',borderColor:"var(--ds-border, #091E4224)"},"&:hover":{background:"var(--ds-background-neutral-hovered, #091E4224)"},"&:active":{background:"var(--ds-background-neutral-pressed, #091E424F)"},'&[data-has-overlay="true"]:not([disabled]):hover':{background:"var(--ds-background-neutral-subtle, #00000000)"}},Ife={background:"var(--ds-background-brand-bold, #0C66E4)",color:"var(--ds-text-inverse, #FFFFFF)","&:hover":{background:"var(--ds-background-brand-bold-hovered, #0055CC)"},"&:active":{background:"var(--ds-background-brand-bold-pressed, #09326C)"},'&[data-has-overlay="true"]:not([disabled]):hover':{background:"var(--ds-background-brand-bold, #0C66E4)"}},Tfe={background:"transparent",color:"var(--ds-link, #0C66E4)","&:hover":{color:"var(--ds-link, #0C66E4)",textDecoration:"underline"},"&:active":{color:"var(--ds-link-pressed, #0055CC)",textDecoration:"underline"}},Afe={background:"transparent",color:"var(--ds-text-subtle, #44546F)","&:hover":{background:"var(--ds-background-neutral-subtle-hovered, #091E420F)"},"&:active":{background:"var(--ds-background-neutral-subtle-pressed, #091E4224)"},'&[data-has-overlay="true"]:not([disabled]):hover':{background:"transparent"}},Dfe={background:"transparent",color:"var(--ds-text-subtle, #44546F)","&:hover":{background:"transparent",color:"var(--ds-text-subtle, #44546F)",textDecoration:"underline"},"&:active":{background:"transparent",color:"var(--ds-text, #172B4D)",textDecoration:"underline"}},Ofe={background:"var(--ds-background-warning-bold, #F5CD47)",color:"var(--ds-text-warning-inverse, #172B4D)","&:hover":{background:"var(--ds-background-warning-bold-hovered, #E2B203)"},"&:active":{background:"var(--ds-background-warning-bold-pressed, #CF9F02)"},'&[data-has-overlay="true"]:not([disabled]):hover':{background:"var(--ds-background-warning-bold, #F5CD47)"}},Mfe={background:"var(--ds-background-danger-bold, #C9372C)",color:"var(--ds-text-inverse, #FFFFFF)","&:hover":{background:"var(--ds-background-danger-bold-hovered, #AE2E24)"},"&:active":{background:"var(--ds-background-danger-bold-pressed, #5D1F1A)"},'&[data-has-overlay="true"]:not([disabled]):hover':{background:"var(--ds-background-danger-bold, #C9372C)"}},$fe={background:"var(--ds-background-selected, #E9F2FF)",color:"var(--ds-text-selected, #0C66E4)","&:not([disabled])::after":{...FF,content:'""',borderColor:"var(--ds-border-selected, #0C66E4)"}},dM={'&[data-has-overlay="true"]':{cursor:"default",textDecoration:"none"}};function uM({group:e,key:t,mode:n}){return(e[t]||e.default)[n]}function Fc({appearance:e,key:t,mode:n}){return{background:uM({group:cM.background[e],key:t,mode:n}),color:`${uM({group:cM.color[e],key:t,mode:n})} !important`}}function jF({appearance:e,spacing:t,mode:n,isSelected:r,shouldFitContainer:o,isOnlySingleIcon:a}){const s=Fc({appearance:e,key:r?"selected":"default",mode:n});return{alignItems:"baseline",borderWidth:0,borderRadius:"var(--ds-border-radius, 3px)",boxSizing:"border-box",display:"inline-flex",fontSize:"inherit",fontStyle:"normal",fontFamily:"inherit",fontWeight:"var(--ds-font-weight-medium, 500)",maxWidth:"100%",position:"relative",textAlign:"center",textDecoration:"none",transition:"background 0.1s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)",whiteSpace:"nowrap",...!Pe("platform-component-visual-refresh")&&s,cursor:"pointer",height:v_[t],lineHeight:Cfe[t],padding:a?xfe[t]:_fe[t],verticalAlign:Sfe[t],width:o?"100%":"auto",justifyContent:"center",...!Pe("platform-component-visual-refresh")&&{"&:visited":{...s},"&:hover":{...Fc({appearance:e,key:r?"selected":"hover",mode:n}),textDecoration:!r&&(e==="link"||e==="subtle-link")?"underline":"inherit",transitionDuration:"0s, 0.15s"},"&:active":{...Fc({appearance:e,key:r?"selected":"active",mode:n}),transitionDuration:"0s, 0s"},'&[data-firefox-is-active="true"]':{...Fc({appearance:e,key:r?"selected":"active",mode:n}),transitionDuration:"0s, 0s"},"&[disabled]":{...Fc({appearance:e,key:"disabled",mode:n}),cursor:"not-allowed",textDecoration:"none"},...dM,'&[data-has-overlay="true"]:not([disabled]):hover, &[data-has-overlay="true"]:not([disabled]):active':{...Fc({appearance:e,key:r?"selected":"default",mode:n})}},...Pe("platform-component-visual-refresh")&&(r?$fe:{...e==="default"&&kfe,...e==="primary"&&Ife,...e==="link"&&Tfe,...e==="subtle"&&Afe,...e==="subtle-link"&&Dfe,...e==="warning"&&Ofe,...e==="danger"&&Mfe,"&[disabled]":{color:"var(--ds-text-disabled, #091E424F)",backgroundColor:S2.includes(e)?"var(--ds-background-disabled, #091E4208)":"transparent",cursor:"not-allowed",textDecoration:"none","&:hovered":{backgroundColor:S2.includes(e)?"var(--ds-background-disabled, #091E4208)":"transparent"},"&:active":{backgroundColor:S2.includes(e)?"var(--ds-background-disabled, #091E4208)":"transparent"}},...dM}),"&::-moz-focus-inner":{border:0,margin:0,padding:0}}}function fM({spacing:e}){return M({display:"flex",margin:e==="none"?0:NF.icon,flexGrow:0,flexShrink:0,alignSelf:"center",fontSize:0,lineHeight:0,userSelect:"none"})}function Rfe({spacing:e}){return M({margin:e==="none"?0:NF.content,flexGrow:1,flexShrink:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})}function Pfe({hasOverlay:e}){return M({opacity:e?0:1,transition:"opacity 0.3s"})}const Lfe={position:"absolute",left:0,top:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},kk=e=>e&&c.isValidElement(e)&&e.type===YS,Nfe={"> *":{pointerEvents:"none"}},Ffe=M({"--ds--button--new-icon-padding-end":"var(--ds-space-025, 2px)","--ds--button--new-icon-padding-start":"var(--ds-space-050, 4px)",marginInlineStart:"var(--ds-space-negative-025, -2px)"}),jfe=M({"--ds--button--new-icon-padding-end":"var(--ds-space-050, 4px)","--ds--button--new-icon-padding-start":"var(--ds-space-025, 2px)",marginInlineEnd:"var(--ds-space-negative-025, -2px)"}),pM=(e,t)=>!e||kk(e)?null:t,Vfe=(e,t)=>kk(e)?e:e?k("span",{css:t},e):null,VF=_.forwardRef(function(t,n){const{analyticsContext:r,appearance:o="default",autoFocus:a=!1,buttonCss:s,children:i,className:l,href:d,component:u=d?"a":"button",iconAfter:f,iconBefore:p,interactionName:m,isDisabled:g=!1,isSelected:v=!1,onBlur:b,onClick:y=nn,onFocus:E,onMouseDown:w=nn,overlay:C,shouldFitContainer:x,spacing:S="default",tabIndex:I=0,type:A=d?void 0:"button",testId:T,...O}=t,D=c.useRef(),$=c.useCallback(le=>{if(D.current=le,n!=null){if(typeof n=="function"){n(le);return}n.current=le}},[D,n]);LF(D,a);const L=c.useContext(cu),F=c.useCallback((le,j)=>{L&&L.tracePress(m,le.timeStamp),y(le,j)},[y,L,m]),B=KS({fn:F,action:"clicked",componentName:"button",packageName:"@atlaskit/button",packageVersion:"21.1.0",analyticsData:r}),V=c.useCallback(le=>{le.preventDefault(),w(le)},[w]);c.useEffect(()=>{const le=D.current;g&&le&&le===document.activeElement&&le.blur()},[g]);const Y=!!C,J=M(Pfe({hasOverlay:Y})),z=!g&&!Y;var ce={};return(v||g||o==="warning")&&(ce={"[data-theme] & circle":{stroke:`${v||g?`var(--ds-icon-subtle, ${rn})`:`var(--ds-icon-warning-inverse, ${rn})`} !important`}}),k(u1,null,k(u,H({},O,{ref:$,className:l,css:[s,z?null:Nfe],"data-has-overlay":Y?!0:void 0,"data-testid":T,disabled:g,href:z?d:void 0,onBlur:b,onClick:B,onFocus:E,onMouseDown:V,tabIndex:g?-1:I,type:A},wfe({isInteractive:z})),p?k("span",{css:[J,fM({spacing:S}),pM(i,Ffe)]},p):null,Vfe(i,[J,Rfe({spacing:S})]),f?k("span",{css:[J,fM({spacing:S}),pM(i,jfe)]},f):null,C?k("span",{css:[Lfe,ce]},C):null))});function BF({children:e,iconBefore:t,iconAfter:n}){return kk(e)?!0:e?!1:!!(t&&!n||!t&&n)}const Bfe=95,Ufe=5;function Ye(e){if(e.length<=1&&(!e[0]||e[0].indexOf(" ")===-1))return e[0]||void 0;const t={};for(let r=0;r<e.length;r++){const o=e[r];if(!o)continue;const a=o.split(" ");for(let s=0;s<a.length;s++){const i=a[s],l=i.slice(0,i.charCodeAt(0)===Bfe?Ufe:void 0);t[l]=i}}let n="";for(const r in t){const o=t[r];n+=o+" "}return n.slice(0,-1)}const Hfe={xsmall:8,small:16,medium:24,large:48,xlarge:96};function zfe(e){return e==="inherit"?`var(--ds-icon-subtle, ${rn})`:`var(--ds-icon-inverse, ${Ve})`}const Vg={rotateStyles:"_y44v1ozz _1pgl2qsq _8hrz1h6o",loadInStyles:"_y44v1a7z _1o51q7pw _tzy4idpf",wrapperStyles:"_1e0c116y _s7n4nkob",circleStyles:"_lswuglyw _7ljx1dhp _opj11kw7 _134c892t _1snbbs82 _jcxd7g3v _1tjm1onz"},Wfe=typeof window>"u"?c.useEffect:c.useLayoutEffect,UF=_.memo(_.forwardRef(function({appearance:t="inherit",delay:n=0,interactionName:r,label:o,size:a="medium",testId:s},i){const l=typeof a=="number"?a:Hfe[a],d=`${n}ms`,u=zfe(t),f=c.useContext(cu);return Wfe(()=>{if(f!=null)return f.hold(r)},[f,r]),_.createElement("span",{"data-testid":s?`${s}-wrapper`:"spinner-wrapper",style:{animationDelay:d,width:l,height:l},className:Ye([Vg.wrapperStyles,Vg.rotateStyles])},_.createElement("svg",{height:l,width:l,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","data-testid":s,ref:i,"aria-label":o||void 0,style:{animationDelay:d},role:o?"img":"none",className:Ye([Vg.loadInStyles])},_.createElement("circle",{cx:"8",cy:"8",r:"7",style:{stroke:u},className:Ye([Vg.circleStyles])})))}));function Gfe({appearance:e,isDisabled:t,isSelected:n}){return t?"inherit":n||e==="primary"||e==="danger"?"invert":"inherit"}function HF({appearance:e,isDisabled:t,isSelected:n,spacing:r="default"}){const o=r==="default"?"medium":"small";return _.createElement(UF,{size:o,label:", Loading",appearance:Gfe({appearance:e,isDisabled:t,isSelected:n})})}const qfe={focus:"&:focus",focusSelected:"&:focus",hover:"&:hover",active:"&:active",disabled:"&[disabled]"};function Yfe({appearance:e="default",spacing:t="default",mode:n="light",isSelected:r=!1,shouldFitContainer:o=!1,iconIsOnlyChild:a=!1,isLoading:s=!1,state:i}){let l=jF({appearance:e,spacing:t,mode:n,isSelected:r,shouldFitContainer:o,isOnlySingleIcon:a});l.outline="none";const d=qfe[i];return d&&(l={...l,...l[d]}),s&&(l={...l,...l['&[data-has-overlay="true"]']}),Object.keys(l).forEach(u=>{u!=="&::-moz-focus-inner"&&u.indexOf("&")===0&&delete l[u]}),l}function Kfe(e){return{"&, &:hover, &:active, &:focus, &:focus-visible, &:visited, &:disabled, &[disabled]":e}}function Xfe(e,t){return e(t)}const mM=tF(e=>({buttonStyles:Yfe(e),spinnerStyles:{}}));function Jfe({isDisabled:e=!1,isActive:t=!1,isFocus:n=!1,isHover:r=!1,isSelected:o=!1,isLoading:a=!1}){return e?"disabled":o&&n?"focusSelected":o?"selected":!a&&t?"active":!a&&r?"hover":n?"focus":"default"}const Zfe={isHover:!1,isActive:!1,isFocus:!1},zF=_.memo(_.forwardRef(function({appearance:t="default",autoFocus:n=!1,isDisabled:r=!1,isSelected:o=!1,shouldFitContainer:a=!1,spacing:s="default",isLoading:i=!1,onMouseEnter:l,onMouseLeave:d,onMouseDown:u,onMouseUp:f,onFocus:p,onBlur:m,theme:g=Xfe,...v},b){const y={appearance:t,autoFocus:n,isDisabled:r,isSelected:o,shouldFitContainer:a,spacing:s,...v},[E,w]=c.useState(Zfe),C=c.useCallback(O=>{w(D=>({...D,isHover:!0})),l&&l(O)},[l]),x=c.useCallback(O=>{w(D=>({...D,isHover:!1,isActive:!1})),d&&d(O)},[d]),S=c.useCallback(O=>{w(D=>({...D,isActive:!0})),u&&u(O)},[u]),I=c.useCallback(O=>{w(D=>({...D,isActive:!1})),f&&f(O)},[f]),A=c.useCallback(O=>{w(D=>({...D,isFocus:!0})),p&&p(O)},[p]),T=c.useCallback(O=>{w(D=>({...D,isFocus:!1})),m&&m(O)},[m]);return _.createElement(mM.Provider,{value:g},_.createElement(Sde.Consumer,null,({mode:O})=>_.createElement(mM.Consumer,H({mode:O,state:Jfe({...E,isLoading:i,isSelected:y.isSelected,isDisabled:y.isDisabled}),iconIsOnlyChild:BF(y),isLoading:i},y),({buttonStyles:D})=>_.createElement(VF,H({},y,{ref:b,overlay:i?_.createElement(HF,y):null,"aria-disabled":i||y["aria-disabled"],onMouseEnter:C,onMouseLeave:x,onMouseDown:S,onMouseUp:I,onFocus:A,onBlur:T,buttonCss:Kfe(D)})))))}));zF.displayName="CustomThemeButton";const Qfe=M({"&&, a&&":{padding:"0 var(--ds-space-100, 8px) !important",background:`var(${MF})`,color:`var(${OF}) !important`,fontWeight:"var(--ds-font-weight-medium, 500)"},"&&:hover, &&:active, a&&:hover, a&&:active":{textDecoration:"underline"},"&&:hover":{backgroundColor:`var(${$F})`},"&&:active":{backgroundColor:`var(${RF})`}}),epe=M({"&&, a&&":{padding:"0 !important"}}),tpe=M({"&&, a&&":{transform:"translateX(-2px)"}}),npe=e=>{const{appearance:t=ip,actions:n=[],linkComponent:r,testId:o}=e;if(!n.length)return null;const a=t!==ip;return k("span",{css:!a&&tpe},k(Me,{space:"space.100",shouldWrap:!0,alignBlock:"center",separator:a?void 0:"",testId:o&&`${o}-actions`},n.map((s,i)=>k(zF,{onClick:s.onClick,href:s.href,target:s.target,appearance:a?"default":"link",component:r,spacing:"compact",testId:s.testId,key:i,style:{[OF]:hfe[t],[MF]:x2[t].default,[$F]:x2[t].pressed,[RF]:x2[t].active},css:[Qfe,t===ip&&epe]},s.content))))},WF=25,Qm=WF*14,GF=WF*28,qF="cubic-bezier(0.15,1,0.3,1)",rpe="cubic-bezier(0.2,0,0,1)",YF="cubic-bezier(0.8,0,0,0.8)",ope=()=>typeof window<"u"&&"matchMedia"in window,ape=()=>{if(!ope())return!1;const{matches:e}=window.matchMedia("(prefers-reduced-motion: reduce)");return e},spe={"@media (prefers-reduced-motion: reduce)":{animation:"none",transition:"none"}},ipe=e=>{switch(e.cleanup){case"next-effect":return;case"unmount":default:return[]}},lpe=(e={cleanup:"unmount"})=>{const t=c.useRef([]);return c.useEffect(()=>()=>{t.current.length&&(t.current.forEach(n=>clearTimeout(n)),t.current=[])},ipe(e)),c.useCallback((n,r,...o)=>{const a=setTimeout(()=>{t.current=t.current.filter(s=>s!==a),n()},r,...o);t.current.push(a)},[])},KF={appear:!0,isExiting:!1},XF=c.createContext(KF),hM=(e,t=KF)=>_.createElement(XF.Provider,{key:`${e.key}-provider`,value:t},e),gM=e=>{const t=[];return c.Children.toArray(e).forEach(n=>{typeof n!="boolean"&&n&&t.push(n)}),t},cpe=(e,t)=>{const n=t.concat([]),r=dpe(t);for(let o=0;o<e.length;o++){const a=e[o];!r[a.key]&&n.splice(o+1,0,a)}return n},dpe=e=>e.reduce((t,n)=>(t[n.key]=n,t),{}),upe=(e,t)=>{const n=new Set(e.map(o=>o.key)),r=new Set;for(let o=0;o<t.length;o++){const s=t[o].key;n.has(s)||r.add(s)}return r},xu=c.memo(({appear:e=!1,children:t,exitThenEnter:n})=>{const[r,o]=c.useState([null,t]),[a,s]=c.useState([]),[i,l]=c.useState(()=>({appear:e,isExiting:!1}));if(c.useEffect(()=>{i.appear||l({appear:!0,isExiting:!1})},[]),ape()||typeof r=="boolean")return t;const[d,u]=r,f=gM(d),p=gM(u);u!==t&&o([u,t]);const m=upe(p,f),g=!!m.size;let v=p;if(g&&(v=cpe(p,f)),n)if(a.length)v=a;else{const b=v.filter(y=>m.has(y.key));b.length&&s(b)}return m.size?v=v.map(b=>{const y=m.has(b.key);return hM(b,{appear:!0,isExiting:y,onFinish:y?()=>{m.delete(b.key),m.size===0&&(o([null,t]),s([]))}:void 0})}):v=v.map(b=>hM(b,i)),v}),JF=()=>c.useContext(XF);xu.displayName="ExitingPersistence";function fpe(){const e=c.useRef("");return e.current||(e.current="_"+(Number(String(Math.random()).slice(2))+Date.now()+Math.round(performance.now())).toString(36)),e.current}const ppe=c.createContext(()=>({isReady:!0,delay:0,ref:ct})),mpe=()=>{const e=fpe();return c.useContext(ppe)(e)},vM=.5,ZF=({children:e,animationTimingFunction:t,enteringAnimation:n,exitingAnimation:r,isPaused:o,onFinish:a,duration:s=GF})=>{const i=mpe(),{isExiting:l,onFinish:d,appear:u}=JF(),f=lpe(),p=o||!i.isReady,m=l?0:i.delay,g=l?"exiting":"entering",[v,b]=c.useState(u);return c.useEffect(()=>{let y=!1;if(!p){if(!u){a&&a(g);return}return b(!0),f(()=>{g==="exiting"&&d&&d(),y||b(!1),a&&a(g)},l?s*vM:s+m),()=>{y=!0}}},[d,g,l,s,m,p,f]),_.createElement(js,null,({css:y})=>e({ref:i.ref,className:v?y({...spe,animationDelay:`${m}ms`,animationDuration:`${l?s*vM:s}ms`,animationFillMode:l?"forwards":"backwards",animationName:`${Pr(l&&r||n)}`,animationPlayState:p?"paused":"running",animationTimingFunction:t(g)}):""},g))},QF={proportional:{bottom:"translate3d(0, calc(5% + 4px), 0)",left:"translate3d(calc(-5% - 4px), 0, 0)",right:"translate3d(calc(5% + 4px), 0, 0)",top:"translate3d(0, calc(-5% - 4px), 0)"},constant:{bottom:"translate3d(0, 4px, 0)",left:"translate3d(-4px, 0, 0)",right:"translate3d(4px, 0, 0)",top:"translate3d(0, -4px, 0)"}},hpe={top:"bottom",bottom:"top",left:"right",right:"left"},gpe=(e,t="proportional")=>({from:{opacity:0,...e!==void 0&&{transform:QF[t][e]}},"50%":{opacity:1},to:{transform:e!==void 0?"none":void 0}}),vpe=(e,t="proportional")=>({from:{opacity:1,transform:e!==void 0?"translate3d(0, 0, 0)":void 0},to:{opacity:0,...e!==void 0&&{transform:QF[t][e]}}}),eh=({children:e,duration:t=GF,entranceDirection:n,exitDirection:r,distance:o="proportional",onFinish:a,isPaused:s})=>{const i=n&&hpe[n];return _.createElement(ZF,{duration:t,enteringAnimation:gpe(n,o),exitingAnimation:vpe(r||i,o),animationTimingFunction:()=>qF,onFinish:a,isPaused:s},e)},bM=(e,t,n)=>{const r=t==="entering"?"0%":"100%",o=t==="entering"?"100%":"0%",a={top:"translate3d(0, -100%, 0)",right:"translate3d(100%, 0, 0)",bottom:"translate3d(0, 100%, 0)",left:"translate3d(-100%, 0, 0)"},s=n==="inout"||n==="in"&&t==="entering"||n==="out"&&t==="exiting";return{[r]:{transform:a[e],opacity:s?0:1},[o]:{transform:"none",opacity:1}}},ej=({children:e,enterFrom:t,exitTo:n,fade:r="none",duration:o=Qm,isPaused:a,onFinish:s,animationTimingFunction:i=l=>l==="entering"?rpe:YF})=>_.createElement(ZF,{duration:o,enteringAnimation:bM(t,"entering",r),exitingAnimation:bM(n||t,"exiting",r),animationTimingFunction:i,isPaused:a,onFinish:s},e),bpe=M({width:"1px",height:"1px",padding:"0",position:"absolute",border:"0",clip:"rect(1px, 1px, 1px, 1px)",overflow:"hidden",whiteSpace:"nowrap"}),Su=({children:e,testId:t,role:n,id:r})=>k("span",{id:r,"data-testid":t,css:bpe,role:n},e),tj="atlaskit-portal-container",nj="body > .atlaskit-portal-container",rj="atlaskit-portal",ype=e=>{const t=document.createElement("div");return t.className=rj,t.style.zIndex=`${e}`,t},oj=()=>document.body,aj=()=>{const e=document.querySelector(nj);if(!e){var t;const n=document.createElement("div");return n.className=tj,n.style.display="flex",(t=oj())===null||t===void 0||t.appendChild(n),n}return e},Epe=e=>{aj().removeChild(e)},wpe=e=>{e.parentElement||aj().appendChild(e)},sj=()=>document!==void 0,Cpe=e=>{if(sj()){const t=document.createElement("div");return t.className=rj,t.style.zIndex=`${e}`,t}},_pe=()=>{if(sj()){const t=document.querySelector(nj);if(!t){var e;const n=document.createElement("div");return n.className=tj,n.style.display="flex",(e=oj())===null||e===void 0||e.appendChild(n),n}return t}};function xpe(e){const{zIndex:t,children:n}=e,r=c.useMemo(()=>ype(t),[t]);return wpe(r),c.useEffect(()=>()=>{Epe(r)},[r]),sr.createPortal(n,r)}const ij=typeof window<"u"?c.useLayoutEffect:c.useEffect;function Spe(e){const{zIndex:t,children:n}=e,[r,o]=c.useState(null);return ij(()=>{const a=Cpe(t);o(a);const s=_pe();if(!(!a||!s))return s.appendChild(a),()=>{a&&s.removeChild(a),o(null)}},[t]),r?sr.createPortal(n,r):null}const kpe=e=>{const[t,n]=c.useState(!1),[r]=c.useState(()=>e==="layoutEffect"?ij:c.useEffect);return r(()=>{n(!0)},[]),t},Ipe="akPortalMount",Tpe="akPortalUnmount",yM={100:"card",200:"navigation",300:"dialog",400:"layer",500:"blanket",510:"modal",600:"flag",700:"spotlight",9999:"tooltip"},Ape=e=>yM.hasOwnProperty(e)?yM[e]:null,Dpe=(e,t)=>{const n={layer:Ape(Number(t)),zIndex:t};return new CustomEvent(e,{detail:n})};function EM(e,t){const n=Dpe(e,t);window.dispatchEvent(n)}const Ope=e=>{const t=Number(e);c.useEffect(()=>(EM(Ipe,t),()=>{EM(Tpe,t)}),[t])};function lj({zIndex:e=0,children:t,mountStrategy:n="effect"}){const r=kpe(n);return Ope(e),et("dsp-19516-design-system-portal-logic-update")?_.createElement(Spe,{zIndex:e},t):r?_.createElement(xpe,{zIndex:e},t):null}const cj=gt(),Mpe=cj*50,Ik=400,dj={onDismissed:ct,isDismissAllowed:!1},uj=c.createContext(dj);function fj(){return c.useContext(uj)}const $pe=M({width:Mpe,position:"absolute",insetBlockEnd:0,transition:`transform ${Ik}ms ease-in-out`,"@media (max-width: 560px)":{width:"100vw"},":first-of-type":{transform:"translate(0,0)",transition:"none"},":nth-of-type(n + 2)":{animationDuration:"0ms",transform:`translateX(0) translateY(100%) translateY(${2*cj}px)`},":nth-of-type(1)":{zIndex:5},":nth-of-type(2)":{zIndex:4},"&:nth-of-type(n + 4)":{visibility:"hidden"}}),Rpe=M({"&& + *":{transform:"translate(0, 0)",transitionDuration:`${Ik/2}ms`}}),Ppe=M({position:"fixed",zIndex:"flag",insetBlockEnd:"var(--ds-space-600, 48px)",insetInlineStart:"var(--ds-space-1000, 80px)","@media (max-width: 560px)":{insetBlockEnd:0,insetInlineStart:0}}),Lpe=e=>{const{id:t,label:n="Flag notifications",labelTag:r="h2",shouldRenderToParent:o=!1,children:a,onDismissed:s=ct}=e,i=Array.isArray(a)?a.length>0:!!a,l=c.useMemo(()=>({onDismissed:s,isDismissAllowed:!0}),[s]),d=()=>a&&typeof a=="object"?c.Children.map(a,(f,p)=>{const m=p===0;return k(ej,{enterFrom:"left",fade:"inout",duration:Ik,animationTimingFunction:()=>YF},({className:g,ref:v})=>k("div",{css:[$pe,m&&Rpe],className:g,ref:v},k(uj.Provider,{value:m?l:dj},f)))}):!1,u=k("div",{id:t,css:Ppe},i?k(Su,null,k(r,null,n)):null,k(xu,{appear:!1},d()));return o?u:k(lj,{zIndex:Qt.flag()},u)},Npe=ie({width:"100%"}),Fpe=ie({transition:"max-height 0.3s"}),jpe=({children:e,isExpanded:t,testId:n})=>_.createElement(_e,{xcss:Fpe,style:{maxHeight:t?150:0,flex:"1 1 100%",minWidth:0},"aria-hidden":!t,testId:n&&`${n}-expander`},_.createElement(xu,{appear:!0},t&&_.createElement(eh,null,r=>_.createElement(_e,H({xcss:Npe},r),_.createElement(Rt,{space:"space.100"},e)))));var Tk={};const fs={small:"16px",medium:"24px",large:"32px",xlarge:"48px"},th={small:{width:fs.small,height:fs.small},medium:{width:fs.medium,height:fs.medium},large:{width:fs.large,height:fs.large},xlarge:{width:fs.xlarge,height:fs.xlarge}},pj={overflow:"hidden",pointerEvents:"none",stop:{stopColor:"currentColor"}},Vpe=M(th.small),Bpe=M(th.medium),Upe=M(th.large),Hpe=M(th.xlarge),zpe={small:Vpe,medium:Bpe,large:Upe,xlarge:Hpe},Wpe=({width:e,height:t,size:n})=>{if(e&&t)return{width:e,height:t};if(n)return th[n]},mj=()=>"var(--ds-surface, #FFFFFF)",Gpe=M({display:"inline-block",flexShrink:0,lineHeight:1,"> svg":{...pj,maxWidth:"100%",maxHeight:"100%",color:"var(--icon-primary-color)",fill:"var(--icon-secondary-color)",verticalAlign:"bottom"}}),qpe=M({"@media screen and (forced-colors: active)":{"> svg":{filter:"grayscale(1)","--icon-primary-color":"CanvasText","--icon-secondary-color":"Canvas"}}}),Ype=M({"@media screen and (forced-colors: active)":{"> svg":{"--icon-primary-color":"Canvas"}}}),Kpe=M({"@media screen and (forced-colors: active)":{"> svg":{"--icon-secondary-color":"transparent"}}}),Vp=c.memo(function(t){const{glyph:n,dangerouslySetGlyph:r,primaryColor:o="currentColor",secondaryColor:a,size:s,testId:i,label:l,width:d,height:u,UNSAFE_margin:f}=t,p=r?{dangerouslySetInnerHTML:{__html:r}}:{children:n?k(n,{role:"presentation"}):null},m=Wpe({width:d,height:u,size:s});return k("span",H({"data-testid":i,"data-vc":`icon-${i}`,role:l?"img":void 0,"aria-label":l||void 0,"aria-hidden":l?void 0:!0,style:{"--icon-primary-color":o,"--icon-secondary-color":a||mj(),margin:f}},p,{css:[Gpe,qpe,o===a&&Ype,a==="transparent"&&Kpe,m&&M({width:m.width,height:m.height,"> svg":m})]}))}),wM={utility:{small:"compact",medium:"spacious"},core:{small:"none",medium:"spacious"}},Sr=c.memo(function({dangerouslySetGlyph:t,...n}){var r;const o=n.newIcon,a=(r=n.size)!==null&&r!==void 0?r:"medium";if(!n.isFacadeDisabled&&Pe("platform-visual-refresh-icons-legacy-facade")&&o&&(a==="small"||a==="medium"))if(n.iconType==="utility"){const i=o;return _.createElement(i,H({},n,{spacing:Pe("platform-visual-refresh-icons-facade-button-fix")?wM.utility[a]:"none",color:n.primaryColor||"currentColor",type:n.iconType}))}else{const i=o;return _.createElement(i,H({},n,{spacing:wM.core[a],color:n.primaryColor||"currentColor",type:n.iconType}))}return _.createElement(Vp,H({dangerouslySetGlyph:t},n))}),Xpe=Object.freeze(Object.defineProperty({__proto__:null,Icon:Vp,IconFacade:Sr,default:Vp},Symbol.toStringTag,{value:"Module"})),je=gk(Xpe);var fc={};const Jpe=M({overflow:"hidden",pointerEvents:"none",stop:{stopColor:"currentColor"}}),Zpe=M({color:"currentColor",verticalAlign:"bottom"}),Qpe=M({display:"inline-block",boxSizing:"border-box",flexShrink:0,lineHeight:1,paddingInlineEnd:"var(--ds--button--new-icon-padding-end, 0)",paddingInlineStart:"var(--ds--button--new-icon-padding-start, 0)"}),eme=M({lineHeight:"var(--ds-space-150, 12px)"}),tme=M({width:"inherit",height:"inherit"}),nme=M({"@media screen and (forced-colors: active)":{color:"CanvasText",filter:"grayscale(1)"}}),rme=M({width:"inherit",height:"inherit"}),CM={core:{none:M({width:"var(--ds-space-200, 16px)",height:"var(--ds-space-200, 16px)"}),spacious:M({width:"var(--ds-space-300, 24px)",height:"var(--ds-space-300, 24px)"})},utility:{none:M({width:"var(--ds-space-150, 12px)",height:"var(--ds-space-150, 12px)"}),compact:M({width:"var(--ds-space-200, 16px)",height:"var(--ds-space-200, 16px)"}),spacious:M({width:"var(--ds-space-300, 24px)",height:"var(--ds-space-300, 24px)"})}},ome={core:16,utility:12},_M={core:{none:0,spacious:4},utility:{none:0,compact:2,spacious:6}},hj=c.memo(function(t){var n,r,o;const{color:a="currentColor",testId:s,label:i,LEGACY_primaryColor:l,LEGACY_secondaryColor:d,LEGACY_size:u,LEGACY_fallbackIcon:f,dangerouslySetGlyph:p,shouldScale:m,LEGACY_margin:g}=t,v=p?{__html:p}:void 0;if(f&&!Pe("platform-visual-refresh-icons"))return k(f,{primaryColor:l??a,secondaryColor:d,size:u,label:i,testId:s,UNSAFE_margin:g});const b=ome[(n=t.type)!==null&&n!==void 0?n:"core"];let y;if(t.type==="utility"){var E;y=_M[t.type][(E=t.spacing)!==null&&E!==void 0?E:"none"]}else{var w;y=_M.core[(w=t.spacing)!==null&&w!==void 0?w:"none"]}const C=b+2*y;let x=a;return v&&a==="var(--ds-icon-disabled, #091E424F)"&&(v.__html=`
<filter id="ds-newIconOpacityFilter">
  <feFlood flood-color="var(--ds-icon-disabled)" />
  <feComposite in2="SourceGraphic" operator="in" />
</filter>
<g filter="url(#ds-newIconOpacityFilter)">
  ${v.__html}
</g>`,x="var(--ds-icon, #44546F)"),k("span",{"data-testid":s,role:i?"img":void 0,"aria-label":i||void 0,"aria-hidden":i?void 0:!0,style:{color:x},css:[Qpe,nme,m&&tme,t.type==="utility"&&eme]},k("svg",{fill:"none",viewBox:`${0-y} ${0-y} ${C} ${C}`,role:"presentation",css:[Jpe,Zpe,m?rme:t.type==="utility"?CM[t.type][(r=t.spacing)!==null&&r!==void 0?r:"none"]:CM.core[(o=t.spacing)!==null&&o!==void 0?o:"none"]],dangerouslySetInnerHTML:v}))}),ame=hj,sme=Object.freeze(Object.defineProperty({__proto__:null,Icon:hj,default:ame},Symbol.toStringTag,{value:"Module"})),Oe=gk(sme);Object.defineProperty(fc,"__esModule",{value:!0});var ime=fc.default=void 0,lme=gj(c),cme=gj(Oe);function gj(e){return e&&e.__esModule?e:{default:e}}const vj=e=>lme.default.createElement(cme.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M10.5 4.5 8.25 6.75 6 9 3.75 6.75 1.5 4.5"/>',type:"utility"},e));vj.displayName="ChevronDownIcon";ime=fc.default=vj;Object.defineProperty(Tk,"__esModule",{value:!0});var bj=Tk.default=void 0,dme=yj(c),ume=je,fme=yj(fc);function yj(e){return e&&e.__esModule?e:{default:e}}const Ej=e=>dme.default.createElement(ume.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" d="M6.744 8.744a1.053 1.053 0 0 0 0 1.49l4.547 4.557a1 1 0 0 0 1.416 0l4.55-4.558a1.051 1.051 0 1 0-1.488-1.488l-3.77 3.776-3.768-3.776a1.05 1.05 0 0 0-1.487 0"/></svg>'},e,{newIcon:fme.default,iconType:"utility"}));Ej.displayName="HipchatChevronDownIcon";bj=Tk.default=Ej;var Ak={},ku={};Object.defineProperty(ku,"__esModule",{value:!0});var pme=ku.default=void 0,mme=wj(c),hme=wj(Oe);function wj(e){return e&&e.__esModule?e:{default:e}}const Cj=e=>mme.default.createElement(hme.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M10.5 7.5 6 3 1.5 7.5"/>',type:"utility"},e));Cj.displayName="ChevronUpIcon";pme=ku.default=Cj;Object.defineProperty(Ak,"__esModule",{value:!0});var _j=Ak.default=void 0,gme=xj(c),vme=je,bme=xj(ku);function xj(e){return e&&e.__esModule?e:{default:e}}const Sj=e=>gme.default.createElement(vme.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="m11.294 8.708-4.549 4.559a1.051 1.051 0 1 0 1.486 1.488l.001-.001 3.77-3.776 3.768 3.776a1.05 1.05 0 0 0 1.486.001h.001a1.054 1.054 0 0 0 .001-1.489L12.71 8.708a1 1 0 0 0-1.415-.001"/></svg>'},e,{newIcon:bme.default,iconType:"utility"}));Sj.displayName="HipchatChevronUpIcon";_j=Ak.default=Sj;var f1={},Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});var pc=Iu.default=void 0,yme=kj(c),Eme=kj(Oe);function kj(e){return e&&e.__esModule?e:{default:e}}const Ij=e=>yme.default.createElement(Eme.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M2.5 13.5 8 8m5.5-5.5L8 8m0 0L2.5 2.5M8 8l5.5 5.5"/>'},e));Ij.displayName="CloseIcon";pc=Iu.default=Ij;Object.defineProperty(f1,"__esModule",{value:!0});var Dk=f1.default=void 0,wme=Tj(c),Cme=je,_me=Tj(Iu);function Tj(e){return e&&e.__esModule?e:{default:e}}const Aj=e=>wme.default.createElement(Cme.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" d="M12 10.586 6.707 5.293a1 1 0 0 0-1.414 1.414L10.586 12l-5.293 5.293a1 1 0 0 0 1.414 1.414L12 13.414l5.293 5.293a1 1 0 0 0 1.414-1.414L13.414 12l5.293-5.293a1 1 0 1 0-1.414-1.414z"/></svg>'},e,{newIcon:_me.default}));Aj.displayName="CrossIcon";Dk=f1.default=Aj;const xme=ie({display:"flex",width:"24px",height:"24px",padding:"space.0",alignItems:"center",justifyContent:"center",flex:"0 0 auto",background:"none",borderStyle:"none",cursor:"pointer",whiteSpace:"nowrap"}),Sme=({appearance:e,onClick:t,isBold:n,isExpanded:r,testId:o})=>{let a=Dk,s="Dismiss",i="small",l=o&&`${o}-dismiss`;return n&&(a=r?_j:bj,s=r?"Collapse":"Expand",i="medium",l=o&&`${o}-toggle`),_.createElement(Co,{xcss:xme,onClick:t,"aria-expanded":n?r:void 0,testId:l},_.createElement(a,{label:s,size:i,primaryColor:PF[e]}))},kme=c.memo(Sme),Dj="--flag-icon-color",Ime=ie({overflowWrap:"anywhere"}),Tme=M({maxHeight:100,overflow:"auto",overflowWrap:"anywhere"}),Ame=M({display:"flex",alignItems:"start",flexShrink:0,color:`var(${Dj})`}),Dme=ie({boxShadow:"elevation.shadow.overlay",borderRadius:"border.radius.100",overflow:"hidden",zIndex:"flag",width:"100%",transition:"background-color 200ms"}),Ome=M({width:"100%"}),k2={componentName:"flag",packageName:"@atlaskit/flag",packageVersion:"15.8.2"},Mme=M({flexGrow:1,transition:"gap 0.3s"}),$me=e=>{const{actions:t=[],appearance:n=ip,icon:r,title:o,description:a,linkComponent:s,onMouseOver:i,onFocus:l=ct,onMouseOut:d,onBlur:u=ct,onDismissed:f=ct,testId:p,id:m,analyticsContext:g,delayAnnouncement:v,headingLevel:b=2}=e,[y,E]=c.useState(!1),{onDismissed:w,isDismissAllowed:C}=fj(),x=c.useCallback((ce,le)=>{f(ce,le),w(ce,le)},[f,w]),[S,I]=c.useState(!1),A=Bo({fn:x,action:"dismissed",analyticsData:g,...k2}),T=n!==ip,O=c.useCallback(()=>{I(ce=>!ce)},[]),D=c.useCallback(()=>{C&&A(m)},[A,m,C]);c.useEffect(()=>{T&&S&&!a&&!t.length&&I(!1)},[t.length,a,T,S]),c.useEffect(()=>{v&&setTimeout(()=>{E(!0)},v)},[v]);const $=Bo({fn:l,action:"focused",analyticsData:g,...k2}),L=Bo({fn:u,action:"blurred",analyticsData:g,...k2}),F={onMouseOver:i,onFocus:$,onMouseOut:d,onBlur:L},B=mfe[n],V=pfe[n],Y=T||C,J=!T&&(a||t.length)||S,z=v?k(Su,{role:"alert"},o,a):void 0;return k("div",H({role:v?void 0:"alert",css:Ome,"data-testid":p},F),k(_e,{backgroundColor:ffe[n],padding:"space.200",xcss:Dme},k(Me,{alignBlock:"stretch",space:"space.200"},k("div",{css:Ame,style:{[Dj]:V}},r),k("span",{css:Mme},k(Rt,{space:J?"space.100":"space.0"},y&&z,k(Me,{alignBlock:"stretch",space:"space.100",spread:"space-between"},k(_e,{paddingBlockStart:"space.050",paddingBlockEnd:"space.025",xcss:Ime},k(Go,{as:`h${b}`,size:"xsmall",color:B},o)),Y?!(T&&!a&&!t.length)&&k(kme,{testId:p,appearance:n,isBold:T,isExpanded:S,onClick:T?O:D}):null),k(jpe,{isExpanded:!T||S,testId:p},a&&k("div",{style:{color:PF[n]},css:Tme,"data-testid":p&&`${p}-description`},a),k(npe,{actions:t,appearance:n,linkComponent:s,testId:p})))))))},Rme="@atlaskit/flag",Pme="15.8.2",Lme=8,Nme=e=>{const{id:t,analyticsContext:n,onDismissed:r=ct}=e,o=c.useRef(null),{onDismissed:a,isDismissAllowed:s}=fj(),i=c.useCallback((m,g)=>{r(m,g),a(m,g)},[r,a]),l=Bo({fn:i,action:"dismissed",analyticsData:n,componentName:"flag",packageName:Rme,packageVersion:Pme}),d=s&&i,u=c.useCallback(()=>{d&&l(t)},[t,l,d]),f=c.useCallback(()=>{o.current&&(clearTimeout(o.current),o.current=null)},[]),p=c.useCallback(()=>{d&&(f(),o.current=window.setTimeout(u,Lme*1e3))},[u,f,d]);return c.useEffect(()=>(p(),f),[p,f]),_.createElement($me,H({},e,{onMouseOver:f,onFocus:f,onMouseOut:p,onBlur:p}))};var Ok={},nh={};Object.defineProperty(nh,"__esModule",{value:!0});nh.default=void 0;var Fme=Oj(c),jme=Oj(Oe);function Oj(e){return e&&e.__esModule?e:{default:e}}const Mj=e=>Fme.default.createElement(jme.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M6.586.603a2 2 0 0 1 2.828 0l5.982 5.983a2 2 0 0 1 0 2.828l-5.982 5.982a2 2 0 0 1-2.828 0L.604 9.414a2 2 0 0 1 0-2.828zM7.25 9V3.75h1.5V9zM8 12.25a1 1 0 1 0 0-2 1 1 0 0 0 0 2" clip-rule="evenodd"/>'},e));Mj.displayName="ErrorIcon";nh.default=Mj;var Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});var p1=Tu.default=void 0,Vme=$j(c),Bme=je,Ume=$j(nh);function $j(e){return e&&e.__esModule?e:{default:e}}const Rj=e=>Vme.default.createElement(Bme.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><path fill="currentcolor" d="M13.416 4.417a2 2 0 0 0-2.832 0l-6.168 6.167a2 2 0 0 0 0 2.833l6.168 6.167a2 2 0 0 0 2.832 0l6.168-6.167a2 2 0 0 0 0-2.833z"/><path fill="inherit" d="M12 14a1 1 0 0 1-1-1V8a1 1 0 0 1 2 0v5a1 1 0 0 1-1 1m0 3a1 1 0 0 1 0-2 1 1 0 0 1 0 2"/></g></svg>'},e,{newIcon:Ume.default}));Rj.displayName="ErrorIcon";p1=Tu.default=Rj;const Hme=ro({__proto__:null,get default(){return p1}},[Tu]);Object.defineProperty(Ok,"__esModule",{value:!0});var Us=Ok.default=void 0,zme=Mk(c),Wme=Mk(nh),Gme=Mk(Tu);function Mk(e){return e&&e.__esModule?e:{default:e}}const Pj=e=>zme.default.createElement(Wme.default,Object.assign({LEGACY_fallbackIcon:Gme.default},e));Pj.Name="ErrorIconMigration";Us=Ok.default=Pj;var $k={},mc={};Object.defineProperty(mc,"__esModule",{value:!0});var Lj=mc.default=void 0,qme=Nj(c),Yme=Nj(Oe);function Nj(e){return e&&e.__esModule?e:{default:e}}const Fj=e=>qme.default.createElement(Yme.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m6.5-1.25H8a.75.75 0 0 1 .75.75v5h-1.5V8.25H6.5zM8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2" clip-rule="evenodd"/>'},e));Fj.displayName="InformationIcon";Lj=mc.default=Fj;var m1={};Object.defineProperty(m1,"__esModule",{value:!0});var Kme=m1.default=void 0,Xme=jj(c),Jme=je,Zme=jj(mc);function jj(e){return e&&e.__esModule?e:{default:e}}const Vj=e=>Xme.default.createElement(Jme.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><path fill="currentcolor" d="M2 12c0 5.523 4.477 10 10 10s10-4.477 10-10S17.523 2 12 2 2 6.477 2 12"/><rect width="2" height="7" x="11" y="10" fill="inherit" rx="1"/><circle cx="12" cy="8" r="1" fill="inherit"/></g></svg>'},e,{newIcon:Zme.default}));Vj.displayName="InfoIcon";Kme=m1.default=Vj;Object.defineProperty($k,"__esModule",{value:!0});var b_=$k.default=void 0,Qme=Rk(c),ehe=Rk(mc),the=Rk(m1);function Rk(e){return e&&e.__esModule?e:{default:e}}const Bj=e=>Qme.default.createElement(ehe.default,Object.assign({LEGACY_fallbackIcon:the.default},e));Bj.Name="InformationIconMigration";b_=$k.default=Bj;var Pk={},Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.default=void 0;var nhe=Uj(c),rhe=Uj(Oe);function Uj(e){return e&&e.__esModule?e:{default:e}}const Hj=e=>nhe.default.createElement(rhe.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m12.326-2.52-1.152-.96L6.75 9.828 4.826 7.52l-1.152.96 2.5 3a.75.75 0 0 0 1.152 0z" clip-rule="evenodd"/>'},e));Hj.displayName="SuccessIcon";Au.default=Hj;var h1={};Object.defineProperty(h1,"__esModule",{value:!0});var ohe=h1.default=void 0,ahe=zj(c),she=je,ihe=zj(Au);function zj(e){return e&&e.__esModule?e:{default:e}}const Wj=e=>ahe.default.createElement(she.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle cx="12" cy="12" r="10" fill="currentcolor"/><path fill="inherit" d="M9.707 11.293a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 1 0-1.414-1.414L11 12.586z"/></g></svg>'},e,{newIcon:ihe.default}));Wj.displayName="CheckCircleIcon";ohe=h1.default=Wj;Object.defineProperty(Pk,"__esModule",{value:!0});var Gj=Pk.default=void 0,lhe=Lk(c),che=Lk(Au),dhe=Lk(h1);function Lk(e){return e&&e.__esModule?e:{default:e}}const qj=e=>lhe.default.createElement(che.default,Object.assign({LEGACY_fallbackIcon:dhe.default},e));qj.Name="SuccessIconMigration";Gj=Pk.default=qj;var Nk={},rh={};Object.defineProperty(rh,"__esModule",{value:!0});rh.default=void 0;var uhe=Yj(c),fhe=Yj(Oe);function Yj(e){return e&&e.__esModule?e:{default:e}}const Kj=e=>uhe.default.createElement(fhe.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M6.242 1.168c.757-1.396 2.76-1.396 3.516 0l5.9 10.878c.723 1.332-.242 2.953-1.758 2.953H2.1C.584 15-.38 13.38.342 12.046zM7.25 9.499v-5h1.5v5zM8 12.75a1 1 0 1 0 0-2 1 1 0 0 0 0 2" clip-rule="evenodd"/>'},e));Kj.displayName="WarningIcon";rh.default=Kj;var g1={};Object.defineProperty(g1,"__esModule",{value:!0});var v1=g1.default=void 0,phe=Xj(c),mhe=je,hhe=Xj(rh);function Xj(e){return e&&e.__esModule?e:{default:e}}const Jj=e=>phe.default.createElement(mhe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><path fill="currentcolor" d="M12.938 4.967c-.518-.978-1.36-.974-1.876 0L3.938 18.425c-.518.978-.045 1.771 1.057 1.771h14.01c1.102 0 1.573-.797 1.057-1.771z"/><path fill="inherit" d="M12 15a1 1 0 0 1-1-1V9a1 1 0 0 1 2 0v5a1 1 0 0 1-1 1m0 3a1 1 0 0 1 0-2 1 1 0 0 1 0 2"/></g></svg>'},e,{newIcon:hhe.default}));Jj.displayName="WarningIcon";v1=g1.default=Jj;Object.defineProperty(Nk,"__esModule",{value:!0});var Fk=Nk.default=void 0,ghe=jk(c),vhe=jk(rh),bhe=jk(g1);function jk(e){return e&&e.__esModule?e:{default:e}}const Zj=e=>ghe.default.createElement(vhe.default,Object.assign({LEGACY_fallbackIcon:bhe.default},e));Zj.Name="WarningIconMigration";Fk=Nk.default=Zj;const yhe=e=>{throw new Error(`Not implemented: ${e}`)};function nIt(e){const t=_u(e.flags),n=r=>{switch(r){case"info":return h.jsx(b_,{spacing:"spacious",label:"",LEGACY_secondaryColor:U("color.background.neutral.bold","#44546F")});case"warning":return h.jsx(Fk,{spacing:"spacious",label:"",LEGACY_secondaryColor:U("color.background.warning.bold","#F5CD47")});case"error":return h.jsx(Us,{spacing:"spacious",label:"",LEGACY_secondaryColor:U("color.background.danger.bold","#C9372C")});case"success":return h.jsx(Gj,{spacing:"spacious",label:"",LEGACY_secondaryColor:U("color.background.success.bold","#1F845A")});case"normal":return h.jsx(b_,{spacing:"spacious",label:"",color:U("color.icon.information","#1D7AFC")});default:yhe(r)}};return h.jsx(Lpe,{onDismissed:r=>{e.handleFlagDismiss(r)},children:t.data.map(r=>{const o=r.appearance??"normal";return h.jsx(Nme,{appearance:o,id:r.id,testId:"database-flag",icon:r.icon?r.icon():n(o),title:r.title,description:r.description,actions:r.actions?[...r.actions]:void 0},r.id)})})}function rIt(e){const t=document.createDocumentFragment(),n=document.createElement("div");t.appendChild(n);const r=Vi.resolve("FlagsManager");e(n,r),document.body.append(t)}function Vk(){const e=c.useCallback(n=>{Vi.resolve("FlagsManager").addFlag(n)},[]),t=c.useCallback(()=>Vi.resolve("FlagsManager").clearFlags(),[]);return{addFlag:e,clearFlags:t}}function oIt(){Ra.timings=[{key:"load-app",startMark:"load-app-start",endMark:"load-app-end"},{key:"mount-app",startMark:"mount-app-start",endMark:"mount-app-end"},{key:"database-load",startMark:"database-load-start",endMark:"database-load-end"},{key:"space-databases-load",startMark:"space-databases-load-start",endMark:"space-databases-load-end"},{key:"space-info-load",startMark:"space-info-load-start",endMark:"space-info-load-end"}]}const Qj=()=>{var e,t;return((t=(e=globalThis.navigator)==null?void 0:e.languages)==null?void 0:t[0])??"en-US"};function eV(){try{return window.top&&window.location.toString()!=window.top.location.toString()?window.top:window}catch{return window}}const Du=()=>{var a,s,i,l;const e=typeof globalThis.window<"u"?eV():void 0,t=e?new URLSearchParams(e.location.search).get("databases-locale-override"):null,n=Qj();let r=n;try{r=e?((a=e.parent)==null?void 0:a.__SSR_LOCALE__)??((l=(i=(s=e.parent)==null?void 0:s.__INITIAL_STATE__)==null?void 0:i.i18n)==null?void 0:l.locale)??n:n,r.includes("_")&&(r=r.replace("_","-"))}catch{}const o=Cle();return t||(r==="en-ZZ"?r:o)},Ehe=()=>{var a,s,i,l;const e=new Qde,t=(s=(a=globalThis.window)==null?void 0:a.ATLASSIAN_CANVAS)==null?void 0:s.testingLocale;if(!t)return;const n=(l=(i=globalThis.window)==null?void 0:i.ATLASSIAN_CANVAS)==null?void 0:l.testingLocaleData;if(!n)return;const r=Zde(n);return e.decode(r)[t]},whe=Ym({status:"uninitialised",intl:yF(nF({locale:_le(),messages:Ehe(),onError:e=>{}}))}),aIt={},Che=["en","en-GB","en-US","de","cs","ko","pt-BR","fr","es","it","ja","nl","nb","da","sv","fi","ru","pl","tr","hu","zh-CN","zh-TW"],_he=["en-pseudo","xx","en-ZZ"],xhe=[...Che,..._he];function She(e){return xhe.includes(e)}const xM=sN("DynamicImportError"),SM=sN("DynamicImportRetryError"),Te=async e=>{try{return await e()}catch(t){return await The(e,t)}},khe=/"((\w+:(\/?\/?))?[^\s]+)"/;function Ihe(e){const n=e.toString().match(khe);return n?n.filter(r=>r)[1]:null}async function The(e,t){const n=Ihe(e);if(n)try{return await Wb({callback:async()=>await import(`${n}?t=${+new Date}`),maxRetries:3})}catch(o){const a=!await r_();throw o instanceof Error?new SM(`Failed to import module after retrying - ${o.message}, ${o.stack}`,{ignoreUfoReporting:a}):new SM("Failed to import module after retrying",{ignoreUfoReporting:a})}const r=!await r_();throw t instanceof Error?new xM(`Failed to import module - failed to obtain path for retry - ${t.message}, ${t.stack}`,{ignoreUfoReporting:r}):new xM("Failed to import module -  failed to obtain path for retry",{ignoreUfoReporting:r})}function Ahe(...e){return e.reduce((t,n)=>{for(const r in n){const o=r;t[o]?t[o].push(...n[o]):t[o]=n[o]}return t},{})}function Dhe(...e){return e.reduce((t,{name:n,map:r})=>{for(const o in r){const a=o;t[a]||(t[a]={}),t[a][n]=r[a]}return t},{})}const Ohe={de:[()=>Te(()=>de(()=>import("./de-BK2FVWAL.js"),[]))],"en-GB":[()=>Te(()=>de(()=>import("./en_GB-DSBcGjUU.js"),[]))],"en-US":[()=>Te(()=>de(()=>import("./en-B-v0-pUp.js"),[]))],cs:[()=>Te(()=>de(()=>import("./cs-mv61HMiv.js"),[]))],ko:[()=>Te(()=>de(()=>import("./ko-CcMix8ur.js"),[]))],"pt-BR":[()=>Te(()=>de(()=>import("./pt_BR-C0ebxT-7.js"),[]))],fr:[()=>Te(()=>de(()=>import("./fr-Dvsg0xtD.js"),[]))],es:[()=>Te(()=>de(()=>import("./es-DNWkbdCu.js"),[]))],it:[()=>Te(()=>de(()=>import("./it-Db_W5Hbw.js"),[]))],ja:[()=>Te(()=>de(()=>import("./ja-x0ZXfDm3.js"),[]))],nl:[()=>Te(()=>de(()=>import("./nl-CO7-738O.js"),[]))],nb:[()=>Te(()=>de(()=>import("./nb-CmXJRtsl.js"),[]))],da:[()=>Te(()=>de(()=>import("./da-DYOz3GaP.js"),[]))],sv:[()=>Te(()=>de(()=>import("./sv-KeHWaFsq.js"),[]))],fi:[()=>Te(()=>de(()=>import("./fi-DbWWUzFb.js"),[]))],ru:[()=>Te(()=>de(()=>import("./ru-BGaZbNn4.js"),[]))],pl:[()=>Te(()=>de(()=>import("./pl-B_VpwLcP.js"),[]))],tr:[()=>Te(()=>de(()=>import("./tr-Dbi4HNm5.js"),[]))],hu:[()=>Te(()=>de(()=>import("./hu-BWEhAuQb.js"),[]))],"zh-CN":[()=>Te(()=>de(()=>import("./zh-Df6nASEb.js"),[]))],"zh-TW":[()=>Te(()=>de(()=>import("./zh_TW-AYwVkKsr.js"),[]))],"en-pseudo":[()=>Te(()=>de(()=>import("./de-BK2FVWAL.js"),[]))],xx:[()=>Te(()=>de(()=>import("./de-BK2FVWAL.js"),[]))],en:[()=>Te(()=>de(()=>import("./en-B-v0-pUp.js"),[]))],"en-ZZ":[()=>Te(()=>de(()=>import("./en_ZZ-CZQ8Mtsv.js"),[]))]},Mhe={de:[()=>Te(()=>de(()=>import("./de-CslqUT_K.js"),[]))],"en-GB":[()=>Te(()=>de(()=>import("./en_GB-Dr340nNA.js"),[]))],"en-US":[()=>Te(()=>de(()=>import("./en-Dr340nNA.js"),[]))],cs:[()=>Te(()=>de(()=>import("./cs-uq1TozO0.js"),[]))],ko:[()=>Te(()=>de(()=>import("./ko-Dw1iL7BX.js"),[]))],"pt-BR":[()=>Te(()=>de(()=>import("./pt_BR-Dho2kUUy.js"),[]))],fr:[()=>Te(()=>de(()=>import("./fr-OkghWbN0.js"),[]))],es:[()=>Te(()=>de(()=>import("./es-KSvdCqbU.js"),[]))],it:[()=>Te(()=>de(()=>import("./it-Gca4AyTj.js"),[]))],ja:[()=>Te(()=>de(()=>import("./ja-5Ju0QwFZ.js"),[]))],nl:[()=>Te(()=>de(()=>import("./nl-ONCB3nu_.js"),[]))],nb:[()=>Te(()=>de(()=>import("./nb-BkRRjAuU.js"),[]))],da:[()=>Te(()=>de(()=>import("./da-BDGCgusY.js"),[]))],sv:[()=>Te(()=>de(()=>import("./sv-CPRddn-w.js"),[]))],fi:[()=>Te(()=>de(()=>import("./fi-BCTzwus1.js"),[]))],ru:[()=>Te(()=>de(()=>import("./ru-CYd4H0ax.js"),[]))],pl:[()=>Te(()=>de(()=>import("./pl-C0CBZ9L1.js"),[]))],tr:[()=>Te(()=>de(()=>import("./tr-CrtAqS8x.js"),[]))],hu:[()=>Te(()=>de(()=>import("./hu-BR9xKbyI.js"),[]))],"zh-CN":[()=>Te(()=>de(()=>import("./zh-DVUMJS81.js"),[]))],"zh-TW":[()=>Te(()=>de(()=>import("./zh_TW-BVlrwwXP.js"),[]))],"en-pseudo":[()=>Te(()=>de(()=>import("./de-CslqUT_K.js"),[]))],xx:[()=>Te(()=>de(()=>import("./de-CslqUT_K.js"),[]))],en:[()=>Te(()=>de(()=>import("./en-Dr340nNA.js"),[]))],"en-ZZ":[()=>Te(()=>de(()=>import("./en_ZZ-BgkeJDav.js"),[]))]},$he={de:[()=>Te(()=>de(()=>import("./de-BfKqSIz7.js"),[]))],"en-GB":[()=>Te(()=>de(()=>import("./en_GB-Dqp4Yggj.js"),[]))],"en-US":[()=>Te(()=>de(()=>import("./en-Dqp4Yggj.js"),[]))],cs:[()=>Te(()=>de(()=>import("./cs-BtSm_E0D.js"),[]))],ko:[()=>Te(()=>de(()=>import("./ko-C6QdrEq-.js"),[]))],"pt-BR":[()=>Te(()=>de(()=>import("./pt_BR-BDn3oF4V.js"),[]))],fr:[()=>Te(()=>de(()=>import("./fr-DXg3DW7Z.js"),[]))],es:[()=>Te(()=>de(()=>import("./es-DE8TP5jk.js"),[]))],it:[()=>Te(()=>de(()=>import("./it-BqelP8V3.js"),[]))],ja:[()=>Te(()=>de(()=>import("./ja-C9kxuBIL.js"),[]))],nl:[()=>Te(()=>de(()=>import("./nl-DD96-9YQ.js"),[]))],nb:[()=>Te(()=>de(()=>import("./nb-5w0eawRr.js"),[]))],da:[()=>Te(()=>de(()=>import("./da-C-2zzKtt.js"),[]))],sv:[()=>Te(()=>de(()=>import("./sv-k8aNDxoY.js"),[]))],fi:[()=>Te(()=>de(()=>import("./fi-DWeKzOxP.js"),[]))],ru:[()=>Te(()=>de(()=>import("./ru-CJ7w_aFv.js"),[]))],pl:[()=>Te(()=>de(()=>import("./pl-DB7zbeNn.js"),[]))],tr:[()=>Te(()=>de(()=>import("./tr-DSDFLOyl.js"),[]))],hu:[()=>Te(()=>de(()=>import("./hu-CG0jEUl5.js"),[]))],"zh-CN":[()=>Te(()=>de(()=>import("./zh-C3GXoYVN.js"),[]))],"zh-TW":[()=>Te(()=>de(()=>import("./zh_TW-hyX9-lY4.js"),[]))],"en-pseudo":[()=>Te(()=>de(()=>import("./de-BfKqSIz7.js"),[]))],xx:[()=>Te(()=>de(()=>import("./de-BfKqSIz7.js"),[]))],en:[()=>Te(()=>de(()=>import("./en-Dqp4Yggj.js"),[]))],"en-ZZ":[()=>Te(()=>de(()=>import("./en_ZZ-DCkjEh6z.js"),[]))]};Ahe($he,{de:[()=>Te(()=>de(()=>import("./de-Ce2andTQ.js"),[]))],"en-GB":[()=>Te(()=>de(()=>import("./en_GB-Cs7O8Ww0.js"),[]))],"en-US":[()=>Te(()=>de(()=>import("./en-Cs7O8Ww0.js"),[]))],cs:[()=>Te(()=>de(()=>import("./cs-DAlddC0f.js"),[]))],ko:[()=>Te(()=>de(()=>import("./ko-XIBl8FM-.js"),[]))],"pt-BR":[()=>Te(()=>de(()=>import("./pt_BR-D06EHoLV.js"),[]))],fr:[()=>Te(()=>de(()=>import("./fr-Df0gn2LJ.js"),[]))],es:[()=>Te(()=>de(()=>import("./es-BkkohBQK.js"),[]))],it:[()=>Te(()=>de(()=>import("./it-D38SNjnp.js"),[]))],ja:[()=>Te(()=>de(()=>import("./ja-BLBJ37ex.js"),[]))],nl:[()=>Te(()=>de(()=>import("./nl-DMzjVwNa.js"),[]))],nb:[()=>Te(()=>de(()=>import("./nb-nBks2sYr.js"),[]))],da:[()=>Te(()=>de(()=>import("./da-BlgMprUL.js"),[]))],sv:[()=>Te(()=>de(()=>import("./sv-p1EZIB1h.js"),[]))],fi:[()=>Te(()=>de(()=>import("./fi-CI9YzS_L.js"),[]))],ru:[()=>Te(()=>de(()=>import("./ru-CGBDEVsl.js"),[]))],pl:[()=>Te(()=>de(()=>import("./pl-wPN1PDpc.js"),[]))],tr:[()=>Te(()=>de(()=>import("./tr-_92zNP1S.js"),[]))],hu:[()=>Te(()=>de(()=>import("./hu-BZoNjwwe.js"),[]))],"zh-CN":[()=>Te(()=>de(()=>import("./zh-Brpmne9Z.js"),[]))],"zh-TW":[()=>Te(()=>de(()=>import("./zh_TW-IO1pTSRP.js"),[]))],"en-pseudo":[()=>Te(()=>de(()=>import("./de-Ce2andTQ.js"),[]))],xx:[()=>Te(()=>de(()=>import("./de-Ce2andTQ.js"),[]))],en:[()=>Te(()=>de(()=>import("./en-Cs7O8Ww0.js"),[]))],"en-ZZ":[()=>Te(()=>de(()=>import("./en_ZZ-CHCk-dYT.js"),[]))]});const Rhe=Dhe({name:"smart-card",map:Ohe},{name:"link-datasource",map:Mhe});function Phe(e){const t=She(e)?e:"en";return Rhe[t]}const Lhe="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/cs-CZ-CTQ5vVjH.json",Nhe="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/da-DK-DFGKTmLT.json",Fhe="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/de-DE-DwBE34F2.json",jhe="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/en-GB-V1go2LxP.json",Vhe="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/en-CBQs90Rp.json",Bhe="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/en-ZZ-CzxtQ1Cz.json",Uhe="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/en-pseudo-D09TVcC4.json",Hhe="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/en-CBQs90Rp.json",zhe="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/es-Bi0opuOm.json",Whe="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/fi-FI-qmoLdVzC.json",Ghe="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/fr-FR-DKPPpvfv.json",qhe="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/hu-HU-Bm_K17yD.json",Yhe="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/it-IT-Czk6WFDh.json",Khe="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/ja-JP-DrRmZdiE.json",Xhe="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/ko-KR-CZb3-QoT.json",Jhe="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/nb-NO-D69jspH7.json",Zhe="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/nl-NL-sqGBsiLJ.json",Qhe="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/pl-PL-PjT9er4b.json",ege="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/pt-BR-DwDTZYZ2.json",tge="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/ru-RU-DMO6dHxi.json",nge="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/sv-SE-Cs_3lPLH.json",rge="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/tr-TR-BuMGxa4Y.json",oge="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/xx-535vXUlS.json",age="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/zh-CN-CmkYKJVh.json",sge="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/zh-TW-CoXA1Vzy.json",ige=["en-GB","en-US","de-DE","cs-CZ","ko-KR","pt-BR","fr-FR","es-ES","it-IT","ja-JP","nl-NL","nb-NO","da-DK","sv-SE","fi-FI","ru-RU","pl-PL","tr-TR","hu-HU","zh-CN","zh-TW","en-pseudo","xx","en","en-ZZ"],lge={"en-GB":jhe,"en-US":Vhe,"de-DE":Fhe,"cs-CZ":Lhe,"ko-KR":Xhe,"pt-BR":ege,"fr-FR":Ghe,"es-ES":zhe,"it-IT":Yhe,"ja-JP":Khe,"nl-NL":Zhe,"nb-NO":Jhe,"da-DK":Nhe,"sv-SE":nge,"fi-FI":Whe,"ru-RU":tge,"pl-PL":Qhe,"tr-TR":rge,"hu-HU":qhe,"zh-CN":age,"zh-TW":sge,"en-pseudo":Uhe,xx:oge,en:Hhe,"en-ZZ":Bhe},cge=e=>{const t=dge(e)?e:"en-US";return lge[t]};function dge(e){return ige.includes(e)}const uge=async e=>{const t=cge(e);return await fetch(t).then(n=>n.json())};function fge(e){return Object.entries(e).map(async([t,n])=>{const o=(await Promise.all(n.map(a=>a()))).reduce((a,s)=>({...a,...s.default}),{});return{key:t,messages:o}})}const sIt=e=>{const{children:t,locale:n}=e,[r,o]=c.useState(void 0);return c.useLayoutEffect(()=>{(async()=>{const a=uge(n).catch(i=>(i instanceof Error&&$r("Error loading product messages",i),{})),s=fge(Phe(n));try{const[i,...l]=await Promise.all([a,...s]);let d={};for(const{messages:f}of l)d={...f,...d};o({...d,...i});const u=kde();whe.intl=yF(nF({locale:n,messages:{...d,...i}},u))}catch(i){i instanceof Error&&$r("Error loading messages",i)}})()},[n]),r===void 0?null:h.jsx(rF,{locale:n,defaultLocale:Qj(),messages:r,defaultRichTextElements:{code:a=>h.jsx("code",{children:a}),br:()=>h.jsx("br",{}),strong:a=>h.jsx("strong",{children:a})},wrapRichTextChunksInFragment:!0,children:t})};var tV,kM=sr;tV=kM.createRoot,kM.hydrateRoot;function IM(e,{id:t=wt()}={}){if(e._orderlyFlagHandled)return;e._orderlyFlagHandled=!0;const n=e instanceof Rp?e.i18nId:void 0,r=e instanceof Rp?e.i18nVariables:void 0;tn.setMessage(n||e.message,{id:t,type:"error",i18nVariables:r,showCloseButton:!0}),wn(e)}function pge(e,t){try{const n=e();return Promise.resolve(n).catch(r=>{throw IM(r,t),r}),n}catch(n){throw n instanceof Error&&IM(n,t),n}}function fr(e,t){return(...n)=>(t!=null&&t.id&&tn.clearMessage(t.id),pge(()=>e(...n),t))}function De(e,t,n){const r=c.useMemo(()=>wt(),[]);return c.useCallback(fr(e,{id:r,...n}),t)}var nV={exports:{}},rV={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=c;function mge(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hge=typeof Object.is=="function"?Object.is:mge,gge=oh.useSyncExternalStore,vge=oh.useRef,bge=oh.useEffect,yge=oh.useMemo,Ege=oh.useDebugValue;rV.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var a=vge(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=yge(function(){function l(m){if(!d){if(d=!0,u=m,m=r(m),o!==void 0&&s.hasValue){var g=s.value;if(o(g,m))return f=g}return f=m}if(g=f,hge(u,m))return g;var v=r(m);return o!==void 0&&o(g,v)?g:(u=m,f=v)}var d=!1,u,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,o]);var i=gge(e,a[0],a[1]);return bge(function(){s.hasValue=!0,s.value=i},[i]),Ege(i),i};nV.exports=rV;var wge=nV.exports;const Cge={selectedEntireFields:[],selectedEntireEntries:[],selectedValues:[],focusedItem:void 0,softSelectEnabled:!1,hoverDeleteButton:null,firstSelectedValue:null},ar=iN({name:"cellSelections",initialState:Cge,reducers:{selectFields:(e,t)=>{const{fieldIds:n,clear:r,focusFieldId:o,clearSelectedValues:a=!0}=t.payload;e.selectedEntireEntries=[],a&&(e.selectedValues=[]),e.selectedEntireFields=r?n:rM(e.selectedEntireFields,n),e.focusedItem=o!=null?{type:"field",fieldId:o}:o},deselectFields:(e,t)=>{const{fieldIds:n,focusFieldId:r}=t.payload;oM(e.selectedEntireFields,n),e.focusedItem=r!=null?{type:"field",fieldId:r}:void 0},selectEntries:(e,t)=>{const{entryIds:n,clear:r,focusEntryId:o,clearSelectedValues:a=!0}=t.payload;e.selectedEntireFields=[],a&&(e.selectedValues=[]),e.selectedEntireEntries=r?n:rM(e.selectedEntireEntries,n),e.focusedItem=o!=null?{type:"entry",entryId:o}:void 0},deselectEntries:(e,t)=>{const{entryIds:n,focusEntryId:r}=t.payload;oM(e.selectedEntireEntries,n),e.focusedItem=r!=null?{type:"entry",entryId:r}:void 0},selectValues:(e,t)=>{const{clear:n,values:r,focusValue:o}=t.payload;e.selectedEntireFields=[],e.selectedEntireEntries=[],e.selectedValues=n?r:wue(e.selectedValues,r,(a,s)=>a.fieldId===s.fieldId&&a.entryId===s.entryId),e.focusedItem=o&&{...o,type:"value"}},deselectValues:(e,t)=>{const{values:n,focusValue:r}=t.payload;Cue(e.selectedValues,n,(o,a)=>o.fieldId===a.fieldId&&o.entryId===a.entryId),e.focusedItem=r&&{...r,type:"value"}},deselectAll:e=>{e.selectedEntireFields=[],e.selectedEntireEntries=[],e.selectedValues=[],e.focusedItem=void 0,e.firstSelectedValue=null},setSoftSelection:(e,t)=>{const{value:n}=t.payload;e.softSelectEnabled=n},setHoverDeleteButton:(e,t)=>{const{value:n}=t.payload;e.hoverDeleteButton=n},setFirstSelectedValue:(e,t)=>{const{value:n}=t.payload;e.firstSelectedValue=n}}});function jc(e,t){e.scopes[t]||(e.scopes[t]={draftedChangesets:{},savingChangeset:{},activeSaveOperations:{}})}const _ge={scopes:{},activeSaveOperations:{}},Bk=iN({name:"databaseUpdates",initialState:_ge,reducers:{addChangesToDraft:(e,t)=>{const{contentId:n,scope:r,changes:o,before:a}=t.payload;jc(e,r),a?e.scopes[r].draftedChangesets[n]=ws([],...o,...e.scopes[r].draftedChangesets[n]):e.scopes[r].draftedChangesets[n]=ws(e.scopes[r].draftedChangesets[n]||[],...o)},removeChangesFromDraft:(e,t)=>{const{contentId:n,scope:r,changes:o}=t.payload;jc(e,r),e.scopes[r].draftedChangesets[n]=e.scopes[r].draftedChangesets[n].filter(a=>!o.includes(a.type))},setDraftedChangeset:(e,t)=>{const{contentId:n,scope:r,changeset:o}=t.payload;jc(e,r),e.scopes[r].draftedChangesets[n]=o},setSavingChangeset:(e,t)=>{const{contentId:n,scope:r,changeset:o}=t.payload;jc(e,r),e.scopes[r].savingChangeset[n]=o},startSaveOperation:(e,t)=>{const{contentId:n,scope:r}=t.payload;e.activeSaveOperations[n]=(e.activeSaveOperations[n]??0)+1,r&&(jc(e,r),e.scopes[r].activeSaveOperations[n]=(e.scopes[r].activeSaveOperations[n]??0)+1)},endSaveOperation:(e,t)=>{const{contentId:n,scope:r}=t.payload;e.activeSaveOperations[n]=(e.activeSaveOperations[n]??0)-1,r&&(jc(e,r),e.scopes[r].activeSaveOperations[n]=(e.scopes[r].activeSaveOperations[n]??0)-1)}}}),xge={...xle,cellSelections:ar.reducer,changesets:Bk.reducer,connections:Aa.reducer},fe=oV();function Sge(e){let t=!1;return()=>{t||(t=!0,Ale(()=>{t=!1,e()}))}}function I2(e,t){const n=c.useContext(Ile);if(!n)throw new Error("could not find react-redux context value; please ensure the component is wrapped in a <Provider>");const r=wge.useSyncExternalStoreWithSelector(o=>n.subscription.addNestedSub(Sge(o)),n.store.getState,n.store.getState,(...o)=>e(...o),t);return c.useDebugValue(r),r}function oV(){return{useDispatch:Sle,useSelector:e=>I2(e),useEqualSelector:e=>I2(e,la),useShallowEqualSelector:e=>I2(e,Tle),useStore:kle}}function b1(e){const t=c.useRef([]),n=fe.useEqualSelector(d=>t.current.map(u=>u(d))),r=c.useMemo(()=>wt(),[]),o=c.useRef(0),[a,s]=c.useState(!1),i=fe.useStore(),l=c.useMemo(()=>{t.current=[];const d=t.current;return e({dispatch:fr(async(...u)=>{await Promise.resolve();const f=i.dispatch.apply(i,u);typeof f=="object"&&"then"in f&&(o.current++,Promise.resolve().then(()=>(s(!0),f)).finally(()=>{s(--o.current<=0)}))},{id:r}),selector:u=>(d.push(u),u(i.getState()))})},[e,r,n,i]);return{isDispatching:a,result:l}}const dd=Dle({reducer:{...xge},middleware:Ole()}),La=oV(),aV=7,Sn={emptyDatabase:"000001",databaseWithViewsOverflow:"000003",databaseWithSampleCsvStructure:"000004",databaseWithSampleCsvStructureWithUgc:"000005",databaseWithContent:"000006",databaseForCopyAndPasteWithUserField:"000007",databaseWithBasicFields:"000008",databaseWithUserAndLinkField:"000009",databaseWithSelfReferenceEntryLinkField:"000010",databaseWithFilters:"000011",databaseViewOnly:"000012"},kge=(e,t)=>{if(e===ae.TEXT)return`text ${t}`;if(e===ae.USER)return[{_id:`user-${t}`,accountId:`user-${t}`,displayName:`User ${t}`}];if(e===ae.HYPERLINK)return[{url:"https://test.com"},{url:"https://test.com"}]},ah=(e,t)=>{const n={};let r=0;for(const o of e)n[o]={id:o,values:Object.fromEntries(t.filter(a=>a.type===ae.TEXT||a.type===ae.USER||a.type===ae.HYPERLINK).map(a=>{const s=[a.id,{type:a.type,id:r,value:kge(a.type,r)}];return r+=1,s}))};return n},Ige=()=>{const e=ma({contentId:Sn.databaseForCopyAndPasteWithUserField}),t=[...Array.from({length:3},(r,o)=>({...on(ae.TEXT),name:`Text Field ${o}`})),{...on(ae.USER),name:"User Field"}],n=ah(e.entries,t);return{...e,fields:t.map(r=>r.id),fieldsById:Object.fromEntries(t.map(r=>[r.id,r])),entriesById:n,entries:Object.keys(n)}},Tge=()=>{const e=ma({contentId:Sn.databaseViewOnly}),t=[...Array.from({length:3},(r,o)=>({...on(ae.TEXT),name:`Text Field ${o}`}))],n=ah(e.entries,t);return{...e,fields:t.map(r=>r.id),fieldsById:Object.fromEntries(t.map(r=>[r.id,r])),entriesById:n,entries:Object.keys(n),operations:{delete:!1,updateEntries:!1,updateMetadata:!1}}},Age=()=>{const e=ma({contentId:Sn.databaseWithBasicFields}),t=[{color:"tealLight",id:"1",label:"Small"},{color:"yellowLight",id:"2",label:"Medium"},{color:"greenLight",id:"3",label:"Large"},{color:"tealLight",id:"4",label:"Extra Small"},{color:"greenLight",id:"5",label:"Extra Large"},{color:"redLight",id:"6",label:'"One-size-fits-all"'},{color:"purpleLight",id:"7",label:"No preference, any available"}],n=on(ae.SELECT),r=on(ae.SELECT),o=xk("databases-frontend-checkbox-field-type",!1),a=[{...on(ae.TEXT),name:"Text Field"},{...on(ae.ATTACHMENT),name:"Attachment Field"},{...on(ae.NUMBER),name:"Number Field"},{...on(ae.DATE),name:"Date Field"},{...n,name:"Tag Field",settings:{...n.settings,multi:!1,selectOptions:[...t,{color:"purpleLight",id:"8",label:"Other"},{color:"purpleLight",id:"9",label:"None"}]}},{...r,name:"Tag Field (multi)",settings:{...n.settings,multi:!0,selectOptions:t}},{...on(ae.USER),name:"User Field"},{...on(ae.HYPERLINK),name:"Link Field"},...o?[{...on(ae.CHECKBOX),name:"Checkbox Field"}]:[]];return{...e,fields:a.map(s=>s.id),fieldsById:Object.fromEntries(a.map(s=>[s.id,s]))}},Dge=()=>{const e=ma({contentId:Sn.databaseWithContent}),t=[...Array.from({length:3},(r,o)=>({...on(ae.TEXT),name:`Text Field ${o}`}))],n=ah(e.entries,t);return{...e,fields:t.map(r=>r.id),fieldsById:Object.fromEntries(t.map(r=>[r.id,r])),entriesById:n,entries:Object.keys(n)}},Oge=()=>{const e=ma({contentId:Sn.databaseWithFilters}),t=[...Array.from({length:3},(r,o)=>({...on(ae.TEXT),name:`Text Field ${o}`}))],n=ah(e.entries,t);return{...e,fields:t.map(r=>r.id),fieldsById:Object.fromEntries(t.map(r=>[r.id,r])),entriesById:n,entries:Object.keys(n),views:[{id:"0",name:"All entries",settings:{layout:{coverFieldId:"default",type:yt.TABLE,cardWidth:Da.MEDIUM,showNumberedEntries:!1,wrapAllText:!1},calculations:{},sorts:[]}},{id:"1",name:"View with filter",settings:{layout:{coverFieldId:"default",type:yt.TABLE,cardWidth:Da.MEDIUM,showNumberedEntries:!1,wrapAllText:!1},filter:{id:"filter-1",type:qe.AND,value:[{id:"filter-2",type:qe.CONTAINS,fieldId:t[0].id,not:!0,value:"text 3"}]},calculations:{},sorts:[]}},{id:"2",name:"View with sort",settings:{layout:{coverFieldId:"default",type:yt.TABLE,cardWidth:Da.MEDIUM,showNumberedEntries:!1,wrapAllText:!1},sort:{ascending:!1,fieldId:t[0].id},calculations:{},sorts:[{ascending:!1,fieldId:t[0].id}]}},{id:"3",name:"View with hidden fields",settings:{fields:{[t[0].id]:!0,[t[1].id]:!1,[t[2].id]:!0},layout:{coverFieldId:"default",type:yt.TABLE,cardWidth:Da.MEDIUM,showNumberedEntries:!1,wrapAllText:!1},calculations:{},sorts:[]}},{id:"4",name:"View with equals filter",settings:{layout:{coverFieldId:"default",type:yt.TABLE,cardWidth:Da.MEDIUM,showNumberedEntries:!1,wrapAllText:!1},filter:{id:"filter-3",type:qe.AND,value:[{id:"filter-4",type:qe.EQUALS,fieldId:t[0].id,value:{type:ae.TEXT,value:"text 3"}}]},calculations:{},sorts:[]}}]}},Mge=()=>{const e=ma({contentId:Sn.databaseWithSampleCsvStructure}),t=[...Array.from({length:aV},(n,r)=>({...on(ae.TEXT),name:`Text Field ${r}`}))];return{...e,fields:t.map(n=>n.id),fieldsById:Object.fromEntries(t.map(n=>[n.id,n]))}},$ge=(e,t)=>{const n={};for(const r of Object.values(e.entriesById))n[r.id]={id:r.id,values:Object.fromEntries(t.map(o=>[o.id,{type:"text",id:"1",value:"test"}]))};return n},Rge=()=>{const e=ma({contentId:Sn.databaseWithSampleCsvStructureWithUgc}),t=[...Array.from({length:aV},(r,o)=>({...on(ae.TEXT),name:`Text Field ${o}`}))],n=$ge(e,t);return{...e,fields:t.map(r=>r.id),fieldsById:Object.fromEntries(t.map(r=>[r.id,r])),entriesById:n,entries:Object.keys(n)}},Pge=()=>{const e=Sn.databaseWithSelfReferenceEntryLinkField,t=ma({contentId:e}),n=on(ae.ENTRY_LINK),r=[{...on(ae.TEXT),name:"Text Field"},{...n,name:"Entry Link Field",settings:{...n.settings,contentId:e}}];return{...t,fields:r.map(o=>o.id),fieldsById:Object.fromEntries(r.map(o=>[o.id,o]))}},Lge=()=>{const e=ma({contentId:Sn.databaseWithUserAndLinkField}),t=on(ae.HYPERLINK),n=[{...on(ae.USER),name:"User Field"},{...t,name:"Link Field",settings:{...t.settings,multi:!0}}],r=ah(e.entries,n);return{...e,fields:n.map(o=>o.id),fieldsById:Object.fromEntries(n.map(o=>[o.id,o])),entriesById:r,entries:Object.keys(r)}},Nge=["e427bf37-b92b-403d-91bf-71224e9cb4f0","08c16f24-3d8b-4217-885d-fd12adb0fa54","df283abc-c7c0-400e-9e48-f2e688963404","1a0e4fc1-7367-4dd3-9773-ae27a71a4190","5f5afa8a-5411-4eab-b8ba-bd3688dfb9a4"],Fge=()=>{const e=ma({contentId:Sn.databaseWithViewsOverflow}),t={};Object.values(e.fieldsById).forEach(r=>{t[r.id]=r.name!=="User field"});const n={...Pa,fields:{...t,default:!1}};return{...e,views:[...e.views,...Nge.map((r,o)=>({id:r,name:`View ${o+2}`,settings:o===2?n:Pa}))]}},jge=()=>ma({contentId:Sn.emptyDatabase}),Vge={emptyDatabase:{database:jge(),contentId:Sn.emptyDatabase},databaseWithViewsOverflow:{database:Fge(),contentId:Sn.databaseWithViewsOverflow},databaseWithSampleCsvStructure:{database:Mge(),contentId:Sn.databaseWithSampleCsvStructure},databaseWithSampleCsvStructureWithUgc:{database:Rge(),contentId:Sn.databaseWithSampleCsvStructureWithUgc},databaseWithContent:{database:Dge(),contentId:Sn.databaseWithContent},databaseForCopyAndPasteWithUserField:{database:Ige(),contentId:Sn.databaseForCopyAndPasteWithUserField},databaseWithBasicFields:{database:Age(),contentId:Sn.databaseWithBasicFields},databaseWithUserAndLinkField:{database:Lge(),contentId:Sn.databaseWithUserAndLinkField},databaseWithSelfReferenceEntryLinkField:{database:Pge(),contentId:Sn.databaseWithSelfReferenceEntryLinkField},databaseWithFilters:{database:Oge(),contentId:Sn.databaseWithFilters},databaseViewOnly:{database:Tge(),contentId:Sn.databaseViewOnly}},Bge="4d555e81-af99-4dfa-9073-db4e49df4f6e",Uge=(e,t)=>{iue({[e]:t}),p_.applyOverrides()},Hge=e=>{hv.data.dataSecurityPolicy={...hv.data.dataSecurityPolicy,pageExport:e}},zge=(e,t=!1)=>xk(e,t),Wge=async e=>{let t,n,r;if("json"in e)r=Mle.fromJSON(e.json,{getCurrentUser:()=>{throw new Error}}),n=e.contentId,t=$le({id:n,referenceId:"1234",space:{id:12345,key:"ABC",name:"ABC"},type:"database",title:"my database",...Vle},r,!1);else{let o="emptyDatabase";"databaseName"in e&&e.databaseName&&(o=e.databaseName);const a=Vge[o];t=a.database,n=t.contentId??a.contentId,r=Rle(t,Ple(dd.getState),{})}dd.dispatch(Lle(t)),dd.dispatch(Nle(n)),await dd.dispatch(Fle(n,1234,Bge,{},r)),sV.setContentId(n)},sV={reactAppIsReady:!1,setDatabase:Wge,setContentId:()=>{},getLogs:()=>EF(jle),setFlagOverride:Uge,getFlagValue:zge,getDatabaseJSON:e=>dd.getState().collab.byContentId[e].database.toJSON(),setPageExportStatus:Hge};window.databaseState=sV;var sh=(e=>(e.STANDALONE_DETAIL_LOAD="standalone-detail-load",e.STANDALONE_ENTRY_LOAD="standalone-entry-load",e.EMBED_REFERENCE_LOAD="embed-reference-load",e.EMBED_VALUE_LOAD="embed-value-load",e.EMBED_ENTRY_LOAD="embed-entry-load",e.EMBED_DETAIL_LOAD="embed-detail-load",e.MEAN_TEXT_VALUE_TYPING="mean-text-value-typing",e.MEAN_DATABASE_NAME_TYPING="mean-database-name-typing",e.MEAN_FIELD_NAME_TYPING="mean-field-name-typing",e))(sh||{});const Gge={[ye.ADD_ENTRY]:"database-change-add-entry",[ye.ADD_FIELD]:"database-change-add-field",[ye.SET_FIELD_SETTINGS_THOUSANDS_AND_DECIMAL_FIELD]:"database-change-set-field-settings-thousands-and-decimal-field",[ye.SET_FIELD_SETTINGS_NUMBER_FORMAT]:"database-change-set-field-settings-number-format",[ye.SET_FIELD_SETTINGS_MEDIA_FORMAT]:"database-change-set-field-settings-media-format",[ye.SET_FIELD_SETTINGS_MINIMUM_OR_MAXIMUM_FRACTION_DIGITS_FIELD]:"database-change-set-field-settings-minimum-or-maximum-fraction-digits-field",[ye.SET_FIELD_SETTINGS_SEPARATOR_FIELD]:"database-change-set-field-settings-separator-field",[ye.SET_FIELD_SETTINGS_PREFIX_OR_SUFFIX_FIELD]:"database-change-set-field-settings-prefix-or-suffix-field",[ye.SET_IS_CREATABLE]:"database-change-set-is-creatable",[ye.SET_IS_MULTI]:"database-change-set-is-multi",[ye.SET_ALLOW_EDIT]:"database-change-set-allow-edit",[ye.SET_DISPLAY_DETAIL]:"database-change-set-display-detail",[ye.SET_CONTENT_FIELD]:"database-change-set-content-field",[ye.SET_BACKLINK_DISPLAY_TYPE]:"database-change-set-backlink-display-type",[ye.SET_DATABASE_ID]:"database-change-set-database-id",[ye.SET_INCLUDE_VERSION_COMMENT]:"database-change-set-include-version-comment",[ye.SET_JIRA_FIELD]:"database-change-set-jira-field",[ye.SET_JIRA_SERVER_ID]:"database-change-set-jira-server-id",[ye.SET_CLOUD_ID]:"database-change-set-cloud-id",[ye.SET_RESOLVE]:"database-change-set-resolve",[ye.SET_ENTRY_FIELD_FIELD]:"database-change-set-entry-field-field",[ye.SET_PAGE_SUB_TYPE]:"database-change-set-page-sub-type",[ye.SET_PARENT_PAGE]:"database-change-set-parent-page",[ye.SET_PARENT_PAGE_OPTION]:"database-change-set-parent-page-option",[ye.SET_IS_PARENT_PAGE_SOURCE_DATABASE]:"database-change-set-is-parent-page-source-database",[ye.SET_PAGE_LOCATION]:"database-change-set-page-location",[ye.SET_PAGE_TEMPLATE]:"database-change-set-page-template",[ye.SET_DISPLAY_ENTRY_ON_PAGE]:"database-change-set-display-entry-on-page",[ye.SET_FIELD_ID]:"database-change-set-field-id",[ye.SET_SELECT_OPTIONS]:"database-change-set-select-options",[ye.SET_FIELD_NAME]:"database-change-set-field-name",[ye.SET_FIELD_DESCRIPTION]:"database-change-set-field-description",[ye.SET_SHOW_FIELD_DESCRIPTION]:"database-change-set-show-field-description",[ye.SET_FIELD_TYPE]:"database-change-set-field-type",[ye.SET_FIELD_WIDTH]:"database-change-set-field-width",[ye.REORDER_FIELD]:"database-change-reorder-field",[ye.CLONE_FIELDS]:"database-change-clone-fields",[ye.DELETE_FIELD]:"database-change-delete-field",[ye.SET_VALUE]:"database-change-set-value",[ye.CREATE_FIELD_AND_SET_VALUE]:"database-change-create-field-and-set-value",[ye.BULK_SET_UNDEFINED_VALUES]:"database-change-bulk-set-undefined-values",[ye.REORDER_ENTRIES]:"database-change-reorder-entries",[ye.CLONE_ENTRIES]:"database-change-clone-entries",[ye.DELETE_ENTRY]:"database-change-delete-entry",[ye.ADD_SAVED_VIEW]:"database-change-add-saved-view",[ye.SET_SAVED_VIEW]:"database-change-set-saved-view",[ye.DELETE_SAVED_VIEW]:"database-change-delete-saved-view",[ye.REORDER_SAVED_VIEW]:"database-change-reorder-saved-view",[ye.SET_DEFAULT_SAVED_VIEW]:"database-change-set-default-saved-view",[ye.UPDATE_SAVED_VIEW_LAYOUT_TYPE]:"database-change-update-saved-view-layout-type",[ye.UPDATE_SAVED_VIEW_LAYOUT_CARD_WIDTH]:"database-change-update-saved-view-layout-card-width",[ye.UPDATE_SAVED_VIEW_LAYOUT_COVER_FIELD_ID]:"database-change-update-saved-view-layout-cover-field-id",[ye.UPDATE_SAVED_VIEW_LAYOUT_GROUP_FIELD_ID]:"database-change-update-saved-view-layout-group-field-id",[ye.UPDATE_SAVED_VIEW_LAYOUT_DATE_FIELD_ID]:"database-change-update-saved-view-layout-date-field-id",[ye.UPDATE_SAVED_VIEW_NAME]:"database-change-update-saved-view-name",[ye.UPDATE_SAVED_VIEW_FIELDS]:"database-change-update-saved-view-fields",[ye.UPDATE_SAVED_VIEW_SORT]:"database-change-update-saved-view-sort",[ye.SET_SAVED_VIEW_FILTER]:"database-change-set-saved-view-filter",[ye.SET_SAVED_VIEW_FILTER_USAGE_TYPE]:"database-change-set-saved-view-filter-usage-type",[ye.SET_SAVED_VIEW_FILTER_FIELD_ID]:"database-change-set-saved-view-filter-field-id",[ye.SET_SAVED_VIEW_FILTER_TYPE]:"database-change-set-saved-view-filter-type",[ye.SET_SAVED_VIEW_FILTER_VALUE]:"database-change-set-saved-view-filter-value",[ye.APPEND_SAVED_VIEW_FILTER]:"database-change-append-saved-view-filter",[ye.SET_SAVED_VIEW_CALCULATIONS]:"database-change-set-saved-view-calculations",[ye.REMOVE_SAVED_VIEW_CALCULATION]:"database-change-remove-saved-view-calculation",[ye.REMOVE_SAVED_VIEW_FILTER]:"database-change-remove-saved-view-filter",[ye.CLEAR_SAVED_VIEW_FILTER]:"database-change-clear_saved_view_filter",[ye.BULK_APPLY_SAVED_VIEW_CHANGES]:"database-change-bulk-apply-saved-view-changes",[ye.TOGGLE_LOCK_STRUCTURE]:"database-change-toggle-lock-structure",[ye.CLEAR_ENTRIES]:"database-change-clear-entries",[ye.SET_DEFAULT_ENABLED]:"database-change-set-default-enabled",[ye.UPDATE_SAVED_VIEW_LAYOUT_SHOW_NUMBERED_ENTRIES]:"database-change-update-saved-view-layout-show-numbered-entries",[ye.UPDATE_SAVED_VIEW_LAYOUT_WRAP_ALL_TEXT]:"database-change-update-saved-view-layout-wrap-all-text",[ye.SET_MENTION_NOTIFICATION_ENABLED]:"database-change-set-mention-notification-enabled",[ye.ADD_VALUE_COMMENT_THREAD]:"database-change-add-value-comment-thread-id",[ye.REMOVE_VALUE_COMMENT_THREAD]:"database-change-remove-value-comment-thread-id",[ye.SET_VALUE_COMMENT_THREAD]:"database-change-set-value-comment-thread",[ye.SET_VALUE_COMMENT_THREAD_RESOLVED]:"database-change-set-value-comment-thread-resolved",[ye.SET_VALUE_COMMENT_THREAD_COMMENT_COUNT]:"database-change-set-value-comment-thread-comment-count",[ye.INCREMENT_VALUE_COMMENT_THREAD_COMMENT_COUNT]:"database-change-increment-value-comment-thread-comment-count",[ye.DECREMENT_VALUE_COMMENT_THREAD_COMMENT_COUNT]:"database-change-decrement-value-comment-thread-comment-count",[ye.INCREMENT_VALUE_COMMENT_THREAD_VERSION_NUMBER]:"database-change-increment-value-comment-thread-version-number",[ye.INSERT_SAVED_VIEW_SORT]:"database-change-insert-saved-view-sort",[ye.APPEND_SAVED_VIEW_SORT]:"database-change-append-saved-view-sort",[ye.DELETE_SAVED_VIEW_SORT]:"database-change-delete-saved-view-sort",[ye.REORDER_SAVED_VIEW_SORT]:"database-change-reorder-saved-view-sort",[ye.CLEAR_SAVED_VIEW_SORT]:"database-change-clear-saved-view-sort",[ye.UPDATE_SAVED_VIEW_SORT_VALUE]:"database-change-update-saved-view-sort-value",[ye.SET_DATE_FIELD_DATE_FORMAT]:"database-change-set-date-field-date-format",[ye.SET_DATE_FIELD_TIME_FORMAT]:"database-change-set-date-field-time-format",[ye.SET_DATE_FIELD_ENABLE_DATE_RANGE]:"database-change-set-date-field-enable-date-range"},qge=Object.entries(Gge).reduce((e,[t,n])=>(n&&(e[t]=new Gb(n,{type:qb.Operation,performanceType:Yb.InlineResult})),e),{}),iIt=new Gb("database-apply-template",{type:qb.Experience,performanceType:Yb.InlineResult}),qr=new Gb("database-paste-content",{type:qb.Experience,performanceType:Yb.InlineResult});Ble(()=>{});Ule(async e=>{for(const[t,n]of Object.entries(e)){const r=qge[t];if(!r)return;await r.transition(Ni.STARTED,0),r.addMetadata(n),await r.transition(Ni.SUCCEEDED,n.avg)}});let Ud=function(e){return e.LOCAL="local",e.DEV="dev",e.STAGING="staging",e.PROD="prod",e}({}),_n=function(e){return e.TRACK="track",e.UI="ui",e.OPERATIONAL="operational",e.SCREEN="screen",e.IDENTIFY="identify",e}({}),Na=function(e){return e.MAC="mac",e.LINUX="linux",e.WINDOWS="windows",e.DESKTOP="desktop",e.WEB="web",e.MOBILE_WEB="mobileWeb",e}({}),ud=function(e){return e.DESKTOP="desktop",e.WEB="web",e}({}),Sd=function(e){return e.CLOUD_ID="cloudId",e.ORG_ID="orgId",e.OPSGENIE_CUSTOMER_ID="opsgenieCustomerId",e.HALP_TEAM_ID="halpTeamId",e.TRANSACTION_ACCOUNT_ID="transactionAccountId",e.TRELLO_WORKSPACE_ID="trelloWorkspaceId",e.NONE="none",e}({}),y_=function(e){return e.ATLASSIAN_ACCOUNT="atlassianAccount",e.HASHED_EMAIL="hashedEmail",e.TRELLO="trello",e.OPSGENIE="opsgenie",e.HALP="halp",e}({}),uf=function(e){return e.TRANSITION="transition",e.INITIAL_LOAD="initialLoad",e}({});const Yge=Object.freeze([Na.DESKTOP,Na.MAC,Na.LINUX,Na.WINDOWS]),Kge=Object.freeze([Na.WEB,Na.MOBILE_WEB]);let iV=function(e){return e.ATL_ORIGIN="atlOrigin",e}({});function ms(e){return Object.values(e)}function ra(e,t){return Object.values(e).indexOf(t)>-1}let E_=function(e){return e.C5="c5",e.COMMERCIAL="commercial",e.FEDRAMP_MODERATE="fedramp-moderate",e.FEDRAMP_HIGH="fedramp-high",e}({}),TM=function(e){return e}({}),AM=function(e){return e.TRANSACTION_ACCOUNT_ID="transactionAccountId",e}({});class lV{constructor(){q(this,"_bindEventListeners",()=>{document.addEventListener(this._visibilityChange,this._handleVisibilityChange,!1)}),q(this,"_handleVisibilityChange",()=>{const t=document[this._hidden];this._isHidden=t,this._callbacks.forEach(n=>n(t))}),this._isHidden=!1,this._callbacks=new Map,this._hidden=void 0,this._visibilityChange=void 0,typeof document<"u"&&(typeof document.hidden<"u"?(this._isHidden=document.hidden,this._hidden="hidden",this._visibilityChange="visibilitychange"):typeof document.msHidden<"u"?(this._isHidden=document.msHidden,this._hidden="msHidden",this._visibilityChange="msvisibilitychange"):typeof document.webkitHidden<"u"&&(this._isHidden=document.webkitHidden,this._hidden="webkitHidden",this._visibilityChange="webkitvisibilitychange"),typeof document.addEventListener<"u"&&this._hidden!==void 0&&this._bindEventListeners())}addCallback(t,n){if(typeof t!="string")throw new Error("Invalid name, must be string");if(typeof n!="function")throw new Error("Invalid callback, must be function");this._callbacks.set(t,n)}removeCallback(t){this._callbacks.has(t)&&this._callbacks.delete(t)}getIsHidden(){return this._isHidden}}class Xge{constructor(){this._performance=window.performance}clearMarks(...t){!this._performance||!this._performance.clearMarks||this._performance.clearMarks(...t)}mark(...t){!this._performance||!this._performance.mark||this._performance.mark(...t)}getEntriesByName(...t){return!this._performance||!this._performance.getEntriesByName?[]:this._performance.getEntriesByName(...t)}getTimeOrigin(){return!this._performance||!this._performance.timeOrigin&&!this._performance.timing?0:this._performance.timeOrigin||this._performance.timing.navigationStart}now(){return!this._performance||!this._performance.now?Date.now?Date.now():+new Date:this._performance.now()}isAvailable(){return!!this._performance&&!!this._performance.clearMarks&&!!this._performance.mark&&!!this._performance.getEntriesByName&&!!this._performance.timing}}function DM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(n),!0).forEach(function(r){q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}class Jge{constructor(t,n){if(q(this,"_getEventKey",({task:r,taskId:o})=>o?`${r}.${o}`:r),q(this,"_getEventTimingByName",r=>{const o=this._performance.getEntriesByName(r);return o[o.length-1]}),q(this,"_getApdexFields",r=>{const o=this._getApdexTimings(r),a=this._calculateApdex({duration:o.duration,threshold:r.threshold});return ll(ll({},o),{},{apdex:a})}),q(this,"_getApdexTimings",r=>{const o=this._getEventKey(r),a=`${o}-start`,s=r.startTime||this._getStartTime(r,a),i=r.stopTime||this._getStopTime();return this._cleanApdexState(o),{startTime:s,stopTime:i,duration:i-s}}),q(this,"_getStartTime",(r,o)=>{let a;const s=this._performance.getTimeOrigin();if(r.type===uf.INITIAL_LOAD)a=s;else{const i=this._getEventTimingByName(o);a=s+i.startTime}return a}),q(this,"_getStopTime",()=>this._performance.getTimeOrigin()+this._performance.now()),q(this,"_cleanApdexState",r=>{this._performance.clearMarks(`${r}-start`),this._performance.clearMarks(`${r}-stop`),this._startedEvents.delete(r)}),q(this,"_getVisibilityFields",r=>{let o;if(r.type===uf.INITIAL_LOAD)o=!this._wasPreviouslyHidden;else if(r.type===uf.TRANSITION){const a=this._getEventKey(r);o=this._isActiveEvents.get(a)}return(r.startTime||r.stopTime)&&(o=!this._pageVisibility.getIsHidden()),{isActiveTab:o}}),q(this,"_calculateApdex",({duration:r,threshold:o=this._threshold})=>{let a;const s=o,i=o*4;return r<=s?a=1:r<=i?a=.5:a=0,a}),q(this,"_validateStartEvent",r=>{if(!r)throw new Error('Missing "event" in Apdex start event');if(!r.task)throw new Error('Missing "task" in Apdex start event');if(typeof r.task!="string")throw new Error('Invalid "task" in Apdex start event');if(r.taskId&&typeof r.taskId!="string")throw new Error('Invalid "taskId" in Apdex start event')}),q(this,"_validateStopEvent",r=>{if(!r)throw new Error('Missing "event" in Apdex stop event');if(!r.task)throw new Error('Missing "task" in Apdex stop event');if(typeof r.task!="string")throw new Error('Invalid "task" in Apdex stop event');if(r.taskId&&typeof r.taskId!="string")throw new Error('Invalid "taskId" in Apdex stop event');if(!r.type)throw new Error('Missing "type" in Apdex stop event');if(r.type&&!ra(uf,r.type))throw new Error('Invalid "type" in Apdex stop event');if(r.threshold&&typeof r.threshold!="number")throw new Error('Invalid "threshold" in Apdex stop event');if(!r.startTime&&r.type===uf.TRANSITION){const o=this._getEventKey(r);if(!this._startedEvents.has(o))throw new Error(`Apdex event transition "${o}" was not started`)}if(r.startTime&&!(typeof r.startTime=="number"&&r.startTime>=0))throw new Error('Invalid "startTime" in Apdex stop event');if(r.stopTime&&typeof r.stopTime!="number")throw new Error('Invalid "stopTime" in Apdex stop event');if(r.stopTime<=r.startTime)throw new Error('"stopTime" should be greater than "startTime" in Apdex stop event')}),q(this,"_shouldSendEvent",r=>!(!r||typeof r.apdex!="number")),q(this,"_sendEvent",(r,o)=>{this._shouldSendEvent(r)&&this._onEvent({source:"ui",action:"readyForUser",actionSubject:"ui",attributes:ll(ll({},r.additionalAttributes),{},{task:r.task,taskId:r.taskId,type:r.type,threshold:r.threshold||this._threshold,apdex:r.apdex,startTime:r.startTime,stopTime:r.stopTime,duration:r.duration,isActiveTab:r.isActiveTab})},o)}),!t)throw new Error("Missing onEvent callback");if(typeof t!="function")throw new Error("Invalid onEvent, must be function");if(!(n instanceof lV))throw new Error("Invalid pageVisibility, must be PageVisibility class");this._startedEvents=new Map,this._performance=new Xge,this._onEvent=t,this._threshold=1e3,this._wasPreviouslyHidden=n.getIsHidden(),this._isActiveEvents=new Map,this._pageVisibility=n,this._pageVisibility.addCallback("apdexEvent",r=>{this.onVisibilityChange(!r)})}start(t){if(this._validateStartEvent(t),!this._performance.isAvailable())return;const n=this._getEventKey(t),r=`${n}-start`;this._startedEvents.set(n,!0),this._isActiveEvents.set(n,!this._pageVisibility.getIsHidden()),this._performance.clearMarks(r),this._performance.mark(r)}getStart(t){if(this._validateStartEvent(t),!this._performance.isAvailable())return;const r=`${this._getEventKey(t)}-start`;return this._getEventTimingByName(r)}stop(t,n){if(this._validateStopEvent(t),!this._performance.isAvailable())return;const r=this._getApdexFields(t),o=this._getVisibilityFields(t);this._sendEvent(ll(ll(ll({},t),r),o),n)}onVisibilityChange(t){t||(this._wasPreviouslyHidden=!0,Array.from(this._isActiveEvents.keys()).forEach(n=>this._isActiveEvents.set(n,!1)))}}const Zge=e=>typeof e=="function",OM=(e,t)=>()=>{if(Zge(e))try{return e()}catch(n){console.error(`${t} - ${n instanceof Error?n.message:String(n)}`);return}return e};function Qge(e){return e!==null&&typeof e=="object"&&Array.isArray(e)===!1}function MM(e){return Qge(e)===!0&&Object.prototype.toString.call(e)==="[object Object]"}function cV(e){if(MM(e)===!1)return!1;const t=e.constructor;if(typeof t!="function")return!1;const n=t.prototype;return!(MM(n)===!1||!("isPrototypeOf"in n))}function $M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$M(Object(n),!0).forEach(function(r){q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const e0e="4.21.0";function dV(e){return{tenantIdType:e.tenantIdType,tenantId:e.tenantId}}function uV(e){return{userIdType:e.userIdType}}function fV(e){return{orgId:e.orgId}}function pV(e){return{workspaceId:e.workspaceId}}function mV(e){if(y1(e))return{aliases:e}}function hV(e){if(y1(e))return{groups:e}}function gV(e){return e.anonymousId?{anonymousId:e.anonymousId}:{}}function Vc(e,t){return t===void 0?e:t}function vV(e,t){const n=t||{},r=Vc(e.env,n.env),o=Vc(e.product,n.product),a=Vc(e.subproduct(),n.subproduct),s=Vc(e.version,n.version),i=Vc(e.origin,n.origin),l=Vc(e.platform,n.platform);return{env:r,product:o,subproduct:a,version:s,origin:i,platform:l}}function y1(e){return cV(e)&&Object.keys(e).length>0}function Uk(e,t){return y1(t)?{[e]:t}:void 0}function t0e(e){return Uk("attributes",e)}function n0e(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];t[n]={id:r.id,type:r.type}}),t}function bV(e){if(y1(e)){const t=n0e(e);return Uk("containers",t)}}function yV(e,t){return xn({containerType:e.containerType,containerId:e.containerId,source:e.source,objectType:e.objectType,objectId:e.objectId,actionSubject:e.actionSubject,action:e.action,actionSubjectId:e.actionSubjectId,attributes:e.attributes,nonPrivacySafeAttributes:e.nonPrivacySafeAttributes,tags:e.tags,highPriority:e.highPriority,eventType:t},bV(e.containers))}function r0e(e){return Uk("nonPrivacySafeAttributes",e)}function o0e(e,t,n,r,o,a,s,i,l,d,u,f,p,m,g,v){const b=vV(e),y=dV(t),E=uV(n),w=fV(d),C=pV(f),x={title:"",path:"",url:"",referrer:"",search:"",eventType:_n.SCREEN};return xn(xn(xn(xn(xn(xn(xn(xn(xn(xn(xn(xn({},b),y),E),w),x),t0e(r)),r0e(o)),bV(m)),gV(p)),{},{tags:a,tabId:s,sessionId:i,taskSessions:l,pageLoadId:u},C),mV(g)),hV(v))}function F0(e){return`${e.actionSubject} ${e.action}`}function a0e(e){const t=window.screen||{};return{context:{locale:e.locale,screen:{width:t.width,height:t.height,density:window.devicePixelRatio},library:{name:"analytics.js",version:e0e}}}}function s0e(e){const{env:t,product:n,subproduct:r,version:o,origin:a,platform:s}=e;return{env:t,product:n,subproduct:r,version:o,origin:a,platform:s}}function T2(e,t,n,r,o,a,s,i,l,d,u,f,p){const m=vV(e,s0e(r)),g=dV(t),v=fV(l),b=pV(u),y=uV(n),E=yV(r,o);return xn(xn(xn(xn(xn(xn(xn(xn(xn({},m),g),v),y),E),gV(r)),{},{tabId:a,sessionId:s,taskSessions:i,pageLoadId:d},b),mV(f)),hV(p))}const i0e=Object.freeze([_n.OPERATIONAL,_n.TRACK,_n.UI]);function l0e(e){if(!cV(e))throw new Error("properties.containers must be an Object");if(!("id"in e))throw new Error("properties.containers is missing field 'id'");if(typeof e.id!="string")throw new Error("properties.containers.id must be of type String");if("type"in e&&typeof e.type!="string")throw new Error("properties.containers.type must be of type String")}function EV(e){if(e){if(e&&e.constructor!==Object)throw new Error("properties.containers must be an Object");Object.values(e).forEach(t=>l0e(t))}}function wV(e){switch(e){case _n.OPERATIONAL:case _n.TRACK:case _n.UI:return!0;default:return!1}}function c0e(e){if(!wV(e))throw new Error(`Invalid action event type: ${e}, must be one of: [${i0e}]`);return!0}function E1(e){if(!e)throw new Error("Missing event");if(!e.source)throw new Error("Missing event.source");if(!e.actionSubject)throw new Error("Missing event.actionSubject");if(!e.action)throw new Error("Missing event.action");EV(e.containers)}function d0e(e){if(!e)throw new Error("Missing name")}function u0e(e){E1(e)}function f0e(e){E1(e)}function p0e(e){E1(e)}function m0e(e,t){if(!e)throw new Error("Missing userIdType");if(!t)throw new Error("Missing userId");if(!ra(y_,e))throw new Error(`Invalid userIdType '${e}', must be an userType: [${ms(y_)}]`)}function h0e(e){if(!ra(Na,e.platform))throw new Error(`Invalid productInfo.platform '${e.platform}', must be a platformType: [${ms(Na)}]`);if(e.origin===ud.DESKTOP&&!ra(Yge,e.platform))throw new Error(`Invalid productInfo.platform '${e.platform}', must be one of [mac, linux, windows]`);if(e.origin===ud.WEB&&!ra(Kge,e.platform))throw new Error(`Invalid productInfo.platform '${e.platform}', must be one of [web, mobileWeb]`)}const RM=(e,t)=>Object.keys(e).reduce((n,r)=>{const o=t(e[r],r,e);return n[o]=e[r],n},{}),g0e=(e,t)=>t.reduce((n,r)=>(r in e&&(n[r]=e[r]),n),{}),v0e=(e,t)=>Object.keys(e).filter(n=>!t(e[n],n)).reduce((n,r)=>(n[r]=e[r],n),{}),b0e=(e,t)=>Object.keys(e).filter(n=>t(e[n],n)).reduce((n,r)=>(n[r]=e[r],n),{}),CV=(e,t)=>Object.keys(e).filter(n=>t.indexOf(n)<0).reduce((n,r)=>(n[r]=e[r],n),{}),_v=(e,t)=>{if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!e||!t||typeof e!="object"&&typeof t!="object")return e===t;if(e.prototype!==t.prototype)return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(r=>_v(e[r],t[r]))},_V=(e,t)=>e.reduce((n,r,o,a)=>(n[t(r,o,a)?0:1].push(r),n),[[],[]]);class y0e{constructor(t,n){if(q(this,"canCompress",r=>{try{return r&&wV(r.eventType)&&this.predicate(r)}catch{return!1}}),q(this,"compress",r=>{const[o,a]=_V(r,i=>this.canCompress(i)),s=this.compressFn(o);if(!s)throw new Error("No events were returned from the compression function");return s.forEach(i=>{c0e(i.eventType),E1(i)}),s.concat(a)}),typeof t!="function")throw new Error("Invalid predicate, must be a function that accepts an event and returns a boolean");if(typeof n!="function")throw new Error("Invalid compressFn, must be a function that both accepts and returns an array of events");this.predicate=t,this.compressFn=n}}const E0e=1e4,PM=3e4;function LM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function NM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(n),!0).forEach(function(r){q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}class w0e{constructor(t=[]){if(q(this,"canCompress",n=>this.compressionRules.some(r=>r.canCompress(n))),q(this,"compress",n=>this.createGroups(n).reduce((o,a)=>{const s=this.compressGroup(a);return o.concat(s)},[])),q(this,"createGroups",n=>n.reduce((r,o)=>{const a=this.compressionRules.find(l=>l.canCompress(o));let s;if(a){const l=yV(o,o.eventType);s=CV(o,Object.keys(l))}const i=r.find(l=>a===l.compressor&&_v(s,l.contextFields));return i?i.events.push(o):r.push({contextFields:s,compressor:a,events:[o]}),r},[])),q(this,"compressGroup",n=>{if(!n.compressor)return n.events;try{return n.compressor.compress(n.events).map(o=>NM(NM({},o),n.contextFields))}catch(r){return console.warn(`Failed to compress some analytics events. Error: ${r.message}. Sending ${n.events.length} uncompressed events instead`),n.events}}),!Array.isArray(t))throw new Error("Event compressors must be constructed with an array of CompressionRules");if(!t.every(n=>n instanceof y0e))throw new Error("Event compressors can only be constructed with instances of CompressionRule");this.compressionRules=t}}const C0e=7,_0e=100;class x0e{constructor(t,n){q(this,"push",(r,o,a,s)=>{this.eventArgs.push({identifier:r,builtEvent:o,context:a,userInfo:s})}),q(this,"size",()=>this.eventArgs.length),q(this,"startFlush",()=>{try{this.eventArgs=this.compressEventArgs(this.eventArgs)}catch(r){console.warn(`Failed to perform compression on the delayed analytics events. Error: ${r.message}. Sending ${this.eventArgs.length} uncompressed events instead`)}this.flushNextBatch()}),q(this,"cancelFlush",()=>{this.flushBatchTimeout&&(clearTimeout(this.flushBatchTimeout),this.flushBatchTimeout=null)}),q(this,"flushNextBatch",()=>{this.eventArgs.splice(0,C0e).forEach(o=>this.processFn(o.identifier,o.builtEvent,o.context,o.userInfo)),this.eventArgs.length>0?this.flushBatchTimeout=setTimeout(()=>this.flushNextBatch(),_0e):this.flushBatchTimeout=null}),q(this,"compressEventArgs",r=>{const[o,a]=_V(r,l=>this.compressor.canCompress(l.builtEvent)),i=o.reduce((l,d)=>{const u=l.find(f=>_v(f.userInfo,d.userInfo)&&_v(f.context,d.context));return u?u.eventArgs.push(d):l.push({userInfo:d.userInfo,context:d.context,eventArgs:[d]}),l},[]).reduce((l,d)=>{try{const u=d.eventArgs.map(m=>m.builtEvent),p=this.compressor.compress(u).map(m=>({identifier:F0(m),builtEvent:m,userInfo:d.userInfo,context:d.context}));return l.concat(p)}catch(u){return console.warn(`Failed to compress some analytics events. Error: ${u.message}. Sending ${d.eventArgs.length} uncompressed events instead`),d.eventArgs}},[]);return a.forEach(l=>i.push(l)),i}),this.processFn=t,this.flushBatchTimeout=null,this.eventArgs=[],this.compressor=new w0e(n)}}let FM=function(e){return e.TIMEOUT="timeout",e.MANUAL="manual",e}({});class S0e{constructor(t,n){q(this,"push",(r,o,a,s)=>{this.delayQueue.push(r,o,a,s)}),q(this,"startLowPriorityEventDelay",(r=E0e,o)=>{if(Number.isNaN(r)||r<=0)throw new Error(`Invalid timeout period: ${r}, must be a number greater than 0`);this.delayTimeout&&clearTimeout(this.delayTimeout);const a=r?Math.min(r,PM):PM;this.delayCallback=o,this.delayTimeout=setTimeout(()=>this.stopLowPriorityEventDelay(FM.TIMEOUT),a),this.delayQueue.cancelFlush(),this.isDelaying=!0}),q(this,"stopLowPriorityEventDelay",(r=FM.MANUAL)=>{var o;this.delayTimeout&&(clearTimeout(this.delayTimeout),this.delayTimeout=void 0),this.delayQueue.startFlush(),this.isDelaying=!1,(o=this.delayCallback)===null||o===void 0||o.call(this,r),this.delayCallback=void 0}),q(this,"isDelayingLowPriorityEvents",()=>this.isDelaying),this.isDelaying=!1,this.delayQueue=new x0e(t,n)}}let co=function(e){return e.IN_PROGRESS="inProgress",e.QUEUE="queue",e.RECLAIM_START="reclaimStart",e.RECLAIM_END="reclaimEnd",e.ACK="ack",e}({}),jf=function(e){return e[e.RECLAIM_TIMEOUT=1e4]="RECLAIM_TIMEOUT",e[e.RECLAIM_WAIT=500]="RECLAIM_WAIT",e[e.RECLAIM_WAIT_THRESHOLD=2e3]="RECLAIM_WAIT_THRESHOLD",e}({});const xV=(e,t)=>({[co.ACK]:`${e}.${t}.${co.ACK}`,[co.QUEUE]:`${e}.${t}.${co.QUEUE}`,[co.IN_PROGRESS]:`${e}.${t}.${co.IN_PROGRESS}`,[co.RECLAIM_START]:`${e}.${t}.${co.RECLAIM_START}`,[co.RECLAIM_END]:`${e}.${t}.${co.RECLAIM_END}`});function jM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function VM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(n),!0).forEach(function(r){q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const BM=e=>new Promise(t=>{setTimeout(t,e)}),k0e=e=>{try{return Object.keys(localStorage).filter(t=>t.startsWith(e)).map(t=>t.split(".")).filter(t=>{if(t.length===3&&t[0]===e&&t[2]===co.ACK)try{const n=localStorage.getItem(t.join("."));if(n){const r=parseInt(n);return jf.RECLAIM_TIMEOUT+r<Date.now()}}catch{}return!1}).map(t=>t[1])}catch{}return[]},I0e=async(e,t)=>{const{ack:n,reclaimStart:r,reclaimEnd:o}=e.storageKeys,a=Date.now();if(localStorage.setItem(r,e.reclaimProcessId),localStorage.setItem(n,a.toString()),await BM(jf.RECLAIM_WAIT),Date.now()>a+jf.RECLAIM_WAIT_THRESHOLD||localStorage.getItem(r)!==e.reclaimProcessId)throw new Error("Took to long to callback, reclaim abandonded. After reclaimStart.");if(localStorage.setItem(o,e.reclaimProcessId),await BM(jf.RECLAIM_WAIT),Date.now()>a+jf.RECLAIM_WAIT_THRESHOLD||localStorage.getItem(r)!==e.reclaimProcessId||localStorage.getItem(o)!==e.reclaimProcessId)throw new Error("Took to long to callback, reclaim abandonded. After reclaimEnd.");return T0e(e,t)},T0e=async(e,t)=>{const{queue:n,inProgress:r}=e.storageKeys,o=JSON.parse(localStorage.getItem(n)||"[]"),a=JSON.parse(localStorage.getItem(r)||"{}"),s=Object.entries(a).map(([l,d])=>VM(VM({},d),{},{attemptNumber:d.attemptNumber+1,id:l})),i=[...o,...s];if(i.length>0){const l=await t(i);if(l.status==="successful")UM(e.storageKeys);else if(l.status==="partial"){const d=i.filter(u=>!l.acceptedItemIds.includes(u.id));return localStorage.removeItem(r),localStorage.setItem(n,JSON.stringify(d)),{fullReclaim:!1}}}else UM(e.storageKeys);return{fullReclaim:!0}},UM=e=>{localStorage.removeItem(e.queue),localStorage.removeItem(e.inProgress),localStorage.removeItem(e.reclaimEnd),localStorage.removeItem(e.reclaimStart),localStorage.removeItem(e.ack)},A0e=async(e,t)=>{if(typeof e!="string"||e.length===0)return{fullReclaims:0,partialReclaims:0,failedReclaims:0};const n=uc(),o=k0e(e).map(u=>I0e({queuePrefix:e,reclaimProcessId:n,storageKeys:xV(e,u)},t)),a=await Promise.allSettled(o),s=a.filter(u=>u.status==="rejected"),i=a.filter(u=>u.status==="fulfilled").map(u=>u.value),l=i.filter(u=>u.fullReclaim),d=i.filter(u=>!u.fullReclaim);return{failedReclaims:s.length,partialReclaims:d.length,fullReclaims:l.length}},D0e=Object.values(co),O0e=e=>{if(typeof e!="string"||e.length===0)return 0;try{const t=Object.keys(localStorage).filter(r=>r&&r.startsWith(`${e}.`)||!1).map(r=>r.split(".")).filter(r=>r.length===3&&D0e.includes(r[2])).reduce((r,o)=>{const[,a,s]=o;return r[a]===void 0&&(r[a]={}),r[a][s]=!0,r},{}),n=Object.keys(t).filter(r=>t[r][co.ACK]!==!0);return n.forEach(r=>{const{queue:o,inProgress:a,reclaimStart:s,reclaimEnd:i}=xV(e,r);localStorage.removeItem(a),localStorage.removeItem(o),localStorage.removeItem(s),localStorage.removeItem(i)}),n.length}catch{}return 0},w_="namespace-timeAdded",M0e="analytics-web-client",A2="analytics-resilience",Bg="timeToBeProcessedAfter",HM="timeAdded",zM="retryAttempts",$0e=15e3;let w1=function(e){return e.INDEXEDDB="indexeddb",e.MEMORY="memory",e}({}),qn=function(e){return e.IGNORE="ignore",e.ABANDON="abandon",e.EVICT="evict",e}({});const SV="AbandonWriteError";class C1 extends Error{constructor(t){super(`Event Limit reached. Abandoning write to: ${t}`),Object.setPrototypeOf(this,C1.prototype),this.name=SV}}const Hk="CallbackProcessingError";class _1 extends Error{constructor(t){const o=t&&typeof t=="object"&&"toString"in t&&typeof t.toString=="function"&&t.toString()||typeof t=="string"&&t||"Argument passed to CallbackProcessingError was not an Error or string.";super(`Error thrown while processing events in callback: ${o}`),Object.setPrototypeOf(this,_1.prototype),this.name=Hk}}const kV="InvalidPolicyError";class IV extends Error{constructor(t,n){super(`Method '${n}' cannot be called with policy '${t}'.`),this.name=kV}}const R0e="NoIndexedDbError";class kd extends Error{constructor(){super("window.indexeddb is undefined."),Object.setPrototypeOf(this,kd.prototype),this.name=R0e}}const C_=e=>{if(e&&typeof e=="object"&&"name"in e){const t=e;return typeof t.name=="string"&&(t.name===SV||t.name===Hk||t.name===kV)}return!1},Id=7,TV=60*1e3,P0e=10,L0e=5e3,xv=(e,t,{id:n,retryAttempts:r,timeToProcessOffset:o})=>({item:e,id:n||uc(),retryAttempts:r||0,timeToBeProcessedAfter:Date.now()+(o||0),namespace:t,timeAdded:Date.now()}),zk=e=>({logger:e.logger||console,useMemory:e.useMemory||!1,maxAttempts:e.maxAttempts||P0e,maxEventLimit:e.maxEventLimit||L0e}),Td=e=>new Promise((t,n)=>{e.onsuccess=r=>{t(r)},e.onerror=r=>{n(r)}}),N0e=e=>new Promise((t,n)=>{e.oncomplete=()=>{t()},e.onerror=r=>{n(r)},e.onabort=r=>{n(r)}}),j0=(e,t)=>{try{typeof e.commit=="function"&&e.commit()}catch(n){throw t.error("Failed to force commit transaction:",n),n}return N0e(e)},WM=(e,t)=>{e.onerror=n=>{t.warn("Error thrown from request:",n)}};class F0e{constructor(t,n,r,o){if(q(this,"deleteOldestNEvents",async(a,s)=>{var i;const l=a.index(w_),d=IDBKeyRange.bound([this.namespace,0],[this.namespace,Date.now()]),u=l.getAllKeys(d,s),f=await Td(u),p=f==null||(i=f.target)===null||i===void 0?void 0:i.result;if(p&&Array.isArray(p)&&p.length>0)try{const m=p.map(g=>this.deleteItemHandler(a,g));await Promise.all(m)}catch(m){throw this.logger.warn("Failed to delete items from indexeddb.",m),m}}),t>0)this.eventLimit=t;else throw Error("Event Limit has to be set higher than 1");this.namespace=n,this.logger=r,this.deleteItemHandler=o}async insertItems(t,n,r=qn.ABANDON){const o=[...n];let a=0;switch(r){case qn.ABANDON:await this.throwIfNotEnoughSpace(t,n.length);break;case qn.EVICT:a=await this.evictIfNotEnoughSpace(t,n.length);break;case qn.IGNORE:await this.calculateHowManyEventsWeCanAdd(t,o);break}const s=o.map(i=>Td(t.add(i)));return await Promise.all(s),await j0(t.transaction,this.logger),{items:o,numberOfEvictedItems:a}}async throwIfNotEnoughSpace(t,n){const r=await this.calculateFreeSpace(t);if(r<n)throw new C1(`Not enough space in IndexedDb. Needed ${n} but only had ${r}`)}async evictIfNotEnoughSpace(t,n){const r=await this.calculateFreeSpace(t);if(r<n){const o=n-r;return await this.deleteOldestNEvents(t,o),o}return 0}async calculateHowManyEventsWeCanAdd(t,n){const r=await this.calculateFreeSpace(t);if(r<n.length){const o=n.length-r,a=n.length-o;n.splice(a,o)}}async calculateFreeSpace(t){const n=await this.getCountofEventsInObjectStore(t);return this.eventLimit-n}async getCountofEventsInObjectStore(t){const n=t.index(w_),r=IDBKeyRange.bound([this.namespace,0],[this.namespace,Date.now()]),o=n.count(r);return(await Td(o)).target.result}}const j0e=["item"],V0e=["items"];function GM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function B0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GM(Object(n),!0).forEach(function(r){q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}class U0e{constructor(t,n={}){if(q(this,"startDB",async()=>new Promise(async(r,o)=>{if(typeof window<"u"){window.setTimeout(()=>{this.logger.warn("IndexedDB timed out."),o(new kd)},$0e);const a=window.indexedDB.open(M0e,1);a.onupgradeneeded=s=>{if(s.oldVersion!==0)throw new Error("We cannot upgrade the database. Do not do this.");const l=a.result.createObjectStore(A2,{keyPath:"id"});l.createIndex(Bg,Bg,{unique:!1}),l.createIndex(zM,zM,{unique:!1}),l.createIndex(HM,HM,{unique:!1}),l.createIndex(w_,["namespace","timeAdded"],{unique:!1})};try{return await Td(a),r(a.result)}catch(s){this.logger.warn("IndexedDB failed to initialise.",s),o(new kd)}}})),q(this,"addItem",async(r,o={},a=qn.ABANDON)=>{const{logger:s,namespace:i}=this,l=xv(r,i,o),{objectStore:d}=await this.getObjectStoreAndTransaction("readwrite");if(a===qn.IGNORE)throw new IV(a,"IndexedDbConnector#addItem");try{if(!l.namespace||l.namespace.length===0||typeof l.namespace!="string")throw new Error("Namespace not specified");const u=await this.globalEventLimitGuard.insertItems(d,[l],a);if(u.items.length===1)return{item:u.items[0],numberOfEvictedItems:u.numberOfEvictedItems};throw new Error(`Incorrect number of items added. Expected: 1, got: ${u.items.length}`)}catch(u){throw C_(u)?u:(s.log("Failed to add item to table",u),new Error("Request to add item to table failed"))}}),q(this,"bulkAddItem",async(r,o=qn.ABANDON)=>{const{logger:a,namespace:s}=this,i=r.map(d=>{let{item:u}=d,f=Bn(d,j0e);return xv(u,s,f)}),{objectStore:l}=await this.getObjectStoreAndTransaction("readwrite");try{return await this.globalEventLimitGuard.insertItems(l,i,o)}catch(d){throw C_(d)?d:(a.log("Failed to add item to table",d),new Error("Request to add item to table failed"))}}),q(this,"getItems",async(r=Id)=>{const o=r>0?r:Id,{logger:a}=this,s=this.options.maxAttempts,{transaction:i,objectStore:l}=await this.getObjectStoreAndTransaction("readwrite"),d=l.index(Bg),u=IDBKeyRange.upperBound(Date.now()),f=d.openCursor(u),p=await new Promise(async(m,g)=>{const v=[];let b=0;f.onerror=y=>{a.error("Failed to open cursor:",y),g("Failed to open cursor")},f.onsuccess=y=>{const E=y.target.result;if(E){const w=B0e({},E.value);v.push(w);const C=E.value;if(C.retryAttempts+=1,C.timeToBeProcessedAfter=Date.now()+TV,C.retryAttempts>=s){++b;const x=E.delete();WM(x,a)}else{const x=E.update(C);WM(x,a)}v.length<o?E.continue():m({items:v,numberOfDeletedItems:b})}else m({items:v,numberOfDeletedItems:b})}});return await j0(i,this.logger),p}),q(this,"deleteItems",async r=>{const{transaction:o,objectStore:a}=await this.getObjectStoreAndTransaction("readwrite");try{const s=r.map(i=>this.deleteItem(a,i));await j0(o,this.logger),await Promise.all(s)}catch(s){throw this.logger.warn("Failed to delete items from indexeddb.",s),s}}),q(this,"getItemCount",async()=>{const{transaction:r,objectStore:o}=await this.getObjectStoreAndTransaction("readonly"),a=o.index(Bg),s=IDBKeyRange.upperBound(Date.now()),i=a.count(s),l=await Td(i);return await j0(r,this.logger),l.target.result}),q(this,"processItems",async(r,o=Id)=>{const a=await this.getItems(o),{items:s}=a,i=Bn(a,V0e);try{const l=await r(s,i),d=s.map(u=>u.id);return await this.deleteItems(d),l}catch(l){throw new _1(l)}}),q(this,"deleteItem",async(r,o)=>{const{logger:a}=this;try{await Td(r.delete(o))}catch(s){throw a.error("Failed to delete item:",o,s),s}}),q(this,"getObjectStoreAndTransaction",async r=>{const o=(await this.db).transaction(A2,r),a=o.objectStore(A2);return{transaction:o,objectStore:a}}),this.options=zk(n),this.namespace=t,this.logger=this.options.logger,!window.indexedDB)throw new kd;this.db=this.startDB(),this.db.catch(()=>{}),this.globalEventLimitGuard=new F0e(this.options.maxEventLimit,this.namespace,this.logger,this.deleteItem)}storeType(){return w1.INDEXEDDB}}class H0e{constructor(t,n){if(q(this,"insertItemsToMemoryStore",(r,o)=>{switch(o){case qn.ABANDON:return this.handleAbandonIfLimitWillExceedPolicy(r);case qn.EVICT:return Promise.resolve(this.handleEvictOldestIfLimitExceededPolicy(r));case qn.IGNORE:return this.handleAddAsManyAsPossible(r)}}),t>0)this.eventLimit=t;else throw Error("Event Limit has to be set higher than 1");this.memoryItemHandlers=n}async handleAbandonIfLimitWillExceedPolicy(t){if(await this.memoryItemHandlers.getItemCount()+t.length>this.eventLimit)throw new C1(w1.MEMORY);return this.memoryItemHandlers.addItems(t),{items:t,numberOfEvictedItems:0}}handleEvictOldestIfLimitExceededPolicy(t){this.memoryItemHandlers.addItems(t);const n=this.memoryItemHandlers.evictEventsIfNeeded(this.eventLimit);return{items:t,numberOfEvictedItems:n}}async handleAddAsManyAsPossible(t){const n=this.eventLimit-await this.memoryItemHandlers.getItemCount(),r=n>t.length?t:t.slice(0,n);return this.memoryItemHandlers.addItems(r),{items:r,numberOfEvictedItems:0}}}const z0e=["item"],W0e=["items"];function qM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function G0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(n),!0).forEach(function(r){q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}class YM{constructor(t,n={}){this.namespace=t,this.memoryStore=[],this.options=zk(n),this.globalEventLimitGuard=new H0e(this.options.maxEventLimit,{addItems:this.addItems.bind(this),getItemCount:this.getItemCount.bind(this),evictEventsIfNeeded:this.evictEventsIfNeeded.bind(this)})}async addItem(t,n={},r=qn.ABANDON){if(r===qn.IGNORE)throw new IV(r,"IndexedDbConnector#addItem");const o=xv(t,this.namespace,n),a=await this.globalEventLimitGuard.insertItemsToMemoryStore([o],r);return Promise.resolve({item:a.items[0],numberOfEvictedItems:a.numberOfEvictedItems})}bulkAddItem(t,n=qn.ABANDON){const r=t.map(o=>{let{item:a}=o,s=Bn(o,z0e);return xv(a,this.namespace,s)});return this.bulkAddItemWrapperType(r,n)}bulkAddItemWrapperType(t,n=qn.ABANDON){return Promise.resolve(this.globalEventLimitGuard.insertItemsToMemoryStore(t,n))}getItems(t=Id){return Promise.resolve(this.synchronousGetItems(t))}synchronousGetItems(t=Id){const n=t>0?t:Id,r=Date.now(),o=[],a=[];for(let s of this.memoryStore)if(s.timeToBeProcessedAfter<=r&&(o.push(G0e({},s)),s.timeToBeProcessedAfter+=TV,s.retryAttempts+=1,s.retryAttempts>=this.options.maxAttempts&&a.push(s)),o.length>=n)break;return a.forEach(s=>{const i=this.memoryStore.indexOf(s);this.memoryStore.splice(i,1)}),{items:o,numberOfDeletedItems:a.length}}deleteItems(t){return this.memoryStore=this.memoryStore.filter(n=>!t.includes(n.id)),Promise.resolve(void 0)}getItemCount(){const t=Date.now(),n=this.memoryStore.filter(r=>r.timeToBeProcessedAfter<=t).length;return Promise.resolve(n)}async processItems(t,n){const r=this.synchronousGetItems(n),{items:o}=r,a=Bn(r,W0e),s=o.map(i=>i.id);try{const i=await t(o,a);return await this.deleteItems(s),i}catch(i){throw new _1(i)}}storeType(){return w1.MEMORY}addItems(t){this.memoryStore.push(...t),this.memoryStore.sort(function(n,r){return n.timeAdded-r.timeAdded})}evictEventsIfNeeded(t){const n=this.memoryStore.length;if(n>t){const r=n-t;return this.memoryStore.splice(0,r),r}return 0}}class q0e{constructor(t,n={}){if(this.namespace=t,this.options=zk(n),!t||t.length===0||typeof t!="string")throw new Error("Invalid namespace provided");this.resilience=this.getResilienceMechanism(t,n)}getResilienceMechanism(t,n){if(!n.useMemory)try{return new U0e(t,n)}catch(o){if(!(o instanceof kd)){var r;(r=n.logger)===null||r===void 0||r.warn("Attempted to create IndexedDbResilience but failed. Using memory instead.")}}return new YM(this.namespace,n)}addItem(t,n,r=qn.ABANDON){return this.runOrFailOver(()=>this.resilience.addItem(t,n,r))}bulkAddItem(t,n=qn.ABANDON){return this.runOrFailOver(()=>this.resilience.bulkAddItem(t,n))}getItems(t){return this.runOrFailOver(()=>this.resilience.getItems(t))}deleteItems(t){return this.runOrFailOver(()=>this.resilience.deleteItems(t))}getItemCount(){return this.runOrFailOver(()=>this.resilience.getItemCount())}processItems(t,n){return this.runOrFailOver(()=>this.resilience.processItems(t,n))}storeType(){return this.resilience.storeType()}async runOrFailOver(t){try{return await t()}catch(n){if(C_(n))throw n;return this.resilience.storeType()===w1.INDEXEDDB&&await this.failOver(),t()}}async failOver(){const t=this.resilience,n=new YM(this.namespace,this.options);this.resilience=n;try{const{items:r}=await t.getItems(this.options.maxEventLimit);if(r.length>0){const a=(await n.bulkAddItemWrapperType(r,qn.IGNORE)).items.map(s=>s.id);await t.deleteItems(a)}}catch{this.options.logger.warn("Unexpected error from ResilienceDb, switching to MemoryDb")}}}let Y0e=function(e){return e.INDEXEDDB="indexeddb",e.MEMORY="memory",e}({}),fd=function(e){return e[e.ONLINE=0]="ONLINE",e[e.OFFLINE=1]="OFFLINE",e}({});class K0e{constructor(){q(this,"itemsDiscardedByRetry",0),q(this,"eventCount",0),q(this,"itemsDiscardedByOverflow",0),q(this,"resilienceMechanism",Y0e.INDEXEDDB),q(this,"localstorageNumberOfQueuesPurged",0),q(this,"localstorageNumberOfFullReclaims",0),q(this,"localstorageNumberOfPartialReclaims",0),q(this,"localstorageNumberOfFailedReclaims",0)}addToItemsDiscardedByRetryCounter(t=1){this.itemsDiscardedByRetry+=t}addToEventCount(){this.eventCount++}addToItemsDiscardedByOverflowCounter(t=1){this.itemsDiscardedByOverflow+=t}setResilienceMechanism(t){this.resilienceMechanism=t}addToReclaimMetrics(t){this.localstorageNumberOfFullReclaims+=t.fullReclaims,this.localstorageNumberOfPartialReclaims+=t.partialReclaims,this.localstorageNumberOfFailedReclaims+=t.failedReclaims}addToPurgedQueuesMetrics(t){this.localstorageNumberOfQueuesPurged+=t}subtractFromMetrics(t){this.itemsDiscardedByRetry=this.subtractFromCount(this.itemsDiscardedByRetry,t.itemsDiscardedByRetry),this.eventCount=this.subtractFromCount(this.eventCount,t.eventCount),this.itemsDiscardedByOverflow=this.subtractFromCount(this.itemsDiscardedByOverflow,t.itemsDiscardedByOverflow),this.localstorageNumberOfFullReclaims=this.subtractFromCount(this.localstorageNumberOfFullReclaims,t.fullReclaims),this.localstorageNumberOfPartialReclaims=this.subtractFromCount(this.localstorageNumberOfPartialReclaims,t.partialReclaims),this.localstorageNumberOfFailedReclaims=this.subtractFromCount(this.localstorageNumberOfFailedReclaims,t.failedReclaims),this.localstorageNumberOfQueuesPurged=this.subtractFromCount(this.localstorageNumberOfQueuesPurged,t.localstorageQueuesPurged)}subtractFromCount(t,n){return Math.max(t-(n||0),0)}getMetricsPayload(){return{itemsDiscardedByRetry:this.itemsDiscardedByRetry,eventCount:this.eventCount,itemsDiscardedByOverflow:this.itemsDiscardedByOverflow,resilienceMechanism:this.resilienceMechanism,localstorageQueuesPurged:this.localstorageNumberOfQueuesPurged,fullReclaims:this.localstorageNumberOfFullReclaims,partialReclaims:this.localstorageNumberOfPartialReclaims,failedReclaims:this.localstorageNumberOfFailedReclaims}}}let D2=null;const AV=()=>(D2||(D2=new K0e),D2);class X0e{constructor(t){typeof window<"u"&&(window.addEventListener("offline",()=>t(fd.OFFLINE)),window.addEventListener("online",()=>t(fd.ONLINE)))}getNetworkStatus(){return window.navigator.onLine?fd.ONLINE:fd.OFFLINE}}let ka=function(e){return e.IDLE="idle",e.RUNNING="running",e.COMPLETED="completed",e.TIMED_OUT="timedOut",e}({}),Bc=function(e){return e.EXECUTE="execute",e.COMPLETE="complete",e.TIMEOUT="timeout",e}({});class J0e{constructor(t){if(q(this,"timeoutHandle",void 0),q(this,"callbackStatus",ka.IDLE),t>0){this.timeoutPeriod=t;return}throw new Error("CallbackWithTimeout requires timeout period higher than 0")}transitionCallbackStatus(t,n){switch(t){case ka.IDLE:case ka.TIMED_OUT:case ka.COMPLETED:n===Bc.EXECUTE&&(this.callbackStatus=ka.RUNNING);break;case ka.RUNNING:switch(n){case Bc.COMPLETE:this.callbackStatus=ka.COMPLETED;break;case Bc.TIMEOUT:this.callbackStatus=ka.TIMED_OUT;break}break;default:this.callbackStatus=t}}executeCallbackWithTimeout(t,n,r){typeof window>"u"||(this.transitionCallbackStatus(this.callbackStatus,Bc.EXECUTE),this.timeoutHandle=window.setTimeout(()=>{this.transitionCallbackStatus(this.callbackStatus,Bc.TIMEOUT),r()},this.timeoutPeriod),t(o=>{this.cancelTimeout(),this.getCallbackStatus()!==ka.TIMED_OUT&&(this.transitionCallbackStatus(this.callbackStatus,Bc.COMPLETE),n(o))}))}getCallbackStatus(){return this.callbackStatus}cancelTimeout(){typeof window<"u"&&this.timeoutPeriod>0&&this.timeoutHandle&&(window.clearTimeout(this.timeoutHandle),this.timeoutHandle=void 0)}}let bi=function(e){return e[e.NOOP=0]="NOOP",e[e.SUCCESS=1]="SUCCESS",e[e.ERROR=2]="ERROR",e}({});const Uc={minRetryDelay:1e3,maxRetryDelay:3e4,backoffFactor:2,backoffJitterPercentage:0,waitInterval:500,callbackTimeoutPeriod:5e3};let Zs=function(e){return e[e.NONE=0]="NONE",e[e.IMMEDIATE=1]="IMMEDIATE",e[e.WAIT=2]="WAIT",e}({});class KM{constructor(t,n){q(this,"schedule",({immediate:r}={immediate:!1})=>{typeof window>"u"||(this.operationInFlight?r?this.queuedSchedule=Zs.IMMEDIATE:this.queuedSchedule!==Zs.IMMEDIATE&&(this.queuedSchedule=Zs.WAIT):(r||this.options.waitInterval<=0)&&this.failureCount===0?(this.clearTimeout(),this.run()):this.failureCount>0&&this.scheduledTimeout===null?this.scheduledTimeout=window.setTimeout(this.run,this.calculateBackoff()):this.scheduledTimeout===null&&(this.scheduledTimeout=window.setTimeout(this.run,this.options.waitInterval)))}),q(this,"stop",()=>{this.clearTimeout(),this.queuedSchedule=Zs.NONE}),q(this,"getFailureCount",()=>this.failureCount),q(this,"getCallbackStatus",()=>this.callbackTimer.getCallbackStatus()),q(this,"clearTimeout",()=>{typeof window<"u"&&this.scheduledTimeout!==null&&(window.clearTimeout(this.scheduledTimeout),this.scheduledTimeout=null)}),q(this,"run",()=>{this.operationInFlight=!0,this.clearTimeout();try{this.callbackTimer.executeCallbackWithTimeout(this.callback,this.done,()=>this.done(bi.ERROR))}catch(r){this.done(r)}}),q(this,"done",r=>{this.operationInFlight=!1,r===bi.ERROR||this.callbackTimer.getCallbackStatus()===ka.TIMED_OUT?(this.failureCount++,this.clearTimeout()):r===bi.SUCCESS&&(this.failureCount=0),this.processQueuedSchedule()}),q(this,"processQueuedSchedule",()=>{if(this.queuedSchedule!==Zs.NONE){const r=this.queuedSchedule===Zs.IMMEDIATE;this.queuedSchedule=Zs.NONE,this.schedule({immediate:r})}else this.failureCount>0&&this.schedule()}),q(this,"calculateBackoff",()=>{const{minRetryDelay:r,maxRetryDelay:o,backoffFactor:a,backoffJitterPercentage:s}=this.options;let i=r*a**this.failureCount;if(s){const l=Math.random(),d=Math.floor(l*s*i);Math.floor(l*10)<5?i-=d:i+=d}return Number(Math.min(i,o).toPrecision(1))}),this.options={minRetryDelay:t.minRetryDelay||Uc.minRetryDelay,maxRetryDelay:t.maxRetryDelay||Uc.maxRetryDelay,backoffFactor:t.backoffFactor||Uc.backoffFactor,backoffJitterPercentage:t.backoffJitterPercentage||Uc.backoffJitterPercentage,waitInterval:t.waitInterval!==void 0?t.waitInterval:Uc.waitInterval,callbackTimeoutPeriod:t.callbackTimeoutPeriod||Uc.callbackTimeoutPeriod},this.scheduledTimeout=null,this.failureCount=0,this.callback=n,this.operationInFlight=!1,this.queuedSchedule=Zs.NONE,this.callbackTimer=new J0e(this.options.callbackTimeoutPeriod)}}function XM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ug(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XM(Object(n),!0).forEach(function(r){q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const O2=6e4,JM={backoffFactor:0,backoffJitterPercentage:0,flushWaitMs:O2,minRetryDelay:O2,maxRetryDelay:O2},ls={backoffFactor:2,backoffJitterPercentage:.2,batchFlushSize:7,flushBeforeUnload:!1,flushWaitMs:500,maxAttempts:10,maxItems:1e3,maxRetryDelay:3e4,minRetryDelay:1e3};class Z0e{constructor(t,n,r,o){this.queuePrefix=t,this.resilience=new q0e(n,{logger:o,maxAttempts:r==null?void 0:r.maxAttempts,maxEventLimit:r==null?void 0:r.maxItems}),this.options=this.buildOptions(r),this.scheduler=new KM(Ug(Ug({},this.options),{},{waitInterval:r!=null&&r.flushBeforeUnload?0:this.options.flushWaitMs}),this.scheduleCallback.bind(this)),this.longPollingScheduler=new KM(Ug(Ug({},JM),{},{waitInterval:JM.flushWaitMs}),this.scheduleLongCallBack.bind(this)),this.metricsCollector=AV(),this.networkStatus=new X0e(a=>{a===fd.OFFLINE?this.scheduler.stop():this.checkEventCountAndReschedule()})}start(t){this.batchFlushCallback=t,this.longPollingScheduler.schedule()}stop(){this.scheduler.stop(),this.longPollingScheduler.stop()}async addItem(t){const n=JSON.parse(JSON.stringify(t)),{numberOfEvictedItems:r}=await this.resilience.addItem(n,{},qn.EVICT);this.scheduler.schedule(),this.metricsCollector.addToEventCount(),r>0&&this.metricsCollector.addToItemsDiscardedByOverflowCounter(r)}getGlobalRetryCount(){return this.scheduler.getFailureCount()}async scheduleCallback(t){if(this.networkStatus.getNetworkStatus()===fd.OFFLINE){t(bi.NOOP);return}try{const n=await this.resilience.processItems(this.flush.bind(this),this.options.batchFlushSize);t(n)}catch(n){if(n.name===Hk){t(bi.ERROR);return}}finally{await this.checkEventCountAndReschedule()}}async checkEventCountAndReschedule(){const t=await this.resilience.getItemCount();t>0&&this.scheduler.schedule({immediate:t>=this.options.batchFlushSize})}async scheduleLongCallBack(t){const n=O0e(this.queuePrefix);this.metricsCollector.addToPurgedQueuesMetrics(n);const r=await A0e(this.queuePrefix,async o=>{const a=o.map(i=>({item:i.item,retryAttempts:i.attemptNumber,id:i.id})),{items:s}=await this.resilience.bulkAddItem(a,qn.IGNORE);return s.length===a.length?{status:"successful"}:{status:"partial",acceptedItemIds:s.map(i=>i.id)}});this.metricsCollector.addToReclaimMetrics(r),await this.checkEventCountAndReschedule(),t(bi.SUCCESS),this.longPollingScheduler.schedule()}flush(t,n){this.metricsCollector.setResilienceMechanism(this.resilience.storeType());const{batchFlushCallback:r}=this;if(!r)throw new Error("batchFlushCallback has not been set. Call PullBatchableQueue#start first.");return new Promise((o,a)=>{if(t.length<=0){o(bi.NOOP);return}const s=t.map(i=>{const l=i.item;return i.retryAttempts>0&&l.msg&&(l.msg._metadata||(l.msg._metadata={}),l.msg._metadata.failedAttempts=i.retryAttempts),l});r(s,i=>{i?(n.numberOfDeletedItems>0&&this.metricsCollector.addToItemsDiscardedByRetryCounter(n.numberOfDeletedItems),a(i)):o(bi.SUCCESS)})})}buildOptions(t){return{backoffFactor:(t==null?void 0:t.backoffFactor)||ls.backoffFactor,backoffJitterPercentage:(t==null?void 0:t.backoffJitterPercentage)!==void 0?t.backoffJitterPercentage:ls.backoffJitterPercentage,batchFlushSize:(t==null?void 0:t.batchFlushSize)||ls.batchFlushSize,flushBeforeUnload:(t==null?void 0:t.flushBeforeUnload)||ls.flushBeforeUnload,flushWaitMs:(t==null?void 0:t.flushWaitMs)||ls.flushWaitMs,maxItems:(t==null?void 0:t.maxItems)||ls.maxItems,maxAttempts:(t==null?void 0:t.maxAttempts)||ls.maxAttempts,maxRetryDelay:(t==null?void 0:t.maxRetryDelay)||ls.maxRetryDelay,minRetryDelay:(t==null?void 0:t.minRetryDelay)||ls.minRetryDelay}}}const Q0e=(e,t,n,r)=>new Z0e(e,t,n||{},r);let Sv=function(e){return e.XC="xc",e.UID="uid",e}({});const eve=5e3,tve=()=>[{type:Sv.XC,state:"TIMEOUT"},{type:Sv.UID,state:"TIMEOUT"}],nve=()=>[{type:Sv.XC,state:"UNKNOWN"},{type:Sv.UID,state:"UNKNOWN"}],rve=(e,t)=>{if(e&&t&&typeof t=="function"){const n=()=>new Promise(o=>{setTimeout(()=>o(()=>tve()),eve)}),r=()=>t().catch(()=>()=>nve());return Promise.race([r(),n()])}};let gs=function(e){return e.IDENTIFY="identify",e.PAGE="page",e.TRACK="track",e}({});function ZM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Hg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(n),!0).forEach(function(r){q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ove(e,t){if(!(t&&t instanceof Function))return e;if(e.msg.type===gs.PAGE||e.msg.type===gs.TRACK){const n=t();n&&Array.isArray(n)&&(e.msg.properties=Hg(Hg({},e.msg.properties),{},{xid:n}))}else if(e.msg.traits&&e.msg.type===gs.IDENTIFY){const n=t();n&&Array.isArray(n)&&(e.msg.traits=Hg(Hg({},e.msg.traits),{},{xid:n}))}return e}async function ave(e,t){try{const n=await t;return e.map(r=>ove(r,n))}catch{return e}}const sve=10*1e3;function QM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ive(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(n),!0).forEach(function(r){q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const lve=async e=>{var t;const n=(t=cve(e))===null||t===void 0?void 0:t.signal,r=dve(e.url),o=await fetch(e.url,ive({method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify(e.batch),signal:n},r));if(o.status===429||o.status>=500&&o.status<600)throw new Error(`HTTP Error ${o.status} (${o.statusText})`);return o},cve=e=>{if(e.abortController)return e.abortController;if(e.timeout){const t=new AbortController;return setTimeout(()=>{t.abort()},e.timeout),t}},dve=Za(e=>new URL(e).origin===location.origin?{}:{mode:"cors",credentials:"include"});let lp=function(e){return e.AWC_TLD_TEST="AWC_TLD_TEST",e.AWC_ANALYTICS_DEBUG="AWC_ANALYTICS_DEBUG",e.AJS_ANONYMOUS_ID="AJS_ANONYMOUS_ID",e}({});class M2{constructor(t,n){this.key=t,this.options=n}getAttributes(){return this.options}getKey(){return this.key}}const Lo={[lp.AWC_TLD_TEST]:new M2("__awc_tld_test__",{expires:365,secure:window.location.protocol==="https:",path:"/"}),[lp.AWC_ANALYTICS_DEBUG]:new M2("atlassian_analytics_debug",{expires:365,secure:window.location.protocol==="https:",path:"/"}),[lp.AJS_ANONYMOUS_ID]:new M2("ajs_anonymous_id",{expires:365,secure:window.location.protocol==="https:",path:"/"})};class uve{constructor(){q(this,"_data",{}),q(this,"length",0),q(this,"setItem",(t,n)=>(this._data[t]=n,this.length=Object.keys(this._data).length,n)),q(this,"getItem",t=>t in this._data?this._data[t]:null),q(this,"removeItem",t=>(t in this._data&&delete this._data[t],this.length=Object.keys(this._data).length,null)),q(this,"clear",()=>{this._data={},this.length=0}),q(this,"key",t=>Object.keys(this._data)[t])}}const Pl=new uve,fve="awc",zg="awcInMemoryStorageFallback";function e$(e){const t="test_value";if(!e)return!1;try{const n="awc.storage.support";e.setItem(n,t);const r=e.getItem(n);return e.removeItem(n),r===t}catch{return!1}}function pve(e){let t=!1;if(e.code)switch(e.code){case 22:t=!0;break;case 1014:e.name==="NS_ERROR_DOM_QUOTA_REACHED"&&(t=!0);break}else e.number===-2147024882&&(t=!0);return t}class DV{constructor(t,n={}){q(this,"getStore",()=>this._store),q(this,"getItem",o=>this._store.getItem(this.createKey(o))),q(this,"removeItem",o=>this._store.removeItem(this.createKey(o))),q(this,"setItem",(o,a)=>{try{this._store.setItem(this.createKey(o),a)}catch(s){pve(s)&&(this.swapToInMemory(),this._store.setItem(this.createKey(o),a))}}),q(this,"swapToInMemory",()=>{if(this._store===Pl||typeof window>"u")return;const o=Object.keys(this._store||{});let a;e$(window[zg])?a=window[zg]:(a=Pl,window[zg]||(window[zg]=Pl)),o.forEach(s=>{if(s.indexOf(this.getPrefix())===0){const i=this._store.getItem(s);i&&a.setItem(s,i)}}),this._store=a}),q(this,"clear",()=>this._store.clear()),q(this,"key",o=>this._store.key(o)),q(this,"getPrefix",()=>this._prefix),q(this,"createKey",o=>this._prefix?`${this.getPrefix()}.${o}`:o),this.options=n;const r=[];(n.useStoragePrefix===void 0||n.useStoragePrefix)&&r.push(fve),n.envPrefix&&n.envPrefix!==Ud.PROD&&r.push(n.envPrefix),this._prefix=r.join("-"),e$(t)?this._store=t:this.swapToInMemory()}}class x1 extends DV{constructor(t){let n;try{n=window.localStorage||Pl}catch{n=Pl}super(n,t)}}class mve{constructor(){this.safeStorage=new x1({useStoragePrefix:!1})}set(t,n){return this.safeStorage.setItem(t,n),n}get(t){return this.safeStorage.getItem(t)||void 0}remove(t){this.safeStorage.removeItem(t)}}const hve=(e=!1)=>e?!1:!(location.protocol==="file:"||location.protocol==="chrome-extension:"),$2=Lo.AWC_TLD_TEST.getKey(),t$="tld_test",gve=Za(()=>{if(typeof location>"u")return"";const{hostname:e}=location,t=e.split(".");for(let n=1;n<=t.length;n++){const o=`.${t.slice(n*-1).join(".")}`;if(_d.set($2,t$,{domain:o}),_d.get($2)===t$)return _d.remove($2,{domain:o}),o}return e});function n$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function R2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(n),!0).forEach(function(r){q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}class vve{constructor(t){this.cookieLike=hve(t)?_d:new mve}set(t,n,r){if(!Lo[t]){console.warn(`Unknown cookie key ${t} provided, not set.`);return}return this.cookieLike.set(Lo[t].getKey(),n,R2(R2({},Lo[t].getAttributes()),{},{domain:gve()},r))}get(t){if(!Lo[t]){console.warn(`Unknown cookie key ${t} provided, not fetched.`);return}return this.cookieLike.get(Lo[t].getKey())}remove(t,n){if(!Lo[t]){console.warn(`Unknown cookie key ${t} provided, not removed.`);return}this.cookieLike.remove(Lo[t].getKey(),R2({},n))}}const bve=7,P2="SAFE",L2="UNSAFE",N2="NOT_FOUND",yve="COOKIE",r$="LOCAL_STORAGE";class Eve{constructor(t){this.store=new x1({useStoragePrefix:!1}),this.cookie=new vve(t)}getUserId(){return this.userId||null}setUserId(t){this.userId=t}getAnonymousId(t){return this.getAnonymousIdFromLocalStorageAndUpdateCookieIfStale()||this.getAnonymousIdFromCookieAndUpdateLocalStorage()||this.generateNewAnonymousId(t)}setAnonymousId(t){const n=JSON.stringify(t);return this.cookie.set(lp.AJS_ANONYMOUS_ID,n),this.lastAnonymousIdCookieUpdate=Date.now(),this.store.setItem(Lo.AJS_ANONYMOUS_ID.getKey(),n)}getAnonymousIdFromStorage(t){const n=t===r$?this.store.getItem(Lo.AJS_ANONYMOUS_ID.getKey()):this.cookie.get(lp.AJS_ANONYMOUS_ID);if(n){const r={type:L2,anonymousId:n};try{const o=JSON.parse(n);return o&&typeof o=="string"?{type:P2,anonymousId:o}:r}catch{return r}}return{type:N2}}getAnonymousIdFromLocalStorageAndUpdateCookieIfStale(){const t=this.getAnonymousIdFromStorage(r$);let n=!1;switch((!this.lastAnonymousIdCookieUpdate||mue(new Date,new Date(this.lastAnonymousIdCookieUpdate))>=bve)&&(n=!0),t.type){case P2:return n&&this.setAnonymousId(t.anonymousId),t.anonymousId;case L2:return t.anonymousId;case N2:default:return null}}getAnonymousIdFromCookieAndUpdateLocalStorage(){const t=this.getAnonymousIdFromStorage(yve);switch(t.type){case P2:case L2:return this.store.setItem(Lo.AJS_ANONYMOUS_ID.getKey(),JSON.stringify(t.anonymousId)),t.anonymousId;case N2:default:return null}}generateNewAnonymousId(t=uc){const n=t();return this.setAnonymousId(n),n}}function o$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function a$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o$(Object(n),!0).forEach(function(r){q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const wve=e=>a$(a$({},e.context),{},{userAgent:navigator.userAgent}),Wg=e=>{const t=__(e);return eue(t)},__=e=>{if(e===null||typeof e!="object")return e;const t={};return Object.keys(e).forEach(n=>{const r=Cve(e,n);r!==void 0&&(Array.isArray(r)?t[n]=r.map(o=>__(o)):typeof r=="object"&&r!==null?t[n]=__(r):t[n]=r)}),t},Cve=(e,t)=>e[t];function s$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s$(Object(n),!0).forEach(function(r){q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}class _ve{constructor(t){var n;q(this,"sendEvents",async(r,o)=>{const a=this.resilienceQueue.getGlobalRetryCount(),s=this.metrics.getMetricsPayload(),i=vr(vr({},s),{},{httpRetryCount:a});for(let p in i)i[p]===0&&delete i[p];const l=await this.attachXIDs(r),d=new Date().toISOString(),f={batch:l.map(p=>(p.msg.sentAt=d,p.msg)),sentAt:d,metadata:i};try{const p=await lve({url:this.gasv3BatchUrl,batch:f,timeout:this.options.requestTimeout});this.metrics.subtractFromMetrics(s),o(null,p)}catch(p){o(p,null)}}),this.options=vr(vr({},t),{},{requestTimeout:t.requestTimeout||sve,retryQueueOptions:t.retryQueueOptions||{},logger:t.logger||console,disableCookiePersistence:t.disableCookiePersistence||!1}),this.user=new Eve((n=this.options)===null||n===void 0?void 0:n.disableCookiePersistence),this.xidPromiseCallback=t.xidPromiseGetter(),this.gasv3BatchUrl=`${t.apiHostProtocol}://${t.apiHost}/batch`,this.metrics=AV(),this.resilienceQueue=Q0e(t.retryQueuePrefix,t.product,this.options.retryQueueOptions,this.options.logger),this.resilienceQueue.start(this.sendEvents)}getUser(){return this.user}async track(t,n,r,o){const a=this.buildBaseEvent(r,gs.TRACK,n),s=vr(vr({},a),{},{type:gs.TRACK,properties:Wg(n),event:t}),i=vr(vr({},s),{},{messageId:this.createMessageId()}),l=this.packageEvent(i);await this.resilienceQueue.addItem(l),o&&o()}async page(t,n,r,o){const a=this.buildBaseEvent(r,gs.PAGE,n),s=vr(vr({},a),{},{type:gs.PAGE,properties:Wg(n),name:t}),i=vr(vr({},s),{},{messageId:this.createMessageId()}),l=this.packageEvent(i);await this.resilienceQueue.addItem(l),o&&o()}async identify(t,n,r,o){const a=this.buildBaseEvent(r,gs.IDENTIFY,n),s=vr(vr({},a),{},{type:gs.IDENTIFY,traits:Wg(n)}),i=vr(vr({},s),{},{messageId:this.createMessageId()}),l=this.packageEvent(i);await this.resilienceQueue.addItem(l),o&&o()}buildBaseEvent(t,n,r){const o=Wg(t);return{context:wve(o),timestamp:new Date().toISOString(),type:n,userId:this.user.getUserId(),anonymousId:r.anonymousId||this.user.getAnonymousId()}}createMessageId(){return`ajs-${uc()}`}packageEvent(t){const{apiHost:n,apiHostProtocol:r}=this.options;return{headers:{"Content-Type":"text/plain"},msg:t,url:`${r}://${n}/${t.type.charAt(0)}`}}async attachXIDs(t){return this.xidPromiseCallback?ave(t,this.xidPromiseCallback):Promise.resolve(t)}}const OV=e=>window.history.replaceState({},"",e),MV=(e,t=OV)=>{const n=window.location.href,r=window.location.hash,o=r!==""?n.replace(r,""):n,{url:a,query:s}=wv.parseUrl(o),i=b0e(s,e);if(Object.keys(i).length>0){const l=v0e(s,e);if(Object.keys(l).length>0){const d=`${a}?${wv.stringify(l)}${r}`;t(d)}else t(`${a}${r}`)}return i};class xve{constructor(){q(this,"handleOriginParameters",(t,n)=>{const r=Object.keys(t);if(!(r.length>0))throw new Error("Empty parameter mapping provided");const o=r.filter(d=>Object.values(iV).indexOf(d)<0);if(o.length>0)throw new Error(`Invalid Origin Tracing Parameter(s) supplied: ${o.join()}!`);const s=MV((d,u)=>r.indexOf(u)>=0,n),i=d=>{const u=t[d](s[d]);return{[d]:u}};return Object.keys(s).map(i).reduce((d,u)=>Object.assign(d,u),{})}),this._originStore={}}}const Sve="as.atlassian.com/api/v1",kve="api-private.atlassian.com/gasv3/api/v1",Ive="as.staging.atl-paas.net/api/v1",Tve="api-private.stg.atlassian.com/gasv3/api/v1",Ave="as.atlassian-fex.com/api/v1",Dve="api-private.atlassian-fex.com/gasv3/api/v1",$V="/gateway/api/gasv3/api/v1",Ove=({useStargate:e,env:t,useLegacyUrl:n})=>{if(t===Ud.PROD)throw new Error("FedRAMP Moderate prod destination not yet set");return e?n?Dve:window.location.host+$V:Ave},Mve=({useStargate:e,env:t,useLegacyUrl:n})=>e?n?t===Ud.PROD?kve:Tve:window.location.host+$V:t===Ud.PROD?Sve:Ive;function $ve({useStargate:e,env:t,useLegacyUrl:n,perimeter:r}){return r===E_.FEDRAMP_MODERATE?Ove({useStargate:e,env:t,useLegacyUrl:n}):Mve({useStargate:e,env:t,useLegacyUrl:n})}const i$="session.id",l$="session.expiry",Rve=/^\d+$/,Pve=30*60*1e3,Lve=5*1e3,Nve=.9,Fve=()=>{};class jve{constructor(t={}){q(this,"_generateNewSessionId",()=>{const n=Date.now().toString();return this._safeLocalStorage.setItem(i$,n),this._onNewSessionStarted&&this._onNewSessionStarted(),n}),q(this,"_updateSessionExpiry",()=>{const n=Date.now()+this._sessionExpiryTime;return this._safeLocalStorage.setItem(l$,n.toString()),n}),q(this,"_debouncedUpdateSessionExpiry",n=>{const{_updateSessionExpiry:r}=this;if(n<Date.now()+this._sessionExpiryDebounceThresholdPercentage*this._sessionExpiryTime)return r();this._sessionExpiryDebounceTimer&&clearTimeout(this._sessionExpiryDebounceTimer),this._sessionExpiryDebounceTimer=setTimeout(()=>{r()},this._sessionExpiryDebounce)}),this._sessionExpiryTime=t.sessionExpiryTime||Pve,this._sessionExpiryDebounce=t.sessionExpiryDebounce||Lve,this._sessionExpiryDebounceThresholdPercentage=t.sessionExpiryDebounceThresholdPercentage||Nve,this._onNewSessionStarted=t.onNewSessionStarted?t.onNewSessionStarted:Fve,this._safeLocalStorage=new x1}getCurrentSessionId(){const t=this._safeLocalStorage.getItem(i$),n=parseInt(this._safeLocalStorage.getItem(l$)||"0",10)||0;return this._debouncedUpdateSessionExpiry(n),!t||n<=Date.now()||Number.isNaN(n)?this._generateNewSessionId():Rve.test(t)?t:this._generateNewSessionId()}}class Wk extends DV{constructor(t){let n;try{n=window.sessionStorage||Pl}catch{n=Pl}super(n,t)}}const c$="tab.id";class Vve{constructor(){q(this,"_generateNewTabId",()=>{const t=uc();return this._safeSessionStorage.setItem(c$,t),t}),this._safeSessionStorage=new Wk}getCurrentTabId(){let t=this._safeSessionStorage.getItem(c$);return t||(t=this._generateNewTabId()),t}}function d$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function u$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d$(Object(n),!0).forEach(function(r){q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const F2="taskSessions",j2="taskSessionsInit",V2="awc.",Bve=3e3;class Uve{constructor(){q(this,"_taskSessionsNotRecentlyInitialised",n=>this._safeSessionStorage.getItem(F2)===null||this._safeSessionStorage.getItem(j2)===null||parseInt(this._safeSessionStorage.getItem(j2)||"0",10)<n-Bve),q(this,"_removeTaskSessionPrefix",(n,r)=>r.split(V2)[1]),q(this,"_isTaskSessionQueryParam",(n,r)=>r.startsWith(V2)),q(this,"getAllTaskSessions",()=>{try{return JSON.parse(this._safeSessionStorage.getItem(F2)||"")}catch{return{}}}),q(this,"_writeToSessionStorage",n=>{try{this._safeSessionStorage.setItem(F2,JSON.stringify(n))}catch{}}),q(this,"_appendTaskSessions",n=>{const r=this.getAllTaskSessions(),o=r===null?n:Object.assign(r,n);this._writeToSessionStorage(o)}),q(this,"_safelyRemoveKey",(n,r)=>n===null?{}:(delete n[r],n)),q(this,"createTaskSession",n=>{const r=uc(),o={};return o[n]=r,this._appendTaskSessions(o),r}),q(this,"createTaskSessionWithProvidedId",(n,r)=>{if(typeof r!="string")throw new TypeError("invalid taskSessionId, must be string");const o={};o[n]=r,this._appendTaskSessions(o)}),q(this,"completeTaskSession",n=>{const r=this.getAllTaskSessions(),o=this._safelyRemoveKey(r,n);this._writeToSessionStorage(o)}),q(this,"formatTaskSessionQueryString",({uri:n,includedTaskSessions:r})=>{const{url:o,query:a}=wv.parseUrl(n),s=this.getAllTaskSessions(),i=r?g0e(s,r):CV(s,Object.values(iV));if(Object.keys(i).length===0)return n;const l=u$(u$({},RM(i,(d,u)=>V2+u)),a);return`${o}?${wv.stringify(l)}`}),q(this,"stripQueryParameters",()=>{const n=RM(MV(this._isTaskSessionQueryParam),this._removeTaskSessionPrefix);this._appendTaskSessions(n)});const t=Date.now();this._safeSessionStorage=new Wk;try{this._taskSessionsNotRecentlyInitialised(t)&&(this._writeToSessionStorage({}),this._safeSessionStorage.setItem(j2,t.toString()))}catch{}}}const Hve=100,f$=Lo.AWC_ANALYTICS_DEBUG.getKey(),p$="synthetic",zve=()=>{try{return JSON.parse(_d.get(f$)||"false")}catch{_d.remove(f$)}return!1};class Wve{constructor(){q(this,"_bind",()=>{typeof window>"u"||window.testAnalytics||(window.testAnalytics={eventCache:[],events:()=>window.testAnalytics.eventCache,clear:()=>{window.testAnalytics.eventCache=[];try{localStorage.removeItem("awc.ui.viewed.last.sent"),localStorage.removeItem("awc-staging.ui.viewed.last.sent"),localStorage.removeItem("awc-dev.ui.viewed.last.sent"),localStorage.removeItem("awc-local.ui.viewed.last.sent")}catch{}}})}),q(this,"_cache",t=>{typeof window>"u"||(window.testAnalytics.eventCache.length>=Hve&&(window.testAnalytics.eventCache=window.testAnalytics.eventCache.slice(1,window.testAnalytics.eventCache.length)),window.testAnalytics.eventCache.push(t))}),q(this,"_shouldCacheEvent",()=>this._isDebugCookieEnabled),q(this,"saveEvent",t=>{t&&this._shouldCacheEvent()&&(window.testAnalytics||this._bind(),t.tags instanceof Array?t.tags.push(p$):t.tags=[p$],this._cache(t))}),this._isDebugCookieEnabled=zve(),this._isDebugCookieEnabled&&this._bind()}}const Gve=["embeddedProduct"];function m$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Gg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m$(Object(n),!0).forEach(function(r){q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const qve=1e3*2,Yve=1e3*60*60,Kve="ui.viewed.last.sent";class Xve{constructor(t,n,r,o={}){if(q(this,"start",()=>{this._startInterval(),this._bindEventListeners()}),q(this,"stop",()=>{this._stopInterval(),this._unbindEventListeners()}),q(this,"resetTimers",()=>{this._intervalId&&(this.stop(),this.start())}),q(this,"_bindEventListeners",()=>{typeof window<"u"&&(window.addEventListener("focus",this._focusListener),window.addEventListener("blur",this._blurListener))}),q(this,"_unbindEventListeners",()=>{typeof window<"u"&&(window.removeEventListener("focus",this._focusListener),window.removeEventListener("blur",this._blurListener))}),q(this,"_startInterval",()=>{clearInterval(this._intervalId),this._intervalId=setInterval(this._handleInterval,this._delay)}),q(this,"_stopInterval",()=>{this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)}),q(this,"_getProductKey",(a,s)=>{let i=a;return s&&(i+=`-${s}`),i}),q(this,"_getLastSentTimestamp",(a,s,i)=>(((this._parseLocalStorageData()||{})[i]||{})[s]||{})[a]||null),q(this,"_parseLocalStorageData",()=>{const a=this._safeLocalStorage.getItem(this._storageKey);try{return JSON.parse(a||"")}catch{return this._safeLocalStorage.removeItem(this._storageKey),null}}),q(this,"_setLastSentTimestamp",(a,s,i)=>{const l=this._parseLocalStorageData()||{},d=l[i]||{},u=d[s]||{};u[a]=Date.now(),d[s]=u,l[i]=d,this._safeLocalStorage.setItem(this._storageKey,JSON.stringify(l))}),q(this,"_shouldSendEvent",(a,s,i,l)=>!document.hasFocus()||s!==Sd.NONE&&!i||!l?!1:Date.now()-this._getLastSentTimestamp(a,i,l)>this._throttle),q(this,"_handleInterval",()=>{const a=this._getContext(),{embeddedProduct:s}=a,i=Bn(a,Gve);this._sendEvent(this._product,i),s&&this._sendEvent(s,i,!0)}),q(this,"_sendEvent",(a,s,i=!1)=>{const{subproduct:l,tenantIdType:d,tenantId:u,userId:f,lastScreenEvent:p,attributes:m}=s,g=this._getProductKey(a,l);if(this._shouldSendEvent(g,d,u,f)){this._setLastSentTimestamp(g,u,f);const v=this._createEvent(a,l,i,p,m);this._onEvent(v)}}),q(this,"_createEvent",(a,s,i,l,d)=>{const u={product:a,source:"ui",action:"viewed",actionSubject:"ui",attributes:d};return i&&(u.subproduct=null,u.version=null,u.attributes=Gg(Gg({},u.attributes),{},{embeddedInEnv:this._productInfo.env,embeddedInProduct:this._productInfo.product,embeddedInSubproduct:s,embeddedInVersion:this._productInfo.version,embeddedInOrigin:this._productInfo.origin,embeddedInPlatform:this._productInfo.platform})),l&&(u.attributes=Gg(Gg({},u.attributes),{},{lastScreenEvent:{name:l.name,attributes:l.attributes}})),u}),!t)throw new Error("Missing productInfo");if(!t.product)throw new Error("Missing productInfo.product");if(!n)throw new Error("Missing getContext callback");if(typeof n!="function")throw new Error("Invalid getContext, must be function");if(!r)throw new Error("Missing onEvent callback");if(typeof r!="function")throw new Error("Invalid onEvent, must be function");this._productInfo=t,this._product=t.product,this._getContext=n,this._onEvent=r,this._delay=o.delay||qve,this._throttle=o.throttle||Yve,this._storageKey=o.storageKey||Kve,this._safeLocalStorage=new x1({envPrefix:this._productInfo.env}),this._focusListener=()=>{this._startInterval()},this._blurListener=()=>{this._stopInterval()}}}function qg(e,t){return!e||typeof e!="function"?null:()=>{e(t)}}function h$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Yg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h$(Object(n),!0).forEach(function(r){q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const B2="last.screen.event";class Jve{constructor(t,n={}){if(q(this,"_useStargate",f=>f??!0),q(this,"_endsWith",(f,p)=>f.indexOf(p,f.length-p.length)!==-1),q(this,"_changeInternalUserId",(f,p)=>{this.eventProcessor.getUser().setUserId(f),p&&p!==this.eventProcessor.getUser().getAnonymousId()&&this.eventProcessor.getUser().setAnonymousId(p)}),q(this,"_createSubproductGetter",f=>OM(f,"Cannot get subproduct from the callback. Proceeding without it.")),q(this,"_createEmbeddedProductGetter",f=>OM(f,"Cannot get embeddedProduct from the callback. Proceeding without it.")),q(this,"_getLastScreenEvent",()=>{try{return JSON.parse(this._safeSessionStorage.getItem(B2)||"")}catch{return this._safeSessionStorage.removeItem(B2),null}}),q(this,"_setLastScreenEvent",f=>{this._safeSessionStorage.setItem(B2,JSON.stringify({name:f.name,attributes:f.attributes}))}),q(this,"_shouldEventBeDelayed",f=>{if(!f.tags||f.tags.indexOf("measurement")===-1)return!1;const p=f.highPriority!==!1;return this.eventDelayQueue.isDelayingLowPriorityEvents()&&!p}),q(this,"_fireEvent",(f,p,m,g)=>{switch(p.eventType){case _n.UI:case _n.OPERATIONAL:case _n.TRACK:return this.eventProcessor.track(f,p,m,g);case _n.SCREEN:return this.eventProcessor.page(f,p,m,g);case _n.IDENTIFY:return this.eventProcessor.identify(f,p,m,g);default:throw new Error(`No handler has been defined for events of type ${p.eventType}`)}}),q(this,"_fireDelayedEvent",(f,p,m,g)=>{try{this._changeInternalUserId(g.userId,g.anonymousId),p.tags=[...p.tags||[],"sentWithDelay"],this._fireEvent(f,p,m,void 0)}finally{this._changeInternalUserId(this._userInfo.userId,this._userInfo.anonymousId)}}),q(this,"_delayEvent",(f,p,m,g,v)=>{this.eventDelayQueue.push(f,p,m,g),v&&v()}),q(this,"_processEvent",(f,p,m,g)=>(this._testingCache.saveEvent(p),this._shouldEventBeDelayed(p)?(this._delayEvent(f,p,m,this._userInfo,g),Promise.resolve()):this._fireEvent(f,p,m,g))),q(this,"setEmbeddedProduct",f=>{this._productInfo.embeddedProduct=this._createEmbeddedProductGetter(f),this.resetUIViewedTimers()}),q(this,"clearEmbeddedProduct",()=>{this._productInfo.embeddedProduct=this._createEmbeddedProductGetter(null)}),q(this,"setSubproduct",f=>{this._productInfo.subproduct=this._createSubproductGetter(f),this.resetUIViewedTimers()}),q(this,"setOriginTracingHandlers",f=>{const p=this.originTracing.handleOriginParameters(f,this._historyReplaceFn);Object.keys(p).forEach(g=>{typeof p[g].taskSessionId<"u"&&this.task.createTaskSessionWithProvidedId(g,p[g].taskSessionId)});const m={};return Object.keys(p).forEach(g=>{p[g].originTracingAttributes?m[g]=p[g].originTracingAttributes:console.warn(`Handling method for origin parameter ${g} has not returned any attributes`)}),Object.keys(p).length>0?this.sendOperationalEvent({action:"landed",actionSubject:"origin",source:"webClient",attributes:{originTracesLanded:m}},()=>{}):Promise.resolve()}),q(this,"setTenantInfo",(f,p)=>{if(!f)throw new Error("Missing tenantIdType");if(f!==Sd.NONE&&!p)throw new Error("Missing tenantId");if(!ra(Sd,f))throw new Error(`Invalid tenantIdType '${f}', must be an tenantType: [${ms(Sd)}]`);this._tenantInfo={tenantIdType:f,tenantId:p}}),q(this,"clearTenantInfo",()=>{this._tenantInfo={}}),q(this,"setOrgInfo",f=>{if(!f)throw new Error("Missing orgId");this._orgInfo={orgId:f}}),q(this,"clearOrgInfo",()=>{this._orgInfo={}}),q(this,"setWorkspaceInfo",f=>{if(!f)throw new Error("Missing workspaceId");this._workspaceInfo={workspaceId:f}}),q(this,"clearWorkspaceInfo",()=>{this._workspaceInfo={}}),q(this,"setUserInfo",(f,p)=>{m0e(f,p),this._changeInternalUserId(p),this._userInfo={userIdType:f,userId:p,anonymousId:this.eventProcessor.getUser().getAnonymousId()}}),q(this,"clearUserInfo",()=>{this._changeInternalUserId(void 0),this._userInfo={anonymousId:this.eventProcessor.getUser().getAnonymousId()}}),q(this,"setAlias",(f,p)=>{if(!f)throw new Error("Missing aliasType");if(!ra(TM,f))throw new Error(`Invalid aliasType '${f}', must be an aliasType: [${ms(TM)}]`);this._aliases[f]=p}),q(this,"clearAlias",()=>{this._aliases={}}),q(this,"setGroup",(f,p)=>{if(!f)throw new Error("Missing groupType");if(!ra(AM,f))throw new Error(`Invalid groupType '${f}', must be an groupType: [${ms(AM)}]`);this._groups[f]=p}),q(this,"clearGroup",()=>{this._groups={}}),q(this,"getAnonymousId",()=>this._userInfo.anonymousId),q(this,"setUIViewedAttributes",f=>{if(!f)throw new Error("Missing uiViewedAttributes");if(typeof f!="object"||Array.isArray(f))throw new Error("Invalid uiViewedAttributes type, should be a non array object");this._uiViewedAttributes=Yg({},f)}),q(this,"getUIViewedAttributes",()=>this._uiViewedAttributes),q(this,"clearUIViewedAttributes",()=>{this._uiViewedAttributes={}}),q(this,"sendIdentifyEvent",(f,p,m)=>{this.setUserInfo(f,p);const g={userIdType:f,eventType:_n.IDENTIFY};return this._processEvent(p,g,this._context,m)}),q(this,"sendPageEvent",(f,p)=>this.sendScreenEvent(f,p)),q(this,"sendScreenEvent",(f,p,m)=>{let g,v,b,y;typeof f=="object"?(g=f.name,v=f.attributes,b=f.containers,y=f.tags):(g=f,v=m),d0e(g),EV(b);const E=o0e(this._productInfo,this._tenantInfo,this._userInfo,v,f.nonPrivacySafeAttributes,y,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo,f,b,this._aliases,this._groups),w=Yg({name:g},E);return this._setLastScreenEvent(w),this._processEvent(g,w,this._context,qg(p,w))}),q(this,"sendTrackEvent",(f,p)=>{u0e(f);const m=T2(this._productInfo,this._tenantInfo,this._userInfo,f,_n.TRACK,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo,this._aliases,this._groups);return this._processEvent(F0(f),m,this._context,qg(p,m))}),q(this,"sendUIEvent",(f,p)=>{f0e(f);const m=T2(this._productInfo,this._tenantInfo,this._userInfo,f,_n.UI,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo,this._aliases,this._groups);return this._processEvent(F0(f),m,this._context,qg(p,m))}),q(this,"sendOperationalEvent",(f,p)=>{p0e(f);const m=T2(this._productInfo,this._tenantInfo,this._userInfo,f,_n.OPERATIONAL,this._tabTracking.getCurrentTabId(),this._sessionTracking.getCurrentSessionId(),this.task.getAllTaskSessions(),this._orgInfo,this._pageLoadId,this._workspaceInfo,this._aliases,this._groups);return this._processEvent(F0(f),m,this._context,qg(p,m))}),q(this,"startUIViewedEvent",f=>{this.stopUIViewedEvent(),this._uiViewedEvent=new Xve(this._productInfo,()=>({embeddedProduct:this._productInfo.embeddedProduct(),subproduct:this._productInfo.subproduct(),tenantIdType:this._tenantInfo.tenantIdType,tenantId:this._tenantInfo.tenantId,userId:this._userInfo.userId,lastScreenEvent:this._getLastScreenEvent(),attributes:this._uiViewedAttributes}),p=>this.sendUIEvent(p,f)),this._uiViewedEvent.start()}),q(this,"stopUIViewedEvent",()=>{this._uiViewedEvent&&(this._uiViewedEvent.stop(),this._uiViewedEvent=null)}),q(this,"resetUIViewedTimers",()=>{this._uiViewedEvent&&this._uiViewedEvent.resetTimers()}),q(this,"startApdexEvent",f=>{this._apdexEvent.start(f)}),q(this,"getApdexStart",f=>this._apdexEvent.getStart(f)),q(this,"stopApdexEvent",(f,p)=>{this._apdexEvent.stop(f,p)}),q(this,"startLowPriorityEventDelay",(f,p)=>{this.eventDelayQueue.startLowPriorityEventDelay(f,p)}),q(this,"stopLowPriorityEventDelay",()=>{this.eventDelayQueue.stopLowPriorityEventDelay()}),q(this,"onEvent",(f,p)=>{if(!p)throw new Error("Missing analyticsData");if(!p.eventType)throw new Error("Missing analyticsData.eventType");if(p.eventType===_n.TRACK)return this.sendTrackEvent(p);if(p.eventType===_n.UI)return this.sendUIEvent(p);if(p.eventType===_n.OPERATIONAL)return this.sendOperationalEvent(p);if(p.eventType===_n.SCREEN)return this.sendScreenEvent(p.name,null,p.attributes);if(p.eventType===_n.IDENTIFY)return this.sendIdentifyEvent(p.userIdType,p.userId);throw new Error(`Invalid analyticsData.eventType '${p.eventType}', must be an eventType: [${ms(_n)}]`)}),!t)throw new Error("Missing productInfo");if(!t.env)throw new Error("Missing productInfo.env");if(!t.product)throw new Error("Missing productInfo.product");if(!ra(Ud,t.env))throw new Error(`Invalid productInfo.env '${t.env}', must be an envType: [${ms(Ud)}]`);if(t.perimeter&&!ra(E_,t.perimeter))throw new Error(`Invalid productInfo.perimeter '${t.perimeter}', must be an perimeterType: [${ms(E_)}]`);if(!t.origin)t.origin=ud.WEB;else if(!ra(ud,t.origin))throw new Error(`Invalid productInfo.origin '${t.origin}', must be an originType: [${ms(ud)}]`);t.platform?h0e(t):t.platform=t.origin===ud.WEB?Na.WEB:Na.DESKTOP,this.logger=n.logger||console,this._productInfo=Yg(Yg({},t),{},{subproduct:this._createSubproductGetter(t.subproduct),embeddedProduct:this._createEmbeddedProductGetter(t.embeddedProduct)}),this._tenantInfo={},this._orgInfo={},this._uiViewedAttributes={},this._context=a0e(this._productInfo),this._safeSessionStorage=new Wk;const r=this._useStargate(n.useStargate),o=n.apiHost||$ve({useStargate:r,env:t.env,useLegacyUrl:n.useLegacyUrl,perimeter:t.perimeter}),a=n.apiHostProtocol||"https",i={maxRetryDelay:6e4,minRetryDelay:n.minRetryDelay||1e3,backoffFactor:2,flushWaitMs:n.flushWaitInterval,flushBeforeUnload:n.flushBeforeUnload},l=`awc-${t.env}`,d=()=>rve(n.xidConsent,n.xidPromiseFn),u=n.disableCookiePersistence||!1;this.eventProcessor=new _ve({apiHost:o,apiHostProtocol:a,product:t.product,retryQueuePrefix:l,retryQueueOptions:i,xidPromiseGetter:d,logger:this.logger,disableCookiePersistence:u}),this._userInfo={anonymousId:this.eventProcessor.getUser().getAnonymousId(n==null?void 0:n.customAnonymousIdGenerator)},this._pageVisibility=new lV,this._tabTracking=new Vve,this._sessionTracking=new jve({sessionExpiryTime:n.sessionExpiryTime,onNewSessionStarted:n.onNewSessionStarted}),this.task=new Uve,this.originTracing=new xve,this._apdexEvent=new Jge(this.sendOperationalEvent,this._pageVisibility),this._historyReplaceFn=typeof n.historyReplaceFn=="function"?n.historyReplaceFn:OV,this.eventDelayQueue=new S0e(this._fireDelayedEvent,n.delayQueueCompressors||[]),this._testingCache=new Wve,this._pageLoadId=uc(),this._workspaceInfo={},this._aliases={},this._groups={}}}const Zve="commit-timestamp",RV=(e=globalThis.document)=>{var n;const t=(n=e.querySelector("html"))==null?void 0:n.getAttribute(Zve);if(t!=null)return Number.parseInt(t)};function Qve(e){let t;return()=>(t===void 0&&(t=e()),t)}const U2="synthetic-check",ebe=String(!0),PV=Qve(tbe);function tbe(){try{const e=globalThis.parent??window;let n=new URLSearchParams(e.location.search).get(U2);return n!==null?globalThis.sessionStorage.setItem(U2,n):n=globalThis.sessionStorage.getItem(U2),n===ebe}catch{return!1}}var V0=(e=>(e.DATABASE="DATABASE",e.ENTRY="ENTRY",e.VALUE="VALUE",e))(V0||{}),sa=(e=>(e.STANDALONE_DATABASE="STANDALONE_DATABASE",e.EMBED_DATABASE="EMBED_DATABASE",e.STANDALONE_ENTRY="STANDALONE_ENTRY",e.EMBED_ENTRY="EMBED_ENTRY",e.EMBED_VALUE="EMBED_VALUE",e.NONE="NONE",e))(sa||{}),Hd=(e=>(e.SORT_MENU="databaseSortMenu",e.FIELD_MENU="databaseFieldMenu",e.FIELD_NAME="databaseFieldName",e.VIEW_PANEL_MENU="databaseViewSettingsPanel",e))(Hd||{}),Gk=(e=>(e.DATABASE_ENTRY_DIALOG="databaseEntryDialog",e.DELETE_ENTRY_CONFIRM_DIALOG="deleteEntryConfirmationDialog",e.ENTRY_CONTEXTUAL_MENU="entryContextualMenu",e))(Gk||{});const nbe="ncs";var _t,Mm,At,ys,zb,LV;class rbe{constructor(t,n,r,o,a){ya(this,zb);ya(this,_t);ya(this,Mm);ya(this,At);ya(this,ys);var l;this.entryLinkFieldBatch=new Set,Js(this,_t,async d=>{const u={containerId:this.spaceId,containerType:"space",objectType:"database",...d};await this.client.sendTrackEvent(u);const f=`${d.actionSubject} ${d.action}`,p=d.objectId?` (database contentId: ${d.objectId})`:"";return w2({category:"trackEvent",message:`${f}${p}`,level:"info"}),!0}),Js(this,Mm,Zm(async d=>{if(this.entryLinkFieldBatch.size===0)return!0;const u={actionSubject:"failedEntryLinkReference",action:"load",objectId:d.contentId,source:d.source,actionSubjectId:d.fieldId,attributes:{databaseContainer:d.databaseContainer,fields:Array.from(this.entryLinkFieldBatch),count:this.entryLinkFieldBatch.size}};return this.entryLinkFieldBatch=new Set,await Ne(this,_t).call(this,u)},1e3)),Js(this,At,async d=>{const u={containerId:this.spaceId,containerType:"space",objectType:"database",...d};await this.client.sendUIEvent(u);const f=`${d.actionSubject} ${d.action} ${d.actionSubjectId}`,p=d.objectId?` (database contentId: ${d.objectId})`:"";return w2({category:"uiEvent",message:`${f}${p}`,level:"info"}),!0}),Js(this,ys,async d=>{var m,g;const u={...d,attributes:{objectType:"database",containerId:(m=this.spaceId)==null?void 0:m.toString(),containerType:"space",...d.attributes}};await this.client.sendScreenEvent(u);const f=`viewed ${d.name}`,p=(g=d==null?void 0:d.attributes)!=null&&g.contentId?` (database contentId: ${d.attributes.contentId})`:"";return w2({category:"screenEvent",message:`${f}${p}`,level:"info"}),!0});const s={env:o,product:"confluence",version:a},i={useLegacyUrl:!0};this.client=new Jve(s,i),t!==void 0?this.client.setTenantInfo(Sd.CLOUD_ID,t):this.client.setTenantInfo(Sd.NONE),this.client.setUserInfo(y_.ATLASSIAN_ACCOUNT,n||this.client.getAnonymousId()),this.spaceId=r,Hle.setup({gasv3:this.client,app:{version:{web:((l=RV())==null?void 0:l.toString())??"unknown"}},tenantType:PV()?kO.Synthetic:kO.RealUser,product:"confluence-databases"})}async sendDatabaseContentViewedEvent(t){const n={name:"databaseContentScreen",attributes:{contentId:t.contentId,databaseContainer:t.databaseContainer,locale:t.locale}};return await Ne(this,ys).call(this,n)}async sendDatabaseImportedEvent(t){const n={action:"imported",actionSubject:"databaseEntries",actionSubjectId:t.contentId,objectId:t.contentId,attributes:{databaseContainer:t.databaseContainer,isEmptyDatabase:t.isEmptyDatabase,fileSize:t.fileSize,importMethod:t.importMethod},source:"importEntriesDialog"};return await Ne(this,_t).call(this,n)}async sendContentPastedEvent(t){const n={action:"pasted",actionSubject:"content",actionSubjectId:t.contentId,objectId:t.contentId,attributes:{databaseContainer:t.databaseContainer},source:"database"};return await Ne(this,_t).call(this,n)}async sendUndoEvent(t){const n={action:"clicked",actionSubject:"button",actionSubjectId:"undo",objectId:t.contentId,source:t.source,attributes:{action:t.action,type:t.type,databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendDatabaseImportCancelledEvent(t){const n={action:"clicked",actionSubject:"button",actionSubjectId:"importCancelled",objectId:t.contentId,source:t.source,attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendDatabaseImportClickedEvent(t){const n={action:"clicked",actionSubject:"button",actionSubjectId:"importDatabase",objectId:t.contentId,source:"setupPanel",attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendDatabaseExportedEvent(t){const n={action:"exported",actionSubject:"database",objectId:t.databaseId,actionSubjectId:t.databaseId,attributes:{applyViewOnExport:t.applyViewOnExport,databaseContainer:t.databaseContainer,exportFormat:t.exportFormat},source:"exportDatabaseDialog"};return await Ne(this,_t).call(this,n)}async sendColumnResizedEvent(t){const n={action:"resized",actionSubject:"field",actionSubjectId:"fieldBorder",objectId:t.contentId,source:"databaseView",attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendInsertColumnEvent(t){const n={action:"inserted",actionSubject:"field",actionSubjectId:"entryColumn",objectId:t.contentId,source:"databaseView",attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendColumnReorderedEvent(t){const n={action:"reordered",actionSubject:"field",actionSubjectId:"fieldHeader",objectId:t.contentId,source:"databaseView",attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendRowReorderedEvent(t){const n={action:"reordered",actionSubject:"entry",actionSubjectId:"entryRow",objectId:t.contentId,source:"databaseView",attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendInsertRowEvent(t){const n={action:"inserted",actionSubject:"entry",actionSubjectId:"entryRow",objectId:t.contentId,source:"databaseView",attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendHideColumnsEvent(t){const n={action:"hid",actionSubject:"field",actionSubjectId:"fieldOption",source:t.source,objectId:t.contentId,attributes:{databaseContainer:t.databaseContainer,hidden:t.hidden,fieldType:t.fieldType}};return await Ne(this,At).call(this,n)}async sendHideAllColumnsEvent(t){const n={action:"hidAll",actionSubject:"field",actionSubjectId:"fieldOption",source:t.source,objectId:t.contentId,attributes:{databaseContainer:t.databaseContainer,hidden:t.hidden}};return await Ne(this,At).call(this,n)}async sendLayoutSelectedEvent(t){const n={action:"selected",actionSubject:"option",actionSubjectId:"databaseLayout",objectId:t.contentId,source:t.source,attributes:{layoutType:t.layoutType,databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendLayoutSettingSelectedEvent(t){const n={action:"selected",actionSubject:"option",actionSubjectId:"databaseLayoutSetting",objectId:t.contentId,source:t.source,attributes:{layoutSetting:t.layoutSetting,value:t.value,databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendNumberedEntriesToggledEvent(t){const n={action:"toggled",actionSubject:"option",actionSubjectId:"numberedEntriesToggle",objectId:t.contentId,source:t.source,attributes:{databaseContainer:t.databaseContainer,value:t.value}};return await Ne(this,At).call(this,n)}async sendLayoutButtonClickedEvent(t){const n={action:"clicked",actionSubject:"button",objectId:t.contentId,actionSubjectId:"databaseLayout",source:"databaseView",attributes:{contentId:t.contentId,databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendConnectionInsertedEvent(t){const n={actionSubject:"connectionField",action:"inserted",objectId:t.contentId,source:"datasourceDialog",actionSubjectId:t.contentId,attributes:{databaseContainer:t.databaseContainer,datasourceType:t.datasourceType,totalEntries:t.totalEntries}};return await Ne(this,_t).call(this,n)}async sendConnectionClickedEvent(t){const n={action:"clicked",actionSubject:"button",objectId:t.contentId,actionSubjectId:t.connectionType,source:"setupPanel",attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendDatabaseSortedEvent(t){const n={actionSubject:"databaseSort",action:"updated",source:t.source,actionSubjectId:t.fieldId,objectId:t.contentId,attributes:{isAscending:t.isAscending,databaseContainer:t.databaseContainer,fieldType:t.fieldType}};return await Ne(this,_t).call(this,n)}async sendDatabaseFilterButtonClicked(t){const n={action:"clicked",actionSubject:"button",objectId:t.contentId,actionSubjectId:"databaseFilter",source:t.source,attributes:{contentId:t.contentId,databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendDatabaseFilteredEvent(t){const n={actionSubject:"database",action:"filtered",objectId:t.contentId,source:t.source,actionSubjectId:t.contentId,attributes:{fieldType:t.fieldType,filterType:t.filterType,databaseContainer:t.databaseContainer}};return await Ne(this,_t).call(this,n)}async sendDatabaseCreateViewEvent(t){const n={actionSubject:"databaseView",action:"created",objectId:t.contentId,source:t.source,actionSubjectId:t.viewId,attributes:{databaseContainer:t.databaseContainer,layoutType:t.layoutType}};return await Ne(this,_t).call(this,n)}async sendDatabaseEditViewEvent(t){const n={actionSubject:"button",action:"clicked",objectId:t.contentId,source:t.source,actionSubjectId:"editDatabaseView",attributes:{viewId:t.viewId,databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendDatabaseFieldUpdatedEvent(t){const n={actionSubject:"fieldSettings",action:"updated",objectId:t.contentId,source:"fieldSettingsDialog",actionSubjectId:t.contentId,attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,_t).call(this,n)}async sendDatabaseFieldOptionUpdatedEvent(t){const n={actionSubject:"fieldOption",action:"selected",objectId:t.contentId,source:t.source,actionSubjectId:t.contentId,attributes:{databaseContainer:t.databaseContainer,fieldSelection:t.fieldSelection,isNewField:t.isNewField}};return await Ne(this,_t).call(this,n)}async sendPageCreationFieldSettingEditedEvent(t){const n={action:"edited",actionSubject:"pageCreationFieldSetting",actionSubjectId:t.fieldId,objectId:t.contentId,source:"fieldSettingsDialog",attributes:{databaseContainer:t.databaseContainer,fieldSetting:t.fieldSetting,value:t.value}};return await Ne(this,_t).call(this,n)}async sendDatabaseJiraIssue(t){const n={actionSubject:"jiraField",action:"selected",objectId:t.contentId,source:t.source,actionSubjectId:t.contentId,attributes:{databaseContainer:t.databaseContainer,jiraFieldSelection:t.jiraFieldSelection}};return await Ne(this,_t).call(this,n)}async sendDatasourcesDBMigrationConvertIdFailedEvent(t){const n={actionSubject:"datasourcesDBMigration",action:"convertIdFailed",source:t.source,objectId:t.contentId,actionSubjectId:t.contentId,attributes:{missingField:t.missingField,cloudId:t.cloudId,serverId:t.serverId,databaseContainer:t.databaseContainer}};return await Ne(this,_t).call(this,n)}async sendDatabaseCellContentHasBeenModifiedEvent(t){const n={actionSubject:"cellContent",action:"updated",objectId:t.contentId,source:"databaseView",actionSubjectId:t.contentId,attributes:{activationId:t.activationId,databaseContainer:t.databaseContainer,fieldType:t.fieldType}};return await Ne(this,_t).call(this,n)}async sendDatabaseViewSelected(t){const n={action:"clicked",actionSubject:"button",objectId:t.contentId,source:t.source,actionSubjectId:"databaseViewList",attributes:{viewId:t.viewId,databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}sendDatabaseViewReorderedEvent(t){const n={action:"reordered",actionSubject:"databaseView",objectId:t.contentId,source:t.source,actionSubjectId:t.viewId,attributes:{databaseContainer:t.databaseContainer}};return Ne(this,_t).call(this,n)}async sendDatabasedSearchedEvent(t){const n={actionSubject:"databaseSearch",action:"searched",objectId:t.contentId,source:"databaseSearch",actionSubjectId:t.contentId,attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,_t).call(this,n)}async sendCreateDatabaseFieldEvent(t){const n={actionSubject:"databaseField",action:"created",objectId:t.contentId,source:t.source,actionSubjectId:t.contentId,attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,_t).call(this,n)}async sendCreateDatabaseEntryEvent(t){const n={actionSubject:"databaseEntry",action:"created",objectId:t.contentId,source:t.source,actionSubjectId:t.contentId,attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,_t).call(this,n)}async sendDatabaseCommentCreatedEvent(t){const n={action:"created",actionSubject:"comment",actionSubjectId:t.commentId,attributes:{commentType:"inline",databaseContainer:t.databaseContainer,...t.parentCommentContentId?{parentCommentId:t.parentCommentContentId}:void 0},source:"addCommentPopup"};return await Ne(this,_t).call(this,n)}sendCreatePageFromDatabaseEvent(t){const n={actionSubject:"page",action:"created",objectId:t.newPageId,source:"database",actionSubjectId:t.contentId,objectType:"page",attributes:{databaseContainer:t.databaseContainer,sourceId:t.contentId,parentId:t.parentId,pageLocation:t.pageLocation,templateId:t.templateId,hasEntryEmbed:t.hasEntryEmbed,contentId:t.newPageId,pageSubType:t.pageSubType,version:1,editorVersion:"fabric"}};return Ne(this,_t).call(this,n)}async sendAddEntryButtonClickedEvent(t){const n={action:"clicked",actionSubject:"button",actionSubjectId:"addEntry",objectId:t.contentId,source:"databaseView",attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendDeleteFieldEvent(t){const n={actionSubject:"databaseField",action:"deleted",objectId:t.contentId,source:"fieldSettingsDialog",actionSubjectId:t.contentId,attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,_t).call(this,n)}async sendDeleteEntryEvent(t){const n={actionSubject:"databaseEntry",action:"deleted",objectId:t.contentId,source:t.source,actionSubjectId:t.contentId,attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,_t).call(this,n)}async sendMacroCreatedEvent(t){const n={actionSubject:"databaseMacro",action:"created",objectId:t.contentId,source:t.source??xO(this,zb,LV).call(this,t.macroType),actionSubjectId:t.contentId,attributes:{macroType:t.macroType,databaseContainer:sa.NONE,isNew:t.isNew}};return await Ne(this,_t).call(this,n)}async sendEntryLinkClickedEvent(t){const n={action:"clicked",actionSubject:"button",objectId:t.contentId,source:"database",actionSubjectId:"entryLink",attributes:{contentId:t.contentId,databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendReplaceDatabaseClickedEvent(t){const n={action:"clicked",actionSubject:"button",objectId:t.contentId,actionSubjectId:"replaceDatabase",source:"datasourceDialog",attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendTemplateClickedEvent(t){const n={action:"clicked",actionSubject:"button",objectId:t.contentId,actionSubjectId:"databaseTemplates",source:"setupPanel",attributes:{databaseContainer:t.databaseContainer,isInitialDatabase:t.isInitialDatabase,templateType:t.templateType}};return await Ne(this,At).call(this,n)}async sendViewUpdatedEvent(t){const n={actionSubject:"databaseView",action:"updated",objectId:t.contentId,source:t.source,actionSubjectId:t.viewId,attributes:{databaseContainer:t.databaseContainer,sortUpdated:t.sortUpdated,filterUpdated:t.filterUpdated,hideFieldsUpdated:t.hideFieldsUpdated,selectedLayout:t.selectedLayout,renamed:t.renamed}};return await Ne(this,_t).call(this,n)}async sendViewLinkCopiedEvent(t){const n={actionSubject:"databaseView",action:"copied",objectId:t.contentId,source:t.source,actionSubjectId:t.viewId,attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,_t).call(this,n)}async sendDefaultViewSetEvent(t){const n={actionSubject:"defaultDatabaseView",action:"set",objectId:t.contentId,source:t.source,actionSubjectId:t.viewId,attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,_t).call(this,n)}async sendViewDeletedEvent(t){const n={actionSubject:"databaseView",action:"deleted",objectId:t.contentId,source:t.source,actionSubjectId:t.viewId,attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,_t).call(this,n)}async sendViewSettingsPanelClosedEvent(t){const n={actionSubject:"databaseViewSettingsPanel",action:"closed",objectId:t.contentId,source:t.source,actionSubjectId:t.viewId,attributes:{databaseContainer:t.databaseContainer,isEdited:t.isEdited}};return await Ne(this,_t).call(this,n)}async sendEmbedDatabaseTitleUpdatedEvent(t){const n={action:"updated",actionSubject:"embedDatabaseHeaderTitle",actionSubjectId:t.contentId,objectId:t.contentId,source:"database",attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,_t).call(this,n)}async sendAddTagFieldEvent(t){const n={action:"clicked",actionSubject:"button",actionSubjectId:"addTagField",objectId:t.contentId,source:"boardLayout",attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendAddDateFieldEvent(t){const n={action:"clicked",actionSubject:"button",actionSubjectId:"addDateField",objectId:t.contentId,source:"calendarLayout",attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendEntryLinkFieldAnalytics(t){this.entryLinkFieldBatch.add(t.fieldId),await Ne(this,Mm).call(this,t)}async sendGAOnboardingSpotlightViewedEvent(){const t={name:"databaseGAOnboardingSetupPanelSpotlight"};return await Ne(this,ys).call(this,t)}async sendGAOnboardingConfettiViewedEvent(){const t={name:"databaseGAOnboardingConfetti"};return await Ne(this,ys).call(this,t)}async sendGAOnboardingSpotlightDismissedEvent(){const t={action:"clicked",actionSubject:"button",actionSubjectId:"dismiss",source:"databaseGAOnboardingSetupPanelSpotlight"};return await Ne(this,At).call(this,t)}async sendGAOnboardingSpotlightLinkClickedEvent(){const t={action:"clicked",actionSubject:"link",actionSubjectId:"howDatabasesWork",source:"databaseGAOnboardingSetupPanelSpotlight"};return await Ne(this,At).call(this,t)}async sendSetupPanelViewedEvent(t){const n={name:"databaseSetupPanel",attributes:{contentId:t.contentId,databaseContainer:t.databaseContainer}};return await Ne(this,ys).call(this,n)}async sendFieldContextualMenuOpened(t){const n={action:"clicked",actionSubject:"dragHandle",actionSubjectId:"fieldContextualMenu",source:"tableLayout",objectId:t.contentId};return await Ne(this,At).call(this,n)}async sendCreateCalculationEvent(t){const n={actionSubject:"quickCalculation",action:"created",objectId:t.contentId,source:t.source,actionSubjectId:t.fieldId,attributes:{databaseContainer:t.databaseContainer,calculationType:t.calculationType}};return await Ne(this,_t).call(this,n)}async sendRemoveCalculationEvent(t){const n={actionSubject:"quickCalculation",action:"removed",objectId:t.contentId,source:t.source,actionSubjectId:t.fieldId,attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,_t).call(this,n)}async sendCalculationEventConverted(t){const n={actionSubject:"quickCalculation",action:"converted",objectId:t.contentId,source:t.source,actionSubjectId:t.fieldId,attributes:{databaseContainer:t.databaseContainer,fromCalculationType:t.fromCalculationType,toCalculationType:t.toCalculationType}};return await Ne(this,_t).call(this,n)}async sendDatabaseProfiledEvent(t){const n={actionSubject:"databaseMetadata",action:"profiled",source:"database",objectId:t.contentId,attributes:{...t.attributes,databaseContainer:t.databaseContainer}};return await Ne(this,_t).call(this,n)}async sendMentionNotificationCheckboxToggledEvent(t){const n={action:"toggled",actionSubject:"option",actionSubjectId:"mentionNotificationToggle",objectId:t.contentId,source:"databaseViewSettingsPanel",attributes:{databaseContainer:t.databaseContainer,checked:t.checked}};return await Ne(this,At).call(this,n)}async sendMentionNotificationFlagViewedEvent(t){const n={name:"mentionNotificationFlag",attributes:{contentId:t.contentId,databaseContainer:t.databaseContainer,type:t.type}};return await Ne(this,ys).call(this,n)}async sendMentionNotificationActionEvent(t){const n={action:"clicked",actionSubject:"button",actionSubjectId:"mentionNotificationAction",objectId:t.contentId,source:"flags",attributes:{action:"fieldSettingsPanelOpened",databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendUserMentionTypeaheadClickedEvent(t){const n={action:"clicked",actionSubject:"userMentionTypeahead",objectId:t.contentId,source:"databaseView",attributes:{databaseContainer:t.databaseContainer}};return await Ne(this,At).call(this,n)}async sendPageCreatedByFlowEvent(t){const n={action:"createdByFlow",actionSubject:"content",objectId:t.contentId,source:"databasePageLinkValueEdit",attributes:{flow:"databasePageLinkValueEdit",contentType:"page",databaseContainer:t.databaseContainer,isLivePage:t.isLivePage,...t.isLivePage&&{collabService:nbe}}};return await Ne(this,_t).call(this,n)}sendOperationalEvent(){}}_t=new WeakMap,Mm=new WeakMap,At=new WeakMap,ys=new WeakMap,zb=new WeakSet,LV=function(t){switch(t){case V0.DATABASE:return"createDatabaseDialog";case V0.ENTRY:return"createDatabaseEntryDialog";case V0.VALUE:return"createDatabaseValueDialog"}};let qk;const rt=()=>qk,obe=e=>{qk=e};function lIt(e,t,n,r,o){obe(new rbe(e,n,t,r,o))}const Bp=async(e,t,n,r,o)=>{if(t===void 0)await e.sendDatabaseSortedEvent({contentId:o,source:n,databaseContainer:We(),fieldType:r});else{if(t.fieldId===void 0){wn(new Error("sendDatabaseSortedEvent was not sent because sortId was not defined"));return}if(t.ascending===void 0){wn(new Error("sendDatabaseSortedEvent was not sent because isAscending was not defined"));return}await e.sendDatabaseSortedEvent({contentId:o,fieldId:t.fieldId,isAscending:t.ascending,source:n,databaseContainer:We(),fieldType:r})}},NV=async(e,t,n,r)=>{await e.sendDeleteEntryEvent({contentId:r,source:t,databaseContainer:We()})},g$=e=>{const t=e||window,n=new URLSearchParams(t.location.search);return!!(n.get("entryId")&&!n.get("fieldId"))},abe=()=>{const e=new URLSearchParams(window.location.search);return!!(e.get("entryId")&&e.get("fieldId"))},We=()=>Xr()?g$()?sa.EMBED_ENTRY:abe()?sa.EMBED_VALUE:sa.EMBED_DATABASE:g$(eV())?sa.STANDALONE_ENTRY:sa.STANDALONE_DATABASE,FV=c.createContext({activeBanners:[],addBanner:()=>{},removeBanner:()=>{}}),sbe=({children:e})=>{const[t,n]=c.useState([]),r=c.useCallback(s=>{n(i=>i.includes(s)?i:[...i,s])},[]),o=c.useCallback(s=>{n(i=>i.includes(s)?i.filter(l=>l!==s):i)},[]),a=c.useMemo(()=>({activeBanners:t,addBanner:r,removeBanner:o}),[t,r,o]);return h.jsx(FV.Provider,{value:a,children:e})},ibe=()=>{const e=c.useContext(FV);if(e===void 0)throw new Error("useBanners must be used within a BannerProvider");return e},jV=Ym({view:{id:"",name:"",settings:Pa}}),lbe=e=>{jV.view=e},VV={[yt.TABLE]:{...Pa.layout,type:yt.TABLE},[yt.CARD]:{...Pa.layout,type:yt.CARD},[yt.BOARD]:{...Pa.layout,type:yt.BOARD},[yt.CALENDAR]:{...Pa.layout,type:yt.CALENDAR}},cbe=({setView:e,viewId:t,urlSavedViewId:n,unsavedViewId:r,unsavedView:o,viewChangeList:a,setUnsavedView:s,setResolvedView:i,setLayoutSettings:l})=>{const{contentId:d}=An(),[u,f,p]=fe.useEqualSelector(m=>{const g=Vt(m,{contentId:d??""});return!g||Ht(g)?[void 0,void 0,void 0]:[ql(g.views,t),ql(g.views,n),Kb(g)]});return c.useEffect(()=>{r&&zle(d??"",r).then(m=>{m&&s({id:Wr.UNSAVED,name:"Unsaved View",settings:Wle.parse(m.settings)})})},[d,s,r]),c.useEffect(()=>{let m=u??p;if(o&&t===Wr.UNSAVED&&(m=o),m)if(a.length===0)l(g=>({...g,[m.id]:{...VV,[m.settings.layout.type]:m.settings.layout}})),e(m);else{const g=a.reduce((v,b)=>lN(v,b),m);e(g)}},[p,u,l,e,o,r,t,a]),c.useEffect(()=>{if(o)return i(o);if(f)return i(f);if(p)return i(p)},[p,f,n,i,o]),null},pd={id:"",name:"",settings:Pa},Yk=c.createContext({view:pd,unsavedView:null,resolvedView:pd,setViewChange:()=>{},getViewChangeList:()=>[],resetViewChangeList:()=>{},setViewId:()=>{},activePanelSetting:null,setActivePanelSetting:()=>{},clearUnsavedView:()=>{}}),dbe=({children:e})=>{const{savedViewId:t,unsavedViewId:n,contentId:r}=An(),o=fe.useEqualSelector(V=>{const Y=Vt(V,{contentId:r??""});if(!Y||Ht(Y))return null;const J=Kb(Y);return J?J.id:null}),[a,s]=c.useState({}),[i,l]=c.useState(null),[d,u]=c.useState(n),[f,p]=c.useState(t??o),[m,g]=c.useState(pd),[v,b]=c.useState(pd),[y,E]=c.useState(null),[w,C]=c.useState({}),x=c.useRef(r),{addBanner:S}=ibe();c.useEffect(()=>{n&&((t===null||t===Wr.UNSAVED)&&p(Wr.UNSAVED),u(n))},[t,n]),c.useEffect(()=>{r!==x.current&&(s({}),p(t??o),x.current=r)},[r,x,t,o]);const I=c.useCallback((V,Y)=>{const J=f!==null?f:o;return Y.type===It.LAYOUT_TYPE&&J&&(V={...v,settings:{...v.settings,layout:w[J][Y.value]}}),lN(V,Y)},[o,w,v,f]),A=c.useCallback(V=>{Array.isArray(V)||(V=[V]);let Y=v;V.forEach(ce=>{Y=I(Y,ce)}),C(ce=>({...ce,[Y.id]:{...ce[Y.id],[Y.settings.layout.type]:Y.settings.layout}})),b(Y);const J=f??(v.id===pd.id?o:v.id);J&&s(ce=>({...ce,[J]:[...ce[J]??[],...V]}));const z=[It.VIEW_SEARCH];V.some(ce=>!z.includes(ce.type))&&S("unsaved-view-changes")},[S,o,I,v,f]),T=c.useCallback(()=>{const V=w[v.id],Y=V?V[v.settings.layout.type]:null,J={...v,settings:{...v.settings,layout:Y??VV[v.settings.layout.type]}};return lbe(J),J},[w,v]),O=c.useCallback(V=>{if(du()){const Y=window.parent,J=new URLSearchParams(Y.location.search);J.set("savedViewId",V),Y.history.replaceState({},"",`${Y.location.pathname}?${J}`)}},[]),D=c.useCallback(()=>{f&&s(V=>{var Y;return{...V,[f]:[...((Y=V[f])==null?void 0:Y.filter(J=>J.type!==It.VIEW_SEARCH))??[]]}})},[f]),$=c.useCallback(V=>{D(),p(V),O(V)},[O,D]),L=c.useCallback(()=>{E(null)},[]),F=c.useCallback(V=>{s(Y=>({...Y,[V]:[]}))},[]),B=c.useMemo(()=>{const V=f??(v.id===pd.id?o:v.id);return V?a[V]??[]:[]},[o,v.id,a,f]);return h.jsxs(Yk.Provider,{value:{view:T(),unsavedView:y,setViewChange:A,getViewChangeList:()=>B,resetViewChangeList:F,activePanelSetting:i,setActivePanelSetting:l,setViewId:$,resolvedView:m,clearUnsavedView:L},children:[h.jsx(cbe,{setView:b,viewId:f,urlSavedViewId:t,unsavedViewId:d,unsavedView:y,viewChangeList:B,setUnsavedView:E,setResolvedView:g,setLayoutSettings:C}),e]})},at=()=>{const e=c.useContext(Yk);if(e===void 0)throw new Error("useView must be used within a ViewProvider");return e};let BV={entriesCount:!1,fieldsCount:!1,fieldTypeCounts:!1,fieldTypes:!1,viewsCount:!1};function UV(){return BV}function ube(e){BV={entriesCount:e.entriesCount,fieldsCount:e.fieldsCount,fieldTypeCounts:e.fieldTypeCounts,fieldTypes:e.fieldTypes,viewsCount:e.viewsCount}}const cIt=()=>{const{contentId:e}=An(),{view:t}=at(),n=rt(),r=La.useSelector(f=>XS(f,{contentId:e})),o=La.useSelector(f=>$m(f,{contentId:e}));function a(f){return f.entries.length}function s(f){return f.fields.length}function i(f){return f.views.length}function l(f){const p=new Map;return Object.keys(f.fieldsById).forEach(m=>{const g=f.fieldsById[m].type;p.has(g)?p.set(g,(p.get(g)??0)+1):p.set(g,1)}),Object.fromEntries(p)}function d(f){return Array.from(new Set(Object.keys(l(f))))}function u(){return{layoutType:t.settings.layout.type,showNumberedEntriesEnabled:t.settings.layout.showNumberedEntries,cardWidth:t.settings.layout.cardWidth}}c.useEffect(()=>{if(!e||(o==null?void 0:o.status)!==St.SUCCEEDED||!r)return;(()=>{const p=r.database.toJSON(),m={fieldsCount:s(p),fieldTypeCounts:l(p),fieldTypes:d(p),entriesCount:a(p),viewsCount:i(p),viewSettings:u()};ube(m),n.sendDatabaseProfiledEvent({contentId:e,databaseContainer:We(),attributes:m})})()},[o==null?void 0:o.status,e,r])},fbe=e=>({light:"light",dark:"dark",colorMode:"light",typography:e?"typography-refreshed":"typography-modernized"}),dIt=e=>{const t=Gle().get("themeState"),n=t?qle(decodeURIComponent(t)):fbe(e);pbe(n)},pbe=e=>{Yle(e),Kle.theme=e.colorMode==="dark"?"dark":"light"};var mbe={VITE_SHOULD_THROW_ON_INVARIANTS:"false",VITE_CANVAS_RELAY_URL:"https://canvas-workers.atlassian.com",VITE_CANVAS_RELAY_WSS_URL:"wss://canvas-workers.atlassian.com",VITE_SHORT_COMMIT_HASH:"79b5d4",VITE_USER_NODE_ENV:"production",SENTRY_DSN:"https://c539b3edb4ba4437b37ac70f1d1a088a@o55978.ingest.sentry.io/4505121292484608",SENTRY_ENV:"prod",SENTRY_RELEASE:"dev",ENVTYPE:"prod",BUILD_MODE:"prod-east"};const uIt=async({cloudId:e,userId:t})=>{lue.timeLog("app-initialization","feature-flags-start"),p_.add(new cue(mbe.BUILD_MODE,e,t)),await p_.initialize();const n=due();Ide(r=>[...["platform.linking-platform.datasource.show-jlol-basic-filters","platform.linking-platform.datasource.show-clol-basic-filters"],...n].includes(r)),n.length>0&&tue("Feature Flags",{"In Use":n})};var Kk={};Object.defineProperty(Kk,"__esModule",{value:!0});var HV=Kk.default=void 0,hbe=zV(c),gbe=zV(Oe);function zV(e){return e&&e.__esModule?e:{default:e}}const WV=e=>hbe.default.createElement(gbe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M1 2.75h14M1 13.25h7M1 8h14"/>'},e));WV.displayName="AlignTextLeftIcon";HV=Kk.default=WV;var Xk={};Object.defineProperty(Xk,"__esModule",{value:!0});var GV=Xk.default=void 0,vbe=qV(c),bbe=qV(Oe);function qV(e){return e&&e.__esModule?e:{default:e}}const YV=e=>vbe.default.createElement(bbe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="m6.75 1-2.5 14m7.5-14-2.5 14M14 10.25H1m14-4.5H2"/>'},e));YV.displayName="HashtagIcon";GV=Xk.default=YV;var Jk={};Object.defineProperty(Jk,"__esModule",{value:!0});var KV=Jk.default=void 0,ybe=XV(c),Ebe=XV(Oe);function XV(e){return e&&e.__esModule?e:{default:e}}const JV=e=>ybe.default.createElement(Ebe.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" d="M2.75 2.75a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m0 5.25a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m0 5.25a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"/><path stroke="currentcolor" stroke-width="1.5" d="M5 2.75h10M5 8h10M5 13.25h10M2.75 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Zm0 5.25a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Zm0-10.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z"/>'},e));JV.displayName="ListBulletedIcon";KV=Jk.default=JV;var Zk={},hc={};Object.defineProperty(hc,"__esModule",{value:!0});var ZV=hc.default=void 0,wbe=QV(c),Cbe=QV(Oe);function QV(e){return e&&e.__esModule?e:{default:e}}const eB=e=>wbe.default.createElement(Cbe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M15 8H2.25m4.5-5-5 5 5 5"/>'},e));eB.displayName="ArrowLeftIcon";ZV=hc.default=eB;var S1={};Object.defineProperty(S1,"__esModule",{value:!0});var tB=S1.default=void 0,_be=nB(c),xbe=je,Sbe=nB(hc);function nB(e){return e&&e.__esModule?e:{default:e}}const rB=e=>_be.default.createElement(xbe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><circle cx="12" cy="12" r="10" fill="currentcolor"/><path fill="inherit" d="M16 10.995h-5.586l1.272-1.279a1.01 1.01 0 0 0 0-1.421.996.996 0 0 0-1.415 0l-2.978 2.994a1.01 1.01 0 0 0 0 1.423l2.978 2.993a1 1 0 0 0 1.415 0 1.01 1.01 0 0 0 0-1.421l-1.272-1.279H16c.552 0 1-.45 1-1.005s-.448-1.005-1-1.005"/></svg>'},e,{newIcon:Sbe.default}));rB.displayName="ArrowLeftCircleIcon";tB=S1.default=rB;Object.defineProperty(Zk,"__esModule",{value:!0});var oB=Zk.default=void 0,kbe=Qk(c),Ibe=Qk(hc),Tbe=Qk(S1);function Qk(e){return e&&e.__esModule?e:{default:e}}const aB=e=>kbe.default.createElement(Ibe.default,Object.assign({LEGACY_fallbackIcon:Tbe.default},e));aB.Name="ArrowLeftIconMigration";oB=Zk.default=aB;var eI={},gc={};Object.defineProperty(gc,"__esModule",{value:!0});gc.default=void 0;var Abe=sB(c),Dbe=sB(Oe);function sB(e){return e&&e.__esModule?e:{default:e}}const iB=e=>Abe.default.createElement(Dbe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M1.75 6.75V13c0 .69.56 1.25 1.25 1.25h10c.69 0 1.25-.56 1.25-1.25V6.75m-12.5 0V3c0-.69.56-1.25 1.25-1.25h2.25m-3.5 5h12.5m0 0V3c0-.69-.56-1.25-1.25-1.25h-2.25m-5.5 0V0m0 1.75V4.5m0-2.75h5.5m0 0V0m0 1.75V4.5"/>'},e));iB.displayName="CalendarIcon";gc.default=iB;var k1={};Object.defineProperty(k1,"__esModule",{value:!0});var lB=k1.default=void 0,Obe=cB(c),Mbe=je,$be=cB(gc);function cB(e){return e&&e.__esModule?e:{default:e}}const dB=e=>Obe.default.createElement(Mbe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><path fill="currentcolor" d="M19 5h.005C20.107 5 21 5.895 21 6.994v12.012A1.994 1.994 0 0 1 19.005 21H4.995A1.995 1.995 0 0 1 3 19.006V6.994C3 5.893 3.892 5 4.995 5H5v1c0 1.112.895 2 2 2 1.112 0 2-.895 2-2V5h6v1c0 1.112.895 2 2 2 1.112 0 2-.895 2-2z"/><path fill="inherit" d="M7 13h2v-2H7zm0 4h2v-2H7zm4-4h2v-2h-2zm0 4h2v-2h-2zm4-4h2v-2h-2zm0 4h2v-2h-2z"/><path fill="currentcolor" d="M16 6V5h2v1a1 1 0 0 1-2 0m0-2a1 1 0 0 1 2 0v1h-2zM6 4a1 1 0 0 1 2 0v1H6zm0 2V5h2v1a1 1 0 0 1-2 0"/></g></svg>'},e,{newIcon:$be.default}));dB.displayName="CalendarFilledIcon";lB=k1.default=dB;Object.defineProperty(eI,"__esModule",{value:!0});var uB=eI.default=void 0,Rbe=tI(c),Pbe=tI(gc),Lbe=tI(k1);function tI(e){return e&&e.__esModule?e:{default:e}}const fB=e=>Rbe.default.createElement(Pbe.default,Object.assign({LEGACY_fallbackIcon:Lbe.default},e));fB.Name="CalendarIconMigration";uB=eI.default=fB;var nI={},ih={};Object.defineProperty(ih,"__esModule",{value:!0});ih.default=void 0;var Nbe=pB(c),Fbe=pB(Oe);function pB(e){return e&&e.__esModule?e:{default:e}}const mB=e=>Nbe.default.createElement(Fbe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="m4.25 8 2.5 3 5-6M8 .75a7.25 7.25 0 1 0 0 14.5A7.25 7.25 0 0 0 8 .75Z"/>'},e));mB.displayName="CheckCircleIcon";ih.default=mB;var I1={};Object.defineProperty(I1,"__esModule",{value:!0});var hB=I1.default=void 0,jbe=gB(c),Vbe=je,Bbe=gB(ih);function gB(e){return e&&e.__esModule?e:{default:e}}const vB=e=>jbe.default.createElement(Vbe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><path fill-rule="nonzero" d="M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16m0 2C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10"/><path d="M9.707 11.293a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 1 0-1.414-1.414L11 12.586z"/></g></svg>'},e,{newIcon:Bbe.default}));vB.displayName="CheckCircleOutlineIcon";hB=I1.default=vB;Object.defineProperty(nI,"__esModule",{value:!0});var bB=nI.default=void 0,Ube=rI(c),Hbe=rI(ih),zbe=rI(I1);function rI(e){return e&&e.__esModule?e:{default:e}}const yB=e=>Ube.default.createElement(Hbe.default,Object.assign({LEGACY_fallbackIcon:zbe.default},e));yB.Name="CheckCircleIconMigration";bB=nI.default=yB;var oI={},lh={};Object.defineProperty(lh,"__esModule",{value:!0});lh.default=void 0;var Wbe=EB(c),Gbe=EB(Oe);function EB(e){return e&&e.__esModule?e:{default:e}}const wB=e=>Wbe.default.createElement(Gbe.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M3 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm9.326 4.48-1.152-.96L6.75 9.828 4.826 7.52l-1.152.96 2.5 3a.75.75 0 0 0 1.152 0z" clip-rule="evenodd"/>'},e));wB.displayName="CheckboxCheckedIcon";lh.default=wB;var T1={};Object.defineProperty(T1,"__esModule",{value:!0});var CB=T1.default=void 0,qbe=_B(c),Ybe=je,Kbe=_B(lh);function _B(e){return e&&e.__esModule?e:{default:e}}const xB=e=>qbe.default.createElement(Ybe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><rect width="12" height="12" x="6" y="6" fill="currentcolor" rx="2"/><path fill="inherit" d="M9.707 11.293a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 1 0-1.414-1.414L11 12.586z"/></g></svg>'},e,{newIcon:Kbe.default}));xB.displayName="CheckboxIcon";CB=T1.default=xB;Object.defineProperty(oI,"__esModule",{value:!0});var SB=oI.default=void 0,Xbe=aI(c),Jbe=aI(lh),Zbe=aI(T1);function aI(e){return e&&e.__esModule?e:{default:e}}const kB=e=>Xbe.default.createElement(Jbe.default,Object.assign({LEGACY_fallbackIcon:Zbe.default},e));kB.Name="CheckboxCheckedIconMigration";SB=oI.default=kB;var sI={},ch={};Object.defineProperty(ch,"__esModule",{value:!0});ch.default=void 0;var Qbe=IB(c),e1e=IB(Oe);function IB(e){return e&&e.__esModule?e:{default:e}}const TB=e=>Qbe.default.createElement(e1e.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" d="M6.75 5.75a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/><path fill="currentcolor" fill-rule="evenodd" d="M5.75 6.75a1 1 0 1 0 0-2 1 1 0 0 0 0 2" clip-rule="evenodd"/><path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M4 14.25h9c.69 0 1.25-.56 1.25-1.25v-2M4 14.25H3c-.69 0-1.25-.56-1.25-1.25V3c0-.69.56-1.25 1.25-1.25h10c.69 0 1.25.56 1.25 1.25v8M4 14.25 10 7l4.25 4m-7.5-5.25a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"/>'},e));TB.displayName="ImageIcon";ch.default=TB;var A1={};Object.defineProperty(A1,"__esModule",{value:!0});var AB=A1.default=void 0,t1e=DB(c),n1e=je,r1e=DB(ch);function DB(e){return e&&e.__esModule?e:{default:e}}const OB=e=>t1e.default.createElement(n1e.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><path fill-rule="nonzero" d="M5 6.007v11.986C5 18.55 5.45 19 6.007 19h11.986C18.55 19 19 18.55 19 17.993V6.007C19 5.45 18.55 5 17.993 5H6.007C5.45 5 5 5.45 5 6.007m-2 0A3.006 3.006 0 0 1 6.007 3h11.986A3.006 3.006 0 0 1 21 6.007v11.986A3.006 3.006 0 0 1 17.993 21H6.007A3.006 3.006 0 0 1 3 17.993z"/><path d="M11.005 17H16.5c.27 0 .5-.228.5-.509v-1.634a.73.73 0 0 0-.167-.44L14.5 11.85a.24.24 0 0 0-.344-.006L11 15l-.821-.821a.25.25 0 0 0-.358 0l-2.465 2.465c-.195.195-.136.356.135.356z"/><circle cx="9" cy="9" r="2"/></g></svg>'},e,{newIcon:r1e.default}));OB.displayName="MediaServicesScaleLargeIcon";AB=A1.default=OB;Object.defineProperty(sI,"__esModule",{value:!0});var MB=sI.default=void 0,o1e=iI(c),a1e=iI(ch),s1e=iI(A1);function iI(e){return e&&e.__esModule?e:{default:e}}const $B=e=>o1e.default.createElement(a1e.default,Object.assign({LEGACY_fallbackIcon:s1e.default},e));$B.Name="ImageIconMigration";MB=sI.default=$B;var lI={},dh={};Object.defineProperty(dh,"__esModule",{value:!0});var RB=dh.default=void 0,i1e=PB(c),l1e=PB(Oe);function PB(e){return e&&e.__esModule?e:{default:e}}const LB=e=>i1e.default.createElement(l1e.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="m5 7.875 2 2.375 4-4.75m-9 7.75h12c.69 0 1.25-.56 1.25-1.25V4c0-.69-.56-1.25-1.25-1.25H2C1.31 2.75.75 3.31.75 4v8c0 .69.56 1.25 1.25 1.25Z"/>'},e));LB.displayName="IssueIcon";RB=dh.default=LB;var D1={};Object.defineProperty(D1,"__esModule",{value:!0});var NB=D1.default=void 0,c1e=FB(c),d1e=je,u1e=FB(dh);function FB(e){return e&&e.__esModule?e:{default:e}}const jB=e=>c1e.default.createElement(d1e.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><path fill-rule="nonzero" d="M5 15.991c0 .007 14.005.009 14.005.009C18.999 16 19 8.009 19 8.009 19 8.002 4.995 8 4.995 8 5.001 8 5 15.991 5 15.991M3 8.01C3 6.899 3.893 6 4.995 6h14.01C20.107 6 21 6.902 21 8.009v7.982c0 1.11-.893 2.009-1.995 2.009H4.995A2.004 2.004 0 0 1 3 15.991z"/><path d="M10.674 14.331c.36.36.941.36 1.3 0l2.758-2.763a.92.92 0 0 0-1.301-1.298l-2.108 2.11-.755-.754a.92.92 0 0 0-1.3 1.3z"/></g></svg>'},e,{newIcon:u1e.default}));jB.displayName="IssueIcon";NB=D1.default=jB;Object.defineProperty(lI,"__esModule",{value:!0});var VB=lI.default=void 0,f1e=cI(c),p1e=cI(dh),m1e=cI(D1);function cI(e){return e&&e.__esModule?e:{default:e}}const BB=e=>f1e.default.createElement(p1e.default,Object.assign({LEGACY_fallbackIcon:m1e.default},e));BB.Name="IssueIconMigration";VB=lI.default=BB;var dI={},uh={};Object.defineProperty(uh,"__esModule",{value:!0});uh.default=void 0;var h1e=UB(c),g1e=UB(Oe);function UB(e){return e&&e.__esModule?e:{default:e}}const HB=e=>h1e.default.createElement(g1e.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="m4.125 7 1.583 1.875 3.167-3.75M.75 10V4c0-.69.56-1.25 1.25-1.25h9c.69 0 1.25.56 1.25 1.25v6c0 .69-.56 1.25-1.25 1.25H2c-.69 0-1.25-.56-1.25-1.25Z"/><path stroke="currentcolor" stroke-width="1.5" d="M5 14.25h7.75a2.5 2.5 0 0 0 2.5-2.5V7"/>'},e));HB.displayName="IssuesIcon";uh.default=HB;var O1={};Object.defineProperty(O1,"__esModule",{value:!0});var zB=O1.default=void 0,v1e=WB(c),b1e=je,y1e=WB(uh);function WB(e){return e&&e.__esModule?e:{default:e}}const GB=e=>v1e.default.createElement(b1e.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><path fill-rule="nonzero" d="M5 12.99C5 13 19.01 13 19.01 13 19 13 19 5.01 19 5.01 19 5 5 5 5 5zM3 5.01C3 3.9 3.89 3 5 3h14.01A2 2 0 0 1 21 5.01v7.98A2 2 0 0 1 19.01 15H5a2 2 0 0 1-2-2.01zM19 19c0 1.11-.9 2-2.01 2H7.01A2.01 2.01 0 0 1 5 19zm1-3a2 2 0 0 1-1.99 2H5.99A2 2 0 0 1 4 16z"/><path d="M10.674 11.331c.36.36.941.36 1.3 0l2.758-2.763a.92.92 0 0 0-1.301-1.298l-2.108 2.11-.755-.754a.92.92 0 0 0-1.3 1.3z"/></g></svg>'},e,{newIcon:y1e.default}));GB.displayName="IssuesIcon";zB=O1.default=GB;Object.defineProperty(dI,"__esModule",{value:!0});var qB=dI.default=void 0,E1e=uI(c),w1e=uI(uh),C1e=uI(O1);function uI(e){return e&&e.__esModule?e:{default:e}}const YB=e=>E1e.default.createElement(w1e.default,Object.assign({LEGACY_fallbackIcon:C1e.default},e));YB.Name="IssuesIconMigration";qB=dI.default=YB;var fI={},fh={};Object.defineProperty(fh,"__esModule",{value:!0});var _1e=fh.default=void 0,x1e=KB(c),S1e=KB(Oe);function KB(e){return e&&e.__esModule?e:{default:e}}const XB=e=>x1e.default.createElement(S1e.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="m5.25 10.75 5.5-5.5M5 6.5 2.75 8.75a3.182 3.182 0 0 0 4.5 4.5L9.5 11m-3-6 2.25-2.25a3.182 3.182 0 0 1 4.5 4.5L11 9.5"/>'},e));XB.displayName="LinkIcon";_1e=fh.default=XB;var ph={};Object.defineProperty(ph,"__esModule",{value:!0});var M1=ph.default=void 0,k1e=JB(c),I1e=je,T1e=JB(fh);function JB(e){return e&&e.__esModule?e:{default:e}}const ZB=e=>k1e.default.createElement(I1e.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><path d="m12.856 5.457-.937.92a1 1 0 0 0 0 1.437 1.047 1.047 0 0 0 1.463 0l.984-.966c.967-.95 2.542-1.135 3.602-.288a2.54 2.54 0 0 1 .203 3.81l-2.903 2.852a2.646 2.646 0 0 1-3.696 0l-1.11-1.09L9 13.57l1.108 1.089c1.822 1.788 4.802 1.788 6.622 0l2.905-2.852a4.558 4.558 0 0 0-.357-6.82c-1.893-1.517-4.695-1.226-6.422.47"/><path d="m11.144 19.543.937-.92a1 1 0 0 0 0-1.437 1.047 1.047 0 0 0-1.462 0l-.985.966c-.967.95-2.542 1.135-3.602.288a2.54 2.54 0 0 1-.203-3.81l2.903-2.852a2.646 2.646 0 0 1 3.696 0l1.11 1.09L15 11.43l-1.108-1.089c-1.822-1.788-4.802-1.788-6.622 0l-2.905 2.852a4.558 4.558 0 0 0 .357 6.82c1.893 1.517 4.695 1.226 6.422-.47"/></g></svg>'},e,{newIcon:T1e.default}));ZB.displayName="LinkIcon";M1=ph.default=ZB;const A1e=ro({__proto__:null,get default(){return M1}},[ph]);Object.defineProperty(fI,"__esModule",{value:!0});var Jr=fI.default=void 0,D1e=pI(c),O1e=pI(fh),M1e=pI(ph);function pI(e){return e&&e.__esModule?e:{default:e}}const QB=e=>D1e.default.createElement(O1e.default,Object.assign({LEGACY_fallbackIcon:M1e.default},e));QB.Name="LinkIconMigration";Jr=fI.default=QB;var mI={},Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});var eU=Ou.default=void 0,$1e=tU(c),R1e=tU(Oe);function tU(e){return e&&e.__esModule?e:{default:e}}const nU=e=>$1e.default.createElement(R1e.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M4 5.25h8m-8 3.5h6m-7 5.5h10c.69 0 1.25-.56 1.25-1.25V3c0-.69-.56-1.25-1.25-1.25H3c-.69 0-1.25.56-1.25 1.25v10c0 .69.56 1.25 1.25 1.25Z"/>'},e));nU.displayName="PageIcon";eU=Ou.default=nU;var $1={};Object.defineProperty($1,"__esModule",{value:!0});var rU=$1.default=void 0,P1e=oU(c),L1e=je,N1e=oU(Ou);function oU(e){return e&&e.__esModule?e:{default:e}}const aU=e=>P1e.default.createElement(L1e.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><rect width="8" height="2" x="8" y="6" rx="1"/><rect width="8" height="2" x="8" y="9" rx="1"/><rect width="4" height="2" x="8" y="12" rx="1"/><path fill-rule="nonzero" d="M7 4v16h10V4zm-2-.01C5 2.892 5.897 2 7.006 2h9.988C18.102 2 19 2.898 19 3.99v16.02c0 1.099-.897 1.99-2.006 1.99H7.006A2.003 2.003 0 0 1 5 20.01z"/></g></svg>'},e,{newIcon:N1e.default}));aU.displayName="PageIcon";rU=$1.default=aU;Object.defineProperty(mI,"__esModule",{value:!0});var sU=mI.default=void 0,F1e=hI(c),j1e=hI(Ou),V1e=hI($1);function hI(e){return e&&e.__esModule?e:{default:e}}const iU=e=>F1e.default.createElement(j1e.default,Object.assign({LEGACY_fallbackIcon:V1e.default},e));iU.Name="PageIconMigration";sU=mI.default=iU;var mh={};Object.defineProperty(mh,"__esModule",{value:!0});var gI=mh.default=void 0,B1e=lU(c),U1e=lU(Oe);function lU(e){return e&&e.__esModule?e:{default:e}}const cU=e=>B1e.default.createElement(U1e.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M13.25 15v-2.25a3 3 0 0 0-3-3h-4.5a3 3 0 0 0-3 3V15m8.5-11a3.25 3.25 0 1 1-6.5 0 3.25 3.25 0 0 1 6.5 0Z"/>'},e));cU.displayName="PersonIcon";gI=mh.default=cU;var R1={};Object.defineProperty(R1,"__esModule",{value:!0});var dU=R1.default=void 0,H1e=uU(c),z1e=uU(Oe);function uU(e){return e&&e.__esModule?e:{default:e}}const fU=e=>H1e.default.createElement(z1e.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M8.768 1.75H13c.69 0 1.25.56 1.25 1.25v4.232c0 .332-.132.65-.366.884l-5.75 5.75a1.25 1.25 0 0 1-1.768 0L2.134 9.634a1.25 1.25 0 0 1 0-1.768l5.75-5.75a1.25 1.25 0 0 1 .884-.366Z"/><rect width="2" height="2" x="10" y="4" fill="currentcolor" rx="1"/>'},e));fU.displayName="TagIcon";dU=R1.default=fU;var vI={};Object.defineProperty(vI,"__esModule",{value:!0});var pU=vI.default=void 0,W1e=mU(c),G1e=je,q1e=mU(fc);function mU(e){return e&&e.__esModule?e:{default:e}}const hU=e=>W1e.default.createElement(G1e.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle cx="12" cy="12" r="10" fill="currentcolor"/><path fill="inherit" d="M8.292 10.293a1.01 1.01 0 0 0 0 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955a1.01 1.01 0 0 0 0-1.419.987.987 0 0 0-1.406 0l-2.298 2.317-2.307-2.327a.99.99 0 0 0-1.406 0"/></g></svg>'},e,{newIcon:q1e.default,iconType:"utility"}));hU.displayName="ChevronDownCircleIcon";pU=vI.default=hU;var bI={},P1={};Object.defineProperty(P1,"__esModule",{value:!0});var gU=P1.default=void 0,Y1e=vU(c),K1e=vU(Oe);function vU(e){return e&&e.__esModule?e:{default:e}}const bU=e=>Y1e.default.createElement(K1e.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M11.625 14.28A7.25 7.25 0 1 1 15.25 8c0 1.381-.932 3.107-2.59 3.107-1.656 0-1.782-1.976-1.782-3.357l.005-.125m0 0c.022-1.019-.42-1.956-1.258-2.44-1.315-.759-3.11-.114-4.007 1.44s-.558 3.43.757 4.19c1.315.759 3.11.115 4.007-1.44a3.7 3.7 0 0 0 .5-1.75Z"/>'},e));bU.displayName="MentionIcon";gU=P1.default=bU;Object.defineProperty(bI,"__esModule",{value:!0});var yU=bI.default=void 0,X1e=EU(c),J1e=je,Z1e=EU(P1);function EU(e){return e&&e.__esModule?e:{default:e}}const wU=e=>X1e.default.createElement(J1e.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M12.062 13.93c-.904 0-1.451-.734-1.451-1.945 0-1.226.538-1.952 1.467-1.952.928 0 1.422.764 1.422 1.967 0 1.195-.502 1.93-1.438 1.93M12 5c-3.925 0-7 3.075-7 7 0 4.596 3.521 7 7 7 .874 0 1.613-.09 2.258-.279a.751.751 0 0 0-.42-1.44c-.506.147-1.108.22-1.838.22-2.649 0-5.5-1.722-5.5-5.5 0-3.085 2.415-5.5 5.5-5.5 3.239 0 5.5 1.952 5.5 4.75 0 2.045-1.044 3-1.75 3-.007 0-.75-.11-.75-.75v-4a.75.75 0 1 0-1.5 0v.187c-.347-.585-1.017-.952-1.796-.952C10.103 8.736 9 10.04 9 11.938c0 1.984 1.103 3.312 2.753 3.312.865 0 1.51-.387 1.865-1.076.334 1.016 1.37 1.576 2.132 1.576 1.598 0 3.25-1.683 3.25-4.5C19 7.628 16.058 5 12 5"/></svg>'},e,{newIcon:Z1e.default}));wU.displayName="EditorMentionIcon";yU=bI.default=wU;var yI={},L1={};Object.defineProperty(L1,"__esModule",{value:!0});L1.default=void 0;var Q1e=CU(c),eye=CU(Oe);function CU(e){return e&&e.__esModule?e:{default:e}}const _U=e=>Q1e.default.createElement(eye.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M3.75 11v-.375L5.032 7.25M12.25 11v-.375L10.974 7.25m0 0L8.518.75H7.5l-2.468 6.5m5.942 0H5.032"/>'},e));_U.displayName="TextStyleIcon";L1.default=_U;Object.defineProperty(yI,"__esModule",{value:!0});var xU=yI.default=void 0,tye=SU(c),nye=je,rye=SU(L1);function SU(e){return e&&e.__esModule?e:{default:e}}const kU=e=>tye.default.createElement(nye.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="m6.26 6.678-3.237 9.534a.5.5 0 0 0 .473.66h1.032a.75.75 0 0 0 .717-.53l.648-2.107H9.63l.647 2.107a.75.75 0 0 0 .717.53h1.113a.5.5 0 0 0 .473-.66L9.337 6.677A1 1 0 0 0 8.39 6H7.207a1 1 0 0 0-.947.678M7.736 8.08h.051l1.364 4.453H6.372zm11.113 2.043v-.327a1 1 0 0 1 1-1H20a1 1 0 0 1 1 1v6.078a1 1 0 0 1-1 1h-.151a1 1 0 0 1-1-1v-.312h-.088c-.392.874-1.232 1.439-2.418 1.439-1.975 0-3.221-1.613-3.221-4.182 0-2.546 1.254-4.15 3.221-4.15 1.172 0 2.026.595 2.418 1.454zm-.045 2.712c0-1.47-.685-2.404-1.754-2.404s-1.725.92-1.725 2.404c0 1.491.657 2.395 1.725 2.395 1.076 0 1.754-.911 1.754-2.395"/></svg>'},e,{newIcon:rye.default}));kU.displayName="EditorTextStyleIcon";xU=yI.default=kU;var EI={};Object.defineProperty(EI,"__esModule",{value:!0});var IU=EI.default=void 0,oye=TU(c),aye=je,sye=TU(R1);function TU(e){return e&&e.__esModule?e:{default:e}}const AU=e=>oye.default.createElement(aye.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="m11.433 5.428-4.207.6A2 2 0 0 0 5.53 7.727l-.6 4.207a1 1 0 0 0 .281.849l6.895 6.894a1 1 0 0 0 1.414 0l5.657-5.657a1 1 0 0 0 0-1.414L12.282 5.71a1 1 0 0 0-.849-.283m-.647 5.858A1.666 1.666 0 1 1 8.43 8.929a1.666 1.666 0 0 1 2.357 2.357"/></svg>'},e,{newIcon:sye.default}));AU.displayName="LabelIcon";IU=EI.default=AU;var N1={},Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});var kv=Mu.default=void 0,iye=DU(c),lye=DU(Oe);function DU(e){return e&&e.__esModule?e:{default:e}}const OU=e=>iye.default.createElement(lye.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="m14.5 14.5-3.788-3.788m0 0a5.25 5.25 0 1 0-7.425-7.425 5.25 5.25 0 0 0 7.425 7.425Z"/>'},e));OU.displayName="SearchIcon";kv=Mu.default=OU;Object.defineProperty(N1,"__esModule",{value:!0});var MU=N1.default=void 0,cye=$U(c),dye=je,uye=$U(Mu);function $U(e){return e&&e.__esModule?e:{default:e}}const RU=e=>cye.default.createElement(dye.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="m16.436 15.085 3.94 4.01a1 1 0 0 1-1.425 1.402l-3.938-4.006a7.5 7.5 0 1 1 1.423-1.406M10.5 16a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11"/></svg>'},e,{newIcon:uye.default}));RU.displayName="SearchIcon";MU=N1.default=RU;var wI={};Object.defineProperty(wI,"__esModule",{value:!0});var PU=wI.default=void 0,fye=LU(c),pye=LU(Oe);function LU(e){return e&&e.__esModule?e:{default:e}}const NU=e=>fye.default.createElement(pye.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M14.5 2.25v10H8.75V4.625a2.375 2.375 0 0 1 2.375-2.375zM8 2.333A3.87 3.87 0 0 1 11.125.75h3.501C15.387.75 16 1.367 16 2.125v10.25c0 .76-.616 1.375-1.375 1.375H8.75v1.5h-1.5v-1.5H1.375C.615 13.75 0 13.134 0 12.375V2.125C0 1.366.615.75 1.375.75h3.5A3.87 3.87 0 0 1 8 2.333m-.75 9.917V4.625A2.375 2.375 0 0 0 4.875 2.25H1.5v10zm6-8H10.5v1.5h2.75zm0 2.5H10.5v1.5h2.75z" clip-rule="evenodd"/>'},e));NU.displayName="BookOpenIcon";PU=wI.default=NU;var CI={};Object.defineProperty(CI,"__esModule",{value:!0});var FU=CI.default=void 0,mye=jU(c),hye=jU(Oe);function jU(e){return e&&e.__esModule?e:{default:e}}const VU=e=>mye.default.createElement(hye.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M0 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-.5a.5.5 0 0 0-.5.5v4a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5V6a.5.5 0 0 0-.5-.5zm11 3.25H3v-1.5h10z" clip-rule="evenodd"/>'},e));VU.displayName="LozengeIcon";FU=CI.default=VU;let gye=class BU{constructor(t){q(this,"_isAnalyticsEvent",!0),q(this,"clone",()=>{const n={...this.payload};return new BU({payload:n})}),this.payload=t.payload}update(t){return typeof t=="function"&&(this.payload=t(this.payload)),typeof t=="object"&&(this.payload={...this.payload,...t}),this}},vye=class UU extends gye{constructor(t){super(t),q(this,"_isUIAnalyticsEvent",!0),q(this,"clone",()=>{if(this.hasFired)return null;const n=[...this.context],r=[...this.handlers],o=JSON.parse(JSON.stringify(this.payload));return new UU({context:n,handlers:r,payload:o})}),q(this,"fire",n=>{this.hasFired||(this.handlers.forEach(r=>r(this,n)),this.hasFired=!0)}),this.context=t.context||[],this.handlers=t.handlers||[],this.hasFired=!1}update(t){return this.hasFired?this:super.update(t)}};var bye={VITE_SHOULD_THROW_ON_INVARIANTS:"false",VITE_CANVAS_RELAY_URL:"https://canvas-workers.atlassian.com",VITE_CANVAS_RELAY_WSS_URL:"wss://canvas-workers.atlassian.com",VITE_SHORT_COMMIT_HASH:"79b5d4",VITE_USER_NODE_ENV:"production",SENTRY_DSN:"https://c539b3edb4ba4437b37ac70f1d1a088a@o55978.ingest.sentry.io/4505121292484608",SENTRY_ENV:"prod",SENTRY_RELEASE:"dev",ENVTYPE:"prod",BUILD_MODE:"prod-east"},H2;const yye=typeof process<"u"&&process!==null&&((H2=bye)===null||H2===void 0?void 0:H2.ANALYTICS_NEXT_MODERN_CONTEXT),HU=()=>c.useContext(vu),x_=e=>{const t=c.useRef(e);return t.current=e,t},zU={getAtlaskitAnalyticsContext:Lt.func,getAtlaskitAnalyticsEventHandlers:Lt.func},v$=()=>[];let _I=class extends c.Component{constructor(t){super(t),q(this,"getChildContext",()=>({getAtlaskitAnalyticsContext:this.getAnalyticsContext})),q(this,"getAnalyticsContext",()=>{const{data:n}=this.props,{getAtlaskitAnalyticsContext:r=v$}=this.context;return[...r(),n]}),q(this,"getAnalyticsEventHandlers",()=>{const{getAtlaskitAnalyticsEventHandlers:n=v$}=this.context;return n()}),this.contextValue={getAtlaskitAnalyticsContext:this.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:this.getAnalyticsEventHandlers}}render(){const{children:t}=this.props;return _.createElement(vu.Provider,{value:this.contextValue},t)}};q(_I,"contextTypes",zU);q(_I,"childContextTypes",zU);const Eye=({data:e,children:t})=>{const n=x_(e),{getAtlaskitAnalyticsEventHandlers:r,getAtlaskitAnalyticsContext:o}=HU(),a=c.useCallback(()=>[...o(),n.current],[o,n]),s=c.useMemo(()=>({getAtlaskitAnalyticsContext:a,getAtlaskitAnalyticsEventHandlers:r}),[a,r]);return _.createElement(vu.Provider,{value:s},t)},$u=e=>yye||et("platform.analytics-next-use-modern-context_fqgbx")?_.createElement(Eye,e):_.createElement(_I,e),wye=e=>t=>{const n=c.forwardRef(({analyticsContext:r,...o},a)=>{const s=c.useMemo(()=>({...e,...r}),[r]);return _.createElement($u,{data:s},_.createElement(t,H({},o,{ref:a})))});return n.displayName=`WithAnalyticsContext(${t.displayName||t.name})`,n};function Kn(){const e=HU();return{createAnalyticsEvent:oF(n=>new vye({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:n}),[e])}}function Cye(e={},t){const{createAnalyticsEvent:n}=Kn(),r=c.useRef({});return{patchedEventProps:c.useMemo(()=>{const a=r.current;return Object.keys(a).filter(s=>!(s in e)).forEach(s=>delete a[s]),Object.keys(e).reduce((s,i)=>{const l=e[i];if(!["object","function"].includes(typeof l))return s;const d=t[i];if(i in a&&a[i].eventCreator===l&&a[i].propValue===d)return{...s,[i]:a[i].wrappedCallback};const u=(...f)=>{const p=typeof l=="function"?l(n,t):n(l);d&&typeof d=="function"&&d(...f,p)};return a[i]={eventCreator:l,wrappedCallback:u,propValue:d},{...s,[i]:u}},{})},[e,t,n,r])}}const WU=(e={})=>t=>{const n=c.forwardRef((r,o)=>{const{patchedEventProps:a}=Cye(e,r),{createAnalyticsEvent:s}=Kn();return _.createElement(t,H({},r,a,{createAnalyticsEvent:s,ref:o}))});return n.displayName=`WithAnalyticsEvents(${t.displayName||t.name})`,n};function Iv({fn:e,action:t,componentName:n,packageName:r,packageVersion:o,analyticsData:a}){const{createAnalyticsEvent:s}=Kn(),i=x_(a),l=x_(e);return c.useCallback(()=>{const u=s({action:t,actionSubject:n,attributes:{componentName:n,packageName:r,packageVersion:o}}),f={componentName:n,packageName:r,packageVersion:o,...i.current};u.context.push(f);const p=u.clone();p&&p.fire("atlaskit"),l.current(u)},[t,n,r,o,s,i,l])}const GU=e=>t=>n=>{const r=n(t),o=r.clone();return o&&o.fire(e),r};function Nt(){}const _ye="ArrowUp",qU="ArrowDown",xye="Home",Sye="End",S_="Tab",kye="Enter",Iye="Space",Tye="Escape";function YU({onClose:e,isDisabled:t}){const n=c.useRef(!1),r=c.useCallback(a=>{t||n.current||a.key!==Tye||(n.current=!0,e(a))},[e,t]),o=c.useCallback(()=>{n.current=!1},[]);c.useEffect(()=>mt.bindAll(document,[{type:"keydown",listener:r},{type:"keyup",listener:o}],{capture:!1}),[r,o])}function Ma(e){const t=c.useRef(e);return c.useEffect(()=>{t.current=e},[e]),t}const Aye=c.createContext(null);function xI({isOpen:e=!0}={}){const t=c.useContext(Aye);c.useEffect(()=>{if(t!==null&&e)return t.increment(),()=>{t.decrement()}},[t,e])}var KU=c.createContext(),XU=c.createContext();function hh(e){var t=e.children,n=c.useState(null),r=n[0],o=n[1],a=c.useRef(!1);c.useEffect(function(){return function(){a.current=!0}},[]);var s=c.useCallback(function(i){a.current||o(i)},[]);return c.createElement(KU.Provider,{value:r},c.createElement(XU.Provider,{value:s},t))}var JU=function(t){return Array.isArray(t)?t[0]:t},ZU=function(t){if(typeof t=="function"){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.apply(void 0,r)}},k_=function(t,n){if(typeof t=="function")return ZU(t,n);t!=null&&(t.current=n)},b$=function(t){return t.reduce(function(n,r){var o=r[0],a=r[1];return n[o]=a,n},{})},y$=typeof window<"u"&&window.document&&window.document.createElement?c.useLayoutEffect:c.useEffect,Yr="top",qo="bottom",Yo="right",Kr="left",SI="auto",gh=[Yr,qo,Yo,Kr],zd="start",Up="end",Dye="clippingParents",QU="viewport",ff="popper",Oye="reference",E$=gh.reduce(function(e,t){return e.concat([t+"-"+zd,t+"-"+Up])},[]),eH=[].concat(gh,[SI]).reduce(function(e,t){return e.concat([t,t+"-"+zd,t+"-"+Up])},[]),Mye="beforeRead",$ye="read",Rye="afterRead",Pye="beforeMain",Lye="main",Nye="afterMain",Fye="beforeWrite",jye="write",Vye="afterWrite",Bye=[Mye,$ye,Rye,Pye,Lye,Nye,Fye,jye,Vye];function Ga(e){return e?(e.nodeName||"").toLowerCase():null}function xo(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Jl(e){var t=xo(e).Element;return e instanceof t||e instanceof Element}function Ho(e){var t=xo(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function kI(e){if(typeof ShadowRoot>"u")return!1;var t=xo(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Uye(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},a=t.elements[n];!Ho(a)||!Ga(a)||(Object.assign(a.style,r),Object.keys(o).forEach(function(s){var i=o[s];i===!1?a.removeAttribute(s):a.setAttribute(s,i===!0?"":i)}))})}function Hye(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],a=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),i=s.reduce(function(l,d){return l[d]="",l},{});!Ho(o)||!Ga(o)||(Object.assign(o.style,i),Object.keys(a).forEach(function(l){o.removeAttribute(l)}))})}}const zye={name:"applyStyles",enabled:!0,phase:"write",fn:Uye,effect:Hye,requires:["computeStyles"]};function Ua(e){return e.split("-")[0]}var Ll=Math.max,Tv=Math.min,Wd=Math.round;function I_(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function tH(){return!/^((?!chrome|android).)*safari/i.test(I_())}function Gd(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,a=1;t&&Ho(e)&&(o=e.offsetWidth>0&&Wd(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Wd(r.height)/e.offsetHeight||1);var s=Jl(e)?xo(e):window,i=s.visualViewport,l=!tH()&&n,d=(r.left+(l&&i?i.offsetLeft:0))/o,u=(r.top+(l&&i?i.offsetTop:0))/a,f=r.width/o,p=r.height/a;return{width:f,height:p,top:u,right:d+f,bottom:u+p,left:d,x:d,y:u}}function II(e){var t=Gd(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function nH(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&kI(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Os(e){return xo(e).getComputedStyle(e)}function Wye(e){return["table","td","th"].indexOf(Ga(e))>=0}function Yi(e){return((Jl(e)?e.ownerDocument:e.document)||window.document).documentElement}function F1(e){return Ga(e)==="html"?e:e.assignedSlot||e.parentNode||(kI(e)?e.host:null)||Yi(e)}function w$(e){return!Ho(e)||Os(e).position==="fixed"?null:e.offsetParent}function Gye(e){var t=/firefox/i.test(I_()),n=/Trident/i.test(I_());if(n&&Ho(e)){var r=Os(e);if(r.position==="fixed")return null}var o=F1(e);for(kI(o)&&(o=o.host);Ho(o)&&["html","body"].indexOf(Ga(o))<0;){var a=Os(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function vh(e){for(var t=xo(e),n=w$(e);n&&Wye(n)&&Os(n).position==="static";)n=w$(n);return n&&(Ga(n)==="html"||Ga(n)==="body"&&Os(n).position==="static")?t:n||Gye(e)||t}function TI(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function cp(e,t,n){return Ll(e,Tv(t,n))}function qye(e,t,n){var r=cp(e,t,n);return r>n?n:r}function rH(){return{top:0,right:0,bottom:0,left:0}}function oH(e){return Object.assign({},rH(),e)}function aH(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Yye=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,oH(typeof t!="number"?t:aH(t,gh))};function Kye(e){var t,n=e.state,r=e.name,o=e.options,a=n.elements.arrow,s=n.modifiersData.popperOffsets,i=Ua(n.placement),l=TI(i),d=[Kr,Yo].indexOf(i)>=0,u=d?"height":"width";if(!(!a||!s)){var f=Yye(o.padding,n),p=II(a),m=l==="y"?Yr:Kr,g=l==="y"?qo:Yo,v=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],b=s[l]-n.rects.reference[l],y=vh(a),E=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,w=v/2-b/2,C=f[m],x=E-p[u]-f[g],S=E/2-p[u]/2+w,I=cp(C,S,x),A=l;n.modifiersData[r]=(t={},t[A]=I,t.centerOffset=I-S,t)}}function Xye(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||nH(t.elements.popper,o)&&(t.elements.arrow=o))}const Jye={name:"arrow",enabled:!0,phase:"main",fn:Kye,effect:Xye,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qd(e){return e.split("-")[1]}var Zye={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Qye(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:Wd(n*o)/o||0,y:Wd(r*o)/o||0}}function C$(e){var t,n=e.popper,r=e.popperRect,o=e.placement,a=e.variation,s=e.offsets,i=e.position,l=e.gpuAcceleration,d=e.adaptive,u=e.roundOffsets,f=e.isFixed,p=s.x,m=p===void 0?0:p,g=s.y,v=g===void 0?0:g,b=typeof u=="function"?u({x:m,y:v}):{x:m,y:v};m=b.x,v=b.y;var y=s.hasOwnProperty("x"),E=s.hasOwnProperty("y"),w=Kr,C=Yr,x=window;if(d){var S=vh(n),I="clientHeight",A="clientWidth";if(S===xo(n)&&(S=Yi(n),Os(S).position!=="static"&&i==="absolute"&&(I="scrollHeight",A="scrollWidth")),S=S,o===Yr||(o===Kr||o===Yo)&&a===Up){C=qo;var T=f&&S===x&&x.visualViewport?x.visualViewport.height:S[I];v-=T-r.height,v*=l?1:-1}if(o===Kr||(o===Yr||o===qo)&&a===Up){w=Yo;var O=f&&S===x&&x.visualViewport?x.visualViewport.width:S[A];m-=O-r.width,m*=l?1:-1}}var D=Object.assign({position:i},d&&Zye),$=u===!0?Qye({x:m,y:v},xo(n)):{x:m,y:v};if(m=$.x,v=$.y,l){var L;return Object.assign({},D,(L={},L[C]=E?"0":"",L[w]=y?"0":"",L.transform=(x.devicePixelRatio||1)<=1?"translate("+m+"px, "+v+"px)":"translate3d("+m+"px, "+v+"px, 0)",L))}return Object.assign({},D,(t={},t[C]=E?v+"px":"",t[w]=y?m+"px":"",t.transform="",t))}function eEe(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,a=n.adaptive,s=a===void 0?!0:a,i=n.roundOffsets,l=i===void 0?!0:i,d={placement:Ua(t.placement),variation:qd(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,C$(Object.assign({},d,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,C$(Object.assign({},d,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const tEe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:eEe,data:{}};var Kg={passive:!0};function nEe(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,a=o===void 0?!0:o,s=r.resize,i=s===void 0?!0:s,l=xo(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&d.forEach(function(u){u.addEventListener("scroll",n.update,Kg)}),i&&l.addEventListener("resize",n.update,Kg),function(){a&&d.forEach(function(u){u.removeEventListener("scroll",n.update,Kg)}),i&&l.removeEventListener("resize",n.update,Kg)}}const rEe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:nEe,data:{}};var oEe={left:"right",right:"left",bottom:"top",top:"bottom"};function B0(e){return e.replace(/left|right|bottom|top/g,function(t){return oEe[t]})}var aEe={start:"end",end:"start"};function _$(e){return e.replace(/start|end/g,function(t){return aEe[t]})}function AI(e){var t=xo(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function DI(e){return Gd(Yi(e)).left+AI(e).scrollLeft}function sEe(e,t){var n=xo(e),r=Yi(e),o=n.visualViewport,a=r.clientWidth,s=r.clientHeight,i=0,l=0;if(o){a=o.width,s=o.height;var d=tH();(d||!d&&t==="fixed")&&(i=o.offsetLeft,l=o.offsetTop)}return{width:a,height:s,x:i+DI(e),y:l}}function iEe(e){var t,n=Yi(e),r=AI(e),o=(t=e.ownerDocument)==null?void 0:t.body,a=Ll(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Ll(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),i=-r.scrollLeft+DI(e),l=-r.scrollTop;return Os(o||n).direction==="rtl"&&(i+=Ll(n.clientWidth,o?o.clientWidth:0)-a),{width:a,height:s,x:i,y:l}}function OI(e){var t=Os(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function sH(e){return["html","body","#document"].indexOf(Ga(e))>=0?e.ownerDocument.body:Ho(e)&&OI(e)?e:sH(F1(e))}function dp(e,t){var n;t===void 0&&(t=[]);var r=sH(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),a=xo(r),s=o?[a].concat(a.visualViewport||[],OI(r)?r:[]):r,i=t.concat(s);return o?i:i.concat(dp(F1(s)))}function T_(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function lEe(e,t){var n=Gd(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function x$(e,t,n){return t===QU?T_(sEe(e,n)):Jl(t)?lEe(t,n):T_(iEe(Yi(e)))}function cEe(e){var t=dp(F1(e)),n=["absolute","fixed"].indexOf(Os(e).position)>=0,r=n&&Ho(e)?vh(e):e;return Jl(r)?t.filter(function(o){return Jl(o)&&nH(o,r)&&Ga(o)!=="body"}):[]}function dEe(e,t,n,r){var o=t==="clippingParents"?cEe(e):[].concat(t),a=[].concat(o,[n]),s=a[0],i=a.reduce(function(l,d){var u=x$(e,d,r);return l.top=Ll(u.top,l.top),l.right=Tv(u.right,l.right),l.bottom=Tv(u.bottom,l.bottom),l.left=Ll(u.left,l.left),l},x$(e,s,r));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function iH(e){var t=e.reference,n=e.element,r=e.placement,o=r?Ua(r):null,a=r?qd(r):null,s=t.x+t.width/2-n.width/2,i=t.y+t.height/2-n.height/2,l;switch(o){case Yr:l={x:s,y:t.y-n.height};break;case qo:l={x:s,y:t.y+t.height};break;case Yo:l={x:t.x+t.width,y:i};break;case Kr:l={x:t.x-n.width,y:i};break;default:l={x:t.x,y:t.y}}var d=o?TI(o):null;if(d!=null){var u=d==="y"?"height":"width";switch(a){case zd:l[d]=l[d]-(t[u]/2-n[u]/2);break;case Up:l[d]=l[d]+(t[u]/2-n[u]/2);break}}return l}function Hp(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,a=n.strategy,s=a===void 0?e.strategy:a,i=n.boundary,l=i===void 0?Dye:i,d=n.rootBoundary,u=d===void 0?QU:d,f=n.elementContext,p=f===void 0?ff:f,m=n.altBoundary,g=m===void 0?!1:m,v=n.padding,b=v===void 0?0:v,y=oH(typeof b!="number"?b:aH(b,gh)),E=p===ff?Oye:ff,w=e.rects.popper,C=e.elements[g?E:p],x=dEe(Jl(C)?C:C.contextElement||Yi(e.elements.popper),l,u,s),S=Gd(e.elements.reference),I=iH({reference:S,element:w,strategy:"absolute",placement:o}),A=T_(Object.assign({},w,I)),T=p===ff?A:S,O={top:x.top-T.top+y.top,bottom:T.bottom-x.bottom+y.bottom,left:x.left-T.left+y.left,right:T.right-x.right+y.right},D=e.modifiersData.offset;if(p===ff&&D){var $=D[o];Object.keys(O).forEach(function(L){var F=[Yo,qo].indexOf(L)>=0?1:-1,B=[Yr,qo].indexOf(L)>=0?"y":"x";O[L]+=$[B]*F})}return O}function uEe(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,a=n.rootBoundary,s=n.padding,i=n.flipVariations,l=n.allowedAutoPlacements,d=l===void 0?eH:l,u=qd(r),f=u?i?E$:E$.filter(function(g){return qd(g)===u}):gh,p=f.filter(function(g){return d.indexOf(g)>=0});p.length===0&&(p=f);var m=p.reduce(function(g,v){return g[v]=Hp(e,{placement:v,boundary:o,rootBoundary:a,padding:s})[Ua(v)],g},{});return Object.keys(m).sort(function(g,v){return m[g]-m[v]})}function fEe(e){if(Ua(e)===SI)return[];var t=B0(e);return[_$(e),t,_$(t)]}function pEe(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,a=o===void 0?!0:o,s=n.altAxis,i=s===void 0?!0:s,l=n.fallbackPlacements,d=n.padding,u=n.boundary,f=n.rootBoundary,p=n.altBoundary,m=n.flipVariations,g=m===void 0?!0:m,v=n.allowedAutoPlacements,b=t.options.placement,y=Ua(b),E=y===b,w=l||(E||!g?[B0(b)]:fEe(b)),C=[b].concat(w).reduce(function(K,oe){return K.concat(Ua(oe)===SI?uEe(t,{placement:oe,boundary:u,rootBoundary:f,padding:d,flipVariations:g,allowedAutoPlacements:v}):oe)},[]),x=t.rects.reference,S=t.rects.popper,I=new Map,A=!0,T=C[0],O=0;O<C.length;O++){var D=C[O],$=Ua(D),L=qd(D)===zd,F=[Yr,qo].indexOf($)>=0,B=F?"width":"height",V=Hp(t,{placement:D,boundary:u,rootBoundary:f,altBoundary:p,padding:d}),Y=F?L?Yo:Kr:L?qo:Yr;x[B]>S[B]&&(Y=B0(Y));var J=B0(Y),z=[];if(a&&z.push(V[$]<=0),i&&z.push(V[Y]<=0,V[J]<=0),z.every(function(K){return K})){T=D,A=!1;break}I.set(D,z)}if(A)for(var ce=g?3:1,le=function(oe){var X=C.find(function(pe){var ee=I.get(pe);if(ee)return ee.slice(0,oe).every(function(ne){return ne})});if(X)return T=X,"break"},j=ce;j>0;j--){var Z=le(j);if(Z==="break")break}t.placement!==T&&(t.modifiersData[r]._skip=!0,t.placement=T,t.reset=!0)}}const mEe={name:"flip",enabled:!0,phase:"main",fn:pEe,requiresIfExists:["offset"],data:{_skip:!1}};function S$(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function k$(e){return[Yr,Yo,qo,Kr].some(function(t){return e[t]>=0})}function hEe(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,a=t.modifiersData.preventOverflow,s=Hp(t,{elementContext:"reference"}),i=Hp(t,{altBoundary:!0}),l=S$(s,r),d=S$(i,o,a),u=k$(l),f=k$(d);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const gEe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hEe};function vEe(e,t,n){var r=Ua(e),o=[Kr,Yr].indexOf(r)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=a[0],i=a[1];return s=s||0,i=(i||0)*o,[Kr,Yo].indexOf(r)>=0?{x:i,y:s}:{x:s,y:i}}function bEe(e){var t=e.state,n=e.options,r=e.name,o=n.offset,a=o===void 0?[0,0]:o,s=eH.reduce(function(u,f){return u[f]=vEe(f,t.rects,a),u},{}),i=s[t.placement],l=i.x,d=i.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=d),t.modifiersData[r]=s}const yEe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:bEe};function EEe(e){var t=e.state,n=e.name;t.modifiersData[n]=iH({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const wEe={name:"popperOffsets",enabled:!0,phase:"read",fn:EEe,data:{}};function CEe(e){return e==="x"?"y":"x"}function _Ee(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,a=o===void 0?!0:o,s=n.altAxis,i=s===void 0?!1:s,l=n.boundary,d=n.rootBoundary,u=n.altBoundary,f=n.padding,p=n.tether,m=p===void 0?!0:p,g=n.tetherOffset,v=g===void 0?0:g,b=Hp(t,{boundary:l,rootBoundary:d,padding:f,altBoundary:u}),y=Ua(t.placement),E=qd(t.placement),w=!E,C=TI(y),x=CEe(C),S=t.modifiersData.popperOffsets,I=t.rects.reference,A=t.rects.popper,T=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,O=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,$={x:0,y:0};if(S){if(a){var L,F=C==="y"?Yr:Kr,B=C==="y"?qo:Yo,V=C==="y"?"height":"width",Y=S[C],J=Y+b[F],z=Y-b[B],ce=m?-A[V]/2:0,le=E===zd?I[V]:A[V],j=E===zd?-A[V]:-I[V],Z=t.elements.arrow,K=m&&Z?II(Z):{width:0,height:0},oe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:rH(),X=oe[F],pe=oe[B],ee=cp(0,I[V],K[V]),ne=w?I[V]/2-ce-ee-X-O.mainAxis:le-ee-X-O.mainAxis,Q=w?-I[V]/2+ce+ee+pe+O.mainAxis:j+ee+pe+O.mainAxis,se=t.elements.arrow&&vh(t.elements.arrow),ue=se?C==="y"?se.clientTop||0:se.clientLeft||0:0,ve=(L=D==null?void 0:D[C])!=null?L:0,ke=Y+ne-ve-ue,ge=Y+Q-ve,N=cp(m?Tv(J,ke):J,Y,m?Ll(z,ge):z);S[C]=N,$[C]=N-Y}if(i){var R,P=C==="x"?Yr:Kr,W=C==="x"?qo:Yo,re=S[x],be=x==="y"?"height":"width",te=re+b[P],xe=re-b[W],he=[Yr,Kr].indexOf(y)!==-1,we=(R=D==null?void 0:D[x])!=null?R:0,$e=he?te:re-I[be]-A[be]-we+O.altAxis,Fe=he?re+I[be]+A[be]-we-O.altAxis:xe,st=m&&he?qye($e,re,Fe):cp(m?$e:te,re,m?Fe:xe);S[x]=st,$[x]=st-re}t.modifiersData[r]=$}}const xEe={name:"preventOverflow",enabled:!0,phase:"main",fn:_Ee,requiresIfExists:["offset"]};function SEe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function kEe(e){return e===xo(e)||!Ho(e)?AI(e):SEe(e)}function IEe(e){var t=e.getBoundingClientRect(),n=Wd(t.width)/e.offsetWidth||1,r=Wd(t.height)/e.offsetHeight||1;return n!==1||r!==1}function TEe(e,t,n){n===void 0&&(n=!1);var r=Ho(t),o=Ho(t)&&IEe(t),a=Yi(t),s=Gd(e,o,n),i={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ga(t)!=="body"||OI(a))&&(i=kEe(t)),Ho(t)?(l=Gd(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=DI(a))),{x:s.left+i.scrollLeft-l.x,y:s.top+i.scrollTop-l.y,width:s.width,height:s.height}}function AEe(e){var t=new Map,n=new Set,r=[];e.forEach(function(a){t.set(a.name,a)});function o(a){n.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(i){if(!n.has(i)){var l=t.get(i);l&&o(l)}}),r.push(a)}return e.forEach(function(a){n.has(a.name)||o(a)}),r}function DEe(e){var t=AEe(e);return Bye.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function OEe(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function MEe(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var I$={placement:"bottom",modifiers:[],strategy:"absolute"};function T$(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function $Ee(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,a=o===void 0?I$:o;return function(i,l,d){d===void 0&&(d=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},I$,a),modifiersData:{},elements:{reference:i,popper:l},attributes:{},styles:{}},f=[],p=!1,m={state:u,setOptions:function(y){var E=typeof y=="function"?y(u.options):y;v(),u.options=Object.assign({},a,u.options,E),u.scrollParents={reference:Jl(i)?dp(i):i.contextElement?dp(i.contextElement):[],popper:dp(l)};var w=DEe(MEe([].concat(r,u.options.modifiers)));return u.orderedModifiers=w.filter(function(C){return C.enabled}),g(),m.update()},forceUpdate:function(){if(!p){var y=u.elements,E=y.reference,w=y.popper;if(T$(E,w)){u.rects={reference:TEe(E,vh(w),u.options.strategy==="fixed"),popper:II(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(O){return u.modifiersData[O.name]=Object.assign({},O.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var x=u.orderedModifiers[C],S=x.fn,I=x.options,A=I===void 0?{}:I,T=x.name;typeof S=="function"&&(u=S({state:u,options:A,name:T,instance:m})||u)}}}},update:OEe(function(){return new Promise(function(b){m.forceUpdate(),b(u)})}),destroy:function(){v(),p=!0}};if(!T$(i,l))return m;m.setOptions(d).then(function(b){!p&&d.onFirstUpdate&&d.onFirstUpdate(b)});function g(){u.orderedModifiers.forEach(function(b){var y=b.name,E=b.options,w=E===void 0?{}:E,C=b.effect;if(typeof C=="function"){var x=C({state:u,name:y,instance:m,options:w}),S=function(){};f.push(x||S)}})}function v(){f.forEach(function(b){return b()}),f=[]}return m}}var REe=[rEe,wEe,tEe,zye,yEe,mEe,xEe,Jye,gEe],lH=$Ee({defaultModifiers:REe}),PEe=typeof Element<"u",LEe=typeof Map=="function",NEe=typeof Set=="function",FEe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function U0(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!U0(e[r],t[r]))return!1;return!0}var a;if(LEe&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;for(a=e.entries();!(r=a.next()).done;)if(!U0(r.value[1],t.get(r.value[0])))return!1;return!0}if(NEe&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(r=a.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(FEe&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(PEe&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!U0(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var jEe=function(t,n){try{return U0(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const MI=_r(jEe);var VEe=[],BEe=function(t,n,r){r===void 0&&(r={});var o=c.useRef(null),a={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||VEe},s=c.useState({styles:{popper:{position:a.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),i=s[0],l=s[1],d=c.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(m){var g=m.state,v=Object.keys(g.elements);sr.flushSync(function(){l({styles:b$(v.map(function(b){return[b,g.styles[b]||{}]})),attributes:b$(v.map(function(b){return[b,g.attributes[b]]}))})})},requires:["computeStyles"]}},[]),u=c.useMemo(function(){var p={onFirstUpdate:a.onFirstUpdate,placement:a.placement,strategy:a.strategy,modifiers:[].concat(a.modifiers,[d,{name:"applyStyles",enabled:!1}])};return MI(o.current,p)?o.current||p:(o.current=p,p)},[a.onFirstUpdate,a.placement,a.strategy,a.modifiers,d]),f=c.useRef();return y$(function(){f.current&&f.current.setOptions(u)},[u]),y$(function(){if(!(t==null||n==null)){var p=r.createPopper||lH,m=p(t,n,u);return f.current=m,function(){m.destroy(),f.current=null}}},[t,n,r.createPopper]),{state:f.current?f.current.state:null,styles:i.styles,attributes:i.attributes,update:f.current?f.current.update:null,forceUpdate:f.current?f.current.forceUpdate:null}},UEe=function(){},HEe=function(){return Promise.resolve(null)},zEe=[];function cH(e){var t=e.placement,n=t===void 0?"bottom":t,r=e.strategy,o=r===void 0?"absolute":r,a=e.modifiers,s=a===void 0?zEe:a,i=e.referenceElement,l=e.onFirstUpdate,d=e.innerRef,u=e.children,f=c.useContext(KU),p=c.useState(null),m=p[0],g=p[1],v=c.useState(null),b=v[0],y=v[1];c.useEffect(function(){k_(d,m)},[d,m]);var E=c.useMemo(function(){return{placement:n,strategy:o,onFirstUpdate:l,modifiers:[].concat(s,[{name:"arrow",enabled:b!=null,options:{element:b}}])}},[n,o,l,s,b]),w=BEe(i||f,m,E),C=w.state,x=w.styles,S=w.forceUpdate,I=w.update,A=c.useMemo(function(){return{ref:g,style:x.popper,placement:C?C.placement:n,hasPopperEscaped:C&&C.modifiersData.hide?C.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:C&&C.modifiersData.hide?C.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:x.arrow,ref:y},forceUpdate:S||UEe,update:I||HEe}},[g,y,n,C,x,I,S]);return JU(u)(A)}var WEe=function(){},GEe=WEe;const dH=_r(GEe);function bh(e){var t=e.children,n=e.innerRef,r=c.useContext(XU),o=c.useCallback(function(a){k_(n,a),ZU(r,a)},[n,r]);return c.useEffect(function(){return function(){return k_(n,null)}},[]),c.useEffect(function(){dH(!!r,"`Reference` should not be used outside of a `Manager` component.")},[r]),JU(t)({ref:o})}function qEe({viewportPadding:e}){return[{name:"maxSizeData",enabled:!0,phase:"read",fn({state:t,name:n}){window.visualViewport&&(t.modifiersData[n]={viewport:{width:window.visualViewport.width,height:window.visualViewport.height}})}},{name:"maxSize",enabled:!0,phase:"beforeWrite",requiresIfExists:["offset","preventOverflow","flip"],fn({state:t}){var n,r,o,a,s;const i=t.modifiersData.maxSizeData;if(typeof(i==null||(n=i.viewport)===null||n===void 0?void 0:n.width)!="number"||typeof(i==null||(r=i.viewport)===null||r===void 0?void 0:r.height)!="number")return;const{viewport:l}=i,{popperOffsets:d={x:0,y:0}}=t.modifiersData,[u]=t.placement.split("-"),f=(o=(a=t.modifiersData)===null||a===void 0||(s=a.offset)===null||s===void 0?void 0:s[t.placement])!==null&&o!==void 0?o:{x:0,y:0};let p=l.width-2*e,m=l.height-2*e;u==="top"&&(m=t.rects.reference.y+f.y-e),u==="bottom"&&(m=l.height-d.y-e),u==="left"&&(p=t.rects.reference.x+f.x-e),u==="right"&&(p=l.width-d.x-e),t.styles.popper.maxWidth=`${p}px`,t.styles.popper.maxHeight=`${m}px`}}]}const A_=5,YEe=[{name:"flip",options:{flipVariations:!1,padding:A_,boundary:"clippingParents",rootBoundary:"viewport"}}];function KEe(){return null}const XEe=[0,8];function Ru({children:e=KEe,offset:t=XEe,placement:n="bottom-start",referenceElement:r=void 0,modifiers:o,strategy:a="fixed",shouldFitViewport:s=!1}){const[i,l]=t,d=c.useMemo(()=>{const f={name:"preventOverflow",options:{padding:A_,rootBoundary:s?"viewport":"document"}},p={name:"offset",options:{offset:[i,l]}},m=s?qEe({viewportPadding:A_}):[];return[...YEe,f,p,...m]},[i,l,s]),u=c.useMemo(()=>o==null?d:[...d,...o],[d,o]);return _.createElement(cH,{modifiers:u,placement:n,strategy:a,referenceElement:r},e)}const uH="atlaskit-portal-container",fH="body > .atlaskit-portal-container",pH="atlaskit-portal",JEe=e=>{const t=document.createElement("div");return t.className=pH,t.style.zIndex=`${e}`,t},mH=()=>document.body,hH=()=>{const e=document.querySelector(fH);if(!e){var t;const n=document.createElement("div");return n.className=uH,n.style.display="flex",(t=mH())===null||t===void 0||t.appendChild(n),n}return e},ZEe=e=>{hH().removeChild(e)},QEe=e=>{e.parentElement||hH().appendChild(e)},gH=()=>document!==void 0,e2e=e=>{if(gH()){const t=document.createElement("div");return t.className=pH,t.style.zIndex=`${e}`,t}},t2e=()=>{if(gH()){const t=document.querySelector(fH);if(!t){var e;const n=document.createElement("div");return n.className=uH,n.style.display="flex",(e=mH())===null||e===void 0||e.appendChild(n),n}return t}};function n2e(e){const{zIndex:t,children:n}=e,r=c.useMemo(()=>JEe(t),[t]);return QEe(r),c.useEffect(()=>()=>{ZEe(r)},[r]),sr.createPortal(n,r)}const vH=typeof window<"u"?c.useLayoutEffect:c.useEffect;function r2e(e){const{zIndex:t,children:n}=e,[r,o]=c.useState(null);return vH(()=>{const a=e2e(t);o(a);const s=t2e();if(!(!a||!s))return s.appendChild(a),()=>{a&&s.removeChild(a),o(null)}},[t]),r?sr.createPortal(n,r):null}const o2e=e=>{const[t,n]=c.useState(!1),[r]=c.useState(()=>e==="layoutEffect"?vH:c.useEffect);return r(()=>{n(!0)},[]),t},a2e="akPortalMount",s2e="akPortalUnmount",A$={100:"card",200:"navigation",300:"dialog",400:"layer",500:"blanket",510:"modal",600:"flag",700:"spotlight",9999:"tooltip"},i2e=e=>A$.hasOwnProperty(e)?A$[e]:null,l2e=(e,t)=>{const n={layer:i2e(Number(t)),zIndex:t};return new CustomEvent(e,{detail:n})};function D$(e,t){const n=l2e(e,t);window.dispatchEvent(n)}const c2e=e=>{const t=Number(e);c.useEffect(()=>(D$(a2e,t),()=>{D$(s2e,t)}),[t])};function yh({zIndex:e=0,children:t,mountStrategy:n="effect"}){const r=o2e(n);return c2e(e),et("dsp-19516-design-system-portal-logic-update")?_.createElement(r2e,{zIndex:e},t):r?_.createElement(n2e,{zIndex:e},t):null}const up=new Set;let zp=null;function O$(){if(zp)return;zp=mt.bindAll(window,[{type:"dragend",listener:z2},{type:"pointerdown",listener:z2},{type:"pointermove",listener:(()=>{let t=0;return function(){if(t<20){t++;return}z2()}})()}]),Array.from(up).forEach(t=>{t.onDragStart()})}function z2(){var e;(e=zp)===null||e===void 0||e(),zp=null,Array.from(up).forEach(n=>{n.onDragEnd()})}function d2e(){return mt.bindAll(window,[{type:"dragstart",listener:O$},{type:"dragenter",listener:O$}])}let Xg=null;function u2e(e){return Xg||(Xg=d2e()),up.add(e),e.onRegister({isDragging:zp!==null}),function(){if(up.delete(e),up.size===0){var n;(n=Xg)===null||n===void 0||n(),Xg=null}}}let fp=null;function Vf(){fp!=null&&(window.clearTimeout(fp),fp=null)}function M$(e,t){Vf(),fp=window.setTimeout(()=>{fp=null,e()},t)}let Ea=null;function f2e(e){let t="waiting-to-show";function n(){return!!(Ea&&Ea.entry===e)}function r(){n()&&(Vf(),Ea=null)}function o(){n()&&e.done(),t="done",r()}function a(){n()&&e.hide({isImmediate:!0}),o()}function s(){if(n()){if(t==="waiting-to-hide"){t="shown",Vf();return}if(t==="hide-animating"){t="shown",Vf(),e.show({isImmediate:!1});return}}}function i({isImmediate:m}){if(n()){if(t==="waiting-to-show"){a();return}if(t!=="waiting-to-hide"){if(m){a();return}t="waiting-to-hide",M$(()=>{t="hide-animating",e.hide({isImmediate:!1})},e.delay)}}}function l(){n()&&t==="hide-animating"&&o()}function d(){return t==="shown"||t==="waiting-to-hide"||t==="hide-animating"}function u(){return e.source.type==="mouse"?e.source.mouse:null}function f(){const m=!!(Ea&&Ea.isVisible());Ea&&(Vf(),Ea.entry.hide({isImmediate:!0}),Ea.entry.done(),Ea=null),Ea={entry:e,isVisible:d};function g(){t="shown",e.show({isImmediate:m})}if(m){g();return}t="waiting-to-show",M$(g,e.delay)}return f(),{keep:s,abort:r,isActive:n,requestHide:i,finishHideAnimation:l,mousePosition:u()}}var W2;const Av=(W2=_.useId)!==null&&W2!==void 0?W2:void 0;function j1(){return Av&&Pe("platform.design-system-team.react-18-use-id_mn8q4")?Av():`uid${ZS()}`}function bH(){if(Av&&Pe("platform.design-system-team.react-18-use-id_mn8q4")){const e=Av();return t=>`${e}-${t.toString()}`}return JS()}function p2e(e,t){const n=bH();return t?`${n(e)}`:void 0}const yH="tooltipPrimitiveZindex",m2e=M({zindex:`var(${yH})`,cursor:"default"}),EH=c.forwardRef(function({style:t,className:n,children:r,placement:o,testId:a,onMouseOut:s,onMouseOver:i,id:l},d){const u={...t,[yH]:Qt.tooltip()};return k("div",{ref:d,style:u,"data-testid":a?`${a}--wrapper`:void 0},k("div",{role:"tooltip",className:n,onMouseOut:s,onMouseOver:i,css:m2e,"data-placement":o,"data-testid":a,id:l},r))});EH.displayName="TooltipPrimitive";const h2e=M({boxSizing:"border-box",maxWidth:"240px",padding:"var(--ds-space-025, 2px) var(--ds-space-075, 6px)",backgroundColor:`var(--ds-background-neutral-bold, ${mn})`,borderRadius:"var(--ds-border-radius, 3px)",color:`var(--ds-text-inverse, ${Ve})`,font:'var(--ds-font-body-UNSAFE_small, normal 400 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)',insetBlockStart:"var(--ds-space-0, 0px)",insetInlineStart:"var(--ds-space-0, 0px)",overflowWrap:"break-word",wordWrap:"break-word"}),g2e=M({maxWidth:"420px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),wH=c.forwardRef(function({style:t,className:n,children:r,truncate:o,placement:a,testId:s,onMouseOut:i,onMouseOver:l,id:d},u){return k(EH,{ref:u,style:t,className:n,placement:a,testId:s,id:d,onMouseOut:i,onMouseOver:l,css:[h2e,o?g2e:null]},r)});wH.displayName="TooltipContainer";function $$(e){const t=e||{top:0,left:0};return{getBoundingClientRect:()=>({top:t.top,left:t.left,bottom:t.top,right:t.left,width:0,height:0}),clientWidth:0,clientHeight:0}}const v2e=Qt.tooltip(),R$={componentName:"tooltip",packageName:"@atlaskit/tooltip",packageVersion:"18.9.3"},b2e={top:"bottom",bottom:"top",left:"right",right:"left"},y2e=e=>e.split("-")[0];function Zr({children:e,position:t="bottom",mousePosition:n="bottom",content:r,truncate:o=!1,component:a=wH,tag:s="div",testId:i,delay:l=300,onShow:d=Nt,onHide:u=Nt,canAppear:f,hideTooltipOnClick:p=!1,hideTooltipOnMouseDown:m=!1,analyticsContext:g,strategy:v="fixed",ignoreTooltipPointerEvents:b=!1,isScreenReaderAnnouncementDisabled:y=!1}){const E=t==="mouse"?n:t,w=Iv({fn:d,action:"displayed",analyticsData:g,...R$}),C=Iv({fn:u,action:"hidden",analyticsData:g,...R$}),x=c.useRef(null),[S,I]=c.useState("hide"),A=c.useRef(null),T=c.useRef(null),O=te=>{T.current=te,A.current=te?te.firstElementChild:null},D=c.useCallback(te=>{A.current=te},[]),$=Ma(S),L=Ma(w),F=Ma(C),B=Ma(l),V=Ma(f),Y=c.useRef(!1),J=c.useCallback(te=>{x.current=te,Y.current=!1},[]),z=c.useCallback(()=>{x.current&&(Y.current&&F.current(),x.current=null,Y.current=!1,I("hide"))},[F]),ce=c.useCallback(()=>{x.current&&(x.current.abort(),Y.current&&F.current(),x.current=null)},[F]);c.useEffect(function(){return function(){x.current&&ce()}},[ce]);const le=c.useRef(!1);c.useEffect(()=>u2e({onRegister({isDragging:te}){le.current=te},onDragStart(){var te;(te=x.current)===null||te===void 0||te.requestHide({isImmediate:!0}),le.current=!0},onDragEnd(){le.current=!1}}),[]);const j=c.useCallback(te=>{var xe;if(le.current)return;if(x.current&&!x.current.isActive()&&ce(),x.current&&x.current.isActive()){x.current.keep();return}if(V.current&&!((xe=V.current)!==null&&xe!==void 0&&xe.call(V)))return;const he={source:te,delay:B.current,show:({isImmediate:$e})=>{Y.current||(Y.current=!0,L.current()),I($e?"show-immediate":"fade-in")},hide:({isImmediate:$e})=>{I($e?"hide":"before-fade-out")},done:z},we=f2e(he);J(we)},[V,B,z,J,ce,L]),Z=c.useCallback(()=>{var te;(te=x.current)===null||te===void 0||te.requestHide({isImmediate:!0})},[x]);YU({onClose:Z,isDisabled:S==="hide"||S==="fade-out"}),c.useEffect(()=>S==="hide"?Nt:(S==="before-fade-out"&&I("fade-out"),mt.bind(window,{type:"scroll",listener:()=>{x.current&&x.current.requestHide({isImmediate:!0})},options:{capture:!0,passive:!0,once:!0}})),[S]);const K=c.useCallback(()=>{m&&x.current&&x.current.requestHide({isImmediate:!0})},[m]),oe=c.useCallback(()=>{p&&x.current&&x.current.requestHide({isImmediate:!0})},[p]),X=c.useCallback(te=>{if(T.current&&te.target===T.current||te.defaultPrevented)return;te.preventDefault();const xe=t==="mouse"?{type:"mouse",mouse:$$({left:te.clientX,top:te.clientY})}:{type:"keyboard"};j(xe)},[t,j]),pe=c.useCallback(te=>{T.current&&te.target===T.current||te.defaultPrevented||(te.preventDefault(),x.current&&x.current.requestHide({isImmediate:!1}))},[]),ee=t==="mouse"?te=>{var xe;(xe=x.current)!==null&&xe!==void 0&&xe.isActive()&&(x.current.mousePosition=$$({left:te.clientX,top:te.clientY}))}:void 0,ne=c.useCallback(()=>{if(x.current&&x.current.isActive()){x.current.keep();return}},[]),Q=c.useCallback(()=>{j({type:"keyboard"})},[j]),se=c.useCallback(()=>{x.current&&x.current.requestHide({isImmediate:!1})},[]),ue=c.useCallback(te=>{te==="exiting"&&$.current==="fade-out"&&x.current&&x.current.finishHideAnimation()},[$]),ve=s,ke=S!=="hide"&&!!r,ge=!y&&ke,N=S!=="hide"&&S!=="fade-out";xI({isOpen:ke});const R=()=>{var te;if(t==="mouse"&&(te=x.current)!==null&&te!==void 0&&te.mousePosition){var xe;return(xe=x.current)===null||xe===void 0?void 0:xe.mousePosition}return A.current||void 0},P=p2e("tooltip",ge),W={onMouseOver:X,onMouseOut:pe,onMouseMove:ee,onMouseDown:K,onClick:oe,onFocus:Q,onBlur:se};i&&(W["data-testid"]=`${i}--container`);const re=typeof e=="function";c.useEffect(()=>{if(re)return;const te=A.current;if(!(!te||!P))return te.setAttribute("aria-describedby",P),()=>te.removeAttribute("aria-describedby")},[re,P]);const be=ge?_.createElement("span",{"data-testid":i?`${i}-hidden`:void 0,hidden:!0,id:P},typeof r=="function"?r({}):r):null;return _.createElement(_.Fragment,null,typeof e=="function"?_.createElement(_.Fragment,null,e({...W,"aria-describedby":P,ref:D}),be):_.createElement(ve,H({},W,{ref:O,role:"presentation"}),e,be),ke?_.createElement(yh,{zIndex:v2e},_.createElement(Ru,{placement:E,referenceElement:R(),strategy:v},({ref:te,style:xe,update:he,placement:we})=>{const $e=t==="mouse"?void 0:b2e[y2e(we)];return _.createElement(xu,{appear:!0},N&&_.createElement(eh,{distance:"constant",entranceDirection:$e,exitDirection:$e,onFinish:ue,duration:S==="show-immediate"?0:Qm},({className:Fe})=>_.createElement(a,{ref:te,className:`Tooltip ${Fe}`,style:{...xe,...b&&{pointerEvents:"none"}},truncate:o,placement:E,testId:R()?i:i&&`${i}--unresolved`,onMouseOut:pe,onMouseOver:ne},typeof r=="function"?r({update:he}):r)))})):null)}Zr.displayName="Tooltip";var $I={};Object.defineProperty($I,"__esModule",{value:!0});var RI=$I.default=void 0,E2e=CH(c),w2e=CH(Oe);function CH(e){return e&&e.__esModule?e:{default:e}}const _H=e=>E2e.default.createElement(w2e.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" d="M2.75 9a1.75 1.75 0 1 1 0 3.5 1.75 1.75 0 0 1 0-3.5m0-5.5a1.75 1.75 0 1 1 0 3.5 1.75 1.75 0 0 1 0-3.5M8 9a1.75 1.75 0 1 1 0 3.5A1.75 1.75 0 0 1 8 9m0-5.5A1.75 1.75 0 1 1 8 7a1.75 1.75 0 0 1 0-3.5M13.25 9a1.75 1.75 0 1 1 0 3.5 1.75 1.75 0 0 1 0-3.5m0-5.5a1.75 1.75 0 1 1 0 3.5 1.75 1.75 0 0 1 0-3.5"/>'},e));_H.displayName="DragHandleHorizontalIcon";RI=$I.default=_H;var PI={};Object.defineProperty(PI,"__esModule",{value:!0});var xH=PI.default=void 0,C2e=SH(c),_2e=SH(Oe);function SH(e){return e&&e.__esModule?e:{default:e}}const kH=e=>C2e.default.createElement(_2e.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="m1 1 2.919 2.919M15 15l-2.92-2.92M3.92 3.92C2.524 4.792 1.436 6.096.871 7.638a1.06 1.06 0 0 0 0 .724C1.914 11.212 4.745 13.25 8 13.25c1.493 0 2.898-.43 4.08-1.17M3.92 3.92l2.49 2.49m5.672 5.672L9.59 9.59m0 0a2.25 2.25 0 0 1-3.182-3.182M9.59 9.59 6.409 6.409m.005-3.495A7.7 7.7 0 0 1 8 2.75c3.255 0 6.086 2.039 7.129 4.888.085.234.085.49 0 .724a7.2 7.2 0 0 1-1.187 2.08"/>'},e));kH.displayName="EyeOpenStrikethroughIcon";xH=PI.default=kH;var LI={};Object.defineProperty(LI,"__esModule",{value:!0});var NI=LI.default=void 0,x2e=IH(c),S2e=IH(Oe);function IH(e){return e&&e.__esModule?e:{default:e}}const TH=e=>x2e.default.createElement(S2e.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M0 2.75h6m-4 8.5h12c.69 0 1.25-.56 1.25-1.25V7c0-.69-.56-1.25-1.25-1.25H2C1.31 5.75.75 6.31.75 7v3c0 .69.56 1.25 1.25 1.25Z"/>'},e));TH.displayName="FieldIcon";NI=LI.default=TH;var V1={};Object.defineProperty(V1,"__esModule",{value:!0});var AH=V1.default=void 0,k2e=DH(c),I2e=DH(Oe);function DH(e){return e&&e.__esModule?e:{default:e}}const OH=e=>k2e.default.createElement(I2e.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="m7 9-4.75 4.75M9 7l4.75-4.75m-12 7.25v4.75H6.5m7.75-7.75V1.75H9.5"/>'},e));OH.displayName="GrowDiagonalIcon";AH=V1.default=OH;var FI={};Object.defineProperty(FI,"__esModule",{value:!0});var MH=FI.default=void 0,T2e=$H(c),A2e=$H(Oe);function $H(e){return e&&e.__esModule?e:{default:e}}const RH=e=>T2e.default.createElement(A2e.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="m1.5 14.5 5.25-5.25M14.5 1.5 9.25 6.75M6.75 14V9.25H2M9.25 2v4.75H14"/>'},e));RH.displayName="ShrinkDiagonalIcon";MH=FI.default=RH;var jI={};Object.defineProperty(jI,"__esModule",{value:!0});var PH=jI.default=void 0,D2e=LH(c),O2e=LH(Oe);function LH(e){return e&&e.__esModule?e:{default:e}}const NH=e=>D2e.default.createElement(O2e.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M11.75 1.75H8.875a.625.625 0 0 0-.625.625v11.25c0 .345.28.625.625.625h2.875m0-12.5v12.5m0-12.5h2.875c.345 0 .625.28.625.625v11.25c0 .345-.28.625-.625.625H11.75M6 8H3M0 8h3m0 0v3m0-3V5"/>'},e));NH.displayName="TableColumnAddLeftIcon";PH=jI.default=NH;var VI={};Object.defineProperty(VI,"__esModule",{value:!0});var FH=VI.default=void 0,M2e=jH(c),$2e=jH(Oe);function jH(e){return e&&e.__esModule?e:{default:e}}const VH=e=>M2e.default.createElement($2e.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M4.25 1.75h2.875c.345 0 .625.28.625.625v11.25c0 .345-.28.625-.625.625H4.25m0-12.5H1.375a.625.625 0 0 0-.625.625v11.25c0 .345.28.625.625.625H4.25m0-12.5v12.5M10 8h3m3 0h-3m0 0v3m0-3V5"/>'},e));VH.displayName="TableColumnAddRightIcon";FH=VI.default=VH;var BI={};Object.defineProperty(BI,"__esModule",{value:!0});var BH=BI.default=void 0,R2e=UH(c),P2e=UH(Oe);function UH(e){return e&&e.__esModule?e:{default:e}}const HH=e=>R2e.default.createElement(P2e.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M1.75 11.75V8.875c0-.345.28-.625.625-.625h11.25c.345 0 .625.28.625.625v2.875m-12.5 0h12.5m-12.5 0v2.875c0 .345.28.625.625.625h11.25c.345 0 .625-.28.625-.625V11.75M8 6V3m0-3v3m0 0h3M8 3H5"/>'},e));HH.displayName="TableRowAddAboveIcon";BH=BI.default=HH;var UI={};Object.defineProperty(UI,"__esModule",{value:!0});var zH=UI.default=void 0,L2e=WH(c),N2e=WH(Oe);function WH(e){return e&&e.__esModule?e:{default:e}}const GH=e=>L2e.default.createElement(N2e.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M1.75 4.25v2.875c0 .345.28.625.625.625h11.25c.345 0 .625-.28.625-.625V4.25m-12.5 0h12.5m-12.5 0V1.375c0-.345.28-.625.625-.625h11.25c.345 0 .625.28.625.625V4.25M8 10v3m0 3v-3m0 0h3m-3 0H5"/>'},e));GH.displayName="TableRowAddBelowIcon";zH=UI.default=GH;var HI={};Object.defineProperty(HI,"__esModule",{value:!0});var zI=HI.default=void 0,F2e=qH(c),j2e=qH(Oe);function qH(e){return e&&e.__esModule?e:{default:e}}const YH=e=>F2e.default.createElement(j2e.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" d="M5 2.25a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0m4.5 0a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0M5 6a1.25 1.25 0 1 1-2.5 0A1.25 1.25 0 0 1 5 6m4.5 0A1.25 1.25 0 1 1 7 6a1.25 1.25 0 0 1 2.5 0M5 9.75a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0m4.5 0a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0"/>',type:"utility"},e));YH.displayName="DragHandleVerticalIcon";zI=HI.default=YH;var WI={};Object.defineProperty(WI,"__esModule",{value:!0});var KH=WI.default=void 0,V2e=XH(c),B2e=XH(Oe);function XH(e){return e&&e.__esModule?e:{default:e}}const JH=e=>V2e.default.createElement(B2e.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M3.25 3.25V1h1.5v2.25H7v1.5H4.75V7h-1.5V4.75H1v-1.5zm-.56 9L.97 10.53l1.06-1.06 1.72 1.72 1.72-1.72 1.06 1.06-1.72 1.72 1.72 1.72-1.06 1.06-1.72-1.72-1.72 1.72-1.06-1.06zM15 4.75H9v-1.5h6zm0 8H9v-1.5h6z" clip-rule="evenodd"/><path fill="currentcolor" d="M12.75 9.5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m0 5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0"/>'},e));JH.displayName="CalculateIcon";KH=WI.default=JH;var GI={};Object.defineProperty(GI,"__esModule",{value:!0});var ZH=GI.default=void 0,U2e=QH(c),H2e=QH(Oe);function QH(e){return e&&e.__esModule?e:{default:e}}const ez=e=>U2e.default.createElement(H2e.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M4.22 1.22a.75.75 0 0 1 1.06 0l3.25 3.25-1.06 1.06L5.5 3.56V14H4V3.56L2.03 5.53.97 4.47zm6.28 11.22V2H12v10.44l1.97-1.97 1.06 1.06-3.25 3.25a.75.75 0 0 1-1.06 0l-3.25-3.25 1.06-1.06z" clip-rule="evenodd"/>'},e));ez.displayName="SortOptionsIcon";ZH=GI.default=ez;var qI={};Object.defineProperty(qI,"__esModule",{value:!0});var tz=qI.default=void 0,z2e=nz(c),W2e=nz(Oe);function nz(e){return e&&e.__esModule?e:{default:e}}const rz=e=>z2e.default.createElement(W2e.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M1 3a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2zm2-.5a.5.5 0 0 0-.5.5v1.5h11V3a.5.5 0 0 0-.5-.5zM13.5 6h-7v7.5H13a.5.5 0 0 0 .5-.5zM5 13.5V6H2.5v7a.5.5 0 0 0 .5.5z" clip-rule="evenodd"/>'},e));rz.displayName="TemplateIcon";tz=qI.default=rz;const G2e=M(pj),YI=c.memo(function({size:t="medium",label:n,primaryColor:r="currentColor",secondaryColor:o,testId:a,children:s}){return k("svg",{viewBox:"0 0 24 24",style:{color:r,fill:o||mj()},css:[G2e,zpe[t]],"data-testid":a,"aria-label":n||void 0,role:n?"img":"presentation"},s)}),q2e={16:M({width:"16px",height:"16px"}),24:M({width:"24px",height:"24px"}),32:M({width:"32px",height:"32px"}),40:M({width:"40px",height:"40px"}),48:M({width:"48px",height:"48px"})},Y2e={grayBold:M({backgroundColor:"var(--ds-background-accent-gray-bolder, #626F86)",color:"var(--ds-icon-inverse, #FFFFFF)"}),limeBold:M({backgroundColor:"var(--ds-background-accent-lime-bolder, #5B7F24)",color:"var(--ds-icon-inverse, #FFFFFF)"}),greenBold:M({backgroundColor:"var(--ds-background-accent-green-bolder, #1F845A)",color:"var(--ds-icon-inverse, #FFFFFF)"}),blueBold:M({backgroundColor:"var(--ds-background-accent-blue-bolder, #0C66E4)",color:"var(--ds-icon-inverse, #FFFFFF)"}),redBold:M({backgroundColor:"var(--ds-background-accent-red-bolder, #C9372C)",color:"var(--ds-icon-inverse, #FFFFFF)"}),purpleBold:M({backgroundColor:"var(--ds-background-accent-purple-bolder, #6E5DC6)",color:"var(--ds-icon-inverse, #FFFFFF)"}),magentaBold:M({backgroundColor:"var(--ds-background-accent-magenta-bolder, #AE4787)",color:"var(--ds-icon-inverse, #FFFFFF)"}),tealBold:M({backgroundColor:"var(--ds-background-accent-teal-bolder, #227D9B)",color:"var(--ds-icon-inverse, #FFFFFF)"}),orangeBold:M({backgroundColor:"var(--ds-background-accent-orange-bolder, #C25100)",color:"var(--ds-icon-inverse, #FFFFFF)"}),yellowBold:M({backgroundColor:"var(--ds-background-accent-yellow-bolder, #946F00)",color:"var(--ds-icon-inverse, #FFFFFF)"}),gray:M({backgroundColor:"var(--ds-background-accent-gray-subtler, #DCDFE4)",color:"var(--ds-icon-accent-gray, #758195)"}),lime:M({backgroundColor:"var(--ds-background-accent-lime-subtler, #D3F1A7)",color:"var(--ds-icon-accent-lime, #6A9A23)"}),orange:M({backgroundColor:"var(--ds-background-accent-orange-subtler, #FEDEC8)",color:"var(--ds-icon-accent-orange, #E56910)"}),magenta:M({backgroundColor:"var(--ds-background-accent-magenta-subtler, #FDD0EC)",color:"var(--ds-icon-accent-magenta, #CD519D)"}),green:M({backgroundColor:"var(--ds-background-accent-green-subtler, #BAF3DB)",color:"var(--ds-icon-accent-green, #22A06B)"}),blue:M({backgroundColor:"var(--ds-background-accent-blue-subtler, #CCE0FF)",color:"var(--ds-icon-accent-blue, #1D7AFC)"}),red:M({backgroundColor:"var(--ds-background-accent-red-subtler, #FFD5D2)",color:"var(--ds-icon-accent-red, #C9372C)"}),purple:M({backgroundColor:"var(--ds-background-accent-purple-subtler, #DFD8FD)",color:"var(--ds-icon-accent-purple, #8270DB)"}),teal:M({backgroundColor:"var(--ds-background-accent-teal-subtler, #C6EDFB)",color:"var(--ds-icon-accent-teal, #2898BD)"}),yellow:M({backgroundColor:"var(--ds-background-accent-yellow-subtler, #F8E6A0)",color:"var(--ds-icon-accent-yellow, #B38600)"})},K2e={square:M({borderRadius:"var(--ds-border-radius-100, 4px)"}),circle:M({borderRadius:"var(--ds-border-radius-circle, 32032px)"})},X2e=M({display:"inline-flex",boxSizing:"border-box",alignItems:"center",justifyContent:"center",fontSize:0});function hr(e){const{icon:t,label:n,appearance:r,size:o="24",shape:a="square",LEGACY_fallbackComponent:s,testId:i}=e,l=t;return s&&!Pe("platform-visual-refresh-icons")?s:k("span",{"data-testid":i,css:[X2e,Y2e[r],q2e[o],K2e[a]]},k(l,{color:"currentColor",label:n,spacing:"spacious",shouldScale:!0}))}const Xn=(e,t)=>function(r){const o=c.useCallback(()=>e,[]);return h.jsx(Vp,{glyph:o,...t,...r})},oz=Xn(h.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsxs("g",{clipPath:"url(#clip0_798_10)",children:[h.jsx("path",{d:"M5.125 7.125C4.64175 7.125 4.25 7.51675 4.25 8C4.25 8.48325 4.64175 8.875 5.125 8.875H5.875C6.35825 8.875 6.75 8.48325 6.75 8C6.75 7.51675 6.35825 7.125 5.875 7.125H5.125Z",fill:"currentColor"}),h.jsx("path",{d:"M7.75 8C7.75 7.51675 8.14175 7.125 8.625 7.125H10.875C11.3582 7.125 11.75 7.51675 11.75 8C11.75 8.48325 11.3582 8.875 10.875 8.875H8.625C8.14175 8.875 7.75 8.48325 7.75 8Z",fill:"currentColor"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 3C1 1.89543 1.89543 1 3 1H13C14.1046 1 15 1.89543 15 3V13C15 14.1046 14.1046 15 13 15H3C1.89543 15 1 14.1046 1 13V3ZM3 2.5H13C13.2761 2.5 13.5 2.72386 13.5 3V13C13.5 13.2761 13.2761 13.5 13 13.5H3C2.72386 13.5 2.5 13.2761 2.5 13V3C2.5 2.72386 2.72386 2.5 3 2.5Z",fill:"currentColor"})]}),h.jsx("defs",{children:h.jsx("clipPath",{id:"clip0_798_10",children:h.jsx("rect",{width:"16",height:"16",fill:"white"})})})]})),J2e=e=>h.jsx(NI,{LEGACY_fallbackIcon:oz,...e}),Z2e=Xn(h.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",role:"presentation",children:h.jsx("g",{children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2C0 0.895431 0.895431 0 2 0H14C15.1046 0 16 0.895431 16 2V14C16 15.1046 15.1046 16 14 16H2C0.895431 16 0 15.1046 0 14V2ZM3 8C3 7.44772 3.44772 7 4 7H5C5.55228 7 6 7.44772 6 8C6 8.55229 5.55228 9 5 9H4C3.44772 9 3 8.55229 3 8ZM8 7C7.44772 7 7 7.44772 7 8C7 8.55229 7.44772 9 8 9H12C12.5523 9 13 8.55229 13 8C13 7.44772 12.5523 7 12 7H8Z",fill:"#CD519D"})})})),B1=e=>h.jsx(NI,{LEGACY_fallbackIcon:Z2e,color:U("color.icon.accent.purple"),...e}),Q2e=Xn(h.jsx("svg",{width:"24",height:"24",viewBox:"0 0 64 64",children:h.jsxs("g",{children:[h.jsx("rect",{width:"64",height:"64",fill:"#2684FF",rx:"6"}),h.jsx("path",{fill:"#FFF",d:"M42,28.0104 L42,46.0004 L22,46.0004 L22,18.0004 L33.98,18.0004 L33.98,22.9784 C33.98,24.6364 35.322,25.9784 36.98,25.9784 L45.98,25.9784 L45.98,24.9364 C45.98,24.3424 45.716,23.7804 45.262,23.4004 L35.114,14.9284 C34.394,14.3284 33.488,14.0004 32.55,14.0004 L22,14.0004 C19.79,14.0004 18,15.7904 18,18.0004 L18,46.0004 C18,48.2084 19.79,50.0004 22,50.0004 L42,50.0004 C44.21,50.0004 46,48.2084 46,46.0004 L46,28.0104 L42,28.0104 Z M30.0018986,38 C31.0552595,38 31.9182428,38.8088611 31.9945195,39.8497808 L32,40 C32,41.1045695 31.1132936,42 30.0018986,42 L25.9981014,42 C24.8945804,42 24,41.1122704 24,40 C24,38.8954305 24.8867064,38 25.9981014,38 L30.0018986,38 Z M38.0059397,32 C39.0571702,32 39.9184082,32.8088611 39.9945306,33.8497808 L40,34 C40,35.1045695 39.1054862,36 38.0059397,36 L25.9940603,36 C24.8927712,36 24,35.1122704 24,34 C24,32.8954305 24.8945138,32 25.9940603,32 L38.0059397,32 Z"})]})})),pIt=e=>h.jsx(tz,{LEGACY_fallbackIcon:Q2e,...e}),ewe=Xn(h.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",role:"presentation",children:h.jsx("path",{transform:"rotate(-45 12 12)",d:"M18.062 11L16.5 9.914A1 1 0 1117.914 8.5l2.616 2.616c.28.167.47.5.47.884s-.19.717-.47.884L17.914 15.5a1 1 0 01-1.414-1.414L18.062 13h-3.68c-.487 0-.882-.448-.882-1s.395-1 .882-1h3.68zM3.47 12.884c-.28-.167-.47-.5-.47-.884s.19-.717.47-.884L6.086 8.5A1 1 0 017.5 9.914L5.938 11h3.68c.487 0 .882.448.882 1s-.395 1-.882 1h-3.68L7.5 14.086A1 1 0 016.086 15.5L3.47 12.884z",fill:"currentColor"})})),twe=e=>h.jsx(AH,{LEGACY_fallbackIcon:ewe,spacing:"spacious",...e}),nwe=Xn(h.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",children:[h.jsx("path",{d:"M19.5 9.00024C19.5 9.55252 19.0523 10.0002 18.5 10.0002H5.5C4.94772 10.0002 4.5 9.55252 4.5 9.00024C4.5 8.44795 4.94772 8.00024 5.5 8.00024H18.5C19.0523 8.00024 19.5 8.44795 19.5 9.00024Z",fill:"currentColor"}),h.jsx("path",{d:"M9.65373 4.52926C10.2039 4.57739 10.6109 5.06242 10.5628 5.61261L9.42974 18.5631C9.38161 19.1133 8.89657 19.5203 8.34639 19.4722C7.79621 19.424 7.38922 18.939 7.43735 18.3888L8.57038 5.4383C8.61851 4.88811 9.10354 4.48112 9.65373 4.52926Z",fill:"currentColor"}),h.jsx("path",{d:"M19.5 15.0002C19.5 15.5525 19.0523 16.0002 18.5 16.0002H5.5C4.94772 16.0002 4.5 15.5525 4.5 15.0002C4.5 14.448 4.94772 14.0002 5.5 14.0002H18.5C19.0523 14.0002 19.5 14.448 19.5 15.0002Z",fill:"currentColor"}),h.jsx("path",{d:"M15.6537 4.52926C16.2039 4.57739 16.6109 5.06242 16.5628 5.61261L15.4297 18.5631C15.3816 19.1133 14.8966 19.5203 14.3464 19.4722C13.7962 19.424 13.3892 18.939 13.4374 18.3888L14.5704 5.4383C14.6185 4.88811 15.1035 4.48112 15.6537 4.52926Z",fill:"currentColor"})]})),rwe=Xn(h.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("rect",{width:"24",height:"24",fill:"white",fillOpacity:"0.01"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.10585 19.2479C4.81296 18.955 4.81296 18.4801 5.10585 18.1872L18.1873 5.10572C18.4802 4.81282 18.9551 4.81282 19.248 5.10572C19.5409 5.39861 19.5409 5.87348 19.248 6.16638L6.16652 19.2479C5.87362 19.5407 5.39875 19.5407 5.10585 19.2479Z",fill:"currentColor"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.8239 9.17613C14.0983 8.44052 13.0904 7.98401 11.9771 7.98401C9.77105 7.98401 7.97705 9.77801 7.97705 11.984C7.97705 13.0969 8.43364 14.1049 9.16936 14.8307L10.5831 13.417C10.2094 13.0534 9.97705 12.5454 9.97705 11.984C9.97705 10.881 10.8741 9.98401 11.9771 9.98401C12.5389 9.98401 13.0468 10.2163 13.4102 10.5898L14.8239 9.17613Z",fill:"currentColor"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.9338 8.4956C16.9022 8.46965 16.8704 8.44383 16.8384 8.41817C15.5549 7.3907 13.8529 6.59999 12.0009 6.59999C7.914 6.59999 4.8009 10.1991 4.8009 12C4.8009 13.1225 6.40241 15.4105 8.81312 16.6163L7.48546 17.9439C7.45334 17.9256 7.42134 17.9071 7.38946 17.8885C4.78128 16.3648 3 13.8266 3 12C3 9.15689 7.032 4.79999 12.0009 4.79999H12C14.4121 4.79999 16.6036 5.82709 18.22 7.20934L16.9338 8.4956ZM9.81356 17.0338C10.4987 17.2644 11.2323 17.4 12 17.4H12.0009C16.0833 17.4 19.1991 13.566 19.1991 12C19.1991 11.2355 18.6266 10.1634 17.6716 9.17576L18.9502 7.89718C20.2307 9.22743 21 10.7581 21 12C21 12.3472 20.9356 12.72 20.8135 13.1068C19.9583 15.8139 16.2706 19.2 12 19.2C11.8475 19.2 11.6956 19.1957 11.5447 19.1872C10.4479 19.1258 9.39594 18.8462 8.42795 18.4194L9.81356 17.0338Z",fill:"currentColor"})]})),KI=e=>h.jsx(xH,{LEGACY_fallbackIcon:rwe,spacing:"spacious",...e}),owe=Xn(h.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("rect",{width:"24",height:"24",transform:"translate(24 24) rotate(-180)",fill:"white",fillOpacity:"0.01"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.72328 17.7517C6.72328 18.165 7.17906 18.5 7.74129 18.5C8.30352 18.5 8.7593 18.165 8.7593 17.7517L8.7593 9.27907L10.205 10.7665C10.6357 11.2096 11.3108 11.2442 11.713 10.8436C12.1151 10.443 12.0919 9.75905 11.6612 9.3159L8.54161 6.1063C8.11089 5.66315 7.43575 5.62862 7.03364 6.02919C7.01529 6.04747 6.99783 6.06633 6.98126 6.08573C6.96735 6.09876 6.95367 6.11218 6.94023 6.12601L3.83515 9.3212C3.40642 9.76236 3.38632 10.4462 3.79025 10.8487C4.19417 11.2511 4.86917 11.2197 5.29789 10.7785L6.72328 9.31179L6.72328 17.7517Z",fill:"currentColor"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.2767 6.49824C17.2767 6.08499 16.8209 5.74998 16.2587 5.74998C15.6965 5.74998 15.2407 6.08499 15.2407 6.49824V14.9709L13.795 13.4835C13.3643 13.0403 12.6892 13.0058 12.287 13.4064C11.8849 13.8069 11.9081 14.4909 12.3388 14.9341L15.4584 18.1437C15.8891 18.5868 16.5643 18.6213 16.9664 18.2208C16.9847 18.2025 17.0021 18.1837 17.0187 18.1643C17.0326 18.1512 17.0463 18.1378 17.0598 18.124L20.1649 14.9288C20.5936 14.4876 20.6137 13.8037 20.2097 13.4013C19.8058 12.9989 19.1308 13.0303 18.7021 13.4714L17.2767 14.9382V6.49824Z",fill:"currentColor"})]})),az=e=>h.jsx(ZH,{LEGACY_fallbackIcon:owe,spacing:"spacious",...e}),awe=Xn(h.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",role:"presentation",children:h.jsxs("g",{fill:"currentColor",fillRule:"evenodd",children:[h.jsx("path",{d:"M12 20a8 8 0 100-16 8 8 0 000 16zm0 2C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z",fillRule:"nonzero"}),h.jsx("rect",{fill:"currentColor",x:"11",y:"10",width:"2",height:"7",rx:"1"}),h.jsx("circle",{fill:"currentColor",cx:"12",cy:"8",r:"1"})]})})),swe=24,iwe=18,lwe=Xn(h.jsxs("svg",{width:"21",height:"15",viewBox:"0 0 28 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("rect",{x:"1",y:"1",width:"26",height:"18",rx:"5",stroke:"white",strokeWidth:"2",fill:"none"}),h.jsxs("g",{children:[h.jsx("path",{d:"M11 12C11 11.4477 10.5523 11 10 11C9.44772 11 9 11.4477 9 12C9 12.5523 9.44772 13 10 13C10.5523 13 11 12.5523 11 12Z",fill:"currentColor"}),h.jsx("path",{d:"M11 8C11 7.44772 10.5523 7 10 7C9.44772 7 9 7.44772 9 8C9 8.55228 9.44772 9 10 9C10.5523 9 11 8.55228 11 8Z",fill:"currentColor"}),h.jsx("path",{d:"M19 12C19 11.4477 18.5523 11 18 11C17.4477 11 17 11.4477 17 12C17 12.5523 17.4477 13 18 13C18.5523 13 19 12.5523 19 12Z",fill:"currentColor"}),h.jsx("path",{d:"M19 8C19 7.44772 18.5523 7 18 7C17.4477 7 17 7.44772 17 8C17 8.55228 17.4477 9 18 9C18.5523 9 19 8.55228 19 8Z",fill:"currentColor"}),h.jsx("path",{d:"M15 12C15 11.4477 14.5523 11 14 11C13.4477 11 13 11.4477 13 12C13 12.5523 13.4477 13 14 13C14.5523 13 15 12.5523 15 12Z",fill:"currentColor"}),h.jsx("path",{d:"M15 8C15 7.44772 14.5523 7 14 7C13.4477 7 13 7.44772 13 8C13 8.55228 13.4477 9 14 9C14.5523 9 15 8.55228 15 8Z",fill:"currentColor"})]})]})),cwe=e=>h.jsx(RI,{LEGACY_fallbackIcon:lwe,spacing:"spacious",...e}),dwe=Xn(h.jsxs("svg",{width:"21",height:"15",viewBox:"0 0 28 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("rect",{x:"1",y:"1",width:"26",height:"18",rx:"5",stroke:"white",strokeWidth:"2",fill:"none"}),h.jsx("rect",{x:"9",y:"6",width:"2",height:"8",rx:"1",fill:"currentColor"}),h.jsx("rect",{x:"13",y:"6",width:"2",height:"8",rx:"1",fill:"currentColor"}),h.jsx("rect",{x:"17",y:"6",width:"2",height:"8",rx:"1",fill:"currentColor"})]})),uwe=e=>h.jsx(RI,{LEGACY_fallbackIcon:dwe,spacing:"spacious",color:U("color.icon.selected"),...e}),fwe=25,Bi=18,pwe=Xn(h.jsxs("svg",{width:"18",height:"25",viewBox:"0 0 20 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("rect",{x:"1",y:"1",width:"18",height:"26",rx:"5",stroke:"white",strokeWidth:"2",fill:"none"}),h.jsx("path",{d:"M8 11C8.55228 11 9 10.5523 9 10C9 9.44772 8.55228 9 8 9C7.44772 9 7 9.44772 7 10C7 10.5523 7.44772 11 8 11Z",fill:"currentColor"}),h.jsx("path",{d:"M12 11C12.5523 11 13 10.5523 13 10C13 9.44772 12.5523 9 12 9C11.4477 9 11 9.44772 11 10C11 10.5523 11.4477 11 12 11Z",fill:"currentColor"}),h.jsx("path",{d:"M8 19C8.55228 19 9 18.5523 9 18C9 17.4477 8.55228 17 8 17C7.44772 17 7 17.4477 7 18C7 18.5523 7.44772 19 8 19Z",fill:"currentColor"}),h.jsx("path",{d:"M12 19C12.5523 19 13 18.5523 13 18C13 17.4477 12.5523 17 12 17C11.4477 17 11 17.4477 11 18C11 18.5523 11.4477 19 12 19Z",fill:"currentColor"}),h.jsx("path",{d:"M8 15C8.55228 15 9 14.5523 9 14C9 13.4477 8.55228 13 8 13C7.44772 13 7 13.4477 7 14C7 14.5523 7.44772 15 8 15Z",fill:"currentColor"}),h.jsx("path",{d:"M12 15C12.5523 15 13 14.5523 13 14C13 13.4477 12.5523 13 12 13C11.4477 13 11 13.4477 11 14C11 14.5523 11.4477 15 12 15Z",fill:"currentColor"})]})),mwe=e=>h.jsx(zI,{LEGACY_fallbackIcon:pwe,spacing:"spacious",...e}),hwe=Xn(h.jsxs("svg",{width:"18",height:"25",viewBox:"0 0 20 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("rect",{x:"1",y:"1",width:"18",height:"26",rx:"5",stroke:"white",strokeWidth:"2",fill:"none"}),h.jsx("rect",{x:"6",y:"9",width:"8",height:"2",rx:"1",fill:"currentColor"}),h.jsx("rect",{x:"6",y:"13",width:"8",height:"2",rx:"1",fill:"currentColor"}),h.jsx("rect",{x:"6",y:"17",width:"8",height:"2",rx:"1",fill:"currentColor"})]})),gwe=e=>h.jsx(zI,{LEGACY_fallbackIcon:hwe,color:U("color.icon.selected"),...e}),vwe=Xn(h.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("rect",{width:"24",height:"24",fill:"white",fillOpacity:"0.01"}),h.jsx("rect",{x:"6",y:"12",width:"12",height:"3",rx:"0.5",fill:"currentColor"}),h.jsx("rect",{x:"6",y:"16",width:"12",height:"3",rx:"0.5",fill:"currentColor"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 7V5.99C12.9974 5.72652 12.8908 5.47473 12.7036 5.28935C12.5163 5.10397 12.2635 4.99999 12 5C11.444 5 11 5.444 11 5.99V7H10C9.73478 7 9.48043 7.10536 9.29289 7.29289C9.10536 7.48043 9 7.73478 9 8C9 8.26522 9.10536 8.51957 9.29289 8.70711C9.48043 8.89464 9.73478 9 10 9H11V10.01C11.0026 10.2735 11.1092 10.5253 11.2964 10.7107C11.4837 10.896 11.7365 11 12 11C12.556 11 13 10.556 13 10.01V9H14C14.2652 9 14.5196 8.89464 14.7071 8.70711C14.8946 8.51957 15 8.26522 15 8C15 7.73478 14.8946 7.48043 14.7071 7.29289C14.5196 7.10536 14.2652 7 14 7H13Z",fill:"currentColor"})]})),bwe=e=>h.jsx(BH,{LEGACY_fallbackIcon:vwe,spacing:"spacious",...e}),ywe=Xn(h.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("rect",{width:"24",height:"24",transform:"matrix(-1 0 0 -1 24 24)",fill:"white",fillOpacity:"0.01"}),h.jsx("rect",{x:"18",y:"12",width:"12",height:"3",rx:"0.5",transform:"rotate(180 18 12)",fill:"currentColor"}),h.jsx("rect",{x:"18",y:"8",width:"12",height:"3",rx:"0.5",transform:"rotate(180 18 8)",fill:"currentColor"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 17V18.01C11.0026 18.2735 11.1092 18.5253 11.2964 18.7107C11.4837 18.896 11.7365 19 12 19C12.556 19 13 18.556 13 18.01V17H14C14.2652 17 14.5196 16.8946 14.7071 16.7071C14.8946 16.5196 15 16.2652 15 16C15 15.7348 14.8946 15.4804 14.7071 15.2929C14.5196 15.1054 14.2652 15 14 15H13V13.99C12.9974 13.7265 12.8908 13.4747 12.7036 13.2893C12.5163 13.104 12.2635 13 12 13C11.444 13 11 13.444 11 13.99V15H10C9.73478 15 9.48043 15.1054 9.29289 15.2929C9.10536 15.4804 9 15.7348 9 16C9 16.2652 9.10536 16.5196 9.29289 16.7071C9.48043 16.8946 9.73478 17 10 17H11Z",fill:"currentColor"})]})),sz=e=>h.jsx(zH,{LEGACY_fallbackIcon:ywe,spacing:"spacious",...e}),Ewe=Xn(h.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("rect",{width:"24",height:"24",transform:"matrix(0 -1 1 0 0 24)",fill:"white",fillOpacity:"0.01"}),h.jsx("rect",{x:"12",y:"18",width:"12",height:"3",rx:"0.5",transform:"rotate(-90 12 18)",fill:"currentColor"}),h.jsx("rect",{x:"16",y:"18",width:"12",height:"3",rx:"0.5",transform:"rotate(-90 16 18)",fill:"currentColor"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 11H5.99C5.72652 11.0026 5.47473 11.1092 5.28935 11.2964C5.10397 11.4837 4.99999 11.7365 5 12C5 12.556 5.444 13 5.99 13H7V14C7 14.2652 7.10536 14.5196 7.29289 14.7071C7.48043 14.8946 7.73478 15 8 15C8.26522 15 8.51957 14.8946 8.70711 14.7071C8.89464 14.5196 9 14.2652 9 14V13H10.01C10.2735 12.9974 10.5253 12.8908 10.7107 12.7036C10.896 12.5163 11 12.2635 11 12C11 11.444 10.556 11 10.01 11H9V10C9 9.73478 8.89464 9.48043 8.70711 9.29289C8.51957 9.10536 8.26522 9 8 9C7.73478 9 7.48043 9.10536 7.29289 9.29289C7.10536 9.48043 7 9.73478 7 10V11Z",fill:"currentColor"})]})),wwe=e=>h.jsx(PH,{LEGACY_fallbackIcon:Ewe,spacing:"spacious",...e}),Cwe=Xn(h.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("rect",{width:"24",height:"24",transform:"translate(0 24) rotate(-90)",fill:"white",fillOpacity:"0.01"}),h.jsx("rect",{x:"9",y:"18",width:"12",height:"3",rx:"0.5",transform:"rotate(-90 9 18)",fill:"currentColor"}),h.jsx("rect",{x:"5",y:"18",width:"12",height:"3",rx:"0.5",transform:"rotate(-90 5 18)",fill:"currentColor"}),h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 11L13.99 11C13.7265 11.0026 13.4747 11.1092 13.2893 11.2964C13.104 11.4837 13 11.7365 13 12C13 12.556 13.444 13 13.99 13L15 13L15 14C15 14.2652 15.1054 14.5196 15.2929 14.7071C15.4804 14.8946 15.7348 15 16 15C16.2652 15 16.5196 14.8946 16.7071 14.7071C16.8946 14.5196 17 14.2652 17 14L17 13L18.01 13C18.2735 12.9974 18.5253 12.8908 18.7107 12.7036C18.896 12.5163 19 12.2635 19 12C19 11.444 18.556 11 18.01 11L17 11L17 10C17 9.73478 16.8946 9.48043 16.7071 9.29289C16.5196 9.10536 16.2652 9 16 9C15.7348 9 15.4804 9.10536 15.2929 9.29289C15.1054 9.48043 15 9.73478 15 10L15 11Z",fill:"currentColor"})]})),iz=e=>h.jsx(FH,{LEGACY_fallbackIcon:Cwe,spacing:"spacious",...e}),_we=Xn(h.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",role:"presentation",children:h.jsx("path",{transform:"rotate(-45 12 12)",d:"M8.062 11L6.5 9.914A1 1 0 017.914 8.5l2.616 2.616c.28.167.47.5.47.884s-.19.717-.47.884L7.914 15.5A1 1 0 116.5 14.086L8.062 13h-3.68c-.487 0-.882-.448-.882-1s.395-1 .882-1h3.68zm5.408 1.884c-.28-.167-.47-.5-.47-.884s.19-.717.47-.884L16.086 8.5A1 1 0 0117.5 9.914L15.938 11h3.68c.487 0 .882.448.882 1s-.395 1-.882 1h-3.68l1.562 1.086a1 1 0 01-1.414 1.414l-2.616-2.616z",fill:"currentColor"})})),xwe=e=>h.jsx(MH,{LEGACY_fallbackIcon:_we,spacing:"spacious",...e}),Swe=Xn(h.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{d:"M7 20V18.5328L12.3415 12.0511V11.9489L7 5.46721V4H17.1818V5.47649H9.24364V5.56007L14.5623 11.9489V12.0511L9.24364 18.4399V18.5235H17.1818V20H7Z",fill:"currentColor"})})),kwe=e=>h.jsx(KH,{LEGACY_fallbackIcon:Swe,...e}),Zn={[ae.TEXT]:{icon:HV,fallbackIcon:xU},[ae.ATTACHMENT]:{icon:MB,fallbackIcon:AB},[ae.NUMBER]:{icon:GV,fallbackIcon:nwe},[ae.DATE]:{icon:uB,fallbackIcon:lB},[ae.SELECT]:{icon:dU,fallbackIcon:pU},[ae.USER]:{icon:gI,fallbackIcon:yU},[ae.HYPERLINK]:{icon:Jr,fallbackIcon:M1},[ae.CHECKBOX]:{icon:SB,fallbackIcon:CB},[ae.PAGE_LINK]:{icon:sU,fallbackIcon:rU},[ae.PAGE_STATUS]:{icon:bB,fallbackIcon:hB},[ae.PAGE_LABELS]:{icon:FU,fallbackIcon:IU},[ae.PAGE_DETAILS]:{icon:PU,fallbackIcon:awe},[ae.ENTRY_LINK]:{icon:J2e,fallbackIcon:oz},[ae.ENTRY_DETAILS]:{icon:KV,fallbackIcon:MU},[ae.BACKLINK]:{icon:oB,fallbackIcon:tB},[ae.JIRA_ISSUE]:{icon:VB,fallbackIcon:NB},[ae.JIRA_ISSUE_DETAILS]:{icon:qB,fallbackIcon:zB}},Ms=({type:e,label:t,noTooltip:n})=>{const{formatMessage:r}=Ee(),o=Zn[e],a=h.jsx(o.icon,{label:"",LEGACY_size:"small",LEGACY_fallbackIcon:o.fallbackIcon,testId:`field-type-icon-${e}`});if(n||!t)return a;const s=r(t);return h.jsx(Zr,{tag:"span",content:s,children:a})},P$=typeof navigator<"u"&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,ht=_.memo(_.forwardRef(function({appearance:t="default",children:n,iconBefore:r,iconAfter:o,isSelected:a=!1,onMouseDown:s=nn,onMouseUp:i=nn,shouldFitContainer:l=!1,spacing:d="default",...u},f){const{mode:p}=l1(),m=BF({children:n,iconBefore:r,iconAfter:o}),[g,v]=c.useState(!1),b=c.useCallback(w=>{s(w),P$&&v(!0)},[s,v]),y=c.useCallback(w=>{i(w),P$&&v(!1)},[i,v]),E=c.useMemo(()=>jF({appearance:t,spacing:d,mode:p,isSelected:a,shouldFitContainer:l,isOnlySingleIcon:m}),[t,d,p,a,l,m]);return _.createElement(VF,H({},u,{ref:f,appearance:t,buttonCss:E,children:n,"data-firefox-is-active":g?!0:void 0,iconAfter:o,iconBefore:r,isSelected:a,onMouseDown:b,onMouseUp:y,spacing:d}))}));ht.displayName="Button";const Yd=_.forwardRef(function({appearance:t,isDisabled:n,isSelected:r,isLoading:o=!1,spacing:a,...s},i){return _.createElement(ht,H({},s,{ref:i,appearance:t,"aria-disabled":o||void 0,isDisabled:n,isSelected:r,overlay:o?_.createElement(HF,{spacing:a,appearance:t,isDisabled:n,isSelected:r}):null,spacing:a}))});Yd.displayName="LoadingButton";const Iwe=M({display:"inline-flex",gap:"var(--ds-space-050, 4px)","> *":{flex:"1 0 auto"}});function lz({children:e,testId:t,label:n,titleId:r}){return k("div",{css:Iwe,"data-testid":t,role:"group","aria-label":n,"aria-labelledby":r},_.Children.map(_.Children.toArray(e),(o,a)=>o?k(c.Fragment,{key:a},o):null))}var XI={},Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});var cz=Hs.default=void 0,Twe=dz(c),Awe=dz(Oe);function dz(e){return e&&e.__esModule?e:{default:e}}const uz=e=>Twe.default.createElement(Awe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M8 8h7M8 8H1m7 0V1m0 7v7"/>'},e));uz.displayName="AddIcon";cz=Hs.default=uz;var U1={};Object.defineProperty(U1,"__esModule",{value:!0});var Dwe=U1.default=void 0,Owe=fz(c),Mwe=je,$we=fz(Hs);function fz(e){return e&&e.__esModule?e:{default:e}}const pz=e=>Owe.default.createElement(Mwe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M13 11V3.993A.997.997 0 0 0 12 3c-.556 0-1 .445-1 .993V11H3.993A.997.997 0 0 0 3 12c0 .557.445 1 .993 1H11v7.007c0 .548.448.993 1 .993.556 0 1-.445 1-.993V13h7.007A.997.997 0 0 0 21 12c0-.556-.445-1-.993-1z"/></svg>'},e,{newIcon:$we.default}));pz.displayName="AddIcon";Dwe=U1.default=pz;Object.defineProperty(XI,"__esModule",{value:!0});var Qr=XI.default=void 0,Rwe=JI(c),Pwe=JI(Hs),Lwe=JI(U1);function JI(e){return e&&e.__esModule?e:{default:e}}const mz=e=>Rwe.default.createElement(Pwe.default,Object.assign({LEGACY_fallbackIcon:Lwe.default},e));mz.Name="AddIconMigration";Qr=XI.default=mz;const Nwe=ie({flexGrow:1,flexShrink:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),Fwe=ie({display:"flex",flexGrow:0,flexShrink:0,alignSelf:"center",fontSize:0,lineHeight:0,userSelect:"none"}),jwe=ie({transition:"opacity 0.3s"}),Vwe=ie({opacity:0}),Bwe=ie({"--ds--button--new-icon-padding-start":"var(--ds-space-050, 4px)","--ds--button--new-icon-padding-end":"var(--ds-space-025, 2px)"}),Uwe=ie({"--ds--button--new-icon-padding-start":"var(--ds-space-025, 2px)","--ds--button--new-icon-padding-end":"var(--ds-space-050, 4px)"}),H0=({children:e,type:t="text",isLoading:n,position:r})=>_.createElement(_e,{as:"span",xcss:[jwe,...t==="text"?[Nwe]:[Fwe],...n?[Vwe]:[],...r==="before"?[Bwe]:[],...r==="after"?[Uwe]:[]]},e);function Hwe(e){return!e.displayName&&!e.render&&typeof e=="function"}const D_=({icon:e})=>_.createElement(_.Fragment,null,Hwe(e)?e({label:"",color:"currentColor"}):_.createElement(e,{label:"",color:"currentColor"}));function Dv(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!==null&&(n.current=t)})}}const ZI=c.createContext(void 0),zwe=()=>{const e=c.useContext(ZI);return e?e.appearance==="navigation"?{spacing:"default",appearance:"subtle",isDisabled:!1,isActiveOverSelected:!1,isNavigationSplitButton:!0,isHighlighted:e.isHighlighted}:{spacing:e.spacing,appearance:e.appearance,isDisabled:e.isDisabled,isActiveOverSelected:!0,isNavigationSplitButton:!1,isHighlighted:!1}:void 0};function ps(e){e.preventDefault(),e.stopPropagation()}const Wwe=9;function L$(e){e.keyCode!==Wwe&&ps(e)}function Gwe(e,t){return e?{onMouseDownCapture:ps,onMouseUpCapture:ps,onKeyDownCapture:L$,onKeyUpCapture:L$,onTouchStartCapture:ps,onTouchEndCapture:ps,onPointerDownCapture:ps,onPointerUpCapture:ps,onClickCapture:ps,onClick:ps}:t}const N$=", Loading";function qwe(e){switch(e){case"compact":return"small";default:return"medium"}}function Ywe({appearance:e,isDisabled:t,isSelected:n}){return t||n?"inherit":e==="primary"||e==="danger"||e==="discovery"?"invert":"inherit"}function Kwe({appearance:e,spacing:t,isDisabled:n,isSelected:r,testId:o}){return _.createElement(UF,{size:qwe(t),appearance:Ywe({appearance:e,isDisabled:n,isSelected:r}),testId:o?`${o}--loading-spinner`:void 0})}const Xwe=ie({display:"inline-flex",boxSizing:"border-box",width:"auto",maxWidth:"100%",position:"relative",alignItems:"baseline",justifyContent:"center",columnGap:"space.050",borderRadius:"border.radius.100",borderWidth:"border.width.0",flexShrink:0,height:"2rem",font:"font.body",fontWeight:"font.weight.medium",paddingBlock:"space.075",paddingInlineEnd:"space.150",paddingInlineStart:"space.150",textAlign:"center",transition:"background 0.1s ease-out",verticalAlign:"middle","::after":{borderRadius:"inherit",inset:"space.0",borderStyle:"solid",borderWidth:"var(--ds-border-width, 1px)",pointerEvents:"none",position:"absolute"}}),Jwe=ie({":hover":{background:"var(--ds-background-neutral-hovered, #091e4214)",color:`var(--ds-text, ${rn})`},":active":{background:`var(--ds-background-neutral-pressed, ${jo})`,color:`var(--ds-text, ${Jt})`}}),Zwe=ie({":hover":{background:"var(--ds-background-neutral-subtle-hovered, #091E420F)",color:"color.text.subtle"},":active":{background:"var(--ds-background-neutral-subtle-pressed, #091E4224)",color:"color.text.subtle"}}),Qwe=ie({background:`var(--ds-background-neutral, ${No})`,color:`var(--ds-text, ${rn})`,":visited":{color:`var(--ds-text, ${rn})`}}),eCe=ie({background:"var(--ds-background-neutral-subtle, #00000000)",color:"color.text.subtle","::after":{content:'""',borderColor:"color.border"},":visited":{color:"color.text.subtle"}}),tCe=ie({background:"var(--ds-background-brand-bold, #0052CC)",color:"var(--ds-text-inverse, #FFFFFF)",":visited":{color:"var(--ds-text-inverse, #FFFFFF)"}}),nCe=ie({":hover":{color:"var(--ds-text-inverse, #FFFFFF)",background:"var(--ds-background-brand-bold-hovered, #0065FF)"},":active":{color:"var(--ds-text-inverse, #FFFFFF)",background:"var(--ds-background-brand-bold-pressed, #0747A6)"}}),rCe=ie({background:"var(--ds-background-warning-bold, #FFAB00)",color:"var(--ds-text-warning-inverse, #172B4D)",":visited":{color:"var(--ds-text-warning-inverse, #172B4D)"}}),oCe=ie({":hover":{color:"var(--ds-text-warning-inverse, #172B4D)",background:"var(--ds-background-warning-bold-hovered, #FFC400)"},":active":{color:"var(--ds-text-warning-inverse, #172B4D)",background:"var(--ds-background-warning-bold-pressed, #FF991F)"}}),aCe=ie({background:"var(--ds-background-danger-bold, #DE350B)",color:"color.text.inverse",":visited":{color:"color.text.inverse"}}),sCe=ie({":hover":{color:"color.text.inverse",background:"var(--ds-background-danger-bold-hovered, #FF5630)"},":active":{color:"color.text.inverse",background:"var(--ds-background-danger-bold-pressed, #BF2600)"}}),iCe=ie({background:"var(--ds-background-discovery-bold, #5243AA)",color:"color.text.inverse",":visited":{color:"color.text.inverse"}}),lCe=ie({":hover":{color:"color.text.inverse",background:"var(--ds-background-discovery-bold-hovered, #8777D9)"},":active":{color:"color.text.inverse",background:"var(--ds-background-discovery-bold-pressed, #5243AA)"}}),cCe=ie({background:"var(--ds-background-neutral-subtle, transparent)",color:"var(--ds-text, #42526E)",":visited":{color:"var(--ds-text, #42526E)"}}),dCe=ie({background:"var(--ds-background-neutral-subtle, transparent)",color:"color.text.subtle",":visited":{color:"color.text.subtle"}}),uCe=ie({":hover":{background:"var(--ds-background-neutral-subtle-hovered, #091e4214)",color:"var(--ds-text, #42526E)"},":active":{background:"var(--ds-background-neutral-subtle-pressed, #B3D4FF)",color:"var(--ds-text, #42526E)"}}),fCe=ie({":hover":{background:"var(--ds-background-neutral-subtle-hovered, #091e4214)",color:"color.text.subtle"},":active":{background:"var(--ds-background-neutral-subtle-pressed, #B3D4FF)",color:"color.text.subtle"}}),pCe=ie({textDecoration:"none",":hover":{textDecoration:"none"},":active":{textDecoration:"none"},":focus":{textDecoration:"none"}}),mCe=ie({cursor:"not-allowed",background:`var(--ds-background-disabled, ${No})`,color:"var(--ds-text-disabled, #091E424F)",":hover":{background:`var(--ds-background-disabled, ${No})`,color:"var(--ds-text-disabled, #091E424F)"},":active":{background:`var(--ds-background-disabled, ${No})`,color:"var(--ds-text-disabled, #091E424F)"},"::after":{content:"none"}}),hCe=ie({background:`var(--ds-background-selected, ${Qn})`,color:`var(--ds-text-selected, ${Ke})`,":visited":{color:`var(--ds-text-selected, ${Ke})`}}),gCe=ie({background:"var(--ds-background-selected, #E9F2FF)",color:"color.text.selected","::after":{content:'""',borderColor:"color.border.selected"},":visited":{color:"color.text.selected"}}),vCe=ie({zIndex:2}),bCe=ie({":hover":{color:`var(--ds-text-selected, ${Ke})`,background:`var(--ds-background-selected-hovered, ${Qn})`},":active":{color:`var(--ds-text-selected, ${Ke})`,background:`var(--ds-background-selected-pressed, ${Qn})`}}),yCe=ie({background:`var(--ds-background-selected, ${hs})`,color:`var(--ds-text-selected, ${mn})`,":hover":{color:`var(--ds-text-selected, ${Ke})`,background:`var(--ds-background-selected, ${hs})`},":active":{color:`var(--ds-text-selected, ${Ke})`,background:`var(--ds-background-selected, ${hs})`}}),ECe=ie({background:`var(--ds-background-selected, ${yr})`,color:`var(--ds-text-selected, ${Ke})`,":hover":{color:`var(--ds-text-selected, ${Ke})`,background:`var(--ds-background-selected, ${yr})`},":active":{color:`var(--ds-text-selected, ${Ke})`,background:`var(--ds-background-selected, ${yr})`}}),wCe=ie({background:"var(--ds-background-selected, #403294)",color:`var(--ds-text-selected, ${Ke})`,":hover":{color:`var(--ds-text-selected, ${Ke})`,background:"var(--ds-background-selected, #403294)"},":active":{color:`var(--ds-text-selected, ${Ke})`,background:"var(--ds-background-selected, #403294)"}}),CCe=ie({columnGap:"space.050",height:"1.5rem",paddingBlock:"space.025",paddingInlineEnd:"space.150",paddingInlineStart:"space.150",verticalAlign:"middle"}),_Ce=ie({borderRadius:"border.radius.circle"}),xCe=ie({width:"100%"}),SCe=ie({cursor:"progress"}),kCe=ie({height:"2rem",width:"2rem",paddingInlineEnd:"space.0",paddingInlineStart:"space.0"}),ICe=ie({width:"1.5rem",height:"1.5rem"}),TCe=ie({paddingInlineStart:"space.100"}),ACe=ie({paddingInlineEnd:"space.100"}),DCe=ie({":focus-visible":{zIndex:"card"}}),OCe=ie({width:"24px",backgroundColor:"color.background.neutral.subtle",paddingInlineEnd:"space.075",paddingInlineStart:"space.075"}),MCe=ie({display:"flex",position:"absolute",alignItems:"center",justifyContent:"center",insetBlockEnd:"space.0",insetBlockStart:"space.0",insetInlineEnd:"space.0",insetInlineStart:"space.0"}),hz=({appearance:e="default",autoFocus:t=!1,isDisabled:n=!1,isLoading:r=!1,isSelected:o=!1,isIconButton:a=!1,isCircle:s=!1,hasIconBefore:i=!1,hasIconAfter:l=!1,children:d,onClick:u,onMouseDownCapture:f,onMouseUpCapture:p,onKeyDownCapture:m,onKeyUpCapture:g,onTouchStartCapture:v,onTouchEndCapture:b,onPointerDownCapture:y,onPointerUpCapture:E,onClickCapture:w,ref:C,shouldFitContainer:x=!1,spacing:S="default",testId:I,ariaLabel:A,ariaLabelledBy:T})=>{const O=c.useRef(null),D=zwe(),$=QS(),L=!!D,F=(D==null?void 0:D.isNavigationSplitButton)||!1,V=(D==null?void 0:D.appearance)==="default"&&Pe("platform-component-visual-refresh")?"subtle":(D==null?void 0:D.appearance)||e,Y=(D==null?void 0:D.spacing)||S,J=(D==null?void 0:D.isDisabled)||n,z=!J&&!r,ce=J||r,le=o&&!J;return LF(O,t),{ref:Dv([O,C]),xcss:[Xwe,V==="default"&&(Pe("platform-component-visual-refresh")?eCe:Qwe),V==="default"&&z&&(Pe("platform-component-visual-refresh")?Zwe:Jwe),V==="primary"&&tCe,V==="primary"&&z&&nCe,V==="warning"&&rCe,V==="warning"&&z&&oCe,V==="danger"&&aCe,V==="danger"&&z&&sCe,V==="discovery"&&iCe,V==="discovery"&&z&&lCe,V==="subtle"&&(Pe("platform-component-visual-refresh")?dCe:cCe),V==="subtle"&&z&&(Pe("platform-component-visual-refresh")?fCe:uCe),pCe,le&&(Pe("platform-component-visual-refresh")?gCe:hCe),le&&L&&vCe,le&&z&&bCe,le&&V==="danger"&&ECe,le&&V==="warning"&&yCe,le&&V==="discovery"&&wCe,J&&mCe,s&&!L&&_Ce,Y==="compact"&&CCe,i&&TCe,l&&ACe,a&&kCe,a&&Y==="compact"&&ICe,x&&xCe,r&&SCe,L&&DCe,F&&OCe],isDisabled:ce,children:_.createElement(ZI.Provider,{value:void 0},d,r?_.createElement(_e,{as:"span",xcss:MCe},Kwe({spacing:Y,appearance:V,isDisabled:J,isSelected:le,testId:I})):null,r&&(d&&!A&&!T||T)&&_.createElement(YS,{id:$},N$)),"aria-label":r&&A&&!T?`${A} ${N$}`:A,"aria-labelledby":r&&T?`${T} ${$}`:T,...Gwe(ce,{onClick:u,onMouseDownCapture:f,onMouseUpCapture:p,onKeyDownCapture:m,onKeyUpCapture:g,onTouchStartCapture:v,onTouchEndCapture:b,onPointerDownCapture:y,onPointerUpCapture:E,onClickCapture:w})}},$Ce=({analyticsContext:e,appearance:t,ariaLabel:n,ariaLabelledBy:r,autoFocus:o,buttonType:a,children:s,iconAfter:i,iconBefore:l,interactionName:d,isDisabled:u,isLoading:f=!1,isSelected:p,onClick:m,onClickCapture:g,onKeyDownCapture:v,onKeyUpCapture:b,onMouseDownCapture:y,onMouseUpCapture:E,onPointerDownCapture:w,onPointerUpCapture:C,onTouchEndCapture:x,onTouchStartCapture:S,ref:I,shouldFitContainer:A,spacing:T,testId:O})=>hz({analyticsContext:e,appearance:t,autoFocus:o,ariaLabel:n,ariaLabelledBy:r,buttonType:a,children:_.createElement(c.Fragment,null,l&&_.createElement(H0,{type:"icon",position:"before",isLoading:f},_.createElement(D_,{icon:l})),s&&_.createElement(H0,{isLoading:f},s),i&&_.createElement(H0,{type:"icon",position:"after",isLoading:f},_.createElement(D_,{icon:i}))),interactionName:d,isDisabled:u,isLoading:f,isSelected:p,onClick:m,onMouseDownCapture:y,onMouseUpCapture:E,onKeyDownCapture:v,onKeyUpCapture:b,onTouchStartCapture:S,onTouchEndCapture:x,onPointerDownCapture:w,onPointerUpCapture:C,onClickCapture:g,ref:I,shouldFitContainer:A,spacing:T,testId:O,hasIconBefore:!!l,hasIconAfter:!!i}),ur=_.memo(_.forwardRef(function({analyticsContext:t,appearance:n,"aria-label":r,"aria-labelledby":o,autoFocus:a,children:s,iconAfter:i,iconBefore:l,interactionName:d,isDisabled:u,isLoading:f,isSelected:p,onClick:m,onClickCapture:g,onKeyDownCapture:v,onKeyUpCapture:b,onMouseDownCapture:y,onMouseUpCapture:E,onPointerDownCapture:w,onPointerUpCapture:C,onTouchEndCapture:x,onTouchStartCapture:S,shouldFitContainer:I,spacing:A,testId:T,type:O="button",...D},$){const{className:L,css:F,as:B,style:V,...Y}=D,J=$Ce({ariaLabel:r,ariaLabelledBy:o,analyticsContext:t,appearance:n,autoFocus:a,buttonType:"button",children:s,iconAfter:i,iconBefore:l,interactionName:d,isDisabled:u,isLoading:f,isSelected:p,onClick:m,onClickCapture:g,onKeyDownCapture:v,onKeyUpCapture:b,onMouseDownCapture:y,onMouseUpCapture:E,onPointerDownCapture:w,onPointerUpCapture:C,onTouchEndCapture:x,onTouchStartCapture:S,ref:$,shouldFitContainer:I,spacing:A,testId:T});return _.createElement(Co,H({},Y,{"aria-label":J["aria-label"],"aria-labelledby":J["aria-labelledby"],ref:J.ref,xcss:J.xcss,isDisabled:J.isDisabled,onClick:J.onClick,onMouseDownCapture:J.onMouseDownCapture,onMouseUpCapture:J.onMouseUpCapture,onKeyDownCapture:J.onKeyDownCapture,onKeyUpCapture:J.onKeyUpCapture,onTouchStartCapture:J.onTouchStartCapture,onTouchEndCapture:J.onTouchEndCapture,onPointerDownCapture:J.onPointerDownCapture,onPointerUpCapture:J.onPointerUpCapture,onClickCapture:J.onClickCapture,type:O,testId:T,analyticsContext:t,interactionName:d,componentName:"Button"}),J.children)}));ur.displayName="Button";const RCe="ArrowUp",O_="ArrowDown",PCe="Home",LCe="End",NCe="Escape";function FCe({onClose:e,isDisabled:t}){const n=c.useRef(!1),r=c.useCallback(a=>{t||n.current||a.key!==NCe||(n.current=!0,e(a))},[e,t]),o=c.useCallback(()=>{n.current=!1},[]);c.useEffect(()=>mt.bindAll(document,[{type:"keydown",listener:r},{type:"keyup",listener:o}],{capture:!1}),[r,o])}function pf(e){const t=c.useRef(e);return c.useEffect(()=>{t.current=e},[e]),t}const jCe=c.createContext(null);function gz({isOpen:e=!0}={}){const t=c.useContext(jCe);c.useEffect(()=>{if(t!==null&&e)return t.increment(),()=>{t.decrement()}},[t,e])}const kl={none:0,small:100,medium:350,large:700},G2=.5,VCe={none:kl.none,small:kl.small*G2,medium:kl.medium*G2,large:kl.large*G2},BCe=()=>typeof window<"u"&&"matchMedia"in window,UCe=()=>{if(!BCe())return!1;const{matches:e}=window.matchMedia("(prefers-reduced-motion: reduce)");return e},vz=e=>{switch(e.cleanup){case"next-effect":return;case"unmount":default:return[]}},HCe=(e={cleanup:"unmount"})=>{const t=c.useRef([]);return c.useEffect(()=>()=>{t.current.length&&(t.current.forEach(n=>cancelAnimationFrame(n)),t.current=[])},vz(e)),c.useCallback(n=>{const r=requestAnimationFrame(o=>{t.current=t.current.filter(a=>a!==r),n(o)});t.current.push(r)},[])},bz=(e={cleanup:"unmount"})=>{const t=c.useRef([]);return c.useEffect(()=>()=>{t.current.length&&(t.current.forEach(n=>clearTimeout(n)),t.current=[])},vz(e)),c.useCallback((n,r,...o)=>{const a=setTimeout(()=>{t.current=t.current.filter(s=>s!==a),n()},r,...o);t.current.push(a)},[])},yz={appear:!0,isExiting:!1},Ez=c.createContext(yz),F$=(e,t=yz)=>_.createElement(Ez.Provider,{key:`${e.key}-provider`,value:t},e),j$=e=>{const t=[];return c.Children.toArray(e).forEach(n=>{typeof n!="boolean"&&n&&t.push(n)}),t},zCe=(e,t)=>{const n=t.concat([]),r=WCe(t);for(let o=0;o<e.length;o++){const a=e[o];!r[a.key]&&n.splice(o+1,0,a)}return n},WCe=e=>e.reduce((t,n)=>(t[n.key]=n,t),{}),GCe=(e,t)=>{const n=new Set(e.map(o=>o.key)),r=new Set;for(let o=0;o<t.length;o++){const s=t[o].key;n.has(s)||r.add(s)}return r},QI=c.memo(({appear:e=!1,children:t,exitThenEnter:n})=>{const[r,o]=c.useState([null,t]),[a,s]=c.useState([]),[i,l]=c.useState(()=>({appear:e,isExiting:!1}));if(c.useEffect(()=>{i.appear||l({appear:!0,isExiting:!1})},[]),UCe()||typeof r=="boolean")return t;const[d,u]=r,f=j$(d),p=j$(u);u!==t&&o([u,t]);const m=GCe(p,f),g=!!m.size;let v=p;if(g&&(v=zCe(p,f)),n)if(a.length)v=a;else{const b=v.filter(y=>m.has(y.key));b.length&&s(b)}return m.size?v=v.map(b=>{const y=m.has(b.key);return F$(b,{appear:!0,isExiting:y,onFinish:y?()=>{m.delete(b.key),m.size===0&&(o([null,t]),s([]))}:void 0})}):v=v.map(b=>F$(b,i)),v}),wz=()=>c.useContext(Ez);QI.displayName="ExitingPersistence";const qCe=typeof window>"u"?c.useEffect:c.useLayoutEffect;function YCe(){const e=c.useRef("");return e.current||(e.current="_"+(Number(String(Math.random()).slice(2))+Date.now()+Math.round(performance.now())).toString(36)),e.current}const KCe=c.createContext(()=>({isReady:!0,delay:0,ref:nn})),XCe=()=>{const e=YCe();return c.useContext(KCe)(e)},JCe=({children:e,animationTimingFunction:t,animationTimingFunctionExiting:n=t,enteringAnimation:r,exitingAnimation:o=r,isPaused:a,onFinish:s,duration:i="large"})=>{const l=XCe(),{isExiting:d,onFinish:u,appear:f}=wz(),p=bz(),m=a||!l.isReady,g=d?0:l.delay,v=d?"exiting":"entering",[b,y]=c.useState(f);return c.useEffect(()=>{let E=!1;if(!m){if(!f){s&&s(v);return}return y(!0),p(()=>{v==="exiting"&&u&&u(),E||y(!1),s&&s(v)},d?VCe[i]:kl[i]+g),()=>{E=!0}}},[u,v,d,i,g,m,p]),e({ref:l.ref,className:b?Ye([Ye(["_1o51eoah _1y0co91m _1bumglyw _sedtglyw"]),m&&Ye(["_1y0ctrqk"]),i==="small"&&Ye(["_5sag1yx9"]),i==="medium"&&Ye(["_5sag1ttt"]),i==="large"&&Ye(["_5sagpwmj"]),d&&i==="small"&&Ye(["_5sag14ed"]),d&&i==="medium"&&Ye(["_5sagluct"]),d&&i==="large"&&Ye(["_5sag1ttt"]),d&&Ye(["_ju255cps _1o51q7pw"]),!d&&t==="linear"&&Ye(["_1pglp3kn"]),!d&&t==="ease-out"&&Ye(["_1pgldkwg"]),!d&&t==="ease-in"&&Ye(["_1pgl1nzg"]),!d&&t==="ease-in-out"&&Ye(["_1pgl1fu8"]),d&&t==="linear"&&Ye(["_1pglp3kn"]),d&&n==="ease-out"&&Ye(["_1pgldkwg"]),d&&n==="ease-in"&&Ye(["_1pgl1nzg"]),d&&n==="ease-in-out"&&Ye(["_1pgl1fu8"]),(!d&&r==="fade-in"||d&&o==="fade-in")&&Ye(["_j7hq1cgr"]),(!d&&r==="fade-out"||d&&o==="fade-out")&&Ye(["_j7hq1lln"]),(!d&&r==="zoom-in"||d&&o==="zoom-in")&&Ye(["_j7hqe8p0"]),(!d&&r==="zoom-out"||d&&o==="zoom-out")&&Ye(["_j7hqy6ql"]),(!d&&r==="slide-in-from-top"||d&&o==="slide-in-from-top")&&Ye(["_j7hqqshu"]),(!d&&r==="slide-out-from-top"||d&&o==="slide-out-from-top")&&Ye(["_j7hq7ri4"]),(!d&&r==="slide-in-from-right"||d&&o==="slide-in-from-right")&&Ye(["_j7hqdfjr"]),(!d&&r==="slide-out-from-right"||d&&o==="slide-out-from-right")&&Ye(["_j7hqonfj"]),(!d&&r==="slide-in-from-bottom"||d&&o==="slide-in-from-bottom")&&Ye(["_j7hq1liq"]),(!d&&r==="slide-out-from-bottom"||d&&o==="slide-out-from-bottom")&&Ye(["_j7hqhnf1"]),(!d&&r==="slide-in-from-left"||d&&o==="slide-in-from-left")&&Ye(["_j7hq1bh1"]),(!d&&r==="slide-out-from-left"||d&&o==="slide-out-from-left")&&Ye(["_j7hqj08w"]),(!d&&r==="fade-in-from-top"||d&&o==="fade-in-from-top")&&Ye(["_j7hq2iua"]),(!d&&r==="fade-out-from-top"||d&&o==="fade-out-from-top")&&Ye(["_j7hq39va"]),(!d&&r==="fade-in-from-left"||d&&o==="fade-in-from-left")&&Ye(["_j7hq15m2"]),(!d&&r==="fade-out-from-left"||d&&o==="fade-out-from-left")&&Ye(["_j7hq1yiv"]),(!d&&r==="fade-in-from-bottom"||d&&o==="fade-in-from-bottom")&&Ye(["_j7hq1w00"]),(!d&&r==="fade-out-from-bottom"||d&&o==="fade-out-from-bottom")&&Ye(["_j7hqzy3z"]),(!d&&r==="fade-in-from-right"||d&&o==="fade-in-from-right")&&Ye(["_j7hqpqak"]),(!d&&r==="fade-out-from-right"||d&&o==="fade-out-from-right")&&Ye(["_j7hq1ebg"]),(!d&&r==="fade-in-from-top-constant"||d&&o==="fade-in-from-top-constant")&&Ye(["_j7hqm2e2"]),(!d&&r==="fade-out-from-top-constant"||d&&o==="fade-out-from-top-constant")&&Ye(["_j7hq97jn"]),(!d&&r==="fade-in-from-left-constant"||d&&o==="fade-in-from-left-constant")&&Ye(["_j7hqovgq"]),(!d&&r==="fade-out-from-left-constant"||d&&o==="fade-out-from-left-constant")&&Ye(["_j7hq15do"]),(!d&&r==="fade-in-from-bottom-constant"||d&&o==="fade-in-from-bottom-constant")&&Ye(["_j7hq797a"]),(!d&&r==="fade-out-from-bottom-constant"||d&&o==="fade-out-from-bottom-constant")&&Ye(["_j7hqwo7r"]),(!d&&r==="fade-in-from-right-constant"||d&&o==="fade-in-from-right-constant")&&Ye(["_j7hqt8u5"]),(!d&&r==="fade-out-from-right-constant"||d&&o==="fade-out-from-right-constant")&&Ye(["_j7hq1pgp"])]):"",style:{animationDelay:`${g}ms`}},v)},ZCe={top:"bottom",bottom:"top",left:"right",right:"left"},QCe=({children:e,duration:t="large",entranceDirection:n,exitDirection:r,distance:o="proportional",onFinish:a,isPaused:s})=>{const i=n!==void 0?ZCe[n]:void 0,l=r||i?`fade-out-from-${r||i}${o==="proportional"?"":"-constant"}`:"fade-out";return _.createElement(JCe,{duration:t,enteringAnimation:n?`fade-in-from-${n}${o==="proportional"?"":"-constant"}`:"fade-in",exitingAnimation:l,animationTimingFunction:"ease-in-out",onFinish:a,isPaused:s},e)},e_e=()=>{const e=c.useRef(null),t=c.useCallback(n=>{e.current=n},[]);return[e.current,t]},t_e=({children:e,duration:t="small",onFinish:n})=>{const[r,o]=e_e(),a=wz(),s=HCe(),i=bz(),l=a.isExiting?"exiting":"entering";return qCe(()=>{if(a.isExiting&&r){const d={width:`${r.offsetWidth}px`,height:`${r.offsetHeight}px`,boxSizing:"border-box",willChange:"width,margin"};Object.assign(r.style,d),s(()=>{s(()=>{const u={width:"0px",margin:"0px",transitionTimingFunction:"cubic-bezier(0.8,0,0,0.8)",transitionDuration:kl[t]+"ms",transitionProperty:"width,margin"};Object.assign(r.style,u),i(()=>{a.onFinish&&a.onFinish(),n&&n("exiting")},kl[t])})})}}),e({ref:o},l)};function n_e({viewportPadding:e}){return[{name:"maxSizeData",enabled:!0,phase:"read",fn({state:t,name:n}){window.visualViewport&&(t.modifiersData[n]={viewport:{width:window.visualViewport.width,height:window.visualViewport.height}})}},{name:"maxSize",enabled:!0,phase:"beforeWrite",requiresIfExists:["offset","preventOverflow","flip"],fn({state:t}){var n,r,o,a,s;const i=t.modifiersData.maxSizeData;if(typeof(i==null||(n=i.viewport)===null||n===void 0?void 0:n.width)!="number"||typeof(i==null||(r=i.viewport)===null||r===void 0?void 0:r.height)!="number")return;const{viewport:l}=i,{popperOffsets:d={x:0,y:0}}=t.modifiersData,[u]=t.placement.split("-"),f=(o=(a=t.modifiersData)===null||a===void 0||(s=a.offset)===null||s===void 0?void 0:s[t.placement])!==null&&o!==void 0?o:{x:0,y:0};let p=l.width-2*e,m=l.height-2*e;u==="top"&&(m=t.rects.reference.y+f.y-e),u==="bottom"&&(m=l.height-d.y-e),u==="left"&&(p=t.rects.reference.x+f.x-e),u==="right"&&(p=l.width-d.x-e),t.styles.popper.maxWidth=`${p}px`,t.styles.popper.maxHeight=`${m}px`}}]}const M_=5,r_e=[{name:"flip",options:{flipVariations:!1,padding:M_,boundary:"clippingParents",rootBoundary:"viewport"}}];function o_e(){return null}const a_e=[0,8];function Cz({children:e=o_e,offset:t=a_e,placement:n="bottom-start",referenceElement:r=void 0,modifiers:o,strategy:a="fixed",shouldFitViewport:s=!1}){const[i,l]=t,d=c.useMemo(()=>{const f={name:"preventOverflow",options:{padding:M_,rootBoundary:s?"viewport":"document"}},p={name:"offset",options:{offset:[i,l]}},m=s?n_e({viewportPadding:M_}):[];return[...r_e,f,p,...m]},[i,l,s]),u=c.useMemo(()=>o==null?d:[...d,...o],[d,o]);return _.createElement(cH,{modifiers:u,placement:n,strategy:a,referenceElement:r},e)}const _z="atlaskit-portal-container",xz="body > .atlaskit-portal-container",Sz="atlaskit-portal",s_e=e=>{const t=document.createElement("div");return t.className=Sz,t.style.zIndex=`${e}`,t},kz=()=>document.body,Iz=()=>{const e=document.querySelector(xz);if(!e){var t;const n=document.createElement("div");return n.className=_z,n.style.display="flex",(t=kz())===null||t===void 0||t.appendChild(n),n}return e},i_e=e=>{Iz().removeChild(e)},l_e=e=>{e.parentElement||Iz().appendChild(e)},Tz=()=>document!==void 0,c_e=e=>{if(Tz()){const t=document.createElement("div");return t.className=Sz,t.style.zIndex=`${e}`,t}},d_e=()=>{if(Tz()){const t=document.querySelector(xz);if(!t){var e;const n=document.createElement("div");return n.className=_z,n.style.display="flex",(e=kz())===null||e===void 0||e.appendChild(n),n}return t}};function u_e(e){const{zIndex:t,children:n}=e,r=c.useMemo(()=>s_e(t),[t]);return l_e(r),c.useEffect(()=>()=>{i_e(r)},[r]),sr.createPortal(n,r)}const Az=typeof window<"u"?c.useLayoutEffect:c.useEffect;function f_e(e){const{zIndex:t,children:n}=e,[r,o]=c.useState(null);Az(()=>{const s=c_e(t);o(s);const i=d_e();if(!(!s||!i))return i.appendChild(s),()=>{s&&i.removeChild(s),o(null)}},[t]);const a=Pe("platform_design_system_suspend_portal_children")?_.createElement(c.Suspense,{fallback:null},n):n;return r?sr.createPortal(a,r):null}const p_e=e=>{const[t,n]=c.useState(!1),[r]=c.useState(()=>e==="layoutEffect"?Az:c.useEffect);return r(()=>{n(!0)},[]),t},m_e="akPortalMount",h_e="akPortalUnmount",V$={100:"card",200:"navigation",300:"dialog",400:"layer",500:"blanket",510:"modal",600:"flag",700:"spotlight",9999:"tooltip"},g_e=e=>V$.hasOwnProperty(e)?V$[e]:null,v_e=(e,t)=>{const n={layer:g_e(Number(t)),zIndex:t};return new CustomEvent(e,{detail:n})};function B$(e,t){const n=v_e(e,t);window.dispatchEvent(n)}const b_e=e=>{const t=Number(e);c.useEffect(()=>(B$(m_e,t),()=>{B$(h_e,t)}),[t])};function Dz({zIndex:e=0,children:t,mountStrategy:n="effect"}){const r=p_e(n);return b_e(e),Pe("platform_design_system_team_portal_logic_r18_fix")?_.createElement(f_e,{zIndex:e},t):r?_.createElement(u_e,{zIndex:e},t):null}const pp=new Set;let Wp=null;function U$(){if(Wp)return;Wp=mt.bindAll(window,[{type:"dragend",listener:q2},{type:"pointerdown",listener:q2},{type:"pointermove",listener:(()=>{let t=0;return function(){if(t<20){t++;return}q2()}})()}]),Array.from(pp).forEach(t=>{t.onDragStart()})}function q2(){var e;(e=Wp)===null||e===void 0||e(),Wp=null,Array.from(pp).forEach(n=>{n.onDragEnd()})}function y_e(){return mt.bindAll(window,[{type:"dragstart",listener:U$},{type:"dragenter",listener:U$}])}let Jg=null;function E_e(e){return Jg||(Jg=y_e()),pp.add(e),e.onRegister({isDragging:Wp!==null}),function(){if(pp.delete(e),pp.size===0){var n;(n=Jg)===null||n===void 0||n(),Jg=null}}}let mp=null;function Bf(){mp!=null&&(window.clearTimeout(mp),mp=null)}function H$(e,t){Bf(),mp=window.setTimeout(()=>{mp=null,e()},t)}let wa=null;function w_e(e){let t="waiting-to-show";function n(){return!!(wa&&wa.entry===e)}function r(){n()&&(Bf(),wa=null)}function o(){n()&&e.done(),t="done",r()}function a(){n()&&e.hide({isImmediate:!0}),o()}function s(){if(n()){if(t==="waiting-to-hide"){t="shown",Bf();return}if(t==="hide-animating"){t="shown",Bf(),e.show({isImmediate:!1});return}}}function i({isImmediate:m}){if(n()){if(t==="waiting-to-show"){a();return}if(t!=="waiting-to-hide"){if(m){a();return}t="waiting-to-hide",H$(()=>{t="hide-animating",e.hide({isImmediate:!1})},e.delay)}}}function l(){n()&&t==="hide-animating"&&o()}function d(){return t==="shown"||t==="waiting-to-hide"||t==="hide-animating"}function u(){return e.source.type==="mouse"?e.source.mouse:null}function f(){const m=!!(wa&&wa.isVisible());wa&&(Bf(),wa.entry.hide({isImmediate:!0}),wa.entry.done(),wa=null),wa={entry:e,isVisible:d};function g(){t="shown",e.show({isImmediate:m})}if(m){g();return}t="waiting-to-show",H$(g,e.delay)}return f(),{keep:s,abort:r,isActive:n,requestHide:i,finishHideAnimation:l,mousePosition:u()}}function C_e(e,t){const n=Xle();return t?`${n(e)}`:void 0}const Oz="tooltipPrimitiveZindex",__e=M({zindex:`var(${Oz})`,cursor:"default"}),Mz=c.forwardRef(function({style:t,className:n,children:r,placement:o,testId:a,onMouseOut:s,onMouseOver:i,id:l},d){const u={...t,[Oz]:Qt.tooltip()};return k("div",{ref:d,style:u,"data-testid":a?`${a}--wrapper`:void 0},k("div",{role:"tooltip",className:n,onMouseOut:s,onMouseOver:i,css:__e,"data-placement":o,"data-testid":a,id:l},r))});Mz.displayName="TooltipPrimitive";const $z=c.forwardRef(function({style:t,className:n,children:r,truncate:o,placement:a,testId:s,onMouseOut:i,onMouseOver:l,id:d},u){return c.createElement(Mz,{ref:u,style:t,className:Ye(["_2rko1sit _11c8qk37 _vchhusvi _p12fp3fh _bfhkgkf6 _syaz15cr _152tze3t _1e02ze3t _1i4q1hna _85i5v77o _1q51v77o _y4ti12x7 _bozg12x7 _slp31hna",o&&"_1reo15vq _18m915vq _p12f1pna _1bto1l2s _o5721q9c",n]),placement:a,testId:s,id:d,onMouseOut:i,onMouseOver:l},r)});$z.displayName="TooltipContainer";function z$(e){const t=e||{top:0,left:0};return{getBoundingClientRect:()=>({top:t.top,left:t.left,bottom:t.top,right:t.left,width:0,height:0}),clientWidth:0,clientHeight:0}}const x_e=Qt.tooltip(),W$={componentName:"tooltip",packageName:"@atlaskit/tooltip",packageVersion:"20.0.1"},S_e={top:"bottom",bottom:"top",left:"right",right:"left"},k_e=e=>e.split("-")[0];function e5({children:e,position:t="bottom",mousePosition:n="bottom",content:r,truncate:o=!1,component:a=$z,tag:s="div",testId:i,delay:l=300,onShow:d=nn,onHide:u=nn,canAppear:f,hideTooltipOnClick:p=!1,hideTooltipOnMouseDown:m=!1,analyticsContext:g,strategy:v="fixed",ignoreTooltipPointerEvents:b=!1,isScreenReaderAnnouncementDisabled:y=!1}){const E=t==="mouse"?n:t,w=IO({fn:d,action:"displayed",analyticsData:g,...W$}),C=IO({fn:u,action:"hidden",analyticsData:g,...W$}),x=c.useRef(null),[S,I]=c.useState("hide"),A=c.useRef(null),T=c.useRef(null),O=te=>{T.current=te,A.current=te?te.firstElementChild:null},D=c.useCallback(te=>{A.current=te},[]),$=pf(S),L=pf(w),F=pf(C),B=pf(l),V=pf(f),Y=c.useRef(!1),J=c.useCallback(te=>{x.current=te,Y.current=!1},[]),z=c.useCallback(()=>{x.current&&(Y.current&&F.current(),x.current=null,Y.current=!1,I("hide"))},[F]),ce=c.useCallback(()=>{x.current&&(x.current.abort(),Y.current&&F.current(),x.current=null)},[F]);c.useEffect(function(){return function(){x.current&&ce()}},[ce]);const le=c.useRef(!1);c.useEffect(()=>E_e({onRegister({isDragging:te}){le.current=te},onDragStart(){var te;(te=x.current)===null||te===void 0||te.requestHide({isImmediate:!0}),le.current=!0},onDragEnd(){le.current=!1}}),[]);const j=c.useCallback(te=>{var xe;if(le.current)return;if(x.current&&!x.current.isActive()&&ce(),x.current&&x.current.isActive()){x.current.keep();return}if(V.current&&!((xe=V.current)!==null&&xe!==void 0&&xe.call(V)))return;const he={source:te,delay:B.current,show:({isImmediate:$e})=>{Y.current||(Y.current=!0,L.current()),I($e?"show-immediate":"fade-in")},hide:({isImmediate:$e})=>{I($e?"hide":"before-fade-out")},done:z},we=w_e(he);J(we)},[V,B,z,J,ce,L]),Z=c.useCallback(()=>{var te;(te=x.current)===null||te===void 0||te.requestHide({isImmediate:!0})},[x]);FCe({onClose:Z,isDisabled:S==="hide"||S==="fade-out"}),c.useEffect(()=>S==="hide"?nn:(S==="before-fade-out"&&I("fade-out"),mt.bind(window,{type:"scroll",listener:()=>{x.current&&x.current.requestHide({isImmediate:!0})},options:{capture:!0,passive:!0,once:!0}})),[S]);const K=c.useCallback(()=>{m&&x.current&&x.current.requestHide({isImmediate:!0})},[m]),oe=c.useCallback(()=>{p&&x.current&&x.current.requestHide({isImmediate:!0})},[p]),X=c.useCallback(te=>{if(T.current&&te.target===T.current||te.defaultPrevented)return;te.preventDefault();const xe=t==="mouse"?{type:"mouse",mouse:z$({left:te.clientX,top:te.clientY})}:{type:"keyboard"};j(xe)},[t,j]),pe=c.useCallback(te=>{T.current&&te.target===T.current||te.defaultPrevented||(te.preventDefault(),x.current&&x.current.requestHide({isImmediate:!1}))},[]),ee=t==="mouse"?te=>{var xe;(xe=x.current)!==null&&xe!==void 0&&xe.isActive()&&(x.current.mousePosition=z$({left:te.clientX,top:te.clientY}))}:void 0,ne=c.useCallback(()=>{if(x.current&&x.current.isActive()){x.current.keep();return}},[]),Q=c.useCallback(()=>{j({type:"keyboard"})},[j]),se=c.useCallback(()=>{x.current&&x.current.requestHide({isImmediate:!1})},[]),ue=c.useCallback(te=>{te==="exiting"&&$.current==="fade-out"&&x.current&&x.current.finishHideAnimation()},[$]),ve=s,ke=S!=="hide"&&!!r,ge=!y&&ke,N=S!=="hide"&&S!=="fade-out";gz({isOpen:ke});const R=()=>{var te;if(t==="mouse"&&(te=x.current)!==null&&te!==void 0&&te.mousePosition){var xe;return(xe=x.current)===null||xe===void 0?void 0:xe.mousePosition}return A.current||void 0},P=C_e("tooltip",ge),W={onMouseOver:X,onMouseOut:pe,onMouseMove:ee,onMouseDown:K,onClick:oe,onFocus:Q,onBlur:se};i&&(W["data-testid"]=`${i}--container`);const re=typeof e=="function";c.useEffect(()=>{if(re)return;const te=A.current;if(!(!te||!P))return te.setAttribute("aria-describedby",P),()=>te.removeAttribute("aria-describedby")},[re,P]);const be=ge?_.createElement("span",{"data-testid":i?`${i}-hidden`:void 0,hidden:!0,id:P},typeof r=="function"?r({}):r):null;return _.createElement(_.Fragment,null,typeof e=="function"?_.createElement(_.Fragment,null,e({...W,"aria-describedby":P,ref:D}),be):_.createElement(ve,H({},W,{ref:O,role:"presentation"}),e,be),ke?_.createElement(Dz,{zIndex:x_e},_.createElement(Cz,{placement:E,referenceElement:R(),strategy:v},({ref:te,style:xe,update:he,placement:we})=>{const $e=t==="mouse"?void 0:S_e[k_e(we)];return _.createElement(QI,{appear:!0},N&&_.createElement(QCe,{distance:"constant",entranceDirection:$e,exitDirection:$e,onFinish:ue,duration:S!=="show-immediate"?"medium":"none"},({className:Fe})=>_.createElement(a,{ref:te,className:`Tooltip ${Fe}`,style:{...xe,...b&&{pointerEvents:"none"}},truncate:o,placement:E,testId:R()?i:i&&`${i}--unresolved`,onMouseOut:pe,onMouseOver:ne},typeof r=="function"?r({update:he}):r)))})):null)}e5.displayName="Tooltip";const I_e=({analyticsContext:e,appearance:t,ariaLabel:n,ariaLabelledBy:r,autoFocus:o,buttonType:a,icon:s,interactionName:i,isDisabled:l,isLoading:d=!1,isSelected:u,label:f,onClick:p,onClickCapture:m,onKeyDownCapture:g,onKeyUpCapture:v,onMouseDownCapture:b,onMouseUpCapture:y,onPointerDownCapture:E,onPointerUpCapture:w,onTouchEndCapture:C,onTouchStartCapture:x,ref:S,shape:I,shouldFitContainer:A,spacing:T,testId:O})=>{const D=I==="circle";return hz({analyticsContext:e,appearance:t,autoFocus:o,ariaLabel:n,ariaLabelledBy:r,buttonType:a,children:_.createElement(H0,{type:"icon",isLoading:d},_.createElement(D_,{icon:s}),_.createElement(YS,null,f)),interactionName:i,isDisabled:l,isLoading:d,isSelected:u,isIconButton:!0,isCircle:D,onClick:p,onMouseDownCapture:b,onMouseUpCapture:y,onKeyDownCapture:g,onKeyUpCapture:v,onTouchStartCapture:x,onTouchEndCapture:C,onPointerDownCapture:E,onPointerUpCapture:w,onClickCapture:m,ref:S,shouldFitContainer:A,spacing:T,testId:O})},dn=_.memo(_.forwardRef(function({"aria-label":t,"aria-labelledby":n,analyticsContext:r,appearance:o,autoFocus:a,icon:s,interactionName:i,isDisabled:l,isLoading:d,isSelected:u,isTooltipDisabled:f=!0,label:p,onClick:m,onClickCapture:g,onKeyDownCapture:v,onKeyUpCapture:b,onMouseDownCapture:y,onMouseUpCapture:E,onPointerDownCapture:w,onPointerUpCapture:C,onTouchEndCapture:x,onTouchStartCapture:S,shape:I,spacing:A,testId:T,tooltip:O,type:D="button",...$},L){const{className:F,css:B,as:V,style:Y,...J}=$,z=I_e({analyticsContext:r,appearance:o,ariaLabelledBy:n,autoFocus:a,buttonType:"button",icon:s,interactionName:i,isDisabled:l,isLoading:d,isSelected:u,label:p,onClick:m,onClickCapture:g,onKeyDownCapture:v,onKeyUpCapture:b,onMouseDownCapture:y,onMouseUpCapture:E,onPointerDownCapture:w,onPointerUpCapture:C,onTouchEndCapture:x,onTouchStartCapture:S,ref:L,shape:I,spacing:A,testId:T});if(!f){var ce;return _.createElement(e5,{content:(ce=O==null?void 0:O.content)!==null&&ce!==void 0?ce:p,testId:O==null?void 0:O.testId,position:O==null?void 0:O.position,delay:O==null?void 0:O.delay,onShow:O==null?void 0:O.onShow,onHide:O==null?void 0:O.onHide,mousePosition:O==null?void 0:O.mousePosition,analyticsContext:O==null?void 0:O.analyticsContext,strategy:O==null?void 0:O.strategy,tag:O==null?void 0:O.tag,truncate:O==null?void 0:O.truncate,component:O==null?void 0:O.component,hideTooltipOnClick:O==null?void 0:O.hideTooltipOnClick,hideTooltipOnMouseDown:O==null?void 0:O.hideTooltipOnMouseDown,ignoreTooltipPointerEvents:O==null?void 0:O.ignoreTooltipPointerEvents},le=>_.createElement(Co,H({},J,{"aria-labelledby":z["aria-labelledby"],type:D,testId:T,componentName:"IconButton",analyticsContext:r,interactionName:i,onMouseOver:j=>{var Z,K;(Z=le.onMouseOver)===null||Z===void 0||Z.call(le,j),(K=J.onMouseOver)===null||K===void 0||K.call(J,j)},onMouseOut:j=>{var Z,K;(Z=le.onMouseOut)===null||Z===void 0||Z.call(le,j),(K=J.onMouseOut)===null||K===void 0||K.call(J,j)},onMouseMove:j=>{var Z,K;(Z=le.onMouseMove)===null||Z===void 0||Z.call(le,j),(K=J.onMouseMove)===null||K===void 0||K.call(J,j)},onMouseDown:j=>{var Z,K;(Z=le.onMouseDown)===null||Z===void 0||Z.call(le,j),(K=J.onMouseDown)===null||K===void 0||K.call(J,j)},onFocus:j=>{var Z,K;(Z=le.onFocus)===null||Z===void 0||Z.call(le,j),(K=J.onFocus)===null||K===void 0||K.call(J,j)},onBlur:j=>{var Z,K;(Z=le.onBlur)===null||Z===void 0||Z.call(le,j),(K=J.onBlur)===null||K===void 0||K.call(J,j)},onClick:(j,Z)=>{var K,oe;z==null||(K=z.onClick)===null||K===void 0||K.call(z,j,Z),le==null||(oe=le.onClick)===null||oe===void 0||oe.call(le,j)},ref:j=>{var Z;z.ref(j),le==null||(Z=le.ref)===null||Z===void 0||Z.call(le,j)},xcss:z.xcss,isDisabled:z.isDisabled,onMouseDownCapture:z.onMouseDownCapture,onMouseUpCapture:z.onMouseUpCapture,onKeyDownCapture:z.onKeyDownCapture,onKeyUpCapture:z.onKeyUpCapture,onTouchStartCapture:z.onTouchStartCapture,onTouchEndCapture:z.onTouchEndCapture,onPointerDownCapture:z.onPointerDownCapture,onPointerUpCapture:z.onPointerUpCapture,onClickCapture:z.onClickCapture}),z.children))}return _.createElement(Co,H({},J,{"aria-labelledby":z["aria-labelledby"],ref:z.ref,xcss:z.xcss,isDisabled:z.isDisabled,onClick:z.onClick,onMouseDownCapture:z.onMouseDownCapture,onMouseUpCapture:z.onMouseUpCapture,onKeyDownCapture:z.onKeyDownCapture,onKeyUpCapture:z.onKeyUpCapture,onTouchStartCapture:z.onTouchStartCapture,onTouchEndCapture:z.onTouchEndCapture,onPointerDownCapture:z.onPointerDownCapture,onPointerUpCapture:z.onPointerUpCapture,onClickCapture:z.onClickCapture,type:D,testId:T,componentName:"IconButton",analyticsContext:r,interactionName:i}),z.children)}));dn.displayName="IconButton";const T_e=e=>{const[t,n]=c.Children.toArray(e);return typeof process<"u",{PrimaryAction:t,SecondaryAction:n}},A_e=M({width:"var(--ds-border-width, 1px)",position:"relative",zIndex:1}),D_e=M({backgroundColor:"var(--ds-text-disabled, #091E4224)",cursor:"not-allowed",opacity:.51}),O_e=M({backgroundColor:"var(--ds-border-disabled, #091E4224)",cursor:"not-allowed"}),Rz={default:M({backgroundColor:"var(--ds-text, #172B4D)",opacity:.51}),primary:M({backgroundColor:"var(--ds-text-inverse, #FFF)",opacity:.64}),navigation:M({height:"16px",margin:"var(--ds-space-100, 8px) -0.5px",backgroundColor:"var(--ds-text-subtle, #0052cc)",opacity:.62})},M_e={...Rz,default:M({backgroundColor:"var(--ds-border, #091E4224)"}),primary:M({backgroundColor:"var(--ds-border-inverse, #FFF)",opacity:.64})},$_e=M({marginInline:"calc(0px - var(--ds-border-width, 1px))"}),R_e={default:M({height:"2rem"}),compact:M({height:"1.5rem"})},P_e={default:M({height:"calc(2rem - var(--ds-border-width, 1px) - var(--ds-border-width, 1px))"}),compact:M({height:"calc(1.5rem - var(--ds-border-width, 1px) - var(--ds-border-width, 1px))"})},L_e=({appearance:e,spacing:t,isDisabled:n=!1})=>k("div",{css:[A_e,e==="default"&&!n&&Pe("platform-component-visual-refresh")?P_e[t]:R_e[t],n&&(Pe("platform-component-visual-refresh")?O_e:D_e),!n&&(Pe("platform-component-visual-refresh")?M_e[e]:Rz[e]),Pe("platform-component-visual-refresh")&&$_e]}),N_e=M({display:"inline-flex",position:"relative",alignItems:"center",whiteSpace:"nowrap"}),F_e=M({"button,a":{borderEndEndRadius:0,borderStartEndRadius:0}}),j_e=M({"button,a":{borderEndStartRadius:0,borderStartStartRadius:0}}),V_e=M({borderRadius:"var(--ds-border-radius, 3px)",outlineColor:"var(--ds-border, #091E4224)",outlineOffset:"calc(0px - var(--ds-border-width, 1px))",outlineStyle:"solid",outlineWidth:"var(--ds-border-width, 1px)"}),B_e=({appearance:e,children:t,isDisabled:n=!1})=>k("div",{css:[e==="default"&&!n&&Pe("platform-component-visual-refresh")&&V_e,N_e]},t),U_e=({children:e,appearance:t="default",spacing:n="default",isDisabled:r=!1})=>{const{PrimaryAction:o,SecondaryAction:a}=T_e(e);return k(B_e,{appearance:t,isDisabled:r},k(ZI.Provider,{value:{appearance:t,spacing:n,isDisabled:r}},k("div",{css:F_e},o),k(L_e,{appearance:t,spacing:n,isDisabled:r}),k("div",{css:j_e},a)))};var Zl={},Eh={};Object.defineProperty(Eh,"__esModule",{value:!0});Eh.bind=void 0;function H_e(e,t){var n=t.type,r=t.listener,o=t.options;return e.addEventListener(n,r,o),function(){e.removeEventListener(n,r,o)}}Eh.bind=H_e;var H1={},md=aa&&aa.__assign||function(){return md=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},md.apply(this,arguments)};Object.defineProperty(H1,"__esModule",{value:!0});H1.bindAll=void 0;var z_e=Eh;function G$(e){if(!(typeof e>"u"))return typeof e=="boolean"?{capture:e}:e}function W_e(e,t){if(t==null)return e;var n=md(md({},e),{options:md(md({},G$(t)),G$(e.options))});return n}function G_e(e,t,n){var r=t.map(function(o){var a=W_e(o,n);return(0,z_e.bind)(e,a)});return function(){r.forEach(function(a){return a()})}}H1.bindAll=G_e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bindAll=e.bind=void 0;var t=Eh;Object.defineProperty(e,"bind",{enumerable:!0,get:function(){return t.bind}});var n=H1;Object.defineProperty(e,"bindAll",{enumerable:!0,get:function(){return n.bindAll}})})(Zl);const Pz="ArrowUp",z1="ArrowDown",Lz="Home",Nz="End";function yo(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!==null&&(n.current=t)})}}function gi(e,t=()=>e){const n=e!==void 0,[r,o]=c.useState(t),a=c.useRef(n);c.useEffect(()=>{a.current=n},[n]);const s=n?e:r,i=c.useCallback(l=>{a.current||o(l)},[]);return[s,i]}function Fz(){const[e,t]=c.useState(!1),n=c.useRef({onFocus:()=>t(!0),onBlur:()=>t(!1)});return c.useEffect(()=>()=>t(!1),[]),{isFocused:e,bindFocus:n.current}}var W1={};Object.defineProperty(W1,"__esModule",{value:!0});var wh=W1.default=void 0,q_e=jz(c),Y_e=je,K_e=jz(fc);function jz(e){return e&&e.__esModule?e:{default:e}}const Vz=e=>q_e.default.createElement(Y_e.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M8.292 10.293a1.01 1.01 0 0 0 0 1.419l2.939 2.965c.218.215.5.322.779.322s.556-.107.769-.322l2.93-2.955a1.01 1.01 0 0 0 0-1.419.987.987 0 0 0-1.406 0l-2.298 2.317-2.307-2.327a.99.99 0 0 0-1.406 0"/></svg>'},e,{newIcon:K_e.default,iconType:"utility"}));Vz.displayName="ChevronDownIcon";wh=W1.default=Vz;const t5=c.createContext(0),n5=c.createContext({topLevelRef:{current:null},setTopLevel:Nt}),X_e=({children:e,currentLevel:t})=>{const{setTopLevel:n,topLevelRef:r}=c.useContext(n5);return(r.current===null||t>r.current)&&n(t),c.useEffect(()=>()=>{n(t-1)},[n,t]),_.createElement(t5.Provider,{value:t},e)},J_e=({children:e})=>{const t=c.useRef(0),n=c.useMemo(()=>({topLevelRef:t,setTopLevel:r=>{t.current=r}}),[t]);return _.createElement(n5.Provider,{value:n},e)},Z_e=({children:e,isDisabled:t=!0})=>{const n=c.useContext(t5);if(t)return _.createElement(_.Fragment,null,e);const r=n>0,o=_.createElement(X_e,{currentLevel:n+1},e);return r?o:_.createElement(J_e,null,o)},Bz=Z_e,Q_e="Escape";function exe({onClose:e,isDisabled:t}){const n=c.useRef(!1),{isLayerDisabled:r}=Pu(),o=c.useCallback(s=>{const i=r();t||n.current||s.key!==Q_e||i||(n.current=!0,e(s))},[e,t,r]),a=c.useCallback(()=>{n.current=!1},[]);c.useEffect(()=>mt.bindAll(window,[{type:"keydown",listener:o},{type:"keyup",listener:a}],{capture:!1}),[o,a])}function txe(){const e=c.useContext(t5),{topLevelRef:t}=c.useContext(n5),n=c.useCallback(()=>!!t.current&&e!==t.current,[e,t]);return{currentLevel:e,topLevelRef:t,isLayerDisabled:n}}const Pu=txe,$_=2,R_=M({outline:`${$_}px solid var(--ds-border-focused, #2684FF)`,outlineOffset:$_}),P_=M({outlineColor:"var(--ds-border-focused, #2684FF)",outlineOffset:-$_,outlineStyle:"solid",outlineWidth:"var(--ds-border-width-outline, 2px)"}),nxe=M({"&:focus":R_,"&:focus-visible":R_,"&:focus:not(:focus-visible)":{outline:"none"},"@media screen and (forced-colors: active), screen and (-ms-high-contrast: active)":{"&:focus-visible":{outline:"1px solid"}}}),rxe=M({"&:focus":P_,"&:focus-visible":P_,"&:focus:not(:focus-visible)":{outline:"none"},"@media screen and (forced-colors: active), screen and (-ms-high-contrast: active)":{"&:focus-visible":{outline:"1px solid",outlineOffset:"-1px"}}}),vc=c.memo(({children:e,isInset:t,focus:n})=>{const a=typeof n>"u"?t?rxe:nxe:n==="on"&&(t?P_:R_);return k(js,null,({css:s,cx:i})=>c.Children.only(a?c.cloneElement(e,{className:i([s(a),e.props.className])}):e))});vc.displayName="FocusRing";const mIt="data-theme",hIt="data-color-mode",oxe="ds",Uz=`--${oxe}-elevation-surface-current`,axe=({children:e,update:t})=>{const n=c.useRef(!0);return c.useLayoutEffect(()=>{if(n.current){n.current=!1;return}t()},[t]),_.createElement(c.Fragment,null,e)},sxe=["button","a","input","select","textarea"],ixe=e=>!!(sxe.includes(e.tagName.toLowerCase())||e.getAttribute("tabindex")!==null||e.hasAttribute("contenteditable")),Hz=()=>{const e=c.useRef([]),t=c.useCallback(o=>{const a=requestAnimationFrame(o);return e.current.push(a),a},[]),n=c.useCallback(o=>{cancelAnimationFrame(o),e.current=e.current.filter(a=>a!==o)},[]),r=c.useCallback(()=>{e.current.forEach(o=>cancelAnimationFrame(o)),e.current=[]},[]);return{requestFrame:t,cancelFrame:n,cancelAllFrames:r}},lxe=({isOpen:e,onClose:t,popupRef:n,triggerRef:r,autoFocus:o,shouldDisableFocusTrap:a,shouldUseCaptureOnOutsideClick:s,shouldCloseOnTab:i,shouldRenderToParent:l})=>{const{isLayerDisabled:d,currentLevel:u}=Pu(),{requestFrame:f,cancelAllFrames:p}=Hz();c.useEffect(()=>{if(!e||!n)return Nt;const m=E=>{if(t)if(et("sibling-dropdown-close-issue")){let C=null;if(E.target instanceof HTMLElement){var w;C=(w=E.target.closest("[data-ds--level]"))===null||w===void 0?void 0:w.getAttribute("data-ds--level")}C?t(E,Number(C)):t(E)}else t(E);a&&et("platform_dst_popup-disable-focuslock")&&f(()=>{r==null||r.setAttribute("tabindex","0"),n&&o&&n.setAttribute("tabindex","0")})},g=E=>{const{target:w}=E;if(!document.body.contains(w))return;if(d())if(et("design-system-closed-all-when-click-outside")){if(w instanceof HTMLElement){var x;const A=(x=w.closest)===null||x===void 0?void 0:x.call(w,"[data-ds--level]");if(!A||A.getAttribute("[data-ds--close--type]")==="single")return;const O=A.getAttribute("data-ds--level");if(O&&Number(O)>u)return}}else return;const S=n&&n.contains(w),I=r&&r.contains(w);!S&&!I&&(m(E),document.activeElement&&!ixe(document.activeElement)&&et("platform_dst_popup-disable-focuslock")&&(r==null||r.focus()))},v=E=>{if(et("platform_dst_popup-disable-focuslock")){const{key:C,shiftKey:x}=E;if(x&&C==="Tab"&&!l){if(d())return;f(()=>{n&&!n.contains(document.activeElement)&&(m(E),u===1&&(r==null||r.focus()))});return}if(C==="Tab"){var w;if(i){if(d())return;m(E);return}if(d()&&(w=document.activeElement)!==null&&w!==void 0&&w.closest("[aria-modal]"))return;if(a){f(l?()=>{n&&!n.contains(document.activeElement)&&m(E)}:()=>{document.hasFocus()||m(E)});return}}if(d())return;(C==="Escape"||C==="Esc")&&(r&&o&&r.focus(),m(E))}else{if(d())return;const{key:C}=E;(C==="Escape"||C==="Esc"||i&&C==="Tab")&&m(E)}},b=mt.bindAll(window,[{type:"click",listener:g,options:{capture:s}},{type:"keydown",listener:v}]);let y=Nt;return y=mt.bind(window,{type:"blur",listener:function(w){d()||!(document.activeElement instanceof HTMLIFrameElement)||m(w)}}),()=>{p(),b(),y()}},[e,t,n,r,o,a,s,d,i,u,l,f,p])};var cxe=function(e,t){t=t||{};var n=e.ownerDocument||e,r=[],o=[],a=dxe(n),s=["input","select","a[href]","textarea","button","[tabindex]"],i=e.querySelectorAll(s.join(","));if(t.includeContainer){var l=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;s.some(function(v){return l.call(e,v)})&&(i=Array.prototype.slice.apply(i),i.unshift(e))}for(var d,u,f,p=0,m=i.length;p<m;p++)d=i[p],u=parseInt(d.getAttribute("tabindex"),10),f=isNaN(u)?d.tabIndex:u,!(f<0||d.tagName==="INPUT"&&d.type==="hidden"||d.disabled||a(d,n))&&(f===0?r.push(d):o.push({index:p,tabIndex:f,node:d}));var g=o.sort(function(v,b){return v.tabIndex===b.tabIndex?v.index-b.index:v.tabIndex-b.tabIndex}).map(function(v){return v.node});return Array.prototype.push.apply(g,r),g};function dxe(e){var t=[];function n(r,o){if(r===e.documentElement)return!1;for(var a=0,s=t.length;a<s;a++)if(t[a][0]===r)return t[a][1];o=o||e.defaultView.getComputedStyle(r);var i=!1;return o.display==="none"?i=!0:r.parentNode&&(i=n(r.parentNode)),t.push([r,i]),i}return function(o){if(o===e.documentElement)return!1;var a=e.defaultView.getComputedStyle(o);return n(o,a)?!0:a.visibility==="hidden"}}var uxe=cxe,mf=null;function fxe(e,t){var n=[],r=null,o=null,a=null,s=!1,i=!1,l=null,d=typeof e=="string"?document.querySelector(e):e,u=t||{};u.returnFocusOnDeactivate=t&&t.returnFocusOnDeactivate!==void 0?t.returnFocusOnDeactivate:!0,u.escapeDeactivates=t&&t.escapeDeactivates!==void 0?t.escapeDeactivates:!0;var f={activate:p,deactivate:m,pause:g,unpause:v};return f;function p(D){if(!s){var $={onActivate:D&&D.onActivate!==void 0?D.onActivate:u.onActivate};return s=!0,i=!1,a=document.activeElement,$.onActivate&&$.onActivate(),b(),f}}function m(D){if(s){var $={returnFocus:D&&D.returnFocus!==void 0?D.returnFocus:u.returnFocusOnDeactivate,onDeactivate:D&&D.onDeactivate!==void 0?D.onDeactivate:u.onDeactivate};return y(),$.onDeactivate&&$.onDeactivate(),$.returnFocus&&setTimeout(function(){Qs(a)},0),s=!1,i=!1,this}}function g(){i||!s||(i=!0,y())}function v(){!i||!s||(i=!1,b())}function b(){if(s)return mf&&mf.pause(),mf=f,T(),setTimeout(function(){Qs(w())},0),document.addEventListener("focus",S,!0),document.addEventListener("click",x,!0),document.addEventListener("mousedown",C,!0),document.addEventListener("touchstart",C,!0),document.addEventListener("keydown",I,!0),f}function y(){if(!(!s||mf!==f))return document.removeEventListener("focus",S,!0),document.removeEventListener("click",x,!0),document.removeEventListener("mousedown",C,!0),document.removeEventListener("touchstart",C,!0),document.removeEventListener("keydown",I,!0),mf=null,f}function E(D){var $=u[D],L=$;if(!$)return null;if(typeof $=="string"&&(L=document.querySelector($),!L))throw new Error("`"+D+"` refers to no known node");if(typeof $=="function"&&(L=$(),!L))throw new Error("`"+D+"` did not return a node");return L}function w(){var D;if(E("initialFocus")!==null?D=E("initialFocus"):d.contains(document.activeElement)?D=document.activeElement:D=n[0]||E("fallbackFocus"),!D)throw new Error("You can't have a focus-trap without at least one focusable element");return D}function C(D){u.clickOutsideDeactivates&&!d.contains(D.target)&&m({returnFocus:!1})}function x(D){u.clickOutsideDeactivates||d.contains(D.target)||(D.preventDefault(),D.stopImmediatePropagation())}function S(D){d.contains(D.target)||(D.preventDefault(),D.stopImmediatePropagation(),typeof D.target.blur=="function"&&D.target.blur(),l&&O(l))}function I(D){(D.key==="Tab"||D.keyCode===9)&&A(D),u.escapeDeactivates!==!1&&pxe(D)&&m()}function A(D){if(T(),D.target.hasAttribute("tabindex")&&Number(D.target.getAttribute("tabindex"))<0)return l=D;D.preventDefault();var $=n.indexOf(D.target);if(D.shiftKey)return D.target===r||n.indexOf(D.target)===-1?Qs(o):Qs(n[$-1]);if(D.target===o)return Qs(r);Qs(n[$+1])}function T(){n=uxe(d),r=n[0],o=n[n.length-1]}function O(D){if(D.shiftKey)return Qs(o);Qs(r)}}function pxe(e){return e.key==="Escape"||e.key==="Esc"||e.keyCode===27}function Qs(e){!e||!e.focus||e!==document.activeElement&&(e.focus(),e.tagName.toLowerCase()==="input"&&e.select())}var mxe=fxe;const G1=_r(mxe),hxe=({initialFocusRef:e,popupRef:t,triggerRef:n,autoFocus:r,shouldCloseOnTab:o,shouldDisableFocusTrap:a,shouldReturnFocus:s,shouldRenderToParent:i})=>{const{requestFrame:l,cancelAllFrames:d}=Hz(),{currentLevel:u}=Pu();c.useEffect(()=>{if(!t||o)return Nt;if(a&&et("platform_dst_popup-disable-focuslock")){const m=t.matches("[id^=ds--dropdown--]"),g=document.querySelectorAll(`[data-ds--level="${u-1}"]`);if(!(g[g.length-1]&&!i&&m))return l(()=>{n==null||n.setAttribute("tabindex","-1"),t&&r&&t.setAttribute("tabindex","-1"),(e||t).focus()}),Nt}const p=G1(t,{clickOutsideDeactivates:!0,escapeDeactivates:!0,initialFocus:e||t,fallbackFocus:t,returnFocusOnDeactivate:s});return l(()=>{p.activate()}),()=>{d(),p.deactivate()}},[t,n,r,e,o,a,l,d,s,i,u])},gxe=M({width:"100%"}),vxe=M({display:"block",boxSizing:"border-box",zIndex:Qt.layer(),backgroundColor:`var(--ds-surface-overlay, ${Ve})`,borderRadius:"var(--ds-border-radius, 3px)",boxShadow:`var(--ds-shadow-overlay, ${`0 4px 8px -2px ${Vs}, 0 0 1px ${Bs}`})`,color:"var(--ds-text, #172B4D)",[Uz]:`var(--ds-surface-overlay, ${Ve})`,"&:focus":{outline:"none"}}),bxe=M({overflow:"auto"}),q$=M({position:"fixed",inset:0,backgroundColor:"var(--ds-blanket, #091E427D)"}),yxe=M({maxHeight:"50vh",position:"fixed",insetBlockStart:"var(--ds-space-050, 4px)",insetInline:"var(--ds-space-050, 4px)"}),Exe=c.forwardRef((e,t)=>{const{shouldRenderToParent:n,shouldFitContainer:r,children:o,appearance:a,xcss:s,...i}=e;return k("div",H({className:s,css:[vxe,a==="UNSAFE_modal-below-sm"&&yxe,!n&&bxe,r&&gxe]},i,{ref:t}),o)});function wxe({xcss:e,isOpen:t,id:n,offset:r,testId:o,content:a,fallbackPlacements:s,onClose:i,boundary:l,rootBoundary:d,shouldFlip:u,placement:f="auto",popupComponent:p=Exe,autoFocus:m=!0,triggerRef:g,shouldUseCaptureOnOutsideClick:v,shouldRenderToParent:b,shouldFitContainer:y,shouldDisableFocusLock:E,shouldReturnFocus:w=!0,strategy:C,role:x,label:S,titleId:I,modifiers:A,shouldFitViewport:T,appearance:O="default"}){const[D,$]=c.useState(null),[L,F]=c.useState(null),B=b&&E,V=x!=="dialog";hxe({initialFocusRef:L,popupRef:D,shouldCloseOnTab:B,triggerRef:g,autoFocus:m,shouldDisableFocusTrap:V,shouldReturnFocus:w}),lxe({isOpen:t,onClose:i,popupRef:D,triggerRef:g,shouldUseCaptureOnOutsideClick:v,shouldCloseOnTab:B,autoFocus:m,shouldDisableFocusTrap:V,shouldRenderToParent:b});const{currentLevel:Y}=Pu(),J=c.useMemo(()=>[{name:"flip",enabled:u,options:{rootBoundary:d,boundary:l,fallbackPlacements:s}},...A||[]],[u,d,l,s,A]);return k(Ru,{placement:f,offset:r,modifiers:J,strategy:C,shouldFitViewport:T},({ref:z,style:ce,placement:le,update:j})=>{const Z=k(p,{xcss:e,appearance:O,id:n,"data-ds--level":Y,"data-placement":le,"data-testid":o,role:x,"aria-label":S,"aria-labelledby":I,ref:K=>{K&&(typeof z=="function"?z(K):z.current=K,$(K))},style:O==="UNSAFE_modal-below-sm"?{}:ce,tabIndex:m?0:void 0,shouldRenderToParent:b,shouldFitContainer:y},k(axe,{update:j},a({update:j,isOpen:t,onClose:i,setInitialFocusRef:F})));return!L&&et("platform-design-system-apply-popup-wrapper-focus")?k(c.Fragment,null,k(vc,null,Z),O==="UNSAFE_modal-below-sm"&&k("div",{css:q$})):k(c.Fragment,null,Z,O==="UNSAFE_modal-below-sm"&&k("div",{css:q$}))})}function Cxe({appearance:e,shouldRenderToParent:t}){const n=cN("below.sm",i=>{o(!!i.matches)}),[r,o]=c.useState(!!(n!=null&&n.matches)),a=e==="UNSAFE_modal-below-sm"&&r?"UNSAFE_modal-below-sm":"default";return{appearance:a,shouldRenderToParent:t&&a==="default"}}const _xe=()=>{const[e]=c.useState(()=>Za((t,n,r)=>o=>{o&&r&&(typeof t=="function"?t(o):t&&(t.current=o),n(o))}));return e},xxe=()=>{const[e]=c.useState(()=>Za((t,n)=>r=>{r&&(typeof t=="function"?t(r):t&&(t.current=r),n(r))}));return e},Sxe=Qt.layer(),kxe=ie({position:"relative"}),Ch=c.memo(({xcss:e,appearance:t="default",isOpen:n,id:r,offset:o,testId:a,trigger:s,content:i,onClose:l,boundary:d,rootBoundary:u="viewport",shouldFlip:f=!0,placement:p="auto",fallbackPlacements:m,popupComponent:g,autoFocus:v=!0,zIndex:b=Sxe,shouldUseCaptureOnOutsideClick:y=!1,shouldRenderToParent:E=!1,shouldFitContainer:w=!1,shouldDisableFocusLock:C=!1,shouldReturnFocus:x=!0,strategy:S,role:I,label:A,titleId:T,modifiers:O,shouldFitViewport:D})=>{const[$,L]=c.useState(null),F=_xe(),B=xxe(),V=j1(),{appearance:Y,shouldRenderToParent:J}=Cxe({appearance:t,shouldRenderToParent:E}),z=r||V;xI({isOpen:n});const ce=k(Bz,{isDisabled:!1},k(wxe,{xcss:e,appearance:Y,content:i,isOpen:n,placement:p,fallbackPlacements:m,boundary:d,rootBoundary:u,shouldFlip:f,offset:o,popupComponent:g,id:z,testId:a,onClose:l,autoFocus:v,shouldUseCaptureOnOutsideClick:y,shouldRenderToParent:J||w,shouldFitContainer:w,shouldDisableFocusLock:C,shouldReturnFocus:x,triggerRef:$,strategy:w?"absolute":S,role:I,label:A,titleId:T,modifiers:O,shouldFitViewport:D})),le=k(hh,null,k(bh,null,({ref:j})=>s({ref:et("platform-design-system-dsp-20476-dropdown-menu")?B(j,L):F(j,L,n),"aria-controls":n?z:void 0,"aria-expanded":n,"aria-haspopup":I==="dialog"&&et("platform_dst_popup-disable-focuslock")?"dialog":!0})),n&&(J||w?ce:k(yh,{zIndex:b},ce)));return w?k(_e,{xcss:kxe},le):le}),L_=c.createContext(0),zz=c.createContext({maxLevelRef:{current:0},setMaxLevel:()=>{}}),Ixe=({children:e})=>{const t=c.useRef(0),n=c.useMemo(()=>({maxLevelRef:t,setMaxLevel:(r,o=!1)=>{t.current=o?Math.min(t.current,r):r}}),[t]);return _.createElement(zz.Provider,{value:n},e)},Txe={[z1]:"next",[Pz]:"prev",[Lz]:"first",[Nz]:"last"},Y$=(e,t)=>{for(;t+1<e.length;){if(!e[t+1].hasAttribute("disabled"))return e[t+1];t++}},K$=(e,t)=>{for(;t>0;){if(!e[t-1].hasAttribute("disabled"))return e[t-1];t--}};function Axe(e,t,n){return r=>{const o=e.findIndex(s=>{var i;return(i=document.activeElement)===null||i===void 0?void 0:i.isSameNode(s)});if(t<n.current)return;switch(Txe[r.key]){case"next":if(r.preventDefault(),o<e.length-1){const l=Y$(e,o);l==null||l.focus()}break;case"prev":if(r.preventDefault(),o>0){const l=K$(e,o);l==null||l.focus()}break;case"first":r.preventDefault();const s=Y$(e,-1);s==null||s.focus();break;case"last":r.preventDefault();const i=K$(e,e.length);i==null||i.focus();break;default:return}}}const r5=c.createContext({menuItemRefs:[],registerRef:ct}),Dxe=({children:e})=>{const t=c.useRef([]),n=c.useCallback(i=>{i&&!t.current.includes(i)&&t.current.push(i)},[]),r=c.useContext(L_),{maxLevelRef:o,setMaxLevel:a}=c.useContext(zz);c.useEffect(()=>{const i=r-1;a(r);const l=Zl.bind(window,{type:"keydown",listener:Axe(t.current,r,o)});return()=>{a(i,!0),l()}});const s={menuItemRefs:t.current,registerRef:n};return _.createElement(r5.Provider,{value:s},e)},Wz=c.createContext("cozy"),o5=c.createContext("border"),Oxe=M({display:"flex",position:"static",flexDirection:"column",overflow:"auto"}),Gz=({isLoading:e,maxWidth:t,minWidth:n,minHeight:r,maxHeight:o,testId:a,role:s,spacing:i="cozy",className:l,...d})=>k(Wz.Provider,{value:i},k(o5.Provider,{value:"border"},k("div",H({"aria-busy":e,style:{minWidth:n,maxWidth:t,minHeight:r,maxHeight:o},css:Oxe,"data-testid":a,role:s,className:Pt("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:l},d)))),Lu=c.createContext(null),Mxe={xsmall:8,small:16,medium:24,large:48,xlarge:96};function $xe({mode:e,appearance:t}){return e==="light"?t==="inherit"?`var(--ds-icon-subtle, ${rn})`:`var(--ds-icon-inverse, ${Ve})`:t==="inherit"?`var(--ds-icon-subtle, ${Tde})`:`var(--ds-icon-inverse, ${Ade})`}const Rxe=Pr({to:{transform:"rotate(360deg)"}}),Pxe=M({animation:`${Rxe} 0.86s infinite`,animationTimingFunction:"cubic-bezier(0.4, 0.15, 0.6, 0.85)",transformOrigin:"center"}),Lxe=Pr({from:{transform:"rotate(50deg)",opacity:0,strokeDashoffset:60},to:{transform:"rotate(230deg)",opacity:1,strokeDashoffset:50}}),Nxe=M({animation:`${Lxe} 1s ease-in-out`,animationFillMode:"forwards",opacity:0}),Fxe=M({display:"inline-flex",verticalAlign:"middle"}),jxe=M({fill:"none",strokeDasharray:60,strokeDashoffset:"inherit",strokeLinecap:"round",strokeWidth:1.5,"@media screen and (forced-colors: active)":{filter:"grayscale(100%)",stroke:"CanvasText"}}),Vxe=typeof window>"u"?c.useEffect:c.useLayoutEffect,a5=_.memo(_.forwardRef(function({appearance:t="inherit",delay:n=0,interactionName:r,label:o,size:a="medium",testId:s},i){const l=typeof a=="number"?a:Mxe[a],d=`${n}ms`,{mode:u}=l1(),f=$xe({mode:u,appearance:t}),p=c.useContext(Lu);return Vxe(()=>{if(p!=null)return p.hold(r)},[p,r]),k("span",{css:[Fxe,Pxe],"data-testid":s&&`${s}-wrapper`,style:{animationDelay:d,width:l,height:l}},k("svg",{height:l,width:l,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","data-testid":s,ref:i,"aria-label":o,css:Nxe,style:{animationDelay:d}},k("circle",{cx:"8",cy:"8",r:"7",css:jxe,style:{stroke:f}})))}));function Bxe(e){const t=e.getAttribute("role");return t==="checkbox"||t==="menuitemcheckbox"}function Uxe(e){const t=e.getAttribute("role");return t==="radio"||t==="menuitemradio"}const Hxe=ie({display:"flex",minWidth:"160px",padding:"space.250",justifyContent:"center"}),zxe=({statusLabel:e="Loading"})=>k(_e,{xcss:Hxe},k(a5,{size:"small"}),k(Su,{role:"status"},e)),Wxe=({onClose:e,onUpdate:t,isLoading:n,statusLabel:r,setInitialFocusRef:o,children:a,...s})=>{const{menuItemRefs:i}=c.useContext(r5),l=d=>{i.some(f=>{const p=Bxe(f)||Uxe(f);return f.contains(d.target)&&!p})&&e&&e(d)};return c.useLayoutEffect(()=>{t()},[n,t]),c.useEffect(()=>{var d;const u=(d=i.find(f=>!f.hasAttribute("disabled")))!==null&&d!==void 0?d:null;o==null||o(u)},[i,o]),k(Gz,H({role:"menu",onClick:l},s),n?k(zxe,{statusLabel:r}):a)},qz=c.createContext({setItemState:ct,getItemState:()=>{},setGroupState:ct,getGroupState:()=>({})}),Gxe=e=>{const{children:t}=e,n=c.useRef({}),r=c.useMemo(()=>({setItemState:(o,a,s)=>{n.current[o]||(n.current[o]={}),n.current[o][a]=s},getItemState:(o,a)=>{if(n.current[o])return n.current[o][a]},setGroupState:(o,a)=>{n.current[o]=a},getGroupState:o=>n.current[o]||{}}),[]);return _.createElement(qz.Provider,{value:r},t)};function Yz(){const{registerRef:e}=c.useContext(r5),t=c.useRef(null);return c.useEffect(()=>{t.current!==null&&e(t.current)},[e]),t}const Kz="ds--dropdown--",qxe=()=>`${Kz}${Math.random().toString(16).substr(2,8)}`;function Yxe(){return c.useRef(qxe()).current}const Kxe=gt(),Xxe=`calc(100vh - ${Kxe*2}px)`,ei={top:"bottom",bottom:"top",left:"right",right:"left",start:"end",auto:"auto",end:"start"},Jxe=e=>{const t=e.split("-"),n=t[0];if(["top","bottom"].includes(n))if(t.length===2&&["start","end"].includes(t[1])){const r=t[1];return[`${n}`,`${n}-${ei[r]}`,`${ei[n]}-${r}`,`${ei[n]}`,`${ei[n]}-${ei[r]}`,"auto"]}else return[`${n}-start`,`${n}-end`,`${ei[n]}`,`${ei[n]}-start`,`${ei[n]}-end`,"auto"];else return},q1=e=>{const{defaultOpen:t=!1,isOpen:n,onOpenChange:r=ct,children:o,placement:a="bottom-start",trigger:s,spacing:i,shouldFlip:l=!0,shouldRenderToParent:d=!1,isLoading:u=!1,autoFocus:f=!1,testId:p,statusLabel:m,zIndex:g=Qt.modal()}=e,[v,b]=gi(n,()=>t),y=c.useContext(L_),[E,w]=c.useState(!1),C=c.useMemo(()=>Jxe(a),[a]),x=c.useCallback($=>{const L=!v,{clientX:F,clientY:B,type:V}=$;(V==="keydown"||F===0||B===0)&&w(!0),b(L),r({isOpen:L,event:$})},[r,v,b]),S=c.useCallback($=>{if($.key!=="Escape"&&$.target.closest(`[id^=${Kz}] [aria-haspopup]`))return;const L=!1;b(L),r({isOpen:L,event:$})},[r,b]),{isFocused:I,bindFocus:A}=Fz();c.useEffect(()=>!I||v?ct:Zl.bind(window,{type:"keydown",listener:function(L){L.key===z1&&(L.preventDefault(),x(L))}}),[I,v,x]);const T=Yxe(),O=y>0,D=Yz();return _.createElement(Gxe,null,_.createElement(Ch,{id:v?T:void 0,shouldFlip:l,isOpen:v,onClose:O?void 0:S,zIndex:g,placement:a,fallbackPlacements:C,testId:p&&`${p}--content`,shouldUseCaptureOnOutsideClick:!0,shouldRenderToParent:Pt("platform.design-system-team.render-popup-in-parent_f73ij")?d:void 0,trigger:$=>{if(typeof s=="function"){const{ref:L,...F}=$;return s({...F,...A,triggerRef:O?yo([L,D]):L,isSelected:v,onClick:x,testId:p&&`${p}--trigger`})}return _.createElement(ht,H({},A,{ref:O?yo([$.ref,D]):$.ref,"aria-controls":$["aria-controls"],"aria-expanded":$["aria-expanded"],"aria-haspopup":$["aria-haspopup"],isSelected:v,iconAfter:_.createElement(wh,{size:"medium",label:""}),onClick:x,testId:p&&`${p}--trigger`}),s)},content:({setInitialFocusRef:$,update:L})=>{const F=_.createElement(Dxe,null,_.createElement(Wxe,{spacing:i,maxHeight:Xxe,maxWidth:800,onClose:S,onUpdate:L,isLoading:u,statusLabel:m,setInitialFocusRef:E||f?$:void 0},_.createElement(L_.Provider,{value:y+1},o)));return O?F:_.createElement(Ixe,null,F)}}))},Zxe=vk.h100.lineHeight,X$=vk.h100.size,Qxe=M({color:`var(--ds-text-subtle, ${Vn})`,fontSize:X$,fontWeight:"var(--ds-font-weight-bold, 700)",lineHeight:Zxe/X$,paddingBlock:"var(--ds-space-0, 0px)",paddingInline:"var(--ds-space-200, 16px)",textTransform:"uppercase"}),eSe=c.memo(({children:e,testId:t,id:n,cssFn:r=ct,className:o,...a})=>{bu("@atlaskit/menu","cssFn",r!==ct,"");const s=Pt("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:M(r(void 0));return k("div",H({css:[Qxe,s],"data-testid":t,"data-ds--menu--heading-item":!0,id:n,className:Pt("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:o},a),e)}),Y1=gt(),N_=Y1*2.5,Xz=Y1*.75,tSe=vk.h100.lineHeight,nSe=Y1,Jz=3,J$=N_+(tSe-nSe)-Jz,rSe=Xz+Jz,Y2=Y1*.75,oSe="--ds-menu-seperator-color",aSe=M({"&::before, &::after":{display:"block",height:Y2,content:'""'},"& [data-ds--menu--heading-item]":{marginBlockEnd:Xz,marginBlockStart:N_,"&:first-of-type":{marginBlockStart:N_-Y2}},"& [data-ds--menu--skeleton-heading-item]":{marginBlockEnd:rSe,marginBlockStart:J$,"&:first-of-type":{marginBlockStart:J$-Y2}},"&:focus":{outlineOffset:-1}}),sSe=M({flexShrink:1,overflow:"auto"}),iSe=M({flexShrink:0}),lSe=M({borderBlockStart:`2px solid var(${oSe}, ${`var(--ds-border, ${Mn})`})`}),cSe=M({"[data-section] + &":{marginBlockStart:-6}}),qa=c.forwardRef(({children:e,overrides:t,title:n,testId:r,isScrollable:o,hasSeparator:a,id:s,isList:i=!1,className:l,...d},u)=>{bu("@atlaskit/menu","overrides",t!==void 0,"");const f=Pt("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:t&&t.HeadingItem&&t.HeadingItem.cssFn,p=i?k("ul",{style:{margin:0,padding:0}},c.Children.map(c.Children.toArray(e),(g,v)=>k("li",{style:{listStyleType:"none",margin:0,padding:0},key:v},g))):e,m=n!==void 0?k(c.Fragment,null,k(eSe,{cssFn:f,testId:r&&`${r}--heading`,"aria-hidden":!0},n),p):k(c.Fragment,null,p);return k("div",H({},d,{className:Pt("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:l,id:s,css:[aSe,o?sSe:iSe,a?lSe:cSe],"aria-label":n,"data-testid":r,role:"group","data-section":!0,ref:u}),m)}),F_=2,j_=M({outline:`${F_}px solid var(--ds-border-focused, #2684FF)`,outlineOffset:F_}),V_=M({outlineColor:"var(--ds-border-focused, #2684FF)",outlineOffset:-F_,outlineStyle:"solid",outlineWidth:"var(--ds-border-width-outline, 2px)"}),dSe=M({"&:focus":j_,"&:focus-visible":j_,"&:focus:not(:focus-visible)":{outline:"none"},"@media screen and (forced-colors: active), screen and (-ms-high-contrast: active)":{"&:focus-visible":{outline:"1px solid"}}}),uSe=M({"&:focus":V_,"&:focus-visible":V_,"&:focus:not(:focus-visible)":{outline:"none"},"@media screen and (forced-colors: active), screen and (-ms-high-contrast: active)":{"&:focus-visible":{outline:"1px solid",outlineOffset:"-1px"}}}),Zz=c.memo(({children:e,isInset:t,focus:n})=>{const a=typeof n>"u"?t?uSe:dSe:n==="on"&&(t?V_:j_);return k(js,null,({css:s,cx:i})=>c.Children.only(a?c.cloneElement(e,{className:i([s(a),e.props.className])}):e))});Zz.displayName="FocusRing";const fSe=(e,t)=>k(e,t),Z$=M({display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}),pSe=M({display:"flex",justifyContent:"center",flexDirection:"column",flexGrow:1,lineHeight:"var(--ds-font-lineHeight-100, 16px)",outline:"none",textAlign:"left","@supports not (overflow-x: clip)":{overflow:"hidden"},"@supports (overflow-x: clip)":{overflowX:"clip"}}),Q$=M({display:"block",textOverflow:"ellipsis",whiteSpace:"nowrap","@supports not (overflow-x: clip)":{overflow:"hidden"},"@supports (overflow-x: clip)":{overflowX:"clip"}}),e6=M({wordBreak:"break-word"}),mSe=M({color:`var(--ds-text-subtlest, ${jt})`,fontSize:"var(--ds-font-size-075, 12px)",marginBlockStart:"var(--ds-space-050, 4px)"}),hSe=M({color:`var(--ds-text-disabled, ${jt})`}),gSe=M({position:"relative"}),vSe=M({display:"flex",boxSizing:"border-box",width:"100%",minHeight:40,margin:"var(--ds-space-0, 0px)",alignItems:"center",border:0,fontSize:"var(--ds-font-size-100, 14px)",outline:0,textDecoration:"none",userSelect:"none","::-moz-focus-inner":{border:0},":hover":{textDecoration:"none"}}),bSe={cozy:M({paddingBlock:"var(--ds-space-100, 8px)",paddingInline:"var(--ds-space-200, 16px)"}),compact:M({minHeight:32,paddingBlock:"var(--ds-space-050, 4px)",paddingInline:"var(--ds-space-150, 12px)"})},ySe=M({cursor:"pointer"}),ESe=M({backgroundColor:"var(--ds-background-neutral-subtle, transparent)",color:"currentColor",":visited":{color:"currentColor"},":hover":{backgroundColor:`var(--ds-background-neutral-subtle-hovered, ${Ke})`,color:"currentColor"},":active":{backgroundColor:`var(--ds-background-neutral-subtle-pressed, ${Dt})`,boxShadow:"none",color:"currentColor"}}),wSe=M({cursor:"not-allowed","&, :hover, :active":{backgroundColor:"var(--ds-background-neutral-subtle, transparent)",color:`var(--ds-text-disabled, ${jt})`}}),CSe=M({"&::before":{width:2,position:"absolute",background:"var(--ds-border-selected, transparent)",content:'""',insetBlockEnd:0,insetBlockStart:0,insetInlineStart:0}}),_Se=M({"&::before":{width:4,position:"absolute",background:"var(--ds-border-selected, transparent)",borderRadius:"0 var(--ds-border-radius, 4px) var(--ds-border-radius, 4px) 0",content:'""',insetBlockEnd:"var(--ds-space-150, 12px)",insetBlockStart:"var(--ds-space-150, 12px)",insetInlineStart:0}}),xSe=M({backgroundColor:`var(--ds-background-selected, ${Ke})`,color:"var(--ds-text-selected, currentColor)",":visited":{color:"var(--ds-text-selected, currentColor)"},":hover":{backgroundColor:`var(--ds-background-selected-hovered, ${Ke})`,color:"var(--ds-text-selected, currentColor)"},":active":{backgroundColor:`var(--ds-background-selected-pressed, ${Dt})`,color:"var(--ds-text-selected, currentColor)"}}),SSe={compact:"space.100",cozy:"space.150"},s5=({children:e,title:t,description:n,iconAfter:r,iconBefore:o,overrides:a,className:s,shouldTitleWrap:i=!1,shouldDescriptionWrap:l=!1,isDisabled:d=!1,isSelected:u=!1})=>{bu("@atlaskit/menu","overrides",a!==void 0,"");const f=c.useContext(Wz),p=c.useContext(o5),m=a&&a.Title&&a.Title.render||fSe,g=Pt("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:s;return k(js,null,({css:v,cx:b})=>k(Zz,{isInset:!0},e({className:b([v([Pt("platform.design-system-team.menu-selected-state-change_0see9")&&gSe,vSe,bSe[f],!d&&!u&&ESe,!d&&u&&[xSe,Pt("platform.design-system-team.menu-selected-state-change_0see9")&&[p==="border"&&CSe,p==="notch"&&_Se]],d?wSe:ySe]),g]),children:k(Me,{as:"span",spread:"space-between",alignBlock:"center",space:SSe[f],grow:"fill"},o&&k("span",{"data-item-elem-before":!0,css:Z$},o),t&&k("span",{css:pSe},m("span",{children:t,className:v(i?e6:Q$),"data-item-title":!0}),n&&k("span",{"data-item-description":!0,css:[mSe,d&&hSe,l?e6:Q$]},n)),r&&k("span",{"data-item-elem-after":!0,css:Z$},r))})))},i5=c.memo(c.forwardRef((e,t)=>{const{children:n,cssFn:r=ct,description:o,iconAfter:a,iconBefore:s,isDisabled:i=!1,isSelected:l=!1,onClick:d,testId:u,overrides:f,onMouseDown:p,shouldTitleWrap:m,shouldDescriptionWrap:g,className:v,...b}=e,y=p;return n?(bu("@atlaskit/menu","cssFn",r!==ct,""),k(s5,H({className:Pt("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:v},b,{overrides:f,iconBefore:s,iconAfter:a,isDisabled:i,isSelected:l,description:o,title:n,shouldTitleWrap:m,shouldDescriptionWrap:g,css:r({isSelected:l,isDisabled:i})}),({children:E,className:w})=>k("button",H({"data-testid":u},b,{className:w,ref:t,disabled:i,onClick:d,onMouseDown:y,type:"button"}),E))):null})),K2=e=>{e.preventDefault()},Qz=c.memo(c.forwardRef(({component:e,cssFn:t=ct,isDisabled:n=!1,isSelected:r=!1,onClick:o,testId:a,children:s,description:i,iconAfter:l,iconBefore:d,overrides:u,onMouseDown:f,shouldTitleWrap:p,shouldDescriptionWrap:m,className:g,...v},b)=>{const y=f;return e?(bu("@atlaskit/menu","cssFn",t!==ct,""),k(s5,H({className:Pt("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:g},v,{overrides:u,description:i,iconAfter:l,title:s,iconBefore:d,isSelected:r,isDisabled:n,shouldTitleWrap:p,shouldDescriptionWrap:m,css:M(t({isDisabled:n,isSelected:r}))}),({children:E,className:w})=>k(e,H({"data-testid":a},v,{className:w,ref:b,draggable:!1,onDragStart:K2,onMouseDown:n?K2:y,onClick:n?K2:o,tabIndex:n?-1:void 0,"aria-disabled":n}),E))):null})),X2=e=>{e.preventDefault()},eW=c.memo(c.forwardRef((e,t)=>{const{children:n,href:r,cssFn:o=ct,description:a,iconAfter:s,iconBefore:i,isDisabled:l=!1,isSelected:d=!1,onClick:u,testId:f,overrides:p,onMouseDown:m,shouldTitleWrap:g,shouldDescriptionWrap:v,className:b,...y}=e,E=m;return n?(bu("@atlaskit/menu","cssFn",o!==ct,""),k(s5,H({},y,{className:Pt("platform.design-system-team.unsafe-overrides-killswitch_c8j9m")?void 0:b,overrides:p,iconBefore:i,iconAfter:s,isSelected:d,isDisabled:l,description:a,shouldTitleWrap:g,shouldDescriptionWrap:v,css:o({isSelected:d,isDisabled:l}),title:n}),({children:w,className:C})=>k("a",H({"data-testid":f},y,{className:C,href:l?void 0:r,draggable:!1,onDragStart:X2,onMouseDown:l?X2:E,onClick:l?X2:u,"aria-current":d?"page":void 0,"aria-disabled":l,ref:t}),w))):null})),er=c.forwardRef((e,t)=>{const{component:n,elemBefore:r,elemAfter:o,shouldTitleWrap:a=!0,shouldDescriptionWrap:s=!0,children:i,...l}=e,d=Yz();return n?_.createElement(Qz,H({component:n,iconBefore:r,iconAfter:o,ref:yo([t,d]),shouldTitleWrap:a,shouldDescriptionWrap:s},l),i):e.href?_.createElement(eW,H({href:e.href,iconBefore:r,iconAfter:o,role:"menuitem",ref:yo([t,d]),shouldTitleWrap:a,shouldDescriptionWrap:s},l),i):_.createElement(i5,H({role:"menuitem",iconBefore:r,iconAfter:o,ref:yo([t,d]),shouldTitleWrap:a,shouldDescriptionWrap:s},l),i)}),kSe=c.createContext(""),ISe=e=>{const{children:t,id:n}=e;return _.createElement(kSe.Provider,{value:n},_.createElement(qa,e,t))},TSe=e=>Object.keys(e||{}).reduce((t,n)=>({...t,[n]:typeof e[n]>"u"?void 0:!1}),{}),ASe=c.createContext({id:"",radioGroupState:{},selectRadioItem:ct}),DSe=e=>{const{children:t,id:n}=e,{setGroupState:r,getGroupState:o}=c.useContext(qz),[a,s]=c.useState(()=>o(n)),i=(l,d)=>{const u={...TSe(o(n)),[l]:d};s(u),r(n,u)};return _.createElement(ASe.Provider,{value:{id:n,radioGroupState:a,selectRadioItem:i}},_.createElement(qa,e,t))};var l5={};Object.defineProperty(l5,"__esModule",{value:!0});var tW=l5.default=void 0,OSe=nW(c),MSe=nW(Oe);function nW(e){return e&&e.__esModule?e:{default:e}}const rW=e=>OSe.default.createElement(MSe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M4.75 8V4.75H8m0 6.5h3.25V8M13 14.25H3c-.69 0-1.25-.56-1.25-1.25V3c0-.69.56-1.25 1.25-1.25h10c.69 0 1.25.56 1.25 1.25v10c0 .69-.56 1.25-1.25 1.25Z"/>'},e));rW.displayName="MaximizeIcon";tW=l5.default=rW;var c5={},Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});var oW=Nu.default=void 0,$Se=aW(c),RSe=aW(Oe);function aW(e){return e&&e.__esModule?e:{default:e}}const sW=e=>$Se.default.createElement(RSe.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" d="M2.25 8a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m6.5 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m6.5 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0"/><path stroke="currentcolor" stroke-width="1.5" d="M2.25 8a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm6.5 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm6.5 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"/>'},e));sW.displayName="ShowMoreHorizontalIcon";oW=Nu.default=sW;var K1={};Object.defineProperty(K1,"__esModule",{value:!0});var PSe=K1.default=void 0,LSe=iW(c),NSe=je,FSe=iW(Nu);function iW(e){return e&&e.__esModule?e:{default:e}}const lW=e=>LSe.default.createElement(NSe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><circle cx="5" cy="12" r="2"/><circle cx="12" cy="12" r="2"/><circle cx="19" cy="12" r="2"/></g></svg>'},e,{newIcon:FSe.default}));lW.displayName="MoreIcon";PSe=K1.default=lW;Object.defineProperty(c5,"__esModule",{value:!0});var bc=c5.default=void 0,jSe=d5(c),VSe=d5(Nu),BSe=d5(K1);function d5(e){return e&&e.__esModule?e:{default:e}}const cW=e=>jSe.default.createElement(VSe.default,Object.assign({LEGACY_fallbackIcon:BSe.default},e));cW.Name="ShowMoreHorizontalIconMigration";bc=c5.default=cW;var USe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function dW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uW(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function fW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Gp=c,qp=Gm,pW=[],mW=[];function HSe(e){return(typeof __webpack_modules__>"u"?"undefined":USe(__webpack_modules__))!=="object"?!1:e().every(function(t){return typeof t<"u"&&typeof __webpack_modules__[t]<"u"})}function hW(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(function(r){return n.loading=!1,n.loaded=r,r}).catch(function(r){throw n.loading=!1,n.error=r,r}),n}function zSe(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach(function(r){var o=hW(e[r]);o.loading?t.loading=!0:(t.loaded[r]=o.loaded,t.error=o.error),n.push(o.promise),o.promise.then(function(a){t.loaded[r]=a}).catch(function(a){t.error=a})})}catch(r){t.error=r}return t.promise=Promise.all(n).then(function(r){return t.loading=!1,r}).catch(function(r){throw t.loading=!1,r}),t}function WSe(e){return e&&e.__esModule?e.default:e}function GSe(e,t){return Gp.createElement(WSe(e),t)}function gW(e,t){var n,r;if(!t.loading)throw new Error("react-loadable requires a `loading` component");var o=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:GSe,webpack:null,modules:null},t),a=null;function s(){return a||(a=e(o.loader)),a.promise}return pW.push(s),typeof o.webpack=="function"&&mW.push(function(){if(HSe(o.webpack))return s()}),r=n=function(i){fW(l,i);function l(d){dW(this,l);var u=uW(this,i.call(this,d));return u.retry=function(){u.setState({error:null,loading:!0,timedOut:!1}),a=e(o.loader),u._loadModule()},s(),u.state={error:a.error,pastDelay:!1,timedOut:!1,loading:a.loading,loaded:a.loaded},u}return l.preload=function(){return s()},l.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},l.prototype._loadModule=function(){var u=this;if(this.context.loadable&&Array.isArray(o.modules)&&o.modules.forEach(function(p){u.context.loadable.report(p)}),!!a.loading){typeof o.delay=="number"&&(o.delay===0?this.setState({pastDelay:!0}):this._delay=setTimeout(function(){u.setState({pastDelay:!0})},o.delay)),typeof o.timeout=="number"&&(this._timeout=setTimeout(function(){u.setState({timedOut:!0})},o.timeout));var f=function(){u._mounted&&(u.setState({error:a.error,loaded:a.loaded,loading:a.loading}),u._clearTimeouts())};a.promise.then(function(){f()}).catch(function(p){f()})}},l.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},l.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},l.prototype.render=function(){return this.state.loading||this.state.error?Gp.createElement(o.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?o.render(this.state.loaded,this.props):null},l}(Gp.Component),n.contextTypes={loadable:qp.shape({report:qp.func.isRequired})},r}function _h(e){return gW(hW,e)}function qSe(e){if(typeof e.render!="function")throw new Error("LoadableMap requires a `render(loaded, props)` function");return gW(zSe,e)}_h.Map=qSe;var u5=function(e){fW(t,e);function t(){return dW(this,t),uW(this,e.apply(this,arguments))}return t.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},t.prototype.render=function(){return Gp.Children.only(this.props.children)},t}(Gp.Component);u5.propTypes={report:qp.func.isRequired};u5.childContextTypes={loadable:qp.shape({report:qp.func.isRequired}).isRequired};_h.Capture=u5;function f5(e){for(var t=[];e.length;){var n=e.pop();t.push(n())}return Promise.all(t).then(function(){if(e.length)return f5(e)})}_h.preloadAll=function(){return new Promise(function(e,t){f5(pW).then(e,t)})};_h.preloadReady=function(){return new Promise(function(e,t){f5(mW).then(e,e)})};var YSe=_h;const xh=_r(YSe),KSe=(e={width:"100%",height:"100%"})=>({height:typeof e.height=="number"?`${e.height}px`:e.height,width:typeof e.width=="number"?`${e.width}px`:e.width});var XSe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Yp=Dde(function(e){return XSe.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});const JSe={xsmall:8,small:16,medium:24,large:48,xlarge:96};function ZSe(e){return e==="inherit"?`var(--ds-icon-subtle, ${rn})`:`var(--ds-icon-inverse, ${Ve})`}const QSe=Pr({to:{transform:"rotate(360deg)"}}),eke=M({animation:`${QSe} 0.86s infinite`,animationTimingFunction:"cubic-bezier(0.4, 0.15, 0.6, 0.85)",transformOrigin:"center"}),tke=Pr({from:{transform:"rotate(50deg)",opacity:0,strokeDashoffset:60},to:{transform:"rotate(230deg)",opacity:1,strokeDashoffset:50}}),nke=M({animation:`${tke} 1s ease-in-out`,animationFillMode:"forwards",opacity:0}),rke=M({display:"inline-flex",verticalAlign:"middle"}),oke=M({fill:"none",strokeDasharray:60,strokeDashoffset:"inherit",strokeLinecap:"round",strokeWidth:1.5,"@media screen and (forced-colors: active)":{filter:"grayscale(100%)",stroke:"CanvasText"}}),ake=typeof window>"u"?c.useEffect:c.useLayoutEffect,rr=_.memo(_.forwardRef(function({appearance:t="inherit",delay:n=0,interactionName:r,label:o,size:a="medium",testId:s},i){const l=typeof a=="number"?a:JSe[a],d=`${n}ms`,u=ZSe(t),f=c.useContext(Lu);return ake(()=>{if(f!=null)return f.hold(r)},[f,r]),k("span",{css:[rke,eke],"data-testid":s&&`${s}-wrapper`,style:{animationDelay:d,width:l,height:l}},k("svg",{height:l,width:l,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","data-testid":s,ref:i,"aria-label":o||void 0,css:nke,style:{animationDelay:d},role:o?"img":"none"},k("circle",{cx:"8",cy:"8",r:"7",css:oke,style:{stroke:u}})))}));var ske=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ike(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t6(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function lke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function n6(e){return{image:e,isLoaded:!1,isErrored:!1}}function cke(){return{isLoaded:!0}}function dke(){return{isErrored:!0}}function r6(e,t){var n=e.src,r=t.src;return n!==r}var X1=function(e){lke(t,e);function t(){var n,r,o,a;ike(this,t);for(var s=arguments.length,i=Array(s),l=0;l<s;l++)i[l]=arguments[l];return a=(r=(o=t6(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(i))),o),o.state={isLoaded:!1,isErrored:!1},o.handleLoad=function(){var d=o.props.onLoad;o.unload(),o.setState(cke(),function(){d&&d()})},o.handleError=function(){var d=o.props.onError;o.unload(),o.setState(dke(),function(){d&&d()})},r),t6(o,a)}return ske(t,[{key:"load",value:function(){var r=this.props.src,o=this.state.image;o&&(o.onload=this.handleLoad,o.onerror=this.handleError,o.src=r)}},{key:"unload",value:function(){var r=this.state.image;r&&(r.onload=void 0,r.onerror=void 0)}},{key:"componentWillMount",value:function(){typeof window>"u"||this.setState(n6(new Image))}},{key:"componentDidMount",value:function(){this.load()}},{key:"componentWillReceiveProps",value:function(r){r6(this.props,r)&&this.setState(n6(new Image))}},{key:"componentDidUpdate",value:function(r){r6(r,this.props)&&(this.unload(),this.load())}},{key:"componentWillUnmount",value:function(){this.unload()}},{key:"render",value:function(){var r=this.props,o=r.loading,a=r.loaded,s=r.errored,i=r.children,l=this.state,d=l.image,u=l.isLoaded,f=l.isErrored;return u&&a?a:f&&s?s:!u&&!f&&o?o:i?i({image:u?d:void 0,loaded:u,errored:f}):null}}]),t}(c.Component),vW={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(vW);var J1=vW.exports;const gIt=(e="100%")=>`
    max-width: ${e}${typeof e=="number"?"px":""};
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  `,vIt=(e="100%")=>{const t=typeof e=="number"?"px":"";return`
    width: ${e}${t};
    height: ${e}${t};
  `},uke=`
  display: flex;
  align-items: center;
  justify-content: center;
`,fke=`
  border-radius: ${cc()}px;
`;var Z1={};Object.defineProperty(Z1,"__esModule",{value:!0});var Kp=Z1.default=void 0,pke=hke(c),mke=je;function hke(e){return e&&e.__esModule?e:{default:e}}const bW=e=>pke.default.createElement(mke.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm2 3a1 1 0 100 2h8a1 1 0 000-2H4zm0 4a1 1 0 100 2h8a1 1 0 000-2H4zm0 4a1 1 0 000 2h4a1 1 0 000-2H4z"/></svg>'},e,{size:"small"}));bW.displayName="Document16Icon";var gke=bW;Kp=Z1.default=gke;const J2=ro({__proto__:null,get default(){return Kp}},[Z1]);var Q1={};Object.defineProperty(Q1,"__esModule",{value:!0});var p5=Q1.default=void 0,vke=yke(c),bke=je;function yke(e){return e&&e.__esModule?e:{default:e}}const yW=e=>vke.default.createElement(bke.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#758195" fill-rule="evenodd" d="M8 3H5.333C4.597 3 4 3.617 4 4.378v7.244C4 12.382 4.597 13 5.333 13h5.334c.736 0 1.333-.617 1.333-1.378V8h-1.333v3.622H5.333V4.378H8v1.414c0 .736.597 1.333 1.333 1.333h2.334c.184 0 .333-.15.333-.333v-.903a.333.333 0 00-.093-.231l-2.164-2.25A1.333 1.333 0 008.782 3H8zM0 1.994C0 .893.895 0 1.994 0h12.012C15.107 0 16 .895 16 1.994v12.012A1.995 1.995 0 0114.006 16H1.994A1.995 1.995 0 010 14.006V1.994z"/></svg>'},e,{size:"small"}));yW.displayName="Generic16Icon";var Eke=yW;p5=Q1.default=Eke;const Ov=ro({__proto__:null,get default(){return p5}},[Q1]);var m5={},ey={};Object.defineProperty(ey,"__esModule",{value:!0});var wke=ey.default=void 0,Cke=EW(c),_ke=EW(Oe);function EW(e){return e&&e.__esModule?e:{default:e}}const wW=e=>Cke.default.createElement(_ke.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M1.75 9v4c0 .69.56 1.25 1.25 1.25h10c.69 0 1.25-.56 1.25-1.25V9M8 1v8.75m-4-3.5 4 4 4-4"/>'},e));wW.displayName="DownloadIcon";wke=ey.default=wW;Object.defineProperty(m5,"__esModule",{value:!0});var CW=m5.default=void 0,xke=_W(c),Ske=je,kke=_W(ey);function _W(e){return e&&e.__esModule?e:{default:e}}const xW=e=>xke.default.createElement(Ske.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><path fill-rule="nonzero" d="M10.687 17.292a.983.983 0 0 0-1.397 0 1 1 0 0 0 0 1.407l1.964 1.98a1.08 1.08 0 0 0 1.538 0l1.919-1.933a1 1 0 0 0 0-1.408.983.983 0 0 0-1.398 0l-1.29 1.3z"/><path fill-rule="nonzero" d="M13.001 19.993 13 10.006C13 9.451 12.552 9 12 9s-1 .45-1 1.007l.001 9.987c0 .555.448 1.006 1 1.006s1-.45 1-1.007"/><path d="M7.938 5.48a5 5 0 0 0-.777-.062C4.356 5.418 2 7.62 2 10.498 2 13.409 4.385 16 7.1 16h2.881v-1.993H7.1c-1.657 0-3.115-1.663-3.115-3.508 0-1.778 1.469-3.087 3.104-3.087h.012c.389 0 .686.05.97.15l.17.063c.605.248.875-.246.875-.246l.15-.267c.73-1.347 2.201-2.096 3.716-2.12a4.14 4.14 0 0 1 4.069 3.645l.046.34s.071.525.665.525c.013 0 .012.005.023.005h.254c1.136 0 1.976.959 1.976 2.158 0 1.207-.987 2.342-2.07 2.342h-3.964V16h3.964C20.105 16 22 13.955 22 11.665c0-2-1.312-3.663-3.138-4.074-.707-2.707-3.053-4.552-5.886-4.591-1.975.02-3.901.9-5.038 2.48"/></g></svg>'},e,{newIcon:kke.default}));xW.displayName="DownloadIcon";CW=m5.default=xW;function Ike(e){if(Array.isArray(e))return e}function Tke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,a,s,i=[],l=!0,d=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(u){d=!0,o=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw o}}return i}}function Ake(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ts(e,t){return Ike(e)||Tke(e,t)||CF(e,t)||Ake()}var Dke=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Oke(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,o=r===void 0?!1:r,a=e.defaultValue,s=a===void 0?null:a,i=e.inputValue,l=e.menuIsOpen,d=e.onChange,u=e.onInputChange,f=e.onMenuClose,p=e.onMenuOpen,m=e.value,g=Bn(e,Dke),v=c.useState(i!==void 0?i:n),b=Ts(v,2),y=b[0],E=b[1],w=c.useState(l!==void 0?l:o),C=Ts(w,2),x=C[0],S=C[1],I=c.useState(m!==void 0?m:s),A=Ts(I,2),T=A[0],O=A[1],D=c.useCallback(function(J,z){typeof d=="function"&&d(J,z),O(J)},[d]),$=c.useCallback(function(J,z){var ce;typeof u=="function"&&(ce=u(J,z)),E(ce!==void 0?ce:J)},[u]),L=c.useCallback(function(){typeof p=="function"&&p(),S(!0)},[p]),F=c.useCallback(function(){typeof f=="function"&&f(),S(!1)},[f]),B=i!==void 0?i:y,V=l!==void 0?l:x,Y=m!==void 0?m:T;return tt(tt({},g),{},{inputValue:B,menuIsOpen:V,onChange:D,onInputChange:$,onMenuClose:F,onMenuOpen:L,value:Y})}function Mke(e){if(Array.isArray(e))return hue(e)}function $ke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ty(e){return Mke(e)||$ke(e)||CF(e)||Rke()}function SW(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const Pke=Math.min,Lke=Math.max,Mv=Math.round,Zg=Math.floor,$v=e=>({x:e,y:e});function Nke(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function kW(e){return TW(e)?(e.nodeName||"").toLowerCase():"#document"}function $s(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function IW(e){var t;return(t=(TW(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function TW(e){return e instanceof Node||e instanceof $s(e).Node}function Fke(e){return e instanceof Element||e instanceof $s(e).Element}function h5(e){return e instanceof HTMLElement||e instanceof $s(e).HTMLElement}function o6(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $s(e).ShadowRoot}function AW(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=g5(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function jke(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vke(e){return["html","body","#document"].includes(kW(e))}function g5(e){return $s(e).getComputedStyle(e)}function Bke(e){if(kW(e)==="html")return e;const t=e.assignedSlot||e.parentNode||o6(e)&&e.host||IW(e);return o6(t)?t.host:t}function DW(e){const t=Bke(e);return Vke(t)?e.ownerDocument?e.ownerDocument.body:e.body:h5(t)&&AW(t)?t:DW(t)}function Rv(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=DW(e),a=o===((r=e.ownerDocument)==null?void 0:r.body),s=$s(o);return a?t.concat(s,s.visualViewport||[],AW(o)?o:[],s.frameElement&&n?Rv(s.frameElement):[]):t.concat(o,Rv(o,[],n))}function Uke(e){const t=g5(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=h5(e),a=o?e.offsetWidth:n,s=o?e.offsetHeight:r,i=Mv(n)!==a||Mv(r)!==s;return i&&(n=a,r=s),{width:n,height:r,$:i}}function v5(e){return Fke(e)?e:e.contextElement}function a6(e){const t=v5(e);if(!h5(t))return $v(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:a}=Uke(t);let s=(a?Mv(n.width):n.width)/r,i=(a?Mv(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!i||!Number.isFinite(i))&&(i=1),{x:s,y:i}}const Hke=$v(0);function zke(e){const t=$s(e);return!jke()||!t.visualViewport?Hke:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Wke(e,t,n){return!1}function s6(e,t,n,r){t===void 0&&(t=!1);const o=e.getBoundingClientRect(),a=v5(e);let s=$v(1);t&&(s=a6(e));const i=Wke()?zke(a):$v(0);let l=(o.left+i.x)/s.x,d=(o.top+i.y)/s.y,u=o.width/s.x,f=o.height/s.y;if(a){const p=$s(a),m=r;let g=p.frameElement;for(;g&&r&&m!==p;){const v=a6(g),b=g.getBoundingClientRect(),y=g5(g),E=b.left+(g.clientLeft+parseFloat(y.paddingLeft))*v.x,w=b.top+(g.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,d*=v.y,u*=v.x,f*=v.y,l+=E,d+=w,g=$s(g).frameElement}}return Nke({width:u,height:f,x:l,y:d})}function Gke(e,t){let n=null,r;const o=IW(e);function a(){clearTimeout(r),n&&n.disconnect(),n=null}function s(i,l){i===void 0&&(i=!1),l===void 0&&(l=1),a();const{left:d,top:u,width:f,height:p}=e.getBoundingClientRect();if(i||t(),!f||!p)return;const m=Zg(u),g=Zg(o.clientWidth-(d+f)),v=Zg(o.clientHeight-(u+p)),b=Zg(d),E={rootMargin:-m+"px "+-g+"px "+-v+"px "+-b+"px",threshold:Lke(0,Pke(1,l))||1};let w=!0;function C(x){const S=x[0].intersectionRatio;if(S!==l){if(!w)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(C,{...E,root:o.ownerDocument})}catch{n=new IntersectionObserver(C,E)}n.observe(e)}return s(!0),a}function qke(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=v5(e),u=o||a?[...d?Rv(d):[],...Rv(t)]:[];u.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});const f=d&&i?Gke(d,n):null;let p=-1,m=null;s&&(m=new ResizeObserver(y=>{let[E]=y;E&&E.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{m&&m.observe(t)})),n()}),d&&!l&&m.observe(d),m.observe(t));let g,v=l?s6(e):null;l&&b();function b(){const y=s6(e);v&&(y.x!==v.x||y.y!==v.y||y.width!==v.width||y.height!==v.height)&&n(),v=y,g=requestAnimationFrame(b)}return n(),()=>{u.forEach(y=>{o&&y.removeEventListener("scroll",n),a&&y.removeEventListener("resize",n)}),f&&f(),m&&m.disconnect(),m=null,l&&cancelAnimationFrame(g)}}var B_=c.useLayoutEffect,Yke=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Pv=function(){};function Kke(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function Xke(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a=[].concat(r);if(t&&e)for(var s in t)t.hasOwnProperty(s)&&t[s]&&a.push("".concat(Kke(e,s)));return a.filter(function(i){return i}).map(function(i){return String(i).trim()}).join(" ")}var i6=function(t){return aIe(t)?t.filter(Boolean):aF(t)==="object"&&t!==null?[t]:[]},OW=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=Bn(t,Yke);return tt({},n)},In=function(t,n,r){var o=t.cx,a=t.getStyles,s=t.getClassNames,i=t.className;return{css:a(n,t),className:o(r??{},s(n,t),i)}};function bIt(e,t,n){if(n){var r=n(e,t);if(typeof r=="string")return r}return e}function ny(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Jke(e){return ny(e)?window.innerHeight:e.clientHeight}function MW(e){return ny(e)?window.pageYOffset:e.scrollTop}function Lv(e,t){if(ny(e)){window.scrollTo(0,t);return}e.scrollTop=t}function Zke(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return document.documentElement}function Qke(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function Qg(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Pv,o=MW(e),a=t-o,s=10,i=0;function l(){i+=s;var d=Qke(i,o,a,n);Lv(e,d),i<n?window.requestAnimationFrame(l):r(e)}l()}function l6(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=t.offsetHeight/3;r.bottom+o>n.bottom?Lv(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):r.top-o<n.top&&Lv(e,Math.max(t.offsetTop-o,0))}function eIe(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function c6(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function tIe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var $W=!1,nIe={get passive(){return $W=!0}},e0=typeof window<"u"?window:{};e0.addEventListener&&e0.removeEventListener&&(e0.addEventListener("p",Pv,nIe),e0.removeEventListener("p",Pv,!1));var rIe=$W;function oIe(e){return e!=null}function aIe(e){return Array.isArray(e)}function t0(e,t,n){return e?t:n}var sIe=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=Object.entries(t).filter(function(s){var i=Ts(s,1),l=i[0];return!r.includes(l)});return a.reduce(function(s,i){var l=Ts(i,2),d=l[0],u=l[1];return s[d]=u,s},{})},iIe=["children","innerProps"],lIe=["children","innerProps"];function cIe(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,o=e.placement,a=e.shouldScroll,s=e.isFixedPosition,i=e.controlHeight,l=Zke(n),d={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return d;var u=l.getBoundingClientRect(),f=u.height,p=n.getBoundingClientRect(),m=p.bottom,g=p.height,v=p.top,b=n.offsetParent.getBoundingClientRect(),y=b.top,E=s?window.innerHeight:Jke(l),w=MW(l),C=parseInt(getComputedStyle(n).marginBottom,10),x=parseInt(getComputedStyle(n).marginTop,10),S=y-x,I=E-v,A=S+w,T=f-w-v,O=m-E+w+C,D=w+v-x,$=160;switch(o){case"auto":case"bottom":if(I>=g)return{placement:"bottom",maxHeight:t};if(T>=g&&!s)return a&&Qg(l,O,$),{placement:"bottom",maxHeight:t};if(!s&&T>=r||s&&I>=r){a&&Qg(l,O,$);var L=s?I-C:T-C;return{placement:"bottom",maxHeight:L}}if(o==="auto"||s){var F=t,B=s?S:A;return B>=r&&(F=Math.min(B-C-i,t)),{placement:"top",maxHeight:F}}if(o==="bottom")return a&&Lv(l,O),{placement:"bottom",maxHeight:t};break;case"top":if(S>=g)return{placement:"top",maxHeight:t};if(A>=g&&!s)return a&&Qg(l,D,$),{placement:"top",maxHeight:t};if(!s&&A>=r||s&&S>=r){var V=t;return(!s&&A>=r||s&&S>=r)&&(V=s?S-x:A-x),a&&Qg(l,D,$),{placement:"top",maxHeight:V}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return d}function dIe(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var RW=function(t){return t==="auto"?"bottom":t},uIe=function(t,n){var r,o=t.placement,a=t.theme,s=a.borderRadius,i=a.spacing,l=a.colors;return tt((r={label:"menu"},q(r,dIe(o),"100%"),q(r,"position","absolute"),q(r,"width","100%"),q(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:i.menuGutter,marginTop:i.menuGutter})},PW=c.createContext(null),fIe=function(t){var n=t.children,r=t.minMenuHeight,o=t.maxMenuHeight,a=t.menuPlacement,s=t.menuPosition,i=t.menuShouldScrollIntoView,l=t.theme,d=c.useContext(PW)||{},u=d.setPortalPlacement,f=c.useRef(null),p=c.useState(o),m=Ts(p,2),g=m[0],v=m[1],b=c.useState(null),y=Ts(b,2),E=y[0],w=y[1],C=l.spacing.controlHeight;return B_(function(){var x=f.current;if(x){var S=s==="fixed",I=i&&!S,A=cIe({maxHeight:o,menuEl:x,minHeight:r,placement:a,shouldScroll:I,isFixedPosition:S,controlHeight:C});v(A.maxHeight),w(A.placement),u==null||u(A.placement)}},[o,a,s,i,r,u,C]),n({ref:f,placerProps:tt(tt({},t),{},{placement:E||RW(a),maxHeight:g})})},pIe=function(t){var n=t.children,r=t.innerRef,o=t.innerProps;return k("div",H({},In(t,"menu",{menu:!0}),{ref:r},o),n)},mIe=pIe,hIe=function(t,n){var r=t.maxHeight,o=t.theme.spacing.baseUnit;return tt({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:o,paddingTop:o})},gIe=function(t){var n=t.children,r=t.innerProps,o=t.innerRef,a=t.isMulti;return k("div",H({},In(t,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:o},r),n)},LW=function(t,n){var r=t.theme,o=r.spacing.baseUnit,a=r.colors;return tt({textAlign:"center"},n?{}:{color:a.neutral40,padding:"".concat(o*2,"px ").concat(o*3,"px")})},vIe=LW,bIe=LW,yIe=function(t){var n=t.children,r=n===void 0?"No options":n,o=t.innerProps,a=Bn(t,iIe);return k("div",H({},In(tt(tt({},a),{},{children:r,innerProps:o}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),o),r)},EIe=function(t){var n=t.children,r=n===void 0?"Loading...":n,o=t.innerProps,a=Bn(t,lIe);return k("div",H({},In(tt(tt({},a),{},{children:r,innerProps:o}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),o),r)},wIe=function(t){var n=t.rect,r=t.offset,o=t.position;return{left:n.left,position:o,top:r,width:n.width,zIndex:1}},CIe=function(t){var n=t.appendTo,r=t.children,o=t.controlElement,a=t.innerProps,s=t.menuPlacement,i=t.menuPosition,l=c.useRef(null),d=c.useRef(null),u=c.useState(RW(s)),f=Ts(u,2),p=f[0],m=f[1],g=c.useMemo(function(){return{setPortalPlacement:m}},[]),v=c.useState(null),b=Ts(v,2),y=b[0],E=b[1],w=c.useCallback(function(){if(o){var I=eIe(o),A=i==="fixed"?0:window.pageYOffset,T=I[p]+A;(T!==(y==null?void 0:y.offset)||I.left!==(y==null?void 0:y.rect.left)||I.width!==(y==null?void 0:y.rect.width))&&E({offset:T,rect:I})}},[o,i,p,y==null?void 0:y.offset,y==null?void 0:y.rect.left,y==null?void 0:y.rect.width]);B_(function(){w()},[w]);var C=c.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),o&&l.current&&(d.current=qke(o,l.current,w,{elementResize:"ResizeObserver"in window}))},[o,w]);B_(function(){C()},[C]);var x=c.useCallback(function(I){l.current=I,C()},[C]);if(!n&&i!=="fixed"||!y)return null;var S=k("div",H({ref:x},In(tt(tt({},t),{},{offset:y.offset,position:i,rect:y.rect}),"menuPortal",{"menu-portal":!0}),a),r);return k(PW.Provider,{value:g},n?sr.createPortal(S,n):S)},_Ie=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},xIe=function(t){var n=t.children,r=t.innerProps,o=t.isDisabled,a=t.isRtl;return k("div",H({},In(t,"container",{"--is-disabled":o,"--is-rtl":a}),r),n)},SIe=function(t,n){var r=t.theme.spacing,o=t.isMulti,a=t.hasValue,s=t.selectProps.controlShouldRenderValue;return tt({alignItems:"center",display:o&&a&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},kIe=function(t){var n=t.children,r=t.innerProps,o=t.isMulti,a=t.hasValue;return k("div",H({},In(t,"valueContainer",{"value-container":!0,"value-container--is-multi":o,"value-container--has-value":a}),r),n)},IIe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},TIe=function(t){var n=t.children,r=t.innerProps;return k("div",H({},In(t,"indicatorsContainer",{indicators:!0}),r),n)},d6,AIe=["size"],DIe=["innerProps","isRtl","size"],OIe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},NW=function(t){var n=t.size,r=Bn(t,AIe);return k("svg",H({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:OIe},r))},b5=function(t){return k(NW,H({size:20},t),k("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},FW=function(t){return k(NW,H({size:20},t),k("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},jW=function(t,n){var r=t.isFocused,o=t.theme,a=o.spacing.baseUnit,s=o.colors;return tt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?s.neutral60:s.neutral20,padding:a*2,":hover":{color:r?s.neutral80:s.neutral40}})},MIe=jW,$Ie=function(t){var n=t.children,r=t.innerProps;return k("div",H({},In(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||k(FW,null))},RIe=jW,PIe=function(t){var n=t.children,r=t.innerProps;return k("div",H({},In(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||k(b5,null))},LIe=function(t,n){var r=t.isDisabled,o=t.theme,a=o.spacing.baseUnit,s=o.colors;return tt({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?s.neutral10:s.neutral20,marginBottom:a*2,marginTop:a*2})},NIe=function(t){var n=t.innerProps;return k("span",H({},n,In(t,"indicatorSeparator",{"indicator-separator":!0})))},FIe=Pr(d6||(d6=SW([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),jIe=function(t,n){var r=t.isFocused,o=t.size,a=t.theme,s=a.colors,i=a.spacing.baseUnit;return tt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:o,lineHeight:1,marginRight:o,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?s.neutral60:s.neutral20,padding:i*2})},Z2=function(t){var n=t.delay,r=t.offset;return k("span",{css:M({animation:"".concat(FIe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},VIe=function(t){var n=t.innerProps,r=t.isRtl,o=t.size,a=o===void 0?4:o,s=Bn(t,DIe);return k("div",H({},In(tt(tt({},s),{},{innerProps:n,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),k(Z2,{delay:0,offset:r}),k(Z2,{delay:160,offset:!0}),k(Z2,{delay:320,offset:!r}))},BIe=function(t,n){var r=t.isDisabled,o=t.isFocused,a=t.theme,s=a.colors,i=a.borderRadius,l=a.spacing;return tt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?s.neutral5:s.neutral0,borderColor:r?s.neutral10:o?s.primary:s.neutral20,borderRadius:i,borderStyle:"solid",borderWidth:1,boxShadow:o?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:o?s.primary:s.neutral30}})},UIe=function(t){var n=t.children,r=t.isDisabled,o=t.isFocused,a=t.innerRef,s=t.innerProps,i=t.menuIsOpen;return k("div",H({ref:a},In(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":o,"control--menu-is-open":i}),s,{"aria-disabled":r||void 0}),n)},HIe=UIe,zIe=["data"],WIe=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},GIe=function(t){var n=t.children,r=t.cx,o=t.getStyles,a=t.getClassNames,s=t.Heading,i=t.headingProps,l=t.innerProps,d=t.label,u=t.theme,f=t.selectProps;return k("div",H({},In(t,"group",{group:!0}),l),k(s,H({},i,{selectProps:f,theme:u,getStyles:o,getClassNames:a,cx:r}),d),k("div",null,n))},qIe=function(t,n){var r=t.theme,o=r.colors,a=r.spacing;return tt({label:"group",cursor:"default",display:"block"},n?{}:{color:o.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},YIe=function(t){var n=OW(t);n.data;var r=Bn(n,zIe);return k("div",H({},In(t,"groupHeading",{"group-heading":!0}),r))},KIe=GIe,XIe=["innerRef","isDisabled","isHidden","inputClassName"],JIe=function(t,n){var r=t.isDisabled,o=t.value,a=t.theme,s=a.spacing,i=a.colors;return tt(tt({visibility:r?"hidden":"visible",transform:o?"translateZ(0)":""},ZIe),n?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:i.neutral80})},VW={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},ZIe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":tt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},VW)},QIe=function(t){return tt({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},VW)},e5e=function(t){var n=t.cx,r=t.value,o=OW(t),a=o.innerRef,s=o.isDisabled,i=o.isHidden,l=o.inputClassName,d=Bn(o,XIe);return k("div",H({},In(t,"input",{"input-container":!0}),{"data-value":r||""}),k("input",H({className:n({input:!0},l),ref:a,style:QIe(i),disabled:s},d)))},t5e=e5e,n5e=function(t,n){var r=t.theme,o=r.spacing,a=r.borderRadius,s=r.colors;return tt({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:s.neutral10,borderRadius:a/2,margin:o.baseUnit/2})},r5e=function(t,n){var r=t.theme,o=r.borderRadius,a=r.colors,s=t.cropWithEllipsis;return tt({overflow:"hidden",textOverflow:s||s===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:o/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},o5e=function(t,n){var r=t.theme,o=r.spacing,a=r.borderRadius,s=r.colors,i=t.isFocused;return tt({alignItems:"center",display:"flex"},n?{}:{borderRadius:a/2,backgroundColor:i?s.dangerLight:void 0,paddingLeft:o.baseUnit,paddingRight:o.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},BW=function(t){var n=t.children,r=t.innerProps;return k("div",r,n)},a5e=BW,s5e=BW;function i5e(e){var t=e.children,n=e.innerProps;return k("div",H({role:"button"},n),t||k(b5,{size:14}))}var l5e=function(t){var n=t.children,r=t.components,o=t.data,a=t.innerProps,s=t.isDisabled,i=t.removeProps,l=t.selectProps,d=r.Container,u=r.Label,f=r.Remove;return k(d,{data:o,innerProps:tt(tt({},In(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),a),selectProps:l},k(u,{data:o,innerProps:tt({},In(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),k(f,{data:o,innerProps:tt(tt({},In(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},i),selectProps:l}))},c5e=l5e,d5e=function(t,n){var r=t.isDisabled,o=t.isFocused,a=t.isSelected,s=t.theme,i=s.spacing,l=s.colors;return tt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:a?l.primary:o?l.primary25:"transparent",color:r?l.neutral20:a?l.neutral0:"inherit",padding:"".concat(i.baseUnit*2,"px ").concat(i.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?l.primary:l.primary50}})},u5e=function(t){var n=t.children,r=t.isDisabled,o=t.isFocused,a=t.isSelected,s=t.innerRef,i=t.innerProps;return k("div",H({},In(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":o,"option--is-selected":a}),{ref:s,"aria-disabled":r},i),n)},f5e=u5e,p5e=function(t,n){var r=t.theme,o=r.spacing,a=r.colors;return tt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:a.neutral50,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},m5e=function(t){var n=t.children,r=t.innerProps;return k("div",H({},In(t,"placeholder",{placeholder:!0}),r),n)},h5e=m5e,g5e=function(t,n){var r=t.isDisabled,o=t.theme,a=o.spacing,s=o.colors;return tt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?s.neutral40:s.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},v5e=function(t){var n=t.children,r=t.isDisabled,o=t.innerProps;return k("div",H({},In(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),o),n)},b5e=v5e,yc={ClearIndicator:PIe,Control:HIe,DropdownIndicator:$Ie,DownChevron:FW,CrossIcon:b5,Group:KIe,GroupHeading:YIe,IndicatorsContainer:TIe,IndicatorSeparator:NIe,Input:t5e,LoadingIndicator:VIe,Menu:mIe,MenuList:gIe,MenuPortal:CIe,LoadingMessage:EIe,NoOptionsMessage:yIe,MultiValue:c5e,MultiValueContainer:a5e,MultiValueLabel:s5e,MultiValueRemove:i5e,Option:f5e,Placeholder:h5e,SelectContainer:xIe,SingleValue:b5e,ValueContainer:kIe},y5e=function(t){return tt(tt({},yc),t.components)},E5e={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},w5e=function(t){return k("span",H({css:E5e},t))},u6=w5e,C5e={guidance:function(t){var n=t.isSearchable,r=t.isMulti,o=t.isDisabled,a=t.tabSelectsValue,s=t.context;switch(s){case"menu":return"Use Up and Down to choose options".concat(o?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,o=r===void 0?"":r,a=t.labels,s=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(o,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return s?"option ".concat(o," is disabled. Select another option."):"option ".concat(o,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,o=t.options,a=t.label,s=a===void 0?"":a,i=t.selectValue,l=t.isDisabled,d=t.isSelected,u=function(g,v){return g&&g.length?"".concat(g.indexOf(v)+1," of ").concat(g.length):""};if(n==="value"&&i)return"value ".concat(s," focused, ").concat(u(i,r),".");if(n==="menu"){var f=l?" disabled":"",p="".concat(d?"selected":"focused").concat(f);return"option ".concat(s," ").concat(p,", ").concat(u(o,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},_5e=function(t){var n=t.ariaSelection,r=t.focusedOption,o=t.focusedValue,a=t.focusableOptions,s=t.isFocused,i=t.selectValue,l=t.selectProps,d=t.id,u=l.ariaLiveMessages,f=l.getOptionLabel,p=l.inputValue,m=l.isMulti,g=l.isOptionDisabled,v=l.isSearchable,b=l.menuIsOpen,y=l.options,E=l.screenReaderStatus,w=l.tabSelectsValue,C=l["aria-label"],x=l["aria-live"],S=c.useMemo(function(){return tt(tt({},C5e),u||{})},[u]),I=c.useMemo(function(){var F="";if(n&&S.onChange){var B=n.option,V=n.options,Y=n.removedValue,J=n.removedValues,z=n.value,ce=function(pe){return Array.isArray(pe)?null:pe},le=Y||B||ce(z),j=le?f(le):"",Z=V||J||void 0,K=Z?Z.map(f):[],oe=tt({isDisabled:le&&g(le,i),label:j,labels:K},n);F=S.onChange(oe)}return F},[n,S,g,i,f]),A=c.useMemo(function(){var F="",B=r||o,V=!!(r&&i&&i.includes(r));if(B&&S.onFocus){var Y={focused:B,label:f(B),isDisabled:g(B,i),isSelected:V,options:a,context:B===r?"menu":"value",selectValue:i};F=S.onFocus(Y)}return F},[r,o,f,g,S,a,i]),T=c.useMemo(function(){var F="";if(b&&y.length&&S.onFilter){var B=E({count:a.length});F=S.onFilter({inputValue:p,resultsMessage:B})}return F},[a,p,b,S,y,E]),O=c.useMemo(function(){var F="";if(S.guidance){var B=o?"value":b?"menu":"input";F=S.guidance({"aria-label":C,context:B,isDisabled:r&&g(r,i),isMulti:m,isSearchable:v,tabSelectsValue:w})}return F},[C,r,o,m,g,v,b,S,i,w]),D="".concat(A," ").concat(T," ").concat(O),$=k(c.Fragment,null,k("span",{id:"aria-selection"},I),k("span",{id:"aria-context"},D)),L=(n==null?void 0:n.action)==="initial-input-focus";return k(c.Fragment,null,k(u6,{id:d},L&&$),k(u6,{"aria-live":x,"aria-atomic":"false","aria-relevant":"additions text"},s&&!L&&$))},x5e=_5e,U_=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],S5e=new RegExp("["+U_.map(function(e){return e.letters}).join("")+"]","g"),UW={};for(var Q2=0;Q2<U_.length;Q2++)for(var ew=U_[Q2],tw=0;tw<ew.letters.length;tw++)UW[ew.letters[tw]]=ew.base;var HW=function(t){return t.replace(S5e,function(n){return UW[n]})},k5e=Za(HW),f6=function(t){return t.replace(/^\s+|\s+$/g,"")},I5e=function(t){return"".concat(t.label," ").concat(t.value)},T5e=function(t){return function(n,r){if(n.data.__isNew__)return!0;var o=tt({ignoreCase:!0,ignoreAccents:!0,stringify:I5e,trim:!0,matchFrom:"any"},t),a=o.ignoreCase,s=o.ignoreAccents,i=o.stringify,l=o.trim,d=o.matchFrom,u=l?f6(r):r,f=l?f6(i(n)):i(n);return a&&(u=u.toLowerCase(),f=f.toLowerCase()),s&&(u=k5e(u),f=HW(f)),d==="start"?f.substr(0,u.length)===u:f.indexOf(u)>-1}},A5e=["innerRef"];function D5e(e){var t=e.innerRef,n=Bn(e,A5e),r=sIe(n,"onExited","in","enter","exit","appear");return k("input",H({ref:t},r,{css:M({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var O5e=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function M5e(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,o=e.onTopArrive,a=e.onTopLeave,s=c.useRef(!1),i=c.useRef(!1),l=c.useRef(0),d=c.useRef(null),u=c.useCallback(function(b,y){if(d.current!==null){var E=d.current,w=E.scrollTop,C=E.scrollHeight,x=E.clientHeight,S=d.current,I=y>0,A=C-x-w,T=!1;A>y&&s.current&&(r&&r(b),s.current=!1),I&&i.current&&(a&&a(b),i.current=!1),I&&y>A?(n&&!s.current&&n(b),S.scrollTop=C,T=!0,s.current=!0):!I&&-y>w&&(o&&!i.current&&o(b),S.scrollTop=0,T=!0,i.current=!0),T&&O5e(b)}},[n,r,o,a]),f=c.useCallback(function(b){u(b,b.deltaY)},[u]),p=c.useCallback(function(b){l.current=b.changedTouches[0].clientY},[]),m=c.useCallback(function(b){var y=l.current-b.changedTouches[0].clientY;u(b,y)},[u]),g=c.useCallback(function(b){if(b){var y=rIe?{passive:!1}:!1;b.addEventListener("wheel",f,y),b.addEventListener("touchstart",p,y),b.addEventListener("touchmove",m,y)}},[m,p,f]),v=c.useCallback(function(b){b&&(b.removeEventListener("wheel",f,!1),b.removeEventListener("touchstart",p,!1),b.removeEventListener("touchmove",m,!1))},[m,p,f]);return c.useEffect(function(){if(t){var b=d.current;return g(b),function(){v(b)}}},[t,g,v]),function(b){d.current=b}}var p6=["boxSizing","height","overflow","paddingRight","position"],m6={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function h6(e){e.preventDefault()}function g6(e){e.stopPropagation()}function v6(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function b6(){return"ontouchstart"in window||navigator.maxTouchPoints}var y6=!!(typeof window<"u"&&window.document&&window.document.createElement),hf=0,Hc={capture:!1,passive:!1};function $5e(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,o=c.useRef({}),a=c.useRef(null),s=c.useCallback(function(l){if(y6){var d=document.body,u=d&&d.style;if(r&&p6.forEach(function(g){var v=u&&u[g];o.current[g]=v}),r&&hf<1){var f=parseInt(o.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,m=window.innerWidth-p+f||0;Object.keys(m6).forEach(function(g){var v=m6[g];u&&(u[g]=v)}),u&&(u.paddingRight="".concat(m,"px"))}d&&b6()&&(d.addEventListener("touchmove",h6,Hc),l&&(l.addEventListener("touchstart",v6,Hc),l.addEventListener("touchmove",g6,Hc))),hf+=1}},[r]),i=c.useCallback(function(l){if(y6){var d=document.body,u=d&&d.style;hf=Math.max(hf-1,0),r&&hf<1&&p6.forEach(function(f){var p=o.current[f];u&&(u[f]=p)}),d&&b6()&&(d.removeEventListener("touchmove",h6,Hc),l&&(l.removeEventListener("touchstart",v6,Hc),l.removeEventListener("touchmove",g6,Hc)))}},[r]);return c.useEffect(function(){if(t){var l=a.current;return s(l),function(){i(l)}}},[t,s,i]),function(l){a.current=l}}var R5e=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},P5e={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function L5e(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,o=r===void 0?!0:r,a=e.onBottomArrive,s=e.onBottomLeave,i=e.onTopArrive,l=e.onTopLeave,d=M5e({isEnabled:o,onBottomArrive:a,onBottomLeave:s,onTopArrive:i,onTopLeave:l}),u=$5e({isEnabled:n}),f=function(m){d(m),u(m)};return k(c.Fragment,null,n&&k("div",{onClick:R5e,css:P5e}),t(f))}var N5e={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},F5e=function(t){var n=t.name,r=t.onFocus;return k("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:N5e,value:"",onChange:function(){}})},j5e=F5e,V5e=function(t){return t.label},B5e=function(t){return t.label},U5e=function(t){return t.value},H5e=function(t){return!!t.isDisabled},z5e={clearIndicator:RIe,container:_Ie,control:BIe,dropdownIndicator:MIe,group:WIe,groupHeading:qIe,indicatorsContainer:IIe,indicatorSeparator:LIe,input:JIe,loadingIndicator:jIe,loadingMessage:bIe,menu:uIe,menuList:hIe,menuPortal:wIe,multiValue:n5e,multiValueLabel:r5e,multiValueRemove:o5e,noOptionsMessage:vIe,option:d5e,placeholder:p5e,singleValue:g5e,valueContainer:SIe};function zW(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=tt({},e);return Object.keys(t).forEach(function(r){var o=r;e[o]?n[o]=function(a,s){return t[o](e[o](a,s),s)}:n[o]=t[o]}),n}var W5e={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},G5e=4,WW=4,q5e=38,Y5e=WW*2,K5e={baseUnit:WW,controlHeight:q5e,menuGutter:Y5e},nw={borderRadius:G5e,colors:W5e,spacing:K5e},X5e={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:c6(),captureMenuScroll:!c6(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:T5e(),formatGroupLabel:V5e,getOptionLabel:B5e,getOptionValue:U5e,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:H5e,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!tIe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function E6(e,t,n,r){var o=KW(e,t,n),a=XW(e,t,n),s=YW(e,t),i=Nv(e,t);return{type:"option",data:t,isDisabled:o,isSelected:a,label:s,value:i,index:r}}function GW(e,t){return e.options.map(function(n,r){if("options"in n){var o=n.options.map(function(s,i){return E6(e,s,t,i)}).filter(function(s){return w6(e,s)});return o.length>0?{type:"group",data:n,options:o,index:r}:void 0}var a=E6(e,n,t,r);return w6(e,a)?a:void 0}).filter(oIe)}function qW(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,ty(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function J5e(e,t){return qW(GW(e,t))}function w6(e,t){var n=e.inputValue,r=n===void 0?"":n,o=t.data,a=t.isSelected,s=t.label,i=t.value;return(!ZW(e)||!a)&&JW(e,{label:s,value:i,data:o},r)}function Z5e(e,t){var n=e.focusedValue,r=e.selectValue,o=r.indexOf(n);if(o>-1){var a=t.indexOf(n);if(a>-1)return n;if(o<t.length)return t[o]}return null}function Q5e(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var YW=function(t,n){return t.getOptionLabel(n)},Nv=function(t,n){return t.getOptionValue(n)};function KW(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function XW(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=Nv(e,t);return n.some(function(o){return Nv(e,o)===r})}function JW(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var ZW=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},e4e=1,QW=function(e){Km(n,e);var t=gue(n);function n(r){var o;if(Xm(this,n),o=t.call(this,r),o.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.instancePrefix="",o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.controlRef=null,o.getControlRef=function(i){o.controlRef=i},o.focusedOptionRef=null,o.getFocusedOptionRef=function(i){o.focusedOptionRef=i},o.menuListRef=null,o.getMenuListRef=function(i){o.menuListRef=i},o.inputRef=null,o.getInputRef=function(i){o.inputRef=i},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(i,l){var d=o.props,u=d.onChange,f=d.name;l.name=f,o.ariaOnChange(i,l),u(i,l)},o.setValue=function(i,l,d){var u=o.props,f=u.closeMenuOnSelect,p=u.isMulti,m=u.inputValue;o.onInputChange("",{action:"set-value",prevInputValue:m}),f&&(o.setState({inputIsHiddenAfterUpdate:!p}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(i,{action:l,option:d})},o.selectOption=function(i){var l=o.props,d=l.blurInputOnSelect,u=l.isMulti,f=l.name,p=o.state.selectValue,m=u&&o.isOptionSelected(i,p),g=o.isOptionDisabled(i,p);if(m){var v=o.getOptionValue(i);o.setValue(p.filter(function(b){return o.getOptionValue(b)!==v}),"deselect-option",i)}else if(!g)u?o.setValue([].concat(ty(p),[i]),"select-option",i):o.setValue(i,"select-option");else{o.ariaOnChange(i,{action:"select-option",option:i,name:f});return}d&&o.blurInput()},o.removeValue=function(i){var l=o.props.isMulti,d=o.state.selectValue,u=o.getOptionValue(i),f=d.filter(function(m){return o.getOptionValue(m)!==u}),p=t0(l,f,f[0]||null);o.onChange(p,{action:"remove-value",removedValue:i}),o.focusInput()},o.clearValue=function(){var i=o.state.selectValue;o.onChange(t0(o.props.isMulti,[],null),{action:"clear",removedValues:i})},o.popValue=function(){var i=o.props.isMulti,l=o.state.selectValue,d=l[l.length-1],u=l.slice(0,l.length-1),f=t0(i,u,u[0]||null);o.onChange(f,{action:"pop-value",removedValue:d})},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var i=arguments.length,l=new Array(i),d=0;d<i;d++)l[d]=arguments[d];return Xke.apply(void 0,[o.props.classNamePrefix].concat(l))},o.getOptionLabel=function(i){return YW(o.props,i)},o.getOptionValue=function(i){return Nv(o.props,i)},o.getStyles=function(i,l){var d=o.props.unstyled,u=z5e[i](l,d);u.boxSizing="border-box";var f=o.props.styles[i];return f?f(u,l):u},o.getClassNames=function(i,l){var d,u;return(d=(u=o.props.classNames)[i])===null||d===void 0?void 0:d.call(u,l)},o.getElementId=function(i){return"".concat(o.instancePrefix,"-").concat(i)},o.getComponents=function(){return y5e(o.props)},o.buildCategorizedOptions=function(){return GW(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return qW(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(i,l){o.setState({ariaSelection:tt({value:i},l)})},o.onMenuMouseDown=function(i){i.button===0&&(i.stopPropagation(),i.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(i){o.blockOptionHover=!1},o.onControlMouseDown=function(i){if(!i.defaultPrevented){var l=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?i.target.tagName!=="INPUT"&&i.target.tagName!=="TEXTAREA"&&o.onMenuClose():l&&o.openMenu("first"):(l&&(o.openAfterFocus=!0),o.focusInput()),i.target.tagName!=="INPUT"&&i.target.tagName!=="TEXTAREA"&&i.preventDefault()}},o.onDropdownIndicatorMouseDown=function(i){if(!(i&&i.type==="mousedown"&&i.button!==0)&&!o.props.isDisabled){var l=o.props,d=l.isMulti,u=l.menuIsOpen;o.focusInput(),u?(o.setState({inputIsHiddenAfterUpdate:!d}),o.onMenuClose()):o.openMenu("first"),i.preventDefault()}},o.onClearIndicatorMouseDown=function(i){i&&i.type==="mousedown"&&i.button!==0||(o.clearValue(),i.preventDefault(),o.openAfterFocus=!1,i.type==="touchend"?o.focusInput():setTimeout(function(){return o.focusInput()}))},o.onScroll=function(i){typeof o.props.closeMenuOnScroll=="boolean"?i.target instanceof HTMLElement&&ny(i.target)&&o.props.onMenuClose():typeof o.props.closeMenuOnScroll=="function"&&o.props.closeMenuOnScroll(i)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(i){var l=i.touches,d=l&&l.item(0);d&&(o.initialTouchX=d.clientX,o.initialTouchY=d.clientY,o.userIsDragging=!1)},o.onTouchMove=function(i){var l=i.touches,d=l&&l.item(0);if(d){var u=Math.abs(d.clientX-o.initialTouchX),f=Math.abs(d.clientY-o.initialTouchY),p=5;o.userIsDragging=u>p||f>p}},o.onTouchEnd=function(i){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(i.target)&&o.menuListRef&&!o.menuListRef.contains(i.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(i){o.userIsDragging||o.onControlMouseDown(i)},o.onClearIndicatorTouchEnd=function(i){o.userIsDragging||o.onClearIndicatorMouseDown(i)},o.onDropdownIndicatorTouchEnd=function(i){o.userIsDragging||o.onDropdownIndicatorMouseDown(i)},o.handleInputChange=function(i){var l=o.props.inputValue,d=i.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(d,{action:"input-change",prevInputValue:l}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(i){o.props.onFocus&&o.props.onFocus(i),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(i){var l=o.props.inputValue;if(o.menuListRef&&o.menuListRef.contains(document.activeElement)){o.inputRef.focus();return}o.props.onBlur&&o.props.onBlur(i),o.onInputChange("",{action:"input-blur",prevInputValue:l}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1})},o.onOptionHover=function(i){o.blockOptionHover||o.state.focusedOption===i||o.setState({focusedOption:i})},o.shouldHideSelectedOptions=function(){return ZW(o.props)},o.onValueInputFocus=function(i){i.preventDefault(),i.stopPropagation(),o.focus()},o.onKeyDown=function(i){var l=o.props,d=l.isMulti,u=l.backspaceRemovesValue,f=l.escapeClearsValue,p=l.inputValue,m=l.isClearable,g=l.isDisabled,v=l.menuIsOpen,b=l.onKeyDown,y=l.tabSelectsValue,E=l.openMenuOnFocus,w=o.state,C=w.focusedOption,x=w.focusedValue,S=w.selectValue;if(!g&&!(typeof b=="function"&&(b(i),i.defaultPrevented))){switch(o.blockOptionHover=!0,i.key){case"ArrowLeft":if(!d||p)return;o.focusValue("previous");break;case"ArrowRight":if(!d||p)return;o.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(x)o.removeValue(x);else{if(!u)return;d?o.popValue():m&&o.clearValue()}break;case"Tab":if(o.isComposing||i.shiftKey||!v||!y||!C||E&&o.isOptionSelected(C,S))return;o.selectOption(C);break;case"Enter":if(i.keyCode===229)break;if(v){if(!C||o.isComposing)return;o.selectOption(C);break}return;case"Escape":v?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close",prevInputValue:p}),o.onMenuClose()):m&&f&&o.clearValue();break;case" ":if(p)return;if(!v){o.openMenu("first");break}if(!C)return;o.selectOption(C);break;case"ArrowUp":v?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":v?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!v)return;o.focusOption("pageup");break;case"PageDown":if(!v)return;o.focusOption("pagedown");break;case"Home":if(!v)return;o.focusOption("first");break;case"End":if(!v)return;o.focusOption("last");break;default:return}i.preventDefault()}},o.instancePrefix="react-select-"+(o.props.instanceId||++e4e),o.state.selectValue=i6(r.value),r.menuIsOpen&&o.state.selectValue.length){var a=o.buildFocusableOptions(),s=a.indexOf(o.state.selectValue[0]);o.state.focusedOption=a[s]}return o}return Jm(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&l6(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(o){var a=this.props,s=a.isDisabled,i=a.menuIsOpen,l=this.state.isFocused;(l&&!s&&o.isDisabled||l&&i&&!o.menuIsOpen)&&this.focusInput(),l&&s&&!o.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!s&&o.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(l6(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(o,a){this.props.onInputChange(o,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(o){var a=this,s=this.state,i=s.selectValue,l=s.isFocused,d=this.buildFocusableOptions(),u=o==="first"?0:d.length-1;if(!this.props.isMulti){var f=d.indexOf(i[0]);f>-1&&(u=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[u]},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(o){var a=this.state,s=a.selectValue,i=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=s.indexOf(i);i||(l=-1);var d=s.length-1,u=-1;if(s.length){switch(o){case"previous":l===0?u=0:l===-1?u=d:u=l-1;break;case"next":l>-1&&l<d&&(u=l+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:s[u]})}}}},{key:"focusOption",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,s=this.state.focusedOption,i=this.getFocusableOptions();if(i.length){var l=0,d=i.indexOf(s);s||(d=-1),o==="up"?l=d>0?d-1:i.length-1:o==="down"?l=(d+1)%i.length:o==="pageup"?(l=d-a,l<0&&(l=0)):o==="pagedown"?(l=d+a,l>i.length-1&&(l=i.length-1)):o==="last"&&(l=i.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:i[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(nw):tt(tt({},nw),this.props.theme):nw}},{key:"getCommonProps",value:function(){var o=this.clearValue,a=this.cx,s=this.getStyles,i=this.getClassNames,l=this.getValue,d=this.selectOption,u=this.setValue,f=this.props,p=f.isMulti,m=f.isRtl,g=f.options,v=this.hasValue();return{clearValue:o,cx:a,getStyles:s,getClassNames:i,getValue:l,hasValue:v,isMulti:p,isRtl:m,options:g,selectOption:d,selectProps:f,setValue:u,theme:this.getTheme()}}},{key:"hasValue",value:function(){var o=this.state.selectValue;return o.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var o=this.props,a=o.isClearable,s=o.isMulti;return a===void 0?s:a}},{key:"isOptionDisabled",value:function(o,a){return KW(this.props,o,a)}},{key:"isOptionSelected",value:function(o,a){return XW(this.props,o,a)}},{key:"filterOption",value:function(o,a){return JW(this.props,o,a)}},{key:"formatOptionLabel",value:function(o,a){if(typeof this.props.formatOptionLabel=="function"){var s=this.props.inputValue,i=this.state.selectValue;return this.props.formatOptionLabel(o,{context:a,inputValue:s,selectValue:i})}else return this.getOptionLabel(o)}},{key:"formatGroupLabel",value:function(o){return this.props.formatGroupLabel(o)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var o=this.props,a=o.isDisabled,s=o.isSearchable,i=o.inputId,l=o.inputValue,d=o.tabIndex,u=o.form,f=o.menuIsOpen,p=o.required,m=this.getComponents(),g=m.Input,v=this.state,b=v.inputIsHidden,y=v.ariaSelection,E=this.commonProps,w=i||this.getElementId("input"),C=tt(tt(tt({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox"},f&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!s&&{"aria-readonly":!0}),this.hasValue()?(y==null?void 0:y.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return s?c.createElement(g,H({},E,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:w,innerRef:this.getInputRef,isDisabled:a,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:u,type:"text",value:l},C)):c.createElement(D5e,H({id:w,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Pv,onFocus:this.onInputFocus,disabled:a,tabIndex:d,inputMode:"none",form:u,value:""},C))}},{key:"renderPlaceholderOrValue",value:function(){var o=this,a=this.getComponents(),s=a.MultiValue,i=a.MultiValueContainer,l=a.MultiValueLabel,d=a.MultiValueRemove,u=a.SingleValue,f=a.Placeholder,p=this.commonProps,m=this.props,g=m.controlShouldRenderValue,v=m.isDisabled,b=m.isMulti,y=m.inputValue,E=m.placeholder,w=this.state,C=w.selectValue,x=w.focusedValue,S=w.isFocused;if(!this.hasValue()||!g)return y?null:c.createElement(f,H({},p,{key:"placeholder",isDisabled:v,isFocused:S,innerProps:{id:this.getElementId("placeholder")}}),E);if(b)return C.map(function(A,T){var O=A===x,D="".concat(o.getOptionLabel(A),"-").concat(o.getOptionValue(A));return c.createElement(s,H({},p,{components:{Container:i,Label:l,Remove:d},isFocused:O,isDisabled:v,key:D,index:T,removeProps:{onClick:function(){return o.removeValue(A)},onTouchEnd:function(){return o.removeValue(A)},onMouseDown:function(L){L.preventDefault()}},data:A}),o.formatOptionLabel(A,"value"))});if(y)return null;var I=C[0];return c.createElement(u,H({},p,{data:I,isDisabled:v}),this.formatOptionLabel(I,"value"))}},{key:"renderClearIndicator",value:function(){var o=this.getComponents(),a=o.ClearIndicator,s=this.commonProps,i=this.props,l=i.isDisabled,d=i.isLoading,u=this.state.isFocused;if(!this.isClearable()||!a||l||!this.hasValue()||d)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return c.createElement(a,H({},s,{innerProps:f,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var o=this.getComponents(),a=o.LoadingIndicator,s=this.commonProps,i=this.props,l=i.isDisabled,d=i.isLoading,u=this.state.isFocused;if(!a||!d)return null;var f={"aria-hidden":"true"};return c.createElement(a,H({},s,{innerProps:f,isDisabled:l,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var o=this.getComponents(),a=o.DropdownIndicator,s=o.IndicatorSeparator;if(!a||!s)return null;var i=this.commonProps,l=this.props.isDisabled,d=this.state.isFocused;return c.createElement(s,H({},i,{isDisabled:l,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var o=this.getComponents(),a=o.DropdownIndicator;if(!a)return null;var s=this.commonProps,i=this.props.isDisabled,l=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return c.createElement(a,H({},s,{innerProps:d,isDisabled:i,isFocused:l}))}},{key:"renderMenu",value:function(){var o=this,a=this.getComponents(),s=a.Group,i=a.GroupHeading,l=a.Menu,d=a.MenuList,u=a.MenuPortal,f=a.LoadingMessage,p=a.NoOptionsMessage,m=a.Option,g=this.commonProps,v=this.state.focusedOption,b=this.props,y=b.captureMenuScroll,E=b.inputValue,w=b.isLoading,C=b.loadingMessage,x=b.minMenuHeight,S=b.maxMenuHeight,I=b.menuIsOpen,A=b.menuPlacement,T=b.menuPosition,O=b.menuPortalTarget,D=b.menuShouldBlockScroll,$=b.menuShouldScrollIntoView,L=b.noOptionsMessage,F=b.onMenuScrollToTop,B=b.onMenuScrollToBottom;if(!I)return null;var V=function(Z,K){var oe=Z.type,X=Z.data,pe=Z.isDisabled,ee=Z.isSelected,ne=Z.label,Q=Z.value,se=v===X,ue=pe?void 0:function(){return o.onOptionHover(X)},ve=pe?void 0:function(){return o.selectOption(X)},ke="".concat(o.getElementId("option"),"-").concat(K),ge={id:ke,onClick:ve,onMouseMove:ue,onMouseOver:ue,tabIndex:-1};return c.createElement(m,H({},g,{innerProps:ge,data:X,isDisabled:pe,isSelected:ee,key:ke,label:ne,type:oe,value:Q,isFocused:se,innerRef:se?o.getFocusedOptionRef:void 0}),o.formatOptionLabel(Z.data,"menu"))},Y;if(this.hasOptions())Y=this.getCategorizedOptions().map(function(j){if(j.type==="group"){var Z=j.data,K=j.options,oe=j.index,X="".concat(o.getElementId("group"),"-").concat(oe),pe="".concat(X,"-heading");return c.createElement(s,H({},g,{key:X,data:Z,options:K,Heading:i,headingProps:{id:pe,data:j.data},label:o.formatGroupLabel(j.data)}),j.options.map(function(ee){return V(ee,"".concat(oe,"-").concat(ee.index))}))}else if(j.type==="option")return V(j,"".concat(j.index))});else if(w){var J=C({inputValue:E});if(J===null)return null;Y=c.createElement(f,g,J)}else{var z=L({inputValue:E});if(z===null)return null;Y=c.createElement(p,g,z)}var ce={minMenuHeight:x,maxMenuHeight:S,menuPlacement:A,menuPosition:T,menuShouldScrollIntoView:$},le=c.createElement(fIe,H({},g,ce),function(j){var Z=j.ref,K=j.placerProps,oe=K.placement,X=K.maxHeight;return c.createElement(l,H({},g,ce,{innerRef:Z,innerProps:{onMouseDown:o.onMenuMouseDown,onMouseMove:o.onMenuMouseMove,id:o.getElementId("listbox")},isLoading:w,placement:oe}),c.createElement(L5e,{captureEnabled:y,onTopArrive:F,onBottomArrive:B,lockEnabled:D},function(pe){return c.createElement(d,H({},g,{innerRef:function(ne){o.getMenuListRef(ne),pe(ne)},isLoading:w,maxHeight:X,focusedOption:v}),Y)}))});return O||T==="fixed"?c.createElement(u,H({},g,{appendTo:O,controlElement:this.controlRef,menuPlacement:A,menuPosition:T}),le):le}},{key:"renderFormField",value:function(){var o=this,a=this.props,s=a.delimiter,i=a.isDisabled,l=a.isMulti,d=a.name,u=a.required,f=this.state.selectValue;if(u&&!this.hasValue()&&!i)return c.createElement(j5e,{name:d,onFocus:this.onValueInputFocus});if(!(!d||i))if(l)if(s){var p=f.map(function(v){return o.getOptionValue(v)}).join(s);return c.createElement("input",{name:d,type:"hidden",value:p})}else{var m=f.length>0?f.map(function(v,b){return c.createElement("input",{key:"i-".concat(b),name:d,type:"hidden",value:o.getOptionValue(v)})}):c.createElement("input",{name:d,type:"hidden",value:""});return c.createElement("div",null,m)}else{var g=f[0]?this.getOptionValue(f[0]):"";return c.createElement("input",{name:d,type:"hidden",value:g})}}},{key:"renderLiveRegion",value:function(){var o=this.commonProps,a=this.state,s=a.ariaSelection,i=a.focusedOption,l=a.focusedValue,d=a.isFocused,u=a.selectValue,f=this.getFocusableOptions();return c.createElement(x5e,H({},o,{id:this.getElementId("live-region"),ariaSelection:s,focusedOption:i,focusedValue:l,isFocused:d,selectValue:u,focusableOptions:f}))}},{key:"render",value:function(){var o=this.getComponents(),a=o.Control,s=o.IndicatorsContainer,i=o.SelectContainer,l=o.ValueContainer,d=this.props,u=d.className,f=d.id,p=d.isDisabled,m=d.menuIsOpen,g=this.state.isFocused,v=this.commonProps=this.getCommonProps();return c.createElement(i,H({},v,{className:u,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:g}),this.renderLiveRegion(),c.createElement(a,H({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:g,menuIsOpen:m}),c.createElement(l,H({},v,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),c.createElement(s,H({},v,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(o,a){var s=a.prevProps,i=a.clearFocusValueOnUpdate,l=a.inputIsHiddenAfterUpdate,d=a.ariaSelection,u=a.isFocused,f=a.prevWasFocused,p=o.options,m=o.value,g=o.menuIsOpen,v=o.inputValue,b=o.isMulti,y=i6(m),E={};if(s&&(m!==s.value||p!==s.options||g!==s.menuIsOpen||v!==s.inputValue)){var w=g?J5e(o,y):[],C=i?Z5e(a,y):null,x=Q5e(a,w);E={selectValue:y,focusedOption:x,focusedValue:C,clearFocusValueOnUpdate:!1}}var S=l!=null&&o!==s?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},I=d,A=u&&f;return u&&!A&&(I={value:t0(b,y,y[0]||null),options:y,action:"initial-input-focus"},A=!f),(d==null?void 0:d.action)==="initial-input-focus"&&(I=null),tt(tt(tt({},E),S),{},{prevProps:o,ariaSelection:I,prevWasFocused:A})}}]),n}(c.Component);QW.defaultProps=X5e;var t4e=c.forwardRef(function(e,t){var n=Oke(e);return c.createElement(QW,H({ref:t},n))}),n4e=t4e,Sh={},zs={};Object.defineProperty(zs,"__esModule",{value:!0});var eG=zs.default=void 0,r4e=tG(c),o4e=tG(Oe);function tG(e){return e&&e.__esModule?e:{default:e}}const nG=e=>r4e.default.createElement(o4e.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0m4.03 5.03L9.06 8l2.97 2.97-1.06 1.06L8 9.06l-2.97 2.97-1.06-1.06L6.94 8 3.97 5.03l1.06-1.06L8 6.94l2.97-2.97z" clip-rule="evenodd"/>'},e));nG.displayName="CrossCircleIcon";eG=zs.default=nG;Object.defineProperty(Sh,"__esModule",{value:!0});var ry=Sh.default=void 0,a4e=rG(c),s4e=je,i4e=rG(zs);function rG(e){return e&&e.__esModule?e:{default:e}}const oG=e=>a4e.default.createElement(s4e.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle cx="12" cy="12" r="9" fill="currentcolor"/><path fill="inherit" d="M16.155 14.493a1.174 1.174 0 1 1-1.662 1.663L12 13.662l-2.494 2.494a1.17 1.17 0 0 1-1.662 0 1.176 1.176 0 0 1 0-1.663L10.337 12 7.844 9.507a1.176 1.176 0 0 1 1.662-1.662L12 10.338l2.493-2.493a1.174 1.174 0 1 1 1.662 1.662L13.662 12z"/></g></svg>'},e,{newIcon:i4e.default}));oG.displayName="SelectClearIcon";ry=Sh.default=oG;var oy={};Object.defineProperty(oy,"__esModule",{value:!0});var H_=oy.default=void 0,l4e=aG(c),c4e=aG(Oe);function aG(e){return e&&e.__esModule?e:{default:e}}const sG=e=>l4e.default.createElement(c4e.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="m2 10 4-4m4-4L6 6m0 0L2 2m4 4 4 4"/>',type:"utility"},e));sG.displayName="CrossIcon";H_=oy.default=sG;var y5={};Object.defineProperty(y5,"__esModule",{value:!0});var Ws=y5.default=void 0,d4e=E5(c),u4e=E5(fc),f4e=E5(W1);function E5(e){return e&&e.__esModule?e:{default:e}}const iG=e=>d4e.default.createElement(u4e.default,Object.assign({LEGACY_fallbackIcon:f4e.default},e));iG.Name="ChevronDownIconMigration";Ws=y5.default=iG;var w5={},kh={};Object.defineProperty(kh,"__esModule",{value:!0});kh.default=void 0;var p4e=lG(c),m4e=lG(Oe);function lG(e){return e&&e.__esModule?e:{default:e}}const cG=e=>p4e.default.createElement(m4e.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M6 12A6 6 0 1 0 6 0a6 6 0 0 0 0 12m3.28-8.22L7.06 6l2.22 2.22-1.06 1.06L6 7.06 3.78 9.28 2.72 8.22 4.94 6 2.72 3.78l1.06-1.06L6 4.94l2.22-2.22z" clip-rule="evenodd"/>',type:"utility"},e));cG.displayName="CrossCircleIcon";kh.default=cG;Object.defineProperty(w5,"__esModule",{value:!0});var dG=w5.default=void 0,h4e=C5(c),g4e=C5(kh),v4e=C5(Sh);function C5(e){return e&&e.__esModule?e:{default:e}}const uG=e=>h4e.default.createElement(g4e.default,Object.assign({LEGACY_fallbackIcon:v4e.default},e));uG.Name="CrossCircleIconMigration";dG=w5.default=uG;var z_="data-focus-lock",fG="data-focus-lock-disabled",b4e="data-no-focus-lock",y4e="data-autofocus-inside",E4e="data-no-autofocus";function rw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function w4e(e,t){const[n]=c.useState(()=>({value:e,callback:t,facade:{get current(){return n.value},set current(r){const o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}));return n.callback=t,n.facade}const C4e=typeof window<"u"?c.useLayoutEffect:c.useEffect,C6=new WeakMap;function _4e(e,t){const n=w4e(null,r=>e.forEach(o=>rw(o,r)));return C4e(()=>{const r=C6.get(n);if(r){const o=new Set(r),a=new Set(e),s=n.current;o.forEach(i=>{a.has(i)||rw(i,null)}),a.forEach(i=>{o.has(i)||rw(i,s)})}C6.set(n,e)},[e]),n}var ow={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function pG(e){return e}function mG(e,t=pG){let n=[],r=!1;return{read(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium(a){const s=t(a,r);return n.push(s),()=>{n=n.filter(i=>i!==s)}},assignSyncMedium(a){for(r=!0;n.length;){const s=n;n=[],s.forEach(a)}n={push:s=>a(s),filter:()=>n}},assignMedium(a){r=!0;let s=[];if(n.length){const d=n;n=[],d.forEach(a),s=n}const i=()=>{const d=s;s=[],d.forEach(a)},l=()=>Promise.resolve().then(i);l(),n={push:d=>{s.push(d),l()},filter:d=>(s=s.filter(d),n)}}}}function _5(e,t=pG){return mG(e,t)}function x4e(e={}){const t=mG(null);return t.options={async:!0,ssr:!1,...e},t}var hG=_5({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),gG=_5(),S4e=_5(),k4e=x4e({async:!0,ssr:typeof document<"u"}),I4e=c.createContext(void 0),T4e=[],x5=c.forwardRef(function(t,n){var r,o=c.useState(),a=o[0],s=o[1],i=c.useRef(),l=c.useRef(!1),d=c.useRef(null),u=c.useState({}),f=u[1],p=t.children,m=t.disabled,g=m===void 0?!1:m,v=t.noFocusGuards,b=v===void 0?!1:v,y=t.persistentFocus,E=y===void 0?!1:y,w=t.crossFrame,C=w===void 0?!0:w,x=t.autoFocus,S=x===void 0?!0:x;t.allowTextSelection;var I=t.group,A=t.className,T=t.whiteList,O=t.hasPositiveIndices,D=t.shards,$=D===void 0?T4e:D,L=t.as,F=L===void 0?"div":L,B=t.lockProps,V=B===void 0?{}:B,Y=t.sideCar,J=t.returnFocus,z=J===void 0?!1:J,ce=t.focusOptions,le=t.onActivation,j=t.onDeactivation,Z=c.useState({}),K=Z[0],oe=c.useCallback(function(N){var R=N.captureFocusRestore;if(!d.current){var P,W=(P=document)==null?void 0:P.activeElement;d.current=W,W!==document.body&&(d.current=R(W))}i.current&&le&&le(i.current),l.current=!0,f()},[le]),X=c.useCallback(function(){l.current=!1,j&&j(i.current),f()},[j]),pe=c.useCallback(function(N){var R=d.current;if(R){var P=(typeof R=="function"?R():R)||document.body,W=typeof z=="function"?z(P):z;if(W){var re=typeof W=="object"?W:void 0;d.current=null,N?Promise.resolve().then(function(){return P.focus(re)}):P.focus(re)}}},[z]),ee=c.useCallback(function(N){l.current&&hG.useMedium(N)},[]),ne=gG.useMedium,Q=c.useCallback(function(N){i.current!==N&&(i.current=N,s(N))},[]),se=H((r={},r[fG]=g&&"disabled",r[z_]=I,r),V),ue=b!==!0,ve=ue&&b!=="tail",ke=_4e([n,Q]),ge=c.useMemo(function(){return{observed:i,shards:$,enabled:!g,active:l.current}},[g,l.current,$,a]);return c.createElement(c.Fragment,null,ue&&[c.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:g?-1:0,style:ow}),O?c.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:g?-1:1,style:ow}):null],!g&&c.createElement(Y,{id:K,sideCar:k4e,observed:a,disabled:g,persistentFocus:E,crossFrame:C,autoFocus:S,whiteList:T,shards:$,onActivation:oe,onDeactivation:X,returnFocus:pe,focusOptions:ce}),c.createElement(F,H({ref:ke},se,{className:A,onBlur:ne,onFocus:ee}),c.createElement(I4e.Provider,{value:ge},p)),ve&&c.createElement("div",{"data-focus-guard":!0,tabIndex:g?-1:0,style:ow}))});x5.propTypes={};function vG(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,vue(e,t)}function A4e(e,t){function n(r){return r.displayName||r.name||"Component"}return function(o){var a=[],s;function i(){s=e(a.map(function(d){return d.props})),t(s)}var l=function(d){vG(u,d);function u(){return d.apply(this,arguments)||this}u.peek=function(){return s};var f=u.prototype;return f.componentDidMount=function(){a.push(this),i()},f.componentDidUpdate=function(){i()},f.componentWillUnmount=function(){var m=a.indexOf(this);a.splice(m,1),i()},f.render=function(){return _.createElement(o,this.props)},u}(c.PureComponent);return q(l,"displayName","SideEffect("+n(o)+")"),l}}var Qa=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},Ql=function(e){return Array.isArray(e)?e:[e]},bG=function(e){return Array.isArray(e)?e[0]:e},D4e=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},yG=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},EG=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},O4e=function(e){return e.hasAttribute("inert")},M4e=function(e,t){return!e||EG(e)||!D4e(e)&&!O4e(e)&&t(yG(e))},wG=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=M4e(t,wG.bind(void 0,e));return e.set(t,r),r},$4e=function(e,t){return e&&!EG(e)?L4e(e)?t(yG(e)):!1:!0},CG=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=$4e(t,CG.bind(void 0,e));return e.set(t,r),r},_G=function(e){return e.dataset},R4e=function(e){return e.tagName==="BUTTON"},xG=function(e){return e.tagName==="INPUT"},SG=function(e){return xG(e)&&e.type==="radio"},P4e=function(e){return!((xG(e)||R4e(e))&&(e.type==="hidden"||e.disabled))},L4e=function(e){var t=e.getAttribute(E4e);return![!0,"true",""].includes(t)},S5=function(e){var t;return!!(e&&(!((t=_G(e))===null||t===void 0)&&t.focusGuard))},W_=function(e){return!S5(e)},N4e=function(e){return!!e},F4e=function(e,t){var n=Math.max(0,e.tabIndex),r=Math.max(0,t.tabIndex),o=n-r,a=e.index-t.index;if(o){if(!n)return 1;if(!r)return-1}return o||a},j4e=function(e){return e.tabIndex<0&&!e.hasAttribute("tabindex")?0:e.tabIndex},k5=function(e,t,n){return Qa(e).map(function(r,o){var a=j4e(r);return{node:r,index:o,tabIndex:n&&a===-1?(r.dataset||{}).focusGuard?0:-1:a}}).filter(function(r){return!t||r.tabIndex>=0}).sort(F4e)},V4e=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],I5=V4e.join(","),B4e="".concat(I5,", [data-focus-guard]"),kG=function(e,t){return Qa((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?B4e:I5)?[r]:[],kG(r))},[])},U4e=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?Kd([e.contentDocument.body],t):[e]},Kd=function(e,t){return e.reduce(function(n,r){var o,a=kG(r,t),s=(o=[]).concat.apply(o,a.map(function(i){return U4e(i,t)}));return n.concat(s,r.parentNode?Qa(r.parentNode.querySelectorAll(I5)).filter(function(i){return i===r}):[])},[])},H4e=function(e){var t=e.querySelectorAll("[".concat(y4e,"]"));return Qa(t).map(function(n){return Kd([n])}).reduce(function(n,r){return n.concat(r)},[])},T5=function(e,t){return Qa(e).filter(function(n){return wG(t,n)}).filter(function(n){return P4e(n)})},_6=function(e,t){return t===void 0&&(t=new Map),Qa(e).filter(function(n){return CG(t,n)})},A5=function(e,t,n){return k5(T5(Kd(e,n),t),!0,n)},Fv=function(e,t){return k5(T5(Kd(e),t),!1)},z4e=function(e,t){return T5(H4e(e),t)},Nl=function(e,t){return e.shadowRoot?Nl(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:Qa(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var o=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return o?Nl(o,t):!1}return Nl(n,t)})},W4e=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var a=e[r].compareDocumentPosition(e[o]);(a&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(a&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(s,i){return!t.has(i)})},IG=function(e){return e.parentNode?IG(e.parentNode):e},D5=function(e){var t=Ql(e);return t.filter(Boolean).reduce(function(n,r){var o=r.getAttribute(z_);return n.push.apply(n,o?W4e(Qa(IG(r).querySelectorAll("[".concat(z_,'="').concat(o,'"]:not([').concat(fG,'="disabled"])')))):[r]),n},[])},G4e=function(e){try{return e()}catch{return}},Xp=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?Xp(t.shadowRoot):t instanceof HTMLIFrameElement&&G4e(function(){return t.contentWindow.document})?Xp(t.contentWindow.document):t}},q4e=function(e,t){return e===t},Y4e=function(e,t){return!!Qa(e.querySelectorAll("iframe")).some(function(n){return q4e(n,t)})},TG=function(e,t){return t===void 0&&(t=Xp(bG(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:D5(e).some(function(n){return Nl(n,t)||Y4e(n,t)})},K4e=function(e){e===void 0&&(e=document);var t=Xp(e);return t?Qa(e.querySelectorAll("[".concat(b4e,"]"))).some(function(n){return Nl(n,t)}):!1},X4e=function(e,t){return t.filter(SG).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},O5=function(e,t){return SG(e)&&e.name?X4e(e,t):e},J4e=function(e){var t=new Set;return e.forEach(function(n){return t.add(O5(n,e))}),e.filter(function(n){return t.has(n)})},x6=function(e){return e[0]&&e.length>1?O5(e[0],e):e[0]},S6=function(e,t){return e.indexOf(O5(t,e))},G_="NEW_FOCUS",Z4e=function(e,t,n,r,o){var a=e.length,s=e[0],i=e[a-1],l=S5(r);if(!(r&&e.indexOf(r)>=0)){var d=r!==void 0?n.indexOf(r):-1,u=o?n.indexOf(o):d,f=o?e.indexOf(o):-1;if(d===-1)return f!==-1?f:G_;if(f===-1)return G_;var p=d-u,m=n.indexOf(s),g=n.indexOf(i),v=J4e(n),b=r!==void 0?v.indexOf(r):-1,y=b-(o?v.indexOf(o):d);if(!p&&f>=0||t.length===0)return f;var E=S6(e,t[0]),w=S6(e,t[t.length-1]);if(d<=m&&l&&Math.abs(p)>1)return w;if(d>=g&&l&&Math.abs(p)>1)return E;if(p&&Math.abs(y)>1)return f;if(d<=m)return w;if(d>g)return E;if(p)return Math.abs(p)>1?f:(a+f+p)%a}},Q4e=function(e){return function(t){var n,r=(n=_G(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},k6=function(e,t,n){var r=e.map(function(a){var s=a.node;return s}),o=_6(r.filter(Q4e(n)));return o&&o.length?x6(o):x6(_6(t))},q_=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&q_(e.parentNode.host||e.parentNode,t),t},aw=function(e,t){for(var n=q_(e),r=q_(t),o=0;o<n.length;o+=1){var a=n[o];if(r.indexOf(a)>=0)return a}return!1},AG=function(e,t,n){var r=Ql(e),o=Ql(t),a=r[0],s=!1;return o.filter(Boolean).forEach(function(i){s=aw(s||i,i)||s,n.filter(Boolean).forEach(function(l){var d=aw(a,l);d&&(!s||Nl(d,s)?s=d:s=aw(d,s))})}),s},I6=function(e,t){return e.reduce(function(n,r){return n.concat(z4e(r,t))},[])},eTe=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(N4e)},tTe=function(e,t){var n=Xp(Ql(e).length>0?document:bG(e).ownerDocument),r=D5(e).filter(W_),o=AG(n||e,e,r),a=new Map,s=Fv(r,a),i=s.filter(function(g){var v=g.node;return W_(v)});if(i[0]){var l=Fv([o],a).map(function(g){var v=g.node;return v}),d=eTe(l,i),u=d.map(function(g){var v=g.node;return v}),f=d.filter(function(g){var v=g.tabIndex;return v>=0}).map(function(g){var v=g.node;return v}),p=Z4e(u,f,l,n,t);if(p===G_){var m=k6(s,f,I6(r,a))||k6(s,u,I6(r,a));if(m)return{node:m};console.warn("focus-lock: cannot find any node to move focus into");return}return p===void 0?p:d[p]}},nTe=function(e){var t=D5(e).filter(W_),n=AG(e,e,t),r=k5(Kd([n],!0),!0,!0),o=Kd(t,!1);return r.map(function(a){var s=a.node,i=a.index;return{node:s,index:i,lockItem:o.indexOf(s)>=0,guard:S5(s)}})},M5=function(e,t){e&&("focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus())},sw=0,iw=!1,DG=function(e,t,n){n===void 0&&(n={});var r=tTe(e,t);if(!iw&&r){if(sw>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),iw=!0,setTimeout(function(){iw=!1},1);return}sw++,M5(r.node,n.focusOptions),sw--}};function gf(e){if(!e)return null;if(typeof WeakRef>"u")return function(){return e||null};var t=e?new WeakRef(e):null;return function(){return(t==null?void 0:t.deref())||null}}var rTe=function(e){if(!e)return null;for(var t=[],n=e;n&&n!==document.body;)t.push({current:gf(n),parent:gf(n.parentElement),left:gf(n.previousElementSibling),right:gf(n.nextElementSibling)}),n=n.parentElement;return{element:gf(e),stack:t,ownerDocument:e.ownerDocument}},oTe=function(e){var t,n,r,o,a;if(e)for(var s=e.stack,i=e.ownerDocument,l=new Map,d=0,u=s;d<u.length;d++){var f=u[d],p=(t=f.parent)===null||t===void 0?void 0:t.call(f);if(p&&i.contains(p)){for(var m=(n=f.left)===null||n===void 0?void 0:n.call(f),g=f.current(),v=p.contains(g)?g:void 0,b=(r=f.right)===null||r===void 0?void 0:r.call(f),y=A5([p],l),E=(a=(o=v??(m==null?void 0:m.nextElementSibling))!==null&&o!==void 0?o:b)!==null&&a!==void 0?a:m;E;){for(var w=0,C=y;w<C.length;w++){var x=C[w];if(E!=null&&E.contains(x.node))return x.node}E=E.nextElementSibling}if(y.length)return y[0].node}}},aTe=function(e){var t=rTe(e);return function(){return oTe(t)}},sTe=function(e,t,n){if(!e||!t)return console.error("no element or scope given"),{};var r=Ql(t);if(r.every(function(s){return!Nl(s,e)}))return console.error("Active element is not contained in the scope"),{};var o=n?A5(r,new Map):Fv(r,new Map),a=o.findIndex(function(s){var i=s.node;return i===e});if(a!==-1)return{prev:o[a-1],next:o[a+1],first:o[0],last:o[o.length-1]}},iTe=function(e,t){var n=t?A5(Ql(e),new Map):Fv(Ql(e),new Map);return{first:n[0],last:n[n.length-1]}},lTe=function(e){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},e)},OG=function(e,t,n){t===void 0&&(t={});var r=lTe(t),o=sTe(e,r.scope,r.onlyTabbable);if(o){var a=n(o,r.cycle);a&&M5(a.node,r.focusOptions)}},cTe=function(e,t){t===void 0&&(t={}),OG(e,t,function(n,r){var o=n.next,a=n.first;return o||r&&a})},dTe=function(e,t){t===void 0&&(t={}),OG(e,t,function(n,r){var o=n.prev,a=n.last;return o||r&&a})},MG=function(e,t,n){var r,o=iTe(e,(r=t.onlyTabbable)!==null&&r!==void 0?r:!0),a=o[n];a&&M5(a.node,t.focusOptions)},uTe=function(e,t){t===void 0&&(t={}),MG(e,t,"first")},fTe=function(e,t){t===void 0&&(t={}),MG(e,t,"last")};function $5(e){setTimeout(e,1)}var pTe=function(t){return t&&"current"in t?t.current:t},mTe=function(){return document&&document.activeElement===document.body},hTe=function(){return mTe()||K4e()},Ad=null,hd=null,Dd=null,Jp=!1,gTe=function(){return!0},vTe=function(t){return(Ad.whiteList||gTe)(t)},bTe=function(t,n){Dd={observerNode:t,portaledElement:n}},yTe=function(t){return Dd&&Dd.portaledElement===t};function T6(e,t,n,r){var o=null,a=e;do{var s=r[a];if(s.guard)s.node.dataset.focusAutoGuard&&(o=s);else if(s.lockItem){if(a!==e)return;o=null}else break}while((a+=n)!==t);o&&(o.node.tabIndex=0)}var ETe=function(t){return t?!!Jp:Jp==="meanwhile"},wTe=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},CTe=function(t,n){return n.some(function(r){return wTe(t,r,r)})},jv=function(){var t=!1;if(Ad){var n=Ad,r=n.observed,o=n.persistentFocus,a=n.autoFocus,s=n.shards,i=n.crossFrame,l=n.focusOptions,d=r||Dd&&Dd.portaledElement,u=document&&document.activeElement;if(d){var f=[d].concat(s.map(pTe).filter(Boolean));if((!u||vTe(u))&&(o||ETe(i)||!hTe()||!hd&&a)&&(d&&!(TG(f)||u&&CTe(u,f)||yTe(u))&&(document&&!hd&&u&&!a?(u.blur&&u.blur(),document.body.focus()):(t=DG(f,hd,{focusOptions:l}),Dd={})),Jp=!1,hd=document&&document.activeElement),document&&u!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var p=document&&document.activeElement,m=nTe(f),g=m.map(function(v){var b=v.node;return b}).indexOf(p);g>-1&&(m.filter(function(v){var b=v.guard,y=v.node;return b&&y.dataset.focusAutoGuard}).forEach(function(v){var b=v.node;return b.removeAttribute("tabIndex")}),T6(g,m.length,1,m),T6(g,-1,-1,m))}}}return t},$G=function(t){jv()&&t&&(t.stopPropagation(),t.preventDefault())},R5=function(){return $5(jv)},_Te=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||bTe(r,n)},xTe=function(){return null},RG=function(){Jp="just",$5(function(){Jp="meanwhile"})},STe=function(){document.addEventListener("focusin",$G),document.addEventListener("focusout",R5),window.addEventListener("blur",RG)},kTe=function(){document.removeEventListener("focusin",$G),document.removeEventListener("focusout",R5),window.removeEventListener("blur",RG)};function ITe(e){return e.filter(function(t){var n=t.disabled;return!n})}var PG={moveFocusInside:DG,focusInside:TG,focusNextElement:cTe,focusPrevElement:dTe,focusFirstElement:uTe,focusLastElement:fTe,captureFocusRestore:aTe};function TTe(e){var t=e.slice(-1)[0];t&&!Ad&&STe();var n=Ad,r=n&&t&&t.id===n.id;Ad=t,n&&!r&&(n.onDeactivation(),e.filter(function(o){var a=o.id;return a===n.id}).length||n.returnFocus(!t)),t?(hd=null,(!r||n.observed!==t.observed)&&t.onActivation(PG),jv(),$5(jv)):(kTe(),hd=null)}hG.assignSyncMedium(_Te);gG.assignMedium(R5);S4e.assignMedium(function(e){return e(PG)});const ATe=A4e(ITe,TTe)(xTe);var P5=c.forwardRef(function(t,n){return c.createElement(x5,H({sideCar:ATe,ref:n},t))}),LG=x5.propTypes||{};LG.sideCar;nue(LG,["sideCar"]);P5.propTypes={};var NG={},L5={};Object.defineProperty(L5,"__esModule",{value:!0});var DTe=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),OTe=c,MTe=sr;function $Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RTe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function PTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var LTe=function(e){PTe(t,e);function t(){return $Te(this,t),RTe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return DTe(t,[{key:"componentDidMount",value:function(){this.props.innerRef((0,MTe.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(OTe.Component);L5.default=LTe;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=L5;Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n(t).default}});function n(r){return r&&r.__esModule?r:{default:r}}})(NG);const NTe=_r(NG);var FG=c.createContext(),jG=c.createContext();function FTe(e){var t=e.children,n=c.useState(null),r=n[0],o=n[1],a=c.useRef(!1);c.useEffect(function(){return function(){a.current=!0}},[]);var s=c.useCallback(function(i){a.current||o(i)},[]);return c.createElement(FG.Provider,{value:r},c.createElement(jG.Provider,{value:s},t))}var VG=function(t){return Array.isArray(t)?t[0]:t},BG=function(t){if(typeof t=="function"){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.apply(void 0,r)}},Y_=function(t,n){if(typeof t=="function")return BG(t,n);t!=null&&(t.current=n)},A6=function(t){return t.reduce(function(n,r){var o=r[0],a=r[1];return n[o]=a,n},{})},D6=typeof window<"u"&&window.document&&window.document.createElement?c.useLayoutEffect:c.useEffect,jTe=[],VTe=function(t,n,r){r===void 0&&(r={});var o=c.useRef(null),a={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||jTe},s=c.useState({styles:{popper:{position:a.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),i=s[0],l=s[1],d=c.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(m){var g=m.state,v=Object.keys(g.elements);sr.flushSync(function(){l({styles:A6(v.map(function(b){return[b,g.styles[b]||{}]})),attributes:A6(v.map(function(b){return[b,g.attributes[b]]}))})})},requires:["computeStyles"]}},[]),u=c.useMemo(function(){var p={onFirstUpdate:a.onFirstUpdate,placement:a.placement,strategy:a.strategy,modifiers:[].concat(a.modifiers,[d,{name:"applyStyles",enabled:!1}])};return MI(o.current,p)?o.current||p:(o.current=p,p)},[a.onFirstUpdate,a.placement,a.strategy,a.modifiers,d]),f=c.useRef();return D6(function(){f.current&&f.current.setOptions(u)},[u]),D6(function(){if(!(t==null||n==null)){var p=r.createPopper||lH,m=p(t,n,u);return f.current=m,function(){m.destroy(),f.current=null}}},[t,n,r.createPopper]),{state:f.current?f.current.state:null,styles:i.styles,attributes:i.attributes,update:f.current?f.current.update:null,forceUpdate:f.current?f.current.forceUpdate:null}},BTe=function(){},UTe=function(){return Promise.resolve(null)},HTe=[];function zTe(e){var t=e.placement,n=t===void 0?"bottom":t,r=e.strategy,o=r===void 0?"absolute":r,a=e.modifiers,s=a===void 0?HTe:a,i=e.referenceElement,l=e.onFirstUpdate,d=e.innerRef,u=e.children,f=c.useContext(FG),p=c.useState(null),m=p[0],g=p[1],v=c.useState(null),b=v[0],y=v[1];c.useEffect(function(){Y_(d,m)},[d,m]);var E=c.useMemo(function(){return{placement:n,strategy:o,onFirstUpdate:l,modifiers:[].concat(s,[{name:"arrow",enabled:b!=null,options:{element:b}}])}},[n,o,l,s,b]),w=VTe(i||f,m,E),C=w.state,x=w.styles,S=w.forceUpdate,I=w.update,A=c.useMemo(function(){return{ref:g,style:x.popper,placement:C?C.placement:n,hasPopperEscaped:C&&C.modifiersData.hide?C.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:C&&C.modifiersData.hide?C.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:x.arrow,ref:y},forceUpdate:S||BTe,update:I||UTe}},[g,y,n,C,x,I,S]);return VG(u)(A)}function WTe(e){var t=e.children,n=e.innerRef,r=c.useContext(jG),o=c.useCallback(function(a){Y_(n,a),BG(r,a)},[n,r]);return c.useEffect(function(){return function(){return Y_(n,null)}},[]),c.useEffect(function(){dH(!!r,"`Reference` should not be used outside of a `Manager` component.")},[r]),VG(t)({ref:o})}var N5={};Object.defineProperty(N5,"__esModule",{value:!0});var UG=N5.default=void 0,GTe=HG(c),qTe=je,YTe=HG(Mu);function HG(e){return e&&e.__esModule?e:{default:e}}const zG=e=>GTe.default.createElement(qTe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" d="M14.823 15.883a5.5 5.5 0 1 1 1.06-1.06l2.647 2.647c.293.293.53.59 0 1.06s-.767.293-1.06 0zM11.5 15.5a4 4 0 1 0 0-8 4 4 0 0 0 0 8"/></svg>'},e,{newIcon:YTe.default}));zG.displayName="EditorSearchIcon";UG=N5.default=zG;const hp=new Set;let Zp=null;function O6(){if(Zp)return;Zp=mt.bindAll(window,[{type:"dragend",listener:lw},{type:"pointerdown",listener:lw},{type:"pointermove",listener:(()=>{let t=0;return function(){if(t<20){t++;return}lw()}})()}]),Array.from(hp).forEach(t=>{t.onDragStart()})}function lw(){var e;(e=Zp)===null||e===void 0||e(),Zp=null,Array.from(hp).forEach(n=>{n.onDragEnd()})}function KTe(){return mt.bindAll(window,[{type:"dragstart",listener:O6},{type:"dragenter",listener:O6}])}let n0=null;function XTe(e){return n0||(n0=KTe()),hp.add(e),e.onRegister({isDragging:Zp!==null}),function(){if(hp.delete(e),hp.size===0){var n;(n=n0)===null||n===void 0||n(),n0=null}}}let gp=null;function Uf(){gp!=null&&(window.clearTimeout(gp),gp=null)}function M6(e,t){Uf(),gp=window.setTimeout(()=>{gp=null,e()},t)}let Ca=null;function JTe(e){let t="waiting-to-show";function n(){return!!(Ca&&Ca.entry===e)}function r(){n()&&(Uf(),Ca=null)}function o(){n()&&e.done(),t="done",r()}function a(){n()&&e.hide({isImmediate:!0}),o()}function s(){if(n()){if(t==="waiting-to-hide"){t="shown",Uf();return}if(t==="hide-animating"){t="shown",Uf(),e.show({isImmediate:!1});return}}}function i({isImmediate:m}){if(n()){if(t==="waiting-to-show"){a();return}if(t!=="waiting-to-hide"){if(m){a();return}t="waiting-to-hide",M6(()=>{t="hide-animating",e.hide({isImmediate:!1})},e.delay)}}}function l(){n()&&t==="hide-animating"&&o()}function d(){return t==="shown"||t==="waiting-to-hide"||t==="hide-animating"}function u(){return e.source.type==="mouse"?e.source.mouse:null}function f(){const m=!!(Ca&&Ca.isVisible());Ca&&(Uf(),Ca.entry.hide({isImmediate:!0}),Ca.entry.done(),Ca=null),Ca={entry:e,isVisible:d};function g(){t="shown",e.show({isImmediate:m})}if(m){g();return}t="waiting-to-show",M6(g,e.delay)}return f(),{keep:s,abort:r,isActive:n,requestHide:i,finishHideAnimation:l,mousePosition:u()}}function ZTe(e,t){const n=bH();return t?`${n(e)}`:void 0}const WG="tooltipPrimitiveZindex",QTe=M({zindex:`var(${WG})`,cursor:"default"}),GG=c.forwardRef(function({style:t,className:n,children:r,placement:o,testId:a,onMouseOut:s,onMouseOver:i,id:l},d){const u={...t,[WG]:Qt.tooltip()};return k("div",{ref:d,style:u,"data-testid":a?`${a}--wrapper`:void 0},k("div",{role:"tooltip",className:n,onMouseOut:s,onMouseOver:i,css:QTe,"data-placement":o,"data-testid":a,id:l},r))});GG.displayName="TooltipPrimitive";const eAe=M({boxSizing:"border-box",maxWidth:"240px",padding:"var(--ds-space-025, 2px) var(--ds-space-075, 6px)",backgroundColor:`var(--ds-background-neutral-bold, ${mn})`,borderRadius:"var(--ds-border-radius, 3px)",color:`var(--ds-text-inverse, ${Ve})`,font:'var(--ds-font-body-UNSAFE_small, normal 400 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)',insetBlockStart:"var(--ds-space-0, 0px)",insetInlineStart:"var(--ds-space-0, 0px)",overflowWrap:"break-word",wordWrap:"break-word"}),tAe=M({maxWidth:"420px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),qG=c.forwardRef(function({style:t,className:n,children:r,truncate:o,placement:a,testId:s,onMouseOut:i,onMouseOver:l,id:d},u){return k(GG,{ref:u,style:t,className:n,placement:a,testId:s,id:d,onMouseOut:i,onMouseOver:l,css:[eAe,o?tAe:null]},r)});qG.displayName="TooltipContainer";function $6(e){const t=e||{top:0,left:0};return{getBoundingClientRect:()=>({top:t.top,left:t.left,bottom:t.top,right:t.left,width:0,height:0}),clientWidth:0,clientHeight:0}}const nAe=Qt.tooltip(),R6={componentName:"tooltip",packageName:"@atlaskit/tooltip",packageVersion:"18.9.3"},rAe={top:"bottom",bottom:"top",left:"right",right:"left"},oAe=e=>e.split("-")[0];function Bt({children:e,position:t="bottom",mousePosition:n="bottom",content:r,truncate:o=!1,component:a=qG,tag:s="div",testId:i,delay:l=300,onShow:d=Nt,onHide:u=Nt,canAppear:f,hideTooltipOnClick:p=!1,hideTooltipOnMouseDown:m=!1,analyticsContext:g,strategy:v="fixed",ignoreTooltipPointerEvents:b=!1,isScreenReaderAnnouncementDisabled:y=!1}){const E=t==="mouse"?n:t,w=Iv({fn:d,action:"displayed",analyticsData:g,...R6}),C=Iv({fn:u,action:"hidden",analyticsData:g,...R6}),x=c.useRef(null),[S,I]=c.useState("hide"),A=c.useRef(null),T=c.useRef(null),O=te=>{T.current=te,A.current=te?te.firstElementChild:null},D=c.useCallback(te=>{A.current=te},[]),$=Ma(S),L=Ma(w),F=Ma(C),B=Ma(l),V=Ma(f),Y=c.useRef(!1),J=c.useCallback(te=>{x.current=te,Y.current=!1},[]),z=c.useCallback(()=>{x.current&&(Y.current&&F.current(),x.current=null,Y.current=!1,I("hide"))},[F]),ce=c.useCallback(()=>{x.current&&(x.current.abort(),Y.current&&F.current(),x.current=null)},[F]);c.useEffect(function(){return function(){x.current&&ce()}},[ce]);const le=c.useRef(!1);c.useEffect(()=>XTe({onRegister({isDragging:te}){le.current=te},onDragStart(){var te;(te=x.current)===null||te===void 0||te.requestHide({isImmediate:!0}),le.current=!0},onDragEnd(){le.current=!1}}),[]);const j=c.useCallback(te=>{var xe;if(le.current)return;if(x.current&&!x.current.isActive()&&ce(),x.current&&x.current.isActive()){x.current.keep();return}if(V.current&&!((xe=V.current)!==null&&xe!==void 0&&xe.call(V)))return;const he={source:te,delay:B.current,show:({isImmediate:$e})=>{Y.current||(Y.current=!0,L.current()),I($e?"show-immediate":"fade-in")},hide:({isImmediate:$e})=>{I($e?"hide":"before-fade-out")},done:z},we=JTe(he);J(we)},[V,B,z,J,ce,L]),Z=c.useCallback(()=>{var te;(te=x.current)===null||te===void 0||te.requestHide({isImmediate:!0})},[x]);YU({onClose:Z,isDisabled:S==="hide"||S==="fade-out"}),c.useEffect(()=>S==="hide"?Nt:(S==="before-fade-out"&&I("fade-out"),mt.bind(window,{type:"scroll",listener:()=>{x.current&&x.current.requestHide({isImmediate:!0})},options:{capture:!0,passive:!0,once:!0}})),[S]);const K=c.useCallback(()=>{m&&x.current&&x.current.requestHide({isImmediate:!0})},[m]),oe=c.useCallback(()=>{p&&x.current&&x.current.requestHide({isImmediate:!0})},[p]),X=c.useCallback(te=>{if(T.current&&te.target===T.current||te.defaultPrevented)return;te.preventDefault();const xe=t==="mouse"?{type:"mouse",mouse:$6({left:te.clientX,top:te.clientY})}:{type:"keyboard"};j(xe)},[t,j]),pe=c.useCallback(te=>{T.current&&te.target===T.current||te.defaultPrevented||(te.preventDefault(),x.current&&x.current.requestHide({isImmediate:!1}))},[]),ee=t==="mouse"?te=>{var xe;(xe=x.current)!==null&&xe!==void 0&&xe.isActive()&&(x.current.mousePosition=$6({left:te.clientX,top:te.clientY}))}:void 0,ne=c.useCallback(()=>{if(x.current&&x.current.isActive()){x.current.keep();return}},[]),Q=c.useCallback(()=>{j({type:"keyboard"})},[j]),se=c.useCallback(()=>{x.current&&x.current.requestHide({isImmediate:!1})},[]),ue=c.useCallback(te=>{te==="exiting"&&$.current==="fade-out"&&x.current&&x.current.finishHideAnimation()},[$]),ve=s,ke=S!=="hide"&&!!r,ge=!y&&ke,N=S!=="hide"&&S!=="fade-out";xI({isOpen:ke});const R=()=>{var te;if(t==="mouse"&&(te=x.current)!==null&&te!==void 0&&te.mousePosition){var xe;return(xe=x.current)===null||xe===void 0?void 0:xe.mousePosition}return A.current||void 0},P=ZTe("tooltip",ge),W={onMouseOver:X,onMouseOut:pe,onMouseMove:ee,onMouseDown:K,onClick:oe,onFocus:Q,onBlur:se};i&&(W["data-testid"]=`${i}--container`);const re=typeof e=="function";c.useEffect(()=>{if(re)return;const te=A.current;if(!(!te||!P))return te.setAttribute("aria-describedby",P),()=>te.removeAttribute("aria-describedby")},[re,P]);const be=ge?_.createElement("span",{"data-testid":i?`${i}-hidden`:void 0,hidden:!0,id:P},typeof r=="function"?r({}):r):null;return _.createElement(_.Fragment,null,typeof e=="function"?_.createElement(_.Fragment,null,e({...W,"aria-describedby":P,ref:D}),be):_.createElement(ve,H({},W,{ref:O,role:"presentation"}),e,be),ke?_.createElement(yh,{zIndex:nAe},_.createElement(Ru,{placement:E,referenceElement:R(),strategy:v},({ref:te,style:xe,update:he,placement:we})=>{const $e=t==="mouse"?void 0:rAe[oAe(we)];return _.createElement(xu,{appear:!0},N&&_.createElement(eh,{distance:"constant",entranceDirection:$e,exitDirection:$e,onFinish:ue,duration:S==="show-immediate"?0:Qm},({className:Fe})=>_.createElement(a,{ref:te,className:`Tooltip ${Fe}`,style:{...xe,...b&&{pointerEvents:"none"}},truncate:o,placement:E,testId:R()?i:i&&`${i}--unresolved`,onMouseOut:pe,onMouseOver:ne},typeof r=="function"?r({update:he}):r)))})):null)}Bt.displayName="Tooltip";const YG=e=>e.replace(/_/g,"-"),aAe=e=>({year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}),KG=e=>new Date(e.year,e.month-1,e.day),sAe=e=>e%4===0&&e%100!==0||e%400===0,iAe=(e,t)=>t===2&&sAe(e)?29:[31,28,31,30,31,30,31,31,30,31,30,31][t-1],lAe=e=>{const{year:t,month:n,day:r}=e,o=iAe(t,n);return 1<=n&&n<=12&&1<=r&&r<=o},cAe=e=>{const t=aAe(new Date),{year:n,month:r,day:o}=e,a=n<100?2e3+n:n,s=isNaN(a)?t.year:a,i=!isNaN(r)&&r!==0?r:t.month,l=!isNaN(o)&&o!==0?o:t.day;return{year:s,month:i,day:l}},P6=new Date(NaN),z0={year:1993,month:2,day:18},dAe=KG(z0),uAe=/(\d+)[^\d]+(\d+)[^\d]+(\d+)\.?/,fAe=/(\d+)[^\d]*(\d+)?[^\d]*(\d+)?\.?/,L6=e=>e.replace(/\u200E/g,""),N6=e=>e.splice(1,4).map(t=>parseInt(t,10)),pAe=e=>{const t=YG(e),r=Intl.DateTimeFormat(t).format(dAe),a=L6(r).match(uAe);if(!a)throw new Error("Unable to create DateParser");const s=N6(a),i=s.indexOf(z0.year),l=s.indexOf(z0.month),d=s.indexOf(z0.day);return u=>{const f=L6(u).match(fAe);if(!f)return P6;const p=N6(f),m={year:p[i],month:p[l],day:p[d]},g=cAe(m);return lAe(g)?KG(g):P6}},F6=e=>e.reduce((t,n)=>({...t,[n.type]:n.value}),{}),K_=(e,t)=>{const n=YG(e),r=f=>Intl.DateTimeFormat(n).format(f),o=f=>Intl.DateTimeFormat(n,{hour:"numeric",minute:"numeric"}).format(f),a=(f=0,p)=>{const m=Intl.DateTimeFormat(n,{weekday:p}),g=[0,1,2,3,4,5,6];return(f>0?[...g.slice(f),...g.slice(0,f)]:g).map(b=>{const y=m.format(new Date(2e3,9,b+1,12)).replace(/[\s\u200E]/g,"");return p==="short"?y.substring(0,3):y})};return{getDaysShort:(f=0)=>a(f,"short"),getDaysLong:(f=0)=>a(f,"long"),getMonthsLong:()=>{const f=Intl.DateTimeFormat(n,{month:"long"});return[0,1,2,3,4,5,6,7,8,9,10,11].map(p=>f.format(new Date(2020,p,1)))},formatDate:r,formatTime:o,parseDate:f=>pAe(n)(f),formatToParts:(f=new Date)=>{const p=new Intl.DateTimeFormat(n,t),m=new Date(f);m.setFullYear(2020);const g=F6(p.formatToParts(m)),v=F6(p.formatToParts(f));return g.year&&(g.year=v.year),g.hour==="00"&&m.getHours()===12&&(g.hour="12"),g}}},mAe=({dimensions:e})=>M`
  ${uke}
  background: ${`var(--ds-background-neutral, ${Ke})`};
  color: ${`var(--ds-icon, ${bk})`};
  ${fke}
  max-height: 100%;
  max-width: 100%;
  width: ${e.width};
  height: ${e.height};
`,hAe=e=>k("div",H({css:mAe({dimensions:e.dimensions})},e),e.children);class XG extends c.Component{render(){const{dimensions:t,testId:n}=this.props,r=KSe(t);return _.createElement(hAe,{"data-testid":n||"media-card-loading","data-test-loading":!0,dimensions:r},_.createElement(rr,null))}}const JG=_.createContext({}),gAe=()=>{const e=c.useContext(JG);return _.createElement(XG,e)},vAe=xh({loader:()=>de(()=>import("./cardWithMediaClient-B5MhzMPc.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32])).then(e=>e.CardWithMediaClient),loading:()=>_.createElement(gAe,null)}),bAe=e=>_.createElement(JG.Provider,{value:e},_.createElement(vAe,e)),ZG=_.createContext({}),yAe=()=>{const e=c.useContext(ZG);return _.createElement(XG,e)},EAe=xh({loader:()=>de(()=>import("./cardWithMediaClientV2-Cq7osUrj.js").then(e=>e.c),__vite__mapDeps([33,1,2,18,19,3,4,5,6,7,8,9,10,20,12,21,22,11,13,14,15,16,17,23,24,25,26,27,28,29,30,31,34,32,35])).then(e=>e.CardWithMediaClientV2),loading:()=>_.createElement(yAe,null)}),wAe=e=>_.createElement(ZG.Provider,{value:e},_.createElement(EAe,e));function j6(e){return Pt("platform.media-experience.cardv2_7zann")?_.createElement(wAe,e):_.createElement(bAe,e)}class ay{constructor(t){q(this,"_isAnalyticsEvent",!0),q(this,"clone",()=>{const n={...this.payload};return new ay({payload:n})}),this.payload=t.payload}update(t){return typeof t=="function"&&(this.payload=t(this.payload)),typeof t=="object"&&(this.payload={...this.payload,...t}),this}}class F5 extends ay{constructor(t){super(t),q(this,"_isUIAnalyticsEvent",!0),q(this,"clone",()=>{if(this.hasFired)return null;const n=[...this.context],r=[...this.handlers],o=JSON.parse(JSON.stringify(this.payload));return new F5({context:n,handlers:r,payload:o})}),q(this,"fire",n=>{this.hasFired||(this.handlers.forEach(r=>r(this,n)),this.hasFired=!0)}),this.context=t.context||[],this.handlers=t.handlers||[],this.hasFired=!1}update(t){return this.hasFired?this:super.update(t)}}const QG={getAtlaskitAnalyticsEventHandlers:Lt.func,getAtlaskitAnalyticsContext:Lt.func},V6=()=>[];let j5=class extends c.Component{constructor(t){super(t),q(this,"getChildContext",()=>({getAtlaskitAnalyticsEventHandlers:this.getAnalyticsEventHandlers,getAtlaskitAnalyticsContext:this.getAtlaskitAnalyticsContext})),q(this,"getAnalyticsEventHandlers",()=>{const{channel:n,onEvent:r}=this.props,{getAtlaskitAnalyticsEventHandlers:o=V6}=this.context;return[(s,i)=>{(n==="*"||n===i)&&r(s,i)},...o()]}),q(this,"getAtlaskitAnalyticsContext",()=>{const{getAtlaskitAnalyticsContext:n=V6}=this.context;return n()}),this.contextValue={getAtlaskitAnalyticsContext:this.getAtlaskitAnalyticsContext,getAtlaskitAnalyticsEventHandlers:this.getAnalyticsEventHandlers}}render(){const{children:t}=this.props;return _.createElement(vu.Provider,{value:this.contextValue},t)}};q(j5,"contextTypes",QG);q(j5,"childContextTypes",QG);const eq=()=>c.useContext(vu),Vv=e=>{const t=c.useRef(e);return t.current=e,t},CAe=({children:e,channel:t,onEvent:n})=>{const r=eq(),o=Vv(n),a=Vv(t),s=c.useCallback(()=>{const l=(d,u)=>{(a.current==="*"||a.current===u)&&o.current(d,u)};return[...r.getAtlaskitAnalyticsEventHandlers(),l]},[r,a,o]),i=c.useMemo(()=>({getAtlaskitAnalyticsEventHandlers:s,getAtlaskitAnalyticsContext:r.getAtlaskitAnalyticsContext}),[r,s]);return _.createElement(vu.Provider,{value:i},e)};var _Ae={VITE_SHOULD_THROW_ON_INVARIANTS:"false",VITE_CANVAS_RELAY_URL:"https://canvas-workers.atlassian.com",VITE_CANVAS_RELAY_WSS_URL:"wss://canvas-workers.atlassian.com",VITE_SHORT_COMMIT_HASH:"79b5d4",VITE_USER_NODE_ENV:"production",SENTRY_DSN:"https://c539b3edb4ba4437b37ac70f1d1a088a@o55978.ingest.sentry.io/4505121292484608",SENTRY_ENV:"prod",SENTRY_RELEASE:"dev",ENVTYPE:"prod",BUILD_MODE:"prod-east"};const B6=e=>{var t;return typeof process<"u"&&process!==null&&((t=_Ae)===null||t===void 0?void 0:t.ANALYTICS_NEXT_MODERN_CONTEXT)||Pt("platform.analytics-next-use-modern-context_fqgbx")?_.createElement(CAe,e):_.createElement(j5,e)};function V5(){const e=eq();return{createAnalyticsEvent:oF(n=>new F5({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:n}),[e])}}function xAe(e={},t){const{createAnalyticsEvent:n}=V5(),r=c.useRef({});return{patchedEventProps:c.useMemo(()=>{const a=r.current;return Object.keys(a).filter(s=>!(s in e)).forEach(s=>delete a[s]),Object.keys(e).reduce((s,i)=>{const l=e[i];if(!["object","function"].includes(typeof l))return s;const d=t[i];if(i in a&&a[i].eventCreator===l&&a[i].propValue===d)return{...s,[i]:a[i].wrappedCallback};const u=(...f)=>{const p=typeof l=="function"?l(n,t):n(l);d&&typeof d=="function"&&d(...f,p)};return a[i]={eventCreator:l,wrappedCallback:u,propValue:d},{...s,[i]:u}},{})},[e,t,n,r])}}const SAe=(e={})=>t=>{const n=c.forwardRef((r,o)=>{const{patchedEventProps:a}=xAe(e,r),{createAnalyticsEvent:s}=V5();return _.createElement(t,H({},r,a,{createAnalyticsEvent:s,ref:o}))});return n.displayName=`WithAnalyticsEvents(${t.displayName||t.name})`,n};function Bv({fn:e,action:t,componentName:n,actionSubject:r,packageName:o,packageVersion:a,analyticsData:s}){const{createAnalyticsEvent:i}=V5(),l=Vv(s),d=Vv(e);return c.useCallback(f=>{const p=i({action:t,actionSubject:r||n,attributes:{componentName:n,packageName:o,packageVersion:a}}),m={componentName:n,packageName:o,packageVersion:a,...l.current};p.context.push(m);const g=p.clone();g&&g.fire("atlaskit"),d.current(f,p)},[t,n,r,o,a,i,l,d])}function es(e,t,n,r){typeof process<"u"}const tq=c.createContext("cozy"),nq=c.createContext("border"),kAe=(e,t)=>k(e,t),U6=M({display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}),IAe=ie({outline:"none",overflow:"hidden",textAlign:"left"}),H6=M({display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),TAe=M({font:'var(--ds-font-body, normal 400 14px/20px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),z6=M({wordBreak:"break-word"}),AAe=M({color:`var(--ds-text-subtlest, ${jt})`,font:'var(--ds-font-body-UNSAFE_small, normal 400 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),DAe=M({color:`var(--ds-text-disabled, ${jt})`}),OAe=M({position:"relative"}),MAe=M({display:"flex",boxSizing:"border-box",width:"100%",minHeight:40,margin:"var(--ds-space-0, 0px)",alignItems:"center",border:0,outline:0,textDecoration:"none",userSelect:"none","&::-moz-focus-inner":{border:0},"&:hover":{textDecoration:"none"}}),$Ae={cozy:M({paddingBlock:"var(--ds-space-100, 8px)",paddingInline:"var(--ds-space-200, 16px)"}),compact:M({minHeight:32,paddingBlock:"var(--ds-space-050, 4px)",paddingInline:"var(--ds-space-150, 12px)"})},RAe=M({cursor:"pointer"}),PAe=M({backgroundColor:"var(--ds-background-neutral-subtle, transparent)",color:"currentColor","&:visited":{color:"currentColor"},"&:hover":{backgroundColor:`var(--ds-background-neutral-subtle-hovered, ${Ke})`,color:"currentColor"},"&:active":{backgroundColor:`var(--ds-background-neutral-subtle-pressed, ${Dt})`,boxShadow:"none",color:"currentColor"}}),LAe=M({cursor:"not-allowed","&, :hover, :active":{backgroundColor:"var(--ds-background-neutral-subtle, transparent)",color:`var(--ds-text-disabled, ${jt})`}}),NAe=M({"&::before":{width:2,position:"absolute",background:"var(--ds-border-selected, transparent)",content:'""',insetBlockEnd:0,insetBlockStart:0,insetInlineStart:0}}),FAe=M({"&::before":{width:4,position:"absolute",background:"var(--ds-border-selected, transparent)",borderRadius:"0 var(--ds-border-radius, 4px) var(--ds-border-radius, 4px) 0",content:'""',insetBlockEnd:"var(--ds-space-150, 12px)",insetBlockStart:"var(--ds-space-150, 12px)",insetInlineStart:0}}),jAe=M({backgroundColor:`var(--ds-background-selected, ${Ke})`,color:"var(--ds-text-selected, currentColor)","&:visited":{color:"var(--ds-text-selected, currentColor)"},"&:hover":{backgroundColor:`var(--ds-background-selected-hovered, ${Ke})`,color:"var(--ds-text-selected, currentColor)"},"&:active":{backgroundColor:`var(--ds-background-selected-pressed, ${Dt})`,color:"var(--ds-text-selected, currentColor)"}}),VAe={compact:"space.100",cozy:"space.150"},BAe=({children:e,title:t,description:n,iconAfter:r,iconBefore:o,overrides:a,className:s,shouldTitleWrap:i=!1,shouldDescriptionWrap:l=!1,isDisabled:d=!1,isSelected:u=!1,testId:f})=>{es("@atlaskit/menu","overrides",a!==void 0,"");const p=c.useContext(tq),m=c.useContext(nq),g=a&&a.Title&&a.Title.render||kAe,v=s;return k(js,null,({css:b,cx:y})=>k(vc,{isInset:!0},e({className:y([b([OAe,MAe,$Ae[p],!d&&!u&&PAe,!d&&u&&[jAe,[m==="border"&&NAe,m==="notch"&&FAe]],d?LAe:RAe]),v]),children:k(Me,{as:"span",spread:"space-between",alignBlock:"center",space:VAe[p],grow:"fill",testId:f&&`${f}--container`},o&&k("span",{"data-item-elem-before":!0,css:U6,"data-testid":f&&`${f}--icon-before`},o),t&&k(Rt,{alignBlock:"center",grow:"fill",xcss:IAe},g("span",{children:t,className:b(TAe,i?z6:H6),"data-item-title":!0}),n&&k("span",{"data-item-description":!0,css:[AAe,d&&DAe,l?z6:H6]},n)),r&&k("span",{"data-item-elem-after":!0,css:U6,"data-testid":f&&`${f}--icon-after`},r))})))},Od=c.memo(c.forwardRef((e,t)=>{const{children:n,cssFn:r=Nt,description:o,iconAfter:a,iconBefore:s,isDisabled:i=!1,isSelected:l=!1,onClick:d,testId:u,overrides:f,onMouseDown:p,shouldTitleWrap:m,shouldDescriptionWrap:g,className:v,interactionName:b,...y}=e,E=p,w=c.useContext(Lu),C=c.useCallback(x=>{w==null||w.tracePress(b,x.timeStamp),d==null||d(x)},[d,w,b]);return n?(es("@atlaskit/menu","cssFn",r!==Nt,""),k(BAe,H({className:v},y,{overrides:f,iconBefore:s,iconAfter:a,isDisabled:i,isSelected:l,description:o,title:n,shouldTitleWrap:m,shouldDescriptionWrap:g,css:r({isSelected:l,isDisabled:i}),testId:u&&`${u}--primitive`}),({children:x,className:S})=>k("button",H({"data-testid":u},y,{className:S,ref:t,disabled:i,onClick:et("platform_button_item-add-ufo-metrics")?C:d,onMouseDown:E,type:"button"}),x))):null})),UAe=c.createContext({}),HAe=()=>{const{routerLinkComponent:e}=c.useContext(UAe);if(e)return e},zAe=M({color:`var(--ds-text-subtle, ${Vn})`,font:'var(--ds-font-heading-xxsmall, normal 600 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)',paddingBlock:"var(--ds-space-0, 0px)",paddingInline:"var(--ds-space-200, 16px)"}),WAe=c.memo(({children:e,testId:t,headingLevel:n=2,id:r,cssFn:o=Nt,className:a,...s})=>{es("@atlaskit/menu","cssFn",o!==Nt,"");const i=M(o(void 0));return k("div",H({css:[zAe,i],role:"heading","aria-level":n,"data-testid":t,"data-ds--menu--heading-item":!0,id:r,className:a},s),e)}),sy=8,X_=sy*2.5,rq=sy*.75,GAe=16,qAe=sy,oq=3,W6=X_+(GAe-qAe)-oq,YAe=rq+oq,cw=sy*.75,KAe="--ds-menu-seperator-color",XAe=M({"&::before, &::after":{display:"block",height:cw,content:'""'},"& [data-ds--menu--heading-item]":{marginBlockEnd:rq,marginBlockStart:X_,"&:first-of-type":{marginBlockStart:X_-cw}},"& [data-ds--menu--skeleton-heading-item]":{marginBlockEnd:YAe,marginBlockStart:W6,"&:first-of-type":{marginBlockStart:W6-cw}},"&:focus":{outlineOffset:-1}}),JAe=M({flexShrink:1,overflow:"auto"}),ZAe=M({flexShrink:0}),QAe=M({borderBlockStart:`1px solid var(${KAe}, ${`var(--ds-border, ${Mn})`})`}),eDe=M({"[data-section] + &":{marginBlockStart:-6}}),tDe=c.forwardRef(({children:e,overrides:t,title:n,titleId:r,testId:o,isScrollable:a,hasSeparator:s,id:i,isList:l=!1,className:d,...u},f)=>{es("@atlaskit/menu","overrides",t!==void 0,"");const p=t&&t.HeadingItem&&t.HeadingItem.cssFn,m=l?k("ul",{style:{margin:0,padding:0}},c.Children.map(c.Children.toArray(e),(v,b)=>k("li",{style:{listStyleType:"none",margin:0,padding:0},key:b},v))):e,g=n!==void 0?k(c.Fragment,null,k(WAe,{cssFn:p,testId:o&&`${o}--heading`,"aria-hidden":!0},n),m):k(c.Fragment,null,m);return k("div",H({},u,{className:d,id:i,css:[XAe,a?JAe:ZAe,s?QAe:eDe],"aria-label":n,"aria-labelledby":r,"data-testid":o,role:"group","data-section":!0,ref:f}),g)}),nDe=M({display:"flex",position:"static",flexDirection:"column",overflow:"auto"}),aq=({isLoading:e,maxWidth:t,minWidth:n,minHeight:r,maxHeight:o,testId:a,role:s,spacing:i="cozy",className:l,...d})=>k(tq.Provider,{value:i},k(nq.Provider,{value:"border"},k("div",H({"aria-busy":e,style:{minWidth:n,maxWidth:t,minHeight:r,maxHeight:o},css:nDe,"data-testid":a,role:s,className:l},d)))),vt=(e,t=!1)=>{const n=_u(uue);return n[e]?n[e].enabled:t},Ih=c.memo(function({children:t}){return h.jsxs(h.Fragment,{children:[h.jsx(kv,{label:""}),t]})}),Th=({testId:e,onItemDelete:t,onItemBlur:n,autoFocus:r})=>h.jsx(dn,{testId:e,appearance:"subtle",icon:pc,label:"",onClick:t,onBlur:n,autoFocus:r}),ec=400,rDe=260,oDe=450,aDe=400,Ec={menu:e=>({...e,width:"100%",minWidth:"260px",position:"relative",boxShadow:"none"}),valueContainer:e=>({...e,padding:"0"}),control:e=>({...e,display:"flex",flexWrap:"nowrap",justifyContent:"flex-start",paddingLeft:U("space.150",".75rem"),paddingRight:U("space.150",".75rem")}),placeholder:e=>({...e,left:U("space.300","1.5rem"),paddingLeft:U("space.150",".75rem")}),input:e=>({...e,overflow:"hidden",marginLeft:U("space.100","0.5rem")})},Ah={menu:e=>({...e,width:"100%",minWidth:"260px",position:"static"}),valueContainer:e=>({...e,padding:"0"}),control:e=>({...e,display:"flex",flexWrap:"nowrap",justifyContent:"flex-start",border:"none"}),placeholder:e=>({...e,left:U("space.300","1.5rem")}),input:e=>({...e,marginLeft:U("space.100","0.5rem"),"> div > input":{width:"100% !important"}})},sq={placeholder:e=>({...e,left:"auto",marginLeft:U("space.150",".75rem")}),control:e=>({...e,paddingLeft:0,paddingRight:0})},iq=({textAreaRef:e,maxWidthReachedRef:t,expandDirection:n="vertical",maxPopoverEditWidth:r=ec})=>c.useCallback(()=>{var i;const o=e.current;if(!o)return;o.style.minHeight="100%",o.style.height="100%",o.style.minWidth="auto",o.style.whiteSpace="nowrap";const s=Math.min(o.scrollWidth+10,r);if(s>=r&&!t.current?t.current=!0:s<r&&t.current&&(t.current=!1),o.style.minWidth!==`${s}px`&&(o.style.minWidth=`${s}px`),n==="vertical"&&t.current){const l=window.innerHeight/2,d=o.getBoundingClientRect().top,u=((i=o.parentElement)==null?void 0:i.clientHeight)||0;o.style.whiteSpace="normal",o.style.height=`${Math.max(u,o.scrollHeight)}px`,d>l?o.style.bottom="0px":o.style.top="0px"}},[n,r,t,e]),Dh=({currentValues:e,indexToRemove:t})=>e.filter((n,r)=>r!==t);function sDe(e,t){const n=new Map;function r(i){return n.has(i)}function o(i,l){n.set(i,l)}function a(i){return n.get(i)}function s(){t.delete(e)}return{has:r,get:a,set:o,invalidate:s}}function iDe(e,t){if(t.has(e))return t.get(e);const n=sDe(e,t);return t.set(e,n),n}const lq=new Map,B5=c.createContext(lq),lDe=({children:e})=>h.jsx(B5.Provider,{value:lq,children:e}),cDe=()=>{const e=c.useContext(B5);if(!e)throw new Error("useMediaClientCache must be used within a MediaClientCacheProvider");return e},dDe=e=>{const t=c.useContext(B5);if(!t)throw new Error("useScopedMediaClientCache must be used within a MediaClientCacheProvider");return iDe(e,t)},EIt=e=>{const t=cDe(),n=c.useRef(null);c.useEffect(()=>{var r;e&&e!==n.current&&(t.has(e)&&((r=t.get(e))==null||r.invalidate()),n.current=e)},[e])},U5=e=>{if(e)return fe.useSelector(t=>XS(t,{contentId:e}))};function Fu(e){const t=U5(e??null);return c.useMemo(()=>{if(t)return Jle(t)},[t])}const uDe=750,Oh=_.createContext(null),fDe=({children:e})=>{const[t,n]=c.useState(null);return c.useEffect(()=>{const r=document.createElement("div");r.style.zIndex=String(uDe),r.className="menu-portal-target",document.body.appendChild(r),n(r)},[]),h.jsx(Oh.Provider,{value:t,children:e})};function H5(e,t){return c.useCallback((...n)=>{try{const r=e(...n);return Promise.resolve(r).catch(o=>{throw $r(o),o}),r}catch(r){if(r instanceof Error)throw $r(r),r}},t)}function Yn(e){c.useEffect(()=>{e()},[e])}function Ya(e,t){const n=c.useRef(e);n.current=e;let r=()=>{};return c.useEffect(()=>{r()},[t]),c.useCallback(o=>([,r]=c.useReducer(a=>a+1,0),n.current(o)),[])}function Mh(e,t){const[n,r]=c.useState(e);return t===void 0?[n,r]:[t,r]}function pDe(){const e=c.useRef(!0);return c.useEffect(()=>()=>{e.current=!1},[]),e}function J_(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}function mDe(e){const t=c.useMemo(()=>e?URL.createObjectURL(e):void 0,[e]);return c.useEffect(()=>()=>{t&&URL.revokeObjectURL(t)},[t]),t}function Ti({onMouseEnter:e,onMouseLeave:t,disableOnMouseDown:n,onMouseDown:r}={disableOnMouseDown:!1}){const[o,a]=c.useState(!1),s=c.useMemo(()=>({...{onMouseEnter:d=>{a(!0),e==null||e(d)},onMouseLeave:d=>{a(!1),t==null||t(d)}},...n?{onMouseDown:d=>{a(!1),r==null||r(d)}}:{}}),[n,r,e,t]);return[o,s,a]}function hDe({onFocus:e,onBlur:t}={}){const[n,r]=c.useState(!1),o=c.useMemo(()=>({onFocus:a=>{r(!0),e==null||e(a)},onBlur:a=>{r(!1),t==null||t(a)}}),[t,e]);return[n,o]}function z5(e,t,n){const r=c.useRef(t);r.current=t;const o=c.useRef(new ResizeObserver((...s)=>{setTimeout(()=>{r.current(...s)},0)})),a=c.useRef([]);return c.useEffect(()=>{const s=Array.isArray(e)?e:e?[e]:[];for(const i of a.current)s.includes(i)||o.current.unobserve(i);for(const i of s)o.current.observe(i,{box:n});a.current=s},[n,e]),c.useEffect(()=>{const s=o.current;return()=>{s.disconnect()}},[]),o.current}function Qp(e,t=!1,n=!1){const[r,o]=c.useState(),a=c.useCallback(()=>{const s=e?{width:t?e.clientWidth:n?e==null?void 0:e.getBoundingClientRect().width:e.offsetWidth,height:t?e.clientHeight:n?e==null?void 0:e.getBoundingClientRect().height:e.offsetHeight}:void 0;la(r,s)||o(s)},[e,r,n,t]);return z5(e,a,"border-box"),r}const gDe=["ctrlKey","metaKey","shiftKey","altKey"];function ca(e,t){return t?t.every(n=>!!e[n]):e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}function vDe(e,t,n=!0){const r=o=>{(Array.isArray(e)?e:[e]).some(a=>o.code===a.code&&gDe.every(s=>{var i;return!!o[s]==!!((i=a.modifiers)!=null&&i.includes(s))}))&&(n&&o.preventDefault(),t())};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}}function sn(e,t,n=!0){c.useEffect(()=>vDe(e??[],t,n),[t,n,e])}function cq(e,t="input:not([type]),input[type=text],textarea,select"){const n=c.useCallback(()=>{const r=typeof e=="function"?e():e,o=r!=null&&r.matches(t)?r:r==null?void 0:r.querySelector(t);return o==null||o.focus(),!!o},[e,t]);c.useEffect(()=>{const r=typeof e=="function"?e():e;if(r&&!n()){const o=new MutationObserver(()=>{n()&&o.disconnect()});return o.observe(r,{subtree:!0,childList:!0}),()=>{o.disconnect()}}},[e,n])}function W5(e,t){const n=c.useRef(e);return n.current=e,c.useMemo(()=>Zm((...r)=>{n.current(...r)},t),[t])}const vf=Symbol();function bDe(e,t,n=500){const[r,o]=c.useState(vf),[a,s]=c.useState([]),i=W5(c.useCallback(()=>{r!==vf&&(t(r,a),o(vf),a&&s([]))},[t,r,a]),n);return c.useEffect(()=>{i.cancel(),o(vf)},[i]),c.useMemo(()=>[r===vf?e:r,(l,d)=>{o(l),d!==void 0&&s([...a,d]),i()}],[r,i,e,a])}function yDe({onUpdate:e}={}){const t=c.useRef({});return c.useRef(new Proxy({},{get(r,o){return r[o]||(t.current[o]=null,r[o]={get current(){return t.current[o]},set current(a){const s=t.current[o];t.current[o]=a,e==null||e(s,a)}}),r[o]}})).current}function EDe(e,t,n,r=!1){const o=c.useContext(Oh);c.useEffect(()=>{const a=i=>{var u;const l=e==null?void 0:e.contains(i.target),d=(u=o==null?void 0:o.childNodes)==null?void 0:u.length;i.target&&!i.defaultPrevented&&!l&&(!r||!d)&&n()},s=window.parent;return document.addEventListener("click",a),s&&s!==window&&s.addEventListener("mousedown",a),()=>{document.removeEventListener("click",a),s&&s!==window&&s.removeEventListener("mousedown",a)}},[n,r,t,e,o])}function dq(e){function t(j,Z,K,oe,X){for(var pe=0,ee=0,ne=0,Q=0,se,ue,ve=0,ke=0,ge,N=ge=se=0,R=0,P=0,W=0,re=0,be=K.length,te=be-1,xe,he="",we="",$e="",Fe="",st;R<be;){if(ue=K.charCodeAt(R),R===te&&ee+Q+ne+pe!==0&&(ee!==0&&(ue=ee===47?10:47),Q=ne=pe=0,be++,te++),ee+Q+ne+pe===0){if(R===te&&(0<P&&(he=he.replace(p,"")),0<he.trim().length)){switch(ue){case 32:case 9:case 59:case 13:case 10:break;default:he+=K.charAt(R)}ue=59}switch(ue){case 123:for(he=he.trim(),se=he.charCodeAt(0),ge=1,re=++R;R<be;){switch(ue=K.charCodeAt(R)){case 123:ge++;break;case 125:ge--;break;case 47:switch(ue=K.charCodeAt(R+1)){case 42:case 47:e:{for(N=R+1;N<te;++N)switch(K.charCodeAt(N)){case 47:if(ue===42&&K.charCodeAt(N-1)===42&&R+2!==N){R=N+1;break e}break;case 10:if(ue===47){R=N+1;break e}}R=N}}break;case 91:ue++;case 40:ue++;case 34:case 39:for(;R++<te&&K.charCodeAt(R)!==ue;);}if(ge===0)break;R++}switch(ge=K.substring(re,R),se===0&&(se=(he=he.replace(f,"").trim()).charCodeAt(0)),se){case 64:switch(0<P&&(he=he.replace(p,"")),ue=he.charCodeAt(1),ue){case 100:case 109:case 115:case 45:P=Z;break;default:P=V}if(ge=t(Z,P,ge,ue,X+1),re=ge.length,0<J&&(P=n(V,he,W),st=i(3,ge,P,Z,L,$,re,ue,X,oe),he=P.join(""),st!==void 0&&(re=(ge=st.trim()).length)===0&&(ue=0,ge="")),0<re)switch(ue){case 115:he=he.replace(S,s);case 100:case 109:case 45:ge=he+"{"+ge+"}";break;case 107:he=he.replace(E,"$1 $2"),ge=he+"{"+ge+"}",ge=B===1||B===2&&a("@"+ge,3)?"@-webkit-"+ge+"@"+ge:"@"+ge;break;default:ge=he+ge,oe===112&&(ge=(we+=ge,""))}else ge="";break;default:ge=t(Z,n(Z,he,W),ge,oe,X+1)}$e+=ge,ge=W=P=N=se=0,he="",ue=K.charCodeAt(++R);break;case 125:case 59:if(he=(0<P?he.replace(p,""):he).trim(),1<(re=he.length))switch(N===0&&(se=he.charCodeAt(0),se===45||96<se&&123>se)&&(re=(he=he.replace(" ",":")).length),0<J&&(st=i(1,he,Z,j,L,$,we.length,oe,X,oe))!==void 0&&(re=(he=st.trim()).length)===0&&(he="\0\0"),se=he.charCodeAt(0),ue=he.charCodeAt(1),se){case 0:break;case 64:if(ue===105||ue===99){Fe+=he+K.charAt(R);break}default:he.charCodeAt(re-1)!==58&&(we+=o(he,se,ue,he.charCodeAt(2)))}W=P=N=se=0,he="",ue=K.charCodeAt(++R)}}switch(ue){case 13:case 10:ee===47?ee=0:1+se===0&&oe!==107&&0<he.length&&(P=1,he+="\0"),0<J*ce&&i(0,he,Z,j,L,$,we.length,oe,X,oe),$=1,L++;break;case 59:case 125:if(ee+Q+ne+pe===0){$++;break}default:switch($++,xe=K.charAt(R),ue){case 9:case 32:if(Q+pe+ee===0)switch(ve){case 44:case 58:case 9:case 32:xe="";break;default:ue!==32&&(xe=" ")}break;case 0:xe="\\0";break;case 12:xe="\\f";break;case 11:xe="\\v";break;case 38:Q+ee+pe===0&&(P=W=1,xe="\f"+xe);break;case 108:if(Q+ee+pe+F===0&&0<N)switch(R-N){case 2:ve===112&&K.charCodeAt(R-3)===58&&(F=ve);case 8:ke===111&&(F=ke)}break;case 58:Q+ee+pe===0&&(N=R);break;case 44:ee+ne+Q+pe===0&&(P=1,xe+="\r");break;case 34:case 39:ee===0&&(Q=Q===ue?0:Q===0?ue:Q);break;case 91:Q+ee+ne===0&&pe++;break;case 93:Q+ee+ne===0&&pe--;break;case 41:Q+ee+pe===0&&ne--;break;case 40:if(Q+ee+pe===0){if(se===0)switch(2*ve+3*ke){case 533:break;default:se=1}ne++}break;case 64:ee+ne+Q+pe+N+ge===0&&(ge=1);break;case 42:case 47:if(!(0<Q+pe+ne))switch(ee){case 0:switch(2*ue+3*K.charCodeAt(R+1)){case 235:ee=47;break;case 220:re=R,ee=42}break;case 42:ue===47&&ve===42&&re+2!==R&&(K.charCodeAt(re+2)===33&&(we+=K.substring(re,R+1)),xe="",ee=0)}}ee===0&&(he+=xe)}ke=ve,ve=ue,R++}if(re=we.length,0<re){if(P=Z,0<J&&(st=i(2,we,P,j,L,$,re,oe,X,oe),st!==void 0&&(we=st).length===0))return Fe+we+$e;if(we=P.join(",")+"{"+we+"}",B*F!==0){switch(B!==2||a(we,2)||(F=0),F){case 111:we=we.replace(C,":-moz-$1")+we;break;case 112:we=we.replace(w,"::-webkit-input-$1")+we.replace(w,"::-moz-$1")+we.replace(w,":-ms-input-$1")+we}F=0}}return Fe+we+$e}function n(j,Z,K){var oe=Z.trim().split(b);Z=oe;var X=oe.length,pe=j.length;switch(pe){case 0:case 1:var ee=0;for(j=pe===0?"":j[0]+" ";ee<X;++ee)Z[ee]=r(j,Z[ee],K).trim();break;default:var ne=ee=0;for(Z=[];ee<X;++ee)for(var Q=0;Q<pe;++Q)Z[ne++]=r(j[Q]+" ",oe[ee],K).trim()}return Z}function r(j,Z,K){var oe=Z.charCodeAt(0);switch(33>oe&&(oe=(Z=Z.trim()).charCodeAt(0)),oe){case 38:return Z.replace(y,"$1"+j.trim());case 58:return j.trim()+Z.replace(y,"$1"+j.trim());default:if(0<1*K&&0<Z.indexOf("\f"))return Z.replace(y,(j.charCodeAt(0)===58?"":"$1")+j.trim())}return j+Z}function o(j,Z,K,oe){var X=j+";",pe=2*Z+3*K+4*oe;if(pe===944){j=X.indexOf(":",9)+1;var ee=X.substring(j,X.length-1).trim();return ee=X.substring(0,j).trim()+ee+";",B===1||B===2&&a(ee,1)?"-webkit-"+ee+ee:ee}if(B===0||B===2&&!a(X,1))return X;switch(pe){case 1015:return X.charCodeAt(10)===97?"-webkit-"+X+X:X;case 951:return X.charCodeAt(3)===116?"-webkit-"+X+X:X;case 963:return X.charCodeAt(5)===110?"-webkit-"+X+X:X;case 1009:if(X.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+X+X;case 978:return"-webkit-"+X+"-moz-"+X+X;case 1019:case 983:return"-webkit-"+X+"-moz-"+X+"-ms-"+X+X;case 883:if(X.charCodeAt(8)===45)return"-webkit-"+X+X;if(0<X.indexOf("image-set(",11))return X.replace(D,"$1-webkit-$2")+X;break;case 932:if(X.charCodeAt(4)===45)switch(X.charCodeAt(5)){case 103:return"-webkit-box-"+X.replace("-grow","")+"-webkit-"+X+"-ms-"+X.replace("grow","positive")+X;case 115:return"-webkit-"+X+"-ms-"+X.replace("shrink","negative")+X;case 98:return"-webkit-"+X+"-ms-"+X.replace("basis","preferred-size")+X}return"-webkit-"+X+"-ms-"+X+X;case 964:return"-webkit-"+X+"-ms-flex-"+X+X;case 1023:if(X.charCodeAt(8)!==99)break;return ee=X.substring(X.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+ee+"-webkit-"+X+"-ms-flex-pack"+ee+X;case 1005:return g.test(X)?X.replace(m,":-webkit-")+X.replace(m,":-moz-")+X:X;case 1e3:switch(ee=X.substring(13).trim(),Z=ee.indexOf("-")+1,ee.charCodeAt(0)+ee.charCodeAt(Z)){case 226:ee=X.replace(x,"tb");break;case 232:ee=X.replace(x,"tb-rl");break;case 220:ee=X.replace(x,"lr");break;default:return X}return"-webkit-"+X+"-ms-"+ee+X;case 1017:if(X.indexOf("sticky",9)===-1)break;case 975:switch(Z=(X=j).length-10,ee=(X.charCodeAt(Z)===33?X.substring(0,Z):X).substring(j.indexOf(":",7)+1).trim(),pe=ee.charCodeAt(0)+(ee.charCodeAt(7)|0)){case 203:if(111>ee.charCodeAt(8))break;case 115:X=X.replace(ee,"-webkit-"+ee)+";"+X;break;case 207:case 102:X=X.replace(ee,"-webkit-"+(102<pe?"inline-":"")+"box")+";"+X.replace(ee,"-webkit-"+ee)+";"+X.replace(ee,"-ms-"+ee+"box")+";"+X}return X+";";case 938:if(X.charCodeAt(5)===45)switch(X.charCodeAt(6)){case 105:return ee=X.replace("-items",""),"-webkit-"+X+"-webkit-box-"+ee+"-ms-flex-"+ee+X;case 115:return"-webkit-"+X+"-ms-flex-item-"+X.replace(A,"")+X;default:return"-webkit-"+X+"-ms-flex-line-pack"+X.replace("align-content","").replace(A,"")+X}break;case 973:case 989:if(X.charCodeAt(3)!==45||X.charCodeAt(4)===122)break;case 931:case 953:if(O.test(j)===!0)return(ee=j.substring(j.indexOf(":")+1)).charCodeAt(0)===115?o(j.replace("stretch","fill-available"),Z,K,oe).replace(":fill-available",":stretch"):X.replace(ee,"-webkit-"+ee)+X.replace(ee,"-moz-"+ee.replace("fill-",""))+X;break;case 962:if(X="-webkit-"+X+(X.charCodeAt(5)===102?"-ms-"+X:"")+X,K+oe===211&&X.charCodeAt(13)===105&&0<X.indexOf("transform",10))return X.substring(0,X.indexOf(";",27)+1).replace(v,"$1-webkit-$2")+X}return X}function a(j,Z){var K=j.indexOf(Z===1?":":"{"),oe=j.substring(0,Z!==3?K:10);return K=j.substring(K+1,j.length-1),z(Z!==2?oe:oe.replace(T,"$1"),K,Z)}function s(j,Z){var K=o(Z,Z.charCodeAt(0),Z.charCodeAt(1),Z.charCodeAt(2));return K!==Z+";"?K.replace(I," or ($1)").substring(4):"("+Z+")"}function i(j,Z,K,oe,X,pe,ee,ne,Q,se){for(var ue=0,ve=Z,ke;ue<J;++ue)switch(ke=Y[ue].call(u,j,ve,K,oe,X,pe,ee,ne,Q,se)){case void 0:case!1:case!0:case null:break;default:ve=ke}if(ve!==Z)return ve}function l(j){switch(j){case void 0:case null:J=Y.length=0;break;default:if(typeof j=="function")Y[J++]=j;else if(typeof j=="object")for(var Z=0,K=j.length;Z<K;++Z)l(j[Z]);else ce=!!j|0}return l}function d(j){return j=j.prefix,j!==void 0&&(z=null,j?typeof j!="function"?B=1:(B=2,z=j):B=0),d}function u(j,Z){var K=j;if(33>K.charCodeAt(0)&&(K=K.trim()),le=K,K=[le],0<J){var oe=i(-1,Z,K,K,L,$,0,0,0,0);oe!==void 0&&typeof oe=="string"&&(Z=oe)}var X=t(V,K,Z,0,0);return 0<J&&(oe=i(-2,X,K,K,L,$,X.length,0,0,0),oe!==void 0&&(X=oe)),le="",F=0,$=L=1,X}var f=/^\0+/g,p=/[\0\r\f]/g,m=/: */g,g=/zoo|gra/,v=/([,: ])(transform)/g,b=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,E=/@(k\w+)\s*(\S*)\s*/,w=/::(place)/g,C=/:(read-only)/g,x=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,I=/([\s\S]*?);/g,A=/-self|flex-/g,T=/[^]*?(:[rp][el]a[\w-]+)[^]*/,O=/stretch|:\s*\w+\-(?:conte|avail)/,D=/([^-])(image-set\()/,$=1,L=1,F=0,B=1,V=[],Y=[],J=0,z=null,ce=0,le="";return u.use=l,u.set=d,e!==void 0&&d(e),u}var uq={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ro={VITE_SHOULD_THROW_ON_INVARIANTS:"false",VITE_CANVAS_RELAY_URL:"https://canvas-workers.atlassian.com",VITE_CANVAS_RELAY_WSS_URL:"wss://canvas-workers.atlassian.com",VITE_SHORT_COMMIT_HASH:"79b5d4",VITE_USER_NODE_ENV:"production",SENTRY_DSN:"https://c539b3edb4ba4437b37ac70f1d1a088a@o55978.ingest.sentry.io/4505121292484608",SENTRY_ENV:"prod",SENTRY_RELEASE:"dev",ENVTYPE:"prod",BUILD_MODE:"prod-east"};function xs(){return(xs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var G6=function(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n},Z_=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!Xb.typeOf(e)},Uv=Object.freeze([]),Ai=Object.freeze({});function em(e){return typeof e=="function"}function q6(e){return e.displayName||e.name||"Component"}function G5(e){return e&&typeof e.styledComponentId=="string"}var Xd=typeof process<"u"&&Ro!==void 0&&(Ro.REACT_APP_SC_ATTR||Ro.SC_ATTR)||"data-styled",q5=typeof window<"u"&&"HTMLElement"in window,wDe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ro!==void 0&&(Ro.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ro.REACT_APP_SC_DISABLE_SPEEDY!==""?Ro.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ro.REACT_APP_SC_DISABLE_SPEEDY:Ro.SC_DISABLE_SPEEDY!==void 0&&Ro.SC_DISABLE_SPEEDY!==""&&Ro.SC_DISABLE_SPEEDY!=="false"&&Ro.SC_DISABLE_SPEEDY));function $h(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var CDe=function(){function e(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=e.prototype;return t.indexOfGroup=function(n){for(var r=0,o=0;o<n;o++)r+=this.groupSizes[o];return r},t.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var o=this.groupSizes,a=o.length,s=a;n>=s;)(s<<=1)<0&&$h(16,""+n);this.groupSizes=new Uint32Array(s),this.groupSizes.set(o),this.length=s;for(var i=a;i<s;i++)this.groupSizes[i]=0}for(var l=this.indexOfGroup(n+1),d=0,u=r.length;d<u;d++)this.tag.insertRule(l,r[d])&&(this.groupSizes[n]++,l++)},t.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],o=this.indexOfGroup(n),a=o+r;this.groupSizes[n]=0;for(var s=o;s<a;s++)this.tag.deleteRule(o)}},t.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var o=this.groupSizes[n],a=this.indexOfGroup(n),s=a+o,i=a;i<s;i++)r+=this.tag.getRule(i)+`/*!sc*/
`;return r},e}(),W0=new Map,Hv=new Map,vp=1,r0=function(e){if(W0.has(e))return W0.get(e);for(;Hv.has(vp);)vp++;var t=vp++;return W0.set(e,t),Hv.set(t,e),t},_De=function(e){return Hv.get(e)},xDe=function(e,t){t>=vp&&(vp=t+1),W0.set(e,t),Hv.set(t,e)},SDe="style["+Xd+'][data-styled-version="5.3.11"]',kDe=new RegExp("^"+Xd+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),IDe=function(e,t,n){for(var r,o=n.split(","),a=0,s=o.length;a<s;a++)(r=o[a])&&e.registerName(t,r)},TDe=function(e,t){for(var n=(t.textContent||"").split(`/*!sc*/
`),r=[],o=0,a=n.length;o<a;o++){var s=n[o].trim();if(s){var i=s.match(kDe);if(i){var l=0|parseInt(i[1],10),d=i[2];l!==0&&(xDe(d,l),IDe(e,d,i[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(s)}}},ADe=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},fq=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(i){for(var l=i.childNodes,d=l.length;d>=0;d--){var u=l[d];if(u&&u.nodeType===1&&u.hasAttribute(Xd))return u}}(n),a=o!==void 0?o.nextSibling:null;r.setAttribute(Xd,"active"),r.setAttribute("data-styled-version","5.3.11");var s=ADe();return s&&r.setAttribute("nonce",s),n.insertBefore(r,a),r},DDe=function(){function e(n){var r=this.element=fq(n);r.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var a=document.styleSheets,s=0,i=a.length;s<i;s++){var l=a[s];if(l.ownerNode===o)return l}$h(17)}(r),this.length=0}var t=e.prototype;return t.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},e}(),ODe=function(){function e(n){var r=this.element=fq(n);this.nodes=r.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(n,r){if(n<=this.length&&n>=0){var o=document.createTextNode(r),a=this.nodes[n];return this.element.insertBefore(o,a||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},e}(),MDe=function(){function e(n){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},e}(),Y6=q5,$De={isServer:!q5,useCSSOMInjection:!wDe},pq=function(){function e(n,r,o){n===void 0&&(n=Ai),r===void 0&&(r={}),this.options=xs({},$De,{},n),this.gs=r,this.names=new Map(o),this.server=!!n.isServer,!this.server&&q5&&Y6&&(Y6=!1,function(a){for(var s=document.querySelectorAll(SDe),i=0,l=s.length;i<l;i++){var d=s[i];d&&d.getAttribute(Xd)!=="active"&&(TDe(a,d),d.parentNode&&d.parentNode.removeChild(d))}}(this))}e.registerId=function(n){return r0(n)};var t=e.prototype;return t.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new e(xs({},this.options,{},n),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(o=(r=this.options).isServer,a=r.useCSSOMInjection,s=r.target,n=o?new MDe(s):a?new DDe(s):new ODe(s),new CDe(n)));var n,r,o,a,s},t.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},t.registerName=function(n,r){if(r0(n),this.names.has(n))this.names.get(n).add(r);else{var o=new Set;o.add(r),this.names.set(n,o)}},t.insertRules=function(n,r,o){this.registerName(n,r),this.getTag().insertRules(r0(n),o)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(r0(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var r=n.getTag(),o=r.length,a="",s=0;s<o;s++){var i=_De(s);if(i!==void 0){var l=n.names.get(i),d=r.getGroup(s);if(l&&d&&l.size){var u=Xd+".g"+s+'[id="'+i+'"]',f="";l!==void 0&&l.forEach(function(p){p.length>0&&(f+=p+",")}),a+=""+d+u+'{content:"'+f+`"}/*!sc*/
`}}}return a}(this)},e}(),RDe=/(a)(d)/gi,K6=function(e){return String.fromCharCode(e+(e>25?39:97))};function Q_(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=K6(t%52)+n;return(K6(t%52)+n).replace(RDe,"$1-$2")}var gd=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},mq=function(e){return gd(5381,e)};function PDe(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(em(n)&&!G5(n))return!1}return!0}var LDe=mq("5.3.11"),NDe=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&PDe(t),this.componentId=n,this.baseHash=gd(LDe,n),this.baseStyle=r,pq.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.componentId,a=[];if(this.baseStyle&&a.push(this.baseStyle.generateAndInjectStyles(t,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(o,this.staticRulesId))a.push(this.staticRulesId);else{var s=Jd(this.rules,t,n,r).join(""),i=Q_(gd(this.baseHash,s)>>>0);if(!n.hasNameForId(o,i)){var l=r(s,"."+i,void 0,o);n.insertRules(o,i,l)}a.push(i),this.staticRulesId=i}else{for(var d=this.rules.length,u=gd(this.baseHash,r.hash),f="",p=0;p<d;p++){var m=this.rules[p];if(typeof m=="string")f+=m;else if(m){var g=Jd(m,t,n,r),v=Array.isArray(g)?g.join(""):g;u=gd(u,v+p),f+=v}}if(f){var b=Q_(u>>>0);if(!n.hasNameForId(o,b)){var y=r(f,"."+b,void 0,o);n.insertRules(o,b,y)}a.push(b)}}return a.join(" ")},e}(),FDe=/^\s*\/\/.*$/gm,jDe=[":","[",".","#"];function VDe(e){var t,n,r,o,a=Ai,s=a.options,i=s===void 0?Ai:s,l=a.plugins,d=l===void 0?Uv:l,u=new dq(i),f=[],p=function(v){function b(y){if(y)try{v(y+"}")}catch{}}return function(y,E,w,C,x,S,I,A,T,O){switch(y){case 1:if(T===0&&E.charCodeAt(0)===64)return v(E+";"),"";break;case 2:if(A===0)return E+"/*|*/";break;case 3:switch(A){case 102:case 112:return v(w[0]+E),"";default:return E+(O===0?"/*|*/":"")}case-2:E.split("/*|*/}").forEach(b)}}}(function(v){f.push(v)}),m=function(v,b,y){return b===0&&jDe.indexOf(y[n.length])!==-1||y.match(o)?v:"."+t};function g(v,b,y,E){E===void 0&&(E="&");var w=v.replace(FDe,""),C=b&&y?y+" "+b+" { "+w+" }":w;return t=E,n=b,r=new RegExp("\\"+n+"\\b","g"),o=new RegExp("(\\"+n+"\\b){2,}"),u(y||!b?"":b,C)}return u.use([].concat(d,[function(v,b,y){v===2&&y.length&&y[0].lastIndexOf(n)>0&&(y[0]=y[0].replace(r,m))},p,function(v){if(v===-2){var b=f;return f=[],b}}])),g.hash=d.length?d.reduce(function(v,b){return b.name||$h(15),gd(v,b.name)},5381).toString():"",g}var hq=_.createContext();hq.Consumer;var gq=_.createContext(),BDe=(gq.Consumer,new pq),ex=VDe();function UDe(){return c.useContext(hq)||BDe}function HDe(){return c.useContext(gq)||ex}var vq=function(){function e(t,n){var r=this;this.inject=function(o,a){a===void 0&&(a=ex);var s=r.name+a.hash;o.hasNameForId(r.id,s)||o.insertRules(r.id,s,a(r.rules,s,"@keyframes"))},this.toString=function(){return $h(12,String(r.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return e.prototype.getName=function(t){return t===void 0&&(t=ex),this.name+t.hash},e}(),zDe=/([A-Z])/,WDe=/([A-Z])/g,GDe=/^ms-/,qDe=function(e){return"-"+e.toLowerCase()};function X6(e){return zDe.test(e)?e.replace(WDe,qDe).replace(GDe,"-ms-"):e}var J6=function(e){return e==null||e===!1||e===""};function Jd(e,t,n,r){if(Array.isArray(e)){for(var o,a=[],s=0,i=e.length;s<i;s+=1)(o=Jd(e[s],t,n,r))!==""&&(Array.isArray(o)?a.push.apply(a,o):a.push(o));return a}if(J6(e))return"";if(G5(e))return"."+e.styledComponentId;if(em(e)){if(typeof(d=e)!="function"||d.prototype&&d.prototype.isReactComponent||!t)return e;var l=e(t);return Jd(l,t,n,r)}var d;return e instanceof vq?n?(e.inject(n,r),e.getName(r)):e:Z_(e)?function u(f,p){var m,g,v=[];for(var b in f)f.hasOwnProperty(b)&&!J6(f[b])&&(Array.isArray(f[b])&&f[b].isCss||em(f[b])?v.push(X6(b)+":",f[b],";"):Z_(f[b])?v.push.apply(v,u(f[b],b)):v.push(X6(b)+": "+(m=b,(g=f[b])==null||typeof g=="boolean"||g===""?"":typeof g!="number"||g===0||m in uq||m.startsWith("--")?String(g).trim():g+"px")+";"));return p?[p+" {"].concat(v,["}"]):v}(e):e.toString()}var Z6=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function ln(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return em(e)||Z_(e)?Z6(Jd(G6(Uv,[e].concat(n)))):n.length===0&&e.length===1&&typeof e[0]=="string"?e:Z6(Jd(G6(e,n)))}var YDe=function(e,t,n){return n===void 0&&(n=Ai),e.theme!==n.theme&&e.theme||t||n.theme},KDe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,XDe=/(^-|-$)/g;function dw(e){return e.replace(KDe,"-").replace(XDe,"")}var bq=function(e){return Q_(mq(e)>>>0)};function o0(e){return typeof e=="string"&&!0}var tx=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},JDe=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function ZDe(e,t,n){var r=e[n];tx(t)&&tx(r)?yq(r,t):e[n]=t}function yq(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,a=n;o<a.length;o++){var s=a[o];if(tx(s))for(var i in s)JDe(i)&&ZDe(e,s[i],i)}return e}var Eq=_.createContext();Eq.Consumer;var uw={};function wq(e,t,n){var r=G5(e),o=!o0(e),a=t.attrs,s=a===void 0?Uv:a,i=t.componentId,l=i===void 0?function(E,w){var C=typeof E!="string"?"sc":dw(E);uw[C]=(uw[C]||0)+1;var x=C+"-"+bq("5.3.11"+C+uw[C]);return w?w+"-"+x:x}(t.displayName,t.parentComponentId):i,d=t.displayName,u=d===void 0?function(E){return o0(E)?"styled."+E:"Styled("+q6(E)+")"}(e):d,f=t.displayName&&t.componentId?dw(t.displayName)+"-"+t.componentId:t.componentId||l,p=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,m=t.shouldForwardProp;r&&e.shouldForwardProp&&(m=t.shouldForwardProp?function(E,w,C){return e.shouldForwardProp(E,w,C)&&t.shouldForwardProp(E,w,C)}:e.shouldForwardProp);var g,v=new NDe(n,f,r?e.componentStyle:void 0),b=v.isStatic&&s.length===0,y=function(E,w){return function(C,x,S,I){var A=C.attrs,T=C.componentStyle,O=C.defaultProps,D=C.foldedComponentIds,$=C.shouldForwardProp,L=C.styledComponentId,F=C.target,B=function(oe,X,pe){oe===void 0&&(oe=Ai);var ee=xs({},X,{theme:oe}),ne={};return pe.forEach(function(Q){var se,ue,ve,ke=Q;for(se in em(ke)&&(ke=ke(ee)),ke)ee[se]=ne[se]=se==="className"?(ue=ne[se],ve=ke[se],ue&&ve?ue+" "+ve:ue||ve):ke[se]}),[ee,ne]}(YDe(x,c.useContext(Eq),O)||Ai,x,A),V=B[0],Y=B[1],J=function(oe,X,pe,ee){var ne=UDe(),Q=HDe(),se=X?oe.generateAndInjectStyles(Ai,ne,Q):oe.generateAndInjectStyles(pe,ne,Q);return se}(T,I,V),z=S,ce=Y.$as||x.$as||Y.as||x.as||F,le=o0(ce),j=Y!==x?xs({},x,{},Y):x,Z={};for(var K in j)K[0]!=="$"&&K!=="as"&&(K==="forwardedAs"?Z.as=j[K]:($?$(K,Yp,ce):!le||Yp(K))&&(Z[K]=j[K]));return x.style&&Y.style!==x.style&&(Z.style=xs({},x.style,{},Y.style)),Z.className=Array.prototype.concat(D,L,J!==L?J:null,x.className,Y.className).filter(Boolean).join(" "),Z.ref=z,c.createElement(ce,Z)}(g,E,w,b)};return y.displayName=u,(g=_.forwardRef(y)).attrs=p,g.componentStyle=v,g.displayName=u,g.shouldForwardProp=m,g.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Uv,g.styledComponentId=f,g.target=r?e.target:e,g.withComponent=function(E){var w=t.componentId,C=function(S,I){if(S==null)return{};var A,T,O={},D=Object.keys(S);for(T=0;T<D.length;T++)A=D[T],I.indexOf(A)>=0||(O[A]=S[A]);return O}(t,["componentId"]),x=w&&w+"-"+(o0(E)?E:dw(q6(E)));return wq(E,xs({},C,{attrs:p,componentId:x}),n)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(E){this._foldedDefaultProps=r?yq({},e.defaultProps,E):E}}),Object.defineProperty(g,"toString",{value:function(){return"."+g.styledComponentId}}),o&&sF(g,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var Re=function(e){return function t(n,r,o){if(o===void 0&&(o=Ai),!Xb.isValidElementType(r))return $h(1,String(r));var a=function(){return n(r,o,ln.apply(void 0,arguments))};return a.withConfig=function(s){return t(n,r,xs({},o,{},s))},a.attrs=function(s){return t(n,r,xs({},o,{attrs:Array.prototype.concat(o.attrs,s).filter(Boolean)}))},a}(wq,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Re[e]=Re(e)});function QDe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=ln.apply(void 0,[e].concat(n)).join(""),a=bq(o);return new vq(a,o)}const Di=typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global||typeof global=="object"&&global.GLOBAL===global?global:{};Di.__REACT_ASYNC__=Di.__REACT_ASYNC__||{};const nx=()=>{};class Cq{constructor(){this.abort=nx,this.signal={}}}let lt;try{lt=Gm}catch{}const zc=lt&&lt.oneOfType([lt.node,lt.func]),bf=lt&&lt.shape({initialValue:lt.any,data:lt.any,error:lt.instanceOf(Error),value:lt.any,startedAt:lt.instanceOf(Date),finishedAt:lt.instanceOf(Date),status:lt.oneOf(["initial","pending","fulfilled","rejected"]),isInitial:lt.bool,isPending:lt.bool,isLoading:lt.bool,isFulfilled:lt.bool,isResolved:lt.bool,isRejected:lt.bool,isSettled:lt.bool,counter:lt.number,promise:lt.instanceOf(Promise),run:lt.func,reload:lt.func,cancel:lt.func,setData:lt.func,setError:lt.func});var vi=lt&&{Async:{children:zc,promise:lt.instanceOf(Promise),promiseFn:lt.func,deferFn:lt.func,watch:lt.any,watchFn:lt.func,initialValue:lt.any,onResolve:lt.func,onReject:lt.func,reducer:lt.func,dispatcher:lt.func,debugLabel:lt.string,suspense:lt.bool},Initial:{children:zc,state:bf.isRequired,persist:lt.bool},Pending:{children:zc,state:bf.isRequired,initial:lt.bool},Fulfilled:{children:zc,state:bf.isRequired,persist:lt.bool},Rejected:{children:zc,state:bf.isRequired,persist:lt.bool},Settled:{children:zc,state:bf.isRequired,persist:lt.bool}};const Rh=(e,...t)=>typeof e=="function"?e(...t):e,_q=({children:e,persist:t,state:n={}})=>_.createElement(_.Fragment,null,n.isInitial||t&&!n.data?Rh(e,n):null),xq=({children:e,initial:t,state:n={}})=>_.createElement(_.Fragment,null,n.isPending&&(!t||!n.value)?Rh(e,n):null),Sq=({children:e,persist:t,state:n={}})=>_.createElement(_.Fragment,null,n.isFulfilled||t&&n.data?Rh(e,n.data,n):null),kq=({children:e,persist:t,state:n={}})=>_.createElement(_.Fragment,null,n.isRejected||t&&n.error?Rh(e,n.error,n):null),Iq=({children:e,persist:t,state:n={}})=>_.createElement(_.Fragment,null,n.isSettled||t&&n.value?Rh(e,n):null);vi&&(_q.propTypes=vi.Initial,xq.propTypes=vi.Pending,Sq.propTypes=vi.Fulfilled,kq.propTypes=vi.Rejected,Iq.propTypes=vi.Settled);var Fn;(function(e){e.initial="initial",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected"})(Fn||(Fn={}));const e3e=(e,t)=>e instanceof Error?Fn.rejected:e!==void 0?Fn.fulfilled:t?Fn.pending:Fn.initial,t3e=e=>e instanceof Error?Fn.rejected:e!==void 0?Fn.fulfilled:Fn.initial,Hf=e=>({status:e,isInitial:e===Fn.initial,isPending:e===Fn.pending,isLoading:e===Fn.pending,isFulfilled:e===Fn.fulfilled,isResolved:e===Fn.fulfilled,isRejected:e===Fn.rejected,isSettled:e===Fn.fulfilled||e===Fn.rejected}),zv=function(){};Object.setPrototypeOf?Object.setPrototypeOf(zv,Promise):zv.__proto__=Promise;zv.prototype=Object.assign(Object.create(Promise.prototype),{finally(){return this},catch(){return this},then(){return this}});const tm=new zv;var Ar;(function(e){e.start="start",e.cancel="cancel",e.fulfill="fulfill",e.reject="reject"})(Ar||(Ar={}));const Tq=({initialValue:e,promise:t,promiseFn:n})=>({initialValue:e,data:e instanceof Error?void 0:e,error:e instanceof Error?e:void 0,value:e,startedAt:t||n?new Date:void 0,finishedAt:e?new Date:void 0,...Hf(e3e(e,t||n)),counter:0,promise:tm}),Wv=(e,t)=>{switch(t.type){case Ar.start:return{...e,startedAt:new Date,finishedAt:void 0,...Hf(Fn.pending),counter:t.meta.counter,promise:t.meta.promise};case Ar.cancel:return{...e,startedAt:void 0,finishedAt:void 0,...Hf(t3e(e.error||e.data)),counter:t.meta.counter,promise:t.meta.promise};case Ar.fulfill:return{...e,data:t.payload,value:t.payload,error:void 0,finishedAt:new Date,...Hf(Fn.fulfilled),promise:t.meta.promise};case Ar.reject:return{...e,error:t.payload,value:t.payload,finishedAt:new Date,...Hf(Fn.rejected),promise:t.meta.promise};default:return e}},rx=e=>(t,...n)=>{e(t,...n),t.type===Ar.start&&typeof t.payload=="function"&&t.payload()};class wIt extends _.Component{}function n3e(e={},t="Async"){const{Consumer:n,Provider:r}=_.createContext(void 0);function o({children:f}){return _.createElement(n,null,p=>{if(!p)throw new Error("this component should only be used within an associated <Async> component!");return f(p)})}class a extends _.Component{constructor(p){super(p),this.mounted=!1,this.counter=0,this.args=[],this.promise=tm,this.abortController=new Cq,this.start=this.start.bind(this),this.load=this.load.bind(this),this.run=this.run.bind(this),this.cancel=this.cancel.bind(this),this.onResolve=this.onResolve.bind(this),this.onReject=this.onReject.bind(this),this.setData=this.setData.bind(this),this.setError=this.setError.bind(this);const m=p.promise,g=p.promiseFn||e.promiseFn,v=p.initialValue||e.initialValue;this.state={...Tq({initialValue:v,promise:m,promiseFn:g}),cancel:this.cancel,run:this.run,reload:()=>{this.load(),this.run(...this.args)},setData:this.setData,setError:this.setError},this.debugLabel=p.debugLabel||e.debugLabel;const{devToolsDispatcher:b}=Di.__REACT_ASYNC__,y=p.reducer||e.reducer,E=p.dispatcher||e.dispatcher||b,w=y?(x,S)=>y(x,S,Wv):Wv,C=rx((x,S)=>{this.setState(I=>w(I,x),S)});this.dispatch=E?x=>E(x,C,p):C}componentDidMount(){this.mounted=!0,(this.props.promise||!this.state.initialValue)&&this.load()}componentDidUpdate(p){const{watch:m,watchFn:g=e.watchFn,promise:v,promiseFn:b}=this.props;if(m!==p.watch)return this.counter&&this.cancel(),this.load();if(g&&g({...e,...this.props},{...e,...p}))return this.counter&&this.cancel(),this.load();if(v!==p.promise&&(this.counter&&this.cancel(),v))return this.load();if(b!==p.promiseFn&&(this.counter&&this.cancel(),b))return this.load()}componentWillUnmount(){this.cancel(),this.mounted=!1}getMeta(p){return{counter:this.counter,promise:this.promise,debugLabel:this.debugLabel,...p}}start(p){return"AbortController"in Di&&(this.abortController.abort(),this.abortController=new Di.AbortController),this.counter++,this.promise=new Promise((m,g)=>{if(!this.mounted)return;const v=()=>p().then(m,g);this.dispatch({type:Ar.start,payload:v,meta:this.getMeta()})})}load(){const p=this.props.promise,m=this.props.promiseFn||e.promiseFn;if(p)this.start(()=>p).then(this.onResolve(this.counter)).catch(this.onReject(this.counter));else if(m){const g={...e,...this.props};this.start(()=>m(g,this.abortController)).then(this.onResolve(this.counter)).catch(this.onReject(this.counter))}}run(...p){const m=this.props.deferFn||e.deferFn;if(m){this.args=p;const g={...e,...this.props};return this.start(()=>m(p,g,this.abortController)).then(this.onResolve(this.counter),this.onReject(this.counter))}}cancel(){const p=this.props.onCancel||e.onCancel;p&&p(),this.counter++,this.abortController.abort(),this.mounted&&this.dispatch({type:Ar.cancel,meta:this.getMeta()})}onResolve(p){return m=>{if(this.counter===p){const g=this.props.onResolve||e.onResolve;this.setData(m,()=>g&&g(m))}return m}}onReject(p){return m=>{if(this.counter===p){const g=this.props.onReject||e.onReject;this.setError(m,()=>g&&g(m))}return m}}setData(p,m){return this.mounted&&this.dispatch({type:Ar.fulfill,payload:p,meta:this.getMeta()},m),p}setError(p,m){return this.mounted&&this.dispatch({type:Ar.reject,payload:p,error:!0,meta:this.getMeta()},m),p}render(){const{children:p,suspense:m}=this.props;if(m&&this.state.isPending&&this.promise!==tm)throw this.promise;if(typeof p=="function"){const g=p;return _.createElement(r,{value:this.state},g(this.state))}return p!=null?_.createElement(r,{value:this.state},p):null}}vi&&(a.propTypes=vi.Async);const s=f=>_.createElement(o,null,p=>_.createElement(_q,Object.assign({},f,{state:p}))),i=f=>_.createElement(o,null,p=>_.createElement(xq,Object.assign({},f,{state:p}))),l=f=>_.createElement(o,null,p=>_.createElement(Sq,Object.assign({},f,{state:p}))),d=f=>_.createElement(o,null,p=>_.createElement(kq,Object.assign({},f,{state:p}))),u=f=>_.createElement(o,null,p=>_.createElement(Iq,Object.assign({},f,{state:p})));return s.displayName=`${t}.Initial`,i.displayName=`${t}.Pending`,l.displayName=`${t}.Fulfilled`,d.displayName=`${t}.Rejected`,u.displayName=`${t}.Settled`,Object.assign(a,{displayName:t,Initial:s,Pending:i,Loading:i,Fulfilled:l,Resolved:l,Rejected:d,Settled:u})}n3e();function r3e(e,t){const n=typeof e=="function"?{...t,promiseFn:e}:e,r=c.useRef(0),o=c.useRef(!0),a=c.useRef(void 0),s=c.useRef(n),i=c.useRef(tm),l=c.useRef(new Cq),{devToolsDispatcher:d}=Di.__REACT_ASYNC__,{reducer:u,dispatcher:f=d}=n,[p,m]=c.useReducer(u?(z,ce)=>u(z,ce,Wv):Wv,n,Tq),g=c.useCallback(f?z=>f(z,rx(m),s.current):rx(m),[f]),{debugLabel:v}=n,b=c.useCallback(z=>({counter:r.current,promise:i.current,debugLabel:v,...z}),[v]),y=c.useCallback((z,ce=nx)=>(o.current&&(g({type:Ar.fulfill,payload:z,meta:b()}),ce()),z),[g,b]),E=c.useCallback((z,ce=nx)=>(o.current&&(g({type:Ar.reject,payload:z,error:!0,meta:b()}),ce()),z),[g,b]),{onResolve:w,onReject:C}=n,x=c.useCallback(z=>ce=>z===r.current&&y(ce,()=>w&&w(ce)),[y,w]),S=c.useCallback(z=>ce=>z===r.current&&E(ce,()=>C&&C(ce)),[E,C]),I=c.useCallback(z=>("AbortController"in Di&&(l.current.abort(),l.current=new Di.AbortController),r.current++,i.current=new Promise((ce,le)=>{if(!o.current)return;const j=()=>z().then(ce,le);g({type:Ar.start,payload:j,meta:b()})})),[g,b]),{promise:A,promiseFn:T,initialValue:O}=n,D=c.useCallback(()=>{const z=O&&r.current===0;A?I(()=>A).then(x(r.current)).catch(S(r.current)):T&&!z&&I(()=>T(s.current,l.current)).then(x(r.current)).catch(S(r.current))},[I,A,T,O,x,S]),{deferFn:$}=n,L=c.useCallback((...z)=>{$&&(a.current=z,I(()=>$(z,s.current,l.current)).then(x(r.current)).catch(S(r.current)))},[I,$,x,S]),F=c.useCallback(()=>{a.current?L(...a.current):D()},[L,D]),{onCancel:B}=n,V=c.useCallback(()=>{B&&B(),r.current++,l.current.abort(),o.current&&g({type:Ar.cancel,meta:b()})},[B,g,b]),{watch:Y,watchFn:J}=n;if(c.useEffect(()=>{J&&s.current&&J(n,s.current)&&(s.current=n,D())}),c.useEffect(()=>{s.current=n},[n]),c.useEffect(()=>{r.current&&V(),(A||T)&&D()},[A,T,Y]),c.useEffect(()=>()=>{o.current=!1},[]),c.useEffect(()=>()=>V(),[]),c.useDebugValue(p,({status:z})=>`[${r.current}] ${z}`),n.suspense&&p.isPending&&i.current!==tm)throw i.current;return c.useMemo(()=>({...p,run:L,reload:F,cancel:V,setData:y,setError:E}),[p,L,F,V,y,E])}const o3e=()=>{throw new Error("useAsync requires React v16.8 or up. Upgrade your React version or use the <Async> component instead.")};var Ph=c.useEffect?r3e:o3e;function a3e(e){return c.useMemo(()=>{if(e)return{status:St.SUCCEEDED,data:e.src}},[e])}function s3e(e,t){const n=Fu(t),r=fe.useStore(),o=Ph({promiseFn:c.useCallback(async()=>{if(n&&e&&t){const a=await uu(r.getState(),t);if(a)return await(n==null?void 0:n.getImageUrl(e.fileId,{collection:a}))}},[t,e,n,r])});if(e)return o.isResolved?o.data?{status:St.SUCCEEDED,data:o.data}:void 0:o.isRejected?{status:St.ERROR,error:dN(o.error)}:o.isPending?{status:St.PENDING}:{status:St.INITIAL}}function i3e(e){const t=mDe(e);return c.useMemo(()=>{if(t)return{status:St.SUCCEEDED,data:t}},[t])}function l3e(e,t){const n=a3e(typeof e=="object"&&"src"in e?e:void 0),r=s3e(typeof e=="object"&&"fileId"in e?e:void 0,t),o=i3e(Zle(e)?e:void 0);return c.useMemo(()=>n||r||o||{status:St.INITIAL},[o,n,r])}function c3e(e,t){const n=Fu(t),r=fe.useStore(),o=dDe(t),a=Ph({promiseFn:c.useCallback(async()=>{if(n&&e){const s=await uu(r.getState(),t);if(s){if(o.has(e.fileId))return o.get(e.fileId);const l=(await n.mediaStore.getFile(e.fileId,{collection:s})).data.mediaType;return o.set(e.fileId,l),l}}},[t,e,n,r])});if(e)return a.isResolved?a.data?{status:St.SUCCEEDED,data:a.data}:void 0:a.isRejected?{status:St.ERROR,error:dN(a.error)}:a.isPending?{status:St.PENDING}:{status:St.INITIAL}}const d3e=_.lazy(()=>Te(()=>de(()=>import("./MediaViewer-BIqX3mQS.js"),__vite__mapDeps([36,30,1,2,31,12,3,4,5,6,7,8,9,10])))),a0="40px",Gv="156px",u3e=148,f3e=108,p3e=2,m3e=Re.div.withConfig({displayName:"AttachmentViewer__ButtonContainer",componentId:"sc-1xschg8-0"})(["position:absolute;top:",";right:",";transition:opacity 0.2s;opacity:",";button{background-color:",";&:hover{background-color:",";}}"],U("space.150"),U("space.150"),e=>e.isOpen?"1":"0",e=>e.isOpen?"":U("color.background.accent.gray.subtlest"),e=>e.isOpen?"":U("color.background.accent.gray.subtlest")),h3e=Re.div.withConfig({displayName:"AttachmentViewer__FullscreenButtonContainer",componentId:"sc-1xschg8-1"})(["position:absolute;bottom:",";right:",";transition:opacity 0.2s;opacity:",";button{background-color:",";&:hover{background-color:",";}}"],U("space.150"),U("space.150"),e=>e.isOpen?"1":"0",e=>e.isOpen?"":U("color.background.accent.gray.subtlest"),e=>e.isOpen?"":U("color.background.accent.gray.subtlest")),g3e=ie({width:"100%",height:"100%"}),Q6=(e,t)=>h.jsx(_e,{xcss:ie({width:e??Gv,height:t??Gv})}),Y5=({dropzoneRef:e,contentId:t,value:n,handleDelete:r,showSpinner:o,mediaFiles:a,renderButtons:s=!0,mediaFormat:i,fieldWidth:l})=>{const[d,u]=c.useState(null),[f,p]=c.useState(!1),{formatMessage:m}=Ee(),g=Fu(t),[v,b]=c.useState(null),y=c.useRef(null),E=vt("databases-frontend-ci2-m1"),w=vt("database-field-setting-2-media")||E,C=fe.useStore(),x=c3e(typeof n=="object"&&"fileId"in n?n:void 0,t),S=()=>{n&&"fileId"in n&&d&&(p(!1),b({mediaItemType:"file",id:n.fileId,collectionName:d}))};EDe(y.current,!0,()=>{p(!1)}),c.useEffect(()=>{(async()=>{const O=await uu(C.getState(),t);O&&u(O)})()},[t,C]);const I=c.useMemo(()=>l?l<ec?u3e:(l-f3e)/p3e:Gv,[l]);if(o)return h.jsx(it,{direction:"column",alignItems:"center",justifyContent:"center",xcss:g3e,children:h.jsx(rr,{})});if((x==null?void 0:x.status)===St.PENDING)return i===TO.THUMBNAIL?Q6(a0,a0):Q6();if((x==null?void 0:x.status)!==St.SUCCEEDED)return null;if(v&&a&&d&&g&&g.mediaClientConfig)return h.jsx(c.Suspense,{fallback:h.jsx(rr,{}),children:h.jsx(d3e,{mediaClientConfig:g.mediaClientConfig,selectedItem:v,items:a,collectionName:d,onClose:()=>b(null)})});const A=x.data==="image"||x.data==="audio"||x.data==="video";return x&&g&&d&&"fileId"in n&&h.jsxs(h.Fragment,{children:[i===TO.THUMBNAIL&&w?h.jsx(j6,{mediaClientConfig:g.mediaClientConfig,dimensions:{width:a0,height:a0},disableOverlay:A,shouldHideTooltip:!0,useInlinePlayer:!0,identifier:{mediaItemType:"file",id:n.fileId,collectionName:d}}):h.jsx(j6,{mediaClientConfig:g.mediaClientConfig,dimensions:{width:I,height:Gv},disableOverlay:A,shouldHideTooltip:!0,useInlinePlayer:!0,resizeMode:"fit",identifier:{mediaItemType:"file",id:n.fileId,collectionName:d}}),s?w?h.jsx(h3e,{className:"fullscreen-container",isOpen:f,children:h.jsx(dn,{icon:T=>h.jsx(tW,{...T,color:U("color.icon.subtle")}),label:m(G["attachment-viewer.fullscreen-button-label"]),onClick:S})}):h.jsx(m3e,{className:"attachment-actions-container",isOpen:f,ref:y,children:h.jsx(q1,{isOpen:f,placement:"bottom-end",trigger:({triggerRef:T,...O})=>h.jsx(dn,{...O,icon:bc,label:"",ref:T,isSelected:f,onClick:()=>p(!f)}),shouldRenderToParent:!0,children:h.jsxs(qa,{children:[h.jsx(Od,{onClick:S,children:m(G["media.full-screen-view"])}),h.jsx(Od,{onClick:()=>{p(!1),e!=null&&e.current&&e.current.open()},children:m(G["media.change-file"])}),h.jsx(Od,{onClick:()=>{p(!1),r&&r()},children:m(G["media.delete"])})]})})}):null]})},nm=xr({"snackbar-warning.field-settings-updated":{id:"snackbar-warning.field-settings-updated",defaultMessage:"Some field settings have been modified to match the data being pasted",description:"This message is shown in a snackbar when the field's settings were automatically updated as a result of the content pasted."},"snackbar-warning.pasting-content-that-doesnt-match":{id:"snackbar-warning.pasting-content-that-doesnt-match",defaultMessage:"Pasted data does not match database field types.",description:"This message is shown in a snackbar when the user pastes values into another field where they cannot be converted properly."},"import-file-error.invalid-file-type":{id:"import-file-error.invalid-file-type",defaultMessage:"We only support CSV files for import",description:"The error message shown when a user tries to import a file other than a CSV."},"import-file-error.too-many-files":{id:"import-file-error.too-many-files",defaultMessage:"We can only import one file at a time. Select one file first.",description:"The error message shown when a user tries to drag and drop multiple files for import"},"import-file-error.malformed-or-unknown":{id:"import-file-error.malformed-or-unknown",defaultMessage:"We couldnt upload the file you selected. Try again or select another file.",description:"The error message shown when a user tries to import a CSV that is malformed, empty, or an unknown error has occured."},"import-progress.importing-file":{id:"import-progress.importing",defaultMessage:"Importing file",description:"The message shown when a file is being imported to database to show its progress."},"flag-error-message.cannot-read-pasted-content":{id:"flag-error-message.cannot-read-pasted-content",defaultMessage:"Pasted content could not be read",description:"The error message shown when a user tries to paste content, but the contents cannot be read."},"flag-error-message.unexpected-data-type":{id:"flag-error-message.unexpected-data-type",defaultMessage:"Were having some issues pasting your content. Try again.",description:"The error message shown when a user tries to paste content, but reached an unexpected error."},"flag-warning-message.read-only":{id:"flag-warning-message.read-only",defaultMessage:"You dont have edit access",description:"The warning title shown when a user tries to paste content into a read-only database."},"flag-warning-description.read-only":{id:"flag-warning-description.read-only",defaultMessage:"You need edit access to this database to paste content.",description:"The warning message shown when a user tries to paste content into a read-only database."},"flag-warning-message.restricted-content-cant-be-copied":{id:"flag-warning-message.restricted-content-cant-be-copied",defaultMessage:"Media or files cant be copied",description:"The warning title shown when a user tries to copy media but the content is restricted."},"flag-warning-description.restricted-content-cant-be-copied":{id:"flag-warning-description.restricted-content-cant-be-copied",defaultMessage:"This database is restricted. You cant copy media or files on restricted content.",description:"The warning message shown when a user tries to copy media but the content is restricted."},"flag-info-message.entries-filtered":{id:"flag-info-message.entries-filtered",defaultMessage:"Some entries are not visible in this view",description:"The message shown when a user pastes some entries that do not meet the filters criteria"},"flag-info-description.entries-filtered":{id:"flag-info-description.entries-filtered",defaultMessage:"{numberOfEntriesPasted, plural, one {{numberOfEntriesPasted} entry was} other {{numberOfEntriesPasted} entries were}} pasted but some were filtered out of the current view.",description:"The description shown when a user pastes some entries that do not meet the filters criteria"},"flag-info-message.pasted-into-sort":{id:"flag-info-message.pasted-into-sort",defaultMessage:"Some content may have shifted",description:"The message shown when a user pastes into a field that has a sort applied. Their values might not be where they expected because they will be sorted."},"flag-info-description.pasted-into-sort":{id:"flag-info-description.pasted-into-sort",defaultMessage:"Entries were pasted successfully but may have moved due to a sorted field.",description:"The description shown when a user pastes into a field that has a sort applied. Their values might not be where they expected because they will be sorted."},"flag-warning-message.dismiss-action":{id:"flag-warning-message.dismiss-action",defaultMessage:"Dismiss",description:"Text for the dismiss action button on the flag."},"flag-warning-description.structure-locked":{id:"flag-warning-description.structure-locked",defaultMessage:"We couldnt paste some or all of your data. You must unlock the database structure to add or edit content.",description:"The message for the flag that appears when the user pastes content that would normally add fields/entries to the database, but the structure is locked."},"flag-warning-message.structure-locked":{id:"flag-warning-message.structure-locked",defaultMessage:"Database structure is locked",description:"The title for the flag that appears when the user pastes content that would normally add fields/entries to the database, but the structure is locked."},"flag-warning-message.field-settings-updated":{id:"flag-warning-message.field-settings-updated",defaultMessage:"Field settings updated",description:"This message is shown in a snackbar when the field's settings were automatically updated as a result of the content pasted."},"flag-warning-message.pasting-content-that-doesnt-match":{id:"flag-warning-message.pasting-content-that-doesnt-match",defaultMessage:"Content doesnt match field",description:"This message is shown in a snackbar when the user pastes values into another field where they cannot be converted properly."},"flag-warning-description.pasting-content-that-doesnt-match":{id:"flag-warning-description.pasting-content-that-doesnt-match",defaultMessage:"We couldnt paste the content because it doesnt match this fields formatting.",description:"The description for the flag that appears when the user pastes content that cannot be converted properly"},"flag-warning-description.field-settings-updated":{id:"flag-warning-description.field-settings-updated",defaultMessage:"To paste this content, some field settings were updated.",description:"The description for the flag that appears when the field's settings were automatically updated as a result of the content pasted."}}),iy=({onPaste:e})=>{c.useEffect(()=>{const t=n=>{var r,o;(o=(r=n.target)==null?void 0:r.closest)!=null&&o.call(r,"input,textarea")||(n.preventDefault(),n.clipboardData&&e(n.clipboardData.items))};return document.addEventListener("paste",t),()=>{document.removeEventListener("paste",t)}},[e])},Aq="data-pdnd-honey-pot";function Dq(e){return e instanceof Element&&e.hasAttribute(Aq)}function K5(e){const[t,n]=document.elementsFromPoint(e.x,e.y);return t?Dq(t)?n??null:t:null}const Oq=2147483647,rm=2,eR=rm/2;function v3e(e){return{x:Math.floor(e.x),y:Math.floor(e.y)}}function b3e(e){return{x:e.x-eR,y:e.y-eR}}function y3e(e){return{x:Math.max(e.x,0),y:Math.max(e.y,0)}}function E3e(e){return{x:Math.min(e.x,window.innerWidth-rm),y:Math.min(e.y,window.innerHeight-rm)}}function tR({client:e}){const t=E3e(y3e(b3e(v3e(e))));return DOMRect.fromRect({x:t.x,y:t.y,width:rm,height:rm})}function nR({clientRect:e}){return{left:`${e.left}px`,top:`${e.top}px`,width:`${e.width}px`,height:`${e.height}px`}}function w3e({client:e,clientRect:t}){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height}function C3e({initial:e}){const t=document.createElement("div");t.setAttribute(Aq,"true");let n=tR({client:e});Object.assign(t.style,{backgroundColor:"transparent",position:"fixed",padding:0,margin:0,boxSizing:"border-box",...nR({clientRect:n}),pointerEvents:"auto",zIndex:Oq}),document.body.appendChild(t);const r=mt.bind(window,{type:"pointermove",listener(o){const a={x:o.clientX,y:o.clientY};n=tR({client:a}),Object.assign(t.style,nR({clientRect:n}))},options:{capture:!0}});return function({current:a}){if(r(),w3e({client:a,clientRect:n})){t.remove();return}function s(){i(),t.remove()}const i=mt.bindAll(window,[{type:"pointerdown",listener:s},{type:"pointermove",listener:s},{type:"focusin",listener:s},{type:"focusout",listener:s},{type:"dragstart",listener:s},{type:"dragenter",listener:s},{type:"dragover",listener:s}],{capture:!0})}}function Mq(){let e=null;function t(){return e=null,mt.bind(window,{type:"pointermove",listener(r){e={x:r.clientX,y:r.clientY}},options:{capture:!0}})}function n(){let r=null;return function({eventName:a,payload:s}){if(a==="onDragStart"){var i;const{input:d}=s.location.initial,u=(i=e)!==null&&i!==void 0?i:{x:d.clientX,y:d.clientY};r=C3e({initial:u})}if(a==="onDrop"){var l;const{input:d}=s.location.current;(l=r)===null||l===void 0||l({current:{x:d.clientX,y:d.clientY}}),r=null,e=null}}}return{bindEvents:t,getOnPostDispatch:n}}function X5(e){let t=null;return function(...r){return t||(t={result:e.apply(this,r)}),t.result}}const $q=X5(function(){return navigator.userAgent.includes("Firefox")}),wc=X5(function(){const{userAgent:t}=navigator;return t.includes("AppleWebKit")&&!t.includes("Chrome")}),qv={isLeavingWindow:Symbol("leaving"),isEnteringWindow:Symbol("entering")};function _3e({dragEnter:e}){return wc()?e.hasOwnProperty(qv.isEnteringWindow):!1}function x3e({dragLeave:e}){return wc()?e.hasOwnProperty(qv.isLeavingWindow):!1}(function(){if(typeof window>"u"||!wc())return;function t(){return{enterCount:0,isOverWindow:!1}}let n=t();function r(){n=t()}mt.bindAll(window,[{type:"dragstart",listener:()=>{n.enterCount=0,n.isOverWindow=!0}},{type:"drop",listener:r},{type:"dragend",listener:r},{type:"dragenter",listener:o=>{!n.isOverWindow&&n.enterCount===0&&(o[qv.isEnteringWindow]=!0),n.isOverWindow=!0,n.enterCount++}},{type:"dragleave",listener:o=>{n.enterCount--,n.isOverWindow&&n.enterCount===0&&(o[qv.isLeavingWindow]=!0,n.isOverWindow=!1)}}],{capture:!0})})();function S3e(e){return"nodeName"in e}function Rq(e){return S3e(e)&&e.ownerDocument!==document}function k3e({dragLeave:e}){const{type:t,relatedTarget:n}=e;return t!=="dragleave"?!1:wc()?x3e({dragLeave:e}):n==null?!0:$q()?Rq(n):n instanceof HTMLIFrameElement}function J5({onDragEnd:e}){return[{type:"pointermove",listener:(()=>{let t=0;return function(){if(t<20){t++;return}e()}})()},{type:"pointerdown",listener:e}]}function bp(e){return{altKey:e.altKey,button:e.button,buttons:e.buttons,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}const fw=d_(e=>e()),s0=(()=>{let e=null;function t(r){e={frameId:requestAnimationFrame(()=>{e=null,r()}),fn:r}}function n(){e&&(cancelAnimationFrame(e.frameId),e.fn(),e=null)}return{schedule:t,flush:n}})();function I3e({source:e,initial:t,dispatchEvent:n}){let r={dropTargets:[]};function o(s){n(s),r={dropTargets:s.payload.location.current.dropTargets}}return{start({nativeSetDragImage:s}){const i={current:t,previous:r,initial:t};o({eventName:"onGenerateDragPreview",payload:{source:e,location:i,nativeSetDragImage:s}}),s0.schedule(()=>{o({eventName:"onDragStart",payload:{source:e,location:i}})})},dragUpdate({current:s}){s0.flush(),fw.cancel(),o({eventName:"onDropTargetChange",payload:{source:e,location:{initial:t,previous:r,current:s}}})},drag({current:s}){fw(()=>{s0.flush(),o({eventName:"onDrag",payload:{source:e,location:{initial:t,previous:r,current:s}}})})},drop({current:s,updatedSourcePayload:i}){s0.flush(),fw.cancel(),o({eventName:"onDrop",payload:{source:i??e,location:{current:s,previous:r,initial:t}}})}}}const ox={isActive:!1};function Pq(){return!ox.isActive}function T3e(e){return e.dataTransfer?e.dataTransfer.setDragImage.bind(e.dataTransfer):null}function A3e({current:e,next:t}){if(e.length!==t.length)return!0;for(let n=0;n<e.length;n++)if(e[n].element!==t[n].element)return!0;return!1}function D3e({event:e,dragType:t,getDropTargetsOver:n,dispatchEvent:r}){if(!Pq())return;const o=O3e({event:e,dragType:t,getDropTargetsOver:n});ox.isActive=!0;const a={current:o};pw({event:e,current:o.dropTargets});const s=I3e({source:t.payload,dispatchEvent:r,initial:o});function i(p){const m=A3e({current:a.current.dropTargets,next:p.dropTargets});a.current=p,m&&s.dragUpdate({current:a.current})}function l(p){const m=bp(p),g=Dq(p.target)?K5({x:m.clientX,y:m.clientY}):p.target,v=n({target:g,input:m,source:t.payload,current:a.current.dropTargets});v.length&&(p.preventDefault(),pw({event:p,current:v})),i({dropTargets:v,input:m})}function d(){a.current.dropTargets.length&&i({dropTargets:[],input:a.current.input}),s.drop({current:a.current,updatedSourcePayload:null}),u()}function u(){ox.isActive=!1,f()}const f=mt.bindAll(window,[{type:"dragover",listener(p){l(p),s.drag({current:a.current})}},{type:"dragenter",listener:l},{type:"dragleave",listener(p){k3e({dragLeave:p})&&(i({input:a.current.input,dropTargets:[]}),t.startedFrom==="external"&&d())}},{type:"drop",listener(p){if(a.current={dropTargets:a.current.dropTargets,input:bp(p)},!a.current.dropTargets.length){d();return}p.preventDefault(),pw({event:p,current:a.current.dropTargets}),s.drop({current:a.current,updatedSourcePayload:t.type==="external"?t.getDropPayload(p):null}),u()}},{type:"dragend",listener(p){a.current={dropTargets:a.current.dropTargets,input:bp(p)},d()}},...J5({onDragEnd:d})],{capture:!0});s.start({nativeSetDragImage:T3e(e)})}function pw({event:e,current:t}){var n;const r=(n=t[0])===null||n===void 0?void 0:n.dropEffect;r!=null&&e.dataTransfer&&(e.dataTransfer.dropEffect=r)}function O3e({event:e,dragType:t,getDropTargetsOver:n}){const r=bp(e);if(t.startedFrom==="external")return{input:r,dropTargets:[]};const o=n({input:r,source:t.payload,target:e.target,current:[]});return{input:r,dropTargets:o}}const rR={canStart:Pq,start:D3e},ax=new Map;function M3e({typeKey:e,mount:t}){const n=ax.get(e);if(n)return n.usageCount++,n;const r={typeKey:e,unmount:t(),usageCount:1};return ax.set(e,r),r}function $3e(e){const t=M3e(e);return function(){t.usageCount--,!(t.usageCount>0)&&(t.unmount(),ax.delete(e.typeKey))}}function ir(...e){return function(){e.forEach(n=>n())}}function Lq(e,{attribute:t,value:n}){return e.setAttribute(t,n),()=>e.removeAttribute(t)}function mw(e){return e.slice(0).reverse()}function R3e({typeKey:e,defaultDropEffect:t}){const n=new WeakMap,r=`data-drop-target-for-${e}`,o=`[${r}]`;function a(p){return n.set(p.element,p),()=>n.delete(p.element)}function s(p){return ir(Lq(p.element,{attribute:r,value:"true"}),a(p))}function i({source:p,target:m,input:g,result:v=[]}){var b,y,E,w;if(m==null)return v;if(!(m instanceof Element))return m instanceof Node?i({source:p,target:m.parentElement,input:g,result:v}):v;const C=m.closest(o);if(C==null)return v;const x=n.get(C);if(x==null)return v;const S={input:g,source:p,element:x.element};if(x.canDrop&&!x.canDrop(S))return i({source:p,target:x.element.parentElement,input:g,result:v});const I=(b=(y=x.getData)===null||y===void 0?void 0:y.call(x,S))!==null&&b!==void 0?b:{},A=(E=(w=x.getDropEffect)===null||w===void 0?void 0:w.call(x,S))!==null&&E!==void 0?E:t,T={data:I,element:x.element,dropEffect:A,isActiveDueToStickiness:!1};return i({source:p,target:x.element.parentElement,input:g,result:[...v,T]})}function l({eventName:p,payload:m}){for(const v of m.location.current.dropTargets){var g;const b=n.get(v.element),y={...m,self:v};b==null||(g=b[p])===null||g===void 0||g.call(b,y)}}const d={onGenerateDragPreview:l,onDrag:l,onDragStart:l,onDrop:l,onDropTargetChange:({payload:p})=>{const m=new Set(p.location.current.dropTargets.map(w=>w.element)),g=new Set;for(const w of p.location.previous.dropTargets){var v;g.add(w.element);const C=n.get(w.element),x=m.has(w.element),S={...p,self:w};if(C==null||(v=C.onDropTargetChange)===null||v===void 0||v.call(C,S),!x){var b;C==null||(b=C.onDragLeave)===null||b===void 0||b.call(C,S)}}for(const w of p.location.current.dropTargets){var y,E;if(g.has(w.element))continue;const C={...p,self:w},x=n.get(w.element);x==null||(y=x.onDropTargetChange)===null||y===void 0||y.call(x,C),x==null||(E=x.onDragEnter)===null||E===void 0||E.call(x,C)}}};function u(p){d[p.eventName](p)}function f({source:p,target:m,input:g,current:v}){const b=i({source:p,target:m,input:g});if(b.length>=v.length)return b;const y=mw(v),E=mw(b),w=[];for(let x=0;x<y.length;x++){var C;const S=y[x],I=E[x];if(I!=null){w.push(I);continue}const A=w[x-1],T=y[x-1];if((A==null?void 0:A.element)!==(T==null?void 0:T.element))break;const O=n.get(S.element);if(!O)break;const D={input:g,source:p,element:O.element};if(O.canDrop&&!O.canDrop(D)||!((C=O.getIsSticky)!==null&&C!==void 0&&C.call(O,D)))break;w.push({...S,isActiveDueToStickiness:!0})}return mw(w)}return{dropTargetForConsumers:s,getIsOver:f,dispatchEvent:u}}function P3e(){const e=new Set;let t=null;function n(a){t&&(!a.canMonitor||a.canMonitor(t.canMonitorArgs))&&t.active.add(a)}function r(a){const s={...a};return e.add(s),n(s),function(){e.delete(s),t&&t.active.delete(s)}}function o({eventName:a,payload:s}){if(a==="onGenerateDragPreview"){t={canMonitorArgs:{initial:s.location.initial,source:s.source},active:new Set};for(const d of e)n(d)}if(!t)return;const i=Array.from(t.active);for(const d of i)if(t.active.has(d)){var l;(l=d[a])===null||l===void 0||l.call(d,s)}a==="onDrop"&&(t.active.clear(),t=null)}return{dispatchEvent:o,monitorForConsumers:r}}function Z5({typeKey:e,mount:t,dispatchEventToSource:n,onPostDispatch:r,defaultDropEffect:o}){const a=P3e(),s=R3e({typeKey:e,defaultDropEffect:o});function i(u){n==null||n(u),s.dispatchEvent(u),a.dispatchEvent(u),r==null||r(u)}function l({event:u,dragType:f}){rR.start({event:u,dragType:f,getDropTargetsOver:s.getIsOver,dispatchEvent:i})}function d(){function u(){const f={canStart:rR.canStart,start:l};return t(f)}return $3e({typeKey:e,mount:u})}return{registerUsage:d,dropTarget:s.dropTargetForConsumers,monitor:a.monitorForConsumers}}const L3e=X5(function(){return navigator.userAgent.toLocaleLowerCase().includes("android")}),Nq="pdnd:android-fallback",Zd="text/plain",N3e="text/uri-list",Q5="application/vnd.pdnd",Yv=new WeakMap;function F3e(e){return Yv.set(e.element,e),function(){Yv.delete(e.element)}}const oR=Mq(),e4=Z5({typeKey:"element",defaultDropEffect:"move",mount(e){return ir(oR.bindEvents(),mt.bind(document,{type:"dragstart",listener(t){var n,r,o,a,s,i;if(!e.canStart(t)||t.defaultPrevented||!t.dataTransfer)return;const l=t.target;if(!(l instanceof HTMLElement))return null;const d=Yv.get(l);if(!d)return null;const u=bp(t),f={element:d.element,dragHandle:(n=d.dragHandle)!==null&&n!==void 0?n:null,input:u};if(d.canDrag&&!d.canDrag(f))return t.preventDefault(),null;if(d.dragHandle){const v=K5({x:u.clientX,y:u.clientY});if(!d.dragHandle.contains(v))return t.preventDefault(),null}const p=(r=(o=d.getInitialDataForExternal)===null||o===void 0?void 0:o.call(d,f))!==null&&r!==void 0?r:null;if(p)for(const[v,b]of Object.entries(p))t.dataTransfer.setData(v,b??"");L3e()&&!t.dataTransfer.types.includes(Zd)&&!t.dataTransfer.types.includes(N3e)&&t.dataTransfer.setData(Zd,Nq),t.dataTransfer.setData(Q5,"");const g={type:"element",payload:{element:d.element,dragHandle:(a=d.dragHandle)!==null&&a!==void 0?a:null,data:(s=(i=d.getInitialData)===null||i===void 0?void 0:i.call(d,f))!==null&&s!==void 0?s:{}},startedFrom:"internal"};e.start({event:t,dragType:g})}}))},dispatchEventToSource:({eventName:e,payload:t})=>{var n,r;(n=Yv.get(t.source.element))===null||n===void 0||(r=n[e])===null||r===void 0||r.call(n,t)},onPostDispatch:oR.getOnPostDispatch()}),ju=e4.dropTarget,da=e4.monitor;function Cc(e){return ir(e4.registerUsage(),F3e(e),Lq(e.element,{attribute:"draggable",value:"true"}))}const j3e={none:0,small:100,medium:350,large:700};function t4(e){e.animate([{backgroundColor:"var(--ds-background-selected, #E9F2FF)"},{}],{duration:j3e.large,easing:"cubic-bezier(0.25, 0.1, 0.25, 1.0)",iterations:1})}const V3e={top:(e,t)=>Math.abs(t.y-e.top),right:(e,t)=>Math.abs(e.right-t.x),bottom:(e,t)=>Math.abs(e.bottom-t.y),left:(e,t)=>Math.abs(t.x-e.left)},Fq=Symbol("closestEdge");function Lh(e,{element:t,input:n,allowedEdges:r}){var o,a;const s={x:n.clientX,y:n.clientY},i=t.getBoundingClientRect(),d=(o=(a=r.map(u=>({edge:u,value:V3e[u](i,s)})).sort((u,f)=>u.value-f.value)[0])===null||a===void 0?void 0:a.edge)!==null&&o!==void 0?o:null;return{...e,[Fq]:d}}function ua(e){var t;return(t=e[Fq])!==null&&t!==void 0?t:null}function B3e({startIndex:e,closestEdgeOfTarget:t,indexOfTarget:n,axis:r}){if(e===-1||n===-1||e===n)return e;if(t==null)return n;const o=r==="vertical"&&t==="bottom"||r==="horizontal"&&t==="right";return e<n?o?n:n-1:o?n+1:n}const sx=c.createContext(0),jq=c.createContext({maxLevelRef:{current:0},setMaxLevel:()=>{}}),U3e=({children:e})=>{const t=c.useRef(0),n=c.useMemo(()=>({maxLevelRef:t,setMaxLevel:(r,o=!1)=>{t.current=o?Math.min(t.current,r):r}}),[t]);return _.createElement(jq.Provider,{value:n},e)},H3e={[z1]:"next",[Pz]:"prev",[Lz]:"first",[Nz]:"last"},aR=(e,t)=>{for(;t+1<e.length;){if(!e[t+1].hasAttribute("disabled"))return e[t+1];t++}},sR=(e,t)=>{for(;t>0;){if(!e[t-1].hasAttribute("disabled"))return e[t-1];t--}};function z3e(e,t,n){return r=>{const o=e.findIndex(s=>{var i;return(i=document.activeElement)===null||i===void 0?void 0:i.isSameNode(s)});if(t<n.current)return;switch(H3e[r.key]){case"next":if(r.preventDefault(),o<e.length-1){const l=aR(e,o);l==null||l.focus()}break;case"prev":if(r.preventDefault(),o>0){const l=sR(e,o);l==null||l.focus()}break;case"first":r.preventDefault();const s=aR(e,-1);s==null||s.focus();break;case"last":r.preventDefault();const i=sR(e,e.length);i==null||i.focus();break;default:return}}}const n4=c.createContext({menuItemRefs:[],registerRef:ct}),W3e=({children:e})=>{const t=c.useRef([]),n=c.useCallback(i=>{i&&!t.current.includes(i)&&t.current.push(i)},[]),r=c.useContext(sx),{maxLevelRef:o,setMaxLevel:a}=c.useContext(jq);c.useEffect(()=>{const i=r-1;a(r);const l=Zl.bind(window,{type:"keydown",listener:z3e(t.current,r,o)});return()=>{a(i,!0),l()}});const s={menuItemRefs:t.current,registerRef:n};return _.createElement(n4.Provider,{value:s},e)};function G3e(e){const t=e.getAttribute("role");return t==="checkbox"||t==="menuitemcheckbox"}function q3e(e){const t=e.getAttribute("role");return t==="radio"||t==="menuitemradio"}const Y3e=ie({display:"flex",minWidth:"160px",padding:"space.250",justifyContent:"center"}),K3e=({statusLabel:e="Loading"})=>k(_e,{xcss:Y3e},k(a5,{size:"small"}),k(Su,{role:"status"},e)),X3e=({onClose:e,onUpdate:t,isLoading:n,statusLabel:r,setInitialFocusRef:o,children:a,...s})=>{const{menuItemRefs:i}=c.useContext(n4),l=d=>{i.some(f=>{const p=G3e(f)||q3e(f);return f.contains(d.target)&&!p})&&e&&e(d)};return c.useLayoutEffect(()=>{t()},[n,t]),c.useEffect(()=>{var d;const u=(d=i.find(f=>!f.hasAttribute("disabled")))!==null&&d!==void 0?d:null;o==null||o(u)},[i,o]),k(Gz,H({role:"menu",onClick:l},s),n?k(K3e,{statusLabel:r}):a)},Vq=c.createContext({setItemState:ct,getItemState:()=>{},setGroupState:ct,getGroupState:()=>({})}),J3e=e=>{const{children:t}=e,n=c.useRef({}),r=c.useMemo(()=>({setItemState:(o,a,s)=>{n.current[o]||(n.current[o]={}),n.current[o][a]=s},getItemState:(o,a)=>{if(n.current[o])return n.current[o][a]},setGroupState:(o,a)=>{n.current[o]=a},getGroupState:o=>n.current[o]||{}}),[]);return _.createElement(Vq.Provider,{value:r},t)};function r4(){const{registerRef:e}=c.useContext(n4),t=c.useRef(null);return c.useEffect(()=>{t.current!==null&&e(t.current)},[e]),t}const Bq="ds--dropdown--",Z3e=()=>`${Bq}${Math.random().toString(16).substr(2,8)}`;function Q3e(){return c.useRef(Z3e()).current}const eOe=gt(),tOe=`calc(100vh - ${eOe*2}px)`,ti={top:"bottom",bottom:"top",left:"right",right:"left",start:"end",auto:"auto",end:"start"},nOe=e=>{const t=e.split("-"),n=t[0];if(["top","bottom"].includes(n))if(t.length===2&&["start","end"].includes(t[1])){const r=t[1];return[`${n}`,`${n}-${ti[r]}`,`${ti[n]}-${r}`,`${ti[n]}`,`${ti[n]}-${ti[r]}`,"auto"]}else return[`${n}-start`,`${n}-end`,`${ti[n]}`,`${ti[n]}-start`,`${ti[n]}-end`,"auto"];else return},Uq=e=>{const{defaultOpen:t=!1,isOpen:n,onOpenChange:r=ct,children:o,placement:a="bottom-start",trigger:s,spacing:i,shouldFlip:l=!0,shouldRenderToParent:d=!1,isLoading:u=!1,autoFocus:f=!1,testId:p,statusLabel:m,zIndex:g=Qt.modal()}=e,[v,b]=gi(n,()=>t),y=c.useContext(sx),[E,w]=c.useState(!1),C=c.useMemo(()=>nOe(a),[a]),x=c.useCallback($=>{const L=!v,{clientX:F,clientY:B,type:V}=$;(V==="keydown"||F===0||B===0)&&w(!0),b(L),r({isOpen:L,event:$})},[r,v,b]),S=c.useCallback($=>{if($.key!=="Escape"&&$.target.closest(`[id^=${Bq}] [aria-haspopup]`))return;const L=!1;b(L),r({isOpen:L,event:$})},[r,b]),{isFocused:I,bindFocus:A}=Fz();c.useEffect(()=>!I||v?ct:Zl.bind(window,{type:"keydown",listener:function(L){L.key===z1&&(L.preventDefault(),x(L))}}),[I,v,x]);const T=Q3e(),O=y>0,D=r4();return _.createElement(J3e,null,_.createElement(Ch,{id:v?T:void 0,shouldFlip:l,isOpen:v,onClose:O?void 0:S,zIndex:g,placement:a,fallbackPlacements:C,testId:p&&`${p}--content`,shouldUseCaptureOnOutsideClick:!0,shouldRenderToParent:Pt("platform.design-system-team.render-popup-in-parent_f73ij")?d:void 0,trigger:$=>{if(typeof s=="function"){const{ref:L,...F}=$;return s({...F,...A,triggerRef:O?yo([L,D]):L,isSelected:v,onClick:x,testId:p&&`${p}--trigger`})}return _.createElement(ht,H({},A,{ref:O?yo([$.ref,D]):$.ref,"aria-controls":$["aria-controls"],"aria-expanded":$["aria-expanded"],"aria-haspopup":$["aria-haspopup"],isSelected:v,iconAfter:_.createElement(wh,{size:"medium",label:""}),onClick:x,testId:p&&`${p}--trigger`}),s)},content:({setInitialFocusRef:$,update:L})=>{const F=_.createElement(W3e,null,_.createElement(X3e,{spacing:i,maxHeight:tOe,maxWidth:800,onClose:S,onUpdate:L,isLoading:u,statusLabel:m,setInitialFocusRef:E||f?$:void 0},_.createElement(sx.Provider,{value:y+1},o)));return O?F:_.createElement(U3e,null,F)}}))},zf=c.forwardRef((e,t)=>{const{component:n,elemBefore:r,elemAfter:o,shouldTitleWrap:a=!0,shouldDescriptionWrap:s=!0,children:i,...l}=e,d=r4();return n?_.createElement(Qz,H({component:n,iconBefore:r,iconAfter:o,ref:yo([t,d]),shouldTitleWrap:a,shouldDescriptionWrap:s},l),i):e.href?_.createElement(eW,H({href:e.href,iconBefore:r,iconAfter:o,role:"menuitem",ref:yo([t,d]),shouldTitleWrap:a,shouldDescriptionWrap:s},l),i):_.createElement(i5,H({role:"menuitem",iconBefore:r,iconAfter:o,ref:yo([t,d]),shouldTitleWrap:a,shouldDescriptionWrap:s},l),i)}),rOe=({checked:e})=>_.createElement(YI,{label:"",size:"medium",primaryColor:e?`var(--ds-background-selected-bold, ${Jt})`:`var(--ds-background-input, ${Xl})`,secondaryColor:e?`var(--ds-icon-inverse, ${Xl})`:"transparent"},_.createElement("g",{fillRule:"evenodd"},_.createElement("circle",{fill:"currentColor",cx:"12",cy:"12",r:"6",stroke:e?`var(--ds-border-selected, ${Jt})`:`var(--ds-border-input, ${Pt("platform.design-system-team.border-checkbox_nyoiu")?ji:Ut})`,strokeWidth:Pt("platform.design-system-team.border-checkbox_nyoiu")?1:2}),_.createElement("circle",{fill:"inherit",cx:"12",cy:"12",r:"2"}))),oOe=e=>Object.keys(e||{}).reduce((t,n)=>({...t,[n]:typeof e[n]>"u"?void 0:!1}),{}),aOe=c.createContext({id:"",radioGroupState:{},selectRadioItem:ct});function sOe({id:e,isSelected:t,defaultSelected:n}){const{setGroupState:r,getGroupState:o}=c.useContext(Vq),{id:a,radioGroupState:s,selectRadioItem:i}=c.useContext(aOe),l=s[e],[d,u]=c.useState(()=>l!==void 0?l:n||!1),f=c.useCallback(p=>{if(!l){const m=p(l);i(e,m),u(m)}},[l,e,i]);if(c.useEffect(()=>{u(()=>{const p=s[e];return p!==void 0?p:n||!1})},[s,a,e,n]),typeof t=="boolean")return[t,()=>!1];if(l===void 0){const p=o(a);r(a,{...oOe(p||{}),[e]:n||!1})}return[d,f]}const iOe=()=>!!(typeof window<"u"&&window.document&&window.document.createElement),lOe=()=>/Mac OS X/.test(iOe()?navigator.userAgent:""),iR=e=>{const{id:t,isSelected:n,defaultSelected:r,onClick:o=ct,shouldTitleWrap:a=!0,shouldDescriptionWrap:s=!0,...i}=e;typeof process<"u";const[l,d]=sOe({id:t,isSelected:n,defaultSelected:r}),u=c.useCallback(p=>{d(m=>!m),o(p)},[o,d]),f=r4();return _.createElement(o5.Provider,{value:"none"},_.createElement(i5,H({id:t,onClick:u,role:lOe()?"radio":"menuitemradio","aria-checked":l,shouldTitleWrap:a,shouldDescriptionWrap:s,iconBefore:_.createElement(rOe,{checked:l}),isSelected:l&&Pt("platform.design-system-team.menu-selected-state-change_0see9"),ref:f},i)))};var o4={},Nh={};Object.defineProperty(Nh,"__esModule",{value:!0});var ly=Nh.default=void 0,cOe=Hq(c),dOe=Hq(Oe);function Hq(e){return e&&e.__esModule?e:{default:e}}const zq=e=>cOe.default.createElement(dOe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M12.75 3.25V14c0 .69-.56 1.25-1.25 1.25h-7c-.69 0-1.25-.56-1.25-1.25V3.25m9.5 0h1.75m-1.75 0h-2.5m-7 0H1.5m1.75 0h2.5m0 0V.75h4.5v2.5m-4.5 0h4.5M6.5 5.5V13m3-7.5V13"/>'},e));zq.displayName="DeleteIcon";ly=Nh.default=zq;var cy={};Object.defineProperty(cy,"__esModule",{value:!0});cy.default=void 0;var uOe=Wq(c),fOe=je,pOe=Wq(Nh);function Wq(e){return e&&e.__esModule?e:{default:e}}const Gq=e=>uOe.default.createElement(fOe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M5 5a1 1 0 0 0-1 1v1h16V6a1 1 0 0 0-1-1zm11.15 15h-8.3a1 1 0 0 1-.99-.83L5 8h14l-1.86 11.17a1 1 0 0 1-.99.83M9 4.5a.5.5 0 0 1 .49-.5h5.02a.5.5 0 0 1 .49.5V5H9z"/></svg>'},e,{newIcon:pOe.default}));Gq.displayName="TrashIcon";cy.default=Gq;Object.defineProperty(o4,"__esModule",{value:!0});var Ui=o4.default=void 0,mOe=a4(c),hOe=a4(Nh),gOe=a4(cy);function a4(e){return e&&e.__esModule?e:{default:e}}const qq=e=>mOe.default.createElement(hOe.default,Object.assign({LEGACY_fallbackIcon:gOe.default},e));qq.Name="DeleteIconMigration";Ui=o4.default=qq;function vOe(e){return({container:t})=>(Object.assign(t.style,{borderLeft:`${e.x} solid transparent`,borderTop:`${e.y} solid transparent`}),{x:0,y:0})}function bOe(){return{x:0,y:0}}function yOe({render:e,nativeSetDragImage:t,getOffset:n=bOe}){const r=document.createElement("div");Object.assign(r.style,{position:"fixed",top:0,left:0,zIndex:Oq,pointerEvents:"none"}),document.body.append(r);const o=e({container:r});queueMicrotask(()=>{const i=n({container:r});if(wc()){const l=r.getBoundingClientRect();if(l.width===0)return;r.style.left=`-${l.width-1e-4}px`}t==null||t(r,i.x,i.y)});function a(){s(),o==null||o(),document.body.removeChild(r)}const s=da({onDragStart:a,onDrop:a})}var s4={},dy={};Object.defineProperty(dy,"__esModule",{value:!0});dy.default=void 0;var EOe=Yq(c),wOe=Yq(Oe);function Yq(e){return e&&e.__esModule?e:{default:e}}const Kq=e=>EOe.default.createElement(wOe.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" d="M5 2.25a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0m4.5 0a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0M5 6a1.25 1.25 0 1 1-2.5 0A1.25 1.25 0 0 1 5 6m4.5 0A1.25 1.25 0 1 1 7 6a1.25 1.25 0 0 1 2.5 0M5 9.75a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0m4.5 0a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0"/>',type:"utility"},e));Kq.displayName="DragHandleIcon";dy.default=Kq;var uy={},fy={};Object.defineProperty(fy,"__esModule",{value:!0});fy.default=void 0;var COe=Xq(c),_Oe=Xq(Oe);function Xq(e){return e&&e.__esModule?e:{default:e}}const Jq=e=>COe.default.createElement(_Oe.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" d="M7 2.75a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0m5.5 0a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0M7 8a1.75 1.75 0 1 1-3.5 0A1.75 1.75 0 0 1 7 8m5.5 0A1.75 1.75 0 1 1 9 8a1.75 1.75 0 0 1 3.5 0M7 13.25a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0m5.5 0a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0"/>'},e));Jq.displayName="DragHandleVerticalIcon";fy.default=Jq;Object.defineProperty(uy,"__esModule",{value:!0});uy.default=void 0;var xOe=Zq(c),SOe=je,kOe=Zq(fy);function Zq(e){return e&&e.__esModule?e:{default:e}}const Qq=e=>xOe.default.createElement(SOe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><circle cx="10" cy="8" r="1"/><circle cx="14" cy="8" r="1"/><circle cx="10" cy="16" r="1"/><circle cx="14" cy="16" r="1"/><circle cx="10" cy="12" r="1"/><circle cx="14" cy="12" r="1"/></g></svg>'},e,{newIcon:kOe.default}));Qq.displayName="DragHandlerIcon";uy.default=Qq;Object.defineProperty(s4,"__esModule",{value:!0});var eY=s4.default=void 0,IOe=i4(c),TOe=i4(dy),AOe=i4(uy);function i4(e){return e&&e.__esModule?e:{default:e}}const tY=e=>IOe.default.createElement(TOe.default,Object.assign({LEGACY_fallbackIcon:AOe.default},e));tY.Name="DragHandleIconMigration";eY=s4.default=tY;const DOe=M({color:"var(--ds-text, #172B4D)",borderRadius:"var(--ds-border-radius-100, 4px)",padding:"var(--ds-space-0, 0px)",width:"max-content",border:"none",cursor:"grab",display:"flex"}),OOe={default:M({backgroundColor:"var(--ds-background-neutral, #091E420F)","&:hover":{backgroundColor:"var(--ds-background-neutral-hovered, #091E4224)"},"&:active":{backgroundColor:"var(--ds-background-neutral-pressed, #091E424F)"}}),subtle:M({backgroundColor:"var(--ds-background-neutral-subtle, #00000000)","&:hover":{backgroundColor:"var(--ds-background-neutral-subtle-hovered, #091E420F)"},"&:active":{backgroundColor:"var(--ds-background-neutral-subtle-pressed, #091E4224)"}}),selected:M({backgroundColor:"var(--ds-background-selected, #E9F2FF)",color:"var(--ds-text-selected, #0C66E4)"})},MOe=c.forwardRef(function({children:t,isSelected:n=!1,testId:r,appearance:o="default",type:a="button",...s},i){return k(vc,null,k("button",H({ref:i,css:[DOe,OOe[n?"selected":o]],"data-testid":r,type:a},s),t))}),$Oe=c.forwardRef(function({label:t,...n},r){return _.createElement(MOe,H({ref:r},n),_.createElement(eY,{color:"currentColor",spacing:"spacious",label:t}))}),go={borderRadius:0,thickness:2,backgroundColor:"var(--ds-border-selected, #0C66E4)"},Qd=8,ROe=M({display:"block",position:"absolute",zIndex:1,pointerEvents:"none",background:go.backgroundColor,"::before":{content:'""',width:Qd,height:Qd,boxSizing:"border-box",position:"absolute",border:`${go.thickness}px solid ${go.backgroundColor}`,borderRadius:"50%"}}),i0=(go.thickness-Qd)/2,lR=Qd/2,POe={horizontal:M({height:go.thickness,left:lR,right:0,"::before":{left:-Qd}}),vertical:M({width:go.thickness,top:lR,bottom:0,"::before":{top:-Qd}})},LOe={top:"horizontal",bottom:"horizontal",left:"vertical",right:"vertical"},NOe={top:M({top:"var(--local-line-offset)","::before":{top:i0}}),right:M({right:"var(--local-line-offset)","::before":{right:i0}}),bottom:M({bottom:"var(--local-line-offset)","::before":{bottom:i0}}),left:M({left:"var(--local-line-offset)","::before":{left:i0}})};function nY({edge:e,gap:t="0px"}){const n=`calc(-0.5 * (${t} + ${go.thickness}px))`,r=LOe[e];return k("div",{css:[ROe,POe[r],NOe[e]],style:{"--local-line-offset":n}})}const Wf=xr({"draggable-list.dropdown-menu-move-to-top":{id:"draggable-list.dropdown-menu-move-to-top",defaultMessage:"Move to top",description:"Button label for moving an item to the top of the list in the draggable list dropdown"},"draggable-list.dropdown-menu-move-up":{id:"draggable-list.dropdown-menu-move-up",defaultMessage:"Move up",description:"Button label for moving an item up the list in the draggable list dropdown"},"draggable-list.dropdown-menu-move-down":{id:"draggable-list.dropdown-menu-move-down",defaultMessage:"Move down",description:"Button label for moving an item down the list in the draggable list dropdown"},"draggable-list.dropdown-menu-move-to-bottom":{id:"draggable-list.dropdown-menu-move-to-bottom",defaultMessage:"Move to bottom",description:"Button label for moving an item to the bottom of the list in the draggable list dropdown"},"draggable-list.drag-handle-label":{id:"draggable-list.drag-handle-label",defaultMessage:"Reorder",description:"The label for the drag handle in the draggable list"}}),rY=c.createContext(null);function oY(){const e=c.useContext(rY);if(!e)throw new Error("listContext is null");return e}function FOe({position:e,index:t,item:n,onReorder:r,setListState:o}){const{formatMessage:a}=Ee(),{getListLength:s}=oY(),i=e==="first"||e==="only",l=e==="last"||e==="only",d=c.useCallback(()=>{r==null||r(t,0),o(m=>({...m,lastCardMoved:{item:n}}))},[t,n,r,o]),u=c.useCallback(()=>{r==null||r(t,t-1),o(m=>({...m,lastCardMoved:{item:n}}))},[t,n,r,o]),f=c.useCallback(()=>{r==null||r(t,t+1),o(m=>({...m,lastCardMoved:{item:n}}))},[t,n,r,o]),p=c.useCallback(()=>{r==null||r(t,s()-1),o(m=>({...m,lastCardMoved:{item:n}}))},[r,t,s,o,n]);return h.jsxs(qa,{children:[h.jsx(zf,{onClick:d,isDisabled:i,children:a(Wf["draggable-list.dropdown-menu-move-to-top"])}),h.jsx(zf,{onClick:u,isDisabled:i,children:a(Wf["draggable-list.dropdown-menu-move-up"])}),h.jsx(zf,{onClick:f,isDisabled:l,children:a(Wf["draggable-list.dropdown-menu-move-down"])}),h.jsx(zf,{onClick:p,isDisabled:l,children:a(Wf["draggable-list.dropdown-menu-move-to-bottom"])})]})}const l4=Symbol("item"),jOe=ie({display:"flex",alignItems:"center",borderRadius:"border.radius.100",height:"auto",boxSizing:"border-box",position:"relative",borderWidth:"border.width.0",borderBottomWidth:"border.width",borderBottomColor:"transparent",borderStyle:"solid",justifyContent:"center"}),cR=ie({paddingRight:"space.100",paddingLeft:"space.100"}),VOe=ie({":hover":{backgroundColor:"color.background.neutral"}}),BOe=ie({background:gn}),UOe=ie({border:"border.width.200",borderColor:"color.border.focused"}),HOe=ie({border:"border.width.200",borderColor:"color.border.danger"}),zOe=ie({border:"space.025"}),WOe=ie({paddingBlock:"space.050",paddingInline:"space.100",borderRadius:"border.radius.100",backgroundColor:"elevation.surface.overlay",maxWidth:"360px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),GOe=ie({opacity:.4}),dR={type:"idle"},uR={type:"dragging"};function qOe({item:e,index:t,instanceId:n}){return{[l4]:!0,item:e,index:t,instanceId:n}}function YOe(e){return e[l4]===!0}function KOe({item:e,index:t,position:n,renderField:r,onReorder:o,onValueChange:a,isDisabled:s,isReadonly:i,autoFocus:l,noDelete:d,onDelete:u,activeId:f,errorId:p,editingId:m,setListState:g,isHovering:v}){const{formatMessage:b}=Ee(),{registerItem:y,instanceId:E}=oY(),w=c.useRef(null),[C,x]=c.useState(null),S=c.useRef(null),[I,A]=c.useState(dR);c.useEffect(()=>{if(!w.current||!S.current)return;const B=w.current,V=qOe({item:e,index:t,instanceId:E}),Y=e.id;return ir(y({itemId:Y,element:B}),Cc({element:B,dragHandle:S.current,getInitialData:()=>V,onGenerateDragPreview({nativeSetDragImage:J}){yOe({nativeSetDragImage:J,getOffset:vOe({x:U("space.200","16px"),y:U("space.100","8px")}),render({container:z}){return A({type:"preview",container:z}),()=>A(uR)}})},onDragStart(){A(uR)},onDrop(){A(dR)}}),ju({element:B,canDrop({source:J}){return YOe(J.data)&&J.data.instanceId===E},getData({input:J}){return Lh(V,{element:B,input:J,allowedEdges:["top","bottom"]})},onDrag({self:J,source:z}){if(z.element===B){x(null);return}const le=ua(J.data),j=z.data.index;if(typeof j!="number")return;const Z=t===j-1,K=t===j+1;if(Z&&le==="bottom"||K&&le==="top"){x(null);return}x(le)},onDragLeave(){x(null)},onDrop(){x(null)}}))},[E,e,t,y]);const T=e.name,O=e.label,D=e.contentTitle;let $,L,F;return e&&typeof e=="object"&&"id"in e&&($=e.id===f,L=e.id===m,F=e.id===p),h.jsxs(c.Fragment,{children:[h.jsx("li",{children:h.jsxs(_e,{ref:w,xcss:[jOe,$&&BOe,L&&UOe,L&&F&&HOe,!L&&zOe,!$&&VOe,I.type==="dragging"&&GOe],children:[!i&&h.jsx(Uq,{trigger:({triggerRef:B,...V})=>h.jsx(_e,{xcss:cR,children:h.jsx($Oe,{ref:yo([S,B]),...V,label:b(Wf["draggable-list.drag-handle-label"]),"data-testid":"drag-handle",tabIndex:0,appearance:"subtle",style:{display:"flex",justifyContent:"center",opacity:v?"1":"0"}})}),children:h.jsx(qa,{children:h.jsx(FOe,{position:n,index:t,item:e,onReorder:o,setListState:g})})}),r({i:t,value:e,onChange:(B,V)=>{a==null||a(t,B,V)},isDisabled:s||!1,isReadonly:i||!1,autoFocus:l===t}),C&&h.jsx(nY,{edge:C,gap:"1px"}),!d&&!i?h.jsx(_e,{xcss:cR,children:h.jsx(ht,{testId:"list-item-delete",iconBefore:h.jsx(Ui,{label:"",LEGACY_size:"small"}),onClick:()=>{u==null||u(t)},appearance:"subtle",spacing:"compact",isDisabled:s,style:{opacity:v?"1":"0"}})}):h.jsx("div",{})]})}),I.type==="preview"&&(T||O||D)&&o_.createPortal(h.jsx(_e,{xcss:WOe,children:T||O||D}),I.container)]})}const XOe=ie({listStyleType:"none",padding:"space.0",display:"flex",flexDirection:"column"});function hw(e){return e[l4]===!0}function JOe({index:e,items:t}){return t.length===1?"only":e===0?"first":e===t.length-1?"last":"middle"}function ZOe(){const e=new Map;function t({itemId:r,element:o}){return e.set(r,o),function(){e.delete(r)}}function n(r){return e.get(r)??null}return{register:t,getElement:n}}function QOe({onReorder:e,onValueChange:t,renderField:n,getId:r,values:o,isDisabled:a,isReadonly:s,autoFocus:i,noDelete:l,onDelete:d,activeId:u,errorId:f,editingId:p,isHovering:m}){const[{items:g,lastCardMoved:v},b]=c.useState({items:o,lastCardMoved:null}),[y]=c.useState(ZOe),E=c.useCallback(({startIndex:I,indexOfTarget:A,closestEdgeOfTarget:T})=>{const O=B3e({startIndex:I,closestEdgeOfTarget:T,indexOfTarget:A,axis:"vertical"});O!==I&&(e==null||e(I,O),b(D=>({...D,lastCardMoved:{item:g[I]}})))},[g,e]);c.useEffect(()=>{b(A=>({...A,items:o}));const I=Zm(()=>{if(v===null)return;const A=y.getElement(v.item.id);A&&(t4(A),b(T=>({...T,lastCardMoved:null})))},0);return I(),()=>{I.cancel()}},[v,y,o]);const[w]=c.useState(()=>Symbol("instance-id"));c.useEffect(()=>da({canMonitor({source:I}){return hw(I.data)&&I.data.instanceId===w},onDrop({location:I,source:A}){const T=I.current.dropTargets[0],O=T==null?void 0:T.data;if(!T||!hw(A.data)||!hw(T.data)||T.data.index<0)return;const D=ua(O);E({startIndex:A.data.index,indexOfTarget:T.data.index,closestEdgeOfTarget:D})}}),[w,g,e,E,o]);const C=c.useCallback(()=>g.length,[g.length]),x=c.useMemo(()=>({registerItem:y.register,instanceId:w,getListLength:C}),[y.register,w,C]),S=c.useMemo(()=>g.map((I,A)=>h.jsx(KOe,{item:I,index:A,position:JOe({index:A,items:g}),renderField:n,onReorder:e,onValueChange:t,isDisabled:a,isReadonly:s,autoFocus:i,noDelete:l,onDelete:d,activeId:u,errorId:f,editingId:p,setListState:b,isHovering:m},(r==null?void 0:r(I))??A)),[u,i,p,f,a,m,s,r,g,l,d,e,t,n]);return h.jsx(rY.Provider,{value:x,children:h.jsx(Rt,{as:"ul",xcss:XOe,testId:"draggable-list-items",children:S})})}const c4=c.createContext(void 0),aY=M({display:"inline-block",color:"var(--ds-text-subtle, #44546F)",font:'var(--ds-font-body-UNSAFE_small, normal 400 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)',fontWeight:"var(--ds-font-weight-bold, 700)",marginBlockEnd:"var(--ds-space-050, 4px)",marginBlockStart:"var(--ds-space-0, 0px)"}),Vu=({children:e,htmlFor:t,id:n,testId:r})=>k("label",{css:aY,id:n,htmlFor:t,"data-testid":r},e),CIt=({children:e})=>k("legend",{css:aY},e),eMe=M({color:`var(--ds-text-danger, ${bn})`,fontFamily:'var(--ds-font-family-body, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)',paddingInlineStart:"var(--ds-space-025, 2px)"});function Fh(){return k("span",{css:eMe,"aria-hidden":"true",title:"required"},"*")}var d4={};Object.defineProperty(d4,"__esModule",{value:!0});var sY=d4.default=void 0,tMe=iY(c),nMe=je,rMe=iY(Au);function iY(e){return e&&e.__esModule?e:{default:e}}const lY=e=>tMe.default.createElement(nMe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16m1.364-10.964-2.152 4.11-1.543-1.39a1 1 0 1 0-1.338 1.487l2.5 2.25a1 1 0 0 0 1.555-.279l2.75-5.25a1 1 0 0 0-1.772-.928"/></svg>'},e,{newIcon:rMe.default}));lY.displayName="EditorSuccessIcon";sY=d4.default=lY;const oMe=M({display:"flex",justifyContent:"baseline",gap:"var(--ds-space-050, 4px)",font:'var(--ds-font-body-UNSAFE_small, normal 400 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)',marginBlockStart:"var(--ds-space-050, 4px)"}),aMe={default:M({color:`var(--ds-text-subtlest, ${jt})`}),error:M({color:"var(--ds-text-danger, #AE2A19)"}),valid:M({color:"var(--ds-text-success, #216E4E)"})},sMe=M({display:"flex"}),iMe=({children:e})=>k("span",{css:sMe},e),lMe={error:k(p1,{size:"small",label:"error"}),valid:k(sY,{size:"small",label:"success"})},u4=({children:e,appearance:t="default",fieldId:n,testId:r})=>{const o=lMe[t],a=c.useRef(null),[s,i]=c.useState(!1),{isWrapper:l}=c.useContext(cMe);c.useEffect(()=>{a.current&&i(l)},[l]);const d=typeof e=="string"?e:k("span",null,e);return k("div",{css:[oMe,aMe[t]],"data-testid":r,id:n,ref:a,"aria-live":s?void 0:"polite"},o&&k(iMe,null,o),d)},py=({children:e,testId:t})=>k(c4.Consumer,null,n=>k(u4,{fieldId:n?`${n}-helper`:void 0,testId:t},e)),Bu=({children:e,testId:t})=>k(c4.Consumer,null,n=>k(u4,{appearance:"error",fieldId:n?`${n}-error`:void 0,testId:t},e)),_It=({children:e,testId:t})=>k(c4.Consumer,null,n=>k(u4,{appearance:"valid",fieldId:n?`${n}-valid`:void 0,testId:t},e)),cMe=c.createContext({isWrapper:!1}),f4=gt(),cY=f4*2.5,dY=f4*2,uY=2,fY=6,dMe=f4,fR="0.2s",ix=yu(),uMe=Eu(),fMe=iF(),pY=2,pMe={WebkitTextFillColor:"unset",WebkitOpacity:"1"},mMe=(e,t)=>cY*e+fY*2+t*2,hMe=(e,t)=>dY*e+uY*2+t*2,gMe=(e,t)=>M({"&:focus":{backgroundColor:e.backgroundColorFocus,borderColor:e.borderColorFocus,boxShadow:Pt("platform.design-system-team.border-checkbox_nyoiu")?`inset 0 0 0 var(--ds-border-width, 1px) ${e.borderColorFocus}`:void 0},"&:not(:focus)":{backgroundColor:e.backgroundColor,borderColor:e.borderColor},"&[data-invalid]:focus":{backgroundColor:e.invalidRules.backgroundColorFocus,borderColor:e.invalidRules.borderColorFocus,boxShadow:Pt("platform.design-system-team.border-checkbox_nyoiu")?`inset 0 0 0 var(--ds-border-width, 1px) ${e.invalidRules.borderColorFocus}`:void 0},"&[data-invalid]:not(:focus)":{backgroundColor:e.invalidRules.backgroundColor,borderColor:e.invalidRules.borderColor,boxShadow:Pt("platform.design-system-team.border-checkbox_nyoiu")?`inset 0 0 0 var(--ds-border-width, 1px) ${e.invalidRules.borderColor}`:void 0},...t==="standard"?{"&:disabled:focus":{backgroundColor:e.disabledRules.backgroundColorFocus,borderColor:e.disabledRules.borderColorFocus},"&:disabled:not(:focus)":{backgroundColor:e.disabledRules.backgroundColor,borderColor:e.disabledRules.borderColor}}:{}}),vMe=e=>M({"&::placeholder":{color:e}}),bMe=e=>M({"&:hover:not(:read-only):not(:focus)":{backgroundColor:e.backgroundColorHover,borderColor:e.borderColorHover,"&:disabled":{backgroundColor:e.disabledRules.backgroundColorHover},"&[data-invalid]":{backgroundColor:e.invalidRules.backgroundColorHover,borderColor:e.invalidRules.borderColor,boxShadow:Pt("platform.design-system-team.border-checkbox_nyoiu")?`inset 0 0 0 var(--ds-border-width, 1px) ${e.invalidRules.borderColor}`:void 0}}}),yMe=e=>e==="horizontal"||e==="vertical"?M({resize:e}):e==="auto"?M({resize:"both"}):M({resize:"none"}),EMe=e=>M({borderStyle:e==="none"?"none":"solid"}),wMe=e=>M({fontFamily:e?fMe:uMe}),CMe=(e=1,t)=>{const n=Pt("platform.design-system-team.border-checkbox_nyoiu")&&t!=="none"?1:2,r=dMe-n,o=n;return M({"&[data-compact]":{minHeight:hMe(e,o),padding:`${uY}px ${r}px`,lineHeight:dY/ix},"&:not([data-compact])":{minHeight:mMe(e,o),padding:`${fY}px ${r}px`,lineHeight:cY/ix}})},_Me=M({display:"block",boxSizing:"border-box",width:"100%",minWidth:0,maxWidth:"100%",margin:0,position:"relative",flex:"1 1 100%",borderRadius:"var(--ds-border-radius, 3px)",borderWidth:Pt("platform.design-system-team.border-checkbox_nyoiu")?1:pY,fontSize:ix,outline:"none",overflow:"auto",transition:`background-color ${fR} ease-in-out,
               border-color ${fR} ease-in-out`,wordWrap:"break-word","&:disabled":{cursor:"not-allowed",...pMe},"&::-ms-clear":{display:"none"},"&:invalid":{boxShadow:"none"}}),xMe=({minimumRows:e,resize:t,appearance:n,isMonospaced:r,maxHeight:o})=>M([_Me,CMe(e,n),yMe(t),EMe(n),wMe(r),{maxHeight:o}]),SMe=(e,t)=>M([gMe(e,t),bMe(e),vMe(e.placeholderTextColor),{color:e.textColor,"&:disabled":{color:e.disabledRules.textColor}}]),Wc={light:`var(--ds-background-disabled, ${Ke})`,dark:`var(--ds-background-disabled, ${Ode})`},pR={light:`var(--ds-border-disabled, ${Ut})`,dark:`var(--ds-border-disabled, ${yk})`},mR={light:`var(--ds-border-danger, ${bn})`,dark:`var(--ds-border-danger, ${bn})`},mY={light:`var(--ds-border-input, ${Pt("platform.design-system-team.border-checkbox_nyoiu")?ji:Ut})`,dark:`var(--ds-border-input, ${Pt("platform.design-system-team.border-checkbox_nyoiu")?c1:yk})`},eu={light:`var(--ds-border-focused, ${vn})`,dark:`var(--ds-border-focused, ${cn})`},lx={light:`var(--ds-background-input, ${Xl})`,dark:`var(--ds-background-input, ${qm})`},Kv={light:`var(--ds-background-input-hovered, ${Dt})`,dark:`var(--ds-background-input-hovered, ${El})`},Xv={light:`var(--ds-background-input-pressed, ${Ve})`,dark:`var(--ds-background-input-pressed, ${qm})`},kMe={light:"var(--ds-border-input, transparent)",dark:"var(--ds-border-input, transparent)"},IMe={light:`var(--ds-text-subtlest, ${jt})`,dark:`var(--ds-text-subtlest, ${c1})`},TMe={light:`var(--ds-text, ${Ba})`,dark:`var(--ds-text, ${cF})`},hR={light:`var(--ds-text-disabled, ${an})`,dark:`var(--ds-text-disabled, ${lF})`},Hi={light:"transparent",dark:"transparent"},AMe={light:{backgroundColor:Wc.light,backgroundColorFocus:Wc.light,backgroundColorHover:Wc.light,borderColor:pR.light,borderColorFocus:eu.light,textColor:hR.light},dark:{backgroundColor:Wc.dark,backgroundColorFocus:Wc.dark,backgroundColorHover:Wc.dark,borderColor:pR.dark,borderColorFocus:eu.dark,textColor:hR.dark}},DMe={light:{borderColor:mR.light,borderColorFocus:eu.light,backgroundColor:lx.light,backgroundColorFocus:Xv.light,backgroundColorHover:Kv.light},dark:{borderColor:mR.dark,borderColorFocus:eu.dark,backgroundColor:lx.dark,backgroundColorFocus:Xv.dark,backgroundColorHover:Kv.dark}},OMe={standard:lx,subtle:Hi,none:Hi},MMe={standard:Xv,subtle:Xv,none:Hi},$Me={standard:Kv,subtle:Kv,none:Hi},RMe={standard:mY,subtle:Hi,none:Hi},PMe={standard:eu,subtle:eu,none:Hi},LMe={standard:mY,subtle:kMe,none:Hi},gR=tF(({appearance:e,mode:t})=>({borderColor:RMe[e][t],borderColorFocus:PMe[e][t],borderColorHover:LMe[e][t],backgroundColorHover:$Me[e][t],backgroundColorFocus:MMe[e][t],backgroundColor:OMe[e][t],disabledRules:AMe[t],invalidRules:DMe[t],textColor:TMe[t],placeholderTextColor:IMe[t]})),NMe="@atlaskit/textarea",FMe="4.7.7",vR={componentName:"textArea",packageName:NMe,packageVersion:FMe},bR=e=>{e.style.height="auto";const t=pY,r=e.scrollHeight+t*2;e.style.height=`${r}px`},jMe=c.forwardRef((e,t)=>{const n=c.useRef(null),{resize:r="smart",appearance:o="standard",isCompact:a=!1,isRequired:s=!1,isReadOnly:i=!1,isDisabled:l=!1,isInvalid:d=!1,isMonospaced:u=!1,minimumRows:f=2,theme:p,testId:m,maxHeight:g="50vh",onBlur:v,onFocus:b,onChange:y,tokens:E,value:w,...C}=e;c.useEffect(()=>{const $=n.current;r==="smart"&&$&&bR($)},[r,w]);const x=Bv({fn:$=>{v&&v($)},action:"blurred",...vR}),S=Bv({fn:$=>{b&&b($)},action:"focused",...vR}),I=$=>{n.current=$,t&&typeof t=="object"&&(t.current=$),t&&typeof t=="function"&&t($)},A=c.useCallback($=>{const L=n.current;r==="smart"&&L&&bR(L),y&&y($)},[y,r]),T={"data-invalid":d||void 0,"data-compact":a||void 0,"data-testid":m||void 0},O=c.useMemo(()=>xMe({minimumRows:f,resize:r,appearance:o,isMonospaced:u,maxHeight:g}),[f,r,o,u,g]),D=M([O,SMe(E,o)]);return k("textarea",H({},T,{value:w,disabled:l,readOnly:i,required:s,ref:I,onChange:A,onBlur:x,onFocus:S,rows:f,css:D},C))}),Uu=c.memo(c.forwardRef(function(t,n){const{mode:r}=l1();return k(gR.Provider,{value:t.theme},k(gR.Consumer,{appearance:t.appearance||"standard",mode:r},o=>k(jMe,H({ref:n},t,{tokens:o}))))}));Uu.displayName="TextArea";const Gc={light:`var(--ds-background-disabled, ${Xl})`,dark:`var(--ds-background-disabled, ${qm})`},cx={light:`var(--ds-background-input, ${Xl})`,dark:`var(--ds-background-input, ${qm})`},Jv={light:`var(--ds-background-input-pressed, ${Ve})`,dark:`var(--ds-background-input-pressed, ${qm})`},Zv={light:`var(--ds-background-input-hovered, ${Dt})`,dark:`var(--ds-background-input-hovered, ${El})`},hY={light:`var(--ds-border-input, ${Pt("platform.design-system-team.border-checkbox_nyoiu")?ji:Ut})`,dark:`var(--ds-border-input, ${Pt("platform.design-system-team.border-checkbox_nyoiu")?c1:yk})`},Qv={light:`var(--ds-border-focused, ${vn})`,dark:`var(--ds-border-focused, ${cn})`},VMe={light:"var(--ds-border-input, transparent)",dark:"var(--ds-border-input, transparent)"},zi={light:"transparent",dark:"transparent"},BMe={light:`var(--ds-text, ${Ba})`,dark:`var(--ds-text, ${cF})`},yR={light:`var(--ds-text-disabled, ${an})`,dark:`var(--ds-text-disabled, ${lF})`},UMe={light:`var(--ds-text-subtlest, ${jt})`,dark:`var(--ds-text-subtlest, ${c1})`},Gf=yu(),gw=gt(),yp={light:{backgroundColor:Gc.light,backgroundColorHover:Gc.light,borderColor:Gc.light,textColor:yR.light},dark:{backgroundColor:Gc.dark,backgroundColorHover:Gc.dark,borderColor:Gc.dark,textColor:yR.dark}},yf={light:{backgroundColor:cx.light,backgroundColorHover:Zv.light,backgroundColorFocus:Jv.light,borderColor:`var(--ds-border-danger, ${bn})`,borderColorFocus:Qv.light},dark:{backgroundColor:cx.dark,backgroundColorHover:Zv.dark,backgroundColorFocus:Jv.dark,borderColor:`var(--ds-border-danger, ${bn})`,borderColorFocus:Qv.dark}},HMe={standard:cx,subtle:zi,none:zi},zMe={standard:Jv,subtle:Jv,none:zi},WMe={standard:Zv,subtle:Zv,none:zi},GMe={standard:hY,subtle:zi,none:zi},ER={standard:Qv,subtle:Qv,none:zi},qMe={standard:hY,subtle:VMe,none:zi},YMe=(e,t)=>({backgroundColor:HMe[e][t],borderColor:GMe[e][t],color:BMe[t],cursor:"text","&:hover:not([data-disabled])":{backgroundColor:WMe[e][t],borderColor:qMe[e][t]},"&:focus-within:not([data-disabled])":{backgroundColor:zMe[e][t],borderColor:ER[e][t],boxShadow:Pt("platform.design-system-team.border-checkbox_nyoiu")?`inset 0 0 0 var(--ds-border-width, 1px) ${ER[e][t]}`:void 0},"&[data-disabled]":{color:yp[t].textColor,cursor:"not-allowed",...e==="standard"&&{backgroundColor:yp[t].backgroundColor,borderColor:yp[t].borderColor}},"&[data-invalid], &[data-invalid]:hover":{borderColor:yf[t].borderColor,boxShadow:Pt("platform.design-system-team.border-checkbox_nyoiu")?`inset 0 0 0 var(--ds-border-width, 1px) ${yf[t].borderColor}`:void 0},"&[data-invalid]:focus-within":{backgroundColor:yf[t].backgroundColorFocus,borderColor:yf[t].borderColorFocus,boxShadow:Pt("platform.design-system-team.border-checkbox_nyoiu")?`inset 0 0 0 var(--ds-border-width, 1px) ${yf[t].borderColorFocus}`:void 0},"@media screen and (-ms-high-contrast: active)":{"&[data-invalid]:focus-within":{borderColor:"Highlight"},"&:focus-within":{borderColor:"Highlight"},"&[data-disabled]":{borderColor:"GrayText"}}}),wR={xsmall:80,small:160,medium:240,large:320,xlarge:480},KMe=e=>e?e in wR?wR[e]:+e:"100%",XMe=(e,t,n)=>({alignItems:"center",...YMe(e,t),borderRadius:3,borderWidth:Pt("platform.design-system-team.border-checkbox_nyoiu")?"var(--ds-border-width, 1px)":2,...Pt("platform.design-system-team.border-checkbox_nyoiu")&&e!=="none"?{padding:"var(--ds-border-width, 1px) 0"}:{},borderStyle:e==="none"?"none":"solid",boxSizing:"border-box",display:"flex",flex:"1 1 100%",fontSize:Gf,justifyContent:"space-between",maxWidth:KMe(n),overflow:"hidden",transition:"background-color 0.2s ease-in-out, border-color 0.2s ease-in-out",wordWrap:"break-word",verticalAlign:"top",pointerEvents:"auto"}),JMe=e=>({backgroundColor:"transparent",border:0,boxSizing:"border-box",color:"inherit",cursor:"inherit",fontSize:Gf,minWidth:"0",outline:"none",width:"100%",lineHeight:gw*2.5/Gf,fontFamily:Eu(),"&[data-monospaced]":{fontFamily:iF()},"&[data-compact]":{padding:"var(--ds-space-050, 4px) var(--ds-space-075, 6px)",height:`${(gw*3.5/Gf).toFixed(2)}em`},"&:not([data-compact])":{padding:"var(--ds-space-100, 8px) var(--ds-space-075, 6px)",height:`${(gw*4.5/Gf).toFixed(2)}em`},"&[disabled]":{WebkitTextFillColor:yp[e].textColor},"&::-ms-clear":{display:"none"},"&:invalid":{boxShadow:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"},"&::placeholder":{color:UMe[e],"&:disabled":{color:yp[e].textColor}},"@media screen and (-ms-high-contrast: active)":{"&[disabled]":{color:"GrayText"}}}),CR={componentName:"textField",packageName:"@atlaskit/textfield",packageVersion:"5.6.8"},gY=c.forwardRef((e,t)=>{const{appearance:n="standard",className:r,elemAfterInput:o,elemBeforeInput:a,isCompact:s=!1,isDisabled:i=!1,isInvalid:l=!1,isMonospaced:d=!1,isReadOnly:u=!1,isRequired:f=!1,name:p,onBlur:m,onChange:g,onFocus:v,onMouseDown:b,placeholder:y,testId:E,width:w,...C}=e,x=c.useRef(null),{mode:S}=l1(),I=Bv({fn:L=>{v&&v(L)},action:"focused",...CR}),A=Bv({fn:L=>{m&&m(L)},action:"blurred",...CR}),T=c.useCallback(L=>{L.target.tagName!=="INPUT"&&L.preventDefault(),x&&x.current&&!i&&document.activeElement!==x.current&&x.current.focus(),b&&b(L)},[b,i]),O=c.useCallback(L=>{x.current=L,t&&(typeof t=="object"&&(t.current=L),typeof t=="function"&&t(L))},[t]),D=c.useMemo(()=>XMe(n,S,w),[n,S,w]),$=c.useMemo(()=>JMe(S),[S]);return k("div",{role:"presentation","data-disabled":i||void 0,"data-invalid":l||void 0,"data-ds--text-field--container":!0,"data-testid":E&&`${E}-container`,onMouseDown:T,css:D,className:r},a,k("input",H({},C,{"aria-invalid":l||void 0,css:$,"data-compact":s||void 0,"data-ds--text-field--input":!0,"data-monospaced":d||void 0,"data-testid":E,disabled:i,name:p,onBlur:A,onChange:g,onFocus:I,placeholder:y,readOnly:u,ref:O,required:f})),o)});gY.displayName="Textfield";const ts=c.memo(gY),dx=Re(ts).withConfig({displayName:"styled__SeamlessTextfield",componentId:"sc-k78woa-0"})(["margin-left:",";&&:not(:hover){background-color:transparent;}&&:not(:focus-within){border-color:transparent;}"],U("space.100","8px")),vY=Re(Uu).withConfig({displayName:"styled__SeamlessTextArea",componentId:"sc-k78woa-1"})(["&&:not(:hover){background-color:transparent;}&&:not(:focus-within){border-color:transparent;}"]),ZMe=Re(ht).attrs({shouldFitContainer:!0,appearance:"subtle",spacing:"compact"}).withConfig({displayName:"styled__FormButton",componentId:"sc-k78woa-2"})(["&&{height:40px;text-align:left;align-items:center;color:inherit !important;padding:0 2px;}"]),xIt=Re.div.withConfig({displayName:"styled__ToggleContainer",componentId:"sc-k78woa-3"})(["display:flex;align-items:center;justify-content:space-between;"]);var bY={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var a=arguments[o];if(a){var s=typeof a;if(s==="string"||s==="number")r.push(a);else if(Array.isArray(a)){if(a.length){var i=n.apply(null,a);i&&r.push(i)}}else if(s==="object"){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){r.push(a.toString());continue}for(var l in a)t.call(a,l)&&a[l]&&r.push(l)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(bY);var QMe=bY.exports;const fa=_r(QMe),e$e=Re.div.withConfig({displayName:"EditableList__Container",componentId:"sc-3yra71-0"})(["display:flex;flex-direction:column;max-height:",";padding:",";"],e=>e.verticalScroll?"395px":"none",e=>e.isViewsList?"6px":""),t$e=Re.div.withConfig({displayName:"EditableList__ContainerWithScroll",componentId:"sc-3yra71-1"})(["max-height:",";overflow-y:auto;overflow-x:",";padding-bottom:",";padding-left:",";padding-right:",";padding-top:",";"],e=>e.verticalScroll?"395px":"none",e=>e.verticalScroll?"hidden":"auto",U("space.025","2px"),U("space.050","4px"),U("space.025","2px"),U("space.050")),n$e=Re.div.withConfig({displayName:"EditableList__AddButtonContainer",componentId:"sc-3yra71-2"})(["background:",";margin:0 ",";&& button{padding:0 ",";"],U("elevation.surface.overlay","#FFFFFF"),U("space.025","2px"),U("space.150","12px")),r$e=`2px solid ${U("color.border")}`,o$e=Re.hr.withConfig({displayName:"EditableList__Hr",componentId:"sc-3yra71-3"})(["border:none;border-top:",";width:100%;"],r$e);function yY({values:e,onChange:t,onItemChange:n,onAddNewItem:r,onRemoveItem:o,onReorder:a,getNewValue:s,autoFocus:i,isViewsList:l,isHovering:d,...u}){const f=c.useRef(),p=De(()=>{f.current=e.length;const y=s(),E=[...e,y];r?r(y,E):t==null||t(E)},[s,t,r,e]),m=De((y,E,w)=>{const C=L0(e,x=>{x[y]=E});n?n(E,y,w,C):t==null||t(C)},[t,n,e]),g=De((y,E)=>{const w=L0(e,C=>{const[x]=C.splice(y,1);C.splice(E,0,x)});a?(a(e[y],y,E,w),f.current=E):t==null||t(w)},[t,a,e]),v=De(y=>{f.current=y===e.length-1&&y>0?y-1:y;const E=L0(e,w=>{w.splice(y,1)});o?o(e[y],y,E):t==null||t(E)},[t,o,e]);let b=f.current??(i?0:void 0);return typeof b=="number"&&b>=e.length&&(b=e.length===0?"addButton":e.length-1),f.current=void 0,h.jsx(EY,{...u,values:e,onAdd:p,onValueChange:m,onDelete:v,onReorder:g,autoFocus:b,isViewsList:l,isHovering:d})}function EY({getId:e,values:t,onAdd:n,onValueChange:r,onDelete:o,onReorder:a,autoFocus:s,renderField:i,addLabel:l,noAdd:d,noDelete:u,className:f,isHovering:p=!0,showDivider:m=!1,isReadonly:g=!1,isDisabled:v=!1,verticalScroll:b=!1,activeId:y=void 0,editingId:E=void 0,errorId:w=void 0,isViewsList:C=!1,onBlur:x,onFocus:S}){const I=c.useRef(null),A=c.useRef(null),{formatMessage:T}=Ee();cq(()=>{var L;if(typeof s=="number")return(L=I.current)==null?void 0:L.childNodes[s];if(s==="addButton")return A.current},s==="addButton"?"*":void 0);const O=c.useRef(0),D=De(()=>{O.current=0,n==null||n()},[n]),$=c.useCallback(L=>{var F;L.currentTarget.contains(L.relatedTarget)||(F=L.relatedTarget)!=null&&F.id.includes("ds--dropdown")?L.stopPropagation():x==null||x()},[x]);return h.jsxs(e$e,{isViewsList:C,className:fa([f]),verticalScroll:b,onBlur:$,onFocus:S,children:[h.jsx(t$e,{verticalScroll:b,isHovering:p,children:h.jsx(QOe,{onReorder:a,renderField:i,values:t,getId:e,isReadonly:g,isDisabled:v,autoFocus:s,onValueChange:r,noDelete:u,onDelete:o,activeId:y,errorId:w,editingId:E,isHovering:p})}),!d&&!g&&h.jsxs(n$e,{children:[m&&h.jsx(o$e,{}),h.jsx(ZMe,{iconBefore:h.jsx(Qr,{label:"",LEGACY_size:"small"}),onClick:D,ref:A,isDisabled:v,testId:"editable-list-add-button",children:l||T(G["field-settings.tag-add-item"])})]})]})}function jh({values:e,getNewValue:t,getId:n,onItemChange:r,onAddNewItem:o,onRemoveItem:a,onReorder:s,renderField:i,...l}){const[d,u]=_.useState(()=>e.length===0),{resolved:f,placeholderValue:p}=c.useMemo(()=>{const E=e;if(!d)return{resolved:E,placeholderValue:void 0};const w=t();return{resolved:[...E,w],placeholderValue:w}},[e,d,t]),m=_.useCallback(E=>E.filter(w=>p?n(w)!==n(p):!0),[n,p]),g=_.useCallback(async(E,w,C,x)=>{p&&n(E)===n(p)?o&&(await o(E,x),u(!1)):r&&await r(E,w,C,m(x))},[p,n,o,r,m]),v=_.useCallback(async(E,w)=>{d?o&&await o(E,m(w)):u(!0)},[d,o,m]),b=_.useCallback(async(E,w,C)=>{p&&n(E)===n(p)?u(!1):a&&await a(E,w,m(C)),C.length===0&&u(!0)},[p,n,a,m]),y=_.useCallback(async(E,w,C,x)=>{let S;p&&n(E)===n(p)?(S=x,o&&await o(E,S),u(!1)):p&&C===x.length-1?(S=x,o&&await o(p,S),u(!1)):S=m(x),s&&await s(E,w,C,S)},[p,n,s,o,m]);return h.jsx(yY,{getId:n,values:f,onItemChange:g,onAddNewItem:v,onRemoveItem:b,onReorder:y,getNewValue:t,renderField:i,...l})}const vw=Object.freeze([]);function a$e(e,{contentId:t,scope:n}){var r;return n?(((r=e.changesets.scopes[n])==null?void 0:r.activeSaveOperations[t])??0)>0:(e.changesets.activeSaveOperations[t]??0)>0}const p4=Jb((e,{contentId:t})=>t,(e,{contentId:t,scope:n="main"})=>{var r;return((r=e.changesets.scopes[n])==null?void 0:r.savingChangeset[t])??vw},(e,{contentId:t,scope:n="main"})=>{var r;return((r=e.changesets.scopes[n])==null?void 0:r.draftedChangesets[t])??vw},(e,t,n)=>e?[...t,...n]:vw)((e,{contentId:t,scope:n="main"})=>`${t}-${n}`),s$e=Jb(Xe,p4,(e,{viewSettings:t})=>t,(e,{ignoredEntries:t})=>t,e=>e,(e,t,n,r,o)=>{const a=Qle(e,t);return n?fu(e,a,n,o,r):a})((e,{contentId:t,scope:n="main",viewSettings:r})=>`${t}-${n}-${!!r}`),kt=Jb(s$e,(e,{includeDeleted:t})=>t,(e,t)=>t?e:{...e,fields:e.fields.filter(n=>!e.deletedFields.includes(n)),fieldsById:ap(e.fieldsById,e.deletedFields),entries:e.entries.filter(n=>!e.deletedEntries.includes(n)),entriesById:ap(e.entriesById,e.deletedEntries)})((e,{contentId:t,scope:n="main",viewSettings:r,includeDeleted:o})=>`${t}-${n}-${!!r}-${o}`),wY=(e,{entriesById:t,entries:n})=>t[n[n.indexOf(e)-1]],CY=(e,{entriesById:t,entries:n})=>t[n[n.indexOf(e)+1]],_Y=(e,{fieldsById:t,fields:n})=>t[n[n.indexOf(e)-1]],xY=(e,{fieldsById:t,fields:n})=>t[n[n.indexOf(e)+1]],SY=(e,{contentId:t,type:n})=>{const r=Hn(e,{contentId:t}),o=e.cellSelections.focusedItem;if(o&&(!("entryId"in o)||r.entries.includes(o.entryId))&&(!("fieldId"in o)||r.fields.includes(o.fieldId))&&(!n||o.type===n))return o},Hn=(e,{contentId:t})=>{const n=EF(jV.view);return kt(e,{contentId:t,scope:"view",includeDeleted:!0,viewSettings:n.settings})},Ki=(e,{contentId:t})=>Hn(e,{contentId:t}).entries.filter(r=>e.cellSelections.selectedEntireEntries.includes(r)),Tn=(e,{contentId:t})=>{const n=Hn(e,{contentId:t}),r=new Set([...e.cellSelections.selectedEntireFields,...e.cellSelections.selectedValues.map(o=>o.fieldId)]);return n.fields.filter(o=>r.has(o))},i$e=(e,t,n)=>Tn(e,{contentId:t}).includes(n),pr=(e,{contentId:t})=>{const n=Hn(e,{contentId:t}),r=new Set([...e.cellSelections.selectedEntireEntries,...e.cellSelections.selectedValues.map(o=>o.entryId)]);return n.entries.filter(o=>r.has(o))},kY=(e,t,n)=>pr(e,{contentId:t}).includes(n),Gs=(e,{contentId:t})=>Hn(e,{contentId:t}).fields.filter(r=>e.cellSelections.selectedEntireFields.includes(r)),m4=(e,{contentId:t})=>Hn(e,{contentId:t}).fields,IY=(e,{contentId:t})=>Gs(e,{contentId:t}).length,TY=(e,{contentId:t})=>Ki(e,{contentId:t}).length,AY=(e,{contentId:t})=>{const n=Hn(e,{contentId:t});return e.cellSelections.selectedValues.filter(r=>n.entries.includes(r.entryId)&&n.fields.includes(r.fieldId))},Wi=(e,{contentId:t})=>AY(e,{contentId:t}).length,h4=Jb((e,{contentId:t})=>IY(e,{contentId:t}),(e,{contentId:t})=>TY(e,{contentId:t}),(e,t)=>e>0?"column":t>0?"row":"cell")((e,{contentId:t})=>t),DY=(e,{contentId:t})=>{const n=Hn(e,{contentId:t}),r=n.fields.length===1,o=Gs(e,{contentId:t}),a=Tn(e,{contentId:t}),s=h4(e,{contentId:t});return s==="column"&&(n.fields.length===o.length||r)||s==="cell"&&n.fields.length===a.length||s==="row"&&n.fields.length===a.length||r},OY=(e,{contentId:t})=>{const n=Gs(e,{contentId:t}),r=Ki(e,{contentId:t});return n.length>0||r.length>0||Wi(e,{contentId:t})>0},ha=(e,{entryId:t,fieldId:n})=>e.cellSelections.selectedEntireEntries.includes(t)||e.cellSelections.selectedEntireFields.includes(n)||e.cellSelections.selectedValues.some(r=>r.fieldId===n&&r.entryId===t),g4=e=>e.cellSelections.softSelectEnabled,v4=e=>e.cellSelections.hoverDeleteButton==="entries",my=e=>e.cellSelections.hoverDeleteButton==="fields",Hu=(e,{fieldId:t})=>e.cellSelections.selectedEntireFields.includes(t),hy=(e,{entryId:t})=>e.cellSelections.selectedEntireEntries.includes(t);function MY(e,{contentId:t,entryId:n,fieldId:r}){const o=l$e(e,{contentId:t,entryId:n,fieldId:r}),a=c$e(e,{contentId:t,entryId:n,fieldId:r}),s=!!n&&m$e(e,{contentId:t,entryId:n,fieldId:r}),i=!!n&&h$e(e,{contentId:t,entryId:n,fieldId:r});return{top:s,bottom:i,left:a,right:o}}const l$e=(e,{contentId:t,fieldId:n,entryId:r})=>{var s;const o=Hn(e,{contentId:t}),a=(s=xY(n,o))==null?void 0:s.id;return!!a&&(r?ha(e,{entryId:r,fieldId:a}):Hu(e,{fieldId:a}))},c$e=(e,{contentId:t,fieldId:n,entryId:r})=>{var s;const o=Hn(e,{contentId:t}),a=(s=_Y(n,o))==null?void 0:s.id;return!!a&&(r?ha(e,{fieldId:a,entryId:r}):Hu(e,{fieldId:a}))},d$e=(e,{contentId:t})=>{const n=Hn(e,{contentId:t});return Tn(e,{contentId:t}).every(o=>{var a;return!!((a=_Y(o,n))!=null&&a.id)})},u$e=(e,{contentId:t})=>{const n=Hn(e,{contentId:t});return Tn(e,{contentId:t}).every(o=>{var a;return!!((a=xY(o,n))!=null&&a.id)})},f$e=(e,{contentId:t})=>{const n=Hn(e,{contentId:t});return pr(e,{contentId:t}).every(o=>{var a;return!!((a=wY(o,n))!=null&&a.id)})},p$e=(e,{contentId:t})=>{const n=Hn(e,{contentId:t});return pr(e,{contentId:t}).every(o=>{var a;return!!((a=CY(o,n))!=null&&a.id)})},m$e=(e,{contentId:t,fieldId:n,entryId:r})=>{var s;const o=Hn(e,{contentId:t}),a=(s=wY(r,o))==null?void 0:s.id;return a?ha(e,{fieldId:n,entryId:a}):Hu(e,{fieldId:n})},h$e=(e,{contentId:t,fieldId:n,entryId:r})=>{var s;const o=Hn(e,{contentId:t}),a=(s=CY(r,o))==null?void 0:s.id;return!!a&&ha(e,{fieldId:n,entryId:a})},g$e=e=>e.cellSelections.firstSelectedValue;function v$e(e,t,n){return Tn(t,{contentId:e.contentId}).every(r=>Cn(e,r).type===n)}var b$e=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Vh(e,t){var n=y$e(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function y$e(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),o=b$e.get(r);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var E$e=[".DS_Store","Thumbs.db"];function w$e(e){return wu(this,void 0,void 0,function(){return Cu(this,function(t){return eb(e)&&C$e(e.dataTransfer)?[2,k$e(e.dataTransfer,e.type)]:_$e(e)?[2,x$e(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,S$e(e)]:[2,[]]})})}function C$e(e){return eb(e)}function _$e(e){return eb(e)&&eb(e.target)}function eb(e){return typeof e=="object"&&e!==null}function x$e(e){return ux(e.target.files).map(function(t){return Vh(t)})}function S$e(e){return wu(this,void 0,void 0,function(){var t;return Cu(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return Vh(r)})]}})})}function k$e(e,t){return wu(this,void 0,void 0,function(){var n,r;return Cu(this,function(o){switch(o.label){case 0:return e.items?(n=ux(e.items).filter(function(a){return a.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(I$e))]):[3,2];case 1:return r=o.sent(),[2,_R($Y(r))];case 2:return[2,_R(ux(e.files).map(function(a){return Vh(a)}))]}})})}function _R(e){return e.filter(function(t){return E$e.indexOf(t.name)===-1})}function ux(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function I$e(e){if(typeof e.webkitGetAsEntry!="function")return xR(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?RY(t):xR(e)}function $Y(e){return e.reduce(function(t,n){return UO(UO([],HO(t),!1),HO(Array.isArray(n)?$Y(n):[n]),!1)},[])}function xR(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=Vh(t);return Promise.resolve(n)}function T$e(e){return wu(this,void 0,void 0,function(){return Cu(this,function(t){return[2,e.isDirectory?RY(e):A$e(e)]})})}function RY(e){var t=e.createReader();return new Promise(function(n,r){var o=[];function a(){var s=this;t.readEntries(function(i){return wu(s,void 0,void 0,function(){var l,d,u;return Cu(this,function(f){switch(f.label){case 0:if(i.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return l=f.sent(),n(l),[3,4];case 3:return d=f.sent(),r(d),[3,4];case 4:return[3,6];case 5:u=Promise.all(i.map(T$e)),o.push(u),a(),f.label=6;case 6:return[2]}})})},function(i){r(i)})}a()})}function A$e(e){return wu(this,void 0,void 0,function(){return Cu(this,function(t){return[2,new Promise(function(n,r){e.file(function(o){var a=Vh(o,e.fullPath);n(a)},function(o){r(o)})})]})})}var bw=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),a=o.replace(/\/.*$/,"");return n.some(function(s){var i=s.trim().toLowerCase();return i.charAt(0)==="."?r.toLowerCase().endsWith(i):i.endsWith("/*")?a===i.replace(/\/.*$/,""):o===i})}return!0};function SR(e){return M$e(e)||O$e(e)||LY(e)||D$e()}function D$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function M$e(e){if(Array.isArray(e))return fx(e)}function kR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function IR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(n),!0).forEach(function(r){PY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function om(e,t){return P$e(e)||R$e(e,t)||LY(e,t)||$$e()}function $$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LY(e,t){if(e){if(typeof e=="string")return fx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fx(e,t)}}function fx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],o=!0,a=!1,s,i;try{for(n=n.call(e);!(o=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));o=!0);}catch(l){a=!0,i=l}finally{try{!o&&n.return!=null&&n.return()}finally{if(a)throw i}}return r}}function P$e(e){if(Array.isArray(e))return e}var L$e=typeof bw=="function"?bw:bw.default,N$e="file-invalid-type",F$e="file-too-large",j$e="file-too-small",V$e="too-many-files",B$e=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:N$e,message:"File type must be ".concat(n)}},TR=function(t){return{code:F$e,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},AR=function(t){return{code:j$e,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},U$e={code:V$e,message:"Too many files"};function NY(e,t){var n=e.type==="application/x-moz-file"||L$e(e,t);return[n,n?null:B$e(t)]}function FY(e,t,n){if(wl(e.size))if(wl(t)&&wl(n)){if(e.size>n)return[!1,TR(n)];if(e.size<t)return[!1,AR(t)]}else{if(wl(t)&&e.size<t)return[!1,AR(t)];if(wl(n)&&e.size>n)return[!1,TR(n)]}return[!0,null]}function wl(e){return e!=null}function H$e(e){var t=e.files,n=e.accept,r=e.minSize,o=e.maxSize,a=e.multiple,s=e.maxFiles,i=e.validator;return!a&&t.length>1||a&&s>=1&&t.length>s?!1:t.every(function(l){var d=NY(l,n),u=om(d,1),f=u[0],p=FY(l,r,o),m=om(p,1),g=m[0],v=i?i(l):null;return f&&g&&!v})}function tb(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function l0(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function DR(e){e.preventDefault()}function z$e(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function W$e(e){return e.indexOf("Edge/")!==-1}function G$e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return z$e(e)||W$e(e)}function _a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];return t.some(function(i){return!tb(r)&&i&&i.apply(void 0,[r].concat(a)),tb(r)})}}function q$e(){return"showOpenFilePicker"in window}function Y$e(e){if(wl(e)){var t=Object.entries(e).filter(function(n){var r=om(n,2),o=r[0],a=r[1],s=!0;return jY(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(a)||!a.every(VY))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var o=om(r,2),a=o[0],s=o[1];return IR(IR({},n),{},PY({},a,s))},{});return[{description:"Files",accept:t}]}return e}function K$e(e){if(wl(e))return Object.entries(e).reduce(function(t,n){var r=om(n,2),o=r[0],a=r[1];return[].concat(SR(t),[o],SR(a))},[]).filter(function(t){return jY(t)||VY(t)}).join(",")}function X$e(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function J$e(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function jY(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function VY(e){return/^.*\.[\w]+$/.test(e)}var Z$e=["children"],Q$e=["open"],e6e=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],t6e=["refKey","onChange","onClick"];function n6e(e){return a6e(e)||o6e(e)||BY(e)||r6e()}function r6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a6e(e){if(Array.isArray(e))return px(e)}function yw(e,t){return l6e(e)||i6e(e,t)||BY(e,t)||s6e()}function s6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BY(e,t){if(e){if(typeof e=="string")return px(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return px(e,t)}}function px(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i6e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],o=!0,a=!1,s,i;try{for(n=n.call(e);!(o=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));o=!0);}catch(l){a=!0,i=l}finally{try{!o&&n.return!=null&&n.return()}finally{if(a)throw i}}return r}}function l6e(e){if(Array.isArray(e))return e}function OR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(n),!0).forEach(function(r){mx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nb(e,t){if(e==null)return{};var n=c6e(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function c6e(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var zu=c.forwardRef(function(e,t){var n=e.children,r=nb(e,Z$e),o=gy(r),a=o.open,s=nb(o,Q$e);return c.useImperativeHandle(t,function(){return{open:a}},[a]),_.createElement(c.Fragment,null,n(En(En({},s),{},{open:a})))});zu.displayName="Dropzone";var UY={disabled:!1,getFilesFromEvent:w$e,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};zu.defaultProps=UY;zu.propTypes={children:Lt.func,accept:Lt.objectOf(Lt.arrayOf(Lt.string)),multiple:Lt.bool,preventDropOnDocument:Lt.bool,noClick:Lt.bool,noKeyboard:Lt.bool,noDrag:Lt.bool,noDragEventsBubbling:Lt.bool,minSize:Lt.number,maxSize:Lt.number,maxFiles:Lt.number,disabled:Lt.bool,getFilesFromEvent:Lt.func,onFileDialogCancel:Lt.func,onFileDialogOpen:Lt.func,useFsAccessApi:Lt.bool,autoFocus:Lt.bool,onDragEnter:Lt.func,onDragLeave:Lt.func,onDragOver:Lt.func,onDrop:Lt.func,onDropAccepted:Lt.func,onDropRejected:Lt.func,onError:Lt.func,validator:Lt.func};var hx={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function gy(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=En(En({},UY),e),n=t.accept,r=t.disabled,o=t.getFilesFromEvent,a=t.maxSize,s=t.minSize,i=t.multiple,l=t.maxFiles,d=t.onDragEnter,u=t.onDragLeave,f=t.onDragOver,p=t.onDrop,m=t.onDropAccepted,g=t.onDropRejected,v=t.onFileDialogCancel,b=t.onFileDialogOpen,y=t.useFsAccessApi,E=t.autoFocus,w=t.preventDropOnDocument,C=t.noClick,x=t.noKeyboard,S=t.noDrag,I=t.noDragEventsBubbling,A=t.onError,T=t.validator,O=c.useMemo(function(){return K$e(n)},[n]),D=c.useMemo(function(){return Y$e(n)},[n]),$=c.useMemo(function(){return typeof b=="function"?b:MR},[b]),L=c.useMemo(function(){return typeof v=="function"?v:MR},[v]),F=c.useRef(null),B=c.useRef(null),V=c.useReducer(d6e,hx),Y=yw(V,2),J=Y[0],z=Y[1],ce=J.isFocused,le=J.isFileDialogActive,j=c.useRef(typeof window<"u"&&window.isSecureContext&&y&&q$e()),Z=function(){!j.current&&le&&setTimeout(function(){if(B.current){var we=B.current.files;we.length||(z({type:"closeDialog"}),L())}},300)};c.useEffect(function(){return window.addEventListener("focus",Z,!1),function(){window.removeEventListener("focus",Z,!1)}},[B,le,L,j]);var K=c.useRef([]),oe=function(we){F.current&&F.current.contains(we.target)||(we.preventDefault(),K.current=[])};c.useEffect(function(){return w&&(document.addEventListener("dragover",DR,!1),document.addEventListener("drop",oe,!1)),function(){w&&(document.removeEventListener("dragover",DR),document.removeEventListener("drop",oe))}},[F,w]),c.useEffect(function(){return!r&&E&&F.current&&F.current.focus(),function(){}},[F,E,r]);var X=c.useCallback(function(he){A?A(he):console.error(he)},[A]),pe=c.useCallback(function(he){he.preventDefault(),he.persist(),re(he),K.current=[].concat(n6e(K.current),[he.target]),l0(he)&&Promise.resolve(o(he)).then(function(we){if(!(tb(he)&&!I)){var $e=we.length,Fe=$e>0&&H$e({files:we,accept:O,minSize:s,maxSize:a,multiple:i,maxFiles:l,validator:T}),st=$e>0&&!Fe;z({isDragAccept:Fe,isDragReject:st,isDragActive:!0,type:"setDraggedFiles"}),d&&d(he)}}).catch(function(we){return X(we)})},[o,d,X,I,O,s,a,i,l,T]),ee=c.useCallback(function(he){he.preventDefault(),he.persist(),re(he);var we=l0(he);if(we&&he.dataTransfer)try{he.dataTransfer.dropEffect="copy"}catch{}return we&&f&&f(he),!1},[f,I]),ne=c.useCallback(function(he){he.preventDefault(),he.persist(),re(he);var we=K.current.filter(function(Fe){return F.current&&F.current.contains(Fe)}),$e=we.indexOf(he.target);$e!==-1&&we.splice($e,1),K.current=we,!(we.length>0)&&(z({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),l0(he)&&u&&u(he))},[F,u,I]),Q=c.useCallback(function(he,we){var $e=[],Fe=[];he.forEach(function(st){var dt=NY(st,O),Qe=yw(dt,2),en=Qe[0],ut=Qe[1],pn=FY(st,s,a),Je=yw(pn,2),qt=Je[0],Yt=Je[1],Ze=T?T(st):null;if(en&&qt&&!Ze)$e.push(st);else{var Ot=[ut,Yt];Ze&&(Ot=Ot.concat(Ze)),Fe.push({file:st,errors:Ot.filter(function(gr){return gr})})}}),(!i&&$e.length>1||i&&l>=1&&$e.length>l)&&($e.forEach(function(st){Fe.push({file:st,errors:[U$e]})}),$e.splice(0)),z({acceptedFiles:$e,fileRejections:Fe,type:"setFiles"}),p&&p($e,Fe,we),Fe.length>0&&g&&g(Fe,we),$e.length>0&&m&&m($e,we)},[z,i,O,s,a,l,p,m,g,T]),se=c.useCallback(function(he){he.preventDefault(),he.persist(),re(he),K.current=[],l0(he)&&Promise.resolve(o(he)).then(function(we){tb(he)&&!I||Q(we,he)}).catch(function(we){return X(we)}),z({type:"reset"})},[o,Q,X,I]),ue=c.useCallback(function(){if(j.current){z({type:"openDialog"}),$();var he={multiple:i,types:D};window.showOpenFilePicker(he).then(function(we){return o(we)}).then(function(we){Q(we,null),z({type:"closeDialog"})}).catch(function(we){X$e(we)?(L(we),z({type:"closeDialog"})):J$e(we)?(j.current=!1,B.current?(B.current.value=null,B.current.click()):X(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):X(we)});return}B.current&&(z({type:"openDialog"}),$(),B.current.value=null,B.current.click())},[z,$,L,y,Q,X,D,i]),ve=c.useCallback(function(he){!F.current||!F.current.isEqualNode(he.target)||(he.key===" "||he.key==="Enter"||he.keyCode===32||he.keyCode===13)&&(he.preventDefault(),ue())},[F,ue]),ke=c.useCallback(function(){z({type:"focus"})},[]),ge=c.useCallback(function(){z({type:"blur"})},[]),N=c.useCallback(function(){C||(G$e()?setTimeout(ue,0):ue())},[C,ue]),R=function(we){return r?null:we},P=function(we){return x?null:R(we)},W=function(we){return S?null:R(we)},re=function(we){I&&we.stopPropagation()},be=c.useMemo(function(){return function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=he.refKey,$e=we===void 0?"ref":we,Fe=he.role,st=he.onKeyDown,dt=he.onFocus,Qe=he.onBlur,en=he.onClick,ut=he.onDragEnter,pn=he.onDragOver,Je=he.onDragLeave,qt=he.onDrop,Yt=nb(he,e6e);return En(En(mx({onKeyDown:P(_a(st,ve)),onFocus:P(_a(dt,ke)),onBlur:P(_a(Qe,ge)),onClick:R(_a(en,N)),onDragEnter:W(_a(ut,pe)),onDragOver:W(_a(pn,ee)),onDragLeave:W(_a(Je,ne)),onDrop:W(_a(qt,se)),role:typeof Fe=="string"&&Fe!==""?Fe:"presentation"},$e,F),!r&&!x?{tabIndex:0}:{}),Yt)}},[F,ve,ke,ge,N,pe,ee,ne,se,x,S,r]),te=c.useCallback(function(he){he.stopPropagation()},[]),xe=c.useMemo(function(){return function(){var he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},we=he.refKey,$e=we===void 0?"ref":we,Fe=he.onChange,st=he.onClick,dt=nb(he,t6e),Qe=mx({accept:O,multiple:i,type:"file",style:{display:"none"},onChange:R(_a(Fe,se)),onClick:R(_a(st,te)),tabIndex:-1},$e,B);return En(En({},Qe),dt)}},[B,n,i,se,r]);return En(En({},J),{},{isFocused:ce&&!r,getRootProps:be,getInputProps:xe,rootRef:F,inputRef:B,open:R(ue)})}function d6e(e,t){switch(t.type){case"focus":return En(En({},e),{},{isFocused:!0});case"blur":return En(En({},e),{},{isFocused:!1});case"openDialog":return En(En({},hx),{},{isFileDialogActive:!0});case"closeDialog":return En(En({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return En(En({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return En(En({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return En({},hx);default:return e}}function MR(){}var b4={};Object.defineProperty(b4,"__esModule",{value:!0});var HY=b4.default=void 0,u6e=zY(c),f6e=zY(Oe);function zY(e){return e&&e.__esModule?e:{default:e}}const WY=e=>u6e.default.createElement(f6e.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" d="M9.75 5a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5m0 4.5a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5M6 5a1.25 1.25 0 1 1 0-2.5A1.25 1.25 0 0 1 6 5m0 4.5A1.25 1.25 0 1 1 6 7a1.25 1.25 0 0 1 0 2.5M2.25 5a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5m0 4.5a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5"/>',type:"utility"},e));WY.displayName="DragHandleHorizontalIcon";HY=b4.default=WY;const p6e=ie({position:"absolute",top:"-12px",left:"50%",transform:"translateX(-50%)",transition:"opacity 0.2s ease-in-out",zIndex:"tooltip"}),m6e=ie({position:"relative",border:"5px solid",borderRadius:"border.radius.100",background:"color.background.neutral.subtle",overflow:"visible",boxShadow:"elevation.shadow.raised",width:"100%",height:"auto",padding:"space.050",cursor:"pointer"}),h6e=ie({paddingBottom:"space.100",display:"flex",alignItems:"right",justifyContent:"right"}),g6e=ie({fontSize:"font.size.100",color:"color.text",textAlign:"center",wordBreak:"break-word",maxWidth:"100%",padding:"space.100"}),y4=_.memo(({value:e,index:t,fileNames:n,handleDelete:r,contentId:o,uploadOrder:a,getMediaFiles:s,mediaFormat:i,instanceId:l,setDraggingItemId:d,dropzoneRef:u,gridItemKey:f,getGridItemData:p,isSelected:m,onSelect:g,browseOrDropButtonRef:v,fieldWidth:b})=>{const y=c.useRef(null),E=c.useRef(null),w=vt("databases-frontend-ci2-m1"),{formatMessage:C}=Ee(),x="fileId"in e?e.fileId:"",S=n[x]||("filename"in e?e.filename:x||"Attachment");c.useEffect(()=>{const A=y.current;return AO(A),AO(E.current),ir(Cc({element:A,dragHandle:E.current,getInitialData:()=>p({item:e,index:t,instanceId:l}),onDragStart:()=>{d(e._id)},onDrop:()=>{d(null)}}),ju({element:A,canDrop({source:T}){return T.data&&typeof T.data=="object"&&f in T.data&&T.data.instanceId===l&&T.data._id!==e._id},getData({input:T}){return Lh(p({item:e,index:t,instanceId:l}),{element:A,input:T,allowedEdges:["top","bottom","left","right"]})}}))},[t,e,l,d,p,f]);const I=()=>{g(e._id)};return h.jsxs(_e,{xcss:m6e,style:{backgroundColor:m?U("color.background.selected.hovered"):void 0,outline:m?`2px solid ${U("color.border.accent.blue")}`:void 0},onClick:I,ref:y,id:`grid-item-${e._id}`,children:[h.jsx(_e,{xcss:p6e,ref:E,style:{opacity:m?1:0},children:h.jsx(dn,{icon:HY,spacing:"compact",appearance:"primary",label:""})}),h.jsx(_e,{xcss:h6e,children:w?h.jsx(dn,{icon:pc,appearance:"subtle",label:"",onClick:()=>{var A;r(t),(A=v==null?void 0:v.current)==null||A.focus()}}):h.jsx(q1,{trigger:({triggerRef:A,...T})=>h.jsx(dn,{...T,icon:bc,label:"",ref:A,isSelected:m}),shouldRenderToParent:!0,children:h.jsxs(qa,{children:[h.jsx(er,{onClick:A=>{A.stopPropagation(),u!=null&&u.current&&u.current.open()},children:C(G["media.change-file"])}),h.jsx(er,{onClick:A=>{A.stopPropagation(),r(t)},children:C(G["media.delete"])})]})})}),h.jsxs(it,{direction:"column",alignItems:"center",children:[h.jsx(Y5,{dropzoneRef:u,contentId:o,value:e,handleDelete:()=>r(t),showSpinner:a.includes(t),mediaFiles:s(),mediaFormat:i,fieldWidth:b}),h.jsx(_e,{xcss:g6e,style:{color:m?U("color.text.accent.blue"):void 0},children:S})]})]})});y4.displayName="GridItem";const v6e=ie({display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"space.200",padding:"space.100",width:"100%",maxHeight:"80vh",overflow:"auto"}),b6e=ie({display:"flex",flexDirection:"row",flexGrow:1,alignItems:"center",width:`calc(100% - ${U("space.075","0.375rem")})`,borderRadius:"border.radius.100",height:`calc(100% - ${U("space.075","0.375rem")})`,transition:"border 0.2s"}),GY=()=>({fileId:"",_id:wt()}),y6e=c.forwardRef(function({children:t,id:n,index:r,handleChangeFile:o,onDropNewFile:a,noDrag:s,handleAddFile:i,endIndex:l},d){return h.jsx(zu,{ref:d,noClick:!0,noDrag:s,onDropAccepted:async u=>{const f=u.length>1?GY():null;f&&i(f);const p=u.map(async(m,g)=>{const v=await a(m,g===0?r:l);v&&(g===0?o({_id:n,fileId:v},r):g===1&&f?o({_id:f._id,fileId:v},l):i({_id:wt(),fileId:v}))});await Promise.all(p)},children:({getRootProps:u,getInputProps:f,isDragActive:p})=>h.jsxs("div",{...u({style:{backgroundColor:p?gn:"transparent"}}),tabIndex:p?1:-1,children:[h.jsx("input",{...f()}),t]})})}),E4=Symbol("grid-item");function E6e({item:e,index:t,instanceId:n}){return{[E4]:!0,item:e,index:t,instanceId:n}}function Ew(e){return e&&typeof e=="object"&&E4 in e}const w6e=({contentId:e,onChange:t,onBlur:n,field:r,entryId:o,value:a=!1})=>{const s=Fu(e),i=fe.useStore(),[l,d]=c.useState([]),{formatMessage:u}=Ee(),[f,p]=c.useState(null),[m,g]=c.useState(!1),v=c.useMemo(()=>Array.isArray(a)?a:[],[a]),b=v.length,y=r.settings.mediaFormat,[E,w]=c.useState({}),[C]=c.useState(()=>Symbol("grid-instance-id")),[x,S]=c.useState(null),[I,A]=c.useState(null),T=fe.useEqualSelector(ee=>Wi(ee,{contentId:e})===1&&o?ha(ee,{fieldId:r.id,entryId:o}):!1),O=c.useMemo(()=>l.length>0,[l]);c.useEffect(()=>{!s||!f||v.forEach(ee=>{const ne="fileId"in ee?ee.fileId:"";ne&&!E[ne]&&s.file.getFileState(ne,{collectionName:f}).subscribe({next:Q=>{Q.status==="processed"&&Q.name&&w(se=>({...se,[ne]:Q.name}))},error:Q=>{console.warn(`Error fetching filename for ${ne}:`,Q),w(se=>({...se,[ne]:"Attachment "+ne.substring(0,5)}))}})})},[s,f,v,E]);const D=c.useCallback(async(ee,ne)=>{d(Q=>[...Q,ne]);try{if(f)return(await new Promise((se,ue)=>{s==null||s.file.upload({content:ee,name:ee.name,size:ee.size,mimeType:ee.type,collection:f}).subscribe(ve=>{ve.status==="processed"||ve.status==="failed-processing"?(ve.id&&w(ke=>({...ke,[ve.id]:ee.name})),se(ve)):ve.status==="error"&&(console.error(ve),ue(new Error(`Error uploading media: ${ve.message}`)))})})).id}finally{d(Q=>Q.filter(se=>se!==ne))}},[s==null?void 0:s.file,f]),$=c.useCallback(()=>v.map(ee=>({mediaItemType:"file",id:"fileId"in ee?ee.fileId:"",collectionName:f})),[f,v]),L=c.useCallback((ee,ne,Q,se)=>{t(se,{type:ae.ATTACHMENT,delta:{type:Be.EDIT,value:ee,index:ne}})},[t]),F=c.useCallback((ee,ne)=>{t(ne,{type:ae.ATTACHMENT,delta:{type:Be.APPEND,value:ee}})},[t]),B=c.useCallback((ee,ne,Q)=>{t(Q,{type:ae.ATTACHMENT,delta:{type:Be.REMOVE,index:ne}})},[t]),V=c.useCallback(ee=>{B(v[ee],ee,v)},[B,v]),Y=c.useCallback((ee,ne)=>{L(ee,ne,null,v)},[L,v]),J=c.useCallback(ee=>{F(ee,v)},[F,v]),z=c.useCallback(ee=>{const ne=v.length,Q=GY();J(Q),ee.forEach(async(se,ue)=>{var ke;const ve=await D(se,ne);if(ve){const ge={_id:((ke=v[ne])==null?void 0:ke._id)??wt(),fileId:ve,filename:se.name};ue<1?Y(ge,ne):J(ge)}})},[J,Y,D,v]),{getRootProps:ce,getInputProps:le,open:j}=gy({onFileDialogCancel:()=>{n==null||n()},noClick:!0,disabled:l.length>0,noDrag:!1,onDropAccepted:c.useCallback(ee=>{z(ee)},[z])}),Z=c.useCallback(ee=>{var Q;if(!T||ee.length===0)return;const ne=Array.from(ee).filter(se=>se.type.startsWith("image/"));if(ne.length!==0)try{qr.start();const se=(Q=ne[0])==null?void 0:Q.getAsFile();if(se){z([se]),qr.success();return}}catch{pu("cannot-read-pasted-content",u(nm["flag-error-message.cannot-read-pasted-content"])),qr.failure()}},[T,u,z]);iy({onPaste:Z}),c.useEffect(()=>{(async()=>{const ne=await uu(i.getState(),e);ne&&p(ne)})()},[e,i]);const K=c.useRef(new Map),oe=c.useCallback((ee,ne)=>{if(ee===ne)return;const Q=[...v],[se]=Q.splice(ee,1);Q.splice(ne,0,se),t(Q,{type:ae.ATTACHMENT,delta:{type:Be.REORDER,currentIndex:ee,newIndex:ne}}),setTimeout(()=>{const ue=document.getElementById(`grid-item-${se._id}`);ue&&t4(ue)},0)},[t,v]);c.useEffect(()=>da({canMonitor({source:ee}){return Ew(ee.data)&&ee.data.instanceId===C},onDrop({location:ee,source:ne}){const Q=ee.current.dropTargets[0];if(!Q)return;const se=Q.data;if(!Ew(ne.data)||!Ew(se))return;const ue=ua(se),ve=ne.data.index,ke=se.index,ge=2,N=Math.floor(ke/ge),R=ke%ge;let P=N,W=R;switch(ue){case"left":W=R;break;case"right":W=R+1,W>=ge&&(W=0,P=N+1);break;case"top":P=N;break;case"bottom":P=N+1;break}let re=P*ge+W;re=Math.min(re,b),re!==ve&&oe(ve,re)}}),[C,oe,b]);const X=c.useCallback(ee=>{ee.stopPropagation(),j()},[j]),pe=c.useCallback(ee=>{A(ne=>ne===ee?null:ee)},[]);return h.jsx(_e,{onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),style:{display:"flex",alignItems:"center",paddingLeft:U("space.025")},children:h.jsx(_e,{...ce(),xcss:b6e,children:h.jsxs("div",{style:{maxWidth:"100%",width:"100%",height:`calc(100% - ${U("space.050","0.25rem")}px)`,display:"flex",flexDirection:"column"},children:[h.jsx("input",{...le()}),T&&b===0?h.jsx(Me,{xcss:ie({width:"100%",height:"100%"}),children:!O&&h.jsx(ur,{onClick:X,iconBefore:Qr,children:h.jsx("div",{...ce({style:{cursor:b?"default":"pointer"}}),children:u(G["media.browse-or-drop-file"])})})}):h.jsxs(h.Fragment,{children:[h.jsx(_e,{xcss:v6e,children:v.map((ee,ne)=>(K.current.has(ee._id)||K.current.set(ee._id,_.createRef()),h.jsx(y6e,{ref:K.current.get(ee._id)||_.createRef(),id:ee._id,index:ne,handleChangeFile:Y,onDropNewFile:D,noDrag:!0,handleAddFile:J,endIndex:b,children:h.jsx(y4,{value:ee,index:ne,fileNames:E,handleChangeFile:Y,onDropNewFile:D,handleDelete:V,contentId:e,uploadOrder:l,getMediaFiles:$,mediaFormat:y,instanceId:C,draggingItemId:x,setDraggingItemId:S,dropzoneRef:K.current.get(ee._id)||_.createRef(),gridItemKey:E4,getGridItemData:E6e,isSelected:I===ee._id,onSelect:pe})},ee._id)))}),!O&&m&&h.jsx(_e,{children:h.jsx(ur,{onClick:X,iconBefore:Qr,shouldFitContainer:!0,children:u(G["media.browse-or-drop-file"])})})]})]})})})},C6e=Re.div.withConfig({displayName:"AttachmentValueEdit__Container",componentId:"sc-1b2qjz-0"})(["display:flex;flex-direction:column;max-width:100%;min-height:36px;position:relative;height:100%;> div{display:flex;flex-direction:column;justify-content:center;align-items:center;flex-grow:1;}*{outline-color:",";outline-offset:1px;}&:hover{div{opacity:1;}}"],cn),_6e=ie({marginLeft:"space.200"}),x6e=e=>ie({display:"flex",flexDirection:"row",flexGrow:1,alignItems:"center",width:`calc(100% - ${U("space.075","0.375rem")})`,border:`2px dashed ${e?U("color.background.neutral","#091E420F"):"transparent"}`,borderRadius:"border.radius.100",height:`calc(100% - ${U("space.075","0.375rem")})`,backgroundColor:e?"color.background.accent.blue.subtlest.hovered":void 0,transition:"border 0.2s"}),S6e=e=>e._id,gx=()=>({fileId:"",_id:wt()}),k6e=c.forwardRef(function({children:t,id:n,index:r,handleChangeFile:o,onDropNewFile:a,noDrag:s,handleAddFile:i,endIndex:l},d){return h.jsx(zu,{ref:d,noClick:!0,noDrag:s,onDropAccepted:async u=>{const f=u.length>1?gx():null;f&&i(f);const p=u.map(async(m,g)=>{const v=await a(m,g===0?r:l);v&&(g===0?o({_id:n,fileId:v},r):g===1&&f?o({_id:f._id,fileId:v},l):i({_id:wt(),fileId:v}))});await Promise.all(p)},children:({getRootProps:u,getInputProps:f,isDragActive:p})=>h.jsxs("div",{...u({style:{backgroundColor:p?gn:"transparent"}}),tabIndex:p?1:-1,children:[h.jsx("input",{...f()}),t]})})}),I6e=({contentId:e,onChange:t,onBlur:n,field:r,entryId:o,value:a,isSeamless:s=!1})=>{const i=Fu(e),l=fe.useStore(),[d,u]=c.useState([]),{formatMessage:f}=Ee(),[p,m]=c.useState(null),[g,v]=c.useState(!1),b=a.length,y=r.settings.mediaFormat,E=vt("database-field-setting-2-media"),w=m4(l.getState(),{contentId:e})[0]===r.id,C=fe.useEqualSelector(oe=>Wi(oe,{contentId:e})===1&&o?ha(oe,{fieldId:r.id,entryId:o}):!1),x=c.useMemo(()=>d.length>0,[d]),S=c.useCallback(async(oe,X)=>{u(pe=>[...pe,X]);try{if(p)return(await new Promise((ee,ne)=>{i==null||i.file.upload({content:oe,name:oe.name,size:oe.size,mimeType:oe.type,collection:p}).subscribe(Q=>{Q.status==="processed"||Q.status==="failed-processing"?ee(Q):Q.status==="error"&&(console.error(Q),ne(new Error(`Error uploading media: ${Q.message}`)))})})).id}finally{u(pe=>pe.slice(0,-1))}},[i==null?void 0:i.file,p]),I=c.useCallback(()=>a.map(oe=>({mediaItemType:"file",id:"fileId"in oe?oe.fileId:"",collectionName:p})),[p,a]),A=c.useCallback((oe,X,pe,ee)=>{t(ee,{type:ae.ATTACHMENT,delta:{type:Be.EDIT,value:oe,index:X}})},[t]),T=c.useCallback((oe,X)=>{t(X,{type:ae.ATTACHMENT,delta:{type:Be.APPEND,value:oe}})},[t]),O=c.useCallback((oe,X,pe)=>{t(pe,{type:ae.ATTACHMENT,delta:{type:Be.REMOVE,index:X}})},[t]),D=c.useCallback((oe,X,pe,ee)=>{t(ee,{type:ae.ATTACHMENT,delta:{type:Be.REORDER,currentIndex:X,newIndex:pe}})},[t]),$=c.useCallback(oe=>{O(a[oe],oe,a)},[O,a]),L=c.useCallback((oe,X)=>{A(oe,X,null,a)},[A,a]),F=c.useCallback(oe=>{T(oe,a)},[T,a]);c.useEffect(()=>{a.forEach((oe,X)=>{!d.length&&"fileId"in oe&&!oe.fileId&&O(a[X],X,a)})},[a,d,O]);const B=c.useCallback(oe=>{const X=a.length,pe=gx();F(pe),oe.forEach(async(ee,ne)=>{var se;const Q=await S(ee,X);if(Q){const ue={_id:((se=a[X])==null?void 0:se._id)??wt(),fileId:Q};ne<1?L(ue,X):F(ue)}})},[F,L,S,a]),{getRootProps:V,getInputProps:Y,isDragActive:J,open:z,acceptedFiles:ce}=gy({onFileDialogCancel:()=>{n==null||n()},noClick:!0,disabled:d.length>0,noDrag:!1,onDropAccepted:c.useCallback(oe=>{B(oe)},[B])}),le=c.useCallback(oe=>{var pe;if(!C||oe.length===0)return;const X=Array.from(oe).filter(ee=>ee.type.startsWith("image/"));if(X.length!==0)try{qr.start();const ee=(pe=X[0])==null?void 0:pe.getAsFile();if(ee){B([...ce,ee]),qr.success();return}}catch{pu("cannot-read-pasted-content",f(nm["flag-error-message.cannot-read-pasted-content"])),qr.failure()}},[C,f,B,ce]);iy({onPaste:le}),c.useEffect(()=>{(async()=>{const X=await uu(l.getState(),e);X&&m(X)})()},[e,l]);const j=c.useRef([]),Z=c.useCallback(({value:oe,i:X})=>(j.current[X]||(j.current[X]=_.createRef()),h.jsx(it,{justifyContent:"center",direction:"column",xcss:ie({width:"100%",height:"100%"}),children:h.jsx(_e,{xcss:ie({width:"100%",display:"inline-block",height:"auto"}),children:h.jsx(C6e,{className:fa({"is-seamless":s}),children:h.jsx(k6e,{ref:j.current[X],id:oe._id,index:X,handleChangeFile:L,onDropNewFile:S,noDrag:!0,handleAddFile:F,endIndex:b,children:h.jsx(Y5,{dropzoneRef:j.current[X],contentId:e,value:oe,handleDelete:()=>$(X),showSpinner:d.includes(X),mediaFiles:I(),mediaFormat:y})})})})})),[s,L,S,F,b,e,d,I,$,y]),K=c.useMemo(()=>h.jsx(_e,{onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),style:{display:"flex",alignItems:"center",paddingLeft:U("space.025","0.125rem")},children:h.jsx(_e,{...V(),xcss:x6e(J),children:h.jsxs("div",{style:{maxWidth:"100%",width:"100%",height:`calc(100% - ${U("space.050","0.25rem")}px)`},children:[h.jsx("input",{...Y()}),C&&b===0?h.jsx(Me,{xcss:ie({width:"100%",height:"100%"}),children:!x&&h.jsx(ht,{onClick:oe=>{oe.stopPropagation(),z()},appearance:"subtle",iconBefore:h.jsx(Qr,{label:""}),children:h.jsx("div",{...V({style:{cursor:a.length?"default":"pointer"}}),children:f(G["media.add-file"],{isMulti:2})})})}):E?h.jsx(w6e,{contentId:e,onChange:t,onBlur:n,field:r,entryId:o,value:a,isSeamless:s}):h.jsx(yY,{getId:S6e,values:a,onItemChange:A,onAddNewItem:z,onRemoveItem:O,onReorder:D,getNewValue:gx,renderField:Z,addLabel:f(G["media.add-file"],{isMulti:2}),noAdd:!g||a.length===0,verticalScroll:!0,isHovering:g&&!J,isReadonly:d.length>0})]})})}),[e,o,r,f,Y,V,J,g,s,x,b,E,n,t,A,O,D,z,Z,d.length,a,C]);return h.jsx(h.Fragment,{children:w?h.jsx(_e,{xcss:_6e,children:K}):K})};function T6e(e,t){return e?k("rect",{fill:"inherit",x:"8",y:"11",width:"8",height:"2",rx:"1"}):t?k("path",{d:"M9.707 11.293a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 1 0-1.414-1.414L11 12.586l-1.293-1.293z",fill:"inherit"}):null}const A6e=c.memo(({size:e,isIndeterminate:t,isChecked:n})=>{const r=c.useMemo(()=>T6e(t,n),[t,n]);return k(YI,{label:"",size:e,primaryColor:"var(--checkbox-background-color)",secondaryColor:"var(--checkbox-tick-color)"},k("g",{fillRule:"evenodd"},k("rect",{fill:"currentColor",x:"6",y:"6",width:"12",height:"12",rx:"2"}),r))}),D6e=M({display:"grid",gridAutoColumns:"1fr",gridAutoRows:"min-content",color:`var(--ds-text, ${Ba})`,cursor:"default",font:'var(--ds-font-body, normal 400 14px/20px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),O6e=M({gap:"var(--ds-space-0, 0px) var(--ds-space-050, 4px)",gridTemplateColumns:"min-content auto"}),M6e=M({color:`var(--ds-text-disabled, ${Ek})`,cursor:"not-allowed"}),$6e=M({"--local-background":`var(--ds-background-input, ${Xl})`,"--local-background-active":`var(--ds-background-input-pressed, ${gn})`,"--local-background-checked":`var(--ds-background-selected-bold, ${Jt})`,"--local-background-checked-hover":`var(--ds-background-selected-bold-hovered, ${Vo})`,"--local-background-disabled":`var(--ds-background-disabled, ${Ke})`,"--local-background-hover":`var(--ds-background-input-hovered, ${Dt})`,"--local-border":`var(--ds-border-input, ${ji})`,"--local-border-active":`var(--ds-border, ${gn})`,"--local-border-checked":`var(--ds-background-selected-bold, ${Jt})`,"--local-border-checked-hover":`var(--ds-background-selected-bold-hovered, ${Vo})`,"--local-border-checked-invalid":`var(--ds-border-danger, ${Er})`,"--local-border-disabled":`var(--ds-background-disabled, ${Ke})`,"--local-border-focus":`var(--ds-border-focused, ${vn})`,"--local-border-hover":`var(--ds-border-input, ${ji})`,"--local-border-invalid":`var(--ds-border-danger, ${Er})`,"--local-tick-active":`var(--ds-icon-inverse, ${Jt})`,"--local-tick-checked":`var(--ds-icon-inverse, ${Xl})`,"--local-tick-disabled":`var(--ds-icon-disabled, ${an})`,"--local-tick-rest":"transparent"});function R6e({children:e,isDisabled:t,testId:n,label:r,id:o,xcss:a}){return k("label",{className:a,css:[D6e,r&&O6e,t&&M6e,$6e],"data-testid":n,"data-disabled":t||void 0,id:o},e)}const P6e=M({alignSelf:"center",gridArea:"1 / 2 / 2 / 3"});function L6e({children:e}){return k("span",{css:P6e},e)}const N6e=M({color:`var(--ds-text-danger, ${yr})`,paddingInlineStart:"var(--ds-space-025, 2px)"});function F6e(){return k("span",{css:N6e,"aria-hidden":!0},"*")}const j6e=M({width:"100%",height:"100%",margin:"var(--ds-space-0, 0px)",appearance:"none",border:"none",gridArea:"1 / 1 / 2 / 2",opacity:0,outline:"none","& + svg":{"--checkbox-background-color":"var(--local-background)","--checkbox-border-color":"var(--local-border)","--checkbox-tick-color":"var(--local-tick-rest)",color:"var(--checkbox-background-color)",fill:"var(--checkbox-tick-color)",gridArea:"1 / 1 / 2 / 2",pointerEvents:"none",transition:"color 0.2s ease-in-out, fill 0.2s ease-in-out","rect:first-of-type":{stroke:"var(--checkbox-border-color)",strokeWidth:"var(--ds-border-width, 1px)",transition:"stroke 0.2s ease-in-out"}},"&&:focus + svg, &&:checked:focus + svg":{borderRadius:"var(--ds-border-radius, 0.25rem)",outline:`var(--ds-border-width-outline, 2px) solid ${`var(--ds-border-focused, ${vn})`}`,outlineOffset:"var(--ds-space-negative-025, -2px)"},"&:hover + svg":{"--checkbox-background-color":"var(--local-background-hover)","--checkbox-border-color":"var(--local-border-hover)"},"&:checked:hover + svg":{"--checkbox-background-color":"var(--local-background-checked-hover)","--checkbox-border-color":"var(--local-border-checked-hover)"},"&:checked + svg":{"--checkbox-background-color":"var(--local-background-checked)","--checkbox-border-color":"var(--local-border-checked)","--checkbox-tick-color":"var(--local-tick-checked)"},"&[data-invalid] + svg":{"--checkbox-border-color":"var(--local-border-invalid)"},"&:checked[data-invalid] + svg":{"--checkbox-border-color":"var(--local-border-checked-invalid)"},"&:active + svg":{"--checkbox-background-color":"var(--local-background-active)","--checkbox-border-color":"var(--local-border-active)"},"&:checked:active + svg":{"--checkbox-background-color":"var(--local-background-active)","--checkbox-border-color":"var(--local-border-active)","--checkbox-tick-color":"var(--local-tick-active)"},"&:disabled + svg, &:disabled:hover + svg, &:disabled:focus + svg, &:disabled:active + svg, &:disabled[data-invalid] + svg":{"--checkbox-background-color":"var(--local-background-disabled)","--checkbox-border-color":"var(--local-border-disabled)",cursor:"not-allowed",pointerEvents:"none"},"&:disabled:checked + svg":{"--checkbox-tick-color":"var(--local-tick-disabled)"},"&:indeterminate + svg":{"--checkbox-background-color":"var(--local-background-checked)","--checkbox-border-color":"var(--local-border-checked)","--checkbox-tick-color":"var(--local-tick-checked)"},"&:disabled:indeterminate + svg":{"--checkbox-background-color":"var(--local-background-disabled)","--checkbox-border-color":"var(--local-border-disabled)","--checkbox-tick-color":"var(--local-tick-disabled)"},"@media screen and (forced-colors: active)":{"& + svg":{"--checkbox-background-color":"Canvas","--checkbox-border-color":"CanvasText","--checkbox-tick-color":"CanvasText"},"&:checked + svg, &:checked:hover + svg":{"--checkbox-background-color":"Canvas","--checkbox-border-color":"CanvasText","--checkbox-tick-color":"CanvasText"},"&:focus + svg rect:first-of-type":{stroke:"Highlight"},"&[data-invalid] + svg":{"--checkbox-border-color":"Highlight"},"&:checked[data-invalid] + svg":{"--checkbox-border-color":"Highlight"},"&:disabled + svg, &:disabled:hover + svg, &:disabled:focus + svg, &:disabled:active + svg, &:disabled[data-invalid] + svg":{"--checkbox-background-color":"Canvas","--checkbox-border-color":"GrayText","--checkbox-tick-color":"GrayText"}}}),tu=c.memo(c.forwardRef(function(t,n){const{isChecked:r,isDisabled:o=!1,isInvalid:a=!1,defaultChecked:s=!1,isIndeterminate:i=!1,size:l="medium",onChange:d,analyticsContext:u,label:f,name:p,value:m,isRequired:g,testId:v,xcss:b,...y}=t,[E,w]=c.useState(r!==void 0?r:s),C=c.useCallback((T,O)=>{w(T.target.checked),d&&d(T,O)},[d]),x=Bo({fn:C,action:"changed",analyticsData:u,componentName:"checkbox",packageName:"@atlaskit/checkbox",packageVersion:"13.7.1"}),S=c.useRef(null),I=yo([S,n]),A=r===void 0?E:r;return c.useEffect(()=>{S.current&&(S.current.indeterminate=i)},[i]),k(R6e,{isDisabled:o,label:f,id:y.id?`${y.id}-label`:void 0,testId:v&&`${v}--checkbox-label`,xcss:b},k("input",H({tabIndex:0},y,{type:"checkbox",ref:I,disabled:o,checked:A,value:m,name:p,required:g,css:j6e,onChange:x,"aria-invalid":a?"true":void 0,"data-testid":v&&`${v}--hidden-checkbox`,"data-invalid":a?"true":void 0})),k(A6e,{size:l,isIndeterminate:i,isChecked:A}),f&&k(L6e,null,f,g&&k(F6e,null)))}));tu.displayName="Checkbox";const V6e=Zm(async(e,t,n,r)=>{const o=rt();o!==void 0&&await o.sendDatabaseCellContentHasBeenModifiedEvent({activationId:e,contentId:t,databaseContainer:n,fieldType:r})},1e3),qY=(e,t)=>(n,r)=>{r().collab.byContentId[e.contentId].applyChangeset(t,r())},pt=(e,t,n)=>(r,o)=>{var s;n.type===ye.SET_VALUE&&((s=n.change)!=null&&s.type)&&V6e(ece(),e,We(),n.change.type);const a=Vt(o(),{contentId:e});if(a){if(Ht(a))throw mr(a.error)}else throw new Error(`Database ${e} not found.`);if(t==="main"){const i=ws([],n);r(qY(a,i))}else r(Bk.actions.addChangesToDraft({contentId:e,scope:t,changes:[n]}))},SIt=(e,t)=>Bk.actions.setDraftedChangeset({contentId:e,scope:t,changeset:[]}),hl=(e,t,n)=>(r,o)=>{const a=Vt(o(),{contentId:e});if(a){if(Ht(a))throw mr(a.error)}else throw new Error(`Database ${e} not found.`);r(qY(a,n))},$R=({field:e,contentId:t,value:n,entryId:r})=>{const o=fe.useDispatch(),a=vt("databases-frontend-checkbox-field-type"),s=De(async()=>{o(pt(t,"main",{type:ye.SET_VALUE,fieldId:e.id,entryId:r,value:{type:ae.CHECKBOX,value:!n},change:{type:ae.CHECKBOX,value:!n}}))},[t,o,r,e.id,n]);return a?h.jsx(_e,{padding:"space.025",children:h.jsx(tu,{testId:"databases-checkbox",isChecked:n,onChange:s,size:"large"})}):h.jsx(_e,{padding:"space.025",children:h.jsx(tu,{isChecked:n,onChange:s,isDisabled:!0,size:"large"})})};var w4={},vy={};Object.defineProperty(vy,"__esModule",{value:!0});vy.default=void 0;var B6e=YY(c),U6e=YY(Oe);function YY(e){return e&&e.__esModule?e:{default:e}}const KY=e=>B6e.default.createElement(U6e.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M7.5 10.5 3 6l4.5-4.5"/>',type:"utility"},e));KY.displayName="ChevronLeftIcon";vy.default=KY;Object.defineProperty(w4,"__esModule",{value:!0});var XY=w4.default=void 0,H6e=JY(c),z6e=je,W6e=JY(vy);function JY(e){return e&&e.__esModule?e:{default:e}}const ZY=e=>H6e.default.createElement(z6e.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="m9.005 10.995 4.593-4.593a.99.99 0 1 1 1.4 1.4l-3.9 3.9 3.9 3.9a.99.99 0 0 1-1.4 1.4L9.005 12.41a1 1 0 0 1 0-1.414"/></svg>'},e,{newIcon:W6e.default,iconType:"utility"}));ZY.displayName="ChevronLeftLargeIcon";XY=w4.default=ZY;var C4={},Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});Wu.default=void 0;var G6e=QY(c),q6e=QY(Oe);function QY(e){return e&&e.__esModule?e:{default:e}}const eK=e=>G6e.default.createElement(q6e.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M4.5 10.5 9 6 4.5 1.5"/>',type:"utility"},e));eK.displayName="ChevronRightIcon";Wu.default=eK;Object.defineProperty(C4,"__esModule",{value:!0});var tK=C4.default=void 0,Y6e=nK(c),K6e=je,X6e=nK(Wu);function nK(e){return e&&e.__esModule?e:{default:e}}const rK=e=>Y6e.default.createElement(K6e.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M14.995 10.995a1 1 0 0 1 0 1.414l-4.593 4.593a.99.99 0 0 1-1.4-1.4l3.9-3.9-3.9-3.9a.99.99 0 0 1 1.4-1.4z"/></svg>'},e,{newIcon:X6e.default,iconType:"utility"}));rK.displayName="ChevronRightLargeIcon";tK=C4.default=rK;function oK(e){const t=JS();return`${e}-${t(e)}`}const aK=c.memo(function({monthLongTitle:t,year:n,previousMonthLabel:r="Previous month",previousHeading:o,nextMonthLabel:a="Next month",nextHeading:s,handleClickPrev:i,handleClickNext:l,headerId:d,tabIndex:u,testId:f}){const p=oK("month-year-announce"),[m,g]=c.useState(!1),v=y=>{m||g(!0),i(y)},b=y=>{m||g(!0),l(y)};return k(_e,{paddingInline:"space.100"},k(Me,{space:"space.0",alignBlock:"center",spread:"space-between"},k(dn,{appearance:"subtle",spacing:"compact",tabIndex:u,onClick:v,testId:f&&`${f}--previous-month`,icon:XY,label:`${r}, ${o}`}),k(_e,{"aria-live":m?"polite":void 0,id:p,testId:f&&`${f}--current-month-year--container`},k(Go,{size:"xsmall",as:"h2",id:d,testId:f&&`${f}--current-month-year`},`${t} ${n}`)),k(dn,{appearance:"subtle",spacing:"compact",tabIndex:u,onClick:b,testId:f&&`${f}--next-month`,icon:tK,label:`${a}, ${s}`})))});aK.displayName="Header";const J6e=()=>({all:"unset",display:"block",padding:"var(--ds-space-050, 4px) 9px",position:"relative",backgroundColor:"transparent",border:"2px solid transparent",borderRadius:3,color:`var(--ds-text, ${Ba})`,cursor:"pointer",flexGrow:1,font:'var(--ds-font-body, normal 400 14px/20px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)',textAlign:"center","&[data-sibling]":{color:`var(--ds-text-subtlest, ${jt})`},"&[data-today]":{color:`var(--ds-text-selected, ${Jt})`,fontWeight:"var(--ds-font-weight-bold, bold)","&::after":{display:"block",height:2,position:"absolute",right:"var(--ds-space-025, 2px)",bottom:"var(--ds-space-025, 2px)",left:"var(--ds-space-025, 2px)",backgroundColor:"currentColor",content:'""'}},"&[data-prev-selected]":{backgroundColor:`var(--ds-background-selected, ${gn})`,color:`var(--ds-text-subtle, ${Rl})`},"&[data-selected]":{backgroundColor:`var(--ds-background-selected, ${rn})`,color:`var(--ds-text-selected, ${Ve})`},"&[data-disabled]":{color:`var(--ds-text-disabled, ${Ut})`,cursor:"not-allowed"},"&:focus-visible":{border:`2px solid ${`var(--ds-border-focused, ${vn})`}`},"&:hover":{backgroundColor:`var(--ds-background-neutral-subtle-hovered, ${Dt})`,color:`var(--ds-text, ${Ba})`},"&:active":{backgroundColor:`var(--ds-background-neutral-subtle-pressed, ${gn})`,color:`var(--ds-text, ${Ba})`},"&[data-selected]:hover":{backgroundColor:`var(--ds-background-selected-hovered, ${gn})`,color:`var(--ds-text-selected, ${Rl})`},"&[data-prev-selected]:hover":{color:`var(--ds-text-subtle, ${Rl})`},"&[data-sibling]:hover":{color:`var(--ds-text-subtlest, ${jt})`},"&[data-disabled]:hover":{backgroundColor:"transparent",color:`var(--ds-text-disabled, ${Ut})`}}),sK=c.memo(c.forwardRef(function({children:t,isDisabled:n=!1,isFocused:r=!1,isToday:o=!1,dayLong:a,month:s,monthLong:i,onClick:l=ct,isPreviouslySelected:d=!1,isSelected:u=!1,isSibling:f=!1,year:p,shouldSetFocus:m,tabIndex:g,testId:v},b){const y=c.useRef({day:t,month:s,year:p,isDisabled:n});c.useEffect(()=>{y.current={day:t,month:s,year:p,isDisabled:n}},[t,s,p,n]);const E=c.useRef(null);c.useEffect(()=>{r&&m&&E.current&&E.current.focus()},[r,m]);const w=c.useCallback(()=>{const{day:x,month:S,year:I,isDisabled:A}=y.current;A||l({day:x,month:S,year:I})},[l]),C=M(J6e());return k(uN,{role:"gridcell",alignItems:"center"},k("button",{css:C,"aria-current":o?"date":void 0,"aria-disabled":n||void 0,"aria-label":`${t}, ${a} ${i} ${p}`,"aria-pressed":u?"true":"false",tabIndex:r?g:-1,type:"button",onClick:w,ref:E,"data-disabled":n||void 0,"data-focused":r||void 0,"data-prev-selected":d||void 0,"data-selected":u||void 0,"data-sibling":f||void 0,"data-today":o||void 0,"data-testid":v&&(u?`${v}--selected-day`:`${v}--day`)},t))}));sK.displayName="Date";const iK=({testId:e,children:t,isHidden:n})=>{const r=k(uN,{testId:e,templateColumns:"repeat(7, minmax(max-content, 1fr))",role:"row"},t);return n?k("div",{"aria-hidden":"true"},r):r},lK=c.memo(function({weeks:t,handleClickDay:n,monthsLong:r,shouldSetFocus:o,tabIndex:a,testId:s}){return k(_e,{role:"rowgroup",testId:s&&`${s}--month`},t.map((i,l)=>k(iK,{key:l,testId:s&&`${s}--week`},i.values.map(d=>k(sK,{key:`${i.id}-${d.id}`,isDisabled:d.isDisabled,isFocused:d.isFocused,isToday:d.isToday,dayLong:d.weekDayName,month:d.month,monthLong:r[d.month-1],onClick:n,isPreviouslySelected:d.isPreviouslySelected,isSelected:d.isSelected,isSibling:d.isSiblingMonth,year:d.year,shouldSetFocus:o,tabIndex:a,testId:s},d.day)))))});lK.displayName="WeekDays";const Z6e=ie({minWidth:"size.400",whiteSpace:"nowrap",display:"flex",justifyContent:"center"}),cK=c.memo(function({daysShort:t,testId:n}){return k(iK,{isHidden:!0,testId:n&&`${n}--column-headers`},t.map(r=>k(_e,{padding:"space.100",xcss:Z6e,key:r,role:"columnheader",testId:n&&`${n}--column-header`},k(Gt,{weight:"bold",size:"UNSAFE_small",align:"center",color:"color.text.subtle"},r))))});cK.displayName="WeekHeader";const Q6e={ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up"},Ta=7,rb=12,RR=[];function eRe(e,{navigate:t}){c.useImperativeHandle(e,()=>({navigate:t}),[t])}const PR={};function tRe(e){const t=c.useRef(PR);return t.current===PR&&(t.current=e()),t}function ob(e){return e<10?`0${e}`:`${e}`}function nRe({day:e,defaultDay:t,month:n,defaultMonth:r,year:o,defaultYear:a,today:s,selected:i,defaultSelected:l,previouslySelected:d,defaultPreviouslySelected:u}){const{current:{thisDay:f,thisMonth:p,thisYear:m}}=tRe(()=>{const T=new Date,O=T.getDate(),D=T.getMonth()+1,$=T.getFullYear();return{thisDay:O,thisMonth:D,thisYear:$}}),[g,v]=gi(e,()=>t||f),[b,y]=gi(n,()=>r||p),[E,w]=gi(o,()=>a||m),[C]=gi(s,()=>s||`${m}-${ob(p)}-${ob(f)}`),[x,S]=gi(i,()=>l),[I,A]=gi(d,()=>u);return{day:[g,v],month:[b,y],year:[E,w],today:[C],selected:[x,S],previous:[I,A]}}function rRe({onBlur:e,onFocus:t}){const n=c.useCallback(o=>{e(o)},[e]),r=c.useCallback(o=>{t(o)},[t]);return{handleContainerBlur:n,handleContainerFocus:r}}function _4(e,t){return`${e.year}-${ob(e.month+(t&&t.fixMonth?1:0))}-${ob(e.day)}`}function vd(e,t){return new Date(e,t+1,0).getDate()}function dK(e,t,{weekStartDay:n=0}={weekStartDay:0}){const r=new Date(Date.UTC(e,t,1,0,0,0,0)),o=r.getUTCFullYear(),a=r.getUTCMonth(),s=[],i=r.getUTCDay(),l=-((Ta-n+i)%Ta),d=vd(o,a),u=(d-l)%Ta,f=vd(o,a-1);let p=l,m,g,v=null,b,y;const E=d-p+(u!==0?Ta-u:0)+l;for(;p<E;)g=p+1,m=((p<1?Ta+p:p)+i)%Ta,g<1||g>d?(g<1?(b=a-1,y=o,b<0&&(b=rb-1,y--),g=f+g):g>d&&(b=a+1,y=o,b>rb-1&&(b=0,y++),g=p-d+1),b!==void 0&&y!==void 0&&(v={day:g,weekDay:m,month:b,year:y,siblingMonth:!0})):v={day:g,weekDay:m,month:a,year:o},s.push(v),p++;return s}function oRe(e,{month:t,year:n,weekStartDay:r}){const o=e.length%6,a=e[e.length-1];return c.useMemo(()=>{if(o){const i=a.siblingMonth?Ta:0;return dK(n,t,{weekStartDay:r}).slice(i,i+Ta).map(l=>({...l,siblingMonth:!0}))}},[a,t,o,r,n])}function aRe({day:e,daysLong:t,month:n,year:r,today:o,disabled:a,disabledDateFilter:s,minDate:i,maxDate:l,selected:d,previouslySelected:u,weekStartDay:f}){const p=c.useMemo(()=>dK(r,n-1,{weekStartDay:f}),[n,f,r]),m=oRe(p,{month:n,year:r,weekStartDay:f});m&&p.push(...m);const g=i?xd(i):void 0,v=l?xd(l):void 0,b=i||l;return c.useMemo(()=>{const y=[];return p.forEach(E=>{const w=_4(E,{fixMonth:!0}),C=b?xd(w):void 0;let x;E.weekDay===f?(x={id:w,values:[]},y.push(x)):x=y[y.length-1];const S=(E.weekDay-f)%7,I=t[S],A=a?a.indexOf(w)>-1:!1,T=s?s(w):!1,O=g&&C?C<g:!1,D=v&&C?C>v:!1,$=A||T||O||D,L=e===E.day&&!E.siblingMonth,F=!$&&u.indexOf(w)>-1,B=!$&&d.indexOf(w)>-1,V=!!E.siblingMonth,Y=o===w;x.values.push({id:w,isDisabled:$,isFocused:L,isToday:Y,month:E.month+1,isPreviouslySelected:F,isSelected:B,isSiblingMonth:V,year:E.year,day:E.day,weekDayName:I})}),y},[p,e,a,s,g,v,b,u,d,o,f,t])}const ww=(e,t)=>{let n=e,r=t;return n===rb?(n=1,r+=1):n+=1,{month:n,year:r}},Cw=(e,t)=>{let n=e,r=t;return n===1?(n=rb,r-=1):n-=1,{month:n,year:r}};function sRe({day:[e,t],month:[n,r],year:[o,a],shouldSetFocus:[s,i],onChange:l}){const d=c.useRef({day:e,month:n,year:o});c.useEffect(()=>{d.current={day:e,month:n,year:o}},[e,n,o]);const u=c.useCallback(({year:g,month:v,day:b,type:y})=>{const E=_4({year:g,month:v,day:b}),w=["up","down","left","right"].includes(y);l({day:b,month:v,year:g,iso:E,type:y}),t(b),r(v),a(g),i(w)},[l,t,r,a,i]),f=c.useCallback(g=>{const{day:v,month:b,year:y}=d.current;if(g==="down"){const E=v+Ta,w=vd(y,b-1);if(E>w){const{month:C,year:x}=ww(b,y);u({year:x,month:C,day:E-w,type:g})}else u({year:y,month:b,day:E,type:g})}else if(g==="left"){const E=v-1;if(E<1){const{month:w,year:C}=Cw(b,y),x=vd(C,w-1);u({year:C,month:w,day:x,type:g})}else u({year:y,month:b,day:E,type:g})}else if(g==="right"){const E=v+1,w=vd(y,b-1);if(E>w){const{month:C,year:x}=ww(b,y);u({year:x,month:C,day:1,type:g})}else u({year:y,month:b,day:E,type:g})}else if(g==="up"){const E=v-Ta;if(E<1){const{month:w,year:C}=Cw(b,y),x=vd(C,w-1)+E;u({year:C,month:w,day:x,type:g})}else u({year:y,month:b,day:E,type:g})}},[u]),p=c.useCallback(()=>{const{day:g,month:v,year:b}={...d.current,...ww(d.current.month,d.current.year)};u({day:g,month:v,year:b,type:"next"})},[u]),m=c.useCallback(()=>{const{day:g,month:v,year:b}={...d.current,...Cw(d.current.month,d.current.year)};u({day:g,month:v,year:b,type:"prev"})},[u]);return{navigate:f,handleClickNext:p,handleClickPrev:m}}function iRe({day:[e],month:[t],year:[n],selected:[r,o],previous:[,a],onSelect:s,navigate:i}){const l=c.useRef({day:e,month:t,year:n});c.useEffect(()=>{l.current={day:e,month:t,year:n}},[e,t,n]);const d=c.useCallback(({year:p,month:m,day:g})=>{const v=_4({year:p,month:m,day:g});s({day:g,month:m,year:p,iso:v}),a(r),o([v])},[s,r,a,o]),u=c.useCallback(({year:p,month:m,day:g})=>{d({year:p,month:m,day:g})},[d]),f=c.useCallback(p=>{const{key:m}=p,g=Q6e[m];m==="Enter"||m===" "?(p.preventDefault(),d(l.current)):g&&(p.preventDefault(),i(g))},[d,i]);return{handleClickDay:u,handleContainerKeyDown:f}}function lRe({locale:e,weekStartDay:t}){const n=c.useMemo(()=>K_(e),[e]),r=c.useMemo(()=>n.getMonthsLong(),[n]),o=c.useMemo(()=>n.getDaysShort(t),[n,t]),a=c.useMemo(()=>n.getDaysLong(t),[n,t]);return{monthsLong:r,daysShort:o,daysLong:a}}const cRe=ie({display:"inline-block",userSelect:"none"}),LR={componentName:"calendar",packageName:"@atlaskit/calendar",packageVersion:"14.5.2"},dRe=c.forwardRef(function({day:t,defaultDay:n=0,defaultMonth:r=0,defaultPreviouslySelected:o=RR,defaultSelected:a=RR,defaultYear:s=0,disabled:i,disabledDateFilter:l,minDate:d,maxDate:u,month:f,nextMonthLabel:p,onBlur:m=ct,onChange:g=ct,onFocus:v=ct,onSelect:b=ct,previouslySelected:y,previousMonthLabel:E,selected:w,shouldSetFocusOnCurrentDay:C=!1,today:x,locale:S="en-US",year:I,analyticsContext:A,weekStartDay:T=0,testId:O,calendarRef:D,className:$,style:L,tabIndex:F=0},B){const{day:[V,Y],month:[J,z],year:[ce,le],today:[j],selected:[Z,K],previous:[oe,X]}=nRe({day:t,defaultDay:n,month:f,defaultMonth:r,year:I,defaultYear:s,today:x,selected:w,defaultSelected:a,previouslySelected:y,defaultPreviouslySelected:o}),[pe,ee]=c.useState(!1),ne=Bo({fn:g,action:"changed",analyticsData:A,...LR}),{navigate:Q,handleClickNext:se,handleClickPrev:ue}=sRe({day:[V,Y],month:[J,z],year:[ce,le],shouldSetFocus:[pe,ee],onChange:ne}),ve=Bo({fn:b,action:"selected",analyticsData:A,...LR}),{handleClickDay:ke,handleContainerKeyDown:ge}=iRe({day:[V,Y],month:[J,z],year:[ce,le],selected:[Z,K],previous:[,X],onSelect:ve,navigate:Q}),{handleContainerBlur:N,handleContainerFocus:R}=rRe({onFocus:v,onBlur:m});eRe(D,{navigate:Q});const{monthsLong:P,daysShort:W,daysLong:re}=lRe({locale:S,weekStartDay:T}),be=aRe({day:V,month:J,year:ce,today:j,selected:Z,previouslySelected:oe,disabled:i,disabledDateFilter:l,minDate:d,maxDate:u,daysLong:re,weekStartDay:T}),te=()=>{const we=J%12,$e=J===12;return`${P[we]} ${$e?ce+1:ce}`},xe=()=>{const we=(J+12-2)%12,$e=J===1;return`${P[we]} ${$e?ce-1:ce}`},he=oK("month-year-header");return k("div",{className:$,style:L,onBlur:N,onFocus:R,"data-testid":O&&`${O}--container`,ref:B},k(_e,{xcss:cRe,padding:"space.200","aria-label":"calendar",testId:O&&`${O}--calendar`},k(Rt,{space:"space.150"},k(aK,{monthLongTitle:P[J-1],year:ce,nextMonthLabel:p,previousMonthLabel:E,nextHeading:te(),previousHeading:xe(),handleClickNext:se,handleClickPrev:ue,headerId:he,tabIndex:F,testId:O}),k(_e,{role:"grid",onKeyDown:ge,"aria-labelledby":he,testId:O&&`${O}--calendar-dates`},k(cK,{daysShort:W,testId:O}),k(lK,{weeks:be,handleClickDay:ke,monthsLong:P,shouldSetFocus:pe||C,tabIndex:F,testId:O})))))}),x4=c.memo(c.forwardRef(function(t,n){return k(dRe,H({},t,{ref:n}))}));x4.displayName="Calendar";var by={};Object.defineProperty(by,"__esModule",{value:!0});var uK=by.default=void 0,uRe=fK(c),fRe=je,pRe=fK(gc);function fK(e){return e&&e.__esModule?e:{default:e}}const pK=e=>uRe.default.createElement(fRe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M4.995 5h14.01C20.107 5 21 5.895 21 6.994v12.012A1.994 1.994 0 0 1 19.005 21H4.995A1.995 1.995 0 0 1 3 19.006V6.994C3 5.893 3.892 5 4.995 5M5 9v9a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V9zm1-5a1 1 0 0 1 2 0v1H6zm10 0a1 1 0 0 1 2 0v1h-2zm-9 9v-2.001h2V13zm8 0v-2.001h2V13zm-4 0v-2.001h2.001V13zm-4 4v-2h2v2zm4 0v-2h2.001v2zm4 0v-2h2v2z"/></svg>'},e,{newIcon:pRe.default}));pK.displayName="CalendarIcon";uK=by.default=pK;const mRe=ie({all:"unset",outline:"revert",display:"flex",alignItems:"center",justifyContent:"center",padding:"space.025"}),hRe=ie({padding:"space.075"}),gRe=e=>k(yc.ClearIndicator,H({},e,{innerProps:{...e.innerProps,"aria-hidden":"false"}}),k(Co,{xcss:mRe,tabIndex:-1},k(dG,{label:"clear",color:"currentColor",LEGACY_size:"small",LEGACY_margin:"var(--ds-space-negative-025, -0.125rem)"}))),vRe=e=>k(yc.DropdownIndicator,e,k(Me,{as:"span",xcss:hRe},k(Ws,{color:"currentColor",label:"open",LEGACY_margin:"var(--ds-space-negative-075, -0.375rem)"}))),bRe=e=>{const t=M(e.getStyles("loadingIndicator",e));return k("div",H({css:t},e.innerProps),k(rr,{size:"small"}))},yRe=M({display:"none"}),ERe=M({display:"inherit"}),wRe=ie({padding:"space.025"}),CRe=e=>{const{isDisabled:t}=e.selectProps,n=()=>et("platform-component-visual-refresh")?k(H_,{label:"Clear",color:"currentColor"}):et("platform-visual-refresh-icons-legacy-facade")?k(Me,{xcss:wRe},k(H_,{label:"Clear",color:"currentColor"})):k(ry,{label:"Clear",primaryColor:"transparent",size:"small",secondaryColor:"inherit"});return k(yc.MultiValueRemove,e,k("div",{css:t?yRe:ERe,"data-testid":t?"hide-clear-icon":"show-clear-icon"},n()))},_Re=null;function xRe(e){let t;const n=e.selectProps["aria-describedby"];return e["aria-describedby"]&&n?t=e["aria-describedby"]+" "+n:t=e["aria-describedby"]||n,_.createElement(yc.Input,H({},e,{"aria-describedby":t}))}const SRe=e=>_.createElement(yc.NoOptionsMessage,e,_.createElement("span",{id:"no-options",role:"alert"},_.createElement(Gt,{color:"color.text.subtle"},e.children||"No options")));function kRe(e,t=!1,n){return{container:(r,{isDisabled:o})=>({...r,font:'var(--ds-font-body, normal 400 14px/20px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)',pointerEvents:"all",cursor:o?"not-allowed":r.cursor}),input:r=>({...r,color:"var(--ds-text, hsl(0, 0%, 20%))"}),control:(r,{isFocused:o,isDisabled:a})=>{let s=o?`var(--ds-border-focused, ${cn})`:`var(--ds-border-input, ${ji})`,i=o?`var(--ds-background-input-pressed, ${Ve})`:`var(--ds-background-input, ${Ke})`,l=o?`var(--ds-background-input-pressed, ${Ve})`:`var(--ds-background-input-hovered, ${Dt})`;a&&(i=`var(--ds-background-disabled, ${Ke})`,s=`var(--ds-background-disabled, ${Ke})`),e==="error"&&(s=`var(--ds-border-danger, ${bn})`),e==="success"&&(s=`var(--ds-border-success, ${Ds})`);let d=o?`var(--ds-border-focused, ${cn})`:`var(--ds-border-input, ${ji})`;e==="error"&&(d=`var(--ds-border-danger, ${bn})`),e==="success"&&(d=`var(--ds-border-success, ${Ds})`);const u="200ms";return n==="subtle"&&(s=o?`var(--ds-border-focused, ${cn})`:"transparent",i=o?`var(--ds-surface, ${Ve})`:"transparent",l=o?`var(--ds-background-input-pressed, ${Ve})`:`var(--ds-background-input-hovered, ${Dt})`),n==="none"&&(s="transparent",i="transparent",l="transparent",d="transparent"),{...r,pointerEvents:a?"none":void 0,backgroundColor:i,borderColor:s,borderStyle:"solid",borderRadius:"var(--ds-border-radius-100, 3px)",borderWidth:"var(--ds-border-width, 1px)",boxShadow:e==="error"?`inset 0 0 0 var(--ds-border-width, 1px) ${s}`:"none","&:focus-within":{boxShadow:`inset 0 0 0 var(--ds-border-width, 1px) ${s}`},minHeight:t?32:40,padding:0,transition:`background-color ${u} ease-in-out,
        border-color ${u} ease-in-out`,"::-webkit-scrollbar":{height:8,width:8},"::-webkit-scrollbar-corner":{display:"none"},":hover":{"::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,0.2)"},cursor:"pointer",backgroundColor:l,borderColor:d},"::-webkit-scrollbar-thumb:hover":{backgroundColor:"rgba(0,0,0,0.4)"}}},valueContainer:r=>({...r,paddingLeft:"var(--ds-space-075, 6px)",paddingRight:"var(--ds-space-075, 6px)",paddingBottom:t?0:2,paddingTop:t?0:2}),clearIndicator:r=>({...r,color:`var(--ds-text-subtlest, ${an})`,paddingLeft:"var(--ds-space-025, 2px)",paddingRight:"var(--ds-space-025, 2px)",paddingBottom:t?0:6,paddingTop:t?0:6,":hover":{color:`var(--ds-text-subtle, ${rn})`}}),loadingIndicator:r=>({...r,paddingBottom:t?0:6,paddingTop:t?0:6}),dropdownIndicator:(r,{isDisabled:o})=>{let a=`var(--ds-text-subtle, ${rn})`;return o&&(a=`var(--ds-text-disabled, ${an})`),{...r,color:a,paddingLeft:"var(--ds-space-025, 2px)",paddingRight:"var(--ds-space-025, 2px)",paddingBottom:t?0:6,paddingTop:t?0:6,":hover":{color:`var(--ds-text-subtle, ${jt})`}}},indicatorsContainer:r=>({...r,paddingRight:"var(--ds-space-050, 4px)"}),option:(r,{isFocused:o,isSelected:a,isDisabled:s})=>{let i=`var(--ds-text, ${mn})`;s?i=`var(--ds-text-disabled, ${an})`:a&&(i=`var(--ds-text-selected, ${Jt})`);let l,d;s?d=void 0:a&&o?d=`var(--ds-background-selected-hovered, ${gn})`:a?d=`var(--ds-background-selected, ${gn})`:o&&(d=`var(--ds-background-neutral-subtle-hovered, ${Ke})`),!s&&(o||a)&&(l=`inset 2px 0px 0px ${`var(--ds-border-selected, ${Jt})`}`);const u=s?"not-allowed":r.cursor;return{...r,padding:"6px 12px",backgroundColor:d,color:i,cursor:u,boxShadow:l,":active":{backgroundColor:s?void 0:a?`var(--ds-background-selected-pressed, ${Ke})`:`var(--ds-background-neutral-subtle-pressed, ${Dt})`},"@media screen and (-ms-high-contrast: active)":{borderLeft:!s&&(o||a)?"2px solid transparent":""}}},placeholder:(r,{isDisabled:o})=>({...r,color:o?`var(--ds-text-disabled, ${Vn})`:`var(--ds-text-subtlest, ${jt})`}),singleValue:(r,{isDisabled:o})=>({...r,color:o?`var(--ds-text-disabled, ${an})`:`var(--ds-text, ${mn})`}),menu:r=>({...r,backgroundColor:"var(--ds-surface-overlay, white)",boxShadow:"var(--ds-shadow-overlay, 0 0 0 1px hsl(0deg 0% 0% / 10%), 0 4px 11px hsl(0deg 0% 0% / 10%))"}),menuList:r=>({...r,paddingTop:"var(--ds-space-100, 8px)",paddingBottom:"var(--ds-space-100, 8px)"}),multiValue:(r,{isDisabled:o,isFocused:a})=>{let s,i;return o?(s=`var(--ds-background-neutral, ${Ut})`,i=`var(--ds-text-disabled, ${an})`):a?(s=`var(--ds-background-selected, ${Ut})`,i="var(--ds-text-selected, hsl(0, 0%, 20%))"):(s=et("platform-component-visual-refresh")?"var(--ds-background-neutral-subtle-hovered, #091E420F)":`var(--ds-background-neutral, ${Ut})`,i="var(--ds-text, hsl(0, 0%, 20%))"),{...r,borderRadius:"var(--ds-border-radius-050, 2px)",backgroundColor:s,boxShadow:a?"0 0 0 2px var(--ds-surface, transparent), 0 0 0 4px var(--ds-border-focused, transparent)":"none",maxWidth:"100%","@media screen and (-ms-high-contrast: active)":{border:a?"1px solid transparent":"none"},color:i,...et("platform-component-visual-refresh")&&{borderRadius:"var(--ds-border-radius-100, 4px)",borderColor:"#B7B9BE",borderWidth:"var(--ds-border-width, 1px)",borderStyle:"solid",backgroundColor:"var(--ds-background-input, #FFFFFF)"}}},multiValueLabel:(r,{isDisabled:o})=>({...r,font:'var(--ds-font-body-UNSAFE_small, normal 400 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)',padding:"var(--ds-space-025, 2px)",color:o?`var(--ds-text-disabled, ${an})`:"inherit",paddingRight:"var(--ds-space-025, 2px)",...et("platform-component-visual-refresh")&&{font:'var(--ds-font-body, normal 400 14px/20px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)',paddingTop:0,paddingBottom:0,paddingLeft:"var(--ds-space-050, 4px)"}}),multiValueRemove:(r,{isFocused:o})=>({...r,backgroundColor:o?`var(--ds-UNSAFE-transparent, ${Uo})`:void 0,fill:o?"var(--ds-text-selected, #000)":"var(--ds-text, #000)",paddingLeft:"var(--ds-space-025, 2px)",paddingRight:"var(--ds-space-025, 2px)",borderRadius:"0px 2px 2px 0px",":hover":{backgroundColor:`var(--ds-background-danger-hovered, ${Uo})`,fill:"var(--ds-text-danger, #000)"},":active":{backgroundColor:`var(--ds-background-danger-pressed, ${Uo})`,fill:"var(--ds-text-danger, #000)"},...et("platform-component-visual-refresh")&&{backgroundColor:"var(--ds-background-neutral-subtle, #00000000)",border:"none",alignItems:"center",justifyContent:"center",alignSelf:"center",appearance:"none",borderRadius:"var(--ds-border-radius, 4px)",color:"var(--ds-text, #172B4D)",padding:"var(--ds-space-025, 2px)",marginRight:"var(--ds-space-025, 2px)",":focus-visible":{outlineOffset:"var(--ds-space-negative-025, -2px)"},":hover":{backgroundColor:"var(--ds-background-neutral-subtle-hovered, #091E420F)"},":active":{backgroundColor:"var(--ds-background-neutral-subtle-pressed, #091E4224)"}}}),groupHeading:r=>({...r,font:'var(--ds-font-body-small, normal 400 11px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)',color:`var(--ds-text-subtle, ${jt})`,...et("platform_design_system_team_select_typography")&&{fontWeight:"var(--ds-font-weight-bold, 700) !important",textTransform:"none"}})}}function IRe(e,t){var n;const{focused:r}=e,o=i=>i.label===r.label,a=t==null?void 0:t.find(i=>{var l;return(l=i.options)===null||l===void 0?void 0:l.some(o)}),s=(n=a==null?void 0:a.options.findIndex(o))!==null&&n!==void 0?n:0;return`Option ${r.label}, ${a==null?void 0:a.label} group, item ${s+1} out of ${a==null?void 0:a.options.length}. All in all `}const TRe=e=>e==null?void 0:e.every(t=>t.hasOwnProperty("options"));function ARe(e){const t=c.forwardRef(function(r,o){const{appearance:a,ariaLiveMessages:s,components:i,isInvalid:l,onClickPreventDefault:d=!0,spacing:u="default",styles:f={},tabSelectsValue:p=!1,validationState:m="default",...g}=r,v=c.useRef(null),b=c.useMemo(()=>({ClearIndicator:gRe,DropdownIndicator:vRe,LoadingIndicator:bRe,MultiValueRemove:CRe,IndicatorSeparator:_Re,Input:xRe,NoOptionsMessage:SRe,...i}),[i]),y=r["aria-describedby"],E=r.isSearchable;c.useEffect(()=>{if(!E&&y){var C;const x=(C=v.current)===null||C===void 0?void 0:C.inputRef,S=x==null?void 0:x.getAttribute("aria-describedby");S!=null&&S.includes(y)||x==null||x.setAttribute("aria-describedby",`${S} ${y}`)}},[y,E]);const w=u==="compact";return c.useImperativeHandle(o,()=>({select:v.current,focus:()=>{var C;return(C=v.current)===null||C===void 0?void 0:C.focus()},blur:()=>{var C;return(C=v.current)===null||C===void 0?void 0:C.blur()}}),[]),_.createElement(e,H({ref:v,"aria-live":"assertive",ariaLiveMessages:TRe(r.options)?{onFocus:C=>IRe(C,r.options),...s}:{...s},tabSelectsValue:p,onClickPreventDefault:d},g,{components:b,styles:zW(kRe(typeof l<"u"?l?"error":"default":m,w,a||"default"),f)}))});return t.displayName="AtlaskitSelect",t}const NR="@atlaskit/select",FR="17.19.0",DRe=ARe(n4e),ORe=GU("atlaskit"),MRe=wye({componentName:"select",packageName:NR,packageVersion:FR})(WU({onChange:ORe({action:"changed",actionSubject:"option",attributes:{componentName:"select",packageName:NR,packageVersion:FR}})})(DRe)),$Re=()=>null,RRe=new Date(1993,1,18,13),jR="YYYY/MM/DD";function c0(e){return e<=99?`0${e}`.slice(-2):`${e}`}const S4=c.createContext(0),k4=c.createContext({topLevelRef:{current:null},setTopLevel:ct}),PRe=({children:e,currentLevel:t})=>{const{setTopLevel:n}=c.useContext(k4);return n(t),c.useEffect(()=>()=>{setTimeout(()=>{n(t-1)},0)},[n,t]),_.createElement(S4.Provider,{value:t},e)},LRe=({children:e})=>{const t=c.useRef(0),n=c.useMemo(()=>({topLevelRef:t,setTopLevel:r=>{t.current=r}}),[t]);return _.createElement(k4.Provider,{value:n},e)},I4=({children:e,isDisabled:t=!0})=>{const n=c.useContext(S4);if(t)return _.createElement(_.Fragment,null,e);const r=n>0,o=_.createElement(PRe,{currentLevel:n+1},e);return r?o:_.createElement(LRe,null,o)};function yy(){const e=c.useContext(S4),{topLevelRef:t}=c.useContext(k4),n=c.useCallback(()=>!!t.current&&e!==t.current,[e,t]);return{currentLevel:e,topLevelRef:t,isLayerDisabled:n}}class NRe extends _.Component{constructor(...t){super(...t),q(this,"update",ct)}componentDidUpdate(t){t.inputValue!==this.props.inputValue&&this.update()}render(){const{containerRef:t,content:n,testId:r}=this.props;if(!t)return _.createElement("div",null);const o={background:"transparent",position:"absolute",top:0,height:t.getBoundingClientRect().height,width:t.getBoundingClientRect().width-parseInt(fs.small.slice(0,-2))-gt()};return _.createElement(hh,null,_.createElement(bh,null,({ref:a})=>_.createElement("div",{ref:a,"data-layer-child":!0,style:o})),_.createElement(Ru,null,({ref:a,style:s,update:i})=>(this.update=i,_.createElement("div",{ref:a,style:{...s,zIndex:Qt.dialog()},"data-testid":r&&`${r}--popper--container`},n))))}}function FRe(e){return e.reduce((t,n)=>{const r=xd(n);return _F(r)?{day:r.getDate(),month:r.getMonth()+1,year:r.getFullYear()}:t},{})}const jRe=M({zIndex:Qt.dialog(),backgroundColor:`var(--ds-surface-overlay, ${Ve})`,borderRadius:"var(--ds-border-radius, 3px)",boxShadow:`var(--ds-shadow-overlay, ${`0 4px 8px -2px ${Vs}, 0 0 1px ${Bs}`})`,overflow:"hidden"}),VRe=({selectProps:e,innerProps:t})=>{const{calendarValue:n,calendarView:r}=e,{day:o,month:a,year:s}=FRe([n,r]);return k(I4,{isDisabled:!1},k(NRe,{inputValue:e.inputValue,containerRef:e.calendarContainerRef,content:k("div",H({css:jRe},t),k(x4,{day:o,month:a,year:s,disabled:e.calendarDisabled,disabledDateFilter:e.calendarDisabledDateFilter,minDate:e.calendarMinDate,maxDate:e.calendarMaxDate,nextMonthLabel:e.nextMonthLabel,onChange:e.onCalendarChange,onSelect:e.onCalendarSelect,previousMonthLabel:e.previousMonthLabel,calendarRef:e.calendarRef,selected:[e.calendarValue],shouldSetFocusOnCurrentDay:e.shouldSetFocusOnCurrentDay,locale:e.calendarLocale,testId:e.testId&&`${e.testId}--calendar`,weekStartDay:e.calendarWeekStartDay})),testId:e.testId}))},mK={M:"L",Mo:"Mo",MM:"LL",MMM:"LLL",MMMM:"LLLL",Q:"q",Qo:"qo",D:"d",Do:"do",DD:"dd",DDD:"D",DDDo:"Do",DDDD:"DDD",d:"i",do:"io",dd:"iiiiii",ddd:"iii",dddd:"iiii",A:"a",a:"a",aa:"aaaa",E:"i",W:"I",Wo:"Io",WW:"II",YY:"yy",YYYY:"yyyy",GG:"RR",GGGG:"RRRR",H:"H",HH:"HH",h:"h",hh:"hh",m:"m",mm:"mm",s:"s",ss:"ss",S:"S",SS:"SS",SSS:"SSS",Z:"xxx",ZZ:"xx",X:"t",x:"T"},BRe=Object.keys(mK).sort().reverse(),URe=new RegExp("(\\[[^\\[]*\\])|(\\\\)?('.+'|"+BRe.join("|")+"|.)","g");function hK(e){const t=e.match(URe);return t?t.reduce((n,r,o)=>{const a=mK[r];if(!a){const i=r.match(/^\[(.+)\]$/);i?n.escapedTextBuffer.push(i[1]):n.escapedTextBuffer.push(r)}const s=o===t.length-1;if(n.escapedTextBuffer.length&&(a||s)){const i=n.escapedTextBuffer.map(l=>l[0]==="'"&&l.slice(-1)==="'"?l.slice(1,-1):l).filter(l=>l!=="'").join("");n.formatBuffer.push(`'${i}'`),n.escapedTextBuffer=[]}return a&&n.formatBuffer.push(a),n},{formatBuffer:[],escapedTextBuffer:[]}).formatBuffer.join(""):e}function qf(e){return xF(e,hK("YYYY-MM-DD"))}function HRe(e){return e.match(/^\d{5,}/)?qf(new Date):e}const zRe=({lang:e})=>({children:t,className:n,clearValue:r,cx:o,data:a,getStyles:s,getValue:i,hasValue:l,isDisabled:d,isMulti:u,isRtl:f,options:p,selectOption:m,selectProps:g,setValue:v,theme:b,...y})=>_.createElement(yc.SingleValue,H({},y,{className:n,clearValue:r,cx:o,data:a,getStyles:s,getValue:i,hasValue:l,innerProps:{lang:e},isDisabled:d,isMulti:u,isRtl:f,options:p,selectOption:m,selectProps:g,setValue:v,theme:b}),t),VR="@atlaskit/datetime-picker",BR="13.11.3",WRe={appearance:"default",autoFocus:!1,defaultIsOpen:!1,defaultValue:"",disabled:[],disabledDateFilter:e=>!1,hideIcon:!1,icon:uK,id:"",innerProps:{},isDisabled:!1,isInvalid:!1,label:"",name:"",onBlur:e=>{},onChange:e=>{},onFocus:e=>{},selectProps:{},spacing:"default",locale:"en-US"};class gK extends c.Component{constructor(t){super(t),q(this,"calendarRef",null),q(this,"containerRef",null),q(this,"getValue",()=>{var n;return(n=this.props.value)!==null&&n!==void 0?n:this.state.value}),q(this,"getIsOpen",()=>{var n;return(n=this.props.isOpen)!==null&&n!==void 0?n:this.state.isOpen}),q(this,"isDateDisabled",n=>this.props.disabled.indexOf(n)>-1),q(this,"onCalendarChange",({iso:n})=>{const[r,o,a]=n.split("-");let s=n;const i=parseInt(a,10),l=parseInt(o,10),d=parseInt(r,10),u=bue(new Date(d,l-1)).getDate();u<i?s=`${r}-${c0(l)}-${c0(u)}`:s=`${r}-${c0(l)}-${c0(i)}`,this.setState({calendarValue:s})}),q(this,"onCalendarSelect",({iso:n})=>{var r;this.setState({selectInputValue:"",isOpen:!1,calendarValue:n,value:n}),this.props.onChange(n);const o=(r=this.containerRef)===null||r===void 0?void 0:r.querySelector('[role="combobox"]');o==null||o.focus(),this.setState({isOpen:!1})}),q(this,"onInputClick",()=>{!this.props.isDisabled&&!this.getIsOpen()&&this.setState({isOpen:!0})}),q(this,"onContainerBlur",n=>{var r;const o=n.relatedTarget;(r=this.containerRef)!==null&&r!==void 0&&r.contains(o)||(this.setState({isOpen:!1,shouldSetFocusOnCurrentDay:!1}),this.props.onBlur(n))}),q(this,"onContainerFocus",()=>{this.setState({shouldSetFocusOnCurrentDay:!1})}),q(this,"onSelectBlur",n=>{var r;const o=n.relatedTarget;this.state.clearingFromIcon?this.setState({clearingFromIcon:!1}):(r=this.containerRef)!==null&&r!==void 0&&r.contains(o)||this.setState({isOpen:!1,isFocused:!1})}),q(this,"onSelectFocus",n=>{const{clearingFromIcon:r}=this.state,o=this.getValue();r?this.setState({clearingFromIcon:!1}):this.setState({isOpen:!0,calendarValue:o,isFocused:!0}),this.props.onFocus(n)}),q(this,"onTextInput",n=>{const r=n.target.value;if(r){const o=this.parseDate(r);o&&_F(o)&&this.setState({calendarValue:qf(o)})}this.setState({isOpen:!0})}),q(this,"onInputKeyDown",n=>{var r;const{calendarValue:o}=this.state,a=this.getValue(),s=n.key.toLowerCase();switch(!this.state.isOpen&&(s==="enter"||s===" ")&&this.setState({isOpen:!0}),s){case"escape":const i=(r=this.containerRef)===null||r===void 0?void 0:r.querySelector('[role="combobox"]');i==null||i.focus(),this.setState({isOpen:!1,shouldSetFocusOnCurrentDay:!1});break;case"backspace":case"delete":{a&&n.target instanceof HTMLInputElement&&n.target.value.length<=0&&this.setState({clearingFromIcon:!1,value:""});break}case"enter":if(!this.state.isOpen)return;if(n.preventDefault(),!this.isDateDisabled(o)){const l=HRe(o),d=l!==a;this.setState({selectInputValue:"",isOpen:!1,value:l,calendarValue:l}),d&&this.props.onChange(l)}break;case"arrowdown":case"arrowup":this.state.isOpen&&!this.state.shouldSetFocusOnCurrentDay&&this.setState({shouldSetFocusOnCurrentDay:!0});break}}),q(this,"onClear",()=>{let n={value:"",calendarValue:this.props.defaultValue||qf(new Date)};this.props.hideIcon||(n={...n,clearingFromIcon:!0}),this.setState(n),this.props.onChange("")}),q(this,"onSelectChange",(n,r)=>{r.action==="clear"&&this.onClear()}),q(this,"refCalendar",n=>{this.calendarRef=n}),q(this,"handleSelectInputChange",(n,r)=>{const{onInputChange:o}=this.props.selectProps;o&&o(n,r),this.setState({selectInputValue:n})}),q(this,"getContainerRef",n=>{const r=this.containerRef;this.containerRef=n,r==null&&n!=null&&this.forceUpdate()}),q(this,"parseDate",n=>{const{parseInputValue:r,dateFormat:o}=this.props;if(r)return r(n,o||jR);const{l10n:a}=this.state;return a.parseDate(n)}),q(this,"formatDate",n=>{const{formatDisplayLabel:r,dateFormat:o}=this.props,{l10n:a}=this.state;if(r)return r(n,o||jR);const s=xd(n);return o?xF(s,hK(o)):a.formatDate(s)}),q(this,"getPlaceholder",()=>{const{placeholder:n}=this.props;if(n)return n;const{l10n:r}=this.state;return r.formatDate(RRe)}),this.state={isOpen:this.props.defaultIsOpen,isFocused:!1,clearingFromIcon:!1,selectInputValue:this.props.selectProps.inputValue||"",value:this.props.value||this.props.defaultValue,calendarValue:this.props.value||this.props.defaultValue||qf(new Date),l10n:K_(this.props.locale),locale:this.props.locale,shouldSetFocusOnCurrentDay:!1}}static getDerivedStateFromProps(t,n){return t.locale!==n.locale?{l10n:K_(t.locale),locale:t.locale}:null}render(){const{appearance:t,"aria-describedby":n,autoFocus:r,disabled:o,hideIcon:a,icon:s,id:i,innerProps:l,isDisabled:d,disabledDateFilter:u,maxDate:f,minDate:p,isInvalid:m,label:g,name:v,nextMonthLabel:b,previousMonthLabel:y,selectProps:E,spacing:w,locale:C,testId:x,weekStartDay:S}=this.props,{calendarValue:I,selectInputValue:A}=this.state,T=this.getValue();let O;O=A;const D=this.getIsOpen()&&!d,$=!!((T||A)&&!a),L=t==="subtle"||a||$?null:s,F=zRe({lang:this.props.locale}),B={DropdownIndicator:L,Menu:VRe,SingleValue:F,...!$&&{ClearIndicator:$Re}},{styles:V={}}=E,Y=d?{pointerEvents:"none",color:"var(--ds-icon-disabled, inherit)"}:{},J={calendarContainerRef:this.containerRef,calendarRef:this.refCalendar,calendarDisabled:o,calendarDisabledDateFilter:u,calendarMaxDate:f,calendarMinDate:p,calendarValue:T&&qf(xd(T)),calendarView:I,onCalendarChange:this.onCalendarChange,onCalendarSelect:this.onCalendarSelect,calendarLocale:C,calendarWeekStartDay:S,shouldSetFocusOnCurrentDay:this.state.shouldSetFocusOnCurrentDay},z=zW(V,{control:le=>({...le,...Y}),indicatorsContainer:le=>({...le,paddingLeft:"var(--ds-space-025, 2px)",paddingRight:"var(--ds-space-075, 6px)"})}),ce=T?{label:this.formatDate(T),value:T}:null;return k("div",H({},l,{role:"presentation",onBlur:this.onContainerBlur,onFocus:this.onContainerFocus,onClick:this.onInputClick,onInput:this.onTextInput,onKeyDown:this.onInputKeyDown,ref:this.getContainerRef,"data-testid":x&&`${x}--container`}),k("input",{name:v,type:"hidden",value:T,"data-testid":x&&`${x}--input`}),k(MRe,H({appearance:this.props.appearance,"aria-describedby":n,"aria-label":g||void 0,autoFocus:r,closeMenuOnSelect:!0,components:B,enableAnimation:!1,inputId:i,inputValue:O,isDisabled:d,menuIsOpen:D,onBlur:this.onSelectBlur,onChange:this.onSelectChange,onFocus:this.onSelectFocus,onInputChange:this.handleSelectInputChange,placeholder:this.getPlaceholder(),styles:z,value:ce},E,{isClearable:!0,isInvalid:m,spacing:w,testId:x,calendarContainerRef:J.calendarContainerRef,calendarDisabled:J.calendarDisabled,calendarDisabledDateFilter:J.calendarDisabledDateFilter,calendarLocale:J.calendarLocale,calendarMaxDate:J.calendarMaxDate,calendarMinDate:J.calendarMinDate,calendarRef:J.calendarRef,calendarValue:J.calendarValue,calendarView:J.calendarView,calendarWeekStartDay:J.calendarWeekStartDay,nextMonthLabel:b,onCalendarChange:J.onCalendarChange,onCalendarSelect:J.onCalendarSelect,previousMonthLabel:y,shouldSetFocusOnCurrentDay:J.shouldSetFocusOnCurrentDay})))}}q(gK,"defaultProps",WRe);const GRe=Mde({componentName:"datePicker",packageName:VR,packageVersion:BR})($de({onChange:Rde("atlaskit")({action:"selectedDate",actionSubject:"datePicker",attributes:{componentName:"datePicker",packageName:VR,packageVersion:BR}})})(gK)),qRe=Re.div.withConfig({displayName:"FieldDecorator__FieldWrapper",componentId:"sc-lou3ac-0"})(["& + *{margin-top:",";}",""],U("space.300"),e=>e.isCreatableFieldSettingContainer?"display: flex":""),T4=({label:e,showRequiredIndicator:t,description:n,children:r,isCompact:o,hasError:a,errorMessage:s,isCreatableFieldSettingContainer:i})=>h.jsxs(qRe,{className:fa({isCompact:o}),isCreatableFieldSettingContainer:i,children:[e&&h.jsxs(Vu,{htmlFor:e,children:[e,t&&h.jsx(Fh,{})]}),r,n&&!a&&h.jsx(py,{children:n}),s&&a&&h.jsx(Bu,{children:s})]});function Ko(e,t,n){const r=e.getState().collab.byContentId[t];r?r.batch(n):n()}const YRe=(e,t)=>(n,r)=>{const o=r(),a=Hn(o,{contentId:e}),s=SY(o,{contentId:e,type:"field"}),i=a.fields.indexOf(t),l=s?a.fields.indexOf(s.fieldId):i,d=l<i?a.fields.slice(l,i+1):a.fields.slice(i,l+1);n(ar.actions.selectFields({fieldIds:d,clear:!1,focusFieldId:t}))},KRe=(e,t)=>(n,r)=>{const o=r(),a=Hn(o,{contentId:e}),s=SY(o,{contentId:e,type:"entry"}),i=a.entries.indexOf(t),l=s?a.entries.indexOf(s.entryId):i,d=l<i?a.entries.slice(l,i+1):a.entries.slice(i,l+1);n(ar.actions.selectEntries({entryIds:d,clear:!1,focusEntryId:t}))},Bh=({entryId:e,fieldId:t,clearExistingSelection:n=!0})=>ar.actions.selectValues({values:[{fieldId:t,entryId:e}],clear:n,focusValue:{fieldId:t,entryId:e}}),vK=({contentId:e,fieldId:t})=>(n,r)=>{const o=r(),a=Gs(o,{contentId:e});a.length===1&&a[0]===t?n(ar.actions.deselectFields({fieldIds:[t],focusFieldId:t})):n(ar.actions.selectFields({fieldIds:[t],clear:!0,focusFieldId:t}))},XRe=({contentId:e,entryId:t})=>(n,r)=>{const o=r(),a=Ki(o,{contentId:e});a.length===1&&a[0]===t?n(ar.actions.deselectEntries({entryIds:[t],focusEntryId:t})):n(ar.actions.selectEntries({entryIds:[t],clear:!0,focusEntryId:t}))},A4=({contentId:e,entryId:t,fieldId:n})=>(r,o)=>{const a=o(),s=Hn(a,{contentId:e}),l=pr(a,{contentId:e}).map(v=>s.entries.indexOf(v)),d=s.entries.indexOf(t),u=s.entries.slice(Math.min(...l,d),Math.max(...l,d)+1),p=Tn(a,{contentId:e}).map(v=>s.fields.indexOf(v)),m=s.fields.indexOf(n),g=s.fields.slice(Math.min(...p,m),Math.max(...p,m)+1);r(ar.actions.selectValues({values:g.flatMap(v=>u.map(b=>({fieldId:v,entryId:b}))),clear:!0,focusValue:{fieldId:n,entryId:t}}))},JRe=({contentId:e,entryId:t,isRangeSelect:n})=>(r,o)=>{const a=o();n?r(KRe(e,t)):hy(a,{entryId:t})?r(ar.actions.deselectEntries({entryIds:[t],focusEntryId:t})):r(ar.actions.selectEntries({entryIds:[t],clear:!1,focusEntryId:t}))},ZRe=({contentId:e,fieldId:t,isRangeSelect:n})=>(r,o)=>{const a=o();n?r(YRe(e,t)):Hu(a,{fieldId:t})?r(ar.actions.deselectFields({fieldIds:[t],focusFieldId:t})):r(ar.actions.selectFields({fieldIds:[t],clear:!1,focusFieldId:t}))},bK=({entryIds:e,clearSelectedValues:t=!0})=>n=>{n(ar.actions.selectEntries({entryIds:e,clear:!0,focusEntryId:e[e.length-1],clearSelectedValues:t}))},QRe=({entryIds:e})=>t=>{t(ar.actions.deselectEntries({entryIds:e,focusEntryId:void 0}))},yK=({fieldIds:e,clearSelectedValues:t=!0})=>n=>{n(ar.actions.selectFields({fieldIds:e,clear:!0,focusFieldId:e[e.length-1],clearSelectedValues:t}))},e9e=({fieldIds:e})=>t=>{t(ar.actions.deselectFields({fieldIds:e,focusFieldId:void 0}))},t9e=({contentId:e,entryId:t})=>(n,r)=>{const o=Tn(r(),{contentId:e});ko(()=>Ko({dispatch:n,getState:r},e,()=>{o.forEach(a=>{n(A4({contentId:e,entryId:t,fieldId:a}))})}))},{deselectAll:wr,selectValues:kIt,setSoftSelection:am,setHoverDeleteButton:$a,setFirstSelectedValue:n9e}=ar.actions,UR=40,r9e=({onChange:e,onFocus:t,onBlur:n,autoFocus:r,value:o,isDefaultValue:a,entryId:s,isBulkEdit:i})=>{var D,$;const{formatMessage:l}=Ee(),d=c.useContext(Oh),u=Du(),f=fe.useDispatch(),p=c.useRef(null),m=c.useCallback(L=>{var B;const F=L||void 0;e(F,{type:ae.DATE,value:F}),(B=p.current)==null||B.blur(),f(wr())},[f,e]),g=c.useCallback(()=>{m(o===Lg?g2(o):Lg)},[m,o]),[v,b]=c.useState(!1),{entryId:y}=An(),E="date-picker-padding",w=c.useCallback(()=>{const L=document.getElementById(E);L&&L.parentNode&&L.parentNode.removeChild(L)},[]),C=c.useRef(null);c.useEffect(()=>{if(Xr()&&C.current){const{bottom:L}=C.current.getBoundingClientRect(),F=document.getElementById("resizeObserver"),B=((F==null?void 0:F.offsetHeight)||0)+30,V=300,Y=L>V,J=V+50,z=B-L,ce=z>J,le=J-z;if(!v)w();else if(!Y&&!ce){const j=document.createElement("div");j.style.height=le+"px",j.id=E,F==null||F.appendChild(j)}}},[s,a,y,v,w]);const x=c.useCallback(()=>{v||(setTimeout(()=>{b(!0)},0),t==null||t())},[t,v]),S=c.useCallback(()=>{b(!1),n==null||n()},[n]);c.useEffect(()=>()=>{w()},[w]);const I=c.useRef(null),[A,T]=c.useState(((D=I.current)==null?void 0:D.clientHeight)||0);c.useEffect(()=>{const L=I.current;if(!L)return;const F=()=>{T(L.clientHeight)},B=new ResizeObserver(()=>{F()});return B.observe(L),()=>{B.unobserve(L)}},[]);const O=h.jsxs("div",{ref:C,style:i?{width:($=I.current)==null?void 0:$.clientWidth,height:A+UR}:{},children:[h.jsx(GRe,{value:g2(o)??"",onChange:m,onFocus:x,onBlur:S,isOpen:i?!1:v,autoFocus:r,placeholder:tce(u),locale:u,isDisabled:a&&o===Lg,selectProps:{ref:p,menuPortalTarget:d,styles:{menuPortal:L=>{var B;const F=(B=p.current)==null?void 0:B.select.controlRef;return{...L,top:typeof L.top=="number"?L.top-(F.getBoundingClientRect().height||UR):0}}}}}),i&&h.jsx(x4,{ref:I,locale:u,defaultSelected:[g2(o)||""],onSelect:L=>m(L.iso)})]});return a?h.jsxs(h.Fragment,{children:[O,h.jsx(T4,{isCompact:!0,children:h.jsx(tu,{isChecked:o===Lg,onChange:g,onFocus:t,onBlur:n,label:l(G["field-settings.date-default-value"])})})]}):O};var EK={};Object.defineProperty(EK,"__esModule",{value:!0});var _w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HR=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wK=c,Ef=CK(wK),o9e=Gm,zn=CK(o9e);function CK(e){return e&&e.__esModule?e:{default:e}}function a9e(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function s9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i9e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function l9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var zR={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},c9e=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],d9e=function(t){return c9e.forEach(function(n){return delete t[n]}),t},WR=function(t,n){n.style.fontSize=t.fontSize,n.style.fontFamily=t.fontFamily,n.style.fontWeight=t.fontWeight,n.style.fontStyle=t.fontStyle,n.style.letterSpacing=t.letterSpacing,n.style.textTransform=t.textTransform},_K=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,GR=function(){return _K?"_"+Math.random().toString(36).substr(2,12):void 0},D4=function(e){l9e(t,e),HR(t,null,[{key:"getDerivedStateFromProps",value:function(r,o){var a=r.id;return a!==o.prevId?{inputId:a||GR(),prevId:a}:null}}]);function t(n){s9e(this,t);var r=i9e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return r.inputRef=function(o){r.input=o,typeof r.props.inputRef=="function"&&r.props.inputRef(o)},r.placeHolderSizerRef=function(o){r.placeHolderSizer=o},r.sizerRef=function(o){r.sizer=o},r.state={inputWidth:n.minWidth,inputId:n.id||GR(),prevId:n.id},r}return HR(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(r,o){o.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var r=this.input&&window.getComputedStyle(this.input);r&&(WR(r,this.sizer),this.placeHolderSizer&&WR(r,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var r=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?r=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:r=this.sizer.scrollWidth+2;var o=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;r+=o,r<this.props.minWidth&&(r=this.props.minWidth),r!==this.state.inputWidth&&this.setState({inputWidth:r})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var r=this.props.injectStyles;return _K&&r?Ef.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var r=[this.props.defaultValue,this.props.value,""].reduce(function(i,l){return i??l}),o=_w({},this.props.style);o.display||(o.display="inline-block");var a=_w({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),s=a9e(this.props,[]);return d9e(s),s.className=this.props.inputClassName,s.id=this.state.inputId,s.style=a,Ef.default.createElement("div",{className:this.props.className,style:o},this.renderStyles(),Ef.default.createElement("input",_w({},s,{ref:this.inputRef})),Ef.default.createElement("div",{ref:this.sizerRef,style:zR},r),this.props.placeholder?Ef.default.createElement("div",{ref:this.placeHolderSizerRef,style:zR},this.props.placeholder):null)}}]),t}(wK.Component);D4.propTypes={className:zn.default.string,defaultValue:zn.default.any,extraWidth:zn.default.oneOfType([zn.default.number,zn.default.string]),id:zn.default.string,injectStyles:zn.default.bool,inputClassName:zn.default.string,inputRef:zn.default.func,inputStyle:zn.default.object,minWidth:zn.default.oneOfType([zn.default.number,zn.default.string]),onAutosize:zn.default.func,onChange:zn.default.func,placeholder:zn.default.string,placeholderIsMinWidth:zn.default.bool,style:zn.default.object,value:zn.default.any};D4.defaultProps={minWidth:1,injectStyles:!0};var u9e=EK.default=D4;function f9e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(n),!0).forEach(function(r){f9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ab(e){return ab=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ab(e)}function p9e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function m9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h9e(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:m9e(e)}function Ey(e){var t=p9e();return function(){var r=ab(e),o;if(t){var a=ab(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return h9e(this,o)}}var sb=function(){};function g9e(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function v9e(e,t,n){var r=[n];if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&r.push("".concat(g9e(e,o)));return r.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var YR=function(t){return Array.isArray(t)?t.filter(Boolean):aF(t)==="object"&&t!==null?[t]:[]},xK=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=Bn(t,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]);return nr({},n)};function O4(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function SK(e){return O4(e)?window.pageYOffset:e.scrollTop}function ib(e,t){if(O4(e)){window.scrollTo(0,t);return}e.scrollTop=t}function b9e(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/,o=document.documentElement;if(t.position==="fixed")return o;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return a;return o}function y9e(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function d0(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:sb,o=SK(e),a=t-o,s=10,i=0;function l(){i+=s;var d=y9e(i,o,a,n);ib(e,d),i<n?window.requestAnimationFrame(l):r(e)}l()}function E9e(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=t.offsetHeight/3;r.bottom+o>n.bottom?ib(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+o,e.scrollHeight)):r.top-o<n.top&&ib(e,Math.max(t.offsetTop-o,0))}function w9e(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function KR(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function C9e(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var kK=!1,_9e={get passive(){return kK=!0}},u0=typeof window<"u"?window:{};u0.addEventListener&&u0.removeEventListener&&(u0.addEventListener("p",sb,_9e),u0.removeEventListener("p",sb,!1));var x9e=kK;function S9e(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,o=e.placement,a=e.shouldScroll,s=e.isFixedPosition,i=e.theme,l=i.spacing,d=b9e(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var f=d.getBoundingClientRect(),p=f.height,m=n.getBoundingClientRect(),g=m.bottom,v=m.height,b=m.top,y=n.offsetParent.getBoundingClientRect(),E=y.top,w=window.innerHeight,C=SK(d),x=parseInt(getComputedStyle(n).marginBottom,10),S=parseInt(getComputedStyle(n).marginTop,10),I=E-S,A=w-b,T=I+C,O=p-C-b,D=g-w+C+x,$=C+b-S,L=160;switch(o){case"auto":case"bottom":if(A>=v)return{placement:"bottom",maxHeight:t};if(O>=v&&!s)return a&&d0(d,D,L),{placement:"bottom",maxHeight:t};if(!s&&O>=r||s&&A>=r){a&&d0(d,D,L);var F=s?A-x:O-x;return{placement:"bottom",maxHeight:F}}if(o==="auto"||s){var B=t,V=s?I:T;return V>=r&&(B=Math.min(V-x-l.controlHeight,t)),{placement:"top",maxHeight:B}}if(o==="bottom")return a&&ib(d,D),{placement:"bottom",maxHeight:t};break;case"top":if(I>=v)return{placement:"top",maxHeight:t};if(T>=v&&!s)return a&&d0(d,$,L),{placement:"top",maxHeight:t};if(!s&&T>=r||s&&I>=r){var Y=t;return(!s&&T>=r||s&&I>=r)&&(Y=s?I-S:T-S),a&&d0(d,$,L),{placement:"top",maxHeight:Y}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}return u}function k9e(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var vx=function(t){return t==="auto"?"bottom":t},I9e=function(t){var n,r=t.placement,o=t.theme,a=o.borderRadius,s=o.spacing,i=o.colors;return n={label:"menu"},q(n,k9e(r),"100%"),q(n,"backgroundColor",i.neutral0),q(n,"borderRadius",a),q(n,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),q(n,"marginBottom",s.menuGutter),q(n,"marginTop",s.menuGutter),q(n,"position","absolute"),q(n,"width","100%"),q(n,"zIndex",1),n},IK=c.createContext({getPortalPlacement:null}),TK=function(e){Km(n,e);var t=Ey(n);function n(){var r;Xm(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=t.call.apply(t,[this].concat(a)),r.state={maxHeight:r.props.maxMenuHeight,placement:null},r.getPlacement=function(i){var l=r.props,d=l.minMenuHeight,u=l.maxMenuHeight,f=l.menuPlacement,p=l.menuPosition,m=l.menuShouldScrollIntoView,g=l.theme;if(i){var v=p==="fixed",b=m&&!v,y=S9e({maxHeight:u,menuEl:i,minHeight:d,placement:f,shouldScroll:b,isFixedPosition:v,theme:g}),E=r.context.getPortalPlacement;E&&E(y),r.setState(y)}},r.getUpdatedProps=function(){var i=r.props.menuPlacement,l=r.state.placement||vx(i);return nr(nr({},r.props),{},{placement:l,maxHeight:r.state.maxHeight})},r}return Jm(n,[{key:"render",value:function(){var o=this.props.children;return o({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),n}(c.Component);TK.contextType=IK;var T9e=function(t){var n=t.children,r=t.className,o=t.cx,a=t.getStyles,s=t.innerRef,i=t.innerProps;return k("div",H({css:a("menu",t),className:o({menu:!0},r),ref:s},i),n)},A9e=function(t){var n=t.maxHeight,r=t.theme.spacing.baseUnit;return{maxHeight:n,overflowY:"auto",paddingBottom:r,paddingTop:r,position:"relative",WebkitOverflowScrolling:"touch"}},D9e=function(t){var n=t.children,r=t.className,o=t.cx,a=t.getStyles,s=t.innerProps,i=t.innerRef,l=t.isMulti;return k("div",H({css:a("menuList",t),className:o({"menu-list":!0,"menu-list--is-multi":l},r),ref:i},s),n)},AK=function(t){var n=t.theme,r=n.spacing.baseUnit,o=n.colors;return{color:o.neutral40,padding:"".concat(r*2,"px ").concat(r*3,"px"),textAlign:"center"}},O9e=AK,M9e=AK,DK=function(t){var n=t.children,r=t.className,o=t.cx,a=t.getStyles,s=t.innerProps;return k("div",H({css:a("noOptionsMessage",t),className:o({"menu-notice":!0,"menu-notice--no-options":!0},r)},s),n)};DK.defaultProps={children:"No options"};var OK=function(t){var n=t.children,r=t.className,o=t.cx,a=t.getStyles,s=t.innerProps;return k("div",H({css:a("loadingMessage",t),className:o({"menu-notice":!0,"menu-notice--loading":!0},r)},s),n)};OK.defaultProps={children:"Loading..."};var $9e=function(t){var n=t.rect,r=t.offset,o=t.position;return{left:n.left,position:o,top:r,width:n.width,zIndex:1}},R9e=function(e){Km(n,e);var t=Ey(n);function n(){var r;Xm(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=t.call.apply(t,[this].concat(a)),r.state={placement:null},r.getPortalPlacement=function(i){var l=i.placement,d=vx(r.props.menuPlacement);l!==d&&r.setState({placement:l})},r}return Jm(n,[{key:"render",value:function(){var o=this.props,a=o.appendTo,s=o.children,i=o.className,l=o.controlElement,d=o.cx,u=o.innerProps,f=o.menuPlacement,p=o.menuPosition,m=o.getStyles,g=p==="fixed";if(!a&&!g||!l)return null;var v=this.state.placement||vx(f),b=w9e(l),y=g?0:window.pageYOffset,E=b[v]+y,w={offset:E,position:p,rect:b},C=k("div",H({css:m("menuPortal",w),className:d({"menu-portal":!0},i)},u),s);return k(IK.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},a?sr.createPortal(C,a):C)}}]),n}(c.Component),P9e=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":null,pointerEvents:n?"none":null,position:"relative"}},L9e=function(t){var n=t.children,r=t.className,o=t.cx,a=t.getStyles,s=t.innerProps,i=t.isDisabled,l=t.isRtl;return k("div",H({css:a("container",t),className:o({"--is-disabled":i,"--is-rtl":l},r)},s),n)},N9e=function(t){var n=t.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},F9e=function(t){var n=t.children,r=t.className,o=t.cx,a=t.innerProps,s=t.isMulti,i=t.getStyles,l=t.hasValue;return k("div",H({css:i("valueContainer",t),className:o({"value-container":!0,"value-container--is-multi":s,"value-container--has-value":l},r)},a),n)},j9e=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},V9e=function(t){var n=t.children,r=t.className,o=t.cx,a=t.innerProps,s=t.getStyles;return k("div",H({css:s("indicatorsContainer",t),className:o({indicators:!0},r)},a),n)},XR,B9e={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},MK=function(t){var n=t.size,r=Bn(t,["size"]);return k("svg",H({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:B9e},r))},M4=function(t){return k(MK,H({size:20},t),k("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},$K=function(t){return k(MK,H({size:20},t),k("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},RK=function(t){var n=t.isFocused,r=t.theme,o=r.spacing.baseUnit,a=r.colors;return{label:"indicatorContainer",color:n?a.neutral60:a.neutral20,display:"flex",padding:o*2,transition:"color 150ms",":hover":{color:n?a.neutral80:a.neutral40}}},U9e=RK,H9e=function(t){var n=t.children,r=t.className,o=t.cx,a=t.getStyles,s=t.innerProps;return k("div",H({css:a("dropdownIndicator",t),className:o({indicator:!0,"dropdown-indicator":!0},r)},s),n||k($K,null))},z9e=RK,W9e=function(t){var n=t.children,r=t.className,o=t.cx,a=t.getStyles,s=t.innerProps;return k("div",H({css:a("clearIndicator",t),className:o({indicator:!0,"clear-indicator":!0},r)},s),n||k(M4,null))},G9e=function(t){var n=t.isDisabled,r=t.theme,o=r.spacing.baseUnit,a=r.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:n?a.neutral10:a.neutral20,marginBottom:o*2,marginTop:o*2,width:1}},q9e=function(t){var n=t.className,r=t.cx,o=t.getStyles,a=t.innerProps;return k("span",H({},a,{css:o("indicatorSeparator",t),className:r({"indicator-separator":!0},n)}))},Y9e=Pr(XR||(XR=SW([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),K9e=function(t){var n=t.isFocused,r=t.size,o=t.theme,a=o.colors,s=o.spacing.baseUnit;return{label:"loadingIndicator",color:n?a.neutral60:a.neutral20,display:"flex",padding:s*2,transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"}},xw=function(t){var n=t.delay,r=t.offset;return k("span",{css:M({animation:"".concat(Y9e," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},PK=function(t){var n=t.className,r=t.cx,o=t.getStyles,a=t.innerProps,s=t.isRtl;return k("div",H({css:o("loadingIndicator",t),className:r({indicator:!0,"loading-indicator":!0},n)},a),k(xw,{delay:0,offset:s}),k(xw,{delay:160,offset:!0}),k(xw,{delay:320,offset:!s}))};PK.defaultProps={size:4};var X9e=function(t){var n=t.isDisabled,r=t.isFocused,o=t.theme,a=o.colors,s=o.borderRadius,i=o.spacing;return{label:"control",alignItems:"center",backgroundColor:n?a.neutral5:a.neutral0,borderColor:n?a.neutral10:r?a.primary:a.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(a.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:r?a.primary:a.neutral30}}},J9e=function(t){var n=t.children,r=t.cx,o=t.getStyles,a=t.className,s=t.isDisabled,i=t.isFocused,l=t.innerRef,d=t.innerProps,u=t.menuIsOpen;return k("div",H({ref:l,css:o("control",t),className:r({control:!0,"control--is-disabled":s,"control--is-focused":i,"control--menu-is-open":u},a)},d),n)},Z9e=function(t){var n=t.theme.spacing;return{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},Q9e=function(t){var n=t.children,r=t.className,o=t.cx,a=t.getStyles,s=t.Heading,i=t.headingProps,l=t.innerProps,d=t.label,u=t.theme,f=t.selectProps;return k("div",H({css:a("group",t),className:o({group:!0},r)},l),k(s,H({},i,{selectProps:f,theme:u,getStyles:a,cx:o}),d),k("div",null,n))},e7e=function(t){var n=t.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:n.baseUnit*3,paddingRight:n.baseUnit*3,textTransform:"uppercase"}},t7e=function(t){var n=t.getStyles,r=t.cx,o=t.className,a=xK(t);a.data;var s=Bn(a,["data"]);return k("div",H({css:n("groupHeading",t),className:r({"group-heading":!0},o)},s))},n7e=function(t){var n=t.isDisabled,r=t.theme,o=r.spacing,a=r.colors;return{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,visibility:n?"hidden":"visible",color:a.neutral80}},r7e=function(t){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:t?0:1,outline:0,padding:0,color:"inherit"}},o7e=function(t){var n=t.className,r=t.cx,o=t.getStyles,a=xK(t),s=a.innerRef,i=a.isDisabled,l=a.isHidden,d=Bn(a,["innerRef","isDisabled","isHidden"]);return k("div",{css:o("input",t)},k(u9e,H({className:r({input:!0},n),inputRef:s,inputStyle:r7e(l),disabled:i},d)))},a7e=function(t){var n=t.theme,r=n.spacing,o=n.borderRadius,a=n.colors;return{label:"multiValue",backgroundColor:a.neutral10,borderRadius:o/2,display:"flex",margin:r.baseUnit/2,minWidth:0}},s7e=function(t){var n=t.theme,r=n.borderRadius,o=n.colors,a=t.cropWithEllipsis;return{borderRadius:r/2,color:o.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:a?"ellipsis":null,whiteSpace:"nowrap"}},i7e=function(t){var n=t.theme,r=n.spacing,o=n.borderRadius,a=n.colors,s=t.isFocused;return{alignItems:"center",borderRadius:o/2,backgroundColor:s&&a.dangerLight,display:"flex",paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}}},LK=function(t){var n=t.children,r=t.innerProps;return k("div",r,n)},l7e=LK,c7e=LK;function d7e(e){var t=e.children,n=e.innerProps;return k("div",n,t||k(M4,{size:14}))}var NK=function(t){var n=t.children,r=t.className,o=t.components,a=t.cx,s=t.data,i=t.getStyles,l=t.innerProps,d=t.isDisabled,u=t.removeProps,f=t.selectProps,p=o.Container,m=o.Label,g=o.Remove;return k(js,null,function(v){var b=v.css,y=v.cx;return k(p,{data:s,innerProps:nr({className:y(b(i("multiValue",t)),a({"multi-value":!0,"multi-value--is-disabled":d},r))},l),selectProps:f},k(m,{data:s,innerProps:{className:y(b(i("multiValueLabel",t)),a({"multi-value__label":!0},r))},selectProps:f},n),k(g,{data:s,innerProps:nr({className:y(b(i("multiValueRemove",t)),a({"multi-value__remove":!0},r))},u),selectProps:f}))})};NK.defaultProps={cropWithEllipsis:!0};var u7e=function(t){var n=t.isDisabled,r=t.isFocused,o=t.isSelected,a=t.theme,s=a.spacing,i=a.colors;return{label:"option",backgroundColor:o?i.primary:r?i.primary25:"transparent",color:n?i.neutral20:o?i.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(s.baseUnit*2,"px ").concat(s.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!n&&(o?i.primary:i.primary50)}}},f7e=function(t){var n=t.children,r=t.className,o=t.cx,a=t.getStyles,s=t.isDisabled,i=t.isFocused,l=t.isSelected,d=t.innerRef,u=t.innerProps;return k("div",H({css:a("option",t),className:o({option:!0,"option--is-disabled":s,"option--is-focused":i,"option--is-selected":l},r),ref:d},u),n)},p7e=function(t){var n=t.theme,r=n.spacing,o=n.colors;return{label:"placeholder",color:o.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},m7e=function(t){var n=t.children,r=t.className,o=t.cx,a=t.getStyles,s=t.innerProps;return k("div",H({css:a("placeholder",t),className:o({placeholder:!0},r)},s),n)},h7e=function(t){var n=t.isDisabled,r=t.theme,o=r.spacing,a=r.colors;return{label:"singleValue",color:n?a.neutral40:a.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2,maxWidth:"calc(100% - ".concat(o.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},g7e=function(t){var n=t.children,r=t.className,o=t.cx,a=t.getStyles,s=t.isDisabled,i=t.innerProps;return k("div",H({css:a("singleValue",t),className:o({"single-value":!0,"single-value--is-disabled":s},r)},i),n)},_c={ClearIndicator:W9e,Control:J9e,DropdownIndicator:H9e,DownChevron:$K,CrossIcon:M4,Group:Q9e,GroupHeading:t7e,IndicatorsContainer:V9e,IndicatorSeparator:q9e,Input:o7e,LoadingIndicator:PK,Menu:T9e,MenuList:D9e,MenuPortal:R9e,LoadingMessage:OK,NoOptionsMessage:DK,MultiValue:NK,MultiValueContainer:l7e,MultiValueLabel:c7e,MultiValueRemove:d7e,Option:f7e,Placeholder:m7e,SelectContainer:L9e,SingleValue:g7e,ValueContainer:F9e},v7e=function(t){return nr(nr({},_c),t.components)},JR=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function b7e(e,t){return!!(e===t||JR(e)&&JR(t))}function y7e(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!b7e(e[n],t[n]))return!1;return!0}function E7e(e,t){t===void 0&&(t=y7e);var n,r=[],o,a=!1;function s(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];return a&&n===this&&t(i,r)||(o=e.apply(this,i),a=!0,n=this,r=i),o}return s}var w7e={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},C7e=function(t){return k("span",H({css:w7e},t))},_7e={guidance:function(t){var n=t.isSearchable,r=t.isMulti,o=t.isDisabled,a=t.tabSelectsValue,s=t.context;switch(s){case"menu":return"Use Up and Down to choose options".concat(o?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,o=r===void 0?"":r,a=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(o,", deselected.");case"select-option":return a?"option ".concat(o," is disabled. Select another option."):"option ".concat(o,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,o=r===void 0?{}:r,a=t.options,s=t.label,i=s===void 0?"":s,l=t.selectValue,d=t.isDisabled,u=t.isSelected,f=function(v,b){return v&&v.length?"".concat(v.indexOf(b)+1," of ").concat(v.length):""};if(n==="value"&&l)return"value ".concat(i," focused, ").concat(f(l,o),".");if(n==="menu"){var p=d?" disabled":"",m="".concat(u?"selected":"focused").concat(p);return"option ".concat(i," ").concat(m,", ").concat(f(a,o),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},x7e=function(t){var n=t.ariaSelection,r=t.focusedOption,o=t.focusedValue,a=t.focusableOptions,s=t.isFocused,i=t.selectValue,l=t.selectProps,d=l.ariaLiveMessages,u=l.getOptionLabel,f=l.inputValue,p=l.isMulti,m=l.isOptionDisabled,g=l.isSearchable,v=l.menuIsOpen,b=l.options,y=l.screenReaderStatus,E=l.tabSelectsValue,w=l["aria-label"],C=l["aria-live"],x=c.useMemo(function(){return nr(nr({},_7e),d||{})},[d]),S=c.useMemo(function(){var D="";if(n&&x.onChange){var $=n.option,L=n.removedValue,F=n.value,B=function(z){return Array.isArray(z)?null:z},V=L||$||B(F),Y=nr({isDisabled:V&&m(V),label:V?u(V):""},n);D=x.onChange(Y)}return D},[n,m,u,x]),I=c.useMemo(function(){var D="",$=r||o,L=!!(r&&i&&i.includes(r));if($&&x.onFocus){var F={focused:$,label:u($),isDisabled:m($),isSelected:L,options:b,context:$===r?"menu":"value",selectValue:i};D=x.onFocus(F)}return D},[r,o,u,m,x,b,i]),A=c.useMemo(function(){var D="";if(v&&b.length&&x.onFilter){var $=y({count:a.length});D=x.onFilter({inputValue:f,resultsMessage:$})}return D},[a,f,v,x,b,y]),T=c.useMemo(function(){var D="";if(x.guidance){var $=o?"value":v?"menu":"input";D=x.guidance({"aria-label":w,context:$,isDisabled:r&&m(r),isMulti:p,isSearchable:g,tabSelectsValue:E})}return D},[w,r,o,p,m,g,v,x,E]),O="".concat(I," ").concat(A," ").concat(T);return k(C7e,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text"},s&&k(_.Fragment,null,k("span",{id:"aria-selection"},S),k("span",{id:"aria-context"},O)))},bx=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],S7e=new RegExp("["+bx.map(function(e){return e.letters}).join("")+"]","g"),FK={};for(var Sw=0;Sw<bx.length;Sw++)for(var kw=bx[Sw],Iw=0;Iw<kw.letters.length;Iw++)FK[kw.letters[Iw]]=kw.base;var jK=function(t){return t.replace(S7e,function(n){return FK[n]})},k7e=E7e(jK),ZR=function(t){return t.replace(/^\s+|\s+$/g,"")},I7e=function(t){return"".concat(t.label," ").concat(t.value)},T7e=function(t){return function(n,r){var o=nr({ignoreCase:!0,ignoreAccents:!0,stringify:I7e,trim:!0,matchFrom:"any"},t),a=o.ignoreCase,s=o.ignoreAccents,i=o.stringify,l=o.trim,d=o.matchFrom,u=l?ZR(r):r,f=l?ZR(i(n)):i(n);return a&&(u=u.toLowerCase(),f=f.toLowerCase()),s&&(u=k7e(u),f=jK(f)),d==="start"?f.substr(0,u.length)===u:f.indexOf(u)>-1}};function A7e(e){e.in,e.out,e.onExited,e.appear,e.enter,e.exit;var t=e.innerRef;e.emotion;var n=Bn(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return k("input",H({ref:t},n,{css:M({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var D7e=function(t){t.preventDefault(),t.stopPropagation()};function O7e(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,o=e.onTopArrive,a=e.onTopLeave,s=c.useRef(!1),i=c.useRef(!1),l=c.useRef(0),d=c.useRef(null),u=c.useCallback(function(b,y){if(d.current!==null){var E=d.current,w=E.scrollTop,C=E.scrollHeight,x=E.clientHeight,S=d.current,I=y>0,A=C-x-w,T=!1;A>y&&s.current&&(r&&r(b),s.current=!1),I&&i.current&&(a&&a(b),i.current=!1),I&&y>A?(n&&!s.current&&n(b),S.scrollTop=C,T=!0,s.current=!0):!I&&-y>w&&(o&&!i.current&&o(b),S.scrollTop=0,T=!0,i.current=!0),T&&D7e(b)}},[]),f=c.useCallback(function(b){u(b,b.deltaY)},[u]),p=c.useCallback(function(b){l.current=b.changedTouches[0].clientY},[]),m=c.useCallback(function(b){var y=l.current-b.changedTouches[0].clientY;u(b,y)},[u]),g=c.useCallback(function(b){if(b){var y=x9e?{passive:!1}:!1;typeof b.addEventListener=="function"&&b.addEventListener("wheel",f,y),typeof b.addEventListener=="function"&&b.addEventListener("touchstart",p,y),typeof b.addEventListener=="function"&&b.addEventListener("touchmove",m,y)}},[m,p,f]),v=c.useCallback(function(b){b&&(typeof b.removeEventListener=="function"&&b.removeEventListener("wheel",f,!1),typeof b.removeEventListener=="function"&&b.removeEventListener("touchstart",p,!1),typeof b.removeEventListener=="function"&&b.removeEventListener("touchmove",m,!1))},[m,p,f]);return c.useEffect(function(){if(t){var b=d.current;return g(b),function(){v(b)}}},[t,g,v]),function(b){d.current=b}}var QR=["boxSizing","height","overflow","paddingRight","position"],e9={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function t9(e){e.preventDefault()}function n9(e){e.stopPropagation()}function r9(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function o9(){return"ontouchstart"in window||navigator.maxTouchPoints}var a9=!!(typeof window<"u"&&window.document&&window.document.createElement),wf=0,qc={capture:!1,passive:!1};function M7e(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,o=c.useRef({}),a=c.useRef(null),s=c.useCallback(function(l){if(a9){var d=document.body,u=d&&d.style;if(r&&QR.forEach(function(g){var v=u&&u[g];o.current[g]=v}),r&&wf<1){var f=parseInt(o.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,m=window.innerWidth-p+f||0;Object.keys(e9).forEach(function(g){var v=e9[g];u&&(u[g]=v)}),u&&(u.paddingRight="".concat(m,"px"))}d&&o9()&&(d.addEventListener("touchmove",t9,qc),l&&(l.addEventListener("touchstart",r9,qc),l.addEventListener("touchmove",n9,qc))),wf+=1}},[]),i=c.useCallback(function(l){if(a9){var d=document.body,u=d&&d.style;wf=Math.max(wf-1,0),r&&wf<1&&QR.forEach(function(f){var p=o.current[f];u&&(u[f]=p)}),d&&o9()&&(d.removeEventListener("touchmove",t9,qc),l&&(l.removeEventListener("touchstart",r9,qc),l.removeEventListener("touchmove",n9,qc)))}},[]);return c.useEffect(function(){if(t){var l=a.current;return s(l),function(){i(l)}}},[t,s,i]),function(l){a.current=l}}var $7e=function(){return document.activeElement&&document.activeElement.blur()},R7e={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function P7e(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,o=r===void 0?!0:r,a=e.onBottomArrive,s=e.onBottomLeave,i=e.onTopArrive,l=e.onTopLeave,d=O7e({isEnabled:o,onBottomArrive:a,onBottomLeave:s,onTopArrive:i,onTopLeave:l}),u=M7e({isEnabled:n}),f=function(m){d(m),u(m)};return k(_.Fragment,null,n&&k("div",{onClick:$7e,css:R7e}),t(f))}var L7e=function(t){return t.label},N7e=function(t){return t.label},F7e=function(t){return t.value},j7e=function(t){return!!t.isDisabled},V7e={clearIndicator:z9e,container:P9e,control:X9e,dropdownIndicator:U9e,group:Z9e,groupHeading:e7e,indicatorsContainer:j9e,indicatorSeparator:G9e,input:n7e,loadingIndicator:K9e,loadingMessage:M9e,menu:I9e,menuList:A9e,menuPortal:$9e,multiValue:a7e,multiValueLabel:s7e,multiValueRemove:i7e,noOptionsMessage:O9e,option:u7e,placeholder:p7e,singleValue:h7e,valueContainer:N9e};function yx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=nr({},e);return Object.keys(t).forEach(function(r){e[r]?n[r]=function(o,a){return t[r](e[r](o,a),a)}:n[r]=t[r]}),n}var B7e={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},U7e=4,VK=4,H7e=38,z7e=VK*2,W7e={baseUnit:VK,controlHeight:H7e,menuGutter:z7e},Tw={borderRadius:U7e,colors:B7e,spacing:W7e},G7e={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:KR(),captureMenuScroll:!KR(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:T7e(),formatGroupLabel:L7e,getOptionLabel:N7e,getOptionValue:F7e,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:j7e,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!C9e(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function s9(e,t,n,r){var o=zK(e,t,n),a=WK(e,t,n),s=HK(e,t),i=lb(e,t);return{type:"option",data:t,isDisabled:o,isSelected:a,label:s,value:i,index:r}}function BK(e,t){return e.options.map(function(n,r){if(n.options){var o=n.options.map(function(s,i){return s9(e,s,t,i)}).filter(function(s){return i9(e,s)});return o.length>0?{type:"group",data:n,options:o,index:r}:void 0}var a=s9(e,n,t,r);return i9(e,a)?a:void 0}).filter(function(n){return!!n})}function UK(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,ty(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function q7e(e,t){return UK(BK(e,t))}function i9(e,t){var n=e.inputValue,r=n===void 0?"":n,o=t.data,a=t.isSelected,s=t.label,i=t.value;return(!qK(e)||!a)&&GK(e,{label:s,value:i,data:o},r)}function Y7e(e,t){var n=e.focusedValue,r=e.selectValue,o=r.indexOf(n);if(o>-1){var a=t.indexOf(n);if(a>-1)return n;if(o<t.length)return t[o]}return null}function K7e(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var HK=function(t,n){return t.getOptionLabel(n)},lb=function(t,n){return t.getOptionValue(n)};function zK(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function WK(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=lb(e,t);return n.some(function(o){return lb(e,o)===r})}function GK(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var qK=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},X7e=1,YK=function(e){Km(n,e);var t=Ey(n);function n(r){var o;return Xm(this,n),o=t.call(this,r),o.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},o.blockOptionHover=!1,o.isComposing=!1,o.commonProps=void 0,o.initialTouchX=0,o.initialTouchY=0,o.instancePrefix="",o.openAfterFocus=!1,o.scrollToFocusedOptionOnUpdate=!1,o.userIsDragging=void 0,o.controlRef=null,o.getControlRef=function(a){o.controlRef=a},o.focusedOptionRef=null,o.getFocusedOptionRef=function(a){o.focusedOptionRef=a},o.menuListRef=null,o.getMenuListRef=function(a){o.menuListRef=a},o.inputRef=null,o.getInputRef=function(a){o.inputRef=a},o.focus=o.focusInput,o.blur=o.blurInput,o.onChange=function(a,s){var i=o.props,l=i.onChange,d=i.name;s.name=d,o.ariaOnChange(a,s),l(a,s)},o.setValue=function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",i=arguments.length>2?arguments[2]:void 0,l=o.props,d=l.closeMenuOnSelect,u=l.isMulti;o.onInputChange("",{action:"set-value"}),d&&(o.setState({inputIsHiddenAfterUpdate:!u}),o.onMenuClose()),o.setState({clearFocusValueOnUpdate:!0}),o.onChange(a,{action:s,option:i})},o.selectOption=function(a){var s=o.props,i=s.blurInputOnSelect,l=s.isMulti,d=s.name,u=o.state.selectValue,f=l&&o.isOptionSelected(a,u),p=o.isOptionDisabled(a,u);if(f){var m=o.getOptionValue(a);o.setValue(u.filter(function(g){return o.getOptionValue(g)!==m}),"deselect-option",a)}else if(!p)l?o.setValue([].concat(ty(u),[a]),"select-option",a):o.setValue(a,"select-option");else{o.ariaOnChange(a,{action:"select-option",name:d});return}i&&o.blurInput()},o.removeValue=function(a){var s=o.props.isMulti,i=o.state.selectValue,l=o.getOptionValue(a),d=i.filter(function(f){return o.getOptionValue(f)!==l}),u=s?d:d[0]||null;o.onChange(u,{action:"remove-value",removedValue:a}),o.focusInput()},o.clearValue=function(){var a=o.state.selectValue;o.onChange(o.props.isMulti?[]:null,{action:"clear",removedValues:a})},o.popValue=function(){var a=o.props.isMulti,s=o.state.selectValue,i=s[s.length-1],l=s.slice(0,s.length-1),d=a?l:l[0]||null;o.onChange(d,{action:"pop-value",removedValue:i})},o.getValue=function(){return o.state.selectValue},o.cx=function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return v9e.apply(void 0,[o.props.classNamePrefix].concat(s))},o.getOptionLabel=function(a){return HK(o.props,a)},o.getOptionValue=function(a){return lb(o.props,a)},o.getStyles=function(a,s){var i=V7e[a](s);i.boxSizing="border-box";var l=o.props.styles[a];return l?l(i,s):i},o.getElementId=function(a){return"".concat(o.instancePrefix,"-").concat(a)},o.getComponents=function(){return v7e(o.props)},o.buildCategorizedOptions=function(){return BK(o.props,o.state.selectValue)},o.getCategorizedOptions=function(){return o.props.menuIsOpen?o.buildCategorizedOptions():[]},o.buildFocusableOptions=function(){return UK(o.buildCategorizedOptions())},o.getFocusableOptions=function(){return o.props.menuIsOpen?o.buildFocusableOptions():[]},o.ariaOnChange=function(a,s){o.setState({ariaSelection:nr({value:a},s)})},o.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),o.focusInput())},o.onMenuMouseMove=function(a){o.blockOptionHover=!1},o.onControlMouseDown=function(a){var s=o.props.openMenuOnClick;o.state.isFocused?o.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&o.onMenuClose():s&&o.openMenu("first"):(s&&(o.openAfterFocus=!0),o.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()},o.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!o.props.isDisabled){var s=o.props,i=s.isMulti,l=s.menuIsOpen;o.focusInput(),l?(o.setState({inputIsHiddenAfterUpdate:!i}),o.onMenuClose()):o.openMenu("first"),a.preventDefault(),a.stopPropagation()}},o.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(o.clearValue(),a.stopPropagation(),o.openAfterFocus=!1,a.type==="touchend"?o.focusInput():setTimeout(function(){return o.focusInput()}))},o.onScroll=function(a){typeof o.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&O4(a.target)&&o.props.onMenuClose():typeof o.props.closeMenuOnScroll=="function"&&o.props.closeMenuOnScroll(a)&&o.props.onMenuClose()},o.onCompositionStart=function(){o.isComposing=!0},o.onCompositionEnd=function(){o.isComposing=!1},o.onTouchStart=function(a){var s=a.touches,i=s&&s.item(0);i&&(o.initialTouchX=i.clientX,o.initialTouchY=i.clientY,o.userIsDragging=!1)},o.onTouchMove=function(a){var s=a.touches,i=s&&s.item(0);if(i){var l=Math.abs(i.clientX-o.initialTouchX),d=Math.abs(i.clientY-o.initialTouchY),u=5;o.userIsDragging=l>u||d>u}},o.onTouchEnd=function(a){o.userIsDragging||(o.controlRef&&!o.controlRef.contains(a.target)&&o.menuListRef&&!o.menuListRef.contains(a.target)&&o.blurInput(),o.initialTouchX=0,o.initialTouchY=0)},o.onControlTouchEnd=function(a){o.userIsDragging||o.onControlMouseDown(a)},o.onClearIndicatorTouchEnd=function(a){o.userIsDragging||o.onClearIndicatorMouseDown(a)},o.onDropdownIndicatorTouchEnd=function(a){o.userIsDragging||o.onDropdownIndicatorMouseDown(a)},o.handleInputChange=function(a){var s=a.currentTarget.value;o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange(s,{action:"input-change"}),o.props.menuIsOpen||o.onMenuOpen()},o.onInputFocus=function(a){o.props.onFocus&&o.props.onFocus(a),o.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(o.openAfterFocus||o.props.openMenuOnFocus)&&o.openMenu("first"),o.openAfterFocus=!1},o.onInputBlur=function(a){if(o.menuListRef&&o.menuListRef.contains(document.activeElement)){o.inputRef.focus();return}o.props.onBlur&&o.props.onBlur(a),o.onInputChange("",{action:"input-blur"}),o.onMenuClose(),o.setState({focusedValue:null,isFocused:!1})},o.onOptionHover=function(a){o.blockOptionHover||o.state.focusedOption===a||o.setState({focusedOption:a})},o.shouldHideSelectedOptions=function(){return qK(o.props)},o.onKeyDown=function(a){var s=o.props,i=s.isMulti,l=s.backspaceRemovesValue,d=s.escapeClearsValue,u=s.inputValue,f=s.isClearable,p=s.isDisabled,m=s.menuIsOpen,g=s.onKeyDown,v=s.tabSelectsValue,b=s.openMenuOnFocus,y=o.state,E=y.focusedOption,w=y.focusedValue,C=y.selectValue;if(!p&&!(typeof g=="function"&&(g(a),a.defaultPrevented))){switch(o.blockOptionHover=!0,a.key){case"ArrowLeft":if(!i||u)return;o.focusValue("previous");break;case"ArrowRight":if(!i||u)return;o.focusValue("next");break;case"Delete":case"Backspace":if(u)return;if(w)o.removeValue(w);else{if(!l)return;i?o.popValue():f&&o.clearValue()}break;case"Tab":if(o.isComposing||a.shiftKey||!m||!v||!E||b&&o.isOptionSelected(E,C))return;o.selectOption(E);break;case"Enter":if(a.keyCode===229)break;if(m){if(!E||o.isComposing)return;o.selectOption(E);break}return;case"Escape":m?(o.setState({inputIsHiddenAfterUpdate:!1}),o.onInputChange("",{action:"menu-close"}),o.onMenuClose()):f&&d&&o.clearValue();break;case" ":if(u)return;if(!m){o.openMenu("first");break}if(!E)return;o.selectOption(E);break;case"ArrowUp":m?o.focusOption("up"):o.openMenu("last");break;case"ArrowDown":m?o.focusOption("down"):o.openMenu("first");break;case"PageUp":if(!m)return;o.focusOption("pageup");break;case"PageDown":if(!m)return;o.focusOption("pagedown");break;case"Home":if(!m)return;o.focusOption("first");break;case"End":if(!m)return;o.focusOption("last");break;default:return}a.preventDefault()}},o.instancePrefix="react-select-"+(o.props.instanceId||++X7e),o.state.selectValue=YR(r.value),o}return Jm(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(o){var a=this.props,s=a.isDisabled,i=a.menuIsOpen,l=this.state.isFocused;(l&&!s&&o.isDisabled||l&&i&&!o.menuIsOpen)&&this.focusInput(),l&&s&&!o.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(E9e(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(o,a){this.props.onInputChange(o,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(o){var a=this,s=this.state,i=s.selectValue,l=s.isFocused,d=this.buildFocusableOptions(),u=o==="first"?0:d.length-1;if(!this.props.isMulti){var f=d.indexOf(i[0]);f>-1&&(u=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[u]},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(o){var a=this.state,s=a.selectValue,i=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=s.indexOf(i);i||(l=-1);var d=s.length-1,u=-1;if(s.length){switch(o){case"previous":l===0?u=0:l===-1?u=d:u=l-1;break;case"next":l>-1&&l<d&&(u=l+1);break}this.setState({inputIsHidden:u!==-1,focusedValue:s[u]})}}}},{key:"focusOption",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,s=this.state.focusedOption,i=this.getFocusableOptions();if(i.length){var l=0,d=i.indexOf(s);s||(d=-1),o==="up"?l=d>0?d-1:i.length-1:o==="down"?l=(d+1)%i.length:o==="pageup"?(l=d-a,l<0&&(l=0)):o==="pagedown"?(l=d+a,l>i.length-1&&(l=i.length-1)):o==="last"&&(l=i.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:i[l],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Tw):nr(nr({},Tw),this.props.theme):Tw}},{key:"getCommonProps",value:function(){var o=this.clearValue,a=this.cx,s=this.getStyles,i=this.getValue,l=this.selectOption,d=this.setValue,u=this.props,f=u.isMulti,p=u.isRtl,m=u.options,g=this.hasValue();return{clearValue:o,cx:a,getStyles:s,getValue:i,hasValue:g,isMulti:f,isRtl:p,options:m,selectOption:l,selectProps:u,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var o=this.state.selectValue;return o.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var o=this.props,a=o.isClearable,s=o.isMulti;return a===void 0?s:a}},{key:"isOptionDisabled",value:function(o,a){return zK(this.props,o,a)}},{key:"isOptionSelected",value:function(o,a){return WK(this.props,o,a)}},{key:"filterOption",value:function(o,a){return GK(this.props,o,a)}},{key:"formatOptionLabel",value:function(o,a){if(typeof this.props.formatOptionLabel=="function"){var s=this.props.inputValue,i=this.state.selectValue;return this.props.formatOptionLabel(o,{context:a,inputValue:s,selectValue:i})}else return this.getOptionLabel(o)}},{key:"formatGroupLabel",value:function(o){return this.props.formatGroupLabel(o)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var o=this.props,a=o.isDisabled,s=o.isSearchable,i=o.inputId,l=o.inputValue,d=o.tabIndex,u=o.form,f=this.getComponents(),p=f.Input,m=this.state.inputIsHidden,g=this.commonProps,v=i||this.getElementId("input"),b={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return s?_.createElement(p,H({},g,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:v,innerRef:this.getInputRef,isDisabled:a,isHidden:m,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:u,type:"text",value:l},b)):_.createElement(A7e,H({id:v,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:sb,onFocus:this.onInputFocus,readOnly:!0,disabled:a,tabIndex:d,form:u,value:""},b))}},{key:"renderPlaceholderOrValue",value:function(){var o=this,a=this.getComponents(),s=a.MultiValue,i=a.MultiValueContainer,l=a.MultiValueLabel,d=a.MultiValueRemove,u=a.SingleValue,f=a.Placeholder,p=this.commonProps,m=this.props,g=m.controlShouldRenderValue,v=m.isDisabled,b=m.isMulti,y=m.inputValue,E=m.placeholder,w=this.state,C=w.selectValue,x=w.focusedValue,S=w.isFocused;if(!this.hasValue()||!g)return y?null:_.createElement(f,H({},p,{key:"placeholder",isDisabled:v,isFocused:S}),E);if(b){var I=C.map(function(T,O){var D=T===x;return _.createElement(s,H({},p,{components:{Container:i,Label:l,Remove:d},isFocused:D,isDisabled:v,key:"".concat(o.getOptionValue(T)).concat(O),index:O,removeProps:{onClick:function(){return o.removeValue(T)},onTouchEnd:function(){return o.removeValue(T)},onMouseDown:function(L){L.preventDefault(),L.stopPropagation()}},data:T}),o.formatOptionLabel(T,"value"))});return I}if(y)return null;var A=C[0];return _.createElement(u,H({},p,{data:A,isDisabled:v}),this.formatOptionLabel(A,"value"))}},{key:"renderClearIndicator",value:function(){var o=this.getComponents(),a=o.ClearIndicator,s=this.commonProps,i=this.props,l=i.isDisabled,d=i.isLoading,u=this.state.isFocused;if(!this.isClearable()||!a||l||!this.hasValue()||d)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(a,H({},s,{innerProps:f,isFocused:u}))}},{key:"renderLoadingIndicator",value:function(){var o=this.getComponents(),a=o.LoadingIndicator,s=this.commonProps,i=this.props,l=i.isDisabled,d=i.isLoading,u=this.state.isFocused;if(!a||!d)return null;var f={"aria-hidden":"true"};return _.createElement(a,H({},s,{innerProps:f,isDisabled:l,isFocused:u}))}},{key:"renderIndicatorSeparator",value:function(){var o=this.getComponents(),a=o.DropdownIndicator,s=o.IndicatorSeparator;if(!a||!s)return null;var i=this.commonProps,l=this.props.isDisabled,d=this.state.isFocused;return _.createElement(s,H({},i,{isDisabled:l,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var o=this.getComponents(),a=o.DropdownIndicator;if(!a)return null;var s=this.commonProps,i=this.props.isDisabled,l=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return _.createElement(a,H({},s,{innerProps:d,isDisabled:i,isFocused:l}))}},{key:"renderMenu",value:function(){var o=this,a=this.getComponents(),s=a.Group,i=a.GroupHeading,l=a.Menu,d=a.MenuList,u=a.MenuPortal,f=a.LoadingMessage,p=a.NoOptionsMessage,m=a.Option,g=this.commonProps,v=this.state.focusedOption,b=this.props,y=b.captureMenuScroll,E=b.inputValue,w=b.isLoading,C=b.loadingMessage,x=b.minMenuHeight,S=b.maxMenuHeight,I=b.menuIsOpen,A=b.menuPlacement,T=b.menuPosition,O=b.menuPortalTarget,D=b.menuShouldBlockScroll,$=b.menuShouldScrollIntoView,L=b.noOptionsMessage,F=b.onMenuScrollToTop,B=b.onMenuScrollToBottom;if(!I)return null;var V=function(Z,K){var oe=Z.type,X=Z.data,pe=Z.isDisabled,ee=Z.isSelected,ne=Z.label,Q=Z.value,se=v===X,ue=pe?void 0:function(){return o.onOptionHover(X)},ve=pe?void 0:function(){return o.selectOption(X)},ke="".concat(o.getElementId("option"),"-").concat(K),ge={id:ke,onClick:ve,onMouseMove:ue,onMouseOver:ue,tabIndex:-1};return _.createElement(m,H({},g,{innerProps:ge,data:X,isDisabled:pe,isSelected:ee,key:ke,label:ne,type:oe,value:Q,isFocused:se,innerRef:se?o.getFocusedOptionRef:void 0}),o.formatOptionLabel(Z.data,"menu"))},Y;if(this.hasOptions())Y=this.getCategorizedOptions().map(function(j){if(j.type==="group"){var Z=j.data,K=j.options,oe=j.index,X="".concat(o.getElementId("group"),"-").concat(oe),pe="".concat(X,"-heading");return _.createElement(s,H({},g,{key:X,data:Z,options:K,Heading:i,headingProps:{id:pe,data:j.data},label:o.formatGroupLabel(j.data)}),j.options.map(function(ee){return V(ee,"".concat(oe,"-").concat(ee.index))}))}else if(j.type==="option")return V(j,"".concat(j.index))});else if(w){var J=C({inputValue:E});if(J===null)return null;Y=_.createElement(f,g,J)}else{var z=L({inputValue:E});if(z===null)return null;Y=_.createElement(p,g,z)}var ce={minMenuHeight:x,maxMenuHeight:S,menuPlacement:A,menuPosition:T,menuShouldScrollIntoView:$},le=_.createElement(TK,H({},g,ce),function(j){var Z=j.ref,K=j.placerProps,oe=K.placement,X=K.maxHeight;return _.createElement(l,H({},g,ce,{innerRef:Z,innerProps:{onMouseDown:o.onMenuMouseDown,onMouseMove:o.onMenuMouseMove},isLoading:w,placement:oe}),_.createElement(P7e,{captureEnabled:y,onTopArrive:F,onBottomArrive:B,lockEnabled:D},function(pe){return _.createElement(d,H({},g,{innerRef:function(ne){o.getMenuListRef(ne),pe(ne)},isLoading:w,maxHeight:X,focusedOption:v}),Y)}))});return O||T==="fixed"?_.createElement(u,H({},g,{appendTo:O,controlElement:this.controlRef,menuPlacement:A,menuPosition:T}),le):le}},{key:"renderFormField",value:function(){var o=this,a=this.props,s=a.delimiter,i=a.isDisabled,l=a.isMulti,d=a.name,u=this.state.selectValue;if(!(!d||i))if(l)if(s){var f=u.map(function(g){return o.getOptionValue(g)}).join(s);return _.createElement("input",{name:d,type:"hidden",value:f})}else{var p=u.length>0?u.map(function(g,v){return _.createElement("input",{key:"i-".concat(v),name:d,type:"hidden",value:o.getOptionValue(g)})}):_.createElement("input",{name:d,type:"hidden"});return _.createElement("div",null,p)}else{var m=u[0]?this.getOptionValue(u[0]):"";return _.createElement("input",{name:d,type:"hidden",value:m})}}},{key:"renderLiveRegion",value:function(){var o=this.commonProps,a=this.state,s=a.ariaSelection,i=a.focusedOption,l=a.focusedValue,d=a.isFocused,u=a.selectValue,f=this.getFocusableOptions();return _.createElement(x7e,H({},o,{ariaSelection:s,focusedOption:i,focusedValue:l,isFocused:d,selectValue:u,focusableOptions:f}))}},{key:"render",value:function(){var o=this.getComponents(),a=o.Control,s=o.IndicatorsContainer,i=o.SelectContainer,l=o.ValueContainer,d=this.props,u=d.className,f=d.id,p=d.isDisabled,m=d.menuIsOpen,g=this.state.isFocused,v=this.commonProps=this.getCommonProps();return _.createElement(i,H({},v,{className:u,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:g}),this.renderLiveRegion(),_.createElement(a,H({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:g,menuIsOpen:m}),_.createElement(l,H({},v,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),_.createElement(s,H({},v,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(o,a){var s=a.prevProps,i=a.clearFocusValueOnUpdate,l=a.inputIsHiddenAfterUpdate,d=o.options,u=o.value,f=o.menuIsOpen,p=o.inputValue,m={};if(s&&(u!==s.value||d!==s.options||f!==s.menuIsOpen||p!==s.inputValue)){var g=YR(u),v=f?q7e(o,g):[],b=i?Y7e(a,g):null,y=K7e(a,v);m={selectValue:g,focusedOption:y,focusedValue:b,clearFocusValueOnUpdate:!1}}var E=l!=null&&o!==s?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{};return nr(nr(nr({},m),E),{},{prevProps:o})}}]),n}(c.Component);YK.defaultProps=G7e;var J7e={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},Z7e=function(t){var n,r;return r=n=function(o){Km(s,o);var a=Ey(s);function s(){var i;Xm(this,s);for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];return i=a.call.apply(a,[this].concat(d)),i.select=void 0,i.state={inputValue:i.props.inputValue!==void 0?i.props.inputValue:i.props.defaultInputValue,menuIsOpen:i.props.menuIsOpen!==void 0?i.props.menuIsOpen:i.props.defaultMenuIsOpen,value:i.props.value!==void 0?i.props.value:i.props.defaultValue},i.onChange=function(f,p){i.callProp("onChange",f,p),i.setState({value:f})},i.onInputChange=function(f,p){var m=i.callProp("onInputChange",f,p);i.setState({inputValue:m!==void 0?m:f})},i.onMenuOpen=function(){i.callProp("onMenuOpen"),i.setState({menuIsOpen:!0})},i.onMenuClose=function(){i.callProp("onMenuClose"),i.setState({menuIsOpen:!1})},i}return Jm(s,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(l){return this.props[l]!==void 0?this.props[l]:this.state[l]}},{key:"callProp",value:function(l){if(typeof this.props[l]=="function"){for(var d,u=arguments.length,f=new Array(u>1?u-1:0),p=1;p<u;p++)f[p-1]=arguments[p];return(d=this.props)[l].apply(d,f)}}},{key:"render",value:function(){var l=this,d=this.props;d.defaultInputValue,d.defaultMenuIsOpen,d.defaultValue;var u=Bn(d,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return _.createElement(t,H({},u,{ref:function(p){l.select=p},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),s}(c.Component),n.defaultProps=J7e,r},KK=Z7e(YK);const Q7e=e=>k(_c.ClearIndicator,e,k(ry,{size:"small",label:"clear"})),ePe=e=>k(_c.DropdownIndicator,e,k(wh,{label:"open"})),tPe=e=>k("div",H({css:e.getStyles("loadingIndicator",e)},e.innerProps),k(a5,{size:"small"})),nPe=M`
  display: none;
`,rPe=M`
  display: inherit;
`,oPe=e=>{const{isDisabled:t}=e.selectProps;return k(_c.MultiValueRemove,e,k("div",{css:t?nPe:rPe,"data-testid":t?"hide-clear-icon":"show-clear-icon"},k(ry,{label:"Clear",size:"small",primaryColor:"transparent",secondaryColor:"inherit"})))},aPe=null,sPe=Object.freeze(Object.defineProperty({__proto__:null,ClearIndicator:Q7e,DropdownIndicator:ePe,IndicatorSeparator:aPe,LoadingIndicator:tPe,MultiValueRemove:oPe},Symbol.toStringTag,{value:"Module"})),iPe=2,Cf=2,Aw=gt()-iPe;function lPe(e,t=!1,n){return{container:(r,{isDisabled:o})=>({...r,fontFamily:Eu(),pointerEvents:"all",cursor:o?"not-allowed":r.cursor}),input:r=>({...r,color:"var(--ds-text, hsl(0, 0%, 20%))"}),control:(r,{isFocused:o,isDisabled:a})=>{let s=o?`var(--ds-border-focused, ${cn})`:`var(--ds-border-input, ${Ke})`,i=o?`var(--ds-background-input-pressed, ${Ve})`:`var(--ds-background-input, ${Ke})`,l=o?`var(--ds-background-input-pressed, ${Ve})`:`var(--ds-background-input-hovered, ${Dt})`;a&&(i=`var(--ds-background-disabled, ${Ke})`,s=`var(--ds-background-disabled, ${Ke})`),e==="error"&&(s=`var(--ds-border-danger, ${bn})`),e==="success"&&(s=`var(--ds-border-success, ${Ds})`);let d=o?`var(--ds-border-focused, ${cn})`:`var(--ds-border-input, ${Dt})`;e==="error"&&(d=`var(--ds-border-danger, ${bn})`),e==="success"&&(d=`var(--ds-border-success, ${Ds})`);const u="200ms";return n==="subtle"&&(s=o?`var(--ds-border-focused, ${cn})`:"transparent",i=o?`var(--ds-surface, ${Ve})`:"transparent",l=o?`var(--ds-background-input-pressed, ${Ve})`:`var(--ds-background-input-hovered, ${Dt})`),n==="none"&&(s="transparent",i="transparent",l="transparent",d="transparent"),{...r,pointerEvents:a?"none":void 0,backgroundColor:i,borderColor:s,borderStyle:"solid",borderRadius:"3px",borderWidth:"2px",boxShadow:"none",minHeight:t?gt()*4:gt()*5,padding:0,transition:`background-color ${u} ease-in-out,
        border-color ${u} ease-in-out`,"::-webkit-scrollbar":{height:gt(),width:gt()},"::-webkit-scrollbar-corner":{display:"none"},":hover":{"::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,0.2)"},cursor:"pointer",backgroundColor:l,borderColor:d},"::-webkit-scrollbar-thumb:hover":{backgroundColor:"rgba(0,0,0,0.4)"}}},valueContainer:r=>({...r,paddingLeft:Aw,paddingRight:Aw,paddingBottom:t?0:2,paddingTop:t?0:2}),clearIndicator:r=>({...r,color:`var(--ds-text-subtlest, ${an})`,paddingLeft:Cf,paddingRight:Cf,paddingBottom:t?0:6,paddingTop:t?0:6,":hover":{color:`var(--ds-text-subtle, ${rn})`}}),loadingIndicator:r=>({...r,paddingBottom:t?0:6,paddingTop:t?0:6}),dropdownIndicator:(r,{isDisabled:o})=>{let a=`var(--ds-text-subtle, ${rn})`;return o&&(a=`var(--ds-text-disabled, ${an})`),{...r,color:a,paddingLeft:Cf,paddingRight:Cf,paddingBottom:t?0:6,paddingTop:t?0:6,":hover":{color:`var(--ds-text-subtle, ${jt})`}}},indicatorsContainer:r=>({...r,paddingRight:Aw-Cf}),option:(r,{isFocused:o,isSelected:a,isDisabled:s})=>{let i=`var(--ds-text, ${mn})`;s?i=`var(--ds-text-disabled, ${an})`:a&&(i=`var(--ds-text-selected, ${Jt})`);let l,d;s?d=void 0:a&&o?d=`var(--ds-background-selected-hovered, ${gn})`:a?d=`var(--ds-background-selected, ${gn})`:o&&(d=`var(--ds-background-neutral-subtle-hovered, ${Ke})`),!s&&(o||a)&&(l=`inset 2px 0px 0px ${`var(--ds-border-selected, ${Jt})`}`);const u=s?"not-allowed":r.cursor;return{...r,padding:"6px 12px",backgroundColor:d,color:i,cursor:u,boxShadow:l,":active":{backgroundColor:s?void 0:a?`var(--ds-background-selected-pressed, ${Ke})`:`var(--ds-background-neutral-subtle-pressed, ${Dt})`},"@media screen and (-ms-high-contrast: active)":{borderLeft:!s&&(o||a)?"2px solid transparent":""}}},placeholder:(r,{isDisabled:o})=>({...r,color:o?`var(--ds-text-disabled, ${Vn})`:`var(--ds-text-subtlest, ${Vn})`}),singleValue:(r,{isDisabled:o})=>({...r,color:o?`var(--ds-text-disabled, ${an})`:`var(--ds-text, ${mn})`,lineHeight:`${gt()*2}px`}),menu:r=>({...r,backgroundColor:"var(--ds-surface-overlay, white)",boxShadow:"var(--ds-shadow-overlay, 0 0 0 1px hsl(0deg 0% 0% / 10%), 0 4px 11px hsl(0deg 0% 0% / 10%))"}),menuList:r=>({...r,paddingTop:gt(),paddingBottom:gt()}),multiValue:(r,{isFocused:o})=>({...r,borderRadius:"2px",backgroundColor:o?`var(--ds-background-selected, ${Ut})`:`var(--ds-background-neutral, ${Ut})`,boxShadow:o?"0 0 0 2px var(--ds-surface, transparent), 0 0 0 4px var(--ds-border-focused, transparent)":"none",maxWidth:"100%","@media screen and (-ms-high-contrast: active)":{border:o?"1px solid transparent":"none"},color:o?"var(--ds-text-selected, hsl(0, 0%, 20%))":"var(--ds-text, hsl(0, 0%, 20%))"}),multiValueLabel:(r,{isFocused:o})=>({...r,padding:"2px",color:"inherit",paddingRight:"2px"}),multiValueRemove:(r,{isFocused:o})=>({...r,backgroundColor:o&&`var(--ds-UNSAFE_util-transparent, ${Uo})`,fill:o?"var(--ds-text-selected, #000)":"var(--ds-text, #000)",paddingLeft:"2px",paddingRight:"2px",borderRadius:"0px 2px 2px 0px",":hover":{backgroundColor:`var(--ds-background-danger-hovered, ${Uo})`,fill:"var(--ds-text-danger, #000)"},":active":{backgroundColor:`var(--ds-background-danger-pressed, ${Uo})`,fill:"var(--ds-text-danger, #000)"}})}}function cPe(e){var t;return t=class extends c.Component{constructor(r){super(r),q(this,"components",{}),q(this,"select",null),q(this,"cacheComponents",o=>{this.components={...sPe,...o}}),q(this,"onSelectRef",o=>{this.select=o;const{innerRef:a}=this.props;typeof a=="object"&&(a.current=o),typeof a=="function"&&a(o)}),this.cacheComponents=Za(this.cacheComponents,MI).bind(this),this.cacheComponents(r.components||{})}UNSAFE_componentWillReceiveProps(r){this.cacheComponents(r.components)}focus(){this.select&&this.select.focus()}blur(){this.select&&this.select.blur()}render(){const{styles:r,validationState:o,isInvalid:a,spacing:s,isMulti:i,appearance:l,...d}=this.props,u=s==="compact";return _.createElement(e,H({ref:this.onSelectRef,isMulti:i,"aria-live":"assertive"},d,{components:this.components,styles:yx(lPe(typeof a<"u"?a?"error":"default":o,u,this.props.appearance||"default"),r)}))}},q(t,"defaultProps",{validationState:"default",spacing:"default",onClickPreventDefault:!0,tabSelectsValue:!1,components:{},styles:{}}),t}const l9="@atlaskit/select",c9="15.7.7",dPe=cPe(KK),uPe=oce("atlaskit"),$4=nce({componentName:"select",packageName:l9,packageVersion:c9})(rce({onChange:uPe({action:"changed",actionSubject:"option",attributes:{componentName:"select",packageName:l9,packageVersion:c9}})})(dPe));function fPe(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),o=n.length;if(r.length!==o)return!1;for(var a=0;a<o;a++){var s=n[a];if(e[s]!==t[s]||!Object.prototype.hasOwnProperty.call(t,s))return!1}return!0}var pPe=fPe;const d9=_r(pPe),mPe=xr({"generic-component.select-picker-loading-text":{id:"generic-component.select-picker-loading-text",defaultMessage:"Loading...",description:"The text that is shown when the data for a select dropdown is still loading."}}),hPe=e=>e,gPe=()=>!0,vPe=()=>h.jsx(rr,{size:"small"});function XK({menuIsOpen:e,defaultMenuIsOpen:t,onMenuOpen:n,onMenuClose:r}){const[o,a]=Mh(t??!1,e),s=De(()=>{a(!0),n==null||n()},[n,a]),i=De(()=>{setTimeout(()=>{a(!1),r==null||r()},0)},[r,a]);return c.useMemo(()=>({menuIsOpen:o,onMenuOpen:s,onMenuClose:i}),[i,s,o])}function JK({inputValue:e,onInputChange:t,preserveInputValue:n}){const[r,o]=Mh("",e),a=c.useRef(),s=De((i,l)=>{(!n||l.action==="input-change")&&o(i),a.current=[i,l],t==null||t(i,l)},[t,n,o]);return c.useEffect(()=>{!n&&a.current&&s(...a.current)},[n]),c.useMemo(()=>({inputValue:r,onInputChange:s}),[s,r])}function Jo({isInvalid:e,inputValue:t,onInputChange:n,preserveInputValue:r,components:o,menuIsOpen:a,onMenuOpen:s,onMenuClose:i,defaultMenuIsOpen:l,isMulti:d,...u}){const f=$4,p=XK({menuIsOpen:a,onMenuOpen:s,onMenuClose:i,defaultMenuIsOpen:l}),m=JK({inputValue:t,onInputChange:n,preserveInputValue:r}),g=c.useContext(Oh);return h.jsx(f,{menuPlacement:"auto",menuPosition:"absolute",appearance:d?"subtle":"default",menuPortalTarget:g,validationState:e?"error":void 0,components:{LoadingIndicator:vPe,...o},isMulti:d,...u,...m,...p})}function qs({value:e,getOptionValue:t,inputValue:n,loadOptions:r,modifyOptions:o=hPe,onInputChange:a,preserveInputValue:s,isLoading:i,noOptionsMessage:l,menuIsOpen:d,onMenuOpen:u,onMenuClose:f,defaultMenuIsOpen:p,fetchValueFromOptions:m,isOptionsLoading:g,menuPortalTarget:v,...b}){const{formatMessage:y}=Ee(),E=XK({menuIsOpen:d,onMenuOpen:u,onMenuClose:f,defaultMenuIsOpen:p}),w=JK({inputValue:n,onInputChange:a,preserveInputValue:s}),C=Ph({promiseFn:De(async()=>await r(w.inputValue),[w.inputValue,r])}),x=c.useMemo(()=>{if(g||C.isLoading)return[];const O=[...o(C.data||[],w.inputValue)];if(!w.inputValue){const D=new Set(O.flatMap($=>"options"in $?$.options:[$]).map($=>t($)));O.unshift(...(Array.isArray(e)?e:e?[e]:[]).flatMap($=>D.has(t($))?[]:[$]))}return O},[t,w.inputValue,g,o,C.data,C.isLoading,e]),S=c.useMemo(()=>g||C.isLoading?()=>y(mPe["generic-component.select-picker-loading-text"]):l,[y,g,l,C.isLoading]),I=De((O,D)=>{const $=(L,F)=>{const B=[];return F&&(Array.isArray(L)?L:[L]).forEach(V=>{"options"in V?B.push(...$(V.options,F)):(Array.isArray(F)?F:[F]).forEach(Y=>{t(V)===t(Y)&&B.push(V)})}),B};return $(O,D)},[t]),A=c.useMemo(()=>m?I(x,e):e,[m,x,e,I]),T=c.useContext(Oh);return h.jsx(Jo,{...b,menuPlacement:"auto",menuPosition:"absolute",menuPortalTarget:v!==void 0?v:T,value:A,getOptionValue:t,isLoading:E.menuIsOpen&&C.isLoading||i||m&&C.isLoading,tabSelectsValue:!0,options:x,noOptionsMessage:S,filterOption:gPe,...w,...E})}var bPe=function(t,n){return t===void 0&&(t=[]),n===void 0&&(n=[]),t.length!==n.length||t.some(function(r,o){return!Object.is(r,n[o])})},u9={error:null},wy=function(e){vG(t,e);function t(){for(var r,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=e.call.apply(e,[this].concat(a))||this,r.state=u9,r.resetErrorBoundary=function(){for(var i,l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];r.props.onReset==null||(i=r.props).onReset.apply(i,d),r.reset()},r}t.getDerivedStateFromError=function(o){return{error:o}};var n=t.prototype;return n.reset=function(){this.setState(u9)},n.componentDidCatch=function(o,a){var s,i;(s=(i=this.props).onError)==null||s.call(i,o,a)},n.componentDidUpdate=function(o,a){var s=this.state.error,i=this.props.resetKeys;if(s!==null&&a.error!==null&&bPe(o.resetKeys,i)){var l,d;(l=(d=this.props).onResetKeysChange)==null||l.call(d,o.resetKeys,i),this.reset()}},n.render=function(){var o=this.state.error,a=this.props,s=a.fallbackRender,i=a.FallbackComponent,l=a.fallback;if(o!==null){var d={error:o,resetErrorBoundary:this.resetErrorBoundary};if(c.isValidElement(l))return l;if(typeof s=="function")return s(d);if(i)return c.createElement(i,d);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(c.Component);class sm{constructor(){q(this,"enabled",!1)}log(...t){this.enabled&&console.log(sm.UFOprefix,...t)}warn(...t){this.enabled&&console.warn(sm.UFOprefix,...t)}enable(){this.enabled=!0}disable(){this.enabled=!1}}q(sm,"UFOprefix","[ufo]");const ZK=new sm,gl=(...e)=>{ZK.log(...e)},Dw=(...e)=>{ZK.warn(...e)},yPe="0.1.5";let R4=function(e){return e[e.EXPERIENCE_PAYLOAD=0]="EXPERIENCE_PAYLOAD",e[e.SUBSCRIBE=1]="SUBSCRIBE",e[e.UNSUBSCRIBE=2]="UNSUBSCRIBE",e}({}),Ex=function(e){return e.VISIBLE="visible",e.HIDDEN="hidden",e.MIXED="mixed",e}({});const f9="__SUBSCRIBE_ALL__",p9="fmp",m9="inline-response",EPe=250,Ow=()=>{if(!globalThis.__UFO_GLOBAL_EVENT_STREAM__){const e=(()=>{const t=[];return{__buffer_only__:!0,push:n=>{t.length<EPe&&t.push(n)},getStream:()=>t}})();globalThis.__UFO_GLOBAL_EVENT_STREAM__=e}return globalThis.__UFO_GLOBAL_EVENT_STREAM__},wPe=(e,t)=>({type:R4.SUBSCRIBE,payload:{experienceId:e,callback:t}}),CPe=(e,t)=>({type:R4.UNSUBSCRIBE,payload:{experienceId:e,callback:t}}),_Pe=e=>({type:R4.EXPERIENCE_PAYLOAD,payload:e}),QK=()=>typeof window<"u";class xPe{constructor(){q(this,"started",!1),q(this,"observers",[]),q(this,"broadcast",()=>{this.observers.forEach(t=>t()),this.observers=[]})}start(){this.started||(this.started=!0,document.addEventListener("visibilitychange",this.broadcast),QK()&&window.addEventListener("pagehide",this.broadcast))}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter(n=>n!==t)}}const Mw=new xPe,SPe=()=>~~performance.now(),bt={NOT_STARTED:{id:"NOT_STARTED",final:!0},STARTED:{id:"STARTED"},IN_PROGRESS:{id:"IN_PROGRESS"},BLOCKED:{id:"BLOCKED"},RECOVERED:{id:"RECOVERED"},SUCCEEDED:{id:"SUCCEEDED",final:!0,success:!0},SUCCEEDED_WAITING_FOR_DEPS:{id:"SUCCEEDED_WAITING_FOR_DEPS"},FAILED:{id:"FAILED",final:!0},ABORTED:{id:"ABORTED",final:!0}},h9={[bt.NOT_STARTED.id]:[bt.STARTED.id],[bt.STARTED.id]:[bt.IN_PROGRESS.id,bt.BLOCKED.id,bt.SUCCEEDED.id,bt.SUCCEEDED_WAITING_FOR_DEPS.id,bt.FAILED.id,bt.ABORTED.id],[bt.IN_PROGRESS.id]:[bt.BLOCKED.id,bt.SUCCEEDED.id,bt.SUCCEEDED_WAITING_FOR_DEPS.id,bt.FAILED.id,bt.ABORTED.id],[bt.BLOCKED.id]:[bt.RECOVERED.id,bt.ABORTED.id],[bt.RECOVERED.id]:[bt.STARTED.id,bt.SUCCEEDED.id,bt.SUCCEEDED_WAITING_FOR_DEPS.id,bt.FAILED.id,bt.ABORTED.id],[bt.SUCCEEDED.id]:[bt.STARTED.id],[bt.SUCCEEDED_WAITING_FOR_DEPS.id]:[bt.SUCCEEDED.id,bt.FAILED.id,bt.ABORTED.id],[bt.FAILED.id]:[bt.STARTED.id],[bt.ABORTED.id]:[bt.STARTED.id]},kPe=(e,t)=>h9[e.id]&&h9[e.id].includes(t.id);let oo=function(e){return e.Load="load",e.Experience="experience",e.Operation="operation",e}({}),Cr=function(e){return e.PageLoad="page-load",e.PageSegmentLoad="page-segment-load",e.InlineResult="inline-result",e.Custom="custom",e}({});const g9=()=>!QK()||!window.document||window.document.visibilityState==="visible"?Ex.VISIBLE:Ex.HIDDEN,$w=e=>e!==void 0?~~e:SPe();class IPe{constructor(t,n,r=null){q(this,"state",bt.NOT_STARTED),q(this,"instanceId",null),q(this,"parent",null),q(this,"category",null),q(this,"metadata",{}),q(this,"onDoneCallbacks",[]),q(this,"childExperiences",[]),q(this,"explicitTimings",{}),q(this,"isSSROutputAsFMP",!1),q(this,"uuid",null),q(this,"_until",null),q(this,"metrics",{startTime:null,endTime:null,marks:[]}),q(this,"performanceConfig",{}),q(this,"setPageVisibleStateToMixed",()=>{this.pageVisibleState=Ex.MIXED,Mw.unsubscribe(this.setPageVisibleStateToMixed)}),this.id=t,this.category=(n==null?void 0:n.category)||null,this.until=(n==null?void 0:n.until)||null,this.instanceId=r,this.handleDoneBind=this._handleDoneExperience.bind(this),this.type=n.type,this.performanceType=n.performanceType,this.performanceConfig=n.performanceConfig||{},this.config=n,this.pageVisibleState=g9(),this.featureFlags=n.featureFlags||[],this.timings=n.timings||[],(n.performanceType===Cr.PageLoad||n.performanceType===Cr.PageSegmentLoad)&&(this.isSSROutputAsFMP=n.isSSROutputAsFMP||!1)}async transition(t,n){if(gl("async transition",this.id,this.state.id,t.id),kPe(this.state,t)){if(gl(`TRANSITION: ${this.id} from ${this.state.id} to ${t.id} successful`,this.state.final,!t.final),t===bt.STARTED&&this._reset(),this.state.final&&!t.final&&(this.metrics.startTime=$w(n),this.uuid=ace.v4()),this.state=t,t.final){this.metrics.endTime=$w(n),this._isManualStateEnabled()||Ow().push(CPe(f9,this.handleDoneBind));const r=await this.exportData();gl("this.parent",this.parent),Ow().push(_Pe(r))}return!0}return gl(`TRANSITION: ${this.id} from ${this.state.id} to ${t.id} unsuccessful`),Dw(`transition of ${this.id} from ${this.state} to ${t} is not possible`),!1}async start(t){await this.transition(bt.STARTED,t)&&(this.pageVisibleState=g9(),Mw.subscribe(this.setPageVisibleStateToMixed),this._isManualStateEnabled()||(gl("subscribed",this.id),Ow().push(wPe(f9,this.handleDoneBind))))}mark(t,n){t!==p9&&t!==m9?this._mark(t,n):Dw("please use markFMP or markInlineResponse for specialised marks")}_mark(t,n){this.metrics.marks.push({name:t,time:$w(n)}),this.transition(bt.IN_PROGRESS)}markFMP(t){this._mark(p9,t)}markInlineResponse(t){this._mark(m9,t)}_isManualStateEnabled(){return this.until===null}_validateManualState(){return this._isManualStateEnabled()?!0:(Dw('manual change of state not allowed as "until" is defined'),!1)}switchToEndState(t,n){return!(n!=null&&n.force)&&!this._validateManualState()?null:(n!=null&&n.metadata&&this.addMetadata(n.metadata),Mw.unsubscribe(this.setPageVisibleStateToMixed),this.transition(t))}async success(t){return this.switchToEndState(bt.SUCCEEDED,t)}async failure(t){return this.switchToEndState(bt.FAILED,t)}async abort(t){return this.switchToEndState(bt.ABORTED,t)}addMetadata(t){Object.assign(this.metadata,t)}_handleDoneExperience(t){if(gl("_handleDoneExperience in",this.id,t.state,t,this._until),t.state.final&&this._until!==null){const{done:n,state:r}=this._until(t);n&&!this.state.final&&this.transition(r)}}async getId(){return this.id}async exportData(){return{id:await this.getId(),uuid:this.uuid,type:this.type,schemaVersion:yPe,performanceType:this.performanceType,category:this.category,state:this.state,metadata:{...this.metadata},metrics:{...this.metrics},children:[...this.childExperiences],result:{success:!!this.state.success,startTime:this.metrics.startTime,duration:(this.metrics.endTime||0)-(this.metrics.startTime||0)},platform:this.config.platform||null,pageVisibleState:this.pageVisibleState,featureFlags:this.featureFlags,isSSROutputAsFMP:this.isSSROutputAsFMP,timings:this.timings,explicitTimings:this.explicitTimings,performanceConfig:this.performanceConfig}}_reset(){this.parent=null,this.metadata={},this.onDoneCallbacks=[],this.childExperiences=[],this.metrics={startTime:null,endTime:null,marks:[]},this._until=this.until?this.until():null}}class Ss extends IPe{}class Fa{constructor(t,n){q(this,"instances",{}),this.experienceId=t,this.config=n}getInstance(t){return this.instances[t]||(this.instances[t]=new Ss(this.experienceId,this.config,t)),this.instances[t]}release(t){gl("instanceId",t),this.instances[t]&&this.instances[t].abort(),delete this.instances[t]}}const v9={platform:{component:"smart-links"},type:oo.Experience,performanceType:Cr.InlineResult},TPe={platform:{component:"smart-links"},type:oo.Load,performanceType:Cr.PageSegmentLoad},APe={platform:{component:"smart-links"},type:oo.Experience,performanceType:Cr.InlineResult},Cy={"smart-link-rendered":new Fa("smart-link-rendered",TPe),"smart-link-authenticated":new Fa("smart-link-authenticated",v9),"smart-link-action-invocation":new Fa("smart-link-action-invocation",v9),"smart-link-ai-summary":new Fa("smart-link-ai-summary",APe)},Ep=(e,t,n)=>{const r=Cy[e].getInstance(t);r.start(),n&&r.addMetadata(n)},cb=(e,t,n)=>{Cy[e].getInstance(t).success({metadata:n})},db=(e,t,n)=>{Cy[e].getInstance(t).failure({metadata:n})},DPe=(e,t,n)=>{Cy[e].getInstance(t).addMetadata(n)},eX="pending",P4="resolving",wp="resolved",L4="reloading",ub="errored",N4="fallback",_y="metadata",Ia=(e,{url:t},n,r,o,a)=>({type:e,url:t,payload:n,error:r,metadataStatus:o,ignoreStatusCheck:a});class vs extends Error{constructor(t,n,r,o,a){super(`${t}: ${r}`),this.kind=t,this.hostname=n,this.message=r,this.type=o,this.extensionKey=a,this.name="APIError",this.type=o,this.kind=t,this.message=r,this.hostname=n,this.extensionKey=a}}const tX=(e,t)=>e.getState()[t]||{status:"pending"},OPe=e=>{var t;const n=(t=e.requestAccess)===null||t===void 0?void 0:t.accessType;return!n||n==="ACCESS_EXISTS"?"not_found":"forbidden"},xy=({meta:e})=>{const{access:t,visibility:n}=e;switch(t){case"forbidden":return n==="not_found"?OPe(e):"forbidden";case"unauthorized":return"unauthorized";default:return"resolved"}},b9="https://api-private.dev.atlassian.com",y9="https://pug.jira-dev.com/gateway/api",G0="https://api-private.atlassian.com",E9={dev:b9,development:b9,stg:y9,staging:y9,prd:G0,prod:G0,production:G0},nX=e=>e?e in E9?E9[e]:G0:typeof window.location<"u"?window.location.origin:"",rX=(e,t)=>e||t?`${t||nX(e)}/object-resolver`:"/gateway/api/object-resolver",MPe=[200,401,404];class oX extends Error{constructor(t){super(t)}}async function Cl(e,t,n,r,o=MPe){const a={method:e,credentials:"include",headers:{Accept:"application/json","Cache-Control":"no-cache","Content-Type":"application/json",...r},...n?{body:JSON.stringify(n)}:{}};try{const s=await fetch(t,a);if(s.ok||o!=null&&o.includes(s.status))if(o.includes(204)){const i=await s.text();return i?JSON.parse(i):void 0}else return await s.json();throw s}catch(s){throw typeof s=="string"||s instanceof TypeError?new oX(s):s}}var $Pe=Yp,RPe=function(t){return t!=="theme"},w9=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?$Pe:RPe},C9=function(t,n,r){var o;if(n){var a=n.shouldForwardProp;o=t.__emotion_forwardProp&&a?function(s){return t.__emotion_forwardProp(s)&&a(s)}:a}return typeof o!="function"&&r&&(o=t.__emotion_forwardProp),o},PPe=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return jde(n,r,o),Vde(function(){return Bde(n,r,o)}),null},LPe=function e(t,n){var r=t.__emotion_real===t,o=r&&t.__emotion_base||t,a,s;n!==void 0&&(a=n.label,s=n.target);var i=C9(t,n,r),l=i||w9(o),d=!l("as");return function(){var u=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&f.push("label:"+a+";"),u[0]==null||u[0].raw===void 0)f.push.apply(f,u);else{f.push(u[0][0]);for(var p=u.length,m=1;m<p;m++)f.push(u[m],u[0][m])}var g=Pde(function(v,b,y){var E=d&&v.as||o,w="",C=[],x=v;if(v.theme==null){x={};for(var S in v)x[S]=v[S];x.theme=c.useContext(Lde)}typeof v.className=="string"?w=Nde(b.registered,C,v.className):v.className!=null&&(w=v.className+" ");var I=Fde(f.concat(C),b.registered,x);w+=b.key+"-"+I.name,s!==void 0&&(w+=" "+s);var A=d&&i===void 0?w9(E):l,T={};for(var O in v)d&&O==="as"||A(O)&&(T[O]=v[O]);return T.className=w,T.ref=y,c.createElement(c.Fragment,null,c.createElement(PPe,{cache:b,serialized:I,isStringTag:typeof E=="string"}),c.createElement(E,T))});return g.displayName=a!==void 0?a:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=o,g.__emotion_styles=f,g.__emotion_forwardProp=i,Object.defineProperty(g,"toString",{value:function(){return"."+s}}),g.withComponent=function(v,b){return e(v,H({},n,b,{shouldForwardProp:C9(g,b,!0)})).apply(void 0,f)},g}},NPe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Ge=LPe.bind();NPe.forEach(function(e){Ge[e]=Ge(e)});const aX=Pr({"0%":{backgroundPosition:"-20px 0"},"100%":{backgroundPosition:"60px 0"}}),fb={darkGray:{background:`var(--ds-background-accent-gray-subtler, ${bk})`,animation:`var(--ds-background-accent-gray-subtle, ${wk})`},gray:{background:`var(--ds-background-accent-gray-subtlest, ${Dt})`,animation:`var(--ds-skeleton, ${Ut})`},blue:{background:`var(--ds-background-accent-blue-subtlest, ${gn})`,animation:"var(--ds-background-information-hovered, #cce0ff)"}},FPe=Ge.div`
	height: ${({height:e})=>e||"auto"};
	width: ${({width:e})=>e||"auto"};
	border-radius: ${({borderRadius:e})=>e||0};
	user-select: none;
	background: ${({appearance:e="gray"})=>fb[e].background};

	background-image: ${({appearance:e="gray"})=>`linear-gradient(
    to right,
    transparent 0%,
   ${fb[e].animation} 20%,
    transparent 40%,
    transparent 100%
  )`};
	background-repeat: no-repeat;
	background-size: ${({height:e,isShimmering:t})=>t?`40px ${e};`:"0px"};

	animation: ${aX} 1s linear infinite forwards;
`,jPe=Ge.span`
	height: ${({height:e})=>e||"auto"};
	width: ${({width:e})=>e||"auto"};
	border-radius: ${({borderRadius:e})=>e||0};
	user-select: none;
	background: ${({appearance:e="gray"})=>fb[e].background};

	background-image: ${({appearance:e="gray"})=>`linear-gradient(
    to right,
    transparent 0%,
   ${fb[e].animation} 20%,
    transparent 40%,
    transparent 100%
  )`};
	background-repeat: no-repeat;
	background-size: ${({height:e,isShimmering:t})=>t?`40px ${e};`:"0px"};

	animation: ${aX} 1s linear infinite forwards;
`,VPe=({width:e,appearance:t="gray",height:n=14,borderRadius:r=0,isShimmering:o=!0,testId:a,style:s={}})=>_.createElement(jPe,{width:typeof e=="number"?`${e}px`:e,height:typeof n=="number"?`${n}px`:n,borderRadius:typeof r=="number"?`${r}px`:r,appearance:t,isShimmering:o,"data-testid":a,style:s}),TIt=({width:e,appearance:t="gray",height:n=14,borderRadius:r=0,isShimmering:o=!0,testId:a,style:s={}})=>_.createElement(FPe,{width:typeof e=="number"?`${e}px`:e,height:typeof n=="number"?`${n}px`:n,borderRadius:typeof r=="number"?`${r}px`:r,appearance:t,isShimmering:o,"data-testid":a,style:s}),BPe=()=>typeof window<"u"&&"performance"in window&&["measure","clearMeasures","clearMarks","getEntriesByName","getEntriesByType"].every(e=>!!performance[e]),Gu=BPe(),sX=(e,t)=>`${t}:${e}`,iX=(e,t)=>`time-to-${t}:${e}`,AIt=e=>{Gu&&performance.getEntriesByType("mark").filter(n=>n.name.includes(e)).forEach(n=>performance.clearMarks(n.name))},DIt=e=>{Gu&&performance.getEntriesByType("measure").filter(n=>n.name.includes(e)).forEach(n=>performance.clearMeasures(n.name))},_9=(e,t)=>{if(Gu){const n=sX(e,t),r=performance.getEntriesByName(n);return r.length>0?r[0]:void 0}},Sy=(e,t)=>{if(Gu){const n=iX(e,t),r=performance.getEntriesByName(n);return r.length>0?r[0]:void 0}},q0=(e,t)=>{if(Gu){const n=sX(e,t);performance.mark(n)}},UPe=(e,t)=>{if(Gu){const n=iX(e,t);if(!Sy(e,t)){const o=_9(e,"pending"),a=_9(e,t);o&&a&&performance.measure(n,o.name,a.name)}}};let Oi=function(e){return e.FollowEntityAction="FollowEntityAction",e.GetStatusTransitionsAction="GetStatusTransitionsAction",e.StatusUpdateAction="StatusUpdateAction",e.UnfollowEntityAction="UnfollowEntityAction",e}({});class HPe extends Error{constructor(t,n){super(t),this.errorCode=n}}const Mi="media",Tt={componentName:"smart-cards",packageName:"@atlaskit/smart-card",packageVersion:"28.3.0"};let x9=function(e){return e.StatusUpdate="StatusUpdate",e}({}),Rw=function(e){return e.PermissionError="PermissionError",e.ValidationError="ValidationError",e.UnknownError="UnknownError",e}({});const F4={[Oi.FollowEntityAction]:"Follow",[Oi.StatusUpdateAction]:"StatusUpdate",[Oi.UnfollowEntityAction]:"Unfollow"},zPe={[Oi.FollowEntityAction]:"smartLinkFollowButton",[Oi.UnfollowEntityAction]:"smartLinkFollowButton"},WPe={DownloadAction:"downloadDocument",PreviewAction:"invokePreviewScreen",ViewAction:"shortcutGoToLink",StatusAction:"issueStatusUpdate"};class OIt{insertSmartLink(t,n,r){GPe({action:"inserted",actionSubject:"smartLink",eventType:"track",attributes:{type:n},nonPrivacySafeAttributes:{domainName:t}},r)}}const GPe=(e,t)=>{t&&t(e).fire(Mi)},qPe=e=>({action:"resolved",actionSubject:"smartLink",eventType:"operational",attributes:{...e,...Tt}}),YPe=({id:e,definitionId:t,extensionKey:n,resourceType:r,destinationSubproduct:o,destinationProduct:a,error:s,status:i,location:l})=>({action:"unresolved",actionSubject:"smartLink",eventType:"operational",attributes:{id:e,...Tt,...t?{definitionId:t}:{},...n?{extensionKey:n}:{},...r?{resourceType:r}:{},...o?{destinationSubproduct:o}:{},...a?{destinationProduct:a}:{},...l?{location:l}:{},reason:i,error:s?{message:s==null?void 0:s.message,kind:s==null?void 0:s.kind,type:s==null?void 0:s.type}:void 0}}),KPe=({id:e,actionType:t,display:n,extensionKey:r,definitionId:o,destinationProduct:a,destinationSubproduct:s,location:i})=>{const l=e?Sy(e,"resolved"):void 0;return{action:"resolved",actionSubject:"smartLinkAction",eventType:"operational",attributes:{...Tt,id:e,actionType:t,display:n,definitionId:o,destinationProduct:a,destinationSubproduct:s,location:i,extensionKey:r,duration:l==null?void 0:l.duration}}},XPe=({id:e,actionType:t,display:n,reason:r,extensionKey:o,definitionId:a,destinationProduct:s,destinationSubproduct:i,location:l})=>{const d=e?Sy(e,"errored"):void 0;return{action:"unresolved",actionSubject:"smartLinkAction",eventType:"operational",attributes:{...Tt,id:e,actionType:t,display:n,extensionKey:o,definitionId:a,destinationProduct:s,destinationSubproduct:i,location:l,duration:d==null?void 0:d.duration,reason:r}}},JPe=({definitionId:e,extensionKey:t,destinationProduct:n,destinationSubproduct:r,location:o})=>({action:"connectSucceeded",actionSubject:"smartLink",eventType:"operational",attributes:{...Tt,definitionId:e,extensionKey:t,destinationProduct:n,destinationSubproduct:r,location:o}}),ZPe=({definitionId:e,extensionKey:t,destinationProduct:n,destinationSubproduct:r,location:o,reason:a})=>({action:"connectFailed",actionSubject:"smartLink",actionSubjectId:a,eventType:"operational",attributes:{...Tt,reason:a,extensionKey:t,definitionId:e,destinationProduct:n,destinationSubproduct:r,location:o}}),QPe=({definitionId:e,extensionKey:t,destinationProduct:n,destinationSubproduct:r,location:o})=>({action:"connected",actionSubject:"applicationAccount",eventType:"track",attributes:{...Tt,definitionId:e,extensionKey:t,destinationProduct:n,destinationSubproduct:r,location:o}}),e8e=({extensionKey:e,location:t})=>({action:"authStarted",actionSubject:"applicationAccount",eventType:"track",attributes:{...Tt,extensionKey:e,location:t}}),t8e=({smartLinkActionType:e,...t})=>{var n;return{action:"started",actionSubject:"smartLinkQuickAction",eventType:"track",attributes:{...Tt,...t,smartLinkActionType:(n=F4[e])!==null&&n!==void 0?n:e}}},n8e=({smartLinkActionType:e,...t})=>{var n;return{action:"success",actionSubject:"smartLinkQuickAction",eventType:"track",attributes:{...Tt,...t,smartLinkActionType:(n=F4[e])!==null&&n!==void 0?n:e}}},r8e=({smartLinkActionType:e,...t})=>{var n;return{action:"failed",actionSubject:"smartLinkQuickAction",eventType:"track",attributes:{...Tt,...t,smartLinkActionType:(n=F4[e])!==null&&n!==void 0?n:e}}},o8e=({display:e,...t})=>({action:"resolved",actionSubject:"hoverCard",eventType:"track",attributes:{...Tt,...t,display:e}}),a8e=({definitionId:e,extensionKey:t,destinationProduct:n,destinationSubproduct:r,location:o,display:a})=>({action:"clicked",actionSubject:"button",actionSubjectId:"connectAccount",eventType:"ui",attributes:{...Tt,definitionId:e,extensionKey:t,destinationProduct:n,destinationSubproduct:r,location:o,display:a}}),s8e=({definitionId:e,extensionKey:t,destinationProduct:n,destinationSubproduct:r,location:o,display:a})=>({action:"clicked",actionSubject:"smartLink",actionSubjectId:"tryAnotherAccount",eventType:"ui",attributes:{...Tt,definitionId:e,extensionKey:t,destinationProduct:n,destinationSubproduct:r,location:o,display:a}}),i8e=({id:e,display:t,status:n,definitionId:r,extensionKey:o,isModifierKeyPressed:a,location:s,destinationProduct:i,destinationSubproduct:l,actionSubjectId:d})=>({action:"clicked",actionSubject:"smartLink",actionSubjectId:d,eventType:"ui",attributes:{...Tt,id:e,status:n,definitionId:r,extensionKey:o,display:t,isModifierKeyPressed:a,location:s,destinationProduct:i,destinationSubproduct:l}}),l8e=({id:e,display:t,status:n,definitionId:r,extensionKey:o,location:a,destinationProduct:s,destinationSubproduct:i,dwellTime:l,dwellPercentVisible:d})=>({action:"dwelled",actionSubject:"smartLinkIframe",eventType:"ui",attributes:{...Tt,id:e,status:n,definitionId:r,extensionKey:o,display:t,location:a,destinationProduct:s,destinationSubproduct:i,dwellTime:l,dwellPercentVisible:d}}),c8e=({id:e,display:t,status:n,definitionId:r,extensionKey:o,location:a,destinationProduct:s,destinationSubproduct:i})=>({action:"focused",actionSubject:"smartLinkIframe",eventType:"ui",attributes:{...Tt,id:e,status:n,definitionId:r,extensionKey:o,display:t,location:a,destinationProduct:s,destinationSubproduct:i}}),d8e=({id:e,actionType:t,extensionKey:n,display:r,definitionId:o,destinationProduct:a,destinationSubproduct:s,location:i})=>({action:"clicked",actionSubject:"button",actionSubjectId:WPe[t],eventType:"ui",attributes:{...Tt,id:e,display:r,actionType:t,extensionKey:n,definitionId:o,destinationProduct:a,destinationSubproduct:s,location:i}}),u8e=({display:e,extensionKey:t,definitionId:n,destinationProduct:r,destinationSubproduct:o,location:a})=>({action:"closed",actionSubject:"consentModal",eventType:"ui",attributes:{...Tt,extensionKey:t,definitionId:n,destinationProduct:r,destinationSubproduct:o,location:a,display:e}}),f8e=({extensionKey:e,definitionId:t,destinationProduct:n,destinationSubproduct:r,location:o})=>({actionSubject:"consentModal",eventType:"screen",attributes:{...Tt,extensionKey:e,definitionId:t,destinationProduct:n,destinationSubproduct:r,location:o}}),p8e=({display:e,status:t,extensionKey:n,definitionId:r,destinationProduct:o,destinationSubproduct:a,location:s,canBeDatasource:i})=>({action:"renderSuccess",actionSubject:"smartLink",eventType:"ui",attributes:{...Tt,status:t,extensionKey:n,definitionId:r,destinationProduct:o,destinationSubproduct:a,location:s,display:e,canBeDatasource:i}}),m8e=({display:e,error:t,errorInfo:n,extensionKey:r,definitionId:o,destinationProduct:a,destinationSubproduct:s,location:i})=>({actionSubject:"smartLink",action:"renderFailed",eventType:"ui",attributes:{...Tt,error:t,errorInfo:n,display:e,extensionKey:r,definitionId:o,destinationProduct:a,destinationSubproduct:s,location:i}}),h8e=({id:e,previewDisplay:t,extensionKey:n,definitionId:r,destinationProduct:o,destinationSubproduct:a,location:s,previewInvokeMethod:i,status:l})=>({action:"viewed",actionSubject:"hoverCard",eventType:"ui",attributes:{...Tt,id:e,previewDisplay:t,extensionKey:n,definitionId:r,destinationProduct:o,destinationSubproduct:a,location:s,previewInvokeMethod:i,status:l}}),g8e=({id:e,previewDisplay:t,hoverTime:n,extensionKey:r,definitionId:o,destinationProduct:a,destinationSubproduct:s,location:i,previewInvokeMethod:l,status:d})=>({action:"dismissed",actionSubject:"hoverCard",eventType:"ui",attributes:{...Tt,id:e,previewDisplay:t,hoverTime:n,extensionKey:r,definitionId:o,destinationProduct:a,destinationSubproduct:s,location:i,previewInvokeMethod:l,status:d}}),v8e=({id:e,previewDisplay:t,extensionKey:n,definitionId:r,destinationProduct:o,destinationSubproduct:a,location:s,previewInvokeMethod:i})=>({action:"clicked",actionSubject:"button",actionSubjectId:"shortcutGoToLink",eventType:"ui",attributes:{...Tt,id:e,previewDisplay:t,extensionKey:n,definitionId:r,destinationProduct:o,destinationSubproduct:a,location:s,previewInvokeMethod:i}}),b8e=()=>({action:"clicked",actionSubject:"button",actionSubjectId:"learnMore",eventType:"ui",attributes:{...Tt}}),y8e=({display:e,error:t,errorInfo:n,extensionKey:r,definitionId:o,destinationProduct:a,destinationSubproduct:s,location:i})=>({action:"chunkLoadFailed",actionSubject:"smartLink",eventType:"operational",attributes:{...Tt,error:t,errorInfo:n,display:e,extensionKey:r,definitionId:o,destinationProduct:a,destinationSubproduct:s,location:i}}),E8e=()=>({action:"clicked",actionSubject:"button",actionSubjectId:"smartLinkStatusLozenge",eventType:"ui",attributes:{...Tt}}),w8e=()=>({action:"clicked",actionSubject:"button",actionSubjectId:"smartLinkStatusListItem",eventType:"ui",attributes:{...Tt}}),C8e=()=>({action:"clicked",actionSubject:"button",actionSubjectId:"smartLinkStatusOpenPreview",eventType:"ui",attributes:{...Tt}}),_8e=({smartLinkActionType:e})=>{var t;return{action:"clicked",actionSubject:"button",actionSubjectId:(t=zPe[e])!==null&&t!==void 0?t:e,eventType:"ui",attributes:{...Tt}}},x8e=({id:e,status:t,extensionKey:n,definitionId:r,resourceType:o,destinationProduct:a,destinationSubproduct:s,location:i,error:l})=>{const d=Sy(e,t)||{duration:void 0};if(t==="resolved"){const u=qPe({id:e,extensionKey:n,definitionId:r,resourceType:o,destinationProduct:a,destinationSubproduct:s,location:i});return{...u,attributes:{...u.attributes,duration:d.duration}}}else if((l==null?void 0:l.type)!=="ResolveUnsupportedError"){const u=YPe({id:e,status:t,extensionKey:n,definitionId:r,resourceType:o,destinationProduct:a,destinationSubproduct:s,location:i,error:l});return{...u,attributes:{...u.attributes,duration:d.duration}}}},S8e=e=>e["atlassian:visitUrl"],k8e=(e,t)=>Object.keys(t).filter(r=>{const{details:o}=t[r];return o&&o.meta.definitionId===e}),I8e=(e,t)=>{if(t&&t.data){const n=S8e(t.data);if(n)return n}return e},pb=e=>{var t;return e==null||(t=e.meta)===null||t===void 0?void 0:t.definitionId},ga=e=>{var t;return e==null||(t=e.meta)===null||t===void 0?void 0:t.key},lX=e=>{var t;return e==null||(t=e.meta)===null||t===void 0?void 0:t.resourceType},cX=e=>{var t;return e==null||(t=e.meta)===null||t===void 0?void 0:t.product},dX=e=>{var t;return e==null||(t=e.meta)===null||t===void 0?void 0:t.subproduct},j4=e=>e&&e.meta.auth||[],T8e=e=>{var t,n;return e==null||(t=e.meta)===null||t===void 0||(n=t.requestAccess)===null||n===void 0?void 0:n.accessType},A8e=e=>["unauthorized","forbidden","errored","resolved","not_found"].indexOf(e)>-1,D8e=e=>e==null?void 0:e.datasources,uX=e=>{const t=D8e(e);return!!t&&t.length>0},V4=e=>!!(e!=null&&e.meta.hasScopeOverrides);function O8e(e){var t,n=e.Symbol;return typeof n=="function"?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}var ad;typeof self<"u"?ad=self:typeof window<"u"?ad=window:typeof global<"u"?ad=global:typeof module<"u"?ad=module:ad=Function("return this")();var S9=O8e(ad),k9={INIT:"@@redux/INIT"};function B4(e,t,n){var r;if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error("Expected the enhancer to be a function.");return n(B4)(e,t)}if(typeof e!="function")throw new Error("Expected the reducer to be a function.");var o=e,a=t,s=[],i=s,l=!1;function d(){i===s&&(i=s.slice())}function u(){return a}function f(v){if(typeof v!="function")throw new Error("Expected listener to be a function.");var b=!0;return d(),i.push(v),function(){if(b){b=!1,d();var E=i.indexOf(v);i.splice(E,1)}}}function p(v){if(!_ue(v))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof v.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,a=o(a,v)}finally{l=!1}for(var b=s=i,y=0;y<b.length;y++){var E=b[y];E()}return v}function m(v){if(typeof v!="function")throw new Error("Expected the nextReducer to be a function.");o=v,p({type:k9.INIT})}function g(){var v,b=f;return v={subscribe:function(E){if(typeof E!="object")throw new TypeError("Expected the observer to be an object.");function w(){E.next&&E.next(u())}w();var C=b(w);return{unsubscribe:C}}},v[S9]=function(){return this},v}return p({type:k9.INIT}),r={dispatch:p,subscribe:f,getState:u,replaceReducer:m},r[S9]=g,r}const M8e=(e,t)=>{if(e){if(typeof e=="string")return!0;{const n=e["atlassian:supportedPlatforms"];if(n){const r=t==="web";return r&&n.includes("web")||!r&&n.includes("mobile")}return!0}}return!1},Ka=e=>{if(typeof e=="string")return e;if(Array.isArray(e)){if(e.length>0)return Ka(e[0])}else return e.href},Xi=e=>{if(typeof e=="string")return e;if(e["@type"]==="Link")return Ka(e);if(e.url)return Ka(e.url)},ns=e=>{const t=e.url;if(t)return typeof t=="string"?t:Ka(t)},Uh=e=>{const t=e["@type"];if(t)return Array.isArray(e["@type"])?t:[t]},Ji=(e,t)=>{var n;const r=(n=e.name)===null||n===void 0?void 0:n.replace(/[\r\n]+/g,""),o=e["@id"]||"",a=$8e(e),s=Uh(e);if(a&&a.type&&a.type.includes("atlassian:SourceCodeRepository")&&s){const d=a.name&&`${a.name}: `||"";if(s.includes("atlassian:SourceCodeCommit")){const[,u]=o.split(":"),f=u&&`${u.substring(0,8)} `;return d+(f||"")+r}if(s.includes("atlassian:SourceCodePullRequest")){const f=e["atlassian:internalId"],p=f&&`#${f} `;return d+(p||"")+r}if(s.includes("atlassian:SourceCodeReference")||s.includes("schema:DigitalDocument"))return d+r}if(t){const d=new RegExp(" \\| :~:text=.*","g");return r==null?void 0:r.replace(d,"")}return r},U4=e=>{if(e["atlassian:ari"])return e["atlassian:ari"]},$8e=e=>{const t=e.context;if(t){if(typeof t=="string")return{name:t};if(t["@type"]==="Link"){if(t.name)return{name:t.name}}else if(t.name)return{name:t.name,icon:t.icon&&Xi(t.icon),type:Uh(t)}}},R8e=["light","dark","auto"],P8e=["light-increased-contrast","light","light-future","light-brand-refresh","dark","dark-future","dark-increased-contrast","dark-brand-refresh","legacy-light","legacy-dark","spacing","shape","typography-adg3","typography-modernized","typography-refreshed"],fX="data-theme",pX="data-color-mode",L8e="ds",mX=`--${L8e}-elevation-surface-current`,N8e=["light","dark","spacing","typography","shape"],wx="UNSAFE_themeOptions",hX=e=>N8e.find(t=>t===e)!==void 0,gX=e=>P8e.find(t=>t===e)!==void 0,vX=e=>["light","dark","auto"].includes(e),F8e=e=>e.split(" ").map(t=>t.split(/:(.*)/s)).reduce((t,[n,r])=>{if(n==="colorMode"&&vX(r)&&(t[n]=r),hX(n)&&gX(r)&&(t[n]=r),n===wx)try{t[wx]=JSON.parse(r)}catch{}return t},{}),j8e=e=>Object.entries(e).reduce((t,[n,r])=>n==="colorMode"&&typeof r=="string"&&vX(r)||n===wx&&typeof r=="object"||hX(n)&&typeof r=="string"&&gX(r)?t+`${t?" ":""}${n}:${typeof r=="object"?JSON.stringify(r):r}`:t,""),V8e=e=>R8e.find(t=>t===e)!==void 0,bX=()=>{if(typeof document>"u")return{};const e=document.documentElement,t=e.getAttribute(pX)||"",n=e.getAttribute(fX)||"";return{...F8e(n),...V8e(t)&&{colorMode:t}}};class Vr{constructor(t){q(this,"legacyObserver",null),this.callback=t,Vr.callbacks.add(t)}observe(){Vr.observer||(Vr.observer=new MutationObserver(()=>{const t=bX();Vr.callbacks.forEach(n=>n(t))}),Vr.observer.observe(document.documentElement,{attributeFilter:[fX,pX]}))}disconnect(){this.callback&&Vr.callbacks.delete(this.callback),Vr.callbacks.size===0&&Vr.observer&&(Vr.observer.disconnect(),Vr.observer=null)}}q(Vr,"observer",null);q(Vr,"callbacks",new Set);const ky=()=>{const[e,t]=c.useState(bX());return c.useEffect(()=>{const n=new Vr(r=>t(r));return n.observe(),()=>n.disconnect()},[]),e},Md={iconColor:"inherit",label:"",size:"medium",textColor:"currentColor"},B8e={xsmall:16,small:24,medium:32,large:40,xlarge:48},yX=(e,t)=>{let n,r,o;if(t==="dark")switch(e){case"brand":n="#357DE8",r="#E2E3E4",o="#357DE8";break;case"neutral":n="#96999E",r="#BFC1C4",o="#96999E";break;case"inverse":n="#101214",r="#101214",o="#101214";break}else switch(e){case"brand":n="#1868DB",r="#101214",o="#1868DB";break;case"neutral":n="#6C6F77",r="#3B3D42",o="#6C6F77";break;case"inverse":n=Ve,r=Ve,o=Ve;break}return{iconColor:n,textColor:r,atlassianLogoTextColor:o}},EX="--logo-color",wX="--logo-fill",U8e=M({display:"inline-block",position:"relative",color:`var(${EX})`,fill:`var(${wX})`,lineHeight:1,userSelect:"none",whiteSpace:"normal","> svg":{height:"100%",fill:"inherit"}}),H8e=M({stop:{stopColor:"currentColor"}}),z8e=Object.entries(B8e).reduce((e,[t,n])=>(e[t]=M({height:`${n}px`}),e),{}),CX=({label:e,svg:t,size:n,appearance:r,iconColor:o,textColor:a,testId:s,...i})=>{const l=r===void 0,d=s&&`${s}--wrapper`;return k("span",H({css:[U8e,l&&H8e,n&&z8e[n]],"data-testid":d,style:{[EX]:o,[wX]:a},"aria-label":e||void 0,role:e?"img":void 0,dangerouslySetInnerHTML:{__html:t}},i))},W8e=({appearance:e,iconColor:t},n)=>{let r={iconColor:t};return e&&(r=yX(e,n)),`<svg fill="none" height="32" viewBox="0 0 32 32" focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
      <path fill="${r.iconColor}" d="M25.769 20.234c-6.584-3.183-8.507-3.66-11.282-3.66-3.254 0-6.028 1.355-8.507 5.16l-.406.622c-.333.513-.407.696-.407.915s.11.403.517.659l4.18 2.598c.222.146.407.22.592.22.222 0 .37-.11.592-.44l.665-1.024c1.036-1.574 1.96-2.086 3.144-2.086 1.036 0 2.257.293 3.773 1.025l4.365 2.049c.443.22.924.11 1.146-.403l2.071-4.537c.222-.512.074-.842-.444-1.098M6.572 12.22c6.584 3.184 8.507 3.66 11.281 3.66 3.255 0 6.03-1.354 8.507-5.16l.407-.622c.333-.512.407-.695.407-.915s-.11-.402-.518-.658l-4.18-2.598c-.221-.147-.406-.22-.591-.22-.222 0-.37.11-.592.44l-.666 1.024c-1.035 1.573-1.96 2.086-3.144 2.086-1.035 0-2.256-.293-3.772-1.025L9.346 6.183c-.444-.22-.924-.11-1.146.402l-2.072 4.538c-.222.512-.074.841.444 1.098"/>
    </svg>`},H4=({appearance:e,label:t="Confluence",size:n=Md.size,testId:r,iconColor:o=Md.iconColor,textColor:a=Md.textColor})=>{const{colorMode:s}=ky();return _.createElement(CX,{appearance:e,label:t,svg:W8e({appearance:e,iconColor:o},s),iconColor:o,size:n,testId:r,textColor:a})},G8e=Object.freeze(Object.defineProperty({__proto__:null,ConfluenceIcon:H4},Symbol.toStringTag,{value:"Module"})),q8e=({appearance:e,iconColor:t},n)=>{let r={iconColor:t};return e&&(r=yX(e,n)),`<svg fill="none" height="32" viewBox="0 0 32 32" focusable="false" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
      <path fill="${r.iconColor}" d="M11.034 21.99h-2.22c-3.346 0-5.747-2.05-5.747-5.052h11.932c.619 0 1.019.44 1.019 1.062v12.007c-2.983 0-4.984-2.416-4.984-5.784zm5.893-5.967h-2.219c-3.347 0-5.748-2.013-5.748-5.015h11.933c.618 0 1.055.402 1.055 1.025V24.04c-2.983 0-5.02-2.416-5.02-5.784zm5.93-5.93h-2.219c-3.347 0-5.748-2.05-5.748-5.052h11.933c.618 0 1.018.439 1.018 1.025v12.007c-2.983 0-4.984-2.416-4.984-5.784z"/>
    </svg>`},z4=({appearance:e,label:t="Jira",size:n=Md.size,testId:r,textColor:o=Md.textColor,iconColor:a=Md.iconColor})=>{const{colorMode:s}=ky();return _.createElement(CX,{appearance:e,label:t,svg:q8e({appearance:e,iconColor:a},s),iconColor:a,size:n,testId:r,textColor:o})},Y8e=Object.freeze(Object.defineProperty({__proto__:null,JiraIcon:z4},Symbol.toStringTag,{value:"Module"})),K8e="https://www.atlassian.com/#Confluence",X8e="https://www.atlassian.com/#Jira",Mr=e=>{const t=e.generator;if(t){if(typeof t=="string")throw Error("Link.generator requires a name and icon.");if(t["@type"]==="Link"){if(t.name)return{text:t.name}}else if(t.name){const n=t["@id"];return{text:t.name,icon:_X(t.icon,n),id:n,image:J8e(t.image)}}}},_X=(e,t)=>{if(t){if(t===K8e)return _.createElement(H4,{appearance:"brand",size:"xsmall"});if(t===X8e)return _.createElement(z4,{appearance:"brand",size:"xsmall"})}if(e)return Xi(e)},J8e=e=>{if(e){if(typeof e=="string")return e;if(e["@type"]==="Link")return Ka(e);if(e["@type"]==="Image"&&e.url)return Ka(e.url)}},xX=e=>{if(e["schema:dateCreated"])return e["schema:dateCreated"]},SX=e=>{if(e.updated)return e.updated},Rs=e=>{if(typeof e=="string")throw Error("Link.person needs to be an object.");if(e["@type"]==="Link"){if(e.name)return{name:e.name}}else if(e.name)return{name:e.name,src:e.icon&&Xi(e.icon)}},kX=e=>{const t=e["atlassian:member"];if(t){if(typeof t=="string")throw Error("Link[atlassian:members] must be an array or object.");if(t.hasOwnProperty("totalItems")){const n=t;if(n.items)return n.items.map(r=>Rs(r)).filter(r=>!!r)}else{const r=Rs(t);if(r)return[r]}}},W4=e=>{const t=e["atlassian:assignedTo"];if(t)return Rs(t)},im=e=>{const t=e.attributedTo;if(t){if(Array.isArray(t))return t.map(Rs).filter(n=>!!n);{const n=Rs(t);if(n)return[n]}}},IX=e=>{const t=e["atlassian:ownedBy"];if(t){if(Array.isArray(t))return t.map(Rs).filter(n=>!!n);{const n=Rs(t);if(n)return[n]}}},G4=e=>{const t=e["atlassian:updatedBy"];if(t)return Rs(t)},TX=e=>{const t=e.image;if(t){if(typeof t=="string")return t;if(t["@type"]==="Link")return Ka(t);if(t["@type"]==="Image"&&t.url)return Ka(t.url)}},Iy=(e,t,n)=>{const r=e==null?void 0:e.preview,o=M8e(r,t);if(r&&o){if(typeof r=="string")return{src:r};if(r["@type"]==="Link"&&n==="interactiveHref"&&r.interactiveHref)return{src:r.interactiveHref,aspectRatio:r["atlassian:aspectRatio"]};if(r["@type"]==="Link")return{src:Ka(r),aspectRatio:r["atlassian:aspectRatio"]};if(r.url||r.href)return n==="interactiveHref"&&r.interactiveHref?{src:r.interactiveHref,aspectRatio:r["atlassian:aspectRatio"]}:{src:Ka(r.url||r.href),aspectRatio:r["atlassian:aspectRatio"]};if(r.content)return{content:r.content}}},Z8e=e=>[eX,P4,wp,L4,ub,N4,_y].includes(e.type);function I9(e,t,n){const r=e,o={...t};return r?(o.status=xy(r),o.details=r):o.status=n,o}function Q8e(e,t){switch(t.type){case eX:return{status:t.type};case P4:return{...e,status:t.type};case wp:return I9(t.payload,e,t.type);case L4:return I9(t.payload,e,"resolved");case ub:return{...e,status:t.type,error:t.error};case N4:return{...e,status:t.type,error:t.error,details:t.payload};case _y:return{...e,metadataStatus:t.metadataStatus}}}const eLe=(e,t)=>{if(!Z8e(t))return e;const n=e[t.url];if(!t.ignoreStatusCheck&&n&&n.status===t.type)return e;{const o=Q8e(n,t);return{...e,[t.url]:o}}},Cx=c.createContext(void 0);function Io(){const e=c.useContext(Cx);if(!e)throw Error("useSmartCard() must be wrapped in <SmartCardProvider>");return e}(function(e,t){if(e.setImmediate)return;var n=1,r={},o=!1,a=e.document,s;function i(E){typeof E!="function"&&(E=new Function(""+E));for(var w=new Array(arguments.length-1),C=0;C<w.length;C++)w[C]=arguments[C+1];var x={callback:E,args:w};return r[n]=x,s(n),n++}function l(E){delete r[E]}function d(E){var w=E.callback,C=E.args;switch(C.length){case 0:w();break;case 1:w(C[0]);break;case 2:w(C[0],C[1]);break;case 3:w(C[0],C[1],C[2]);break;default:w.apply(t,C);break}}function u(E){if(o)setTimeout(u,0,E);else{var w=r[E];if(w){o=!0;try{d(w)}finally{l(E),o=!1}}}}function f(){s=function(E){process.nextTick(function(){u(E)})}}function p(){if(e.postMessage&&!e.importScripts){var E=!0,w=e.onmessage;return e.onmessage=function(){E=!1},e.postMessage("","*"),e.onmessage=w,E}}function m(){var E="setImmediate$"+Math.random()+"$",w=function(C){C.source===e&&typeof C.data=="string"&&C.data.indexOf(E)===0&&u(+C.data.slice(E.length))};e.addEventListener?e.addEventListener("message",w,!1):e.attachEvent("onmessage",w),s=function(C){e.postMessage(E+C,"*")}}function g(){var E=new MessageChannel;E.port1.onmessage=function(w){var C=w.data;u(C)},s=function(w){E.port2.postMessage(w)}}function v(){var E=a.documentElement;s=function(w){var C=a.createElement("script");C.onreadystatechange=function(){u(w),C.onreadystatechange=null,E.removeChild(C),C=null},E.appendChild(C)}}function b(){s=function(E){setTimeout(u,0,E)}}var y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,{}.toString.call(e.process)==="[object process]"?f():p()?m():e.MessageChannel?g():a&&"onreadystatechange"in a.createElement("script")?v():b(),y.setImmediate=i,y.clearImmediate=l})(typeof self>"u"?typeof aa>"u"?aa:aa:self);var AX={};function Xo(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var tLe=Xo;Xo.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Xo.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Xo.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};Xo.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Xo.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};Xo.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};Xo.prototype.start=Xo.prototype.try;Xo.prototype.errors=function(){return this._errors};Xo.prototype.attempts=function(){return this._attempts};Xo.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var o=this._errors[r],a=o.message,s=(e[a]||0)+1;e[a]=s,s>=n&&(t=o,n=s)}return t};(function(e){var t=tLe;e.operation=function(n){var r=e.timeouts(n);return new t(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var o in n)r[o]=n[o];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var a=[],s=0;s<r.retries;s++)a.push(this.createTimeout(s,r));return n&&n.forever&&!a.length&&a.push(this.createTimeout(s,r)),a.sort(function(i,l){return i-l}),a},e.createTimeout=function(n,r){var o=r.randomize?Math.random()+1:1,a=Math.round(o*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return a=Math.min(a,r.maxTimeout),a},e.wrap=function(n,r,o){if(r instanceof Array&&(o=r,r=null),!o){o=[];for(var a in n)typeof n[a]=="function"&&o.push(a)}for(var s=0;s<o.length;s++){var i=o[s],l=n[i];n[i]=(function(u){var f=e.operation(r),p=Array.prototype.slice.call(arguments,1),m=p.pop();p.push(function(g){f.retry(g)||(g&&(arguments[0]=f.mainError()),m.apply(this,arguments))}),f.attempt(function(){u.apply(n,p)})}).bind(n,l),n[i].options=r}}})(AX);var nLe=AX,rLe=nLe;function oLe(e,t){function n(r,o){var a=t||{},s;"randomize"in a||(a.randomize=!0),s=rLe.operation(a);function i(u){o(u||new Error("Aborted"))}function l(u,f){if(u.bail){i(u);return}s.retry(u)?a.onRetry&&a.onRetry(u,f):o(s.mainError())}function d(u){var f;try{f=e(i,u)}catch(p){l(p,u);return}Promise.resolve(f).then(r).catch(function(m){l(m,u)})}s.attempt(d)}return new Promise(n)}var aLe=oLe;const T9=_r(aLe);var q4={exports:{}};class DX extends Error{constructor(){super("Throttled function aborted"),this.name="AbortError"}}const sLe=({limit:e,interval:t,strict:n})=>{if(!Number.isFinite(e))throw new TypeError("Expected `limit` to be a finite number");if(!Number.isFinite(t))throw new TypeError("Expected `interval` to be a finite number");const r=new Map;let o=0,a=0;function s(){const u=Date.now();return u-o>t?(a=1,o=u,0):(a<e?a++:(o+=t,a=1),o-u)}const i=[];function l(){const u=Date.now();if(i.length<e)return i.push(u),0;const f=i.shift()+t;return u>=f?(i.push(u),0):(i.push(f),f-u)}const d=n?l:s;return u=>{const f=function(...p){if(!f.isEnabled)return(async()=>u.apply(this,p))();let m;return new Promise((g,v)=>{m=setTimeout(()=>{g(u.apply(this,p)),r.delete(m)},d()),r.set(m,v)})};return f.abort=()=>{for(const p of r.keys())clearTimeout(p),r.get(p)(new DX);r.clear(),i.splice(0,i.length)},f.isEnabled=!0,f}};q4.exports=sLe;q4.exports.AbortError=DX;var iLe=q4.exports;const lLe=_r(iLe),f0=e=>{if(!e)return!1;const t=e.status===200,n="body"in e;return t&&n},Pw=e=>{if(!e)return!1;const t="status"in e&&e.status>=200,n="error"in e;return t&&n},cLe=50,dLe=250,uLe=100,p0=new ek.LRUMap(uLe);class fLe{constructor(t,n){q(this,"postBatchResolve",async(r,o="URL")=>{var a;const s=[...new Set(r)];let i=[];const l={...dF("platform.linking-platform.datasource.add-timezone-header")?{"origin-timezone":(a=Intl)===null||a===void 0?void 0:a.DateTimeFormat().resolvedOptions().timeZone}:{},...this.product?{"X-Product":this.product}:{}};try{o==="URL"&&(i=await Cl("post",`${this.resolverUrl}/resolve/batch`,s.map(u=>({resourceUrl:u})),l)),o==="ARI"&&(i=await Cl("post",`${this.resolverUrl}/resolve/ari/batch`,s.map(u=>({ari:u})),l))}catch(u){i=r.map(()=>({status:Pw(u)?u.status:500,error:u}))}const d={};for(let u=0;u<s.length;++u){const f=s[u],p=i[u];d[f]=p}return r.map(u=>d[u])}),q(this,"batchResolve",async r=>this.postBatchResolve(r,"URL")),q(this,"batchResolveAris",async r=>this.postBatchResolve(r,"ARI")),this.resolverUrl=rX(t,n),this.loadersByDomain={},this.retryConfig={retries:2},this.resolvedCache={},this.envKey=t,this.baseUrlOverride=n}setProduct(t){this.product=t}createLoader(){const n=lLe({limit:1,interval:dLe})(this.batchResolve);return new sce(r=>n(r),{maxBatchSize:cLe,cache:!1})}getLoader(t){return this.loadersByDomain[t]||(this.loadersByDomain[t]=this.createLoader()),this.loadersByDomain[t]}async resolveUrl(t,n=!1){const r=new URL(t).hostname,o=this.getLoader(r);let a;a=p0.get(t),(!a||n)&&(a=o.load(t),p0.set(t,a));let s;try{s=await a}catch(l){throw p0.delete(t),l}return(!f0(s)||xy(s.body)!=="resolved")&&p0.delete(t),s}async prefetchData(t){const n=await this.resolveUrl(t,!1);if(f0(n))return n.body;try{return(await T9(async()=>{if(this.resolvedCache[t])throw new Error("Retry unneeded - link has been resolved.");{const o=await this.resolveUrl(t,!1);if(f0(o))return o;throw new Error("Retry for URL failed")}},this.retryConfig)).body}catch{return}}isRateLimitError(t){return Pw(t)&&t.error.status===429}async fetchData(t,n){let r=await this.resolveUrl(t,n);if(this.isRateLimitError(r)&&(r=await T9(async()=>{const o=await this.resolveUrl(t,!1);if(this.isRateLimitError(o))throw this.mapErrorResponse(o,new URL(t).hostname);return o},this.retryConfig)),!f0(r))throw this.mapErrorResponse(r,new URL(t).hostname);return this.resolvedCache[t]=!0,r.body}async fetchDataAris(t){return await this.batchResolveAris(t)}async postData(t){const n={key:t.key,action:t.action,context:t.context};return await Cl("post",`${this.resolverUrl}/invoke`,n)}async search(t){const{key:n,action:r}=t,{query:o,context:a}=r,s={key:n,search:{query:o,context:a}},i=await Cl("post",`${this.resolverUrl}/invoke/search`,s);if(Pw(i))throw this.mapErrorResponse(i);return i}async fetchAvailableSearchProviders(){return(await Cl("post",`${this.resolverUrl}/providers`,{type:"search"})).providers}mapErrorResponse(t,n=""){if(t!=null&&t.error){const a=t.error.type,s=t.error.message,i=t.error.extensionKey;if(t.error instanceof oX)return new vs("fallback",n,s,a);switch(a){case"ResolveBadRequestError":case"SearchBadRequestError":return new vs("fallback",n,s,a,i);case"ResolveAuthError":case"SearchAuthError":return new vs("auth",n,s,a,i);case"ResolveUnsupportedError":case"SearchUnsupportedError":return new vs("fatal",n,s,a,i);case"ResolveFailedError":case"SearchFailedError":case"ResolveTimeoutError":case"SearchTimeoutError":case"SearchRateLimitError":case"ResolveRateLimitError":case"InternalServerError":return new vs("error",n,s,a,i)}}const{error:r,...o}=t||{};return new vs("fatal",n,t?`${this.stringifyError(r)} ${JSON.stringify(o)}`:"Response undefined","UnexpectedError")}stringifyError(t){return JSON.stringify(t,typeof t=="object"?Object.getOwnPropertyNames(t):void 0)}}function pLe({storeOptions:e,client:t,authFlow:n,children:r,renderers:o,featureFlags:a,isAdminHubAIEnabled:s,product:i}){const l=c.useContext(Cx),d=c.useMemo(()=>({}),[]),{initialState:u}=e||{initialState:d},f=c.useMemo(()=>B4(eLe,u),[u]),p=c.useMemo(()=>{const m=t||new fLe;return i&&m.setProduct&&m.setProduct(i),{renderers:o,store:f,prefetchStore:{},connections:{client:m},config:{authFlow:n||"oauth2"},extractors:{getPreview:(b,y)=>{const E=tX(f,b);return E.details?Iy(E.details.data,y):void 0}},featureFlags:a,isAdminHubAIEnabled:s,product:i}},[t,n,s,i,o,a,f]);return _.createElement(Cx.Provider,{value:l||p},r)}function mLe(e){const{featureFlags:t}=Io();return t&&t[e]}const hLe=e=>{const{createAnalyticsEvent:t}=Kn();return{dispatchAnalytics:c.useMemo(()=>e||(n=>{t(n).fire(Mi)}),[e,t])}},$t=(e,t)=>{if(e&&e.attributes)for(const[n,r]of Object.entries(t))e.attributes[n]===void 0&&(e.attributes[n]=r);return e},Ty=(e,t,n,r)=>{const{dispatchAnalytics:o}=hLe(t),a=n||"NULL",{store:s}=Io(),i=s?tX(s,e):void 0,l=i?i.details:void 0,d=pb(l),u=ga(l),f=lX(l),p=dX(l),m=cX(l),g=T8e(l),v=c.useMemo(()=>({id:a,definitionId:d,extensionKey:u,resourceType:f,destinationObjectType:f,destinationSubproduct:p,destinationProduct:m,location:r,statusDetails:g}),[a,d,u,f,p,m,r,g]),b=c.useMemo(()=>({authEvent:({display:C,extensionKey:x,definitionId:S,resourceType:I,destinationProduct:A,destinationSubproduct:T,location:O})=>o($t(a8e({display:C,extensionKey:x,definitionId:S,resourceType:I,destinationProduct:A,destinationSubproduct:T,location:O}),v)),authAlternateAccountEvent:({display:C,extensionKey:x,definitionId:S,resourceType:I,destinationProduct:A,destinationSubproduct:T,location:O})=>o($t(s8e({display:C,extensionKey:x,definitionId:S,resourceType:I,destinationProduct:A,destinationSubproduct:T,location:O}),v)),buttonClickedEvent:C=>o($t({action:"clicked",actionSubject:"button",actionSubjectId:C.actionSubjectId,attributes:{...Tt,...C.attributes},eventType:"ui"},v)),cardClickedEvent:({id:C,display:x,status:S,definitionId:I,extensionKey:A,isModifierKeyPressed:T,location:O,destinationProduct:D,destinationSubproduct:$,actionSubjectId:L})=>o($t(i8e({id:C,display:x,status:S,definitionId:I,extensionKey:A,isModifierKeyPressed:T,location:O,destinationProduct:D,destinationSubproduct:$,actionSubjectId:L}),v)),iframeDwelledEvent:({id:C,display:x,status:S,definitionId:I,extensionKey:A,location:T,destinationProduct:O,destinationSubproduct:D,dwellTime:$,dwellPercentVisible:L})=>o($t(l8e({id:C,display:x,status:S,definitionId:I,extensionKey:A,location:T,destinationProduct:O,destinationSubproduct:D,dwellTime:$,dwellPercentVisible:L}),v)),iframeFocusedEvent:({id:C,display:x,status:S,definitionId:I,extensionKey:A,location:T,destinationProduct:O,destinationSubproduct:D})=>o($t(c8e({id:C,display:x,status:S,definitionId:I,extensionKey:A,location:T,destinationProduct:O,destinationSubproduct:D}),v)),actionClickedEvent:({id:C,actionType:x,display:S,extensionKey:I,definitionId:A,resourceType:T,destinationProduct:O,destinationSubproduct:D,location:$})=>{o($t(d8e({id:C??a,actionType:x,display:S,extensionKey:I??u,definitionId:A,resourceType:T,destinationProduct:O,destinationSubproduct:D,location:$}),v))},hoverCardOpenLinkClickedEvent:({previewDisplay:C,definitionId:x,extensionKey:S,destinationProduct:I,destinationSubproduct:A,location:T,previewInvokeMethod:O})=>{o($t(v8e({id:a,previewDisplay:C,definitionId:x,extensionKey:S,destinationProduct:I,destinationSubproduct:A,location:T,previewInvokeMethod:O}),v))},closedAuthEvent:({display:C,extensionKey:x,definitionId:S,resourceType:I,destinationProduct:A,destinationSubproduct:T,location:O})=>o($t(u8e({display:C,extensionKey:x,definitionId:S,resourceType:I,destinationProduct:A,destinationSubproduct:T,location:O}),v)),modalClosedEvent:C=>o($t({action:"closed",actionSubject:"modal",actionSubjectId:C.actionSubjectId,attributes:{...Tt,...C.attributes},eventType:"ui"},v)),renderSuccessEvent:({display:C,status:x,id:S,extensionKey:I,definitionId:A,resourceType:T,destinationProduct:O,destinationSubproduct:D,location:$,canBeDatasource:L=!1})=>{const F=S||a;cb("smart-link-rendered",F,{extensionKey:I,display:C}),cb("smart-link-authenticated",F,{display:C}),o($t(p8e({display:C,status:x,extensionKey:I,definitionId:A,resourceType:T,destinationProduct:O,destinationSubproduct:D,location:$,canBeDatasource:L}),v))},renderFailedEvent:({display:C,id:x,error:S,errorInfo:I,extensionKey:A,definitionId:T,resourceType:O,destinationProduct:D,destinationSubproduct:$,location:L})=>{const F=x||a;Ep("smart-link-rendered",F),db("smart-link-rendered",F),db("smart-link-authenticated",F),o($t(m8e({display:C,error:S,errorInfo:I,extensionKey:A,definitionId:T,resourceType:O,destinationProduct:D,destinationSubproduct:$,location:L}),v))},hoverCardViewedEvent:({previewDisplay:C,previewInvokeMethod:x,id:S,extensionKey:I,definitionId:A,resourceType:T,destinationProduct:O,destinationSubproduct:D,location:$,status:L})=>o($t(h8e({id:S,previewDisplay:C,extensionKey:I,definitionId:A,resourceType:T,destinationProduct:O,destinationSubproduct:D,location:$,previewInvokeMethod:x,status:L}),v)),hoverCardDismissedEvent:({id:C,previewDisplay:x,hoverTime:S,previewInvokeMethod:I,extensionKey:A,definitionId:T,resourceType:O,destinationProduct:D,destinationSubproduct:$,location:L,status:F})=>o($t(g8e({previewDisplay:x,id:C,hoverTime:S,extensionKey:A,definitionId:T,resourceType:O,destinationProduct:D,destinationSubproduct:$,location:L,previewInvokeMethod:I,status:F}),v)),learnMoreClickedEvent:()=>o($t(b8e(),v)),smartLinkLozengeActionClickedEvent:()=>o($t(E8e(),v)),smartLinkLozengeActionListItemClickedEvent:()=>o($t(w8e(),v)),smartLinkLozengeActionErrorOpenPreviewClickedEvent:()=>o($t(C8e(),v)),smartLinkServerActionClickedEvent:C=>o($t(_8e(C),v))}),[o,v,a,u]),y=c.useMemo(()=>({invokeSucceededEvent:({id:C,actionType:x,display:S,extensionKey:I,definitionId:A,resourceType:T,destinationProduct:O,destinationSubproduct:D,location:$})=>{o($t(KPe({id:C??a,actionType:x,display:S,extensionKey:I,definitionId:A,resourceType:T,destinationProduct:O,destinationSubproduct:D,location:$}),v))},invokeFailedEvent:({id:C,actionType:x,display:S,reason:I,extensionKey:A,definitionId:T,resourceType:O,destinationProduct:D,destinationSubproduct:$,location:L})=>{o($t(XPe({id:C??a,actionType:x,display:S,reason:I,extensionKey:A,definitionId:T,resourceType:O,destinationProduct:D,destinationSubproduct:$,location:L}),v))},connectSucceededEvent:({id:C,extensionKey:x,definitionId:S,resourceType:I,destinationProduct:A,destinationSubproduct:T,location:O})=>{const D=C||a;Ep("smart-link-authenticated",D,{extensionKey:x,status:"success"}),o($t(JPe({...v,id:D,extensionKey:x,definitionId:S,resourceType:I,destinationProduct:A,destinationSubproduct:T,location:O}),v))},connectFailedEvent:({id:C,reason:x,extensionKey:S,definitionId:I,resourceType:A,destinationProduct:T,destinationSubproduct:O,location:D})=>{const $=C||a;Ep("smart-link-authenticated",$,{extensionKey:S,status:x}),o($t(ZPe({...v,id:$,reason:x,extensionKey:S,definitionId:I,resourceType:A,destinationProduct:T,destinationSubproduct:O,location:D}),v))},instrument:({id:C,status:x,extensionKey:S,definitionId:I,resourceType:A,destinationProduct:T,destinationSubproduct:O,location:D,error:$})=>{const L=x8e({...v,id:C,status:x,extensionKey:S,definitionId:I,resourceType:A,destinationProduct:T,destinationSubproduct:O,location:D,error:$});L&&o($t(L,v))},chunkloadFailedEvent:({display:C,error:x,errorInfo:S,extensionKey:I,definitionId:A,resourceType:T,destinationProduct:O,destinationSubproduct:D,location:$})=>{o($t(y8e({display:C,error:x,errorInfo:S,extensionKey:I,definitionId:A,resourceType:T,destinationProduct:O,destinationSubproduct:D,location:$}),v))}}),[a,v,o]),E=c.useMemo(()=>({appAccountConnected:({extensionKey:C,definitionId:x,resourceType:S,destinationProduct:I,destinationSubproduct:A,location:T})=>o($t(QPe({...v,extensionKey:C,definitionId:x,resourceType:S,destinationProduct:I,destinationSubproduct:A,location:T}),v)),appAccountAuthStarted:({extensionKey:C,location:x})=>o($t(e8e({...v,extensionKey:C,location:x}),v)),linkUpdated:()=>{},smartLinkQuickActionStarted:C=>o($t(t8e({...v,...C}),v)),smartLinkQuickActionSuccess:C=>o($t(n8e({...v,...C}),v)),smartLinkQuickActionFailed:C=>o($t(r8e({...v,...C}),v)),hoverCardResolutionStarted:()=>o($t(o8e({display:"hoverCardPreview",...v}),v))}),[v,o]),w=c.useMemo(()=>({authPopupEvent:({extensionKey:C,definitionId:x,resourceType:S,destinationProduct:I,destinationSubproduct:A,location:T})=>o($t(f8e({...v,extensionKey:C,definitionId:x,resourceType:S,destinationProduct:I,destinationSubproduct:A,location:T}),v)),modalViewedEvent:C=>o($t({action:"viewed",actionSubject:C.name,attributes:{...Tt,...C.attributes},eventType:"screen",name:C.name},v))}),[v,o]);return c.useMemo(()=>({ui:b,operational:y,track:E,screen:w}),[b,y,E,w])},gLe=M({maxHeight:0,maxWidth:0,position:"absolute"}),vLe=({children:e})=>{const t=c.useCallback(n=>{n.stopPropagation()},[]);return k("span",{css:gLe,onClick:t},e)},bLe={open:()=>{},close:()=>{}},OX=_.createContext(bLe),MX=({children:e})=>{const[t,n]=c.useState(null),r=c.useMemo(()=>({open:s=>n(_.createElement(c.Suspense,{fallback:null},_.createElement(vLe,null,s))),close:()=>n(null)}),[]),o=c.useCallback(({resetErrorBoundary:s})=>(s(),null),[]),a=c.useCallback(()=>n(null),[]);return _.createElement(_.Fragment,null,_.createElement(OX.Provider,{value:r},e),_.createElement(wy,{fallbackRender:o,onReset:a},t))},$X=()=>c.useContext(OX),RX=()=>{const e=Io();let t=e==null?void 0:e.renderers;return t=c.useMemo(()=>t,[t]),t},yLe={status:"pending"};function Hh(e){const{store:t}=Io(),n=ice.useSyncExternalStoreWithSelector(t.subscribe,t.getState,t.getState,r=>r[e]);return n??yLe}const ELe="https://support.atlassian.com/confluence-cloud/docs/insert-links-and-anchors/#Smart-links",wLe="https://support.atlassian.com/confluence-cloud/docs/what-data-is-sent-and-received-when-pasting-a-smart-link/",CLe="https://www.atlassian.com/trust/atlassian-intelligence",_Le="https://status.atlassian.com/",xLe="https://www.atlassian.com/legal/acceptable-use-policy";let Ps=function(e){return e.Left="left",e.Right="right",e}({}),Eo=function(e){return e.Horizontal="horizontal",e.Vertical="vertical",e}({}),Xa=function(e){return e.Top="top",e.Center="center",e}({}),ze=function(e){return e.XLarge="xlarge",e.Large="large",e.Medium="medium",e.Small="small",e}({}),ot=function(e){return e.Pending="pending",e.Resolving="resolving",e.Resolved="resolved",e.Forbidden="forbidden",e.Errored="errored",e.NotFound="not_found",e.Unauthorized="unauthorized",e.Fallback="fallback",e}({}),mb=function(e){return e.Black="black",e.Link="link",e}({}),PX=function(e){return e.Grey="grey",e}({}),nu=function(e){return e.FitToContent="fit-to-content",e.Flexible="flexible",e}({}),me=function(e){return e.AssignedTo="AssignedTo",e.AssignedToGroup="AssignedToGroup",e.AttachmentCount="AttachmentCount",e.AuthorGroup="AuthorGroup",e.ChecklistProgress="ChecklistProgress",e.CollaboratorGroup="CollaboratorGroup",e.CommentCount="CommentCount",e.CreatedBy="CreatedBy",e.CreatedOn="CreatedOn",e.DueOn="DueOn",e.LatestCommit="LatestCommit",e.LinkIcon="LinkIcon",e.Location="Location",e.ModifiedBy="ModifiedBy",e.ModifiedOn="ModifiedOn",e.OwnedBy="OwnedBy",e.OwnedByGroup="OwnedByGroup",e.Preview="Preview",e.Priority="Priority",e.ProgrammingLanguage="ProgrammingLanguage",e.Provider="Provider",e.ReactCount="ReactCount",e.ReadTime="ReadTime",e.Snippet="Snippet",e.SourceBranch="SourceBranch",e.State="State",e.SubscriberCount="SubscriberCount",e.SubTasksProgress="SubTasksProgress",e.StoryPoints="StoryPoints",e.TargetBranch="TargetBranch",e.Title="Title",e.ViewCount="ViewCount",e.VoteCount="VoteCount",e.SentOn="SentOn",e}({}),Zt=function(e){return e.CopyLinkAction="CopyLinkAction",e.DeleteAction="DeleteAction",e.EditAction="EditAction",e.FollowAction="FollowAction",e.PreviewAction="PreviewAction",e.AutomationAction="AutomationAction",e.ViewAction="ViewAction",e.DownloadAction="DownloadAction",e.CustomAction="CustomAction",e}({}),lm=function(e){return e.AISummaryAction="AISummaryAction",e.ViewRelatedLinksAction="ViewRelatedLinksAction",e}({}),Ce=function(e){return e.Archive="FileType:Archive",e.Audio="FileType:Audio",e.Blog="FileType:Blog",e.Code="FileType:Code",e.Document="FileType:Document",e.Executable="FileType:Executable",e.File="FileType:File",e.Folder="FileType:Folder",e.Generic="FileType:Generic",e.GIF="FileType:GIF",e.GoogleDocs="FileType:GoogleDocs",e.GoogleForms="FileType:GoogleForms",e.GoogleSheets="FileType:GoogleSheets",e.GoogleSlides="FileType:GoogleSlides",e.Image="FileType.Image",e.MSExcel="FileType:Excel",e.MSPowerpoint="FileType:Powerpoint",e.MSWord="FileType:WordDocument",e.PDF="FileType:PDF",e.Presentation="FileType:Presentation",e.Sketch="FileType:Sketch",e.Spreadsheet="FileType:Spreadsheet",e.Template="FileType:Template",e.Video="FileType:Video",e.Branch="BitBucket:Branch",e.Commit="BitBucket:Commit",e.Project="BitBucket:Project",e.PullRequest="BitBucket:PullRequest",e.Repo="BitBucket:Repo",e.Bug="Jira:Bug",e.Change="Jira:Change",e.Epic="Jira:Epic",e.Incident="Jira:Incident",e.Problem="Jira:Problem",e.ServiceRequest="Jira:ServiceRequest",e.Story="Jira:Story",e.SubTask="Jira:SubTask",e.Task="Jira:Task",e.Confluence="Provider:Confluence",e.Jira="Provider:Jira",e.Default="Default",e.Error="Default:Error",e.Forbidden="Default:Forbidden",e.Attachment="Badge:Attachment",e.CheckItem="Badge:Task",e.Comment="Badge:Comment",e.View="Badge:View",e.React="Badge:React",e.Vote="Badge:Vote",e.PriorityBlocker="Badge:PriorityBlocker",e.PriorityCritical="Badge:PriorityCritical",e.PriorityHigh="Badge:PriorityHigh",e.PriorityHighest="Badge:PriorityHighest",e.PriorityLow="Badge:PriorityLow",e.PriorityLowest="Badge:PriorityLowest",e.PriorityMajor="Badge:PriorityMajor",e.PriorityMedium="Badge:PriorityMedium",e.PriorityMinor="Badge:PriorityMinor",e.PriorityTrivial="Badge:PriorityTrivial",e.PriorityUndefined="Badge:PriorityUndefined",e.ProgrammingLanguage="Badge:ProgrammingLanguage",e.Subscriber="Badge:Subscriber",e.SubTasksProgress="Badge:SubTask",e}({}),LX=function(e){return e.Image="image",e}({}),Il=function(e){return e.Left="left",e.Right="right",e}({}),Ls=function(e){return e.Inline="inline",e.Block="block",e.Embed="embed",e.EmbedPreview="embedPreview",e.Flexible="flexible",e.HoverCardPreview="hoverCardPreview",e}({});const MIt=e=>!!e.data,NX=e=>e.isDefaultPrevented()&&(SLe()||kLe(e)||ILe(e)),SLe=()=>window.parent!==parent,kLe=e=>e.metaKey||e.ctrlKey,ILe=e=>e.button===1,FX=e=>{if(!e)return;let t=TLe[e.toLowerCase()];if(!t)return;const[n,r]=t;if(!r)return;const o=xh({loader:()=>r().then(a=>a.default),loading:()=>null});return _.createElement(o,{label:n,testId:"document-file-format-icon"})},TLe={"text/plain":["Document",()=>de(()=>Promise.resolve().then(()=>J2),void 0)],"application/vnd.oasis.opendocument.text":["Document",()=>de(()=>Promise.resolve().then(()=>J2),void 0)],"application/vnd.apple.pages":["Document",()=>de(()=>Promise.resolve().then(()=>J2),void 0)],"application/vnd.google-apps.document":["Google Doc",()=>de(()=>import("./16-CnALvZaw.js").then(e=>e._),__vite__mapDeps([37,1,2]))],"application/msword":["Word document",()=>de(()=>import("./16-D0BtS1WG.js").then(e=>e._),__vite__mapDeps([38,1,2]))],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["Word document",()=>de(()=>import("./16-D0BtS1WG.js").then(e=>e._),__vite__mapDeps([38,1,2]))],"application/pdf":["PDF document",()=>de(()=>import("./16-VUgfvALo.js").then(e=>e._),__vite__mapDeps([39,1,2]))],"application/vnd.oasis.opendocument.spreadsheet":["Spreadsheet",()=>de(()=>Promise.resolve().then(()=>Fx),void 0)],"application/vnd.apple.numbers":["Spreadsheet",()=>de(()=>Promise.resolve().then(()=>Fx),void 0)],"application/vnd.google-apps.spreadsheet":["Google Sheet",()=>de(()=>import("./16-Bp_xiKPT.js").then(e=>e._),__vite__mapDeps([40,1,2]))],"application/vnd.ms-excel":["Excel spreadsheet",()=>de(()=>import("./16-BRFNm7rL.js").then(e=>e._),__vite__mapDeps([41,1,2]))],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["Excel spreadsheet",()=>de(()=>import("./16-BRFNm7rL.js").then(e=>e._),__vite__mapDeps([41,1,2]))],"application/vnd.oasis.opendocument.presentation":["Presentation",()=>de(()=>Promise.resolve().then(()=>Nx),void 0)],"application/vnd.apple.keynote":["Presentation",()=>de(()=>Promise.resolve().then(()=>Nx),void 0)],"application/vnd.google-apps.presentation":["Google Slide",()=>de(()=>import("./16-DVCGeyM-.js").then(e=>e._),__vite__mapDeps([42,1,2]))],"application/vnd.ms-powerpoint":["PowerPoint presentation",()=>de(()=>import("./16-DFFXC7N4.js").then(e=>e._),__vite__mapDeps([43,1,2]))],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["PowerPoint presentation",()=>de(()=>import("./16-DFFXC7N4.js").then(e=>e._),__vite__mapDeps([43,1,2]))],"application/vnd.google-apps.form":["Google Form",()=>de(()=>import("./16-cuutpu-9.js").then(e=>e._),__vite__mapDeps([44,1,2]))],"image/png":["Image",()=>de(()=>import("./16-BQgjNLKV.js").then(e=>e._),__vite__mapDeps([14,1,2]))],"image/jpeg":["Image",()=>de(()=>import("./16-BQgjNLKV.js").then(e=>e._),__vite__mapDeps([14,1,2]))],"image/bmp":["Image",()=>de(()=>import("./16-BQgjNLKV.js").then(e=>e._),__vite__mapDeps([14,1,2]))],"image/webp":["Image",()=>de(()=>import("./16-BQgjNLKV.js").then(e=>e._),__vite__mapDeps([14,1,2]))],"image/svg+xml":["Image",()=>de(()=>import("./16-BQgjNLKV.js").then(e=>e._),__vite__mapDeps([14,1,2]))],"image/gif":["GIF",()=>de(()=>import("./16-D5GvxJQi.js").then(e=>e._),__vite__mapDeps([45,1,2]))],"audio/midi":["Audio",()=>de(()=>import("./16-DfxZDeIJ.js").then(e=>e._),__vite__mapDeps([15,1,2]))],"audio/mpeg":["Audio",()=>de(()=>import("./16-DfxZDeIJ.js").then(e=>e._),__vite__mapDeps([15,1,2]))],"audio/webm":["Audio",()=>de(()=>import("./16-DfxZDeIJ.js").then(e=>e._),__vite__mapDeps([15,1,2]))],"audio/ogg":["Audio",()=>de(()=>import("./16-DfxZDeIJ.js").then(e=>e._),__vite__mapDeps([15,1,2]))],"audio/wav":["Audio",()=>de(()=>import("./16-DfxZDeIJ.js").then(e=>e._),__vite__mapDeps([15,1,2]))],"video/mp4":["Video",()=>de(()=>import("./16-gomp6ANX.js").then(e=>e._),__vite__mapDeps([16,1,2]))],"video/quicktime":["Video",()=>de(()=>import("./16-gomp6ANX.js").then(e=>e._),__vite__mapDeps([16,1,2]))],"video/mov":["Video",()=>de(()=>import("./16-gomp6ANX.js").then(e=>e._),__vite__mapDeps([16,1,2]))],"video/webm":["Video",()=>de(()=>import("./16-gomp6ANX.js").then(e=>e._),__vite__mapDeps([16,1,2]))],"video/ogg":["Video",()=>de(()=>import("./16-gomp6ANX.js").then(e=>e._),__vite__mapDeps([16,1,2]))],"video/x-ms-wmv":["Video",()=>de(()=>import("./16-gomp6ANX.js").then(e=>e._),__vite__mapDeps([16,1,2]))],"video/x-msvideo":["Video",()=>de(()=>import("./16-gomp6ANX.js").then(e=>e._),__vite__mapDeps([16,1,2]))],"application/zip":["Archive",()=>de(()=>import("./16-CLDoIAjk.js").then(e=>e._),__vite__mapDeps([17,1,2]))],"application/x-tar":["Archive",()=>de(()=>import("./16-CLDoIAjk.js").then(e=>e._),__vite__mapDeps([17,1,2]))],"application/x-gtar":["Archive",()=>de(()=>import("./16-CLDoIAjk.js").then(e=>e._),__vite__mapDeps([17,1,2]))],"application/x-7z-compressed":["Archive",()=>de(()=>import("./16-CLDoIAjk.js").then(e=>e._),__vite__mapDeps([17,1,2]))],"application/x-apple-diskimage":["Archive",()=>de(()=>import("./16-CLDoIAjk.js").then(e=>e._),__vite__mapDeps([17,1,2]))],"application/vnd.rar":["Archive",()=>de(()=>import("./16-CLDoIAjk.js").then(e=>e._),__vite__mapDeps([17,1,2]))],"application/dmg":["Executable",()=>de(()=>import("./16-C-Ay5AEV.js").then(e=>e._),__vite__mapDeps([46,1,2]))],"text/css":["Source Code",()=>de(()=>import("./16-BNh0v2Ui.js").then(e=>e._),__vite__mapDeps([47,1,2]))],"text/html":["Source Code",()=>de(()=>import("./16-BNh0v2Ui.js").then(e=>e._),__vite__mapDeps([47,1,2]))],"application/javascript":["Source Code",()=>de(()=>import("./16-BNh0v2Ui.js").then(e=>e._),__vite__mapDeps([47,1,2]))],"application/octet-stream":["Binary file",()=>de(()=>Promise.resolve().then(()=>Ov),void 0)],"application/invision.prototype":["Prototype",()=>de(()=>Promise.resolve().then(()=>Ov),void 0)],"application/sketch":["Sketch",()=>de(()=>import("./16-BKLbfrzr.js").then(e=>e._),__vite__mapDeps([48,1,2]))],folder:["Folder",()=>de(()=>import("./16-CRkiV1DJ.js").then(e=>e._),__vite__mapDeps([49,1,2]))]},ALe=e=>e?void 0:"allow-downloads allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts",_x=e=>t=>{t.preventDefault(),t.stopPropagation(),e()},$It=()=>typeof IntersectionObserver<"u",DLe=e=>new Promise(t=>setTimeout(t,e)),OLe=async(e,t=2,n=500)=>{try{return await e()}catch(r){if(r.name==="ChunkLoadError"&&t>0)return await DLe(n),OLe(e,t-1,n);throw r}},jX=async e=>{if(!e)return;const t=!!window.MSInputMethodContext&&!!document.documentMode,n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r="media-download-iframe",o=document.createElement("a");let a=document.getElementById(r);a||(a=document.createElement("iframe"),a.style.display="none",a.id=r,a.name=r,document.body.appendChild(a)),o.href=e,o.download=e,o.target=t||n?"_blank":r,document.body.appendChild(o),o.click(),document.body.removeChild(o)},MLe=async e=>{e&&window.open(e,"_blank","noopener=yes")},$Le=(e,t)=>{if(e!==void 0)return e;if(t)return"show"},RLe=(e,t)=>{try{const n=new URL(e);return n.searchParams.append("themeState",j8e(t)),n.href}catch{return e}};class Lw extends Error{constructor(t,n){super(t),this.message=t,this.type=n,this.name="AuthError",this.type=n,this.message=t}}const PLe=e=>["auth_window_closed","invalid_request","unauthorized_client","access_denied","unsupported_response_type","invalid_scope","server_error","temporarily_unavailable","authclientoauth2.autherror"].includes(e);function LLe(e,t){return new Promise((n,r)=>{let o=null,a;const s=u=>{if(u.source!==o)return;const{data:f}=u;if(typeof f=="object")switch(f.type){case"outbound-auth:success":d(),n();break;case"outbound-auth:failure":d();const p=f.errorType.toLowerCase();PLe(p)?r(new Lw(f.message,p)):r(new Lw(f.message));break}},i=()=>{o&&o.closed&&(d(),r(new Lw("The auth window was closed","auth_window_closed")))},l=()=>{window.addEventListener("message",s),o=window.open(e,e,t),a=window.setInterval(i,500)},d=()=>{clearInterval(a),window.removeEventListener("message",s),o&&(o.close(),o=null)};l()})}const Y4={"@context":{"@vocab":"https://www.w3.org/ns/activitystreams#",atlassian:"https://schema.atlassian.com/ns/vocabulary#",schema:"http://schema.org/"},"@type":"Object"},Ay=()=>Y4,NLe=()=>({meta:{visibility:"restricted",access:"unauthorized",auth:[],definitionId:"provider-not-found"},data:{...Y4}}),zh=()=>({meta:{visibility:"restricted",access:"forbidden",auth:[],definitionId:"provider-not-found"},data:{...Y4}}),FLe="Provider.authFlow is not set to OAuth2.",jLe="Fatal error resolving URL",VLe="Error resolving metadata.",BLe=()=>{const{store:e,config:t}=Io(),{getState:n,dispatch:r}=e,o=t.authFlow!=="disabled",a=c.useCallback((d,u)=>{r(Ia(_y,{url:d},void 0,void 0,u))},[r]),s=c.useCallback((d,u,f,p)=>{const{details:m}=n()[d]||{status:ot.Pending,details:void 0},g=!!(m&&m.data);if(p){a(d,"errored");return}if(u.kind==="fatal"){if(!g&&status!=="resolved")throw r(Ia(ub,{url:d},m,u)),u;g&&r(Ia(wp,{url:d},m))}else u.kind==="auth"?r(Ia(wp,{url:d},NLe())):u.kind==="fallback"?r(Ia(N4,{url:d},f,u)):r(Ia(ub,{url:d},void 0,u))},[n,a,r]),i=c.useCallback((d,u,f,p)=>{a(d,"resolved"),r(f?Ia(L4,{url:d},u):Ia(wp,{url:d},u,void 0,void 0,p))},[a,r]),l=c.useCallback((d,u,f=!1,p)=>{const m=new URL(d).hostname,g=u?xy(u):"fatal";if((g==="unauthorized"||g==="forbidden")&&!o){s(d,new vs("fallback",m,FLe),u,p);return}if(g==="fatal"){s(d,new vs("fatal",m,jLe),void 0,p);return}if(p&&g!=="resolved"){s(d,new vs("error",m,VLe),u,p);return}sr.unstable_batchedUpdates(()=>{i(d,u,f,p)})},[s,i,o]);return c.useMemo(()=>({handleResolvedLinkError:s,handleResolvedLinkResponse:l}),[s,l])},Dy=()=>{const{store:e,connections:t}=Io(),{getState:n}=e,{handleResolvedLinkResponse:r,handleResolvedLinkError:o}=BLe();return c.useCallback(async(a,s=!1,i=!1,l="")=>{const{details:d}=n()[a]||{status:ot.Pending,details:void 0},u=!!(d&&d.data);if(s||!u||i)return t.client.fetchData(a,s).then(f=>r(a,f,s,i)).catch(f=>o(a,f,void 0,i));DPe("smart-link-rendered",l,{cached:!0})},[t.client,n,o,r])},Nw="smart-link-action-invocation",Oy=({analytics:e})=>c.useCallback(async({actionType:t,actionFn:n,extensionKey:r,display:o})=>{const a=tk(),s=`${a}-${t}`;q0(s,"pending");try{Ep(Nw,a,{actionType:t,display:o,extensionKey:r,invokeType:"client"}),e==null||e.ui.actionClickedEvent({actionType:t,display:o});const i=await n();return q0(s,"resolved"),cb(Nw,a),e==null||e.operational.invokeSucceededEvent({actionType:t,display:o}),i}catch(i){q0(s,"errored"),db(Nw,a);const l=typeof i=="string"?i:i==null?void 0:i.message;e==null||e.operational.invokeFailedEvent({actionType:t,display:o,reason:l})}},[e==null?void 0:e.operational,e==null?void 0:e.ui]),K4=(e,t,n)=>{const r=Dy(),o=Oy({analytics:n}),{store:a}=Io(),{getState:s,dispatch:i}=a,l=c.useCallback(()=>{var b;const{details:y,status:E,metadataStatus:w}=(b=s()[t])!==null&&b!==void 0?b:{status:ot.Pending};return{details:y,status:E,metadataStatus:w}},[s,t]),d=c.useCallback(b=>{i(Ia(_y,{url:t},void 0,void 0,b))},[i,t]),u=c.useCallback(async(b=t,y=!1,E=!1)=>r(b,y,E,e),[e,r,t]),f=c.useCallback(()=>{const{details:b}=l();return b||(i(Ia(P4,{url:t})),d("pending")),u()},[l,u,i,t,d]),p=c.useCallback(()=>{const{details:b}=l(),y=pb(b);y?k8e(y,s()).map(E=>u(E,!0)):u(t,!0)},[l,t,s,u]),m=c.useCallback(()=>{const{metadataStatus:b}=l();if(b===void 0)return d("pending"),u(t,!1,!0)},[l,u,d,t]),g=c.useCallback(b=>{const{details:y,status:E}=l(),w=pb(y),C=ga(y),x=j4(y);E==="unauthorized"&&n.ui.authEvent({display:b,definitionId:w,extensionKey:C}),E==="forbidden"&&n.ui.authAlternateAccountEvent({display:b,definitionId:w,extensionKey:C}),x.length>0&&(n.screen.authPopupEvent({definitionId:w,extensionKey:C}),LLe(x[0].url).then(()=>{n.track.appAccountConnected({definitionId:w,extensionKey:C}),n.operational.connectSucceededEvent({id:e,definitionId:w,extensionKey:C}),p()},S=>{n.operational.connectFailedEvent({id:e,definitionId:w,extensionKey:C,reason:S.type}),S.type==="auth_window_closed"&&n.ui.closedAuthEvent({display:b,definitionId:w,extensionKey:C}),p()}))},[l,n.ui,n.screen,n.track,n.operational,e,p]),v=c.useCallback(async(b,y)=>{const{key:E,action:w}=b,C=b.source||y;if(b.type==="client")return await o({actionFn:b.action.promise,actionType:w.type,display:C,extensionKey:E})},[o]);return c.useMemo(()=>({register:f,reload:p,authorize:g,invoke:v,loadMetadata:m}),[f,p,g,v,m])},ULe=()=>{const e=Io();if(e)return e.config};function HLe(e,t,n){const r=Hh(t),{store:o}=Io(),a=Ty(t,n,e),s=K4(e,t,a),i=ULe(),l=RX(),[d,u]=c.useState(null),f=()=>{s.register().catch(p=>u(p))};return c.useEffect(f,[t,o]),{state:r,actions:s,config:i,analytics:a,renderers:l,error:d}}const xx=22,VX={cursor:"pointer",boxShadow:`0 0 0 2px ${`var(--ds-border-selected, ${cn})`}`,outline:"none",userSelect:"none","&, :hover, :focus, :active":{textDecoration:"none"},"&:hover":{border:`1px solid ${`var(--ds-border, ${Ut})`}`}},zLe=({isInteractive:e})=>{if(e)return{":active":{backgroundColor:`var(--ds-background-selected, ${gn})`},":focus":VX}},WLe=({isSelected:e})=>e?VX:{userSelect:"text"},BX={borderColor:`var(--ds-border-accent-blue, ${vn})`},UX=e=>{if(!e.withoutBackground)return{textDecoration:"none"}},GLe=e=>({...BX,...UX(e)}),HX=e=>({lineHeight:`${xx}px`,padding:"var(--ds-space-025, 2px) 0px",...e.withoutBackground?{paddingLeft:0,marginLeft:"var(--ds-space-negative-025, -2px)"}:void 0,display:"inline",boxDecorationBreak:"clone",borderRadius:"var(--ds-border-radius-100, 4px)",color:`var(--ds-link, ${Jt})`,...e.withoutBackground?void 0:{backgroundColor:"var(--ds-surface-raised, white)"},...WLe(e),...e.withoutBackground?void 0:{border:`1px solid ${`var(--ds-border, ${Ut})`}`},"&:hover":BX,"&, :hover, :focus, :active":UX(e),transition:"0.1s all ease-in-out",MozUserSelect:"none",...e.isHovered?GLe(e):void 0}),qLe={overflow:"hidden",textOverflow:"ellipsis",wordBreak:"break-all",lineHeight:`${xx-1}px`,display:"-webkit-inline-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",padding:0,"@supports not (-webkit-line-clamp: 1)":{display:"inline-block",maxHeight:`${xx}px`,padding:"var(--ds-space-025, 2px) 0px"}},zX=({truncateInline:e})=>{if(e)return qLe},WX=Ge.a(e=>({...HX(e),...zLe(e),...zX(e)}));WX.displayName="WrapperAnchor";const GX=Ge.span(e=>({...HX(e),...zX(e)}));GX.displayName="WrapperSpan";const io={mac:!1,ie:!1,ie_version:0,gecko:!1,chrome:!1,chrome_version:0,android:!1,ios:!1,webkit:!1,safari:!1,supportsIntersectionObserver:!1,supportsResizeObserver:!1};if(typeof navigator<"u"){const e=/Edge\/(\d+)/.exec(navigator.userAgent),t=/MSIE \d/.test(navigator.userAgent),n=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);io.mac=/Mac/.test(navigator.platform);let r=io.ie=!!(t||n||e);io.ie_version=t?document.documentMode||6:n?+n[1]:e?+e[1]:null,io.gecko=!r&&/gecko\/\d/i.test(navigator.userAgent),io.chrome=!r&&/Chrome\//.test(navigator.userAgent),io.chrome_version=parseInt((navigator.userAgent.match(/Chrome\/(\d+)/)||[])[1],10),io.android=/Android \d/.test(navigator.userAgent),io.ios=!r&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),io.webkit=!r&&!!document.documentElement&&"WebkitAppearance"in document.documentElement.style,io.safari=!!(navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")===-1&&navigator.userAgent.indexOf("FxiOS")===-1),io.supportsIntersectionObserver=typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,io.supportsResizeObserver=typeof window<"u"&&"ResizeObserver"in window&&"ResizeObserverEntry"in window}function YLe(){return io}const KLe=new Map([[void 0,"none"],[0,"left"],[1,"middle"],[2,"right"]]),XLe=e=>["alt","ctrl","meta","shift"].filter(t=>e[`${t}Key`]===!0),JLe=e=>e instanceof HTMLElement&&e.isContentEditable;function ZLe(e,t){const{mac:n,safari:r}=YLe();if(JLe(e.currentTarget)&&["left","middle"].includes(t))return"contentEditable";switch(t){case"left":case"keyboard":return e.metaKey?n?"clickThroughNewTabOrWindow":"clickThrough":e.shiftKey?r?"alt":"clickThroughNewTabOrWindow":e.ctrlKey?n?"clickThrough":"clickThroughNewTabOrWindow":e.altKey?"alt":e.currentTarget.getAttribute("target")==="_blank"?"clickThroughNewTabOrWindow":"clickThrough";case"middle":return"clickThroughNewTabOrWindow";case"right":return"contextMenu"}return"unknown"}const QLe=({clickType:e,clickOutcome:t,keysHeld:n,defaultPrevented:r})=>({action:"clicked",actionSubject:"link",eventType:"ui",attributes:{clickType:e,clickOutcome:t,keysHeld:n,defaultPrevented:r}}),eNe=e=>{const n=e.nativeEvent.detail===0?"keyboard":KLe.get(e.button);if(!n)return;const r=ZLe(e,n),o=XLe(e),a=e.defaultPrevented;return QLe({clickType:n,clickOutcome:r,keysHeld:o,defaultPrevented:a})},cm=e=>(t,n={})=>{const r=eNe(t);r&&e({...r,...n,attributes:{...r.attributes,...n==null?void 0:n.attributes}}).fire(Mi)},tNe=e=>typeof e=="string"?e:e.displayName||e.name||"Component";function RIt(e){const t=n=>{const r=qX(n.onClick),o=xc(n.onMouseDown);return _.createElement(e,{...n,onClick:r,onMouseDown:o})};return t.displayName=`withLinkClickedEvent(${tNe(e)})`,t}const qX=(e,t)=>{const{createAnalyticsEvent:n}=Kn();return c.useCallback((...r)=>{const[o]=r;e==null||e.apply(null,r),(!t||t!=null&&t(o))&&cm(n)(o)},[e,t,n])},nNe=e=>e.button!==0,xc=e=>qX(e,nNe),tc=c.forwardRef((e,t)=>{const{isSelected:n,children:r,onClick:o,link:a,withoutBackground:s,testId:i,className:l,isHovered:d,truncateInline:u}=e,f=c.useCallback(b=>{o&&(b.preventDefault(),b.stopPropagation(),o(b))},[o]),p=c.useCallback(b=>{b.key!==" "&&b.key!=="Enter"||o&&(b.preventDefault(),b.stopPropagation(),o(b))},[o]),m=xc(),g=!!o,v=a||o?WX:GX;return _.createElement(v,{href:a,withoutBackground:s,isSelected:n,isInteractive:g,tabIndex:g?0:void 0,role:g?"button":void 0,onClick:f,onMouseDown:m,onKeyPress:p,"data-testid":i,className:l,ref:t,isHovered:d,truncateInline:u},r)});class hb extends _.PureComponent{render(){return _.createElement(tc,H({withoutBackground:!0},this.props),this.props.placeholder||this.props.link)}}const YX="smart-link-loading-placeholder",rNe=({isSelected:e,url:t,placeholder:n})=>_.createElement(hb,{key:"lazy-render-key",testId:"lazy-render-placeholder","data-trello-do-not-use-override":"lazy-render-placeholder-trello",isSelected:e,link:t,className:YX,placeholder:n}),qu=c.createContext(void 0),Zo=()=>c.useContext(qu),KX=c.createContext(void 0),Yu=()=>c.useContext(KX),XX=c.createContext(void 0),X4=()=>c.useContext(XX);var J4={};Object.defineProperty(J4,"__esModule",{value:!0});var JX=J4.default=void 0,oNe=ZX(c),aNe=ZX(Oe);function ZX(e){return e&&e.__esModule?e:{default:e}}const QX=e=>oNe.default.createElement(aNe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M3 13.25A3.25 3.25 0 0 0 6.25 10V8.25m0 0V4c0-.69-.56-1.25-1.25-1.25H2C1.31 2.75.75 3.31.75 4v3c0 .69.56 1.25 1.25 1.25zm9 0V4c0-.69-.56-1.25-1.25-1.25h-3c-.69 0-1.25.56-1.25 1.25v3c0 .69.56 1.25 1.25 1.25zm0 0V10A3.25 3.25 0 0 1 12 13.25"/>'},e));QX.displayName="QuotationMarkIcon";JX=J4.default=QX;const Sx=e=>_.createElement(Sr,H({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684ff" fill-rule="evenodd" d="M6.972 6.128a2.5 2.5 0 1 0-2.37 2.87q-.416.59-1.016 1.265a.916.916 0 0 0-.058 1.147.607.607 0 0 0 .948.043q2.908-3.331 2.496-5.325m7 0a2.5 2.5 0 1 0-2.37 2.87q-.416.59-1.016 1.265a.916.916 0 0 0-.058 1.147.607.607 0 0 0 .948.043q2.908-3.331 2.496-5.325M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2"/></svg>'},e,{size:"small"}));Sx.displayName="Blog16Icon";const Z4=({label:e,testId:t})=>Pe("icon-object-migration")?_.createElement(hr,{icon:JX,appearance:"blueBold",size:"16",label:e,testId:t,LEGACY_fallbackComponent:_.createElement(Sx,{label:e,testId:t})}):_.createElement(Sx,{label:e,testId:t});Z4.displayName="Blog16Icon";const sNe={[Ce.Archive]:()=>de(()=>import("./16-CLDoIAjk.js").then(e=>e._),__vite__mapDeps([17,1,2])),[Ce.Audio]:()=>de(()=>import("./16-DfxZDeIJ.js").then(e=>e._),__vite__mapDeps([15,1,2])),[Ce.Code]:()=>de(()=>import("./16-BNh0v2Ui.js").then(e=>e._),__vite__mapDeps([47,1,2])),[Ce.Executable]:()=>de(()=>import("./16-C-Ay5AEV.js").then(e=>e._),__vite__mapDeps([46,1,2])),[Ce.File]:()=>de(()=>Promise.resolve().then(()=>Ov),void 0),[Ce.Folder]:()=>de(()=>import("./16-CRkiV1DJ.js").then(e=>e._),__vite__mapDeps([49,1,2])),[Ce.Generic]:()=>de(()=>Promise.resolve().then(()=>Ov),void 0),[Ce.GIF]:()=>de(()=>import("./16-D5GvxJQi.js").then(e=>e._),__vite__mapDeps([45,1,2])),[Ce.GoogleDocs]:()=>de(()=>import("./16-CnALvZaw.js").then(e=>e._),__vite__mapDeps([37,1,2])),[Ce.GoogleForms]:()=>de(()=>import("./16-cuutpu-9.js").then(e=>e._),__vite__mapDeps([44,1,2])),[Ce.GoogleSheets]:()=>de(()=>import("./16-Bp_xiKPT.js").then(e=>e._),__vite__mapDeps([40,1,2])),[Ce.GoogleSlides]:()=>de(()=>import("./16-DVCGeyM-.js").then(e=>e._),__vite__mapDeps([42,1,2])),[Ce.Image]:()=>de(()=>import("./16-BQgjNLKV.js").then(e=>e._),__vite__mapDeps([14,1,2])),[Ce.MSExcel]:()=>de(()=>import("./16-BRFNm7rL.js").then(e=>e._),__vite__mapDeps([41,1,2])),[Ce.MSPowerpoint]:()=>de(()=>import("./16-DFFXC7N4.js").then(e=>e._),__vite__mapDeps([43,1,2])),[Ce.MSWord]:()=>de(()=>import("./16-D0BtS1WG.js").then(e=>e._),__vite__mapDeps([38,1,2])),[Ce.PDF]:()=>de(()=>import("./16-VUgfvALo.js").then(e=>e._),__vite__mapDeps([39,1,2])),[Ce.Presentation]:()=>de(()=>Promise.resolve().then(()=>Nx),void 0),[Ce.Sketch]:()=>de(()=>import("./16-BKLbfrzr.js").then(e=>e._),__vite__mapDeps([48,1,2])),[Ce.Spreadsheet]:()=>de(()=>Promise.resolve().then(()=>Fx),void 0),[Ce.Template]:()=>de(()=>Promise.resolve().then(()=>dGe),void 0),[Ce.Video]:()=>de(()=>import("./16-gomp6ANX.js").then(e=>e._),__vite__mapDeps([16,1,2])),[Ce.Branch]:()=>de(()=>Promise.resolve().then(()=>GWe),void 0),[Ce.Commit]:()=>de(()=>Promise.resolve().then(()=>VWe),void 0),[Ce.Project]:()=>de(()=>Promise.resolve().then(()=>NWe),void 0),[Ce.PullRequest]:()=>de(()=>Promise.resolve().then(()=>HWe),void 0),[Ce.Repo]:()=>de(()=>Promise.resolve().then(()=>qWe),void 0),[Ce.Bug]:()=>de(()=>Promise.resolve().then(()=>SGe),void 0),[Ce.Change]:()=>de(()=>Promise.resolve().then(()=>PGe),void 0),[Ce.Epic]:()=>de(()=>Promise.resolve().then(()=>TGe),void 0),[Ce.Incident]:()=>de(()=>Promise.resolve().then(()=>OGe),void 0),[Ce.Problem]:()=>de(()=>Promise.resolve().then(()=>FGe),void 0),[Ce.ServiceRequest]:()=>de(()=>Promise.resolve().then(()=>MGe),void 0),[Ce.Story]:()=>de(()=>Promise.resolve().then(()=>CGe),void 0),[Ce.SubTask]:()=>de(()=>Promise.resolve().then(()=>yGe),void 0),[Ce.Task]:()=>de(()=>Promise.resolve().then(()=>XWe),void 0),[Ce.Confluence]:()=>de(async()=>{const{ConfluenceIcon:e}=await Promise.resolve().then(()=>G8e);return{ConfluenceIcon:e}},void 0).then(({ConfluenceIcon:e})=>({default:e})),[Ce.Jira]:()=>de(async()=>{const{JiraIcon:e}=await Promise.resolve().then(()=>Y8e);return{JiraIcon:e}},void 0).then(({JiraIcon:e})=>({default:e})),[Ce.Default]:()=>de(()=>Promise.resolve().then(()=>A1e),void 0),[Ce.Error]:()=>de(()=>Promise.resolve().then(()=>Hme),void 0),[Ce.Forbidden]:()=>de(()=>Promise.resolve().then(()=>qXe),void 0),[Ce.Attachment]:()=>de(()=>Promise.resolve().then(()=>oWe),void 0),[Ce.CheckItem]:()=>de(()=>import("./task-CiTbEiyu.js").then(e=>e.t),__vite__mapDeps([50,1,2])),[Ce.Comment]:()=>de(()=>Promise.resolve().then(()=>Oze),void 0),[Ce.View]:()=>de(()=>import("./watch-Cb28lFVU.js").then(e=>e.w),__vite__mapDeps([51,1,2])),[Ce.React]:()=>de(()=>import("./like-BgjOKa8Z.js").then(e=>e.l),__vite__mapDeps([52,1,2])),[Ce.Vote]:()=>de(()=>Promise.resolve().then(()=>wpt),void 0),[Ce.PriorityBlocker]:()=>de(()=>import("./priority-blocker-GKZjXHNm.js").then(e=>e.p),__vite__mapDeps([53,1,2])),[Ce.PriorityCritical]:()=>de(()=>import("./priority-critical-BE8BsNQq.js").then(e=>e.p),__vite__mapDeps([54,1,2])),[Ce.PriorityHigh]:()=>de(()=>import("./priority-high-mV7R7hZq.js").then(e=>e.p),__vite__mapDeps([55,1,2])),[Ce.PriorityHighest]:()=>de(()=>import("./priority-highest-BLqlN-Ts.js").then(e=>e.p),__vite__mapDeps([56,1,2])),[Ce.PriorityLow]:()=>de(()=>import("./priority-low-CkQ6FRFB.js").then(e=>e.p),__vite__mapDeps([57,1,2])),[Ce.PriorityLowest]:()=>de(()=>import("./priority-lowest-BZAggPgx.js").then(e=>e.p),__vite__mapDeps([58,1,2])),[Ce.PriorityMajor]:()=>de(()=>import("./priority-major-D1SA0P27.js").then(e=>e.p),__vite__mapDeps([59,1,2])),[Ce.PriorityMedium]:()=>de(()=>import("./priority-medium-BDVwG8pC.js").then(e=>e.p),__vite__mapDeps([60,1,2])),[Ce.PriorityMinor]:()=>de(()=>import("./priority-minor-rkexRudD.js").then(e=>e.p),__vite__mapDeps([61,1,2])),[Ce.PriorityTrivial]:()=>de(()=>import("./priority-trivial-BBViKdIr.js").then(e=>e.p),__vite__mapDeps([62,1,2])),[Ce.PriorityUndefined]:()=>de(()=>import("./question-DjW1642W.js").then(e=>e.q),__vite__mapDeps([63,1,2,64])),[Ce.ProgrammingLanguage]:()=>de(()=>Promise.resolve().then(()=>Bze),void 0),[Ce.Subscriber]:()=>de(()=>Promise.resolve().then(()=>Jze),void 0),[Ce.SubTasksProgress]:()=>de(()=>import("./subtask-fu2265hu.js").then(e=>e.s),__vite__mapDeps([65,1,2]))},iNe=e=>sNe[e],lNe=e=>xh({loader:()=>e().then(t=>t.default),loading:()=>null}),eJ=({icon:e,label:t,testId:n})=>{switch(e){case Ce.Document:return _.createElement(Kp,{label:t||"document",testId:n});case Ce.Blog:return _.createElement(Z4,{label:t||"blog",testId:n})}const r=iNe(e);if(!r)return null;const o=lNe(r);switch(e){case Ce.Confluence:return _.createElement(H4,{appearance:"brand",testId:n});case Ce.Jira:return _.createElement(z4,{appearance:"brand",testId:n});case Ce.Error:case Ce.Forbidden:return _.createElement(o,{label:t,testId:n,primaryColor:`var(--ds-icon-danger, ${bn})`});default:return _.createElement(o,{label:t,testId:n})}},yi=({testId:e,width:t,height:n})=>{const r=Pr({"0%":{backgroundPosition:"50% 0"},"100%":{backgroundPosition:"-50% 0"}}),o=M({width:`${t}rem`,height:`${n}rem`,borderRadius:"2px",userSelect:"none",background:"var(--ds-skeleton-subtle, #f6f7f8)",backgroundImage:"linear-gradient( to right, transparent 0%, var(--ds-skeleton, #edeef1) 20%, transparent 40%, transparent 100% )",backgroundRepeat:"no-repeat",backgroundSize:"280% 100%",display:"inline-block",animationDuration:"1s",animationFillMode:"forwards",animationIterationCount:"infinite",animationName:r,animationTimingFunction:"linear"});return k("span",{css:o,"data-testid":e})},Q4=({defaultIcon:e,testId:t,url:n,onError:r,onLoad:o})=>k(X1,{src:n,loading:k(yi,{testId:`${t}-loading`}),loaded:k("img",{src:n,"data-testid":`${t}-image`}),errored:e,onError:r,onLoad:o}),cNe="twp-editor-preview-iframe",A9="twp-editor-preview-iframe";async function tJ({onClose:e=()=>{},...t}={}){let n;n=document.getElementById(A9),n||(n=document.createElement("div"),n.id=A9,n.setAttribute("data-testid","preview-modal"),document.body.appendChild(n));let r=await de(()=>import("./index-DB3-S8k1.js"),__vite__mapDeps([66,1,2,67,68,69,3,4,5,6,7,8,9,10]));o_.render(_.createElement(rF,{locale:"en"},_.createElement(r.default,H({},t,{iframeName:cNe,onClose:o=>{n&&o_.unmountComponentAtNode(n),e&&e(o)},showModal:!0}))),n)}const nJ={[ze.Small]:"none",[ze.Medium]:"compact",[ze.Large]:"compact",[ze.XLarge]:"default"},eT=e=>{if(e){const{descriptor:t,values:n}=e;return _.createElement(Ue,H({},t,{values:n}))}},Cp=(e,t,n)=>{const{formatMessage:r}=e;return t?r(t,{context:n}):""},dNe=e=>M({height:e,minHeight:e,maxHeight:e,width:e,minWidth:e,maxWidth:e}),Wh=e=>{const t=dNe(e);return M`
		flex: 0 0 auto;
		${t}
		span,
    svg,
    img {
			${t}
		}
		svg {
			padding: 0;
		}
	`},rJ=e=>{switch(e){case ze.XLarge:return"2rem";case ze.Large:return"1.5rem";case ze.Medium:return"1rem";case ze.Small:default:return".75rem"}},uNe=e=>xh({loader:()=>e().then(t=>t.default),loading:()=>null}),_p=e=>{switch(e){case ze.XLarge:return"1.5rem";case ze.Large:case ze.Medium:case ze.Small:default:return"1rem"}},oJ=e=>{switch(e){case ze.XLarge:return M({fontSize:"1.25rem",fontWeight:400,letterSpacing:"-0.008em",lineHeight:_p(e)});case ze.Large:case ze.Medium:return M({fontSize:"0.875rem",fontWeight:400,letterSpacing:"-0.003em",lineHeight:_p(e)});case ze.Small:default:return M({fontSize:"0.75rem",fontWeight:400,letterSpacing:"0em",lineHeight:_p(e)})}},aJ=e=>{switch(e){case ze.XLarge:case ze.Large:return 1.75;case ze.Medium:case ze.Small:default:return 1.5}},fNe=(e,t,n,r)=>e>n?t:e<r?r:e,pNe=e=>{switch(e){case ze.XLarge:return"space.250";case ze.Large:return"space.200";case ze.Medium:return"space.100";case ze.Small:default:return"space.050"}},mNe=e=>{switch(e){case ze.XLarge:return"space.300";case ze.Large:return"space.250";case ze.Medium:return"space.200";case ze.Small:default:return"space.100"}},Zi=(e,t="1rem",n="break-word")=>M({display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",wordBreak:n,WebkitLineClamp:e,WebkitBoxOrient:"vertical","@supports not (-webkit-line-clamp: 1)":{maxHeight:`calc(${e} * ${t})`}}),hNe=e=>e.search(/\s/)>=0,sJ=({linkIcon:e,...t})=>{const n={icon:_.createElement(My,H({},e,{size:ze.Large})),isFlexibleUi:!0};return tJ({...t,icon:n,origin:"smartLinkCard"})},gNe=e=>{switch(e){case Xa.Center:return M({alignSelf:"center"});case Xa.Top:default:return M({alignSelf:"flex-start",margin:0})}},vNe=(e,t)=>M(gNe(e),Wh(t)),bNe=e=>M(Zi(1,e),{lineHeight:e,fontSize:e,textAlign:"center",textOverflow:"clip",WebkitBoxOrient:"unset",span:{margin:0,padding:0,verticalAlign:"baseline"}}),yNe=(e,t)=>{if(e)return k(eJ,{icon:e,testId:`${t}-icon`})},ENe=(e,t)=>k(Jr,{label:e,testId:`${t}-default`,color:"currentColor"}),wNe=(e,t,n)=>{if(t)return k(Q4,{defaultIcon:e,testId:n,url:t})},My=({icon:e,overrideIcon:t,label:n="Link",name:r,position:o=Xa.Top,overrideCss:a,render:s,size:i=ze.Medium,testId:l="smart-element-icon",url:d})=>{const u=c.useMemo(()=>{const g=ENe(n,l);return t||(s==null?void 0:s())||wNe(g,d,l)||yNe(e,l)||g},[t,e,n,s,l,d]),f=rJ(i),p=vNe(o,f),m=s?bNe(f):void 0;return k("div",{css:[p,m,a],"data-fit-to-content":!0,"data-smart-element":r,"data-smart-element-icon":!0,"data-testid":l},u)},iJ=2,CNe=2,D9=1,_Ne=M({flex:"1 1 auto"}),xNe=e=>{switch(e){case PX.Grey:return M({"a&":{color:"var(--ds-text-subtlest, #626F86)","&:active, &:visited, &:focus, &:hover":{color:"var(--ds-text-subtlest, #626F86)",textDecoration:"underline"},fontSize:"12px"}});case mb.Black:return M({color:"var(--ds-text-subtle, #44546F)",":active":{color:"var(--ds-text, #172B4D)"},":hover":{color:"var(--ds-text-subtle, #44546F)",textDecoration:"underline"}});case mb.Link:default:return M({color:"var(--ds-link, #0C66E4)",":active":{color:"var(--ds-link-pressed, #0055CC)"},":hover":{color:"var(--ds-link, #0C66E4)",textDecoration:"underline"}})}},SNe=(e,t,n,r)=>{const o=oJ(e);return M({flex:"1 1 auto"},o,Zi(n,_p(e),r?"break-word":"break-all"),xNe(t))},kNe=e=>e>CNe?iJ:e<D9?D9:e,INe=(e,t,n)=>k(Bt,{content:t,testId:`${n}-tooltip`,tag:"span"},e),kx=({hideTooltip:e,maxLines:t=iJ,name:n,overrideCss:r,size:o=ze.Medium,testId:a="smart-element-link",text:s,theme:i=mb.Link,url:l,onClick:d,target:u="_blank"})=>{const f=xc(),p=c.useMemo(()=>s?hNe(s):!1,[s]),m=k("a",H({css:[SNe(o,i,kNe(t),p),r],"data-smart-element":n,"data-smart-element-link":!0,"data-testid":a,onClick:d,onMouseDown:f,href:l},u!=="_self"&&{target:u}),s);return k("span",{css:_Ne},e||s===void 0?m:INe(m,s,a))},TNe=ie({display:"inline-flex",borderRadius:"border.radius",blockSize:"min-content",position:"static",overflow:"hidden"}),_f={container:M({display:"inline-flex",boxSizing:"border-box",position:"static",blockSize:"min-content",borderRadius:"3px",overflow:"hidden",paddingInline:"var(--ds-space-050, 4px)"}),background:{bold:{default:M({backgroundColor:"#DDDEE1"}),inprogress:M({backgroundColor:"#8FB8F6"}),moved:M({backgroundColor:"#F9C84E"}),new:M({backgroundColor:"#D8A0F7"}),removed:M({backgroundColor:"#FD9891"}),success:M({backgroundColor:"#B3DF72"})},subtle:{default:M({backgroundColor:"var(--ds-background-neutral-subtle, #00000000)"}),inprogress:M({backgroundColor:"var(--ds-background-neutral-subtle, #00000000)"}),moved:M({backgroundColor:"var(--ds-background-neutral-subtle, #00000000)"}),new:M({backgroundColor:"var(--ds-background-neutral-subtle, #00000000)"}),removed:M({backgroundColor:"var(--ds-background-neutral-subtle, #00000000)"}),success:M({backgroundColor:"var(--ds-background-neutral-subtle, #00000000)"})}},border:{subtle:{default:M({border:"1px solid #B7B9BE"}),inprogress:M({border:"1px solid #669DF1"}),moved:M({border:"1px solid #FCA700"}),new:M({border:"1px solid #C97CF4"}),removed:M({border:"1px solid #F87168"}),success:M({border:"1px solid #94C748"})}},text:{subtle:M({color:"var(--ds-text, #172B4D)"}),bold:M({color:"#292A2E"})}},O9=M({fontFamily:'ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif',fontSize:"11px",fontStyle:"normal",fontWeight:"var(--ds-font-weight-bold, 700)",lineHeight:"16px",overflow:"hidden",textOverflow:"ellipsis",textTransform:"uppercase",whiteSpace:"nowrap"}),Qi=c.memo(({children:e,testId:t,isBold:n=!1,appearance:r="default",maxWidth:o=200,style:a})=>{const s=n?"bold":"subtle",i=r in _f.background[s]?r:"default",l=typeof o=="string"?o:`${o}px`,d=typeof o=="string"&&/%$/.test(o);if(et("platform-component-visual-refresh"))return k("span",{style:{backgroundColor:a==null?void 0:a.backgroundColor,maxWidth:d?o:"100%"},css:[_f.container,_f.background[s][i],s==="subtle"&&_f.border.subtle[i]],"data-testid":t},k("span",{css:[O9,_f.text[s]],style:{color:a==null?void 0:a.color,maxWidth:d?"100%":`calc(${l} - var(--ds-space-100, 8px))`},"data-testid":t&&`${t}--text`},e));const u=r in M9[s]?r:"default";return k(_e,{as:"span",backgroundColor:M9[s][u],style:{backgroundColor:a==null?void 0:a.backgroundColor,maxWidth:d?o:"100%"},paddingInline:"space.050",xcss:TNe,testId:t},k("span",{css:[O9,ANe[s][i]],style:{color:a==null?void 0:a.color,maxWidth:d?"100%":`calc(${l} - var(--ds-space-100, 8px))`},"data-testid":t&&`${t}--text`},e))});Qi.displayName="Lozenge";const M9={bold:{default:"color.background.neutral.bold",inprogress:"color.background.information.bold",moved:"color.background.warning.bold",new:"color.background.discovery.bold",removed:"color.background.danger.bold",success:"color.background.success.bold"},subtle:{default:"color.background.neutral",inprogress:"color.background.information",moved:"color.background.warning",new:"color.background.discovery",removed:"color.background.danger",success:"color.background.success"}},ANe={bold:{default:M({color:"var(--ds-text-inverse, #FFFFFF)"}),inprogress:M({color:"var(--ds-text-inverse, #FFFFFF)"}),moved:M({color:"var(--ds-text-warning-inverse, #172B4D)"}),new:M({color:"var(--ds-text-inverse, #FFFFFF)"}),removed:M({color:"var(--ds-text-inverse, #FFFFFF)"}),success:M({color:"var(--ds-text-inverse, #FFFFFF)"})},subtle:{default:M({color:"var(--ds-text-subtle, #42526E)"}),inprogress:M({color:"var(--ds-text-information, #0052CC)"}),moved:M({color:"var(--ds-text-warning, #974F0C)"}),new:M({color:"var(--ds-text-discovery, #403294)"}),removed:M({color:"var(--ds-text-danger, #DE350B)"}),success:M({color:"var(--ds-text-success, #006644)"})}};function Fl(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!==null&&(n.current=t)})}}function DNe(e,t=()=>e){const n=e!==void 0,[r,o]=c.useState(t),a=c.useRef(n);c.useEffect(()=>{a.current=n},[n]);const s=n?e:r,i=c.useCallback(l=>{a.current||o(l)},[]);return[s,i]}function ONe(){const[e,t]=c.useState(!1),n=c.useRef({onFocus:()=>t(!0),onBlur:()=>t(!1)});return c.useEffect(()=>()=>t(!1),[]),{isFocused:e,bindFocus:n.current}}const gb="ds--dropdown--";function MNe(){const e=j1();return`${gb}${e}`}const $Ne={[qU]:"next",[_ye]:"prev",[xye]:"first",[Sye]:"last"},Fw=(e,t)=>{for(;t+1<e.length;){const{current:n}=e[++t];if(!!n&&!n.hasAttribute("disabled"))return n}},jw=(e,t)=>{for(;t>0;){const{current:n}=e[--t];if(!!n&&!n.hasAttribute("disabled"))return n}};function RNe(e,t,n){return r=>{var o;const a=(o=e.current)!==null&&o!==void 0?o:[],s=a.findIndex(({current:d})=>{var u;return d&&((u=document.activeElement)===null||u===void 0?void 0:u.isSameNode(d))});if(et("platform_dst_popup-disable-focuslock")){var i;const d=!!((i=document.activeElement)!==null&&i!==void 0&&i.closest(`[id^=${gb}]`));if(t()&&d){r.key===S_&&!r.shiftKey&&n(r);return}}else if(t()){r.key===S_&&!r.shiftKey&&n(r);return}switch($Ne[r.key]){case"next":if(r.preventDefault(),s<a.length-1){const f=Fw(a,s);f==null||f.focus()}else{const f=Fw(a,-1);f==null||f.focus()}break;case"prev":if(r.preventDefault(),s>0){const f=jw(a,s);f==null||f.focus()}else{const f=jw(a,a.length);f==null||f.focus()}break;case"first":r.preventDefault();const d=Fw(a,-1);d==null||d.focus();break;case"last":r.preventDefault();const u=jw(a,a.length);u==null||u.focus();break;default:return}}}const tT=c.createContext({menuItemRefs:[],registerRef:Nt}),PNe=({children:e,onClose:t})=>{const n=c.useRef([]),[r,o]=c.useState(0),a=c.useRef("ordered");a.current="ordered";const s=c.useCallback(d=>{if(!n.current.includes(d))switch(a.current){case"ordered":n.current.push(d);break;case"unordered":a.current="regenerate",n.current=[],o(r+1);break;case"regenerate":break;default:throw new Error(`Unexpected case of ${a.current}`)}},[r]),{isLayerDisabled:i}=Pu();c.useEffect(()=>{a.current==="ordered"&&(a.current="unordered")}),c.useEffect(()=>mt.bind(window,{type:"keydown",listener:RNe(n,i,t)}),[i,t]);const l={menuItemRefs:n.current,registerRef:s};return _.createElement(tT.Provider,{value:l},e)},lJ=c.createContext("cozy"),cJ=c.createContext("border"),LNe=M({display:"flex",position:"static",flexDirection:"column",overflow:"auto"}),nT=({isLoading:e,maxWidth:t,minWidth:n,minHeight:r,maxHeight:o,testId:a,role:s,spacing:i="cozy",className:l,...d})=>k(lJ.Provider,{value:i},k(cJ.Provider,{value:"border"},k("div",H({"aria-busy":e,style:{minWidth:n,maxWidth:t,minHeight:r,maxHeight:o},css:LNe,"data-testid":a,role:s,className:l},d))));function NNe(e){const t=e.getAttribute("role");return t==="checkbox"||t==="menuitemcheckbox"}function FNe(e){const t=e.getAttribute("role");return t==="radio"||t==="menuitemradio"}const jNe=ie({display:"flex",minWidth:"160px",padding:"space.250",justifyContent:"center"}),VNe=({statusLabel:e="Loading",testId:t})=>k(_e,{xcss:jNe},k(rr,{size:"small",label:e,testId:t})),BNe=({children:e,isLoading:t,maxHeight:n,maxWidth:r,onClose:o,onUpdate:a,statusLabel:s,setInitialFocusRef:i,shouldRenderToParent:l,spacing:d,testId:u,isTriggeredUsingKeyboard:f,autoFocus:p})=>{const{menuItemRefs:m}=c.useContext(tT),g=v=>{m.some(y=>{const{current:E}=y;if(!E)return!1;const w=NNe(E)||FNe(E);return E.contains(v.target)&&!w})&&o&&o(v)};return c.useLayoutEffect(()=>{a()},[t,a]),c.useEffect(()=>{var v;const b=(v=m.map(({current:y})=>y).find(y=>!!y&&!y.hasAttribute("disabled")))!==null&&v!==void 0?v:null;l&&(f||p)&&(b==null||b.focus()),i==null||i(b)},[m,i,p,l,f]),k(nT,{isLoading:t,maxHeight:n,maxWidth:r,onClick:g,role:"menu",spacing:d,testId:u&&`${u}--menu-group`},t?k(VNe,{statusLabel:s,testId:u&&`${u}--loading-indicator`}):e)},UNe=c.createContext(void 0),HNe=UNe.Provider,zNe=c.createContext({setItemState:Nt,getItemState:()=>{},setGroupState:Nt,getGroupState:()=>({})}),WNe=e=>{const{children:t}=e,n=c.useRef({}),r=c.useMemo(()=>({setItemState:(o,a,s)=>{n.current[o]||(n.current[o]={}),n.current[o][a]=s},getItemState:(o,a)=>{if(n.current[o])return n.current[o][a]},setGroupState:(o,a)=>{n.current[o]=a},getGroupState:o=>n.current[o]||{}}),[]);return _.createElement(zNe.Provider,{value:r},t)};function dJ(){const{registerRef:e}=c.useContext(tT),t=c.useRef(null);return c.useEffect(()=>e(t),[e]),t}const GNe=gt(),qNe=`calc(100vh - ${GNe*2}px)`,ni={top:"bottom",bottom:"top",left:"right",right:"left",start:"end",auto:"auto",end:"start"},YNe=e=>{const t=e.split("-"),n=t[0];if(["top","bottom"].includes(n))if(t.length===2&&["start","end"].includes(t[1])){const r=t[1];return[`${n}`,`${n}-${ni[r]}`,`${ni[n]}-${r}`,`${ni[n]}`,`${ni[n]}-${ni[r]}`,"auto"]}else return[`${n}-start`,`${n}-end`,`${ni[n]}`,`${ni[n]}-start`,`${ni[n]}-end`,"auto"];else return},rT=({autoFocus:e=!1,children:t,defaultOpen:n=!1,isLoading:r=!1,isOpen:o,onOpenChange:a=Nt,placement:s="bottom-start",shouldFitContainer:i=!1,shouldFlip:l=!0,shouldRenderToParent:d=!1,returnFocusRef:u,spacing:f,statusLabel:p,testId:m,trigger:g,zIndex:v=Qt.modal(),label:b,interactionName:y,strategy:E})=>{const[w,C]=DNe(o,()=>n),x=c.useRef(null),[S,I]=c.useState(!1),A=MNe(),T=dJ(),O=c.useMemo(()=>YNe(s),[s]),D=c.useCallback(V=>{const Y=!w,{clientX:J,clientY:z,type:ce,detail:le}=V;if(ce==="keydown")I(!0);else if(J===0||z===0)I(!0);else if(le===0)I(!0);else{var j;T==null||(j=T.current)===null||j===void 0||j.focus(),I(!1)}C(Y),a({isOpen:Y,event:V})},[w,C,a,T]),$=c.useCallback((V,Y)=>{var J,z;if(V.key!=="Escape"&&V.key!=="Tab"&&(J=V.target)!==null&&J!==void 0&&(z=J.closest)!==null&&z!==void 0&&z.call(J,`[id^=${gb}] [aria-haspopup]`)){var ce;if(!Y)return;const j=(ce=T.current)===null||ce===void 0?void 0:ce.dataset["ds-Level"];if(j&&Number(j)<Y)return}u?requestAnimationFrame(()=>{var j;(j=u.current)===null||j===void 0||j.focus()}):V.key==="Tab"&&V.shiftKey||V.key==="Escape"?requestAnimationFrame(()=>{var j;(j=T.current)===null||j===void 0||j.focus()}):x.current&&requestAnimationFrame(()=>{var j;(j=x.current)===null||j===void 0||j.focus()});const le=!1;C(le),a({isOpen:le,event:V})},[T,a,u,C]),{isFocused:L,bindFocus:F}=ONe();c.useEffect(()=>!L||w?Nt:mt.bind(window,{type:"keydown",listener:function(Y){let J;Y.target instanceof HTMLElement&&(J=Y.target.closest(`[id^=${gb}] [aria-haspopup]`)),Y.key===qU&&!J?(Y.preventDefault(),D(Y)):(Y.code===Iye||Y.key===kye)&&Y.detail===0?I(!0):Y.key===S_&&J&&$(Y)}}),[L,w,D,$]);const B=i?{shouldFitContainer:i,strategy:E!=="fixed"?E:void 0}:{shouldRenderToParent:d,strategy:E};return _.createElement(WNe,null,_.createElement(HNe,{value:{returnFocusRef:x}},_.createElement(Ch,H({id:w?A:void 0,shouldFlip:l,isOpen:w,onClose:$,zIndex:v,placement:s,fallbackPlacements:O,testId:m&&`${m}--content`,shouldUseCaptureOnOutsideClick:!0},B,{shouldDisableFocusLock:!0,trigger:({ref:V,"aria-controls":Y,"aria-expanded":J,"aria-haspopup":z,...ce})=>typeof g=="function"?g({"aria-controls":Y,"aria-expanded":J,"aria-haspopup":z,...ce,...F,triggerRef:Fl([V,x,T]),isSelected:w,onClick:D,testId:m&&`${m}--trigger`}):_.createElement(ur,H({},F,{ref:Fl([V,x,T]),"aria-controls":Y,"aria-expanded":J,"aria-haspopup":z,isSelected:w,iconAfter:Ws,onClick:D,testId:m&&`${m}--trigger`,"aria-label":b},et("platform_button_item-add-ufo-metrics")&&{interactionName:y}),g),content:({setInitialFocusRef:V,update:Y})=>_.createElement(PNe,{onClose:$},_.createElement(BNe,{spacing:f,maxHeight:qNe,maxWidth:i?void 0:800,onClose:$,onUpdate:Y,isLoading:r,statusLabel:p,setInitialFocusRef:S||e?V:void 0,shouldRenderToParent:d||i,isTriggeredUsingKeyboard:S,autoFocus:e,testId:m&&`${m}--menu-wrapper`},t))}))))},KNe=(e,t)=>k(e,t),$9=M({display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}),XNe=ie({outline:"none",overflow:"hidden",textAlign:"left"}),R9=M({display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),JNe=M({font:'var(--ds-font-body, normal 400 14px/20px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),P9=M({wordBreak:"break-word"}),ZNe=M({color:`var(--ds-text-subtlest, ${jt})`,font:'var(--ds-font-body-UNSAFE_small, normal 400 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),QNe=M({color:`var(--ds-text-disabled, ${jt})`}),eFe=M({position:"relative"}),tFe=M({display:"flex",boxSizing:"border-box",width:"100%",minHeight:40,margin:"var(--ds-space-0, 0px)",alignItems:"center",border:0,outline:0,textDecoration:"none",userSelect:"none","&::-moz-focus-inner":{border:0},"&:hover":{textDecoration:"none"}}),nFe={cozy:M({paddingBlock:"var(--ds-space-100, 8px)",paddingInline:"var(--ds-space-200, 16px)"}),compact:M({minHeight:32,paddingBlock:"var(--ds-space-050, 4px)",paddingInline:"var(--ds-space-150, 12px)"})},rFe=M({cursor:"pointer"}),oFe=M({backgroundColor:"var(--ds-background-neutral-subtle, transparent)",color:"currentColor","&:visited":{color:"currentColor"},"&:hover":{backgroundColor:`var(--ds-background-neutral-subtle-hovered, ${Ke})`,color:"currentColor"},"&:active":{backgroundColor:`var(--ds-background-neutral-subtle-pressed, ${Dt})`,boxShadow:"none",color:"currentColor"}}),aFe=M({cursor:"not-allowed","&, :hover, :active":{backgroundColor:"var(--ds-background-neutral-subtle, transparent)",color:`var(--ds-text-disabled, ${jt})`}}),sFe=M({"&::before":{width:2,position:"absolute",background:"var(--ds-border-selected, transparent)",content:'""',insetBlockEnd:0,insetBlockStart:0,insetInlineStart:0}}),iFe=M({"&::before":{width:4,position:"absolute",background:"var(--ds-border-selected, transparent)",borderRadius:"0 var(--ds-border-radius, 4px) var(--ds-border-radius, 4px) 0",content:'""',insetBlockEnd:"var(--ds-space-150, 12px)",insetBlockStart:"var(--ds-space-150, 12px)",insetInlineStart:0}}),lFe=M({backgroundColor:`var(--ds-background-selected, ${Ke})`,color:"var(--ds-text-selected, currentColor)","&:visited":{color:"var(--ds-text-selected, currentColor)"},"&:hover":{backgroundColor:`var(--ds-background-selected-hovered, ${Ke})`,color:"var(--ds-text-selected, currentColor)"},"&:active":{backgroundColor:`var(--ds-background-selected-pressed, ${Dt})`,color:"var(--ds-text-selected, currentColor)"}}),cFe={compact:"space.100",cozy:"space.150"},oT=({children:e,title:t,description:n,iconAfter:r,iconBefore:o,overrides:a,className:s,shouldTitleWrap:i=!1,shouldDescriptionWrap:l=!1,isDisabled:d=!1,isSelected:u=!1,testId:f})=>{es("@atlaskit/menu","overrides",a!==void 0,"");const p=c.useContext(lJ),m=c.useContext(cJ),g=a&&a.Title&&a.Title.render||KNe,v=s;return k(js,null,({css:b,cx:y})=>k(vc,{isInset:!0},e({className:y([b([eFe,tFe,nFe[p],!d&&!u&&oFe,!d&&u&&[lFe,[m==="border"&&sFe,m==="notch"&&iFe]],d?aFe:rFe]),v]),children:k(Me,{as:"span",spread:"space-between",alignBlock:"center",space:cFe[p],grow:"fill",testId:f&&`${f}--container`},o&&k("span",{"data-item-elem-before":!0,css:$9,"data-testid":f&&`${f}--icon-before`},o),t&&k(Rt,{alignBlock:"center",grow:"fill",xcss:XNe},g("span",{children:t,className:b(JNe,i?P9:R9),"data-item-title":!0}),n&&k("span",{"data-item-description":!0,css:[ZNe,d&&QNe,l?P9:R9]},n)),r&&k("span",{"data-item-elem-after":!0,css:$9,"data-testid":f&&`${f}--icon-after`},r))})))},aT=c.memo(c.forwardRef((e,t)=>{const{children:n,cssFn:r=Nt,description:o,iconAfter:a,iconBefore:s,isDisabled:i=!1,isSelected:l=!1,onClick:d,testId:u,overrides:f,onMouseDown:p,shouldTitleWrap:m,shouldDescriptionWrap:g,className:v,interactionName:b,...y}=e,E=p,w=c.useContext(Lu),C=c.useCallback(x=>{w==null||w.tracePress(b,x.timeStamp),d==null||d(x)},[d,w,b]);return n?(es("@atlaskit/menu","cssFn",r!==Nt,""),k(oT,H({className:v},y,{overrides:f,iconBefore:s,iconAfter:a,isDisabled:i,isSelected:l,description:o,title:n,shouldTitleWrap:m,shouldDescriptionWrap:g,css:r({isSelected:l,isDisabled:i}),testId:u&&`${u}--primitive`}),({children:x,className:S})=>k("button",H({"data-testid":u},y,{className:S,ref:t,disabled:i,onClick:et("platform_button_item-add-ufo-metrics")?C:d,onMouseDown:E,type:"button"}),x))):null})),dFe=/^(?:(http|https):\/\/)/,uFe=/^(((mailto|tel|sms):)|(#))/,Vw=e=>{e.preventDefault()},fFe=c.memo(c.forwardRef((e,t)=>{const{children:n,href:r,cssFn:o=Nt,description:a,iconAfter:s,iconBefore:i,isDisabled:l=!1,isSelected:d=!1,onClick:u,testId:f,overrides:p,onMouseDown:m,shouldTitleWrap:g,shouldDescriptionWrap:v,className:b,UNSAFE_shouldDisableRouterLink:y,UNSAFE_isDraggable:E,interactionName:w,...C}=e,x=m,S=HAe(),I=c.useContext(Lu),A=c.useCallback(F=>{I==null||I.tracePress(w,F.timeStamp),u==null||u(F)},[u,I,w]);if(!n)return null;const T=typeof r=="string"&&dFe.test(r),O=typeof r=="string"&&uFe.test(r),D=r==null||r==="",$=!y&&S&&!T&&!O&&!D,L=$?S:"a";return es("@atlaskit/menu","cssFn",o!==Nt,""),k(oT,H({},C,{className:b,overrides:p,iconBefore:i,iconAfter:s,isSelected:d,isDisabled:l,description:a,shouldTitleWrap:g,shouldDescriptionWrap:v,css:o({isSelected:d,isDisabled:l}),title:n,testId:f&&`${f}--primitive`}),({children:F,className:B})=>k(L,H({"data-testid":f,"data-is-router-link":f?$?"true":"false":void 0,"data-vc":"link-item"},C,{className:B,href:l?void 0:r},E?{}:{draggable:!1,onDragStart:Vw},{onMouseDown:l?Vw:x,onClick:l?Vw:et("platform_button_item-add-ufo-metrics")?A:u,"aria-current":d?"page":void 0,"aria-disabled":l,ref:t}),F))})),Bw=e=>{e.preventDefault()},pFe=c.memo(c.forwardRef(({component:e,cssFn:t=Nt,isDisabled:n=!1,isSelected:r=!1,onClick:o,testId:a,children:s,description:i,iconAfter:l,iconBefore:d,overrides:u,onMouseDown:f,shouldTitleWrap:p,shouldDescriptionWrap:m,className:g,UNSAFE_isDraggable:v,interactionName:b,...y},E)=>{const w=f,C=c.useContext(Lu),x=c.useCallback(S=>{C==null||C.tracePress(b,S.timeStamp),o==null||o(S)},[o,C,b]);return e?(es("@atlaskit/menu","cssFn",t!==Nt,""),k(oT,H({className:g},y,{overrides:u,description:i,iconAfter:l,title:s,iconBefore:d,isSelected:r,isDisabled:n,shouldTitleWrap:p,shouldDescriptionWrap:m,css:M(t({isDisabled:n,isSelected:r})),testId:a&&`${a}--primitive`}),({children:S,className:I})=>k(e,H({"data-testid":a},y,{className:I,ref:E},v?{}:{draggable:!1,onDragStart:Bw},{onMouseDown:n?Bw:w,onClick:n?Bw:et("platform_button_item-add-ufo-metrics")?x:o,tabIndex:n?-1:void 0,"aria-disabled":n}),S))):null})),mFe=M({color:`var(--ds-text-subtle, ${Vn})`,font:'var(--ds-font-heading-xxsmall, normal 600 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)',paddingBlock:"var(--ds-space-0, 0px)",paddingInline:"var(--ds-space-200, 16px)"}),hFe=c.memo(({children:e,testId:t,headingLevel:n=2,id:r,cssFn:o=Nt,className:a,...s})=>{es("@atlaskit/menu","cssFn",o!==Nt,"");const i=M(o(void 0));return k("div",H({css:[mFe,i],role:"heading","aria-level":n,"data-testid":t,"data-ds--menu--heading-item":!0,id:r,className:a},s),e)}),$y=8,Ix=$y*2.5,uJ=$y*.75,gFe=16,vFe=$y,fJ=3,L9=Ix+(gFe-vFe)-fJ,bFe=uJ+fJ,Uw=$y*.75,yFe="--ds-menu-seperator-color",EFe=M({"&::before, &::after":{display:"block",height:Uw,content:'""'},"& [data-ds--menu--heading-item]":{marginBlockEnd:uJ,marginBlockStart:Ix,"&:first-of-type":{marginBlockStart:Ix-Uw}},"& [data-ds--menu--skeleton-heading-item]":{marginBlockEnd:bFe,marginBlockStart:L9,"&:first-of-type":{marginBlockStart:L9-Uw}},"&:focus":{outlineOffset:-1}}),wFe=M({flexShrink:1,overflow:"auto"}),CFe=M({flexShrink:0}),_Fe=M({borderBlockStart:`1px solid var(${yFe}, ${`var(--ds-border, ${Mn})`})`}),xFe=M({"[data-section] + &":{marginBlockStart:-6}}),Tx=c.forwardRef(({children:e,overrides:t,title:n,titleId:r,testId:o,isScrollable:a,hasSeparator:s,id:i,isList:l=!1,className:d,...u},f)=>{es("@atlaskit/menu","overrides",t!==void 0,"");const p=t&&t.HeadingItem&&t.HeadingItem.cssFn,m=l?k("ul",{style:{margin:0,padding:0}},c.Children.map(c.Children.toArray(e),(v,b)=>k("li",{style:{listStyleType:"none",margin:0,padding:0},key:b},v))):e,g=n!==void 0?k(c.Fragment,null,k(hFe,{cssFn:p,testId:o&&`${o}--heading`,"aria-hidden":!0},n),m):k(c.Fragment,null,m);return k("div",H({},u,{className:d,id:i,css:[EFe,a?wFe:CFe,s?_Fe:xFe],"aria-label":n,"aria-labelledby":r,"data-testid":o,role:"group","data-section":!0,ref:f}),g)}),SFe=ie({color:"color.text.subtle",font:"font.heading.xxsmall",paddingBlock:"space.0",paddingInline:"space.200"}),kFe=({id:e,title:t})=>_.createElement(_e,{"data-ds--menu--heading-item":!0,role:"menuitem",id:e,"aria-hidden":"true",xcss:SFe},t),sT=c.forwardRef(({children:e,id:t,isList:n,isScrollable:r,title:o,testId:a,hasSeparator:s,overrides:i,...l},d)=>{const f=`dropdown-menu-item-group-title-${j1()}`;return _.createElement(Tx,H({id:t,ref:d,isList:n,isScrollable:r,hasSeparator:s,testId:a,titleId:o?f:void 0,overrides:i},l),o&&_.createElement(kFe,{id:f,title:o}),e)}),Ry=c.forwardRef(({children:e,component:t,description:n,elemAfter:r,elemBefore:o,href:a,isDisabled:s,isSelected:i,onClick:l,rel:d,shouldDescriptionWrap:u=!0,shouldTitleWrap:f=!0,target:p,testId:m,UNSAFE_shouldDisableRouterLink:g,returnFocusRef:v,interactionName:b,...y},E)=>{const w=dJ(),C=c.useCallback(x=>{v!=null&&v.current&&v.current.focus(),l&&l(x)},[l,v]);return t?_.createElement(pFe,H({component:t,description:n,iconAfter:r,iconBefore:o,isDisabled:s,isSelected:i,onClick:C,ref:Fl([E,w]),shouldDescriptionWrap:u,shouldTitleWrap:f,testId:m,href:a,target:p,rel:d},et("platform_button_item-add-ufo-metrics")&&{interactionName:b},y),e):a?_.createElement(fFe,H({description:n,href:a,iconAfter:r,iconBefore:o,isDisabled:s,isSelected:i,onClick:C,ref:Fl([E,w]),rel:d,role:"menuitem",shouldDescriptionWrap:u,shouldTitleWrap:f,target:p,testId:m,UNSAFE_shouldDisableRouterLink:g},et("platform_button_item-add-ufo-metrics")&&{interactionName:b},y),e):_.createElement(aT,H({description:n,iconAfter:r,iconBefore:o,isDisabled:s,isSelected:i,onClick:C,ref:Fl([E,w]),role:"menuitem",shouldDescriptionWrap:u,shouldTitleWrap:f,testId:m,target:p,rel:d},et("platform_button_item-add-ufo-metrics")&&{interactionName:b},y),e)}),IFe=M({all:"unset",backgroundColor:"transparent",color:"unset",cursor:"pointer",fontFamily:"unset",fontSize:"unset",fontStyle:"unset",fontWeight:"unset",fontVariant:"unset",lineHeight:0,padding:0,textTransform:"unset",border:"2px solid transparent",margin:"var(--ds-space-025, 2px)","&:focus-visible, &:focus-within, &[aria-expanded='true']":{outline:"none",boxShadow:"0 0 0 2px var(--ds-border-focused, #388BFF)",borderRadius:"5px"}}),TFe=M({alignItems:"center",display:"flex","span[role='img']":{margin:"var(--ds-space-negative-050, -4px) var(--ds-space-negative-100, -8px) var(--ds-space-negative-050, -4px) -1px"}}),AFe=M({maxHeight:"300px",overflowY:"auto",button:{padding:"var(--ds-space-075, 6px) var(--ds-space-150, 12px)",minHeight:"28px",width:"220px","&:hover":{backgroundColor:"inherit"},"&:focus, &:focus-visible":{backgroundColor:"var(--ds-background-neutral-subtle-hovered, #091E420F)",boxSizing:"border-box",boxShadow:"inset 2px 0 0 var(--ds-border-selected, #0C66E4)",outline:"none"}}}),DFe=({appearance:e,isOpen:t,testId:n,text:r,triggerRef:o,...a})=>{const[s,i]=c.useState(!1),l=c.useCallback(()=>i(!0),[]),d=c.useCallback(()=>i(!1),[]),u=c.useMemo(()=>k(Qi,{appearance:e,isBold:s},k("span",{css:TFe},k("span",null,r),k(wh,{label:"options",size:"medium"}))),[e,s,r]);return k("button",H({type:"button"},a,{css:IFe,"data-action-open":t,"data-testid":`${n}--trigger`,onMouseEnter:l,onMouseLeave:d,ref:o}),u)},OFe=M({button:{width:"220px","&:hover":{backgroundColor:"inherit",cursor:"default"}}}),pJ=M({display:"flex",gap:"var(--ds-space-100, 0.5rem)",lineHeight:"1rem",minWidth:0,overflow:"hidden",flexDirection:"row",alignItems:"center"}),MFe=M(pJ,{marginTop:"var(--ds-space-025, 2px)",alignItems:"flex-start","> span, > div":{fontSize:"0.875rem",lineHeight:"1.25rem",color:`var(--ds-text, ${mn})`}}),$Fe=M(pJ,{cursor:"pointer",fontSize:"0.875rem",marginTop:"var(--ds-space-100, 8px)",marginLeft:"var(--ds-space-400, 32px)",marginBottom:"var(--ds-space-025, 2px)"}),RFe=e=>M({lineHeight:"1rem",whiteSpace:"normal"},Zi(e)),Se=xr({actions:{id:"fabric.linking.actions",defaultMessage:"Actions",description:""},add_account:{id:"fabric.linking.add_account",defaultMessage:"Add account",description:"Allows to add a new account"},ai_summarize:{id:"fabric.linking.ai_summarize",defaultMessage:"Summarize",description:"Action to summarize link resource content with AI"},ai_summarized:{id:"fabric.linking.ai_summarized",defaultMessage:"Summarized by Atlassian Intelligence",description:"Shown with the content summarised by AI."},ai_summarized_abbreviation:{id:"fabric.linking.ai_summarized_abbreviation",defaultMessage:"Summarized by AI",description:"Shown with the content summarised by AI. AI is in abbreviation form to reduce space."},ai_summarized_info:{id:"fabric.linking.ai_summarized_info",defaultMessage:"Information quality may vary. <a>Learn more</a>",description:"Additional info about the content summarised by AI."},ai_summarized_info_short:{id:"fabric.linking.ai_summarized_info_short",defaultMessage:"Content quality may vary",description:"Additional info about the content summarised by AI."},ai_summarizing:{id:"fabric.linking.ai_summarizing",defaultMessage:"Atlassian Intelligence is working...",description:"Shown when AI summary is summarising the link resource content."},ai_summary_error_generic:{id:"fabric.linking.ai_summary_error_generic",defaultMessage:"Atlassian Intelligence (AI) isnt responding. Try again later or <a>check the status of AI</a>.",description:"Shown when AI Summary encountered an unexpected error while summarizing the linked resource content."},ai_summary_error_acceptable_use_violation:{id:"fabric.linking.ai_summary_error_acceptable_use_violation",defaultMessage:"We cannot show the results of this summary as it goes against <a>Atlassian's Acceptable Use Policy</a>.",description:"Shown when AI summary is summarising the link resource content and the content violates atlassians acceptable use policy."},ai_summary_error_hipaa_content_detected:{id:"fabric.linking.ai_summary_error_hipaa_content_detected",defaultMessage:"Atlassian Intelligence was unable to process your request as your content contains links to HIPAA restricted content.",description:"Shown when the AI summary is summarising the link resource content and the content contains HIPAA restricted content."},ai_summary_error_exceeding_context_length_error:{id:"fabric.linking.ai_summary_error_exceeding_context_length_error",defaultMessage:"Atlassian Intelligence can't generate a summary for you right now as there is too much content to summarize.",description:"Shown when the AI summary is summarising the link resource content and the content is too large to summarize."},assigned_to:{id:"fabric.linking.assigned_to",defaultMessage:"Assigned to {context}",description:"Indicates the person or entity that the resource is assigned to."},automation_action_title:{id:"fabric.linking.automation-action.title",defaultMessage:"View automation rules...",description:"The title of the button in a hover card to open an automation menu for a given SmartLink."},automation_action_icon_label:{id:"fabric.linking.automation-action.icon.label",defaultMessage:"Automation icon",description:"The label for the automation icon inside of the button opening the automation menu."},automation_action_tooltip:{id:"fabric.linking.automation-action.tooltip",defaultMessage:"Select an automation rule to run",description:"The tooltip for the automation action indicating that a button will open an automation modal."},automation_action_confluence_page_modal_title:{id:"fabric.linking.automation-action.confluence.page.modal.title",defaultMessage:"Page automations",description:"The title of the automation modal when the SmartLink is a Confluence page"},automation_action_confluence_page_modal_description:{id:"fabric.linking.automation-action.confluence.page.modal.description",defaultMessage:"Apply an automation to <b>{name}</b>.{br}The available selections are controlled by Confluence and space administrators.",description:"The description in the automation modal when the SmartLink is a Confluence page. Indicating which page the automation will apply to, and who controls the available automations."},cancel:{id:"fabric.linking.cancel",defaultMessage:"Cancel",description:"cancel"},beta:{id:"fabric.linking.beta",defaultMessage:"Beta",description:"Indicates a beta phase of the feature."},cannot_connect:{id:"fabric.linking.cannot_connect",defaultMessage:"Can't connect, try again",description:"Error for when a provided link is not found."},cannot_find_link:{id:"fabric.linking.cannot_find_link",defaultMessage:"Can't find link",description:"Error for when a provided link is not found."},click_to_join:{id:"fabric.linking.click_to_join",defaultMessage:"Join {context}",description:"Allows the user join the product or service immediately"},click_to_join_description:{id:"fabric.linking.click_to_join_description",defaultMessage:"You've been approved, so you can join {context} right away.",description:"Informs the user that they have access to this product, and can sign up or join right away."},close:{id:"fabric.linking.close",defaultMessage:"Close",description:""},check_this_link:{id:"fabric.linking.check_this_link",defaultMessage:"Check this link",description:"Link safety warning modal header"},connect_to:{id:"fabric.linking.connect_to",defaultMessage:"Connect to {name}",description:"Allows the user to connect with different types of external services"},connect_account_description:{id:"fabric.linking.connect_account_description",defaultMessage:"We'll open a new page to help you connect your {name} account",description:"Explains what will happen when the users connects to a new account"},connect_link_account:{id:"fabric.linking.connect_link_account",defaultMessage:"Connect to preview",description:"Shown when a user does not have access to a link, but can connect their external account to view the link."},connect_link_account_card:{id:"fabric.linking.connect_link_account_card_view",defaultMessage:"Connect",description:"Shown when a user does not have access to a link, but can connect their external account to view the link on card view."},connect_link_account_card_name:{id:"fabric.linking.connect_link_account_card_view_name",defaultMessage:"Connect your {context} account",description:"Shown when a user does not have access to a link, but can connect their external account to view the link on card view. Displayed in title."},connect_link_account_card_description:{id:"fabric.linking.connect_link_account_card_view_description",defaultMessage:"To show a preview of this link, connect your {context} account.",description:"Shown when a user does not have access to a link, but can connect their external account to view the link on card view. Displayed in byline."},connect_unauthorised_account_action:{id:"fabric.linking.connect_unauthorised_account_action",defaultMessage:"Connect to {context}",description:"Shown on a button to connect user external account to their Atlassian account."},connect_unauthorised_account_description:{id:"fabric.linking.connect_unauthorised_account_description",defaultMessage:"Connect your {context} account to collaborate on work across Atlassian products.",description:"Shown when a user does not have access to a link, but can connect their external account to view the link on card view."},connect_unauthorised_account_description_no_provider:{id:"fabric.linking.connect_unauthorised_account_description_no_provider",defaultMessage:"Connect your account to collaborate on work across Atlassian products.",description:"Shown when a user does not have access to a link, but can connect their external account to view the link on card view and we do not have the providers name."},continue:{id:"fabric.linking.continue",defaultMessage:"Continue",description:"continue"},copy_url_to_clipboard:{id:"fabric.linking.copy_url_to_clipboard",defaultMessage:"Copy link",description:""},copied_url_to_clipboard:{id:"fabric.linking.copied_url_to_clipboard",defaultMessage:"Copied!",description:"Url has been copied to the clipboard"},could_not_load_link:{id:"fabric.linking.couldnt_load_link",defaultMessage:"We couldn't load this link for an unknown reason.",description:"Error case for card view - link could not be loaded."},created_by:{id:"fabric.linking.created_by",defaultMessage:"Created by {context}",description:"Indicates the person or entity that created the resource."},created_on_relative:{id:"fabric.linking.create_on_relative",defaultMessage:"Created {context}",description:"Indicated when entity was created (relative form)"},created_on_absolute:{id:"fabric.linking.create_on_absolute",defaultMessage:"Created on {context}",description:"Indicated when entity was created (absolute form)"},delete:{id:"fabric.linking.delete",defaultMessage:"Delete",description:"Allow a user to delete a link"},download:{id:"fabric.linking.download",defaultMessage:"Download",description:""},download_description:{id:"fabric.linking.download_description",defaultMessage:"Download this file into your local storage",description:"Description on what Download does"},download_file:{id:"fabric.linking.download_file",defaultMessage:"Download file",description:"Allow a user to download a file"},ai_summary_action:{id:"fabric.linking.ai_summary_action",defaultMessage:"Summarize with AI",description:"Allow a user to summarize a link"},ai_summary_action_description:{id:"fabric.linking.ai_summary_action_description",defaultMessage:"Summarize the content of this link using Atlassian Intelligence.",description:"Description of what the summarize link with AI action does"},copy_summary_action:{id:"fabric.linking.copy_summary_action",defaultMessage:"Copy summary",description:"Allow a user to copy a generated summary"},copy_summary_action_description:{id:"fabric.linking.copy_summary_action_description",defaultMessage:"Copy summary",description:"Description of what the copy summary AI action does"},copied_summary_action_description:{id:"fabric.linking.copied_summary_action_description",defaultMessage:"Copied summary to clipboard",description:"Confirmation to the user that the summry has been copied"},edit:{id:"fabric.linking.edit",defaultMessage:"Edit",description:"Allow a user to edit a link"},follow:{id:"fabric.linking.follow",defaultMessage:"Follow",description:"Click to follow a project."},follow_project_description:{id:"fabric.linking.follow_project_description",defaultMessage:"Follow to get notifications on this project",description:"Description on what Follow does"},follow_project:{id:"fabric.linking.follow_project",defaultMessage:"Follow project",description:"Click to follow a project."},follow_project_error:{id:"fabric.linking.follow_project_error",defaultMessage:"We encountered an error while trying to follow the project. Check your connection or refresh the page and try again.",description:"Shown when an unknown error occurs when following an Atlas project"},follow_goal_description:{id:"fabric.linking.follow_goal_description",defaultMessage:"Follow this goal to get notifications on updates",description:"Description on what Follow does"},follow_goal:{id:"fabric.linking.follow_goal",defaultMessage:"Follow goal",description:"Click to follow a project."},follow_goal_error:{id:"fabric.linking.follow_goal_error",defaultMessage:"We encountered an error while trying to follow the goal. Check your connection or refresh the page and try again.",description:"Shown when an unknown error occurs when following an Atlas goal"},go_back:{id:"fabric.linking.go_back",defaultMessage:"Go back",description:"go back"},invalid_permissions:{id:"fabric.linking.invalid_permissions",defaultMessage:"Restricted content",description:"Message shown when a user does not have permissions to view an item"},invalid_permissions_description:{id:"fabric.linking.invalid_permissions_description",defaultMessage:"You'll need to request access or try a different account to view this preview.",description:"Message shown when a user does not have permissions to view an item. Displayed as description."},join_to_view:{id:"fabric.linking.join_to_view",defaultMessage:"Join {context} to view this issue",description:"Allows the user join the product or service immediately"},learn_more_about_smart_links:{id:"fabric.linking.learn_more_about_smart_links",defaultMessage:"Learn more about Smart Links.",description:"An anchor link to redirect user to a page about Smart Links."},learn_more_about_connecting_account:{id:"fabric.linking.learn_more_about_connecting_account",defaultMessage:"Learn more about connecting your account to Atlassian products.",description:"An anchor link to redirect user to a page about authorization with 3rd party accounts."},loading:{id:"fabric.linking.loading",defaultMessage:"Loading...",description:"Indicates an element on a page is loading."},modified_by:{id:"fabric.linking.updated_by",defaultMessage:"Modified by {context}",description:"Indicates the person or entity that modified the resource."},modified_on_relative:{id:"fabric.linking.modified_on_relative",defaultMessage:"Updated {context}",description:"Indicated when entity was modified (relative form)"},modified_on_absolute:{id:"fabric.linking.modified_on_absolute",defaultMessage:"Updated on {context}",description:"Indicated when entity was modified (absolute form)"},more_actions:{id:"fabric.linking.more_actions",defaultMessage:"More actions",description:"Allows the users to see more link actions"},open_issue_in_jira:{id:"fabric.linking.open_issue_in_jira",defaultMessage:"Open issue in Jira",description:"Click to open link in Jira"},open_link_in_a_new_tab:{id:"fabric.linking.open_link_in_a_new_tab",defaultMessage:"Open link in a new tab",description:"Click to open link in a new tab"},owned_by:{id:"fabric.linking.owned_by",defaultMessage:"Owned by {context}",description:"Indicates the person or entity that owns or maintains the resource."},preview_description:{id:"fabric.linking.preview_description",defaultMessage:"Open a full screen preview of this link",description:"Description on what Preview does"},preview_improved:{id:"fabric.linking.preview_improved",defaultMessage:"Open preview",description:"Click to view a richer view of your content, without needing to navigate to it."},preview_close:{id:"fabric.linking.preview_close",defaultMessage:"Close preview",description:"Click to close embed preview modal."},preview_max_size:{id:"fabric.linking.preview_max_size",defaultMessage:"View full screen",description:"Click to increase embed preview modal size to a maximum viewing size."},preview_min_size:{id:"fabric.linking.preview_min_size",defaultMessage:"Close full screen",description:"Click to decrease embed preview modal size to a minimum viewing size."},priority_blocker:{id:"fabric.linking.priority_blocker",defaultMessage:"Blocker",description:"Indicated priority as blocker"},priority_critical:{id:"fabric.linking.priority_critical",defaultMessage:"Critical",description:"Indicated priority as critical"},priority_high:{id:"fabric.linking.priority_high",defaultMessage:"High",description:"Indicated priority as high"},priority_highest:{id:"fabric.linking.priority_highest",defaultMessage:"Highest",description:"Indicated priority as highest"},priority_low:{id:"fabric.linking.priority_low",defaultMessage:"Low",description:"Indicated priority as low"},priority_lowest:{id:"fabric.linking.priority_lowest",defaultMessage:"Lowest",description:"Indicated priority as lowest"},priority_major:{id:"fabric.linking.priority_major",defaultMessage:"Major",description:"Indicated priority as major"},priority_medium:{id:"fabric.linking.priority_medium",defaultMessage:"Medium",description:"Indicated priority as medium"},priority_minor:{id:"fabric.linking.priority_minor",defaultMessage:"Minor",description:"Indicated priority as minor"},priority_trivial:{id:"fabric.linking.priority_trivial",defaultMessage:"Trivial",description:"Indicated priority as trivial"},priority_undefined:{id:"fabric.linking.priority_undefined",defaultMessage:"Undefined",description:"Indicated priority as unknown"},forbidden_access:{id:"fabric.linking.forbidden_access",defaultMessage:"Your access is forbidden",description:"Shown when a user does not have access to a resource behind the link."},pending_request:{id:"fabric.linking.pending_request",defaultMessage:"Your access request is pending",description:"Shown when a user has requested an access but status is pending."},read_time:{id:"fabric.linking.read_time",defaultMessage:"{context} min read",description:"Estimated time to read this resource"},restricted_link:{id:"fabric.linking.restricted_link",defaultMessage:"Restricted link, try another account",description:"Message shown when a user does not have permissions to view an item"},request_access_to_view:{id:"fabric.linking.request_access_to_view",defaultMessage:"Request access to {context} to view this issue",description:"Allows the user to request access to a product or service"},request_denied:{id:"fabric.linking.request_denied",defaultMessage:"Your access request was denied",description:"The user had request access but the request was denied by a product or service"},retry:{id:"fabric.linking.retry",defaultMessage:"Retry",description:"Allows user to perform an action again"},save:{id:"fabric.linking.save",defaultMessage:"Save",description:'Just the "save" word'},sent_on_relative:{id:"fabric.linking.sent_on_relative",defaultMessage:"Sent {context}",description:"Indicated when entity was sent (relative form)"},sent_on_absolute:{id:"fabric.linking.sent_on_absolute",defaultMessage:"Sent on {context}",description:"Indicated when entity was sent (absolute form)"},status_change_load_error:{id:"fabric.linking.status_change_load_error",defaultMessage:"We couldnt load the statuses and transitions",description:"Informs the user that the loading of status transitions failed"},status_change_permission_error:{id:"fabric.linking.status_change_permission_error",defaultMessage:"You dont have permission to transition this issue. ",description:"Informs the user that they do not have enough permissions to update a status"},status_change_update_error:{id:"fabric.linking.status_change_update_error",defaultMessage:"We couldnt update the status",description:"Occurs when a user tries to update an issue's status but fails to do so"},try_again:{id:"fabric.linking.try_again",defaultMessage:"Try again",description:"Allow the user to try an action again"},try_another_account:{id:"fabric.linking.try_another_account",defaultMessage:"Try another account",description:"Allows the user to try an action again with a different account"},link_safety_warning_message:{id:"fabric.linking.link_safety_warning_message",defaultMessage:"The link {unsafeLinkText} is taking you to a different site, <a>actual link here</a>",description:"Link safety check warning message"},unauthorised_account_description:{id:"fabric.linking.unauthorised_account_description",defaultMessage:"You're trying to preview a link to a private {context} page. We recommend you review the URL or contact the page owner.",description:"Explains that user does not have access to a link."},unauthorised_account_description_no_provider:{id:"fabric.linking.unauthorised_account_description_no_provider",defaultMessage:"You're trying to preview a link to a private page. We recommend you review the URL or contact the page owner.",description:"Explains that user does not have access to a link."},unauthorised_account_name:{id:"fabric.linking.unauthorised_account_name",defaultMessage:"We can't display private pages from {context}",description:"Shown when a user does not have access to a link."},unauthorised_account_name_no_provider:{id:"fabric.linking.unauthorised_account_name_no_provider",defaultMessage:"We can't display private pages",description:"Shown when a user does not have access to a link."},unassigned:{id:"fabric.linking.unassigned",defaultMessage:"Unassigned",description:"Shown as a tooltip text for a default unassigned fallback avatar"},unfollow:{id:"fabric.linking.unfollow",defaultMessage:"Unfollow",description:"Click to unfollow a project."},unfollow_project_description:{id:"fabric.linking.unfollow_project_description",defaultMessage:"Unfollow to stop receiving project notifications",description:"Description on what Unfollow does"},unfollow_project:{id:"fabric.linking.unfollow_project",defaultMessage:"Unfollow project",description:"Click to unfollow a project."},unfollow_project_error:{id:"fabric.linking.unfollow_project_error",defaultMessage:"We encountered an error while trying to unfollow the project. Check your connection or refresh the page and try again.",description:"Shown when an unknown error occurs when unfollowing an Atlas project"},unfollow_goal_description:{id:"fabric.linking.unfollow_goal_description",defaultMessage:"Unfollow to stop receiving notifications for this goal",description:"Description on what Unfollow does"},unfollow_goal:{id:"fabric.linking.unfollow_goal",defaultMessage:"Unfollow goal",description:"Click to unfollow a project."},unfollow_goal_error:{id:"fabric.linking.unfollow_goal_error",defaultMessage:"We encountered an error while trying to unfollow the goal. Check your connection or refresh the page and try again.",description:"Shown when an unknown error occurs when unfollowing an Atlas goal"},unlink_account:{id:"fabric.linking.unlink_account",defaultMessage:"Unlink Account",description:"Allows to remove a connected account from the user"},view:{id:"fabric.linking.view",defaultMessage:"View",description:"Go through to a piece of content to view it in its original context."},viewIn:{id:"fabric.linking.srclink",defaultMessage:"View in",description:"We have a link in our preview modals to the original document. This text goes before the provider name"},viewOriginal:{id:"fabric.linking.srclinkunknown",defaultMessage:"View Original",description:"We have a link in our preview modals to the original document. This is for when we don't know the provider name"},default_no_access_title:{id:"fabric.linking.no_access_title",defaultMessage:"Join {product} to view this content",description:"Informs the user that they dont have access to certain content"},direct_access_title:{id:"fabric.linking.direct_access_title",defaultMessage:"Join {product} to view this content",description:"Informs the user that they have access to this product, and can sign up or join right away."},direct_access_description:{id:"fabric.linking.direct_access_description",defaultMessage:"Your team uses {product} to collaborate and you can start using it right away!",description:"Informs the user that they have access to this product, and can sign up or join right away."},direct_access:{id:"fabric.linking.direct_access",defaultMessage:"Join now",description:"Allows the user join the product or service immediately"},request_access_description:{id:"fabric.linking.request_access_description",defaultMessage:"Your team uses {product} to collaborate. Send your admin a request for access.",description:"Informs the user to request access to a product by talking to the website administrator"},request_access:{id:"fabric.linking.request_access",defaultMessage:"Request access",description:"Allows the user to request access to a product or service"},request_access_pending_title:{id:"fabric.linking.request_access_pending_title",defaultMessage:"Access to {product} is pending",description:"Informs the user that their request to view this content is pending"},request_access_pending_description:{id:"fabric.linking.request_access_pending_description",defaultMessage:"Your request to access {hostname} is awaiting admin approval.",description:"Informs the user that their request to view this content is pending website administrator approval"},request_access_pending:{id:"fabric.linking.request_access_pending",defaultMessage:"Pending approval",description:"Informs the user that their request to view this content is pending"},request_denied_description:{id:"fabric.linking.request_denied_description",defaultMessage:"Your admin didn't approve your request to view {product} pages from {hostname}.",description:"Informs the user that their request to view this content was denied"},access_exists_description:{id:"fabric.linking.access_exists_description",defaultMessage:"Request access to view this content from {hostname}.",description:"Informs the user to contact the website administrator to request access to a product"},not_found_description:{id:"fabric.linking.not_found_description",defaultMessage:"The page doesn't exist or it may have changed after this link was added.",description:"Error case for when a provided item is not found within the list of items"},not_found_title:{id:"fabric.linking.not_found_title",defaultMessage:"We can't show you this {product} page",description:"Error case for when a provided link is not found"},forbidden_title:{id:"fabric.linking.forbidden_title",defaultMessage:"You don't have access to this content",description:"Informs the user that they do not have access to the linked content."},forbidden_description:{id:"fabric.linking.forbidden_description",defaultMessage:"Contact your admin to request access to {hostname}.",description:"Informs the user that they must contact the site administrator for access."},related_work_items_not_found:{id:"fabric.linking.related_work_items_not_found",defaultMessage:"This link is not mentioned anywhere else.",description:"Informs the user that there are no related resources for a given url"},last_mentioned_in:{id:"fabric.linking.last_mentioned_in",defaultMessage:"Last mentioned in",description:"Informs the user about where the resource was last mentioned in"},related:{id:"fabric.linking.related",defaultMessage:"Related",description:"Informs the user about related resources"},generic_error_message:{id:"fabric.linking.generic_error_message",defaultMessage:"An error occurred",description:"A generic error message to the user"},related_links_modal_title:{id:"fabric.linking.related_links_modal_title",defaultMessage:"Recent links",description:"Shown as the title for the related links modal"},related_links_view_related_urls:{id:"fabric.linking.related_links_view_related_urls.nonfinal",defaultMessage:"View recent links...",description:"Action to view related links to the given resource"},related_links_found_in:{id:"fabric.linking.related_links_found_in",defaultMessage:"Found In",description:"Informs the user of the resources are found in the given url"},related_links_not_found:{id:"fabric.linking.related_links_not_found",defaultMessage:"We didn't find any links to show here.",description:"Informs the user that there are no related resources for the given url"},related_links_includes_links_to:{id:"fabric.linking.related_links_includes_links_to",defaultMessage:"Includes Links To",description:"Informs the user of the resources the url links to"},related_links_modal_error_header:{id:"fabric.linking.related_links_modal_error_header",defaultMessage:"Something went wrong",description:"Title for related links error"},related_links_modal_error_message:{id:"fabric.linking.related_links_modal_error_message",defaultMessage:"We ran into an issue trying to load recent links. Check your connection or refresh to try again.",description:"Informs the user that there was a problem loading related links"},related_links_modal_unavailable_header:{id:"fabric.linking.related_links_modal_unavailable_header",defaultMessage:"No recent links",description:"Title for related links being unavailable"},related_links_modal_unavailable_message:{id:"fabric.linking.related_links_modal_unavailable_message",defaultMessage:"We didn't find any links to show here. We continuously review and add recent links for updated pages or other content types.",description:"Informs the user that related links were not found but may be available in the future"}}),PFe=8,LFe=({errorMessage:e,testId:t,maxLineNumber:n=PFe,url:r,previewData:o})=>{const a=Dy(),s=Yu(),i=o&&o.src!==void 0,l=c.useCallback(()=>{r&&a(r,!0)},[a,r]),d=c.useCallback(()=>{if(i)return s==null||s.ui.smartLinkLozengeActionErrorOpenPreviewClickedEvent(),sJ({...o,analytics:s,onClose:l})},[s,l,i,o]),u=c.useMemo(()=>k(c.Fragment,null,k("div",{css:MFe},k(Us,{testId:`${t}-icon`,LEGACY_size:"medium",color:`var(--ds-icon-danger, ${yr})`,LEGACY_secondaryColor:`var(--ds-background-danger, ${Ev})`,label:"error",spacing:"spacious"}),k("span",{css:RFe(n),"data-testid":`${t}-error-message`},typeof e=="string"?e:eT(e))),i?k("div",{css:$Fe},k("a",{target:"_blank","data-testid":`${t}-open-embed`,onClick:d},k(Ue,Se.open_issue_in_jira))):null),[e,d,i,n,t]);return k("span",{css:OFe,"data-testid":`${t}-error-item-group`},k(sT,null,k(Ry,{testId:`${t}-error`},u)))},NFe=e=>t=>{const n=c.useMemo(()=>{var r;return _.createElement(Qi,{appearance:t==null?void 0:t.appearance,testId:`${(r=t==null?void 0:t.testId)!==null&&r!==void 0?r:"smart-element-lozenge-action"}-fallback`},t==null?void 0:t.text)},[t==null?void 0:t.appearance,t==null?void 0:t.testId,t==null?void 0:t.text]);return _.createElement(wy,{fallback:n},_.createElement(e,t))},FFe=e=>c.useMemo(()=>rX(e==null?void 0:e.envKey,e==null?void 0:e.baseUrlOverride),[e==null?void 0:e.baseUrlOverride,e==null?void 0:e.envKey]),mJ=e=>{const t=FFe(e),n=c.useCallback(async o=>{try{return await Cl("post",`${t}/invoke`,o,void 0,[200,201,202,203,204])}catch(a){if(a&&a.json&&typeof a.json=="function"){const s=await a.json();if(s)throw new HPe(s==null?void 0:s.error.message,s==null?void 0:s.error.status)}throw a}},[t]),r=c.useCallback(async o=>await Cl("get",`${t}/related-urls?url=${encodeURIComponent(o)}`,void 0,{"Cache-Control":"private"},[200]),[t]);return c.useMemo(()=>({invoke:n,relatedUrls:r}),[n,r])},hJ=()=>{const{connections:e}=Io(),t=mJ(e.client);return c.useCallback(async(n,r)=>{const o=await t.invoke(n);return r?r(o):o},[t])},jFe=e=>{var t,n;return((t=e==null||(n=e.transitions)===null||n===void 0?void 0:n.map(({appearance:o,id:a,name:s})=>{var i;return{appearance:(i=o)!==null&&i!==void 0?i:"default",id:a,text:s}}))!==null&&t!==void 0?t:[]).sort((o,a)=>o.appearance.localeCompare(a.appearance)||o.text.localeCompare(a.text))},VFe=(e,t)=>({providerKey:e.providerKey,action:{...e.action,payload:{newStatusId:t}}}),Hw={noData:{descriptor:Se.status_change_permission_error},unknown:{descriptor:Se.status_change_load_error},updateFailed:{descriptor:Se.status_change_update_error}},BFe=e=>{if(!gJ(e))return Rw.UnknownError;switch(e==null?void 0:e.errorCode){case 403:return Rw.PermissionError;default:return Rw.UnknownError}},gJ=e=>(e==null?void 0:e.message)!==void 0&&(e==null?void 0:e.errorCode)!==void 0,UFe={smartLinkActionType:"StatusUpdate",reason:"UnknownError",step:"load"},HFe={smartLinkActionType:"StatusUpdate",reason:"PermissionError",step:"load"},zFe={smartLinkActionType:"StatusUpdate",reason:"UnknownError",step:"update"},WFe={smartLinkActionType:"StatusUpdate",reason:"ValidationError",step:"update"},GFe=({appearance:e,id:t,onClick:n,testId:r,text:o})=>{const a=c.useCallback(i=>{i.stopPropagation(),n&&n(t,o,e)},[e,t,n,o]),s=c.useCallback(i=>{var l,d;(l=i.currentTarget)===null||l===void 0||(d=l.firstElementChild)===null||d===void 0||d.focus()},[]);return _.createElement("span",{onMouseEnter:s},_.createElement(Ry,{onClick:a,testId:r},_.createElement(Qi,{appearance:e},o)))},qFe=({items:e,testId:t,onClick:n})=>k("span",{css:AFe,"data-testid":`${t}-item-group`},k(sT,null,e.map((r,o)=>k(GFe,H({},r,{key:o,onClick:n,testId:`${t}-item-${o}`}))))),YFe=(e=[],t)=>e.filter(n=>n.text!==t),KFe=({action:e,appearance:t,testId:n="smart-element-lozenge-action",text:r,zIndex:o})=>{var a;const[s,i]=c.useState({appearance:t,text:r}),[l,d]=c.useState(!1),[u,f]=c.useState(!1),[p,m]=c.useState(!1),[g,v]=c.useState(),[b,y]=c.useState(),E=Dy(),w=Yu(),C=hJ();c.useEffect(()=>{i({text:r,appearance:t})},[r,t]);const{url:x,id:S,previewData:I}=(e==null||(a=e.update)===null||a===void 0?void 0:a.details)||{},A=c.useCallback(async $=>{if(m($.isOpen),$.isOpen&&(w==null||w.ui.smartLinkLozengeActionClickedEvent(),w==null||w.track.smartLinkQuickActionStarted({smartLinkActionType:x9.StatusUpdate}),!l&&e!==null&&e!==void 0&&e.read))try{f(!0);const L=await C(e.read,jFe),F=typeof r=="string"?YFe(L,r):L;v(F),d(!0),(F==null?void 0:F.length)===0&&(w==null||w.track.smartLinkQuickActionFailed(HFe),y(Hw.noData),d(!1))}catch{y(Hw.unknown),d(!1),w==null||w.track.smartLinkQuickActionFailed(UFe)}finally{f(!1)}$.isOpen||y(void 0)},[e.read,w,C,l,r]),T=c.useCallback($=>k(DFe,H({},$,{appearance:s.appearance,isOpen:p,testId:n,text:s.text})),[s.appearance,s.text,p,n]),O=c.useCallback(async($,L,F)=>{try{w==null||w.ui.smartLinkLozengeActionListItemClickedEvent();const B=e==null?void 0:e.update;if(B&&$){f(!0);const V=VFe(B,$);await C(V),i({appearance:F,text:L}),f(!1),d(!1),m(!1),v([]),w==null||w.track.smartLinkQuickActionSuccess({smartLinkActionType:x9.StatusUpdate}),x&&await E(x,!0,void 0,S)}}catch(B){f(!1),gJ(B)?(y(B.message),w==null||w.track.smartLinkQuickActionFailed(WFe)):(y(Hw.updateFailed),w==null||w.track.smartLinkQuickActionFailed(zFe))}},[e==null?void 0:e.update,w,C,S,E,x]),D=c.useMemo(()=>{if(b)return k(LFe,{errorMessage:b,testId:n,url:x,previewData:I});if(g&&g.length>0)return k(qFe,{testId:n,items:g,onClick:O})},[b,O,g,I,n,x]);return k(rT,{isLoading:u,isOpen:p,onOpenChange:A,testId:n,trigger:T,zIndex:o},D)},XFe=NFe(KFe),JFe=M({display:"inline-flex",lineHeight:"inherit"}),N9=({action:e,appearance:t="default",name:n,overrideCss:r,style:o,text:a,testId:s="smart-element-lozenge"})=>{const i=X4();if(!a)return null;const l=e?k(XFe,{action:e,appearance:t,testId:s,text:a,zIndex:i==null?void 0:i.zIndex}):k(Qi,{appearance:t,style:o,testId:`${s}-lozenge`},a);return k("span",{css:[JFe,r],"data-fit-to-content":!0,"data-smart-element":n,"data-smart-element-lozenge":!0,"data-testid":s},l)},ZFe=M({alignItems:"center",display:"inline-flex",minWidth:"fit-content"}),QFe=M`
	color: ${"var(--ds-icon-subtle, #626F86)"};
	line-height: 0;
	vertical-align: middle;
	${Wh("1rem")}
	img,
  span,
  svg {
		line-height: 0;
		vertical-align: middle;
	}
`,eje=M({color:"var(--ds-text-subtlest, #626F86)",fontSize:"0.75rem",lineHeight:"1rem",paddingLeft:"var(--ds-space-025, 0.125rem)",verticalAlign:"middle"}),tje={[Ce.PriorityBlocker]:Se.priority_blocker,[Ce.PriorityCritical]:Se.priority_critical,[Ce.PriorityHigh]:Se.priority_high,[Ce.PriorityHighest]:Se.priority_highest,[Ce.PriorityLow]:Se.priority_low,[Ce.PriorityLowest]:Se.priority_lowest,[Ce.PriorityMajor]:Se.priority_major,[Ce.PriorityMedium]:Se.priority_medium,[Ce.PriorityMinor]:Se.priority_minor,[Ce.PriorityTrivial]:Se.priority_trivial,[Ce.PriorityUndefined]:Se.priority_undefined},nje=e=>{if(e){const t=tje[e];if(t)return eT({descriptor:t})}},rje=(e,t)=>{if(e)return k(eJ,{icon:e,label:e,testId:`${t}-icon`})},oje=(e,t)=>{if(e)return k(Q4,{testId:t,url:e})},Do=({hideIcon:e=!1,icon:t,label:n,name:r,overrideCss:o,testId:a="smart-element-badge",url:s})=>{const i=nje(t)||n,l=rje(t,a)||oje(s,a);return!i||!l?null:k("span",{css:[ZFe,o],"data-fit-to-content":!0,"data-smart-element":r,"data-smart-element-badge":!0,"data-testid":a},!e&&k("span",{css:QFe},l),k("span",{css:eje,"data-testid":`${a}-label`},i))},aje=c.createContext(void 0),sje=()=>c.useContext(aje),ije={as:"span",appearance:"circle",avatarImage:null,ref:null,size:"medium"},vJ=c.createContext(ije),lje=()=>c.useContext(vJ),bJ=c.createContext(!1),cje=()=>{if(!c.useContext(bJ))throw new Error("Avatar sub-components must be used within a Avatar component.")},yJ="--avatar-box-shadow",EJ="--avatar-bg-color",xf={root:M({display:"flex",boxSizing:"content-box",position:"static",alignItems:"stretch",justifyContent:"center",flexDirection:"column",backgroundColor:`var(${EJ})`,border:"none",boxShadow:`var(${yJ})`,cursor:"inherit",marginBlockEnd:"var(--ds-space-025, 2px)",marginBlockStart:"var(--ds-space-025, 2px)",marginInlineEnd:"var(--ds-space-025, 2px)",marginInlineStart:"var(--ds-space-025, 2px)",outline:"none",overflow:"hidden",paddingBlockEnd:"var(--ds-space-0, 0px)",paddingBlockStart:"var(--ds-space-0, 0px)",paddingInlineEnd:"var(--ds-space-0, 0px)",paddingInlineStart:"var(--ds-space-0, 0px)",transform:"translateZ(0)",transition:"transform 200ms, opacity 200ms","&::after":{width:"100%",position:"absolute",inset:"var(--ds-space-0, 0px)",backgroundColor:"transparent",content:"' '",opacity:0,pointerEvents:"none",transition:"opacity 200ms"},"&:focus-visible":{boxShadow:"none",outlineColor:"var(--ds-border-focused, #2684FF)",outlineOffset:"var(--ds-border-width-outline, 2px)",outlineStyle:"solid",outlineWidth:"var(--ds-border-width-outline, 2px)"},"@media screen and (forced-colors: active), screen and (-ms-high-contrast: active)":{"&:focus-visible":{outlineWidth:"var(--ds-border-width, 1px)"}}}),circle:M({borderRadius:"var(--ds-border-radius-circle, 50%)","&::after":{borderRadius:"var(--ds-border-radius-circle, 50%)"}}),positionRelative:M({position:"relative"}),interactive:M({cursor:"pointer","&:hover":{"&::after":{backgroundColor:`var(--ds-interaction-hovered, ${zO})`,opacity:1}},"&:active":{transform:"scale(0.9)","&::after":{backgroundColor:`var(--ds-interaction-pressed, ${zO})`,opacity:1}},"@media screen and (forced-colors: active)":{"&:focus-visible":{outlineWidth:1}}}),disabled:M({cursor:"not-allowed","&::after":{backgroundColor:`var(--ds-surface, ${Ve})`,opacity:"var(--ds-opacity-disabled, 0.7)"}})},dje={xsmall:M({width:"16px",height:"16px"}),small:M({width:"24px",height:"24px"}),medium:M({width:"32px",height:"32px"}),large:M({width:"40px",height:"40px"}),xlarge:M({width:"96px",height:"96px"}),xxlarge:M({width:"128px",height:"128px"})},uje={xsmall:M({borderRadius:"2px","&::after":{borderRadius:"2px"}}),small:M({borderRadius:"2px","&::after":{borderRadius:"2px"}}),medium:M({borderRadius:"3px","&::after":{borderRadius:"3px"}}),large:M({borderRadius:"3px","&::after":{borderRadius:"3px"}}),xlarge:M({borderRadius:"6px","&::after":{borderRadius:"6px"}}),xxlarge:M({borderRadius:"12px","&::after":{borderRadius:"12px"}})},fje=c.forwardRef(({children:e},t)=>{cje();const{as:n,appearance:r,avatarImage:o,borderColor:a=Pe("platform-component-visual-refresh")?"var(--ds-surface, #FFFFFF)":`var(--ds-surface-overlay, ${Ve})`,href:s,isDisabled:i,label:l,onClick:d,ref:u,tabIndex:f,target:p,testId:m,size:g,stackIndex:v}=lje(),b=!!(d||s||i);return k(n,H({css:[xf.root,uje[g],r==="circle"&&xf.circle,dje[g],v!==void 0&&xf.positionRelative,b&&!i&&xf.interactive,i&&xf.disabled],style:{[EJ]:a,[yJ]:`0 0 0 2px ${a}`},ref:t||u,"aria-label":b?l:void 0,onClick:d,tabIndex:f,"data-testid":m,disabled:i,type:n==="button"?"button":void 0},s&&{href:s,target:p,rel:p==="_blank"?"noopener noreferrer":void 0}),e||o)});var iT={},Py={};Object.defineProperty(Py,"__esModule",{value:!0});Py.default=void 0;var pje=wJ(c),mje=je,hje=wJ(mh);function wJ(e){return e&&e.__esModule?e:{default:e}}const CJ=e=>pje.default.createElement(mje.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><path d="M6 14c0-1.105.902-2 2.009-2h7.982c1.11 0 2.009.894 2.009 2.006v4.44c0 3.405-12 3.405-12 0z"/><circle cx="12" cy="7" r="4"/></g></svg>'},e,{newIcon:hje.default}));CJ.displayName="PersonIcon";Py.default=CJ;Object.defineProperty(iT,"__esModule",{value:!0});var _J=iT.default=void 0,gje=lT(c),vje=lT(mh),bje=lT(Py);function lT(e){return e&&e.__esModule?e:{default:e}}const xJ=e=>gje.default.createElement(vje.default,Object.assign({LEGACY_fallbackIcon:bje.default},e));xJ.Name="PersonIconMigration";_J=iT.default=xJ;var cT={},Gh={};Object.defineProperty(Gh,"__esModule",{value:!0});var SJ=Gh.default=void 0,yje=kJ(c),Eje=kJ(Oe);function kJ(e){return e&&e.__esModule?e:{default:e}}const IJ=e=>yje.default.createElement(Eje.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" d="M.75 7.75V7a.75.75 0 0 0-.75.75zm14.5 0 .646.382A.75.75 0 0 0 15.25 7zm-12.5-3V4a.75.75 0 0 0-.75.75zm6.25 0 .648-.378A.75.75 0 0 0 9 4zm-4.25-2V2H4v.75zm1.5 0H7V2h-.75zm6.113 9.886.646.382zm2.241-5.268-2.887 4.886 1.292.764 2.887-4.886zM11.287 12.5H2V14h9.287zM1.5 12V7.75H0V12zM.75 8.5h2V7h-2zm2.75-.75v-3H2v3zm-.75.75h8V7h-8zm8 0h4.5V7h-4.5zM8.352 5.128l1.75 3 1.296-.756-1.75-3zM2.75 5.5h2V4h-2zm2.75-.75v-2H4v2zM4.75 3.5h1.5V2h-1.5zm0 2h1.5V4h-1.5zm1.5 0H9V4H6.25zM5.5 2.75v2H7v-2zM2 12.5a.5.5 0 0 1-.5-.5H0a2 2 0 0 0 2 2zm9.717-.246a.5.5 0 0 1-.43.246V14a2 2 0 0 0 1.722-.982z"/>'},e));IJ.displayName="ReleaseIcon";SJ=Gh.default=IJ;var Ly={};Object.defineProperty(Ly,"__esModule",{value:!0});Ly.default=void 0;var wje=TJ(c),Cje=je,_je=TJ(Gh);function TJ(e){return e&&e.__esModule?e:{default:e}}const AJ=e=>wje.default.createElement(Cje.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><path fill-rule="nonzero" d="M6 12h8v-2H6zM4 8.99C4 8.445 4.456 8 5.002 8h9.996C15.55 8 16 8.451 16 8.99V14H4z"/><path d="M6 7.005C6 5.898 6.898 5 7.998 5h2.004C11.106 5 12 5.894 12 7.005V10H6zm4 0V7H7.999c.005 0 .002.003.002.005V8h2z"/><path fill-rule="nonzero" d="M4.5 17h13.994l1.002-3H4.14zm-2.495-4.012A.862.862 0 0 1 2.883 12h18.393c.55 0 .857.417.681.944l-1.707 5.112c-.174.521-.758.944-1.315.944H3.725a1.15 1.15 0 0 1-1.118-.988z"/></g></svg>'},e,{newIcon:_je.default}));AJ.displayName="ShipIcon";Ly.default=AJ;Object.defineProperty(cT,"__esModule",{value:!0});var DJ=cT.default=void 0,xje=dT(c),Sje=dT(Gh),kje=dT(Ly);function dT(e){return e&&e.__esModule?e:{default:e}}const OJ=e=>xje.default.createElement(Sje.default,Object.assign({LEGACY_fallbackIcon:kje.default},e));OJ.Name="ReleaseIconMigration";DJ=cT.default=OJ;const Ije={xsmall:gt()*2,small:gt()*3,medium:gt()*4,large:gt()*5,xlarge:gt()*12,xxlarge:gt()*16},Tje={xsmall:2,small:2,medium:3,large:3,xlarge:6,xxlarge:12},Aje=2,vb={small:12,medium:14,large:15,xlarge:18},MJ={small:0,medium:0,large:1,xlarge:7},Dje=M({display:"flex",width:"100%",height:"100%",backgroundColor:`var(--ds-icon-subtle, ${Wa})`}),Oje=M({display:"flex",width:"100%",height:"100%",backgroundColor:"var(--ds-background-accent-gray-subtler, #DCDFE4)"}),Mje=Object.entries(Ije).reduce((e,[t,n])=>({...e,[t]:M({"& svg":{width:`${n}px`,height:`${n}px`}})}),{}),$je=M({display:"flex",width:"100%",height:"100%",flex:"1 1 100%"}),Rje=({alt:e="",src:t,appearance:n,size:r,testId:o})=>{const[a,s]=c.useState(!1),i=n==="circle"?"50%":`${Tje[r]}px`,l=e?void 0:!0;return c.useEffect(()=>{s(!1)},[t]),!t||a?k("span",{css:[Pe("platform-component-visual-refresh")?Oje:Dje,Mje[r]]},n==="circle"?Pe("platform-component-visual-refresh")?k(gI,{label:e,color:"var(--ds-icon-subtle, #626F86)",testId:o&&`${o}--person`,spacing:"spacious"}):k(_J,{label:e,color:`var(--ds-icon-inverse, ${Ve})`,LEGACY_secondaryColor:`var(--ds-icon-subtle, ${Wa})`,testId:o&&`${o}--person`,spacing:"spacious"}):Pe("platform-component-visual-refresh")?k(SJ,{label:e,color:"var(--ds-icon-subtle, #626F86)",testId:o&&`${o}--ship`,spacing:"spacious"}):k(DJ,{label:e,color:`var(--ds-icon-inverse, ${Ve})`,LEGACY_secondaryColor:`var(--ds-icon-subtle, ${Wa})`,testId:o&&`${o}--ship`,spacing:"spacious"})):k("img",{src:t,alt:e,"data-testid":o&&`${o}--image`,css:$je,style:{borderRadius:i},onError:()=>s(!0),"aria-hidden":l,"data-vc":o?`${o}--image`:"avatar-image","data-ssr-placeholder-ignored":!0})},Pje=M({display:"flex",boxSizing:"border-box",width:"100%",height:"100%",alignItems:"center",alignContent:"center",borderRadius:"var(--ds-border-radius-circle, 50%)",overflow:"hidden"}),$J=({bgColor:e=`var(--ds-surface-overlay, ${Ve})`,children:t})=>k("span",{css:Pje,role:"presentation",style:{border:`${Aje}px solid ${e}`,backgroundColor:e}},t),Lje=_.createElement(c.Fragment,null,_.createElement("circle",{fill:`var(--ds-icon-danger, ${Er})`,cx:"4",cy:"4",r:"4"}),_.createElement("path",{fill:`var(--ds-surface-overlay, ${Ve})`,d:"M3.3,1.9l2.8,2.8c0.2,0.2,0.2,0.5,0,0.7L5.4,6.1c-0.2,0.2-0.5,0.2-0.7,0L1.9,3.3c-0.2-0.2-0.2-0.5,0-0.7l0.7-0.7C2.8,1.7,3.1,1.7,3.3,1.9z"})),Nje=_.createElement(c.Fragment,null,_.createElement("path",{fill:`var(--ds-icon-discovery, ${uF})`,d:"M4,8 C1.790861,8 0,6.209139 0,4 C0,1.790861 1.790861,0 4,0 C6.209139,0 8,1.790861 8,4 C8,6.209139 6.209139,8 4,8 Z M4,6.66666667 C5.47275933,6.66666667 6.66666667,5.47275933 6.66666667,4 C6.66666667,2.52724067 5.47275933,1.33333333 4,1.33333333 C2.52724067,1.33333333 1.33333333,2.52724067 1.33333333,4 C1.33333333,5.47275933 2.52724067,6.66666667 4,6.66666667 Z M4,5.33333333 C3.26362033,5.33333333 2.66666667,4.73637967 2.66666667,4 C2.66666667,3.26362033 3.26362033,2.66666667 4,2.66666667 C4.73637967,2.66666667 5.33333333,3.26362033 5.33333333,4 C5.33333333,4.73637967 4.73637967,5.33333333 4,5.33333333 Z"})),Fje=_.createElement(c.Fragment,null,_.createElement("path",{fill:`var(--ds-text-subtlest, ${jt})`,d:"M4,8 C6.209139,8 8,6.209139 8,4 C8,1.790861 6.209139,0 4,0 C1.790861,0 0,1.790861 0,4 C0,6.209139 1.790861,8 4,8 Z M4,6 C5.1045695,6 6,5.1045695 6,4 C6,2.8954305 5.1045695,2 4,2 C2.8954305,2 2,2.8954305 2,4 C2,5.1045695 2.8954305,6 4,6 Z"}),_.createElement("path",{fill:`var(--ds-surface-overlay, ${Ut})`,d:"M4,6 C5.1045695,6 6,5.1045695 6,4 C6,2.8954305 5.1045695,2 4,2 C2.8954305,2 2,2.8954305 2,4 C2,5.1045695 2.8954305,6 4,6 Z"})),jje=_.createElement("circle",{fill:`var(--ds-icon-success, ${fF})`,cx:"4",cy:"4",r:"4"});function Vje(e){switch(e){case"busy":return Lje;case"focus":return Nje;case"offline":return Fje;case"online":return jje}}const Bje=({borderColor:e,children:t,presence:n})=>_.createElement($J,{bgColor:e},n?_.createElement("svg",{height:"100%",version:"1.1",viewBox:"0 0 8 8",width:"100%",xmlns:"http://www.w3.org/2000/svg"},Vje(n)):t),Uje=({size:e,appearance:t,children:n,borderColor:r,presence:o,testId:a})=>{const s=t==="square"?-4:MJ[e];return _.createElement("span",{"aria-hidden":"true","data-testid":a&&`${a}--presence`,style:{pointerEvents:"none",position:"absolute",bottom:`${s}px`,height:`${vb[e]}px`,right:`${s}px`,width:`${vb[e]}px`}},_.createElement(Bje,{borderColor:r,presence:n?void 0:o},n))},Hje=_.createElement(c.Fragment,null,_.createElement("circle",{fill:`var(--ds-icon-success, ${Ds})`,cx:"4",cy:"4",r:"4"}),_.createElement("path",{fill:`var(--ds-surface-overlay, ${Ve})`,d:"M2.47140452,3.52859548 C2.21105499,3.26824595 1.78894501,3.26824595 1.52859548,3.52859548 C1.26824595,3.78894501 1.26824595,4.21105499 1.52859548,4.47140452 L2.86192881,5.80473785 C3.12227834,6.06508738 3.54438833,6.06508738 3.80473785,5.80473785 L6.47140452,3.13807119 C6.73175405,2.87772166 6.73175405,2.45561167 6.47140452,2.19526215 C6.21105499,1.93491262 5.78894501,1.93491262 5.52859548,2.19526215 L3.33333333,4.39052429 L2.47140452,3.52859548 Z"})),zje=_.createElement(c.Fragment,null,_.createElement("circle",{fill:`var(--ds-icon-danger, ${bn})`,cx:"4",cy:"4",r:"4"}),_.createElement("path",{fill:`var(--ds-surface-overlay, ${Ve})`,d:"M4.890661,4.0088336 L5.81806461,3.07802178 C6.06167933,2.83351177 6.06048933,2.43826992 5.81540668,2.19522442 C5.57032402,1.95217891 5.17415651,1.95336612 4.93054179,2.19787613 L4.00765946,3.12415007 L3.06906871,2.18377143 C2.82523777,1.93947602 2.42906937,1.93863765 2.18420182,2.18189887 C1.93933427,2.42516008 1.93849394,2.82040282 2.18232488,3.06469822 L3.12544091,4.00961077 L2.20275024,4.93569234 C1.95913552,5.18020236 1.96032551,5.5754442 2.20540817,5.81848971 C2.45049083,6.06153521 2.84665833,6.060348 3.09027306,5.81583799 L4.00844245,4.89429431 L4.9092123,5.79678001 C5.15304324,6.04107541 5.54921164,6.04191379 5.79407919,5.79865257 C6.03894674,5.55539135 6.03978708,5.16014862 5.79595614,4.91585321 L4.890661,4.0088336 Z"})),Wje=_.createElement(c.Fragment,null,_.createElement("circle",{fill:`var(--ds-text-subtlest, ${Ut})`,cx:"4",cy:"4",r:"4"}),_.createElement("path",{fill:`var(--ds-surface-overlay, ${rn})`,d:"M4.13074827,1.21766493 L4.10368158,1.21766493 C3.36340745,1.21766493 2.76388015,1.80793503 2.76388015,2.5367787 L2.76388015,3.21632216 L3.44054754,3.21632216 L3.44054754,2.54344089 C3.44054754,2.17901906 3.74031119,1.88388401 4.11044825,1.88388401 L4.1239816,1.88388401 C4.49411866,1.88388401 4.79388232,2.17901906 4.79388232,2.54344089 L4.79388232,3.21632216 L5.47054971,3.21632216 L5.47054971,2.5367787 C5.47054971,1.80793503 4.8710224,1.21766493 4.13074827,1.21766493 M2.76388015,3.21632216 L3.44054754,3.21632216 L3.44054754,3.88254123 L2.76388015,3.88254123 L2.76388015,3.21632216 Z M4.79388232,3.21632216 L5.47054971,3.21632216 L5.47054971,3.88254123 L4.79388232,3.88254123 L4.79388232,3.21632216 Z M4.79401765,3.88254123 L3.44068287,3.88254123 L2.76401548,3.88254123 C2.39049508,3.88254123 2.08734809,4.18100738 2.08734809,4.54876031 L2.08734809,5.54808892 C2.08734809,6.10000287 2.53735205,6.54741753 3.09094491,6.54741753 L5.14375561,6.54741753 C5.69802683,6.54741753 6.14735243,6.10385072 6.14735243,5.54808892 L6.14735243,4.54876031 C6.14735243,4.18100738 5.84420544,3.88254123 5.47068504,3.88254123 L4.79401765,3.88254123 Z"}));function Gje(e){switch(e){case"approved":return Hje;case"declined":return zje;case"locked":return Wje}}const qje=({borderColor:e,children:t,status:n})=>_.createElement($J,{bgColor:e},n?_.createElement("svg",{height:"100%",version:"1.1",viewBox:"0 0 8 8",width:"100%",xmlns:"http://www.w3.org/2000/svg"},Gje(n)):t),Yje=({size:e,status:t,appearance:n,borderColor:r,children:o,testId:a})=>{const s=n==="square"?0:MJ[e];return _.createElement("span",{"aria-hidden":"true","data-testid":a&&`${a}--status`,style:{position:"absolute",height:`${vb[e]}px`,right:`${s}px`,top:`${s}px`,width:`${vb[e]}px`}},_.createElement(qje,{borderColor:r,status:o?void 0:t},o))},Kje=(e,t,n)=>t&&!e?"a":n||e?"button":"span",F9="@atlaskit/avatar",j9="23.0.0",Xje=M({display:"inline-block",position:"relative",outline:0}),$i=c.forwardRef(({analyticsContext:e,appearance:t="circle",label:n,borderColor:r,children:o,href:a,isDisabled:s,name:i,onClick:l,presence:d,size:u,src:f,stackIndex:p,status:m,target:g,testId:v,as:b="div"},y)=>{const{createAnalyticsEvent:E}=lce(),w=sje(),C=u||(w==null?void 0:w.size)||"medium",x=c.isValidElement(d)?d:null,S=c.isValidElement(m)?m:null,I=C!=="xxlarge"&&C!=="xsmall",A=c.useRef(e),T=QS();c.useEffect(()=>{A.current=e},[e]);const O=c.useCallback(V=>{if(s||typeof l!="function")return;const Y=E({action:"clicked",actionSubject:"avatar",attributes:{componentName:"avatar",packageName:F9,packageVersion:j9}}),J={componentName:"avatar",packageName:F9,packageVersion:j9,...A.current};Y.context.push(J);const z=Y.clone();z&&z.fire("atlaskit"),l(V,Y)},[E,s,l]),D=I&&d&&!m,$=I&&m,L=[i,$&&!S&&`(${m})`,D&&!x&&`(${d})`].filter(Boolean).join(" "),F=l||a||s,B=!!(!F&&L);return k(bJ.Provider,{value:!0},k(b,{"data-testid":v,role:B?"img":void 0,"aria-labelledby":B?T:void 0,css:Xje,style:{zIndex:p}},k(vJ.Provider,{value:{as:Kje(s,a,l),appearance:t,borderColor:r,href:a,isDisabled:s,label:n||L,onClick:F?O:void 0,ref:y,size:C,stackIndex:p,target:g,testId:v?`${v}--inner`:void 0,avatarImage:k(Rje,{alt:!B&&f?i:void 0,src:f,appearance:t,size:C,testId:v})}},o||k(fje,null)),D&&k(Uje,{appearance:t,size:C,presence:typeof d=="string"?d:void 0,testId:v},x),$&&k(Yje,{appearance:t,size:C,borderColor:r,status:typeof m=="string"?m:void 0,testId:v},S),B?k("span",{"data-testid":v&&`${v}--label`,id:T,hidden:!0},L):void 0))});$i.displayName="Avatar";function Jje(){const[e,t]=c.useState(!1),n=c.useRef({onFocus:()=>t(!0),onBlur:()=>t(!1)});return c.useEffect(()=>()=>t(!1),[]),{isFocused:e,bindFocus:n.current}}function Ku(e,t,n,r){typeof process<"u"}const RJ=c.createContext("cozy"),PJ=c.createContext("border"),Zje=(e,t)=>k(e,t),V9=M({display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}),Qje=ie({outline:"none",overflow:"hidden",textAlign:"left"}),B9=M({display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),eVe=M({font:'var(--ds-font-body, normal 400 14px/20px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),U9=M({wordBreak:"break-word"}),tVe=M({color:`var(--ds-text-subtlest, ${jt})`,font:'var(--ds-font-body-UNSAFE_small, normal 400 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),nVe=M({color:`var(--ds-text-disabled, ${jt})`}),rVe=M({position:"relative"}),oVe=M({display:"flex",boxSizing:"border-box",width:"100%",minHeight:40,margin:"var(--ds-space-0, 0px)",alignItems:"center",border:0,outline:0,textDecoration:"none",userSelect:"none","&::-moz-focus-inner":{border:0},"&:hover":{textDecoration:"none"}}),aVe={cozy:M({paddingBlock:"var(--ds-space-100, 8px)",paddingInline:"var(--ds-space-200, 16px)"}),compact:M({minHeight:32,paddingBlock:"var(--ds-space-050, 4px)",paddingInline:"var(--ds-space-150, 12px)"})},sVe=M({cursor:"pointer"}),iVe=M({backgroundColor:"var(--ds-background-neutral-subtle, transparent)",color:"currentColor","&:visited":{color:"currentColor"},"&:hover":{backgroundColor:`var(--ds-background-neutral-subtle-hovered, ${Ke})`,color:"currentColor"},"&:active":{backgroundColor:`var(--ds-background-neutral-subtle-pressed, ${Dt})`,boxShadow:"none",color:"currentColor"}}),lVe=M({cursor:"not-allowed","&, :hover, :active":{backgroundColor:"var(--ds-background-neutral-subtle, transparent)",color:`var(--ds-text-disabled, ${jt})`}}),cVe=M({"&::before":{width:2,position:"absolute",background:"var(--ds-border-selected, transparent)",content:'""',insetBlockEnd:0,insetBlockStart:0,insetInlineStart:0}}),dVe=M({"&::before":{width:4,position:"absolute",background:"var(--ds-border-selected, transparent)",borderRadius:"0 var(--ds-border-radius, 4px) var(--ds-border-radius, 4px) 0",content:'""',insetBlockEnd:"var(--ds-space-150, 12px)",insetBlockStart:"var(--ds-space-150, 12px)",insetInlineStart:0}}),uVe=M({backgroundColor:`var(--ds-background-selected, ${Ke})`,color:"var(--ds-text-selected, currentColor)","&:visited":{color:"var(--ds-text-selected, currentColor)"},"&:hover":{backgroundColor:`var(--ds-background-selected-hovered, ${Ke})`,color:"var(--ds-text-selected, currentColor)"},"&:active":{backgroundColor:`var(--ds-background-selected-pressed, ${Dt})`,color:"var(--ds-text-selected, currentColor)"}}),fVe={compact:"space.100",cozy:"space.150"},uT=({children:e,title:t,description:n,iconAfter:r,iconBefore:o,overrides:a,className:s,shouldTitleWrap:i=!1,shouldDescriptionWrap:l=!1,isDisabled:d=!1,isSelected:u=!1,testId:f})=>{Ku("@atlaskit/menu","overrides",a!==void 0,"");const p=c.useContext(RJ),m=c.useContext(PJ),g=a&&a.Title&&a.Title.render||Zje,v=s;return k(js,null,({css:b,cx:y})=>k(u1,{isInset:!0},e({className:y([b([rVe,oVe,aVe[p],!d&&!u&&iVe,!d&&u&&[uVe,[m==="border"&&cVe,m==="notch"&&dVe]],d?lVe:sVe]),v]),children:k(Me,{as:"span",spread:"space-between",alignBlock:"center",space:fVe[p],grow:"fill",testId:f&&`${f}--container`},o&&k("span",{"data-item-elem-before":!0,css:V9,"data-testid":f&&`${f}--icon-before`},o),t&&k(Rt,{alignBlock:"center",grow:"fill",xcss:Qje},g("span",{children:t,className:b(eVe,i?U9:B9),"data-item-title":!0}),n&&k("span",{"data-item-description":!0,css:[tVe,d&&nVe,l?U9:B9]},n)),r&&k("span",{"data-item-elem-after":!0,css:V9,"data-testid":f&&`${f}--icon-after`},r))})))},pVe=c.memo(c.forwardRef((e,t)=>{const{children:n,cssFn:r=nn,description:o,iconAfter:a,iconBefore:s,isDisabled:i=!1,isSelected:l=!1,onClick:d,testId:u,overrides:f,onMouseDown:p,shouldTitleWrap:m,shouldDescriptionWrap:g,className:v,interactionName:b,...y}=e,E=p,w=c.useContext(cu),C=c.useCallback(x=>{w==null||w.tracePress(b,x.timeStamp),d==null||d(x)},[d,w,b]);return n?(Ku("@atlaskit/menu","cssFn",r!==nn,""),k(uT,H({className:v},y,{overrides:f,iconBefore:s,iconAfter:a,isDisabled:i,isSelected:l,description:o,title:n,shouldTitleWrap:m,shouldDescriptionWrap:g,css:r({isSelected:l,isDisabled:i}),testId:u&&`${u}--primitive`}),({children:x,className:S})=>k("button",H({"data-testid":u},y,{className:S,ref:t,disabled:i,onClick:Pe("platform_button_item-add-ufo-metrics")?C:d,onMouseDown:E,type:"button"}),x))):null})),mVe=/^(?:(http|https):\/\/)/,hVe=/^(((mailto|tel|sms):)|(#))/,zw=e=>{e.preventDefault()},gVe=c.memo(c.forwardRef((e,t)=>{const{children:n,href:r,cssFn:o=nn,description:a,iconAfter:s,iconBefore:i,isDisabled:l=!1,isSelected:d=!1,onClick:u,testId:f,overrides:p,onMouseDown:m,shouldTitleWrap:g,shouldDescriptionWrap:v,className:b,UNSAFE_shouldDisableRouterLink:y,UNSAFE_isDraggable:E,interactionName:w,...C}=e,x=m,S=cce(),I=c.useContext(cu),A=c.useCallback(F=>{I==null||I.tracePress(w,F.timeStamp),u==null||u(F)},[u,I,w]);if(!n)return null;const T=typeof r=="string"&&mVe.test(r),O=typeof r=="string"&&hVe.test(r),D=r==null||r==="",$=!y&&S&&!T&&!O&&!D,L=$?S:"a";return Ku("@atlaskit/menu","cssFn",o!==nn,""),k(uT,H({},C,{className:b,overrides:p,iconBefore:i,iconAfter:s,isSelected:d,isDisabled:l,description:a,shouldTitleWrap:g,shouldDescriptionWrap:v,css:o({isSelected:d,isDisabled:l}),title:n,testId:f&&`${f}--primitive`}),({children:F,className:B})=>k(L,H({"data-testid":f,"data-is-router-link":f?$?"true":"false":void 0,"data-vc":"link-item"},C,{className:B,href:l?void 0:r},E?{}:{draggable:!1,onDragStart:zw},{onMouseDown:l?zw:x,onClick:l?zw:Pe("platform_button_item-add-ufo-metrics")?A:u,"aria-current":d?"page":void 0,"aria-disabled":l,ref:t}),F))})),Ww=e=>{e.preventDefault()},vVe=c.memo(c.forwardRef(({component:e,cssFn:t=nn,isDisabled:n=!1,isSelected:r=!1,onClick:o,testId:a,children:s,description:i,iconAfter:l,iconBefore:d,overrides:u,onMouseDown:f,shouldTitleWrap:p,shouldDescriptionWrap:m,className:g,UNSAFE_isDraggable:v,interactionName:b,...y},E)=>{const w=f,C=c.useContext(cu),x=c.useCallback(S=>{C==null||C.tracePress(b,S.timeStamp),o==null||o(S)},[o,C,b]);return e?(Ku("@atlaskit/menu","cssFn",t!==nn,""),k(uT,H({className:g},y,{overrides:u,description:i,iconAfter:l,title:s,iconBefore:d,isSelected:r,isDisabled:n,shouldTitleWrap:p,shouldDescriptionWrap:m,css:M(t({isDisabled:n,isSelected:r})),testId:a&&`${a}--primitive`}),({children:S,className:I})=>k(e,H({"data-testid":a},y,{className:I,ref:E},v?{}:{draggable:!1,onDragStart:Ww},{onMouseDown:n?Ww:w,onClick:n?Ww:Pe("platform_button_item-add-ufo-metrics")?x:o,tabIndex:n?-1:void 0,"aria-disabled":n}),S))):null})),bVe=M({color:`var(--ds-text-subtle, ${Vn})`,font:'var(--ds-font-heading-xxsmall, normal 600 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)',paddingBlock:"var(--ds-space-0, 0px)",paddingInline:"var(--ds-space-200, 16px)"}),yVe=c.memo(({children:e,testId:t,headingLevel:n=2,id:r,cssFn:o=nn,className:a,...s})=>{Ku("@atlaskit/menu","cssFn",o!==nn,"");const i=M(o(void 0));return k("div",H({css:[bVe,i],role:"heading","aria-level":n,"data-testid":t,"data-ds--menu--heading-item":!0,id:r,className:a},s),e)}),Ny=8,Ax=Ny*2.5,LJ=Ny*.75,EVe=16,wVe=Ny,NJ=3,H9=Ax+(EVe-wVe)-NJ,CVe=LJ+NJ,Gw=Ny*.75,_Ve="--ds-menu-seperator-color",xVe=M({"&::before, &::after":{display:"block",height:Gw,content:'""'},"& [data-ds--menu--heading-item]":{marginBlockEnd:LJ,marginBlockStart:Ax,"&:first-of-type":{marginBlockStart:Ax-Gw}},"& [data-ds--menu--skeleton-heading-item]":{marginBlockEnd:CVe,marginBlockStart:H9,"&:first-of-type":{marginBlockStart:H9-Gw}},"&:focus":{outlineOffset:-1}}),SVe=M({flexShrink:1,overflow:"auto"}),kVe=M({flexShrink:0}),IVe=M({borderBlockStart:`1px solid var(${_Ve}, ${`var(--ds-border, ${Mn})`})`}),TVe=M({"[data-section] + &":{marginBlockStart:-6}}),AVe=c.forwardRef(({children:e,overrides:t,title:n,titleId:r,testId:o,isScrollable:a,hasSeparator:s,id:i,isList:l=!1,className:d,...u},f)=>{Ku("@atlaskit/menu","overrides",t!==void 0,"");const p=t&&t.HeadingItem&&t.HeadingItem.cssFn,m=l?k("ul",{style:{margin:0,padding:0}},c.Children.map(c.Children.toArray(e),(v,b)=>k("li",{style:{listStyleType:"none",margin:0,padding:0},key:b},v))):e,g=n!==void 0?k(c.Fragment,null,k(yVe,{cssFn:p,testId:o&&`${o}--heading`,"aria-hidden":!0},n),m):k(c.Fragment,null,m);return k("div",H({},u,{className:d,id:i,css:[xVe,a?SVe:kVe,s?IVe:TVe],"aria-label":n,"aria-labelledby":r,"data-testid":o,role:"group","data-section":!0,ref:f}),g)}),DVe=M({display:"flex",position:"static",flexDirection:"column",overflow:"auto"}),OVe=({isLoading:e,maxWidth:t,minWidth:n,minHeight:r,maxHeight:o,testId:a,role:s,spacing:i="cozy",className:l,...d})=>k(RJ.Provider,{value:i},k(PJ.Provider,{value:"border"},k("div",H({"aria-busy":e,style:{minWidth:n,maxWidth:t,minHeight:r,maxHeight:o},css:DVe,"data-testid":a,role:s,className:l},d)))),fT=c.createContext(0),pT=c.createContext({topLevelRef:{current:null},setTopLevel:nn}),MVe=({children:e,currentLevel:t})=>{const{setTopLevel:n,topLevelRef:r}=c.useContext(pT);return Pe("plan_timeline_layering_wrapper")||(r.current===null||t>r.current)&&n(t),c.useEffect(()=>(Pe("plan_timeline_layering_wrapper")&&(r.current===null||t>r.current)&&n(t),()=>{Pe("plan_timeline_layering_wrapper")?n(t-1):setTimeout(()=>{n(t-1)},0)}),[n,t,r]),_.createElement(fT.Provider,{value:t},e)},$Ve=({children:e})=>{const t=c.useRef(0),n=c.useMemo(()=>({topLevelRef:t,setTopLevel:r=>{t.current=r}}),[t]);return _.createElement(pT.Provider,{value:n},e)},RVe=({children:e,isDisabled:t=!0})=>{const n=c.useContext(fT);if(t)return _.createElement(_.Fragment,null,e);const r=n>0,o=_.createElement(MVe,{currentLevel:n+1},e);return r?o:_.createElement($Ve,null,o)};function mT(){const e=c.useContext(fT),{topLevelRef:t}=c.useContext(pT),n=c.useCallback(()=>!!t.current&&e!==t.current,[e,t]);return{currentLevel:e,topLevelRef:t,isLayerDisabled:n}}const PVe=({children:e,update:t})=>{const n=c.useRef(!0);return c.useLayoutEffect(()=>{if(n.current){n.current=!1;return}t()},[t]),_.createElement(c.Fragment,null,e)},LVe=["button","a","input","select","textarea"],NVe=e=>!!(LVe.includes(e.tagName.toLowerCase())||e.getAttribute("tabindex")!==null||e.hasAttribute("contenteditable")),FJ=()=>{const e=c.useRef([]),t=c.useCallback(o=>{const a=requestAnimationFrame(o);return e.current.push(a),a},[]),n=c.useCallback(o=>{cancelAnimationFrame(o),e.current=e.current.filter(a=>a!==o)},[]),r=c.useCallback(()=>{e.current.forEach(o=>cancelAnimationFrame(o)),e.current=[]},[]);return{requestFrame:t,cancelFrame:n,cancelAllFrames:r}},FVe=({isOpen:e,onClose:t,popupRef:n,triggerRef:r,autoFocus:o,shouldDisableFocusTrap:a,shouldUseCaptureOnOutsideClick:s,shouldCloseOnTab:i,shouldRenderToParent:l})=>{const{isLayerDisabled:d,currentLevel:u}=mT(),{requestFrame:f,cancelAllFrames:p}=FJ();c.useEffect(()=>{if(!e||!n)return nn;const m=window&&window.self!==window.top&&Pe("fix-dropdown-close-outside-iframe"),g=C=>{if(t)if(Pe("sibling-dropdown-close-issue")){let S=null;if(C.target instanceof HTMLElement){var x;S=(x=C.target.closest("[data-ds--level]"))===null||x===void 0?void 0:x.getAttribute("data-ds--level")}S?t(C,Number(S)):t(C)}else t(C);a&&Pe("platform_dst_popup-disable-focuslock")&&f(()=>{r==null||r.setAttribute("tabindex","0"),n&&o&&n.setAttribute("tabindex","0")})},v=C=>{const{target:x}=C;if(!document.body.contains(x)&&!m)return;if(d())if(Pe("design-system-closed-all-when-click-outside")){if(x instanceof HTMLElement){var I;const O=(I=x.closest)===null||I===void 0?void 0:I.call(x,"[data-ds--level]");if(O){if(O.getAttribute("[data-ds--close--type]")==="single")return;const $=O.getAttribute("data-ds--level");if($&&Number($)>u)return}}}else return;const A=n&&n.contains(x),T=r&&r.contains(x);!A&&!T&&(g(C),document.activeElement&&!NVe(document.activeElement)&&Pe("platform_dst_popup-disable-focuslock")&&(r==null||r.focus()))},b=C=>{if(Pe("platform_dst_popup-disable-focuslock")){const{key:S,shiftKey:I}=C;if(I&&S==="Tab"&&!l){if(d())return;f(()=>{n&&!n.contains(document.activeElement)&&(g(C),u===1&&(r==null||r.focus()))});return}if(S==="Tab"){var x;if(i){if(d())return;g(C);return}if(d()&&(x=document.activeElement)!==null&&x!==void 0&&x.closest("[aria-modal]"))return;if(a){f(l?()=>{n&&!n.contains(document.activeElement)&&g(C)}:()=>{document.hasFocus()||g(C)});return}}if(d())return;(S==="Escape"||S==="Esc")&&(r&&o&&r.focus(),g(C))}else{if(d())return;const{key:S}=C;(S==="Escape"||S==="Esc"||i&&S==="Tab")&&g(C)}};let y;m&&e&&(y=mt.bind(window.parent.window,{type:"click",listener:v,options:{capture:s}}));const E=mt.bindAll(window,[{type:"click",listener:v,options:{capture:s}},{type:"keydown",listener:b}]);let w=nn;return w=mt.bind(window,{type:"blur",listener:function(x){d()||!(document.activeElement instanceof HTMLIFrameElement)||g(x)}}),()=>{var C;p(),E(),(C=y)===null||C===void 0||C(),w()}},[e,t,n,r,o,a,s,d,i,u,l,f,p])},jVe=({initialFocusRef:e,popupRef:t,triggerRef:n,autoFocus:r,shouldCloseOnTab:o,shouldDisableFocusTrap:a,shouldReturnFocus:s,shouldRenderToParent:i})=>{const{requestFrame:l,cancelAllFrames:d}=FJ(),{currentLevel:u}=mT();c.useEffect(()=>{if(!t||o)return nn;if(a&&Pe("platform_dst_popup-disable-focuslock")){const m=t.matches("[id^=ds--dropdown--]"),g=document.querySelectorAll(`[data-ds--level="${u-1}"]`);if(!(g[g.length-1]&&!i&&m))return l(()=>{n==null||n.setAttribute("tabindex","-1"),t&&r&&t.setAttribute("tabindex","-1"),(e||t).focus()}),nn}const p=G1(t,{clickOutsideDeactivates:!0,escapeDeactivates:!0,initialFocus:e||t,fallbackFocus:t,returnFocusOnDeactivate:s});return l(()=>{p.activate()}),()=>{d(),p.deactivate()}},[t,n,r,e,o,a,l,d,s,i,u])},VVe=M({width:"100%"}),BVe=M({display:"block",boxSizing:"border-box",zIndex:Qt.layer(),backgroundColor:`var(--ds-surface-overlay, ${Ve})`,borderRadius:"var(--ds-border-radius, 3px)",boxShadow:`var(--ds-shadow-overlay, ${`0 4px 8px -2px ${Vs}, 0 0 1px ${Bs}`})`,color:"var(--ds-text, #172B4D)",[dce]:`var(--ds-surface-overlay, ${Ve})`,"&:focus":{outline:"none"}}),UVe=M({overflow:"auto"}),z9=M({position:"fixed",inset:0,backgroundColor:"var(--ds-blanket, #091E427D)"}),HVe=M({maxHeight:"50vh",position:"fixed",insetBlockStart:"var(--ds-space-050, 4px)",insetInline:"var(--ds-space-050, 4px)"}),zVe=c.forwardRef((e,t)=>{const{shouldRenderToParent:n,shouldFitContainer:r,children:o,appearance:a,xcss:s,...i}=e;return k("div",H({className:s,css:[BVe,a==="UNSAFE_modal-below-sm"&&HVe,!n&&UVe,r&&VVe]},i,{ref:t}),o)});function WVe({xcss:e,isOpen:t,id:n,offset:r,testId:o,content:a,fallbackPlacements:s,onClose:i,boundary:l,rootBoundary:d,shouldFlip:u,placement:f="auto",popupComponent:p=zVe,autoFocus:m=!0,triggerRef:g,shouldUseCaptureOnOutsideClick:v,shouldRenderToParent:b,shouldFitContainer:y,shouldDisableFocusLock:E,shouldReturnFocus:w=!0,strategy:C,role:x,label:S,titleId:I,modifiers:A,shouldFitViewport:T,appearance:O="default"}){const[D,$]=c.useState(null),[L,F]=c.useState(null),B=b&&E,V=x!=="dialog";jVe({initialFocusRef:L,popupRef:D,shouldCloseOnTab:B,triggerRef:g,autoFocus:m,shouldDisableFocusTrap:V,shouldReturnFocus:w}),FVe({isOpen:t,onClose:i,popupRef:D,triggerRef:g,shouldUseCaptureOnOutsideClick:v,shouldCloseOnTab:B,autoFocus:m,shouldDisableFocusTrap:V,shouldRenderToParent:b});const{currentLevel:Y}=mT(),J=c.useMemo(()=>[{name:"flip",enabled:u,options:{rootBoundary:d,boundary:l,fallbackPlacements:s}},...A||[]],[u,d,l,s,A]);return k(Cz,{placement:f,offset:r,modifiers:J,strategy:C,shouldFitViewport:T},({ref:z,style:ce,placement:le,update:j})=>{const Z=k(p,{xcss:e,appearance:O,id:n,"data-ds--level":Y,"data-placement":le,"data-testid":o,role:x,"aria-label":S,"aria-labelledby":I,ref:K=>{K&&(typeof z=="function"?z(K):z.current=K,$(K))},style:O==="UNSAFE_modal-below-sm"?{}:ce,tabIndex:m?0:void 0,shouldRenderToParent:b,shouldFitContainer:y},k(PVe,{update:j},a({update:j,isOpen:t,onClose:i,setInitialFocusRef:F})));return!L&&Pe("platform-design-system-apply-popup-wrapper-focus")?k(c.Fragment,null,k(u1,null,Z),O==="UNSAFE_modal-below-sm"&&k("div",{css:z9})):k(c.Fragment,null,Z,O==="UNSAFE_modal-below-sm"&&k("div",{css:z9}))})}function GVe({appearance:e,shouldRenderToParent:t}){const n=cN("below.sm",i=>{o(!!i.matches)}),[r,o]=c.useState(!!(n!=null&&n.matches)),a=e==="UNSAFE_modal-below-sm"&&r?"UNSAFE_modal-below-sm":"default";return{appearance:a,shouldRenderToParent:t&&a==="default"}}const qVe=()=>{const[e]=c.useState(()=>Za((t,n,r)=>o=>{o&&r&&(typeof t=="function"?t(o):t&&(t.current=o),n(o))}));return e},YVe=()=>{const[e]=c.useState(()=>Za((t,n)=>r=>{r&&(typeof t=="function"?t(r):t&&(t.current=r),n(r))}));return e},KVe=Qt.layer(),XVe=ie({position:"relative"}),JVe=c.memo(({xcss:e,appearance:t="default",isOpen:n,id:r,offset:o,testId:a,trigger:s,content:i,onClose:l,boundary:d,rootBoundary:u="viewport",shouldFlip:f=!0,placement:p="auto",fallbackPlacements:m,popupComponent:g,autoFocus:v=!0,zIndex:b=KVe,shouldUseCaptureOnOutsideClick:y=!1,shouldRenderToParent:E=!1,shouldFitContainer:w=!1,shouldDisableFocusLock:C=!1,shouldReturnFocus:x=!0,strategy:S,role:I,label:A,titleId:T,modifiers:O,shouldFitViewport:D})=>{const[$,L]=c.useState(null),F=qVe(),B=YVe(),V=QS(),{appearance:Y,shouldRenderToParent:J}=GVe({appearance:t,shouldRenderToParent:E}),z=r||V;gz({isOpen:n});const ce=k(RVe,{isDisabled:!1},k(WVe,{xcss:e,appearance:Y,content:i,isOpen:n,placement:p,fallbackPlacements:m,boundary:d,rootBoundary:u,shouldFlip:f,offset:o,popupComponent:g,id:z,testId:a,onClose:l,autoFocus:v,shouldUseCaptureOnOutsideClick:y,shouldRenderToParent:J||w,shouldFitContainer:w,shouldDisableFocusLock:C,shouldReturnFocus:x,triggerRef:$,strategy:w?"absolute":S,role:I,label:A,titleId:T,modifiers:O,shouldFitViewport:D})),le=k(hh,null,k(bh,null,({ref:j})=>s({ref:Pe("platform-design-system-popup-ref")?B(j,L):F(j,L,n),"aria-controls":n?z:void 0,"aria-expanded":n,"aria-haspopup":I==="dialog"&&Pe("platform_dst_popup-disable-focuslock")?"dialog":!0})),n&&(J||w?ce:k(Dz,{zIndex:b},ce)));return w?k(_e,{xcss:XVe},le):le}),ZVe={[O_]:"next",[RCe]:"prev",[PCe]:"first",[LCe]:"last"},W9=(e,t)=>{for(;t+1<e.length;){if(!(e[t+1].getAttribute("disabled")!==null))return e[t+1];t++}},G9=(e,t)=>{for(;t>0;){if(!(e[t-1].getAttribute("disabled")!==null))return e[t-1];t--}};function q9(e){return t=>{const n=e.findIndex(o=>{var a;return(a=document.activeElement)===null||a===void 0?void 0:a.isSameNode(o)});switch(ZVe[t.key]){case"next":if(n<e.length-1){t.preventDefault();const s=W9(e,n);s==null||s.focus()}break;case"prev":if(n>0){t.preventDefault();const s=G9(e,n);s==null||s.focus()}break;case"first":t.preventDefault();const o=W9(e,-1);o==null||o.focus();break;case"last":t.preventDefault();const a=G9(e,e.length);a==null||a.focus();break;default:return}}}const hT=c.createContext({menuItemRefs:[],registerRef:nn}),QVe=({children:e})=>{const t=c.useRef([]),n=c.useCallback(o=>{o&&!t.current.includes(o)&&t.current.push(o)},[]);c.useEffect(()=>(mt.bind(window,{type:"keydown",listener:q9(t.current)}),()=>{mt.bind(window,{type:"keydown",listener:q9(t.current)})}),[]);const r={menuItemRefs:t.current,registerRef:n};return _.createElement(hT.Provider,{value:r},e)};function eBe(){const{registerRef:e}=c.useContext(hT),t=c.useRef(null);return c.useEffect(()=>{t.current!==null&&e(t.current)},[e]),t}const tBe=c.forwardRef((e,t)=>{const{avatar:n,index:r,onAvatarClick:o,testId:a}=e,{analyticsContext:s,appearance:i,as:l,borderColor:d,children:u,href:f,isDisabled:p,key:m,label:g,name:v,onClick:b,presence:y,size:E,src:w,stackIndex:C,status:x,tabIndex:S,target:I,testId:A,...T}=n,O=eBe(),D=({children:F,className:B,disabled:V,draggable:Y,onClick:J,onDragStart:z,onMouseDown:ce,ref:le,tabIndex:j,"data-testid":Z,...K})=>_.createElement("button",H({type:"button",className:B,disabled:V,draggable:Y,onClick:J,onDragStart:z,onMouseDown:ce,ref:le,tabIndex:j,"data-testid":Z},K),F),$=_.createElement($i,H({},T,{analyticsContext:s,appearance:i,as:l,borderColor:"transparent",children:u,isDisabled:p,label:g,name:"",presence:y,size:"small",src:w,stackIndex:C,status:x,tabIndex:S,testId:a&&`${a}--avatar`})),L=b||o;return f?_.createElement(gVe,{ref:Dv([t,O]),href:f,target:I,rel:I==="_blank"?"noopener noreferrer":void 0,iconBefore:$,testId:a,onClick:F=>L&&L(F,void 0,r)},v):typeof L=="function"?_.createElement(pVe,{ref:Dv([t,O]),onClick:F=>L&&L(F,void 0,r),iconBefore:$,testId:a},v):_.createElement(vVe,{iconBefore:$,component:D,testId:a},v)}),nBe=({children:e,testId:t,"aria-label":n})=>c.createElement("ul",{"data-testid":t,"aria-label":n,className:Ye(["_1e0c1txw _1bah1y6m _1n261g80 _19121cl4 _vwz4kb7n _2mzuagmp _6rthze3t _1pfhze3t _12l2r5cr _ahbqr5cr _85i5ze3t _1q51ze3t _y4tize3t _bozgze3t"])},c.Children.map(e,r=>r&&c.createElement("li",{className:Ye(["_6rthu2gc _1pfhze3t _12l2ze3t _ahbqze3t _y4ti1b66 _bozg1b66"])},r))),rBe=({children:e,isLoading:t,maxHeight:n,maxWidth:r=800,minHeight:o,minWidth:a=320,onClick:s,role:i,setInitialFocusRef:l,spacing:d,testId:u,...f})=>{const{menuItemRefs:p}=c.useContext(hT);return c.useEffect(()=>{l==null||l(p[0])},[p,l]),_.createElement(OVe,H({isLoading:t,maxHeight:n,maxWidth:r,minHeight:o,minWidth:a,onClick:s,role:i,spacing:d,testId:u},f),e)},oBe="--avatar-box-shadow",qw={root:"_19itglyw _12ji1r31 _1qu2glyw _12y31o36 _1reo15vq _18m915vq _v564ieh6 _1e0c1txw _vchh1ntv _19pkv77o _2hwxv77o _otyrv77o _18u0v77o _ca0qze3t _u5f3ze3t _n3tdze3t _19bvze3t _4cvr1fhb _1bah1h6o _2lx21bp4 _80omtlke _bfhkm7j4 _syaz1fxt _16qs1nhn _t9ec1aqe _1ejjglyw _mizu194a _ra3xnqa1 _1ah3yh40 _128myh40 _irr315ej _30l31fxt _1di6ip91 _9h8h1fxt _1q8w1np6 _jlxit94y",circle:"_2rko1q5u",active:"_bfhkfg4m _16qsqz53 _syazaqb7 _t9ec1np6 _irr3i1yw _30l3aqb7 _1di619ru _9h8haqb7",disabled:"_80om13gf _1peqs237 _1hfkvuon"},aBe={xsmall:"_1bsb7vkz _4t3i7vkz",small:"_1bsb1tcg _4t3i1tcg",medium:"_1bsbzwfg _4t3izwfg",large:"_1bsb1ylp _4t3i1ylp",xlarge:"_1bsb16xz _4t3i16xz",xxlarge:"_1bsb1qr7 _4t3i1qr7"},sBe={xsmall:"_2rkoyh40 _14mjyh40",small:"_2rkoyh40 _14mjyh40",medium:"_2rko1l7b _14mj1l7b",large:"_2rko1l7b _14mj1l7b",xlarge:"_2rkoi2wt _14mji2wt",xxlarge:"_2rko1crf _14mj1crf"},iBe={small:"_11c81vlj",medium:"_11c81vlj",large:"_11c8qk37",xlarge:"_11c81doa",xxlarge:"_11c81doa"},Y9=99,jJ=c.forwardRef(({appearance:e="circle",borderColor:t=Pe("platform-component-visual-refresh")?"var(--ds-surface, #FFFFFF)":"var(--ds-border-inverse, #FFFFFF)",size:n="medium",count:r=0,testId:o,onClick:a,"aria-controls":s,"aria-expanded":i,"aria-haspopup":l,buttonProps:d={},isActive:u},f)=>{const p=c.useCallback((m,g)=>{d.onClick&&d.onClick(m),a(m,g)},[d.onClick,a]);return c.createElement("button",H({type:"submit"},d,{onClick:p,ref:f,"data-testid":o,"aria-controls":s,"aria-expanded":i,"aria-haspopup":l,style:{[oBe]:`0 0 0 2px ${t}`},className:Ye([qw.root,sBe[n],e==="circle"&&qw.circle,aBe[n],iBe[n],u&&qw.active])}),"+",r>Y9?Y9:r)});jJ.displayName="MoreIndicator";const lBe=({children:e,testId:t,"aria-label":n})=>c.createElement("ul",{"data-testid":t,"aria-label":n,className:Ye(["_1e0c1txw _19121cl4 _vwz4kb7n _2mzuagmp _6rthze3t _1pfhze3t _12l2u2gc _ahbqze3t _85i5ze3t _1q51ze3t _y4tize3t _bozgze3t"])},c.Children.map(e,r=>r&&c.createElement("li",{className:Ye(["_6rthze3t _1pfhze3t _12l2x0bf _ahbqze3t"])},r))),Dx=(e,t)=>e.key?e.key:t,cBe={grid:11,stack:5};function Yw(e){return{AvatarGroupItem:{render:(t,n,r)=>_.createElement(t,H({},n,{key:Dx(n.avatar,r)})),...e&&e.AvatarGroupItem},Avatar:{render:(t,n,r)=>_.createElement(t,H({},n,{key:Dx(n,r)})),...e&&e.Avatar},MoreIndicator:{render:(t,n)=>_.createElement(t,n),...e&&e.MoreIndicator}}}const VJ=({appearance:e="stack",avatar:t=$i,borderColor:n,boundariesElement:r,data:o,isTooltipDisabled:a,maxCount:s,onAvatarClick:i,onMoreClick:l,overrides:d,showMoreButtonProps:u={},size:f="medium",testId:p,label:m="avatar group",tooltipPosition:g="bottom",shouldPopupRenderToParent:v=!1})=>{const[b,y]=c.useState(!1),[E,w]=c.useState(!1),C=c.useCallback(()=>w(!1),[]),x=c.useCallback(L=>{const{clientX:F,clientY:B,type:V}=L;(V==="keydown"||F===0||B===0)&&y(!0),w(Y=>!Y)},[]),{isFocused:S,bindFocus:I}=Jje();c.useEffect(()=>(E||y(!1),S?E?nn:(mt.bind(window,{type:"keydown",listener:function(B){B.key===O_&&(B.preventDefault(),x(B))}}),()=>{mt.bind(window,{type:"keydown",listener:function(B){B.key===O_&&(B.preventDefault(),x(B))}})}):nn),[S,E,x]);function A(L,F){if(F<=L)return null;const B=({"aria-controls":J,"aria-expanded":z,"aria-haspopup":ce,onClick:le,...j})=>Yw(d).MoreIndicator.render(jJ,{buttonProps:u,borderColor:n,count:F-L,size:f,testId:p&&`${p}--overflow-menu--trigger`,isActive:E,"aria-controls":J,"aria-expanded":z,"aria-haspopup":ce,onClick:le,...j});if(typeof l=="function")return B({onClick:l});const V=r==="scrollParent"?"clippingParents":void 0,Y=(()=>{if(r!=="scrollParent")return r==="window"?"document":"viewport"})();return _.createElement(JVe,{isOpen:E,onClose:C,placement:"bottom-end",boundary:V,rootBoundary:Y,shouldFlip:!0,zIndex:510,shouldRenderToParent:v,content:({setInitialFocusRef:J})=>_.createElement(QVe,null,_.createElement(rBe,{onClick:z=>z.stopPropagation(),minWidth:250,maxHeight:300,setInitialFocusRef:b?J:void 0},_.createElement(AVe,null,o.slice(L).map((z,ce)=>Yw(d).AvatarGroupItem.render(tBe,{avatar:z,onAvatarClick:i,testId:p&&`${p}--avatar-group-item-${ce+L}`,index:ce+L},ce+L))))),trigger:J=>B({...J,...I,onClick:x}),testId:p&&`${p}--overflow-menu`})}const T=s===void 0||s===0?cBe[e]:s,O=o.length,D=O>T?T-1:T,$=e==="stack"?lBe:nBe;return _.createElement($,{testId:p&&`${p}--avatar-group`,"aria-label":m},o.slice(0,D).map((L,F)=>{const B=L.onClick||i,V=Yw(d).Avatar.render(t,{...L,size:f,borderColor:n||L.borderColor,testId:p&&`${p}--avatar-${F}`,onClick:B?(Y,J)=>{B(Y,J,F)}:void 0,stackIndex:T-F},F);return!a&&!L.isDisabled?_.createElement(e5,{key:Dx(L,F),content:L.name,testId:p&&`${p}--tooltip-${F}`,position:g},V):V}),A(+D,O))},dBe=4,uBe=e=>{const t=M({display:"inline-flex",ul:{marginRight:"var(--ds-space-100, 0.5rem)",marginTop:0}});switch(e){case ze.XLarge:case ze.Large:return t;case ze.Medium:case ze.Small:default:return M`
				${t}
				li {
					span,
					svg {
						max-height: 1.25rem;
						max-width: 1.25rem;
					}
				}
			`}},fBe=(e,t,n)=>{switch(e){case me.AssignedToGroup:return Cp(n,Se.assigned_to,t);case me.OwnedByGroup:return Cp(n,Se.owned_by,t);case me.AuthorGroup:return Cp(n,Se.created_by,t);default:return t}},m0=({items:e=[],maxCount:t=dBe,name:n,overrideCss:r,size:o=ze.Medium,testId:a="smart-element-avatar-group",showNamePrefix:s=!1,showFallbackAvatar:i=!0})=>{const l=Ee(),d=c.useMemo(()=>{if(!e.length&&i)switch(n){case me.AssignedToGroup:return[{name:Cp(l,Se.unassigned)}];default:return[]}return n&&e.length===1&&s?e.map(u=>({...u,name:fBe(n,u.name,l)||u.name})):e},[n,e,s,i,l]);return d.length?k("span",{css:[uBe(o),r],"data-fit-to-content":!0,"data-smart-element":n,"data-smart-element-avatar-group":!0,"data-testid":a},k(VJ,{maxCount:t,appearance:"stack",size:"small",data:d,testId:a})):null},pBe=M({aspectRatio:"16 / 9",display:"flex",width:"100%",height:"fit-content","@supports not (aspect-ratio: auto)":{paddingTop:"56.25%",height:0,position:"relative",overflow:"hidden"},"> img, > span":{minHeight:"100%",minWidth:"100%",maxHeight:"100%",maxWidth:"100%",objectFit:"cover",objectPosition:"center center","@supports not (aspect-ratio: auto)":{position:"absolute",transform:"translate(-50%, -50%)",left:"50%",top:"50%",width:"auto",height:"auto"}}}),BJ=({name:e,overrideCss:t,testId:n="smart-element-media",type:r,url:o,onLoad:a,onError:s})=>!r||!o?null:k("div",{css:[pBe,t],"data-smart-element":e,"data-smart-element-media":r,"data-testid":n},k(Q4,{testId:`${n}-image`,url:o,onError:s,onLoad:a,defaultIcon:null})),mBe=e=>M({color:"var(--ds-text-subtlest, #626F86)",fontSize:"0.75rem",lineHeight:"1rem",whiteSpace:"normal"},Zi(e)),Hr=({content:e,maxLines:t=1,message:n,name:r,overrideCss:o,testId:a="smart-element-text"})=>!n&&!e?null:k("span",{css:[mBe(t),o],"data-separator":!0,"data-smart-element":r,"data-smart-element-text":!0,"data-testid":a},eT(n)||e);var bb=function(){return bb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},bb.apply(this,arguments)},hBe=1e3,UJ=60,HJ=UJ*60,zJ=HJ*24,gBe=zJ*7;function Ox(e,t,n){t===void 0&&(t=Date.now()),n===void 0&&(n={});var r=bb(bb({},vBe),n||{}),o=(+e-+t)/hBe;if(Math.abs(o)<r.second)return{value:Math.round(o),unit:"second"};var a=o/UJ;if(Math.abs(a)<r.minute)return{value:Math.round(a),unit:"minute"};var s=o/HJ;if(Math.abs(s)<r.hour)return{value:Math.round(s),unit:"hour"};var i=o/zJ;if(Math.abs(i)<r.day)return{value:Math.round(i),unit:"day"};var l=new Date(e),d=new Date(t),u=l.getFullYear()-d.getFullYear();if(Math.round(Math.abs(u))>0)return{value:Math.round(u),unit:"year"};var f=u*12+l.getMonth()-d.getMonth();if(Math.round(Math.abs(f))>0)return{value:Math.round(f),unit:"month"};var p=o/gBe;return{value:Math.round(p),unit:"week"}}var vBe={second:45,minute:45,hour:22,day:5};const bBe=M({color:"var(--ds-text-subtlest, #626F86)",fontSize:"0.75rem",lineHeight:"1rem"},Zi(1)),yBe={created:{relative:Se.created_on_relative,absolute:Se.created_on_absolute},modified:{relative:Se.modified_on_relative,absolute:Se.modified_on_absolute},sent:{relative:Se.sent_on_relative,absolute:Se.sent_on_absolute}},Kw=({date:e,name:t,overrideCss:n,type:r,testId:o="smart-element-date-time",text:a})=>{const{formatRelativeTime:s,formatDate:i}=Ee();if(!r||!e)return null;const l=Math.abs(e.getTime()-Date.now())>1e3*60*60*24*7;let d,u;if(l)u="absolute",d=i(e,{month:"short",day:"numeric",year:"numeric"});else{const{value:f,unit:p}=Ox(e,Date.now());u="relative",d=s(f,p,{numeric:"auto"})}return k("span",{css:[bBe,n],"data-separator":!0,"data-smart-element":t,"data-smart-element-date-time":!0,"data-testid":o},a?`${a} ${d}`:k(Ue,H({},yBe[r][u],{values:{context:d}})))};function K9(e=0){return+e<0?0:e}function X9(e,t){const n=K9(e),r=K9(t);return r&&r<n?`${r}+`:n===1/0?"":n.toString()}const EBe=ie({borderRadius:"border.radius.200",display:"inline-flex",blockSize:"min-content",flexShrink:0}),wBe="#DDDEE1",CBe="#FD9891",_Be="#8FB8F6",Xw="#292A2E",J9={root:M({display:"inline-flex",boxSizing:"border-box",minWidth:"var(--ds-space-300, 24px)",justifyContent:"center",flexShrink:0,blockSize:"min-content",borderRadius:"var(--ds-border-radius-050, 2px)",paddingInline:"var(--ds-space-050, 4px)"}),added:M({backgroundColor:"var(--ds-background-success, #DCFFF1)",color:"var(--ds-text, #172B4D)"}),default:M({backgroundColor:wBe,color:Xw}),important:M({backgroundColor:CBe,color:Xw}),primary:M({backgroundColor:_Be,color:Xw}),primaryInverted:M({backgroundColor:"var(--ds-surface, #FFFFFF)",color:"var(--ds-text-brand, #0C66E4)"}),removed:M({backgroundColor:"var(--ds-background-danger, #FFECEB)",color:"var(--ds-text, #172B4D)"})},WJ=c.memo(function({appearance:t="default",children:n=0,max:r=99,style:o,testId:a}){return et("platform-component-visual-refresh")?k("span",{"data-testid":a,css:[J9.root,J9[t]],style:{background:o==null?void 0:o.backgroundColor,color:o==null?void 0:o.color}},k(Gt,{size:"small",align:"center",color:"inherit"},typeof n=="number"&&r?X9(n,r):n)):k(_e,{testId:a,as:"span",backgroundColor:xBe[t],xcss:EBe,style:{background:o==null?void 0:o.backgroundColor,color:o==null?void 0:o.color},paddingInline:"space.075"},k(Gt,{size:"UNSAFE_small",align:"center",color:o!=null&&o.color?"inherit":SBe[t]},typeof n=="number"&&r?X9(n,r):n))});WJ.displayName="Badge";const xBe={added:"color.background.success",default:"color.background.neutral",important:"color.background.danger.bold",primary:"color.background.brand.bold",primaryInverted:"elevation.surface",removed:"color.background.danger"},SBe={added:"color.text.success",default:"color.text",important:"color.text.inverse",primary:"color.text.inverse",primaryInverted:"color.text.brand",removed:"color.text.danger"},kBe=M({alignItems:"center",display:"inline-flex"}),IBe=({value:e,name:t,overrideCss:n,testId:r="smart-element-atlaskit-badge"})=>e?k("span",{css:[kBe,n],"data-fit-to-content":!0,"data-smart-element":t,"data-smart-element-atlaskit-badge":!0,"data-testid":r},k(WJ,null,e)):null,TBe={[me.AttachmentCount]:{component:Do,props:{icon:Ce.Attachment}},[me.AuthorGroup]:{component:m0},[me.ChecklistProgress]:{component:Do,props:{icon:Ce.CheckItem}},[me.CollaboratorGroup]:{component:m0},[me.CommentCount]:{component:Do,props:{icon:Ce.Comment}},[me.ViewCount]:{component:Do,props:{icon:Ce.View}},[me.ReactCount]:{component:Do,props:{icon:Ce.React}},[me.VoteCount]:{component:Do,props:{icon:Ce.Vote}},[me.CreatedBy]:{component:Hr},[me.OwnedBy]:{component:Hr},[me.AssignedTo]:{component:Hr},[me.AssignedToGroup]:{component:m0},[me.OwnedByGroup]:{component:m0},[me.CreatedOn]:{component:Kw},[me.DueOn]:{component:N9},[me.LatestCommit]:{component:Do,props:{icon:Ce.Commit}},[me.LinkIcon]:{component:My},[me.ModifiedBy]:{component:Hr},[me.ModifiedOn]:{component:Kw},[me.Preview]:{component:BJ},[me.Priority]:{component:Do},[me.ProgrammingLanguage]:{component:Do,props:{icon:Ce.ProgrammingLanguage}},[me.Provider]:{component:Do},[me.ReadTime]:{component:Hr},[me.SentOn]:{component:Kw},[me.SourceBranch]:{component:Hr},[me.State]:{component:N9},[me.SubscriberCount]:{component:Do,props:{icon:Ce.Subscriber}},[me.SubTasksProgress]:{component:Do,props:{icon:Ce.SubTasksProgress}},[me.StoryPoints]:{component:IBe},[me.TargetBranch]:{component:Hr},[me.Title]:{component:kx},[me.Location]:{component:kx,props:{theme:PX.Grey}}},ABe=e=>e.length>0?e.charAt(0).toLowerCase()+e.slice(1):void 0,DBe=(e,t,n)=>{if(!n)return;const r=n[t];switch(e){case me.AssignedToGroup:case me.AuthorGroup:case me.CollaboratorGroup:case me.OwnedByGroup:const a=[me.AssignedToGroup].includes(e);return OBe(r,a);case me.AttachmentCount:case me.ChecklistProgress:case me.CommentCount:case me.ViewCount:case me.ReactCount:case me.VoteCount:case me.ProgrammingLanguage:case me.SubscriberCount:case me.LatestCommit:case me.SubTasksProgress:return MBe(r);case me.StoryPoints:return $Be(r);case me.CreatedBy:return Sf(Se.created_by,n.createdBy);case me.AssignedTo:return Sf(Se.assigned_to,n.assignedTo);case me.OwnedBy:return Sf(Se.owned_by,n.ownedBy);case me.CreatedOn:return Jw("created",n.createdOn);case me.DueOn:return RBe(n.dueOn);case me.ModifiedBy:return Sf(Se.modified_by,n.modifiedBy);case me.ModifiedOn:return Jw("modified",n.modifiedOn);case me.SentOn:return Jw("sent",n.sentOn);case me.ReadTime:return Sf(Se.read_time,r);case me.SourceBranch:case me.TargetBranch:return LBe(r);case me.Title:return PBe(n.title,n.url);default:return typeof r=="object"?r:void 0}},OBe=(e,t)=>e?{items:e}:t?{items:[]}:void 0,MBe=e=>e?{label:e}:void 0,$Be=e=>e?{value:e}:void 0,RBe=e=>{if(e)return{text:Date.parse(e)?_.createElement(Ude,{value:new Date(e),year:"numeric",month:"short",day:"numeric",formatMatcher:"best fit"}):e}},Jw=(e,t)=>t?{date:new Date(t),type:e}:void 0,Sf=(e,t)=>t?{message:{descriptor:e,values:{context:t}}}:void 0,PBe=(e,t)=>e?{text:e,url:t}:void 0,LBe=e=>e?{content:e}:void 0,Ft=e=>{const{component:t,props:n}=TBe[e]||{},r=ABe(e);if(!t)throw Error(`Element ${e} does not exist.`);return o=>{const a=c.useContext(qu),s=DBe(e,r,a);return s?_.createElement(t,H({},n,s,o,{name:e})):null}},GJ=e=>{const{overrideUrl:t,...n}=e??{},r=c.useContext(qu),o=t?{url:t,type:LX.Image}:r==null?void 0:r.preview;return o?k(BJ,H({},n,o)):null},NBe=3,FBe=e=>M({color:"var(--ds-text, #172B4D)",WebkitUserSelect:"text",MozUserSelect:"text",MsUserSelect:"text",userSelect:"text"},e),qJ=({content:e,maxLines:t=NBe,overrideCss:n,...r}={})=>{const o=c.useContext(qu);return k(Hr,H({content:e??(o==null?void 0:o.snippet),maxLines:t,overrideCss:FBe(n)},r))},jBe=Ft(me.AssignedTo),VBe=Ft(me.AssignedToGroup),BBe=Ft(me.AttachmentCount),UBe=Ft(me.AuthorGroup),HBe=Ft(me.ChecklistProgress),zBe=Ft(me.CollaboratorGroup),WBe=Ft(me.CommentCount),GBe=Ft(me.CreatedOn),qBe=Ft(me.CreatedBy),YBe=Ft(me.DueOn),KBe=Ft(me.LatestCommit),Fy=Ft(me.LinkIcon),XBe=Ft(me.Location),JBe=Ft(me.ModifiedBy),ZBe=Ft(me.ModifiedOn),QBe=Ft(me.OwnedBy),eUe=Ft(me.OwnedByGroup),tUe=Ft(me.Priority),nUe=Ft(me.ProgrammingLanguage),gT=Ft(me.Provider),rUe=Ft(me.ReactCount),oUe=Ft(me.ReadTime),aUe=Ft(me.SentOn),sUe=Ft(me.SourceBranch),iUe=Ft(me.State),lUe=Ft(me.SubscriberCount),cUe=Ft(me.SubTasksProgress),dUe=Ft(me.StoryPoints),uUe=Ft(me.TargetBranch),YJ=Ft(me.Title),fUe=Ft(me.ViewCount),pUe=Ft(me.VoteCount),KJ=Object.freeze(Object.defineProperty({__proto__:null,AssignedTo:jBe,AssignedToGroup:VBe,AttachmentCount:BBe,AuthorGroup:UBe,ChecklistProgress:HBe,CollaboratorGroup:zBe,CommentCount:WBe,CreatedBy:qBe,CreatedOn:GBe,DueOn:YBe,LatestCommit:KBe,LinkIcon:Fy,Location:XBe,ModifiedBy:JBe,ModifiedOn:ZBe,OwnedBy:QBe,OwnedByGroup:eUe,Preview:GJ,Priority:tUe,ProgrammingLanguage:nUe,Provider:gT,ReactCount:rUe,ReadTime:oUe,SentOn:aUe,Snippet:qJ,SourceBranch:sUe,State:iUe,StoryPoints:dUe,SubTasksProgress:cUe,SubscriberCount:lUe,TargetBranch:uUe,Title:YJ,ViewCount:fUe,VoteCount:pUe},Symbol.toStringTag,{value:"Module"})),mUe=e=>{switch(e){case ze.XLarge:case ze.Large:return"1.5rem";case ze.Medium:case ze.Small:default:return"1rem"}},hUe=e=>M({color:e?"var(--ds-text-disabled, #6B778C)":"var(--ds-icon, #44546F)"}),gUe=Wh("20px"),vUe=M(gUe,{display:"inline-block",lineHeight:0,padding:"var(--ds-space-025, 2px)","span,svg,img":{lineHeight:0}}),XJ=({size:e,testId:t,icon:n,isDisabled:r,asStackItemIcon:o})=>k("span",{css:[hUe(r),o?vUe:Wh(mUe(e))],"data-testid":`${t}-icon`},n),bUe=ie({all:"unset",padding:"space.050",width:"100%",":hover":{backgroundColor:"color.background.neutral.subtle.hovered"},":active":{backgroundColor:"color.background.neutral.subtle.pressed"}}),yUe=ie({color:"color.text",fontSize:"12px",fontStyle:"normal",fontWeight:"400",lineHeight:"20px"}),Z9=({content:e,icon:t,isDisabled:n,isLoading:r,onClick:o,size:a,space:s,testId:i,tooltipProps:l,xcss:d})=>{const u=s??pNe(a),f=c.useCallback(()=>{!n&&!r&&o&&o()},[n,r,o]),p=t&&r?_.createElement(XJ,{asStackItemIcon:!0,icon:_.createElement(rr,{testId:`${i}-loading`}),size:a}):t;return _.createElement(Co,H({xcss:[bUe,d]},l,{onClick:f,testId:i}),_.createElement(Me,{alignBlock:"center",grow:"fill",space:u},p,_.createElement(_e,{xcss:yUe},e)))},EUe=({content:e,tooltipMessage:t,tooltipOnHide:n,hideTooltipOnMouseDown:r,hideTooltip:o,...a})=>o?_.createElement(Z9,H({},a,{content:e})):_.createElement(Bt,{content:t||e,onHide:n,hideTooltipOnMouseDown:r},s=>_.createElement(Z9,H({},a,{content:e,tooltipProps:s}))),wUe=(e,t)=>{switch(e){case ze.Large:return t?M({"button, button:hover, button:focus, button:active":{padding:0,"> span":{margin:0}}}):"";case ze.Small:return M({fontSize:"0.75rem",fontWeight:500,lineHeight:"1rem","button, button:hover, button:focus, button:active":[{lineHeight:"1rem"},t?`
            padding: 0.125rem;
          `:`
            padding-left: 0.25rem;
            padding-right: 0.25rem;
          `]});case ze.XLarge:case ze.Medium:default:return""}},CUe=({appearance:e,content:t,iconAfter:n,iconBefore:r,isLoading:o,onClick:a,overrideCss:s,size:i,testId:l,tooltipMessage:d,isDisabled:u,href:f,ariaLabel:p})=>{const m=!t,g=c.useCallback(v=>b=>{b.preventDefault(),v()},[]);return k("div",{css:[wUe(i,m),s],"data-testid":`${l}-button-wrapper`},k(Bt,{content:d,hideTooltipOnClick:!0,testId:`${l}-tooltip`},k(Yd,{appearance:e,iconAfter:n,iconBefore:r,isDisabled:u,isLoading:o,onClick:g(a),spacing:nJ[i],testId:l,href:f,"aria-label":p},t)))},_Ue=({content:e,iconAfter:t,iconBefore:n,isLoading:r,onClick:o,testId:a})=>_.createElement(Ry,{elemAfter:t,elemBefore:n,isDisabled:r,onClick:_x(o),testId:a},e),xUe=({as:e,appearance:t="subtle",content:n,isLoading:r=!1,onClick:o,size:a=ze.Medium,testId:s="smart-action",icon:i,iconPosition:l="before",spaceInline:d,tooltipMessage:u,tooltipOnHide:f,hideTooltip:p,hideTooltipOnMouseDown:m,xcss:g,asDropDownItem:v,overrideCss:b,isDisabled:y,href:E,ariaLabel:w,wrapper:C})=>{if(!o)return null;const x=e==="stack-item",S=e==="dropdown-item"||v,I=i&&k(XJ,{asStackItemIcon:x,isDisabled:y,icon:i,size:a,testId:s}),A=i&&l==="before"?I:void 0,T=i&&l==="after"?I:void 0;if(x)return k(EUe,{content:n,icon:I,space:d,isDisabled:y,isLoading:r,onClick:o,size:a,testId:s,tooltipMessage:u||n,xcss:g,tooltipOnHide:f,hideTooltipOnMouseDown:m,hideTooltip:p});if(S)return k(_Ue,{content:n,iconAfter:T,iconBefore:A,isLoading:r,onClick:o,testId:s});const O=k(CUe,{appearance:t,content:n,iconAfter:T,iconBefore:A,isLoading:r,onClick:o,overrideCss:b,size:a,testId:s,tooltipMessage:u||n,isDisabled:y,href:E,ariaLabel:w});return C!==void 0?k(C,null,O):O},va=xUe,SUe=e=>_.createElement(va,H({content:_.createElement(Ue,Se.delete),icon:_.createElement(Dk,{label:"Delete"}),testId:"smart-action-delete-action",tooltipMessage:_.createElement(Ue,Se.delete)},e)),kUe=SUe;var jy={},qh={};Object.defineProperty(qh,"__esModule",{value:!0});var JJ=qh.default=void 0,IUe=ZJ(c),TUe=ZJ(Oe);function ZJ(e){return e&&e.__esModule?e:{default:e}}const QJ=e=>IUe.default.createElement(TUe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M6 1.751H3c-.69 0-1.25.56-1.25 1.25v10c0 .69.56 1.25 1.25 1.25h10c.69 0 1.25-.56 1.25-1.25V10m-.75-5 1.116-1.116a1.25 1.25 0 0 0 0-1.768l-.732-.732a1.25 1.25 0 0 0-1.768 0L11 2.5M13.5 5 9.479 9.021c-.15.15-.336.26-.54.318l-3.189.911.911-3.189a1.25 1.25 0 0 1 .318-.54L11 2.5M13.5 5 11 2.5"/>'},e));QJ.displayName="EditIcon";JJ=qh.default=QJ;Object.defineProperty(jy,"__esModule",{value:!0});var eZ=jy.default=void 0,AUe=tZ(c),DUe=je,OUe=tZ(qh);function tZ(e){return e&&e.__esModule?e:{default:e}}const nZ=e=>AUe.default.createElement(DUe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M4.02 19.23a1 1 0 0 0 1.18 1.18l3.81-.78-4.21-4.21zm5.92-2.62-2.12-2.12L16.31 6l2.12 2.12zm9.9-9.9-2.12-2.12A2 2 0 0 0 16.31 4c-.51 0-1.02.2-1.41.59l-9.76 9.76 4.95 4.95 9.76-9.76a2 2 0 0 0 0-2.83"/></svg>'},e,{newIcon:OUe.default}));nZ.displayName="EditIcon";eZ=jy.default=nZ;const MUe=e=>_.createElement(va,H({content:_.createElement(Ue,Se.edit),icon:_.createElement(eZ,{label:"Edit"}),testId:"smart-action-edit-action",tooltipMessage:_.createElement(Ue,Se.edit)},e)),$Ue=MUe,RUe=({onClick:e,...t})=>{var n;const r=Zo(),o=Yu(),a=Oy({analytics:o}),s=r==null||(n=r.actions)===null||n===void 0?void 0:n[Zt.DownloadAction],i=c.useCallback(()=>{s!=null&&s.downloadUrl&&(a({actionType:Zt.DownloadAction,actionFn:async()=>jX(s==null?void 0:s.downloadUrl),display:o==null?void 0:o.display,extensionKey:o==null?void 0:o.extensionKey}),e&&e())},[o,s==null?void 0:s.downloadUrl,a,e]),l=t.as==="stack-item",d=l?Se.download_file:Se.download,u=l?Se.download_description:Se.download;return s?_.createElement(va,H({content:_.createElement(Ue,d),icon:_.createElement(CW,{label:"Download"}),onClick:i,testId:"smart-action-download-action",tooltipMessage:_.createElement(Ue,u)},s,t)):null},PUe=RUe,LUe=(e,t)=>({action:{...e.action,payload:t},providerKey:e.providerKey}),NUe=({action:e,onClick:t,onError:n,...r})=>{const[o,a]=c.useState(!1),s=Yu(),i=hJ(),l=Dy(),d=c.useCallback(async()=>{if(e){var u;const f=(u=e.action)===null||u===void 0?void 0:u.actionType;try{a(!0),s==null||s.ui.smartLinkServerActionClickedEvent({smartLinkActionType:f}),s==null||s.track.smartLinkQuickActionStarted({smartLinkActionType:f});const p=LUe(e);await i(p),s==null||s.track.smartLinkQuickActionSuccess({smartLinkActionType:f}),e.reload&&e.reload.url&&await l(e.reload.url,!0,void 0,e.reload.id),a(!1),t&&t()}catch(p){a(!1),s==null||s.track.smartLinkQuickActionFailed({smartLinkActionType:f,reason:BFe(p)}),n==null||n()}}},[e,s==null?void 0:s.track,s==null?void 0:s.ui,i,t,n,l]);return _.createElement(va,H({},r,{isLoading:o,onClick:d}))},FUe=(e=!1,t=!1)=>e&&t?Se.follow_project_error:e&&!t?Se.unfollow_project_error:!e&&t?Se.follow_goal_error:!e&&!t?Se.unfollow_goal_error:Se.generic_error_message,jUe={goal:()=>de(async()=>{const{GoalIcon:e}=await import("./index-66irp7ub.js");return{GoalIcon:e}},__vite__mapDeps([70,1,2,3,4,5,6,7,8,9,10])).then(({GoalIcon:e})=>({default:e})),projects:()=>de(async()=>{const{ProjectsIcon:e}=await import("./index-CuDvoRSN.js");return{ProjectsIcon:e}},__vite__mapDeps([71,1,2,3,4,5,6,7,8,9,10])).then(({ProjectsIcon:e})=>({default:e}))},VUe=e=>{const t=jUe[e];return t?uNe(t):null},BUe=e=>{var t;const n=Zo(),r=n==null||(t=n.actions)===null||t===void 0?void 0:t[Zt.FollowAction];if(!n||!r)return null;const{value:o,isProject:a,...s}=r,i=e.as==="stack-item",l=o?Se.follow:Se.unfollow,d=o?Se.follow_project:Se.unfollow_project,u=o?Se.follow_goal:Se.unfollow_goal,p=i?a?d:u:l,m=o?Se.follow_project_description:Se.unfollow_project_description,g=o?Se.follow_goal_description:Se.unfollow_goal_description,b=i?a?m:g:l,y=a?"projects":"goal",E=VUe(y),w=_.createElement(E,{label:"Follow",testId:`smart-action-follow-action-${y}-icon`}),C=()=>{const{onError:x}=e,S=FUe(a,o);x==null||x({title:_.createElement(Ue,S),appearance:"error"})};return _.createElement(NUe,H({content:_.createElement(Ue,p),icon:w,testId:"smart-action-follow-action",tooltipMessage:_.createElement(Ue,b)},s,e,{onError:C}))},UUe=BUe;var vT={};Object.defineProperty(vT,"__esModule",{value:!0});var rZ=vT.default=void 0,HUe=oZ(c),zUe=je,WUe=oZ(V1);function oZ(e){return e&&e.__esModule?e:{default:e}}const aZ=e=>HUe.default.createElement(zUe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M16.587 6.003H15A1 1 0 0 1 15 4h3.9l.047.001a.98.98 0 0 1 .736.285l.032.032c.2.2.296.47.284.736l.001.048v3.896a1 1 0 1 1-2 0V7.411l-3.309 3.308a.977.977 0 0 1-1.374-.005l-.032-.032a.976.976 0 0 1-.005-1.374zM7.413 17.997H9A1 1 0 0 1 9 20H5.1l-.047-.001a.98.98 0 0 1-.736-.285l-.032-.032A.98.98 0 0 1 4 18.946v-3.944a1 1 0 1 1 2 0v1.587l3.309-3.308a.977.977 0 0 1 1.374.005l.032.032a.976.976 0 0 1 .005 1.374z"/></svg>'},e,{newIcon:WUe.default}));aZ.displayName="MediaServicesActualSizeIcon";rZ=vT.default=aZ;const GUe=({onClick:e,...t})=>{var n;const r=Zo(),o=Yu(),a=Oy({analytics:o}),s=r==null||(n=r.actions)===null||n===void 0?void 0:n[Zt.PreviewAction],i=c.useCallback(()=>{s&&a({actionType:Zt.PreviewAction,actionFn:async()=>sJ({download:s==null?void 0:s.downloadUrl,extensionKey:o==null?void 0:o.extensionKey,analytics:o,...s}),display:o==null?void 0:o.display,extensionKey:o==null?void 0:o.extensionKey}),e&&e()},[o,s,a,e]),d=t.as==="stack-item"?Se.preview_description:Se.preview_improved;return s?_.createElement(va,H({content:_.createElement(Ue,Se.preview_improved),icon:_.createElement(rZ,{label:"Open preview"}),onClick:i,testId:"smart-action-preview-action",tooltipMessage:_.createElement(Ue,d),hideTooltipOnMouseDown:!0},s,t)):null},qUe=GUe,YUe=({onClick:e,...t})=>{var n;const r=Zo(),o=Yu(),a=Oy({analytics:o}),s=r==null||(n=r.actions)===null||n===void 0?void 0:n[Zt.CopyLinkAction],[i,l]=c.useState(Se.copy_url_to_clipboard),d=c.useCallback(()=>{s&&s.url&&a({actionType:Zt.CopyLinkAction,actionFn:async()=>{var u;await navigator.clipboard.writeText((u=s.url)!==null&&u!==void 0?u:""),l(Se.copied_url_to_clipboard)},display:o==null?void 0:o.display,extensionKey:o==null?void 0:o.extensionKey}),e&&e()},[o,s,a,e]);return s?_.createElement(va,H({content:_.createElement(Ue,Se.copy_url_to_clipboard),icon:_.createElement(M1,{label:"copy url",size:"medium"}),onClick:d,testId:"smart-action-copy-link-action",tooltipMessage:_.createElement(Ue,i),tooltipOnHide:()=>l(Se.copy_url_to_clipboard)},s,t)):null},KUe=YUe,XUe="media",JUe=(e,...[t])=>{const[n,r,o,a]=e.split(".");return n==="screen"?{eventType:n,name:r,action:"viewed",attributes:t}:{eventType:n,actionSubject:r,action:o,actionSubjectId:a,attributes:t}},Sc=()=>{const{createAnalyticsEvent:e}=Kn();return{fireEvent:c.useCallback((...n)=>{e(JUe(...n)).fire(XUe)},[e])}},ZUe=100,kf=new ek.LRUMap(ZUe);class Q9 extends Error{constructor(t){super(t)}}const QUe=e=>{if(!e.body)throw new Error("Response body is empty");return e.body.pipeThrough(new TextDecoderStream).getReader()},e7=(e,t)=>{const n=e.endsWith("/")?e:`${e}/`,r=t.startsWith("/")?t.substring(1,t.length):t;return[n,r].join("")},eHe={JSM:"JSM",JSW:"JIRA-SOFTWARE",JWM:"JIRA-CORE",JPD:"JPD"},tHe=e=>e!==void 0&&["JPD","JSM","JSW","JWM"].includes(e),nHe=e=>tHe(e)?eHe[e]:e;async function*rHe(e){const t=QUe(e);let n=!1,r="";do try{const{value:o,done:a}=await t.read();if(n=a,o){const s=`${r}${o}`.split(`
`);r="";for(let i of s)try{const l=JSON.parse(i);l.type==="ERROR"&&t.cancel(),yield l}catch{r=i}}}catch(o){if(o instanceof DOMException&&o.name==="AbortError")n=!0;else throw t.cancel(),o}while(!n);if(r)throw new Error(`Not all the data was processed: ${r}`)}class oHe{constructor(t){var n;q(this,"state",{content:"",status:"ready"}),q(this,"subscribedStateSetters",new Set),q(this,"getRequestUrl",(r,o)=>{const a="assist/chat/v1/invoke_agent/stream";if(o||r){const s=o||nX(r);return e7(s,a)}return e7("/gateway/api/",a)}),q(this,"fetchStream",async()=>{const r={recipient_agent_named_id:"summary_agent",agent_input_context:{content_url:this.url,content_ari:this.ari,prompt_id:"smart_links",summary_output_mimetype:"text/markdown"}},o={method:"POST",headers:this.config.headers,body:JSON.stringify(r),credentials:"include"},a=await fetch(this.config.requestUrl,o);if(!a.ok||a.status>=400)throw new Error(`Status: ${a.status}
 URL: ${this.url}
 StatusText ${a.statusText}`);return rHe(a)}),this.config={requestUrl:this.getRequestUrl(t.envKey,t.baseUrl),headers:{"Content-Type":"application/json;charset=UTF-8","x-experience-id":"smart-link","x-product":((n=nHe(t.product))===null||n===void 0?void 0:n.toLowerCase())||"confluence"}},this.url=t.url,this.ari=t.ari,this.onStart=t.onStart,this.onSuccess=t.onSuccess,this.onError=t.onError}async summariseUrl(){this.state={status:"loading",content:""};for(const s of this.subscribedStateSetters)s(this.state);const t=tk();try{var n,r;(n=this.onStart)===null||n===void 0||n.call(this,t);const s=await this.fetchStream();let i="";for await(const l of s){if(l.type==="ANSWER_PART"){i+=l.message.content;for(const d of this.subscribedStateSetters)d({...this.state,content:i})}if(l.type==="FINAL_RESPONSE"&&(i=l.message.message.content),l.type==="ERROR"){var o;throw new Q9(l==null||(o=l.message)===null||o===void 0?void 0:o.message_template)}}(r=this.onSuccess)===null||r===void 0||r.call(this,t),this.state={status:"done",content:i}}catch(s){var a;let i=s instanceof Q9?s.message:"UNEXPECTED";(a=this.onError)===null||a===void 0||a.call(this,t,i),this.state={status:"error",content:"",error:i}}for(const s of this.subscribedStateSetters)s(this.state);return this.state}subscribe(t){return this.subscribedStateSetters.add(t),()=>{this.subscribedStateSetters.delete(t)}}}const aHe=e=>{var t;const{url:n,baseUrl:r,product:o,ari:a,envKey:s,onError:i,onStart:l,onSuccess:d}=e,[u,f]=c.useState(((t=kf.get(n))===null||t===void 0?void 0:t.state)||{status:"ready",content:""});return c.useEffect(()=>{var m;return n&&!kf.get(n)&&kf.set(n,new oHe({url:n,ari:a,baseUrl:r,product:o,envKey:s,onError:i,onStart:l,onSuccess:d})),(m=kf.get(n))===null||m===void 0?void 0:m.subscribe(f)},[n,r,i,l,d,o,a,s]),{summariseUrl:()=>{var m;return(m=kf.get(n))===null||m===void 0?void 0:m.summariseUrl()},state:u}},sZ=()=>{const{connections:e,product:t,isAdminHubAIEnabled:n}=Io();return c.useMemo(()=>({baseUrl:e.client.baseUrlOverride,envKey:e.client.envKey,product:t,isAdminHubAIEnabled:n}),[e.client.baseUrlOverride,e.client.envKey,t,n])},Zw="smart-link-ai-summary",Vy=e=>{var t;const{baseUrl:n,envKey:r,product:o}=sZ(),a=Hh(e),{fireEvent:s}=Sc(),i=(t=a.details)===null||t===void 0?void 0:t.data,l=i&&U4(i),d=i&&ns(i)||"",u=c.useCallback(m=>{Ep(Zw,m)},[]),f=c.useCallback(m=>{s("operational.summary.success",{}),cb(Zw,m)},[s]),p=c.useCallback((m,g)=>{const v=g===void 0?!0:!["ACCEPTABLE_USE_VIOLATIONS","HIPAA_CONTENT_DETECTED","EXCEEDING_CONTEXT_LENGTH_ERROR"].includes(g);s("operational.summary.failed",{reason:g||null,isSloError:v}),db(Zw,m)},[s]);return aHe({url:d,ari:l,product:o,envKey:r,baseUrl:n,onStart:u,onSuccess:f,onError:p})};var By={},Yh={};Object.defineProperty(Yh,"__esModule",{value:!0});Yh.default=void 0;var sHe=iZ(c),iHe=iZ(Oe);function iZ(e){return e&&e.__esModule?e:{default:e}}const lZ=e=>sHe.default.createElement(iHe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M1.75 3c0-.69.56-1.25 1.25-1.25h8c.69 0 1.25.56 1.25 1.25v8c0 .69-.56 1.25-1.25 1.25H3c-.69 0-1.25-.56-1.25-1.25z"/><path stroke="currentcolor" stroke-width="1.5" d="M6 15.25h6.75a2.5 2.5 0 0 0 2.5-2.5V6"/>'},e));lZ.displayName="CopyIcon";Yh.default=lZ;Object.defineProperty(By,"__esModule",{value:!0});var cZ=By.default=void 0,lHe=dZ(c),cHe=je,dHe=dZ(Yh);function dZ(e){return e&&e.__esModule?e:{default:e}}const uZ=e=>lHe.default.createElement(cHe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor"><path d="M10 19h8V8h-8zM8 7.992C8 6.892 8.902 6 10.009 6h7.982C19.101 6 20 6.893 20 7.992v11.016c0 1.1-.902 1.992-2.009 1.992H10.01A2 2 0 0 1 8 19.008z"/><path d="M5 16V4.992C5 3.892 5.902 3 7.009 3H15v13zm2 0h8V5H7z"/></g></svg>'},e,{newIcon:dHe.default}));uZ.displayName="CopyIcon";cZ=By.default=uZ;function uHe({url:e,onClick:t,testId:n,content:r,...o}){const{fireEvent:a}=Sc(),[s,i]=c.useState(Se.copy_summary_action_description),l=c.useCallback(async()=>{a("ui.button.clicked.copySummary",{}),await navigator.clipboard.writeText(r??""),i(Se.copied_summary_action_description),t==null||t()},[a,t,r]);return _.createElement(va,H({content:_.createElement(Ue,Se.copy_summary_action),icon:_.createElement(cZ,{label:"Copy Summary"}),onClick:l,testId:`${n}-copy-summary-action`,tooltipMessage:_.createElement(Ue,s),tooltipOnHide:()=>i(Se.copy_summary_action_description)},o))}const fZ=e=>_.createElement(YI,e,_.createElement("g",null,_.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.17 12C17.17 11.4477 17.6177 11 18.17 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H18.17C17.6177 13 17.17 12.5523 17.17 12Z",fill:"var(--ds-icon, #44546F)"}),_.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C12.5523 3 13 3.44772 13 4V5.83C13 6.38228 12.5523 6.83 12 6.83C11.4477 6.83 11 6.38228 11 5.83V4C11 3.44772 11.4477 3 12 3Z",fill:"var(--ds-icon, #44546F)"}),_.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 12C3 11.4477 3.44772 11 4 11H5.83C6.38228 11 6.83 11.4477 6.83 12C6.83 12.5523 6.38228 13 5.83 13H4C3.44772 13 3 12.5523 3 12Z",fill:"var(--ds-icon, #44546F)"}),_.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 17.17C12.5523 17.17 13 17.6177 13 18.17V20C13 20.5523 12.5523 21 12 21C11.4477 21 11 20.5523 11 20V18.17C11 17.6177 11.4477 17.17 12 17.17Z",fill:"var(--ds-icon, #44546F)"}),_.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.2929 14.2929C14.6835 13.9024 15.3166 13.9024 15.7071 14.2929L19.7071 18.2929C20.0977 18.6834 20.0977 19.3166 19.7071 19.7071C19.3166 20.0976 18.6835 20.0976 18.2929 19.7071L14.2929 15.7071C13.9024 15.3166 13.9024 14.6834 14.2929 14.2929Z",fill:"var(--ds-icon, #44546F)"}),_.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.7071 4.29289C20.0977 4.68342 20.0977 5.31658 19.7071 5.70711L15.7071 9.70711C15.3166 10.0976 14.6835 10.0976 14.2929 9.70711C13.9024 9.31658 13.9024 8.68342 14.2929 8.29289L18.2929 4.29289C18.6835 3.90237 19.3166 3.90237 19.7071 4.29289Z",fill:"var(--ds-icon, #44546F)"}),_.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.29289 4.29289C4.68342 3.90237 5.31658 3.90237 5.70711 4.29289L9.70711 8.29289C10.0976 8.68342 10.0976 9.31658 9.70711 9.70711C9.31658 10.0976 8.68342 10.0976 8.29289 9.70711L4.29289 5.70711C3.90237 5.31658 3.90237 4.68342 4.29289 4.29289Z",fill:"var(--ds-icon, #44546F)"}),_.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70711 14.2929C10.0976 14.6834 10.0976 15.3166 9.70711 15.7071L5.70711 19.7071C5.31658 20.0976 4.68342 20.0976 4.29289 19.7071C3.90237 19.3166 3.90237 18.6834 4.29289 18.2929L8.29289 14.2929C8.68342 13.9024 9.31658 13.9024 9.70711 14.2929Z",fill:"var(--ds-icon, #44546F)"}))),pZ=(e=!1,t)=>{var n,r;return!!(e&&(!(t==null||(n=t.meta)===null||n===void 0||(r=n.supportedFeature)===null||r===void 0)&&r.includes("AISummary")))},fHe=e=>{switch(e){case"ACCEPTABLE_USE_VIOLATIONS":return{message:Se.ai_summary_error_acceptable_use_violation,url:xLe};case"HIPAA_CONTENT_DETECTED":return{message:Se.ai_summary_error_hipaa_content_detected};case"EXCEEDING_CONTEXT_LENGTH_ERROR":return{message:Se.ai_summary_error_exceeding_context_length_error};default:return{message:Se.ai_summary_error_generic,url:_Le}}},pHe=({reason:e})=>{const{fireEvent:t}=Sc();return c.useEffect(()=>{t("ui.error.viewed.aiSummary",{reason:e})},[t,e]),null},mHe=({children:e,...t})=>_.createElement("a",H({href:CLe,target:"_blank",rel:"noopener noreferrer"},t),e),hHe=e=>{const{message:t,url:n}=fHe(e);return{appearance:"error",title:_.createElement(_.Fragment,null,_.createElement(pHe,{reason:e}),_.createElement(Ue,H({},t,{values:{a:r=>_.createElement(mHe,{href:n},r)}})))}};function gHe({url:e,onClick:t,onError:n,testId:r,status:o,summariseUrl:a,...s}){const{fireEvent:i}=Sc(),l=c.useCallback(u=>{(u==null?void 0:u.status)==="error"&&(n==null||n(hHe(u.error)))},[n]),d=c.useCallback(()=>{var u;i("ui.button.clicked.aiSummary",{}),i("track.aiInteraction.initiated",{aiFeatureName:"Smart Links Summary",proactiveAIGenerated:0,userGeneratedAI:1}),(u=a())===null||u===void 0||u.then(l,l),t==null||t()},[i,t,l,a]);return _.createElement(va,H({content:_.createElement(Ue,Se.ai_summary_action),icon:_.createElement(fZ,{label:"Summarise with AI"}),onClick:d,testId:`${r}-summarise-action`,isLoading:o==="loading",tooltipMessage:_.createElement(Ue,Se.ai_summary_action_description)},s))}const vHe=e=>{const{url:t,onLoadingChange:n,testId:r="smart-action-ai-summary-action"}=e,{state:{status:o,content:a},summariseUrl:s}=Vy(t);return c.useEffect(()=>{n==null||n(o==="loading")},[n,o]),o==="done"?_.createElement(uHe,H({},e,{testId:r,content:a})):_.createElement(gHe,H({},e,{testId:r,summariseUrl:s,status:o}))},bHe=e=>{var t;const n=Zo(),r=n==null||(t=n.actions)===null||t===void 0?void 0:t[lm.AISummaryAction];return r?_.createElement(vHe,H({},r,e)):null},yHe=bHe,EHe=({label:e})=>_.createElement("svg",{"aria-label":e,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_.createElement("path",{d:"M14 5L10 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),_.createElement("path",{d:"M14 5L7 12H17L10 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})),wHe=(e,t)=>{var n;const r={confluence:{page:{modalTitle:Se.automation_action_confluence_page_modal_title,modalDescription:Se.automation_action_confluence_page_modal_description}}};return r==null||(n=r[e])===null||n===void 0?void 0:n[t]},CHe=c.lazy(()=>de(()=>import("./index-Cy8Nz5_P.js"),__vite__mapDeps([72,1,2,3,4,5,6,7,8,9,10,73,74,75,69,76,64]))),_He=e=>{var t;const{formatMessage:n}=Ee(),r=$X(),{onClick:o}=e,a=Zo(),{fireEvent:s}=Sc(),i=a==null||(t=a.actions)===null||t===void 0?void 0:t[Zt.AutomationAction],l=c.useCallback(p=>{const{product:m,resourceType:g,baseAutomationUrl:v,objectAri:b,siteAri:y,canManageAutomation:E,analyticsSource:w,objectName:C}=p;s("ui.button.clicked.automationAction",{});const{modalTitle:x,modalDescription:S}=wHe(m,g)||{},I=x?_.createElement(Ue,x):void 0,A=S?_.createElement(Ue,H({},S,{values:{name:C,b:T=>_.createElement("strong",null,T),br:_.createElement("br",null)}})):void 0;r.open(_.createElement(CHe,{baseAutomationUrl:v,objectAri:b,siteAri:y,canManageAutomation:E,analyticsSource:w,modalTitle:I,modalDescription:A,onClose:()=>r.close()})),o==null||o()},[r,o,s]);if(!i)return null;const d=_.createElement(Ue,Se.automation_action_title),u=_.createElement(Ue,Se.automation_action_tooltip),f=n(Se.automation_action_icon_label);return _.createElement(_.Fragment,null,_.createElement(va,H({content:d,icon:_.createElement(EHe,{label:f}),testId:"smart-action-automation-action",tooltipMessage:u},e,{onClick:()=>l(i)})))},xHe=_He;var bT={},Uy={};Object.defineProperty(Uy,"__esModule",{value:!0});var mZ=Uy.default=void 0,SHe=hZ(c),kHe=hZ(Oe);function hZ(e){return e&&e.__esModule?e:{default:e}}const gZ=e=>SHe.default.createElement(kHe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M7.75 12.25v1.5a.5.5 0 0 0 .5.5h5.5a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-5.5a.5.5 0 0 0-.5.5zm0 0H3c-.69 0-1.25-.56-1.25-1.25V5.25m0-4.25v4.25m6 0v1.5a.5.5 0 0 0 .5.5h5.5a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5h-5.5a.5.5 0 0 0-.5.5zm0 0h-6"/>'},e));gZ.displayName="ChildIssuesIcon";mZ=Uy.default=gZ;Object.defineProperty(bT,"__esModule",{value:!0});var vZ=bT.default=void 0,IHe=bZ(c),THe=je,AHe=bZ(Uy);function bZ(e){return e&&e.__esModule?e:{default:e}}const yZ=e=>IHe.default.createElement(THe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><path d="M11 7h2v5h-2zm5 6h2v3h-2zM6 13h2v3H6z"/><path d="M7 11h10a1 1 0 0 1 1 1v1H6v-1a1 1 0 0 1 1-1"/><path fill-rule="nonzero" d="M5 18v1h4v-1zm0-2h4a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1a2 2 0 0 1 2-2m10 2v1h4v-1zm0-2h4a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-1a2 2 0 0 1 2-2M10 5v1h4V5zm0-2h4a2 2 0 0 1 2 2v1a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2"/></g></svg>'},e,{newIcon:AHe.default}));yZ.displayName="ChildIssuesIcon";vZ=bT.default=yZ;const DHe=M({transform:"rotate(180deg)",display:"inline-block"}),OHe=()=>k("span",{css:DHe},k(vZ,{label:"View recent links..."})),MHe=c.lazy(()=>de(()=>import("./index-CX2pQl4N.js"),__vite__mapDeps([77,1,2,3,4,5,6,7,8,9,10,69,78]))),$He=({onClick:e,...t})=>{var n;const r=$X(),o=Zo(),a=o==null||(n=o.actions)===null||n===void 0?void 0:n.ViewRelatedLinksAction,{fireEvent:s}=Sc(),i=c.useCallback(()=>{const l=a==null?void 0:a.ari;l&&r.open(k(MHe,{ari:l,showModal:!0,onClose:()=>r.close()})),s("ui.button.clicked.relatedLinks",{}),e==null||e()},[a==null?void 0:a.ari,s,r,e]);return a?k(va,H({content:k(Ue,Se.related_links_view_related_urls),icon:k(OHe,null),onClick:i,testId:"smart-action-view-related-links-action",ariaLabel:"View most recent pages or content types coming from or found on this link"},t)):null},RHe=$He,yb=Object.freeze(Object.defineProperty({__proto__:null,AISummaryAction:yHe,AutomationAction:xHe,CopyLinkAction:KUe,CustomAction:va,DeleteAction:kUe,DownloadAction:PUe,EditAction:$Ue,FollowAction:UUe,PreviewAction:qUe,ViewRelatedLinksAction:RHe},Symbol.toStringTag,{value:"Module"})),PHe=({item:e,size:t,appearance:n,asDropDownItems:r,onActionItemClick:o})=>{const{name:a,hideContent:s,hideIcon:i,onClick:l,isDisabled:d,...u}=e,f=c.useCallback(()=>{o&&o(),l&&l()},[o,l]),p=a in yb?yb[a]:void 0;if(!p)return null;const m={...u};return s&&!r&&(m.content=""),i&&(m.icon=void 0),e!=null&&e.entryPointWrapper&&(m.wrapper=e.entryPointWrapper),k(p,H({asDropDownItem:r,size:t,appearance:n,onClick:f,isDisabled:d},m))},LHe=e=>{switch(e){case Ps.Right:return M({WebkitBoxAlign:"end",MsFlexAlign:"end",justifyContent:"flex-end",textAlign:"right"});case Ps.Left:default:return M({WebkitBoxAlign:"start",MsFlexAlign:"start",justifyContent:"flex-start",textAlign:"left"})}},NHe=(e,t)=>{const n=yT(e);return t===Ps.Right?M({"> span":{marginLeft:`${n}rem`},"> span:first-child":{marginLeft:"initial"}}):M({"> span":{marginRight:`${n}rem`,"&:last-child":{marginRight:"initial"}}})},FHe=(e,t)=>{const n=aJ(e);return M`
		display: block;
		vertical-align: middle;
		${Zi(1,n+"rem")}

		> span, > div {
			vertical-align: middle;

			&[data-smart-element-date-time],
			&[data-smart-element-text] {
				// Show all/wrapped/truncated
				display: inline;
			}
		}

		${NHe(e,t)}
	`},jHe=(e,t,n,r,o)=>M(EZ(e,t),LHe(n),{minWidth:"10%"},r===nu.Flexible?"flex: 1 3;":"",e===Eo.Horizontal?FHe(t,n):"",o===Xa.Top?"align-self: flex-start;":""),Ri=({align:e=Ps.Left,children:t,overrideCss:n,direction:r=Eo.Horizontal,size:o=ze.Medium,testId:a="smart-element-group",width:s=nu.FitToContent,position:i=Xa.Center})=>k("div",{css:[jHe(r,o,e,s,i),n],"data-smart-element-group":!0,"data-testid":a},CZ(t,o)),VHe={[me.AssignedTo]:["inline"],[me.AssignedToGroup]:["inline"],[me.AttachmentCount]:["inline"],[me.AuthorGroup]:["inline"],[me.ChecklistProgress]:["inline"],[me.CollaboratorGroup]:["inline"],[me.CommentCount]:["inline"],[me.CreatedBy]:["inline"],[me.CreatedOn]:["inline"],[me.DueOn]:["inline"],[me.LatestCommit]:["inline"],[me.LinkIcon]:["inline"],[me.Location]:["inline"],[me.ModifiedBy]:["inline"],[me.ModifiedOn]:["inline"],[me.OwnedBy]:["inline"],[me.OwnedByGroup]:["inline"],[me.Preview]:["block"],[me.Priority]:["inline"],[me.ProgrammingLanguage]:["inline"],[me.Provider]:["inline"],[me.ReactCount]:["inline"],[me.ReadTime]:["inline"],[me.Snippet]:["block"],[me.SourceBranch]:["inline"],[me.SentOn]:["inline"],[me.State]:["inline"],[me.SubscriberCount]:["inline"],[me.SubTasksProgress]:["inline"],[me.StoryPoints]:["inline"],[me.TargetBranch]:["inline"],[me.Title]:["inline"],[me.ViewCount]:["inline"],[me.VoteCount]:["inline"]},BHe=e=>{switch(e){case Eo.Vertical:return M({flexDirection:"column",alignItems:"flex-start"});case Eo.Horizontal:default:return M({flexDirection:"row",alignItems:"center"})}},yT=e=>{switch(e){case ze.XLarge:return 1.25;case ze.Large:return 1;case ze.Medium:return .5;case ze.Small:default:return .25}},EZ=(e,t)=>M({alignItems:"center",display:"flex",gap:`${yT(t)}rem`,lineHeight:"1rem",minWidth:0,overflow:"hidden"},BHe(e),{"&:empty":{display:"none"},"& > *":{minWidth:0},"& > [data-fit-to-content]":{minWidth:"fit-content"}}),UHe=M`
	outline: none !important;
	outline-color: inherit;
	color: inherit;
	-webkit-tap-highlight-color: transparent;
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
`,HHe=e=>_.isValidElement(e)&&e.type===Kh,zHe=(e,t)=>{var n,r;return(n=(r=VHe[e])===null||r===void 0?void 0:r.includes(t))!==null&&n!==void 0?n:!1},WHe=e=>e.type()===null,GHe=e=>_.isValidElement(e)&&(mKe(e)||e.type===Ri),qHe=e=>{if(e===ze.XLarge)return M({maxHeight:"2rem"})},wZ=(e=[],t)=>e.filter(n=>{switch(n.name){case Zt.DeleteAction:case Zt.EditAction:case Zt.CustomAction:return!!Zt[n.name];default:return(t==null?void 0:t.actions)===void 0?!1:!!(n.name in t.actions&&t.actions[n.name])}}),CZ=(e,t)=>_.Children.map(e,n=>{if(GHe(n)||HHe(n)){const r=n,{size:o}=r.props;return _.cloneElement(r,{size:o||t})}return n}),Eb=(e=[],t="inline")=>{const n=e.reduce((r,o,a)=>{const{name:s,...i}=o,l=KJ[s],d=i;if(l&&zHe(s,t)){const u=_.createElement(l,H({key:a},d));if(!WHe(u))return[...r,u]}return r},[]);if(n.length)return n},YHe=M({display:"inline-flex",lineHeight:"1rem","> div":{alignItems:"center","button:focus-visible":{outlineOffset:"var(--ds-space-negative-025, -2px)"}}}),t7=(e=[],t=ze.Medium,n,r,o)=>e.map((a,s)=>k(PHe,{item:a,key:s,size:t,appearance:n,asDropDownItems:r,onActionItemClick:o})),Kh=({items:e=[],size:t=ze.Medium,appearance:n,visibleButtonsNum:r=2,onDropdownOpenChange:o})=>{const a=Zo(),s=X4(),[i,l]=c.useState(!1),d=c.useMemo(()=>wZ(e,a),[a,e]),u=d.length>r,f=c.useCallback(v=>{l(v.isOpen),o&&o(v.isOpen)},[o]),p=c.useCallback(()=>{i&&f({isOpen:!1})},[i,f]),m=c.useMemo(()=>{const v=u?d.slice(0,r-1):d;return t7(v,t,n,!1,p)},[n,u,p,d,t,r]),g=c.useMemo(()=>{const v=u?d.slice(r-1):[];if(v.length>0){const b=nJ[t],y=k(bc,{label:"more",color:"currentColor"}),E=k(Ue,Se.more_actions);return k(rT,{isOpen:i,onOpenChange:f,trigger:({triggerRef:w,...C})=>k(Bt,{content:E,hideTooltipOnClick:!0,testId:"action-group-more-button-tooltip",tag:"span"},k(ht,H({},C,{spacing:b,testId:"action-group-more-button",iconBefore:y,ref:w}))),testId:"action-group-dropdown",zIndex:s==null?void 0:s.zIndex},t7(v,t,n,!0,p))}return null},[n,u,i,p,f,d,t,s==null?void 0:s.zIndex,r]);return d.length>0?k("div",{css:YHe,className:"actions-button-group","data-action-open":i},k(lz,null,m,g)):null},KHe=(e,t)=>M`
	${EZ(e,t)}
	${UHe}
  justify-content: flex-start;
	[data-separator] + [data-separator]:before {
		content: '';
		margin-right: ${yT(t)}rem;
	}
	// Pull request elements: source branch  target branch
	[data-smart-element='${me.SourceBranch}']
		+ [data-smart-element='${me.TargetBranch}']:before {
		content: '';
	}
	// Pull request elements: target branch  source branch
	[data-smart-element='${me.TargetBranch}']
		+ [data-smart-element='${me.SourceBranch}']:before {
		content: '';
	}
`,Pn=({children:e,direction:t=Eo.Horizontal,size:n=ze.Medium,testId:r="smart-block",overrideCss:o,blockRef:a,onRender:s,onTransitionEnd:i})=>(c.useEffect(()=>{s&&s()},[s]),k("div",{css:[KHe(t,n),o],"data-smart-block":!0,"data-testid":r,onTransitionEnd:i,ref:a},CZ(e,n))),ET=e=>{const{actions:t,testId:n,onActionMenuOpenChange:r,size:o=ze.Medium,hideProvider:a}=e,s=Zo(),i=c.useMemo(()=>{var d;return((d=wZ(t,s))===null||d===void 0?void 0:d.length)>0},[t,s]),l=c.useCallback(d=>{r&&r({isOpen:d})},[r]);return _.createElement(Pn,H({},e,{testId:`${n}-resolved-view`}),!a&&_.createElement(gT,{testId:`${n}-provider`}),t&&i?_.createElement(Ri,{testId:"smart-element-group-actions",align:Ps.Right,direction:Eo.Horizontal,overrideCss:qHe(o),width:nu.Flexible},_.createElement(Kh,{onDropdownOpenChange:l,items:t,appearance:"default"})):null)},_Z=({status:e,testId:t="smart-footer-block",alwaysShow:n,...r})=>e!==ot.Resolved&&!n?null:_.createElement(ET,H({},r,{testId:t})),xZ=2,XHe=2,n7=1,JHe=(e,t)=>{const n=aJ(e);return M({lineHeight:`${n}rem`},Zi(t,n+"rem"))},ZHe=e=>e>XHe?xZ:e<n7?n7:e,wb=({maxLines:e=xZ,status:t=ot.Fallback,testId:n="smart-block-metadata",primary:r=[],secondary:o=[],...a})=>{if(r.length===0&&o.length===0||t!==ot.Resolved)return null;const s=Eb(r),i=Eb(o),{size:l=ze.Medium}=a,d=JHe(l,ZHe(e));return _.createElement(Pn,H({},a,{testId:`${n}-resolved-view`}),s&&_.createElement(Ri,{align:Ps.Left,overrideCss:d,direction:Eo.Horizontal,width:nu.Flexible},s),i&&_.createElement(Ri,{align:Ps.Right,overrideCss:d,direction:Eo.Horizontal,width:nu.Flexible},i))},QHe=(e,t)=>{if(e===Il.Left||e===Il.Right){const n=t?"0rem":"var(--container-padding)";return M`
			position: absolute;
			top: ${n};
			bottom: ${n};
			width: calc(var(--preview-block-width) - ${n});

			${e===Il.Left?`left: ${n};`:""}
			${e===Il.Right?`right: ${n};`:""}

      [data-smart-element-media='image'] {
				aspect-ratio: unset;
				padding-top: unset;
				width: 100%;
				height: 100%;
				object-fit: cover;
			}
		`}if(t)return M({marginLeft:"calc(var(--container-gap-left) * -1)",marginRight:"calc(var(--container-gap-right) * -1)","&:first-of-type":{marginTop:"calc(var(--container-padding) * -1)"},"&:last-of-type":{marginBottom:"calc(var(--container-padding) * -1)"}})},eze=({ignoreContainerPadding:e=!1,onError:t,overrideCss:n,placement:r,testId:o,overrideUrl:a,...s})=>{const[i,l]=c.useState(n),d=c.useCallback(()=>{l(M(QHe(r,e),n))},[e,n,r]);c.useEffect(()=>{d()},[e,n,r,d]);const u=c.useCallback(()=>{d()},[d]),f=c.useCallback(()=>{t&&t()},[t]);return k(Pn,H({},s,{overrideCss:i,testId:`${o}-resolved-view`}),k(GJ,{onError:f,onLoad:u,overrideUrl:a}))},Xu=({status:e=ot.Fallback,testId:t="smart-block-preview",overrideUrl:n,...r})=>k(eze,H({},r,{testId:t,overrideUrl:n})),r7=3,tze=6,nze=1,Cb=({maxLines:e=r7,status:t=ot.Fallback,testId:n="smart-block-snippet",text:r,...o})=>{if(t!==ot.Resolved&&!r)return null;const a=fNe(e,r7,tze,nze),s=r?"non-resolved":"resolved";return _.createElement(Pn,H({},o,{testId:`${n}-${s}-view`}),_.createElement(qJ,{maxLines:a,content:r}))},rze=({actionGroup:e,metadata:t=[],position:n,subtitle:r=[],testId:o,text:a,icon:s,title:i,metadataPosition:l,hideIcon:d,...u})=>{const f=Eb(t),p=Eb(r);return _.createElement(Pn,H({},u,{testId:`${o}-resolved-view`}),!d&&_.createElement(Fy,{overrideIcon:s,position:n}),_.createElement(Ri,{direction:Eo.Vertical,width:nu.Flexible,overrideCss:M({gap:"var(--ds-space-050, 0.25rem)"})},i,p&&_.createElement(Ri,{direction:Eo.Horizontal},p)),f&&_.createElement(Ri,{direction:Eo.Horizontal,align:Ps.Right,position:l??Xa.Center},f),e)},oze=M({cursor:"pointer",":hover":{color:"var(--ds-text-subtle, #8993A4)",textDecoration:"underline"}}),aze=(e,t)=>{const n=oJ(e);return M({flex:"1 1 auto",justifyContent:"flex-end"},t?oze:"",n,Zi(1,_p(e)),{color:"var(--ds-text-disabled, #6B778C)",":focus":{outline:"var(--ds-border-focused, #388BFF) solid 2px"}})},sze=({actionGroup:e,retry:t,position:n,testId:r,title:o,icon:a,hideIcon:s,...i})=>{const{descriptor:l,onClick:d,values:u}=t||{},{size:f=ze.Medium}=i,p=d!==void 0;return k(Pn,H({},i,{testId:`${r}-errored-view`}),!s&&k(Fy,{overrideIcon:a,position:n}),o,l&&k(Ri,{direction:Eo.Horizontal,align:Ps.Right},k("span",{className:p?"has-action":"",css:aze(f,p),onClick:d,"data-testid":`${r}-errored-view-message`,tabIndex:p?0:-1},k(Ue,H({},l,{values:u})))),e)},ize=({actionGroup:e,testId:t,title:n,hideIcon:r,...o})=>{const{size:a=ze.Medium}=o,s=rJ(a),i=Wh(s);return k(Pn,H({},o,{testId:`${t}-resolving-view`}),!r&&k("span",{css:i,"data-testid":`${t}-icon`},k(yi,{testId:`${t}-icon-loading`})),n,e)},lze=(e,t)=>{if(e&&!t)return M({".actions-button-group":{opacity:0},"&:hover .actions-button-group, .actions-button-group:focus-within":{opacity:1}})},cze=e=>{switch(e){case ot.Pending:case ot.Resolving:return ize;case ot.Resolved:return rze;case ot.Unauthorized:case ot.Forbidden:case ot.NotFound:case ot.Errored:case ot.Fallback:default:return sze}},Xh=({actions:e=[],anchorTarget:t,hideTitleTooltip:n,maxLines:r,onActionMenuOpenChange:o,onClick:a,overrideCss:s,status:i=ot.Fallback,showActionOnHover:l,testId:d="smart-block-title",text:u,icon:f,theme:p,hideRetry:m,metadataPosition:g,hideIcon:v=!1,...b})=>{m&&b.retry&&delete b.retry;const[y,E]=c.useState(!1),w=c.useCallback(D=>{E(D),o&&o({isOpen:D})},[o]),C=e.length>0&&_.createElement(Kh,{items:e,visibleButtonsNum:l?1:2,onDropdownOpenChange:w}),x=lze(l,y),S=M(x,s),I=u?{text:u}:{},A=xc(),T=_.createElement(YJ,H({hideTooltip:n,maxLines:r,onClick:a,onMouseDown:A,target:t,theme:p},I)),O=cze(i);return _.createElement(O,H({},b,{actionGroup:C,overrideCss:S,testId:d,title:T,metadataPosition:g,hideIcon:v,icon:f}))},dze=()=>{const{connections:e}=Io(),t=mJ(e.client);return c.useCallback(async n=>await t.relatedUrls(n),[t])},uze=({testId:e,...t})=>_.createElement(Pn,H({},t,{testId:e}),_.createElement(Hr,{message:{descriptor:Se.generic_error_message}}));var wT={},Hy={};Object.defineProperty(Hy,"__esModule",{value:!0});var fze=Hy.default=void 0,pze=SZ(c),mze=je,hze=SZ(ku);function SZ(e){return e&&e.__esModule?e:{default:e}}const kZ=e=>pze.default.createElement(mze.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="m11.221 9.322-2.929 2.955a1.01 1.01 0 0 0 0 1.419.986.986 0 0 0 1.405 0l2.298-2.317 2.307 2.327a.99.99 0 0 0 1.407 0 1.01 1.01 0 0 0 0-1.419l-2.94-2.965A1.1 1.1 0 0 0 11.991 9c-.279 0-.557.107-.77.322"/></svg>'},e,{newIcon:hze.default,iconType:"utility"}));kZ.displayName="ChevronUpIcon";fze=Hy.default=kZ;Object.defineProperty(wT,"__esModule",{value:!0});var IZ=wT.default=void 0,gze=CT(c),vze=CT(ku),bze=CT(Hy);function CT(e){return e&&e.__esModule?e:{default:e}}const TZ=e=>gze.default.createElement(vze.default,Object.assign({LEGACY_fallbackIcon:bze.default},e));TZ.Name="ChevronUpIconMigration";IZ=wT.default=TZ;const AZ=e=>{if(typeof(e==null?void 0:e.summary)=="string"){const t=e.summary.trim();return t||void 0}},ru={Object:0,Document:5,"schema:TextDigitalDocument":10,"schema:DigitalDocument":10,"schema:BlogPosting":10,"schema:SpreadsheetDigitalDocument":10,"schema:PresentationDigitalDocument":10,"atlassian:Goal":10,"atlassian:Task":10,"atlassian:Project":10,"atlassian:Template":10,"atlassian:SourceCodeCommit":10,"atlassian:SourceCodeRepository":10,"atlassian:SourceCodePullRequest":10,"atlassian:SourceCodeReference":10,"atlassian:UndefinedLink":10},DZ=e=>{const t=e["@type"];if(Array.isArray(t))switch(t.sort((r,o)=>ru[o]-ru[r])[0]){case"atlassian:UndefinedLink":return`var(--ds-text-danger, ${yr})`;default:return}},Ja=(e,t)=>{var n;return typeof t>"u"?!0:!(t.hide||(n=t.exclude)!==null&&n!==void 0&&n.includes(e))};let pa=function(e){return e.DownloadAction="DownloadAction",e.PreviewAction="PreviewAction",e.ViewAction="ViewAction",e.ChangeStatusAction="ChangeStatusAction",e.FollowAction="FollowAction",e.CopyLinkAction="CopyLinkAction",e.AISummaryAction="AISummaryAction",e.AutomationAction="AutomationAction",e}({});const yze=({url:e})=>({id:"view-content",text:_.createElement(Ue,Se.view),promise:()=>MLe(e)}),Eze=({url:e})=>({id:"download-content",text:_.createElement(Ue,Se.download),promise:()=>jX(e)}),wze=e=>["ViewAction","DownloadAction"].indexOf(e["@type"])>-1,Cze=(e,t)=>{switch(t["@type"]){case"ViewAction":return yze({url:e.url});case"DownloadAction":return Eze({url:e["atlassian:downloadUrl"]})}},_ze=(e,t)=>{switch(e["@type"]){case"ViewAction":return Ja(pa.ViewAction,t);case"DownloadAction":return Ja(pa.DownloadAction,t)}return!0},xze=(e,t,n)=>{const r=Cze(e,t),o={type:"client",key:t.identifier,action:{type:t["@type"],promise:r.promise}};return{...r,promise:()=>n(o)}},_T=e=>{let t=e&&e["schema:potentialAction"];return t?(t&&!Array.isArray(t)&&(t=[t]),t):[]};function Sze(e,t,n){return _T(e).filter(s=>wze(s)&&_ze(s,n)).map(s=>xze(e,s,t))}var xT={},Jh={};Object.defineProperty(Jh,"__esModule",{value:!0});var OZ=Jh.default=void 0,kze=MZ(c),Ize=MZ(Oe);function MZ(e){return e&&e.__esModule?e:{default:e}}const $Z=e=>kze.default.createElement(Ize.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" d="M4.25 13.25v-.75h-.2l-.172.099zm-3.5 2H0a.75.75 0 0 0 1.122.651zM2.625 2h10.75V.5H2.625zM14.5 3.125v8.25H16v-8.25zM13.375 12.5H4.25V14h9.125zm-9.497.099-3.5 2 .744 1.302 3.5-2zM1.5 15.25V3.125H0V15.25zM4 6.5h8V5H4zm0 3h5V8H4zm10.5 1.875c0 .621-.504 1.125-1.125 1.125V14A2.625 2.625 0 0 0 16 11.375zM13.375 2c.621 0 1.125.504 1.125 1.125H16A2.625 2.625 0 0 0 13.375.5zM2.625.5A2.625 2.625 0 0 0 0 3.125h1.5C1.5 2.504 2.004 2 2.625 2z"/>'},e));$Z.displayName="CommentIcon";OZ=Jh.default=$Z;var Zh={};Object.defineProperty(Zh,"__esModule",{value:!0});var RZ=Zh.default=void 0,Tze=PZ(c),Aze=je,Dze=PZ(Jh);function PZ(e){return e&&e.__esModule?e:{default:e}}const LZ=e=>Tze.default.createElement(Aze.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><path d="M4.998 11.513c0-3.038 3.141-5.51 7.002-5.51s7.002 2.472 7.002 5.51c0 3.039-3.141 5.51-7.002 5.51s-7.002-2.471-7.002-5.51m14.84 7.771v-.001s-1.564-2.26-.767-3.116l-.037.02C20.261 14.902 21 13.279 21 11.513 21 7.371 16.963 4 12 4s-9 3.37-9 7.513 4.037 7.514 9 7.514c1.42 0 2.76-.285 3.957-.776 1.003 1.022 2.287 1.572 3.24 1.719l.002-.003a.5.5 0 0 0 .164.033.515.515 0 0 0 .474-.716"/><rect width="10" height="2" x="7" y="9" rx="1"/><rect width="5" height="2" x="7" y="12" rx="1"/></g></svg>'},e,{newIcon:Dze.default}));LZ.displayName="CommentIcon";RZ=Zh.default=LZ;const Oze=ro({__proto__:null,get default(){return RZ}},[Zh]);Object.defineProperty(xT,"__esModule",{value:!0});var NZ=xT.default=void 0,Mze=ST(c),$ze=ST(Jh),Rze=ST(Zh);function ST(e){return e&&e.__esModule?e:{default:e}}const FZ=e=>Mze.default.createElement($ze.default,Object.assign({LEGACY_fallbackIcon:Rze.default},e));FZ.Name="CommentIconMigration";NZ=xT.default=FZ;const Pze=e=>{const t=e["schema:commentCount"];if(t)return{text:t.toString(),icon:_.createElement(NZ,{label:"comment-count",key:"comments-count-icon",LEGACY_size:"small",color:`var(--ds-icon-subtle, ${Rl})`})}},kT=e=>{if(e["atlassian:downloadUrl"])return e["atlassian:downloadUrl"]};var IT={},Qh={};Object.defineProperty(Qh,"__esModule",{value:!0});var jZ=Qh.default=void 0,Lze=VZ(c),Nze=VZ(Oe);function VZ(e){return e&&e.__esModule?e:{default:e}}const BZ=e=>Lze.default.createElement(Nze.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M4.5 8.75.75 6 4.5 3.25m7 4L15.25 10l-3.75 2.75M11 1.25l-6 13.5"/>'},e));BZ.displayName="AngleBracketsIcon";jZ=Qh.default=BZ;var eg={};Object.defineProperty(eg,"__esModule",{value:!0});var UZ=eg.default=void 0,Fze=HZ(c),jze=je,Vze=HZ(Qh);function HZ(e){return e&&e.__esModule?e:{default:e}}const zZ=e=>Fze.default.createElement(jze.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M14.16 4.06a1 1 0 0 0-1.27.62L8.06 18.73a1 1 0 0 0 1.89.65l4.83-14.04a1 1 0 0 0-.62-1.27m-6.14 8.2-2.58-2.5 2.8-2.72a1 1 0 1 0-1.39-1.44L3.31 9.04a1 1 0 0 0 0 1.44l3.32 3.22a1 1 0 1 0 1.39-1.44m12.22 1.57-3.32-3.22a1 1 0 1 0-1.39 1.44l2.58 2.5-2.8 2.72a1 1 0 1 0 1.39 1.44l3.54-3.43a1 1 0 0 0 0-1.44"/></svg>'},e,{newIcon:Vze.default}));zZ.displayName="CodeIcon";UZ=eg.default=zZ;const Bze=ro({__proto__:null,get default(){return UZ}},[eg]);Object.defineProperty(IT,"__esModule",{value:!0});var WZ=IT.default=void 0,Uze=TT(c),Hze=TT(Qh),zze=TT(eg);function TT(e){return e&&e.__esModule?e:{default:e}}const GZ=e=>Uze.default.createElement(Hze.default,Object.assign({LEGACY_fallbackIcon:zze.default},e));GZ.Name="AngleBracketsIconMigration";WZ=IT.default=GZ;const Wze=e=>{const t=e["schema:programmingLanguage"];if(t)return{text:t,icon:_.createElement(WZ,{LEGACY_size:"small",label:"code",color:`var(--ds-icon-subtle, ${Rl})`})}};var zy={},tg={};Object.defineProperty(tg,"__esModule",{value:!0});tg.default=void 0;var Gze=qZ(c),qze=qZ(Oe);function qZ(e){return e&&e.__esModule?e:{default:e}}const YZ=e=>Gze.default.createElement(qze.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M5 9.75H2.625C1.59 9.75.75 10.59.75 11.625V13m14.5 1v-1.5a2.75 2.75 0 0 0-2.75-2.75h-3a2.75 2.75 0 0 0-2.75 2.75V14m7-9.5a2.75 2.75 0 1 1-5.5 0 2.75 2.75 0 0 1 5.5 0Zm-8 1a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0Z"/>'},e));YZ.displayName="PeopleGroupIcon";tg.default=YZ;Object.defineProperty(zy,"__esModule",{value:!0});var AT=zy.default=void 0,Yze=KZ(c),Kze=je,Xze=KZ(tg);function KZ(e){return e&&e.__esModule?e:{default:e}}const XZ=e=>Yze.default.createElement(Kze.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><circle cx="16" cy="9" r="3"/><circle cx="8" cy="6" r="3"/><path d="M11 15c0-1.105.887-2 2-2h6c1.105 0 2 .885 2 2v3.73c0 3.027-10 3.027-10 0z"/><path d="M13 12a1.997 1.997 0 0 0-2-2H5c-1.113 0-2 .897-2 2.003v3.826c0 1.921 4.054 2.518 7 1.984v-2.807A3 3 0 0 1 12.997 12z"/></g></svg>'},e,{newIcon:Xze.default}));XZ.displayName="PeopleIcon";AT=zy.default=XZ;const Jze=ro({__proto__:null,get default(){return AT}},[zy]),Zze=e=>{const t=e["atlassian:subscriberCount"];if(t)return{text:t.toString(),icon:_.createElement(AT,{size:"small",label:"subscribers",primaryColor:`var(--ds-icon-subtle, ${Rl})`})}};var DT={},ng={};Object.defineProperty(ng,"__esModule",{value:!0});ng.default=void 0;var Qze=JZ(c),eWe=JZ(Oe);function JZ(e){return e&&e.__esModule?e:{default:e}}const ZZ=e=>Qze.default.createElement(eWe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M10.25 4.5 5.75 9a1.414 1.414 0 1 0 2 2l4.5-4.5a2.828 2.828 0 1 0-4-4L3.75 7a4.243 4.243 0 0 0 6 6l2.5-2.5"/>'},e));ZZ.displayName="AttachmentIcon";ng.default=ZZ;var rg={};Object.defineProperty(rg,"__esModule",{value:!0});var QZ=rg.default=void 0,tWe=eQ(c),nWe=je,rWe=eQ(ng);function eQ(e){return e&&e.__esModule?e:{default:e}}const tQ=e=>tWe.default.createElement(nWe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M11.643 17.965c-1.53 1.495-4.016 1.496-5.542.004a3.773 3.773 0 0 1 .002-5.412l7.147-6.985a2.316 2.316 0 0 1 3.233-.003c.893.873.895 2.282.004 3.153l-6.703 6.55a.653.653 0 0 1-.914-.008.62.62 0 0 1 0-.902l6.229-6.087a.94.94 0 0 0 0-1.353.995.995 0 0 0-1.384 0l-6.23 6.087a2.5 2.5 0 0 0 0 3.607 2.643 2.643 0 0 0 3.683.009l6.703-6.55a4.074 4.074 0 0 0-.003-5.859 4.306 4.306 0 0 0-6.002.003l-7.148 6.985a5.655 5.655 0 0 0-.001 8.118c2.29 2.239 6.015 2.238 8.31-.005l6.686-6.533a.94.94 0 0 0 0-1.353.995.995 0 0 0-1.384 0z"/></svg>'},e,{newIcon:rWe.default}));tQ.displayName="AttachmentIcon";QZ=rg.default=tQ;const oWe=ro({__proto__:null,get default(){return QZ}},[rg]);Object.defineProperty(DT,"__esModule",{value:!0});var nQ=DT.default=void 0,aWe=OT(c),sWe=OT(ng),iWe=OT(rg);function OT(e){return e&&e.__esModule?e:{default:e}}const rQ=e=>aWe.default.createElement(sWe.default,Object.assign({LEGACY_fallbackIcon:iWe.default},e));rQ.Name="AttachmentIconMigration";nQ=DT.default=rQ;const lWe=e=>{const t=e["atlassian:attachmentCount"];if(t)return{text:t.toString(),icon:_.createElement(nQ,{LEGACY_size:"small",label:"attachments",color:`var(--ds-icon-subtle, ${Rl})`})}},cWe=(e,t)=>{if(!Ja(pa.DownloadAction,t))return;if(_T(e).find(r=>r["@type"]==="DownloadAction"))return{downloadUrl:kT(e)}},oQ="https://www.atlassian.com/#Confluence",Wy="https://www.atlassian.com/#Jira",dWe="JiraTask",uWe="JiraSubTask",fWe="JiraStory",pWe="JiraBug",mWe="JiraEpic",hWe="JiraIncident",gWe="JiraServiceRequest",vWe="JiraChange",bWe="JiraProblem",yWe="JiraCustomTaskType",EWe=["jira-object-provider","confluence-object-provider","watermelon-object-provider"],wWe=(e,t)=>{switch(e){case"schema:BlogPosting":return{icon:Ce.Blog,label:t||"Blog"};case"schema:DigitalDocument":return{icon:Ce.File,label:t||"File"};case"schema:TextDigitalDocument":return{icon:Ce.Document,label:t||"Document"};case"schema:PresentationDigitalDocument":return{icon:Ce.Presentation,label:t||"Presentation"};case"schema:SpreadsheetDigitalDocument":return{icon:Ce.Spreadsheet,label:t||"Spreadsheet"};case"atlassian:Template":return{icon:Ce.Template,label:t||"Template"};case"atlassian:UndefinedLink":return{icon:Ce.Document,label:t||"Undefined link"};default:return}},CWe=e=>{switch(e){case"folder":return{icon:Ce.Folder,label:"Folder"};case"text/plain":case"application/vnd.oasis.opendocument.text":case"application/vnd.apple.pages":return{icon:Ce.Document,label:"Document"};case"application/pdf":return{icon:Ce.PDF,label:"PDF document"};case"application/vnd.oasis.opendocument.presentation":case"application/vnd.apple.keynote":return{icon:Ce.Presentation,label:"Presentation"};case"application/vnd.oasis.opendocument.spreadsheet":case"application/vnd.apple.numbers":return{icon:Ce.Spreadsheet,label:"Spreadsheet"};case"application/vnd.google-apps.document":return{icon:Ce.GoogleDocs,label:"Google Docs"};case"application/vnd.google-apps.form":return{icon:Ce.GoogleForms,label:"Google Form"};case"application/vnd.google-apps.spreadsheet":return{icon:Ce.GoogleSheets,label:"Google Sheets"};case"application/vnd.google-apps.presentation":return{icon:Ce.GoogleSlides,label:"Google Slides"};case"application/vnd.ms-excel":case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":return{icon:Ce.MSExcel,label:"Excel spreadsheet"};case"application/vnd.ms-powerpoint":case"application/vnd.openxmlformats-officedocument.presentationml.presentation":return{icon:Ce.MSPowerpoint,label:"PowerPoint presentation"};case"application/msword":case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":return{icon:Ce.MSWord,label:"Word document"};case"image/png":case"image/jpeg":case"image/bmp":case"image/webp":case"image/svg+xml":return{icon:Ce.Image,label:"Image"};case"image/gif":return{icon:Ce.GIF,label:"GIF"};case"audio/midi":case"audio/mpeg":case"audio/webm":case"audio/ogg":case"audio/wav":return{icon:Ce.Audio,label:"Audio"};case"video/mp4":case"video/quicktime":case"video/mov":case"video/webm":case"video/ogg":case"video/x-ms-wmv":case"video/x-msvideo":return{icon:Ce.Video,label:"Video"};case"text/css":case"text/html":case"application/javascript":return{icon:Ce.Code,label:"Source Code"};case"application/zip":case"application/x-tar":case"application/x-gtar":case"application/x-7z-compressed":case"application/x-apple-diskimage":case"application/vnd.rar":return{icon:Ce.Archive,label:"Archive"};case"application/dmg":return{icon:Ce.Executable,label:"Executable"};case"application/sketch":return{icon:Ce.Sketch,label:"Sketch"};case"application/octet-stream":return{icon:Ce.Generic,label:"Binary file"};case"application/invision.prototype":return{icon:Ce.Generic,label:"Prototype"};default:return}},_We=(e,t="Task")=>{switch(e){case"JiraBug":return{icon:Ce.Bug,label:t};case"JiraChange":return{icon:Ce.Change,label:t};case"JiraEpic":return{icon:Ce.Epic,label:t};case"JiraIncident":return{icon:Ce.Incident,label:t};case"JiraProblem":return{icon:Ce.Problem,label:t};case"JiraServiceRequest":return{icon:Ce.ServiceRequest,label:t};case"JiraStory":return{icon:Ce.Story,label:t};case"JiraSubTask":return{icon:Ce.SubTask,label:t};case"JiraTask":default:return{icon:Ce.Task,label:t}}},aQ=(e,t)=>{const n=e&&Xi(e);return n?{label:t,url:n}:void 0},Gy=e=>{if(!e)return;const t=e.generator,n=t==null?void 0:t["@id"],r=t==null?void 0:t.icon,o=(t==null?void 0:t.name)||Ji(e);return n===oQ?{icon:Ce.Confluence,label:o||"Confluence"}:n===Wy?{icon:Ce.Jira,label:o||"Jira"}:aQ(r,o)},xWe=["default","success","removed","inprogress","new","moved"],SWe=e=>xWe.indexOf(e)!==-1,kWe={open:"inprogress",merged:"success",declined:"removed",closed:"success",draft:"inprogress",archived:"default"},IWe=["current"],TWe={blue:{backgroundColor:"var(--ds-background-accent-blue-subtler, #CCE0FF)",color:"var(--ds-text-accent-blue, #0055CC)"},gray:{backgroundColor:"var(--ds-background-accent-gray-subtler, #DCDFE4)",color:"var(--ds-text-accent-gray, #44546F)"},green:{backgroundColor:"var(--ds-background-accent-green-subtler, #BAF3DB)",color:"var(--ds-text-accent-green, #216E4E)"},lime:{backgroundColor:"var(--ds-background-accent-lime-subtler, #D3F1A7)",color:"var(--ds-text-accent-lime, #4C6B1F)"},magenta:{backgroundColor:"var(--ds-background-accent-magenta-subtler, #FDD0EC)",color:"var(--ds-text-accent-magenta, #943D73)"},orange:{backgroundColor:"var(--ds-background-accent-orange-subtler, #FEDEC8)",color:"var(--ds-text-accent-orange, #A54800)"},purple:{backgroundColor:"var(--ds-background-accent-purple-subtler, #DFD8FD)",color:"var(--ds-text-accent-purple, #5E4DB2)"},red:{backgroundColor:"var(--ds-background-accent-red-subtler, #FFD5D2)",color:"var(--ds-text-accent-red, #AE2E24)"},teal:{backgroundColor:"var(--ds-background-accent-teal-subtler, #C6EDFB)",color:"var(--ds-text-accent-teal, #206A83)"},yellow:{backgroundColor:"var(--ds-background-accent-yellow-subtler, #F8E6A0)",color:"var(--ds-text-accent-yellow, #7F5F01)"}},h0=e=>{const t=e["atlassian:state"];if(t){if(typeof t=="string"){const n=t.toLowerCase();if(!IWe.includes(n))return{text:n,appearance:kWe[n]||"default"}}else if((t["@type"]==="Link"||t["@type"]==="Object")&&t.name){const n=t.accent;return{text:t.name,appearance:t.appearance||"default",style:n?TWe[n]:void 0}}}},AWe=e=>{const t=e.tag;if(t){if(typeof t=="string")return{text:t,appearance:"default"};if(Array.isArray(t)){const n=t.map(o7).filter(r=>!!r);if(n.length>0)return n.shift()}else return o7(t)}},o7=e=>{if(typeof e=="string")return{text:e,appearance:"default"};if(e["@type"]==="Link"){if(e.name)return{text:e.name,appearance:"default"}}else if(e.name){const t=e.appearance;return{text:e.name,appearance:SWe(t)&&t||"default"}}},DWe=e=>{const t=e["atlassian:taskStatus"];if(t&&t.name)return{text:t.name,appearance:"success"}},MT=e=>{const t=e["atlassian:taskType"]||e.taskType;if(t)return typeof t=="string"?{id:t}:t["@type"]==="Link"?{id:t.href}:{id:t["@id"],name:t.name,icon:t.icon&&Xi(t.icon)}},OWe=["schema:BlogPosting","schema:TextDigitalDocument","schema:DigitalDocument","schema:PresentationDigitalDocument","schema:SpreadsheetDigitalDocument"],$T=e=>{const t=Uh(e);if(t){if(t.includes("atlassian:SourceCodePullRequest"))return h0(e);if(t.includes("atlassian:Task")){const n=e,r=AWe(n),o=DWe(n),a=MWe(n);return r||o||a}else{if(t.some(n=>OWe.includes(n)))return h0(e);if(t.includes("atlassian:Goal"))return h0(e);if(t.includes("atlassian:Project"))return h0(e);if(t.includes("atlassian:UndefinedLink"))return{text:"UNDEFINED",appearance:"inprogress"}}}},MWe=e=>{const t=MT(e);if(t&&t.name)return{text:t.name,appearance:"success"}},$We=e=>e["schema:fileFormat"];function qy({fileFormatIcon:e,documentTypeIcon:t,urlIcon:n,providerIcon:r}){return n||e||t||r}var Yy={};Object.defineProperty(Yy,"__esModule",{value:!0});var RT=Yy.default=void 0,RWe=sQ(c),PWe=je,LWe=sQ(tg);function sQ(e){return e&&e.__esModule?e:{default:e}}const iQ=e=>RWe.default.createElement(PWe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><path d="M8.13 10H4a2 2 0 0 0-2 2v3.73c0 1.31 1.87 2.05 4 2.23V15a3 3 0 0 1 3-3h.35a4 4 0 0 1-1.23-2m7.75 0H20c1.11 0 2 .89 2 2v3.73c0 1.31-1.87 2.05-4 2.23V15a3 3 0 0 0-3-3h-.35a4 4 0 0 0 1.23-2M9.97 5.55a3 3 0 1 0-1.96 3.27 4 4 0 0 1 1.96-3.27M16 8.83a3 3 0 1 0-1.96-3.28A4 4 0 0 1 16 8.83"/><path d="M7 15c0-1.105.887-2 2-2h6c1.105 0 2 .885 2 2v3.73c0 3.027-10 3.027-10 0z"/><circle cx="12" cy="9" r="3"/></g></svg>'},e,{newIcon:LWe.default}));iQ.displayName="PeopleGroupIcon";RT=Yy.default=iQ;const NWe=ro({__proto__:null,get default(){return RT}},[Yy]);var PT={};Object.defineProperty(PT,"__esModule",{value:!0});var lQ=PT.default=void 0,FWe=cQ(c),jWe=cQ(Oe);function cQ(e){return e&&e.__esModule?e:{default:e}}const dQ=e=>FWe.default.createElement(jWe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M8 10a2 2 0 1 0 0-4m0 4a2 2 0 1 1 0-4m0 4v6M8 6V0"/>'},e));dQ.displayName="CommitIcon";lQ=PT.default=dQ;const Mx=e=>_.createElement(Sr,H({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#ffab00" fill-rule="evenodd" d="M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2m6 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2m-.986 1.834a3.001 3.001 0 0 1 0-5.668A1 1 0 0 1 7 5V3a1 1 0 1 1 2 0v2q0 .085-.014.166a3.001 3.001 0 0 1 0 5.668Q9 10.915 9 11v2a1 1 0 0 1-2 0v-2q0-.085.014-.166"/></svg>'},e,{size:"small"}));Mx.displayName="Commit16Icon";const LT=({label:e,testId:t})=>Pe("icon-object-migration")?_.createElement(hr,{icon:lQ,appearance:"orangeBold",size:"16",label:e,testId:t,LEGACY_fallbackComponent:_.createElement(Mx,{label:e,testId:t})}):_.createElement(Mx,{label:e,testId:t});LT.displayName="Commit16Icon";const VWe=Object.freeze(Object.defineProperty({__proto__:null,default:LT},Symbol.toStringTag,{value:"Module"}));var NT={};Object.defineProperty(NT,"__esModule",{value:!0});var uQ=NT.default=void 0,BWe=fQ(c),UWe=fQ(Oe);function fQ(e){return e&&e.__esModule?e:{default:e}}const pQ=e=>BWe.default.createElement(UWe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M8 3.25h1.75a2 2 0 0 1 2 2v6m-7.5-6.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm0 0v6.5m0 0a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm7.5 0a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"/>'},e));pQ.displayName="PullRequestIcon";uQ=NT.default=pQ;const $x=e=>_.createElement(Sr,H({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#36b37e" fill-rule="evenodd" d="M6.417 6H9a1 1 0 0 1 1 1v1a1 1 0 0 0 2 0V7a3 3 0 0 0-3-3H6.415l.294-.295a1 1 0 1 0-1.413-1.414l-2.003 2a1 1 0 0 0 .001 1.415l2.002 2.001a1 1 0 0 0 1.414-.002 1 1 0 0 0-.001-1.413zM2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2m9 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4"/></svg>'},e,{size:"small"}));$x.displayName="PullRequest16Icon";const FT=({label:e,testId:t})=>Pe("icon-object-migration")?_.createElement(hr,{icon:uQ,appearance:"greenBold",size:"16",label:e,testId:t,LEGACY_fallbackComponent:_.createElement($x,{label:e,testId:t})}):_.createElement($x,{label:e,testId:t});FT.displayName="PullRequest16Icon";const HWe=Object.freeze(Object.defineProperty({__proto__:null,default:FT},Symbol.toStringTag,{value:"Module"}));var jT={};Object.defineProperty(jT,"__esModule",{value:!0});var mQ=jT.default=void 0,zWe=hQ(c),WWe=hQ(Oe);function hQ(e){return e&&e.__esModule?e:{default:e}}const gQ=e=>zWe.default.createElement(WWe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M4.25 4.75a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm0 0V9m1.5 3.75a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 0h3.5a2.5 2.5 0 0 0 2.5-2.5v-5.5m0 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/>'},e));gQ.displayName="BranchIcon";mQ=jT.default=gQ;const Rx=e=>_.createElement(Sr,H({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684ff" fill-rule="evenodd" d="M10 8.732v.28A1.993 1.993 0 0 1 8.002 11l-.004 2A3.995 3.995 0 0 0 12 9.007v-.274a2 2 0 1 0-2 0m-4-3a2 2 0 1 0-2 0v4.536a2 2 0 1 0 2 0zM2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2"/></svg>'},e,{size:"small"}));Rx.displayName="Branch16Icon";const VT=({label:e,testId:t})=>Pe("icon-object-migration")?_.createElement(hr,{icon:mQ,appearance:"blueBold",size:"16",label:e,testId:t,LEGACY_fallbackComponent:_.createElement(Rx,{label:e,testId:t})}):_.createElement(Rx,{label:e,testId:t});VT.displayName="Branch16Icon";const GWe=Object.freeze(Object.defineProperty({__proto__:null,default:VT},Symbol.toStringTag,{value:"Module"})),Px=e=>_.createElement(Sr,H({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#6554c0" fill-rule="evenodd" d="M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2m2.92 4.72L2.34 7.3a1 1 0 0 0 0 1.414l2.58 2.578a1 1 0 0 0 1.414-1.416L4.46 8.006l1.873-1.871A1 1 0 1 0 4.92 4.72m4.792 0a1 1 0 0 0 0 1.415l1.874 1.87-1.873 1.87a1 1 0 1 0 1.414 1.416l2.58-2.58a1 1 0 0 0 0-1.414L11.126 4.72a1 1 0 0 0-.706-.292 1 1 0 0 0-.708.293"/></svg>'},e,{size:"small"}));Px.displayName="Code16Icon";const BT=({label:e,testId:t})=>Pe("icon-object-migration")?_.createElement(hr,{icon:jZ,appearance:"purpleBold",size:"16",label:e,testId:t,LEGACY_fallbackComponent:_.createElement(Px,{label:e,testId:t})}):_.createElement(Px,{label:e,testId:t});BT.displayName="Code16Icon";const qWe=Object.freeze(Object.defineProperty({__proto__:null,default:BT},Symbol.toStringTag,{value:"Module"}));var UT={};Object.defineProperty(UT,"__esModule",{value:!0});var vQ=UT.default=void 0,YWe=bQ(c),KWe=bQ(Oe);function bQ(e){return e&&e.__esModule?e:{default:e}}const yQ=e=>YWe.default.createElement(KWe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="m4.25 8 2.5 3 5-6M3 14.25h10c.69 0 1.25-.56 1.25-1.25V3c0-.69-.56-1.25-1.25-1.25H3c-.69 0-1.25.56-1.25 1.25v10c0 .69.56 1.25 1.25 1.25Z"/>'},e));yQ.displayName="TaskIcon";vQ=UT.default=yQ;const Lx=e=>_.createElement(Sr,H({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684ff" fill-rule="evenodd" d="M0 1.994C0 .893.895 0 1.994 0h12.012C15.107 0 16 .895 16 1.994v12.012A1.995 1.995 0 0 1 14.006 16H1.994A1.995 1.995 0 0 1 0 14.006zM4.667 3C3.747 3 3 3.746 3 4.667v6.666C3 12.253 3.746 13 4.667 13h6.666c.92 0 1.667-.746 1.667-1.667V4.667C13 3.747 12.254 3 11.333 3zM5 5v6h6V5z"/></svg>'},e,{size:"small"}));Lx.displayName="Task16Icon";const dm=({label:e,testId:t})=>Pe("icon-object-migration")?_.createElement(hr,{icon:vQ,appearance:"blueBold",size:"16",label:e,testId:t,LEGACY_fallbackComponent:_.createElement(Lx,{label:e,testId:t})}):_.createElement(Lx,{label:e,testId:t});dm.displayName="Task16Icon";const XWe=Object.freeze(Object.defineProperty({__proto__:null,default:dm},Symbol.toStringTag,{value:"Module"}));var Ky={};Object.defineProperty(Ky,"__esModule",{value:!0});var HT=Ky.default=void 0,JWe=QWe(c),ZWe=je;function QWe(e){return e&&e.__esModule?e:{default:e}}const EQ=e=>JWe.default.createElement(ZWe.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#8270DB" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm10 3a1 1 0 00-1 1v8a1 1 0 002 0V4a1 1 0 00-1-1zM8 6a1 1 0 00-1 1v5a1 1 0 002 0V7a1 1 0 00-1-1zM4 9a1 1 0 00-1 1v2a1 1 0 002 0v-2a1 1 0 00-1-1z"/></svg>'},e,{size:"small"}));EQ.displayName="Presentation16Icon";var eGe=EQ;HT=Ky.default=eGe;const Nx=ro({__proto__:null,get default(){return HT}},[Ky]);var Xy={};Object.defineProperty(Xy,"__esModule",{value:!0});var zT=Xy.default=void 0,tGe=rGe(c),nGe=je;function rGe(e){return e&&e.__esModule?e:{default:e}}const wQ=e=>tGe.default.createElement(nGe.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#36B37E" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm2 3a1 1 0 100 2h1a1 1 0 100-2H4zm0 4a1 1 0 100 2h1a1 1 0 100-2H4zm0 4a1 1 0 000 2h1a1 1 0 000-2H4zm5-8a1 1 0 100 2h3a1 1 0 000-2H9zm0 4a1 1 0 100 2h3a1 1 0 000-2H9zm0 4a1 1 0 000 2h3a1 1 0 000-2H9z"/></svg>'},e,{size:"small"}));wQ.displayName="Spreadsheet16Icon";var oGe=wQ;zT=Xy.default=oGe;const Fx=ro({__proto__:null,get default(){return zT}},[Xy]);var WT={},og={},Jy={};Object.defineProperty(Jy,"__esModule",{value:!0});Jy.default=void 0;var aGe=CQ(c),sGe=CQ(Oe);function CQ(e){return e&&e.__esModule?e:{default:e}}const _Q=e=>aGe.default.createElement(sGe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M13.25 5.25V14c0 .69-.56 1.25-1.25 1.25H4c-.69 0-1.25-.56-1.25-1.25V2c0-.69.56-1.25 1.25-1.25h4.75m4.5 4.5h-4.5V.75m4.5 4.5c0-.32-.127-.627-.354-.854L9.604 1.104A1.2 1.2 0 0 0 8.75.75"/>'},e));_Q.displayName="FileIcon";Jy.default=_Q;Object.defineProperty(og,"__esModule",{value:!0});var GT=og.default=void 0,iGe=xQ(c),lGe=je,cGe=xQ(Jy);function xQ(e){return e&&e.__esModule?e:{default:e}}const SQ=e=>iGe.default.createElement(lGe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="m18.99 8.99.01 1.015V19a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5.275c.469 0 .922.164 1.282.464L18.631 7.7c.227.19.359.471.359.768zM12.02 5 12 8.192a.99.99 0 0 0 .994.991h4z"/></svg>'},e,{newIcon:cGe.default}));SQ.displayName="DocumentFilledIcon";GT=og.default=SQ;const dGe=ro({__proto__:null,get default(){return GT}},[og]);Object.defineProperty(WT,"__esModule",{value:!0});var kQ=WT.default=void 0,uGe=qT(c),fGe=qT(Ou),pGe=qT(og);function qT(e){return e&&e.__esModule?e:{default:e}}const IQ=e=>uGe.default.createElement(fGe.default,Object.assign({LEGACY_fallbackIcon:pGe.default},e));IQ.Name="PageIconMigration";kQ=WT.default=IQ;const mGe=(e,t)=>{const n=gGe(e,t),r=hGe(t),o=t.provider&&t.provider.icon;return qy({fileFormatIcon:r,documentTypeIcon:n,urlIcon:t.icon,providerIcon:o})},hGe=e=>{if(e.fileFormat)return FX(e.fileFormat)},gGe=(e,t)=>{switch(e){case"schema:BlogPosting":return _.createElement(Z4,{label:t.title||"blog",testId:"blog-icon"});case"schema:DigitalDocument":return _.createElement(p5,{label:t.title||"file",testId:"file-icon"});case"schema:TextDigitalDocument":return _.createElement(Kp,{label:t.title||"document",testId:"document-icon"});case"schema:PresentationDigitalDocument":return _.createElement(HT,{label:t.title||"presentation",testId:"presentation-icon"});case"schema:SpreadsheetDigitalDocument":return _.createElement(zT,{label:t.title||"spreadsheet",testId:"spreadsheet-icon"});case"atlassian:Template":return _.createElement(kQ,{color:"currentColor",label:t.title||"template",testId:"document-filled-icon"});case"atlassian:UndefinedLink":return _.createElement(Kp,{label:t.title||"undefinedLink",testId:"document-icon"})}};var YT={};Object.defineProperty(YT,"__esModule",{value:!0});var TQ=YT.default=void 0,vGe=AQ(c),bGe=AQ(Oe);function AQ(e){return e&&e.__esModule?e:{default:e}}const DQ=e=>vGe.default.createElement(bGe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M3 8h10c.69 0 1.25.56 1.25 1.25V13c0 .69-.56 1.25-1.25 1.25H9.25C8.56 14.25 8 13.69 8 13V3c0-.69-.56-1.25-1.25-1.25H3c-.69 0-1.25.56-1.25 1.25v3.75C1.75 7.44 2.31 8 3 8Z"/>'},e));DQ.displayName="SubtasksIcon";TQ=YT.default=DQ;const jx=e=>_.createElement(Sr,H({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684ff" fill-rule="evenodd" d="M9 7V4a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h3v3a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1zM0 1.994C0 .893.895 0 1.994 0h12.012C15.107 0 16 .895 16 1.994v12.012A1.995 1.995 0 0 1 14.006 16H1.994A1.995 1.995 0 0 1 0 14.006zM9 9h2v2H9zM5 5h2v2H5z"/></svg>'},e,{size:"small"}));jx.displayName="Subtask16Icon";const KT=({label:e,testId:t})=>Pe("icon-object-migration")?_.createElement(hr,{icon:TQ,appearance:"blueBold",size:"16",label:e,testId:t,LEGACY_fallbackComponent:_.createElement(jx,{label:e,testId:t})}):_.createElement(jx,{label:e,testId:t});KT.displayName="Subtask16Icon";const yGe=Object.freeze(Object.defineProperty({__proto__:null,default:KT},Symbol.toStringTag,{value:"Module"}));var XT={};Object.defineProperty(XT,"__esModule",{value:!0});var OQ=XT.default=void 0,EGe=MQ(c),wGe=MQ(Oe);function MQ(e){return e&&e.__esModule?e:{default:e}}const $Q=e=>EGe.default.createElement(wGe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M3.733 14.174V3c0-.69.56-1.25 1.25-1.25h6.035c.69 0 1.25.56 1.25 1.25v11.202c0 .02-.023.032-.04.02L8 11.25l-4.228 2.972a.025.025 0 0 1-.04-.02v-.05"/>'},e));$Q.displayName="StoryIcon";OQ=XT.default=$Q;const Vx=e=>_.createElement(Sr,H({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#36b37e" fill-rule="evenodd" d="M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2m6 11-2.863 1.822c-.42.38-1.137.111-1.137-.427v-8.19C4 3.54 4.596 3 5.333 3h5.334C11.403 3 12 3.539 12 4.206v8.19c0 .537-.719.806-1.139.426zm0-2.371 2 1.274V5H6v4.902z"/></svg>'},e,{size:"small"}));Vx.displayName="Story16Icon";const JT=({label:e,testId:t})=>Pe("icon-object-migration")?_.createElement(hr,{icon:OQ,appearance:"greenBold",size:"16",label:e,testId:t,LEGACY_fallbackComponent:_.createElement(Vx,{label:e,testId:t})}):_.createElement(Vx,{label:e,testId:t});JT.displayName="Story16Icon";const CGe=Object.freeze(Object.defineProperty({__proto__:null,default:JT},Symbol.toStringTag,{value:"Module"}));var ZT={};Object.defineProperty(ZT,"__esModule",{value:!0});var RQ=ZT.default=void 0,_Ge=PQ(c),xGe=PQ(Oe);function PQ(e){return e&&e.__esModule?e:{default:e}}const LQ=e=>_Ge.default.createElement(xGe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M5.75 4.75V4a2.25 2.25 0 0 1 4.5 0v.75m1.25.75a.75.75 0 0 0-.75-.75h-5.5a.75.75 0 0 0-.75.75m7 0 1.64-1.17a.5.5 0 0 0 .165-.205L14.25 2M11.5 5.5v2.25m-7-2.25L2.86 4.33a.5.5 0 0 1-.165-.205L1.75 2M4.5 5.5v2.25m7 0h4m-4 0V10m-7-2.25h-4m4 0V10m7 0a3.25 3.25 0 0 1-3.25 3.25h-.249a3.5 3.5 0 0 1-3.457-2.967L4.5 10m7 0 1.42 1.183a.5.5 0 0 1 .127.16l1.203 2.407M4.5 10l-1.42 1.183a.5.5 0 0 0-.127.16L1.75 13.75"/>'},e));LQ.displayName="BugIcon";RQ=ZT.default=LQ;const Bx=e=>_.createElement(Sr,H({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#ff5630" fill-rule="evenodd" d="M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2m6 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8"/></svg>'},e,{size:"small"}));Bx.displayName="Bug16Icon";const QT=({label:e,testId:t})=>Pe("icon-object-migration")?_.createElement(hr,{icon:RQ,appearance:"redBold",size:"16",label:e,testId:t,LEGACY_fallbackComponent:_.createElement(Bx,{label:e,testId:t})}):_.createElement(Bx,{label:e,testId:t});QT.displayName="Bug16Icon";const SGe=Object.freeze(Object.defineProperty({__proto__:null,default:QT},Symbol.toStringTag,{value:"Module"}));var eA={};Object.defineProperty(eA,"__esModule",{value:!0});var NQ=eA.default=void 0,kGe=FQ(c),IGe=FQ(Oe);function FQ(e){return e&&e.__esModule?e:{default:e}}const jQ=e=>kGe.default.createElement(IGe.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" d="M6 15.25h-.75a.75.75 0 0 0 1.304.505zm7.75-8.5.554.505a.75.75 0 0 0-.407-1.24zM10 6h-.75v.615l.603.12zm0-5.25h.75A.75.75 0 0 0 9.446.245zm-7.75 8.5-.554-.505a.75.75 0 0 0 .407 1.24zM6 10h.75v-.615l-.603-.12zm.554 5.755 7.75-8.5-1.108-1.01-7.75 8.5zm7.343-9.74-3.75-.75-.294 1.47 3.75.75zM10.75 6V.75h-1.5V6zM9.446.245l-7.75 8.5 1.108 1.01 7.75-8.5zm-7.343 9.74 3.75.75.294-1.47-3.75-.75zM5.25 10v5.25h1.5V10z"/>'},e));jQ.displayName="EpicIcon";NQ=eA.default=jQ;const Ux=e=>_.createElement(Sr,H({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#6554c0" fill-rule="evenodd" d="M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2m9.912 7.767A.5.5 0 0 0 12 7.5a.5.5 0 0 0-.5-.5H9V3.5a.495.495 0 0 0-.872-.327l-.002-.001-3.977 4.973-.008.009-.028.036.002.004A.5.5 0 0 0 4 8.5a.5.5 0 0 0 .5.5c.028 0 .051-.011.077-.016H7V12.5a.5.5 0 0 0 .5.5c.124 0 .234-.05.321-.124l.004.001.007-.009c.03-.027.051-.059.074-.092l3.934-4.913c.019-.018.031-.039.047-.06l.027-.033z"/></svg>'},e,{size:"small"}));Ux.displayName="Epic16Icon";const tA=({label:e,testId:t})=>Pe("icon-object-migration")?_.createElement(hr,{icon:NQ,appearance:"purpleBold",size:"16",label:e,testId:t,LEGACY_fallbackComponent:_.createElement(Ux,{label:e,testId:t})}):_.createElement(Ux,{label:e,testId:t});tA.displayName="Epic16Icon";const TGe=Object.freeze(Object.defineProperty({__proto__:null,default:tA},Symbol.toStringTag,{value:"Module"}));var nA={};Object.defineProperty(nA,"__esModule",{value:!0});var VQ=nA.default=void 0,AGe=BQ(c),DGe=BQ(Oe);function BQ(e){return e&&e.__esModule?e:{default:e}}const UQ=e=>AGe.default.createElement(DGe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M1 14.25h2m12 0h-2m0 0H3m10 0-1.4-3.5M3 14.25l1.4-3.5m0 0 .1-.25 1.3-3.25m-1.4 3.5h7.2m0 0-.1-.25-1.3-3.25m-4.4 0L5.9 7 8 1.75 10.1 7l.1.25m-4.4 0h4.4"/>'},e));UQ.displayName="IncidentIcon";VQ=nA.default=UQ;const Hx=e=>_.createElement(Sr,H({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#ff5630" fill-rule="evenodd" d="M4.785 10h6.43L10.5 8H5.499zM4 11a1 1 0 0 0-1 1v1h10v-1a1 1 0 0 0-1-1zm1.856-4h4.288L8.942 3.632a1 1 0 0 0-1.884 0zM2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2"/></svg>'},e,{size:"small"}));Hx.displayName="Incident16Icon";const rA=({label:e,testId:t})=>Pe("icon-object-migration")?_.createElement(hr,{icon:VQ,appearance:"redBold",size:"16",label:e,testId:t,LEGACY_fallbackComponent:_.createElement(Hx,{label:e,testId:t})}):_.createElement(Hx,{label:e,testId:t});rA.displayName="Incident16Icon";const OGe=Object.freeze(Object.defineProperty({__proto__:null,default:rA},Symbol.toStringTag,{value:"Module"})),zx=e=>_.createElement(Sr,H({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684ff" fill-rule="evenodd" d="M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2m1 4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1zm1 2v4h8V6z"/></svg>'},e,{size:"small"}));zx.displayName="Issue16Icon";const oA=({label:e,testId:t})=>Pe("icon-object-migration")?_.createElement(hr,{icon:RB,appearance:"blueBold",size:"16",label:e,testId:t,LEGACY_fallbackComponent:_.createElement(zx,{label:e,testId:t})}):_.createElement(zx,{label:e,testId:t});oA.displayName="Issue16Icon";const MGe=Object.freeze(Object.defineProperty({__proto__:null,default:oA},Symbol.toStringTag,{value:"Module"}));var aA={};Object.defineProperty(aA,"__esModule",{value:!0});var HQ=aA.default=void 0,$Ge=zQ(c),RGe=zQ(Oe);function zQ(e){return e&&e.__esModule?e:{default:e}}const WQ=e=>$Ge.default.createElement(RGe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="m5 8-3.25 3.25L5 14.5m9-3.25H2.25M11 1.5l3.25 3.25L11 8M2 4.75h11.75"/>'},e));WQ.displayName="ChangesIcon";HQ=aA.default=WQ;const Wx=e=>_.createElement(Sr,H({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#ffab00" fill-rule="evenodd" d="M10.58 7H5.467l.866-.865A1 1 0 1 0 4.92 4.72L2.34 7.3a1 1 0 0 0 0 1.414l2.58 2.578a1 1 0 0 0 1.414-1.416L5.456 9h5.134l-.877.876a1 1 0 1 0 1.414 1.415l2.58-2.58a1 1 0 0 0 0-1.414L11.126 4.72a1 1 0 0 0-.706-.292.999.999 0 0 0-.707 1.707zM2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2"/></svg>'},e,{size:"small"}));Wx.displayName="Changes16Icon";const sA=({label:e,testId:t})=>Pe("icon-object-migration")?_.createElement(hr,{icon:HQ,appearance:"orangeBold",size:"16",label:e,testId:t,LEGACY_fallbackComponent:_.createElement(Wx,{label:e,testId:t})}):_.createElement(Wx,{label:e,testId:t});sA.displayName="Changes16Icon";const PGe=Object.freeze(Object.defineProperty({__proto__:null,default:sA},Symbol.toStringTag,{value:"Module"}));var iA={};Object.defineProperty(iA,"__esModule",{value:!0});var GQ=iA.default=void 0,LGe=qQ(c),NGe=qQ(Oe);function qQ(e){return e&&e.__esModule?e:{default:e}}const YQ=e=>LGe.default.createElement(NGe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M13.127 13.127A7.25 7.25 0 1 0 2.873 2.873m10.253 10.253A7.25 7.25 0 1 1 2.874 2.874m10.253 10.253-1.59-1.59-7.071-7.071-1.592-1.592"/>'},e));YQ.displayName="ProblemIcon";GQ=iA.default=YQ;const Gx=e=>_.createElement(Sr,H({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#ff5630" fill-rule="evenodd" d="m5.968 11.446 5.478-5.478a4 4 0 0 1-5.478 5.478m-1.414-1.414a4 4 0 0 1 5.478-5.478zM2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2m6 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12"/></svg>'},e,{size:"small"}));Gx.displayName="Problem16Icon";const lA=({label:e,testId:t})=>Pe("icon-object-migration")?_.createElement(hr,{icon:GQ,appearance:"redBold",size:"16",label:e,testId:t,LEGACY_fallbackComponent:_.createElement(Gx,{label:e,testId:t})}):_.createElement(Gx,{label:e,testId:t});lA.displayName="Problem16Icon";const FGe=Object.freeze(Object.defineProperty({__proto__:null,default:lA},Symbol.toStringTag,{value:"Module"})),jGe=e=>{const{taskType:t,provider:n}=e,r=e.title||"task",o=_.createElement(dm,{label:r,testId:"default-task-icon"});if(n&&n.id===Wy&&t&&t.id)switch(t.id.split("#").pop()){case dWe:return _.createElement(dm,{label:r,testId:"jira-task-icon"});case uWe:return _.createElement(KT,{label:r,testId:"jira-subtask-icon"});case fWe:return _.createElement(JT,{label:r,testId:"jira-story-icon"});case pWe:return _.createElement(QT,{label:r,testId:"jira-bug-icon"});case mWe:return _.createElement(tA,{label:r,testId:"jira-epic-icon"});case hWe:return _.createElement(rA,{label:r,testId:"jira-incident-icon"});case gWe:return _.createElement(oA,{label:r,testId:"jira-service-request-icon"});case vWe:return _.createElement(sA,{label:r,testId:"jira-change-icon"});case bWe:return _.createElement(lA,{label:r,testId:"jira-problem-icon"});case yWe:return t.icon||e.icon||n.icon||o}return o},qx=(e,t="type")=>{const n=e["@type"],r={title:Ji(e),provider:Mr(e),fileFormat:$We(e),taskType:MT(e),icon:e.icon&&Xi(e.icon),priority:t};if(Array.isArray(n)){const o=n.sort((a,s)=>ru[s]-ru[a])[0];return a7(o,r)}else return a7(n,r)};function VGe(e,t){switch(e){case"atlassian:SourceCodeCommit":return _.createElement(LT,{label:t.title||"commit",testId:"commit-icon"});case"atlassian:Project":return _.createElement(RT,{label:t.title||"project",size:"small",testId:"project-icon"});case"atlassian:SourceCodePullRequest":return _.createElement(FT,{label:t.title||"pullRequest",testId:"pull-request-icon"});case"atlassian:SourceCodeReference":return _.createElement(VT,{label:t.title||"reference",testId:"branch-icon"});case"atlassian:SourceCodeRepository":return _.createElement(BT,{label:t.title||"repository",testId:"repo-icon"});case"atlassian:Goal":return _.createElement(dm,{label:t.title||"goal",testId:"task-icon"});case"atlassian:Task":return jGe(t);default:return}}function BGe(e,t){const n=VGe(e,t),r=t.fileFormat?FX(t.fileFormat):void 0,o=t.provider&&t.provider.icon;return qy({fileFormatIcon:r,documentTypeIcon:n,urlIcon:t.icon,providerIcon:o})}const a7=(e,t)=>{switch(e){case"Document":case"schema:BlogPosting":case"schema:DigitalDocument":case"schema:TextDigitalDocument":case"schema:PresentationDigitalDocument":case"schema:SpreadsheetDigitalDocument":case"atlassian:Template":case"atlassian:UndefinedLink":return mGe(e,t);default:return BGe(e,t)}},UGe=(e,t)=>{const{id:n,icon:r}=MT(e)||{};return{taskType:n==null?void 0:n.split("#").pop(),taskIcon:r?{label:t,url:r}:void 0}},HGe=e=>{const t=e["@type"];return Array.isArray(t)?t.sort((n,r)=>ru[r]-ru[n])[0]:t},zGe=e=>e===Wy;function WGe({urlIcon:e,type:t,label:n,data:r,providerIcon:o}){var a;const s=(a=r.generator)===null||a===void 0?void 0:a["@id"],i=r==null?void 0:r["schema:fileFormat"],l=CWe(i),d=GGe({type:t,label:n,providerId:s,data:r})||wWe(t,n);return qy({fileFormatIcon:l,documentTypeIcon:d,urlIcon:e,providerIcon:o})}function GGe({type:e,label:t,providerId:n,data:r}){switch(e){case"atlassian:Goal":return{icon:Ce.Task,label:t||"Goal"};case"atlassian:Project":return{icon:Ce.Project,label:t||"Project"};case"atlassian:SourceCodeCommit":return{icon:Ce.Commit,label:t||"Commit"};case"atlassian:SourceCodePullRequest":return{icon:Ce.PullRequest,label:t||"Pull request"};case"atlassian:SourceCodeReference":return{icon:Ce.Branch,label:t||"Reference"};case"atlassian:SourceCodeRepository":return{icon:Ce.Repo,label:t||"Repository"};case"atlassian:Task":const o=t||"Task",a={icon:Ce.Task,label:o};if(zGe(n)){const{taskType:s,taskIcon:i}=UGe(r);return s==="JiraCustomTaskType"?i||a:_We(s,o)}return a;default:return}}const qGe=e=>{const t=Ji(e),n=HGe(e),r=aQ(e.icon,t),o=Gy(e);return WGe({urlIcon:r,providerIcon:o,type:n,label:t,data:e})},YGe=e=>e&&e.replace(/['"]+/g,"").replace(/null/,"")||"",KGe=(e,t)=>{const n=e["atlassian:titlePrefix"];if((n==null?void 0:n["@type"])==="atlassian:Emoji"){const r=YGe(n.text),o=t==null?void 0:t.emoji;if(r&&o)return()=>o(r)}},KQ=(e,t)=>{const n=e.data,r=KGe(n,t);return{...qGe(n),render:r}},XGe=(e,t)=>{if(e){const n=e.data,{icon:r,url:o}=Gy(n)||{};if(r||o)return{icon:r,url:o}}switch(t){case ot.Forbidden:case ot.Unauthorized:return{icon:Ce.Forbidden};case ot.NotFound:return{icon:Ce.Error};case ot.Errored:case ot.Fallback:default:return{icon:Ce.Default}}},cA=e=>!!(e!=null&&e.key&&EWe.includes(e.key)),XQ=(e,t)=>{var n;if(!Ja(pa.PreviewAction,t))return;const r=e.data,o=e.meta,a=(n=Iy(r,"web"))===null||n===void 0?void 0:n.src;if(a){var s;return{downloadUrl:kT(r),providerName:(s=Mr(r))===null||s===void 0?void 0:s.text,src:a,title:Ji(r),linkIcon:KQ(e),url:ns(r),isSupportTheming:cA(o)}}},JGe=(e,t,n,r)=>{if(!(!Ja(pa.AISummaryAction,n)||!pZ(r==null?void 0:r.isAdminHubAIEnabled,e)||!t))return{url:t}},JQ=e=>{const t=e==null?void 0:e["atlassian:serverAction"];return t?t&&!Array.isArray(t)?[t]:t:[]},ZGe=(e,t,n)=>{var r;if(!Ja(pa.FollowAction,t))return;const o=ga(e),a=e==null?void 0:e.data,s=JQ(a),i=Uh(a),l=i==null?void 0:i.includes("atlassian:Project");if(!o||s.length===0)return;const d=s.find(m=>{if((m==null?void 0:m.name)==="UpdateAction"){var g;const v=m==null||(g=m.dataUpdateAction)===null||g===void 0?void 0:g.name;return v===Oi.FollowEntityAction||v===Oi.UnfollowEntityAction}return!1});if(!d||!d.resourceIdentifiers)return;const u=ns(a),f=u?{id:n,url:u}:void 0,p=(r=d.dataUpdateAction)===null||r===void 0?void 0:r.name;return{action:{action:{actionType:p,resourceIdentifiers:d.resourceIdentifiers},providerKey:o,reload:f},value:p===Oi.FollowEntityAction,isProject:l}},QGe=(e,t)=>{if(!Ja(pa.CopyLinkAction,t))return;const n=ns(e);if(n)return{url:n}},eqe=e=>{var t,n;if(!e.data||!(e!=null&&(t=e.meta)!==null&&t!==void 0&&(n=t.supportedFeature)!==null&&n!==void 0&&n.includes(Zt.AutomationAction)))return;const r=e.data,o=e.meta,{name:a,"atlassian:ari":s}=r,{product:i,tenantId:l,resourceType:d}=o;return{product:i,resourceType:d,siteAri:`ari:cloud:${i}::site/${l}`,objectName:a,objectAri:s,canManageAutomation:!1,baseAutomationUrl:"",analyticsSource:"smartCardAutomationAction"}},tqe=e=>{var t,n;if(!(e!=null&&(t=e.meta)!==null&&t!==void 0&&(n=t.supportedFeature)!==null&&n!==void 0&&n.includes("RelatedLinks")))return;const r=U4(e.data);if(r)return{ari:r}},nqe=(e,t,n,r,o)=>{const a=e.data,s={[Zt.CopyLinkAction]:QGe(a,n),[Zt.DownloadAction]:cWe(a,n),[Zt.FollowAction]:ZGe(e,n,r),[Zt.PreviewAction]:XQ(e,n),[Zt.AutomationAction]:eqe(e),[lm.AISummaryAction]:JGe(e,t,n,o),...dF("platform.linking-platform.smart-card.enable-view-related-urls-action")?{[lm.ViewRelatedLinksAction]:tqe(e)}:{}};return Object.values(s).some(i=>!!i)?s:void 0},ZQ=e=>{if(e&&typeof e=="object"&&e["@type"]==="Link")return e.name},ao=(e,t)=>e==null?void 0:e[t],rqe=e=>ao(e,"schema:commentCount"),oqe=e=>ao(e,"endTime"),aqe=e=>ao(e,"atlassian:viewCount"),sqe=e=>ao(e,"atlassian:reactCount"),iqe=e=>ao(e,"atlassian:voteCount"),dA=e=>{const t=IX(e);if(t&&t.length)return t[0].name},lqe=e=>{const t=W4(e);if(t)return t.name},cqe=e=>{const t=W4(e);return t?[t]:void 0},dqe=e=>{const t=im(e);if(t&&t.length)return t[0].name},uqe=e=>{const t=G4(e);if(t)return t.name},fqe=e=>ao(e,"schema:programmingLanguage"),pqe=e=>ZQ(e["atlassian:mergeSource"]),mqe=e=>ao(e,"atlassian:subscriberCount"),hqe=e=>ao(e,"atlassian:attachmentCount"),gqe=e=>ZQ(e["atlassian:mergeDestination"]),vqe=e=>{const t=ao(e,"atlassian:checkItems");return t?`${t.checkedItems}/${t.totalItems}`:void 0},bqe=e=>{const{url:t,name:n}=ao(e,"location")||{};if(t&&n&&typeof t=="string")return{text:n,url:t}},yqe=e=>{const t=ao(e,"atlassian:subTasks");return t&&t.totalCount?`${t.resolvedCount}/${t.totalCount}`:void 0},Eqe=e=>ao(e,"atlassian:readTimeInMinutes"),wqe=e=>ao(e,"dateSent"),Cqe=e=>ao(e,"atlassian:storyPoints"),_qe=e=>{if(e["@type"]==="atlassian:Project"){const n=kX(e);if(n&&n.length!==0)return n}const t=e["atlassian:updatedBy"];if(t){const n=Rs(t);return n?[n]:void 0}},xqe={blocker:Ce.PriorityBlocker,critical:Ce.PriorityCritical,high:Ce.PriorityHigh,highest:Ce.PriorityHighest,low:Ce.PriorityLow,lowest:Ce.PriorityLowest,major:Ce.PriorityMajor,medium:Ce.PriorityMedium,minor:Ce.PriorityMinor,trivial:Ce.PriorityTrivial,undefined:Ce.PriorityUndefined},Sqe=e=>{const t=e["atlassian:priority"];if(t){if(typeof t=="string"){const n=xqe[t.toLowerCase()];if(n)return{icon:n,label:t}}else if(t["@type"]==="Object")return{label:t.name,url:t.icon&&Xi(t.icon)}}},uA=e=>{if(!e)return;const t=TX(e);return t?{type:LX.Image,url:t}:void 0},s7=(e,t,n,r)=>{if(n)return{action:{actionType:n,resourceIdentifiers:t},providerKey:e,details:r}},kqe=(e,t)=>{var n,r;const o=ga(e),a=e==null?void 0:e.data,s=JQ(a);if(!o||s.length===0)return;const i=s.find(m=>(m==null?void 0:m.name)==="UpdateAction"&&(m==null?void 0:m.refField)==="tag");if(!i||!i.resourceIdentifiers)return;const l=s7(o,i.resourceIdentifiers,(n=i.dataRetrievalAction)===null||n===void 0?void 0:n.name),d=ns(a),u=e?XQ(e):null,f={id:t,url:d,previewData:u},p=s7(o,i.resourceIdentifiers,(r=i.dataUpdateAction)===null||r===void 0?void 0:r.name,f);return l||p?{read:l,update:p}:void 0},Iqe=(e,t,n)=>{if(!e||!e.data)return;const r=$T(e==null?void 0:e.data);if(!r)return;if(!Ja(pa.ChangeStatusAction,t))return r;const o=kqe(e,n);return{...r,action:o}},Tqe=e=>{const t=e["atlassian:latestCommit"];if(typeof t=="string")return t;if(t)return t?t.name:void 0},Aqe=(e,t)=>{if(!Ja(pa.ViewAction,t))return;if(_T(e).find(r=>r["@type"]==="ViewAction"))return{viewUrl:ns(e)}},QQ=({id:e,renderers:t,actionOptions:n,response:r,aiSummaryConfig:o,...a}={})=>{if(!r)return;const s=r.data,i=ns(s);return{actions:nqe(r,a.url,n,e,o),assignedToGroup:cqe(s),attachmentCount:hqe(s),authorGroup:im(s),ownedByGroup:IX(s),collaboratorGroup:_qe(s),commentCount:rqe(s),viewCount:aqe(s),reactCount:sqe(s),voteCount:iqe(s),checklistProgress:vqe(s),createdBy:dqe(s),ownedBy:dA(s),assignedTo:lqe(s),createdOn:xX(s),dueOn:oqe(s),viewAction:Aqe(s,n),latestCommit:Tqe(s),linkIcon:KQ(r,t),location:bqe(s),modifiedBy:uqe(s),modifiedOn:SX(s),preview:uA(s),priority:Sqe(s),provider:Gy(s),programmingLanguage:fqe(s),readTime:Eqe(s),sentOn:wqe(s),snippet:AZ(s)||void 0,sourceBranch:pqe(s),state:Iqe(r,n,e),subscriberCount:mqe(s),subTasksProgress:yqe(s),storyPoints:Cqe(s),targetBranch:gqe(s),title:Ji(s)||i,url:i,ari:U4(s)}},Dqe=({results:e,renderers:t,testId:n})=>{const{createAnalyticsEvent:r}=Kn(),o=c.useMemo(()=>QQ({response:e,renderers:t}),[t,e]),a=c.useCallback(s=>{cm(r)(s)},[r]);return _.createElement(Me,{alignBlock:"center",space:"space.050",testId:n},_.createElement(My,H({},o==null?void 0:o.linkIcon,{testId:`${n}-icon`,size:ze.Small})),_.createElement(kx,{testId:`${n}-link`,text:o==null?void 0:o.title,url:o==null?void 0:o.url,size:ze.Small,maxLines:1,onClick:a}))},Oqe=e=>!e||e!=="not_found"?"smartLink":"link",eee=(e,t,n)=>{var r,o,a,s,i,l,d,u,f,p,m,g,v,b,y,E,w,C,x;const S=n??(t&&xy(t)),I=e.displayCategory==="link"?"link":Oqe(S);return{status:S??null,statusDetails:(r=t==null||(o=t.meta)===null||o===void 0||(a=o.requestAccess)===null||a===void 0?void 0:a.accessType)!==null&&r!==void 0?r:null,displayCategory:I,extensionKey:(s=t==null||(i=t.meta)===null||i===void 0?void 0:i.key)!==null&&s!==void 0?s:null,destinationTenantId:(l=t==null||(d=t.meta)===null||d===void 0?void 0:d.tenantId)!==null&&l!==void 0?l:null,destinationContainerId:(u=t==null||(f=t.meta)===null||f===void 0?void 0:f.containerId)!==null&&u!==void 0?u:null,destinationCategory:(p=t==null||(m=t.meta)===null||m===void 0?void 0:m.category)!==null&&p!==void 0?p:null,destinationProduct:(g=t==null||(v=t.meta)===null||v===void 0?void 0:v.product)!==null&&g!==void 0?g:null,destinationSubproduct:(b=t==null||(y=t.meta)===null||y===void 0?void 0:y.subproduct)!==null&&b!==void 0?b:null,destinationObjectId:(E=t==null||(w=t.meta)===null||w===void 0?void 0:w.objectId)!==null&&E!==void 0?E:null,destinationObjectType:(C=t==null||(x=t.meta)===null||x===void 0?void 0:x.resourceType)!==null&&C!==void 0?C:null,canBeDatasource:((t==null?void 0:t.datasources)||[]).length>0}},Mqe=({relatedLinksCount:e})=>({action:"viewed",actionSubject:"relatedLinks",eventType:"ui",attributes:{relatedLinksCount:e}}),$qe=e=>t=>{const n=Mqe(t);n&&e({...n}).fire(Mi)},Rqe=e=>{const{children:t,details:n}=e,r=eee({url:""},n);return _.createElement($u,{data:{attributes:r,component:"relatedLink"}},t)},Pqe=({resolvedResults:e,testId:t,renderers:n})=>{const{createAnalyticsEvent:r}=Kn();return c.useEffect(()=>{$qe(r)({relatedLinksCount:e.length})},[e.length,r]),_.createElement(Rt,{space:"space.050",testId:`${t}-items-wrapper`,as:"ul",xcss:ie({paddingLeft:"space.0",marginTop:"space.0"})},e.map((o,a)=>_.createElement(Rqe,{details:o,key:a},_.createElement(Dqe,{testId:`${t}-item`,results:o,renderers:n}))))},Lqe=e=>_.createElement($u,{data:{component:"relatedLinksSection"}},_.createElement(Pqe,e)),Nqe=({resolvedResults:e,title:t,renderers:n,testId:r,initializeOpened:o})=>{const[a,s]=c.useState(o),i=c.useCallback(()=>s(!a),[a]),l=a?IZ:Ws,d=Ee();return e.length>0?_.createElement(Rt,{testId:r,xcss:ie({width:"100%"})},_.createElement(Co,{onClick:i,testId:`${r}-expand-title`,backgroundColor:"color.background.neutral.subtle","aria-expanded":!!a,padding:"space.0",paddingInlineEnd:"space.050"},_.createElement(Me,{alignBlock:"center",space:"space.050",spread:"space-between"},_.createElement(Hr,{overrideCss:M({fontWeight:"var(--ds-font-weight-medium, 500)"}),message:{descriptor:t}}),_.createElement(l,{LEGACY_margin:"0 -4px",label:Cp(d,t),color:"currentColor"}))),a&&_.createElement(Lqe,{resolvedResults:e,testId:r,renderers:n})):_.createElement(Hr,{testId:r,message:{descriptor:Se.related_work_items_not_found}})},Fqe=({relatedUrlsResponse:{resolvedResults:e},renderers:t,testId:n,initializeOpened:r,...o})=>_.createElement(Pn,H({},o,{testId:n}),e&&_.createElement(Nqe,{testId:`${n}-list`,renderers:t,initializeOpened:r,title:Se.last_mentioned_in,resolvedResults:e})),jqe=({testId:e,...t})=>_.createElement(Pn,H({},t,{testId:e}),_.createElement(yi,{height:1.55,width:22})),Vqe=({relatedLinksCount:e})=>({action:"loaded",actionSubject:"relatedLinks",eventType:"track",attributes:{relatedLinksCount:e}}),Bqe=e=>t=>{const n=Vqe(t);n&&e({...n}).fire(Mi)},Uqe=({testId:e="smart-block-related-urls",url:t,renderers:n,...r})=>{const{createAnalyticsEvent:o}=Kn(),[a,s]=c.useState(!0),[i,l]=c.useState(),[d,u]=c.useState(),f=dze();return c.useEffect(()=>{(async()=>{try{var m,g;const v=await f(t);u(v),Bqe(o)({relatedLinksCount:(m=(g=v.resolvedResults)===null||g===void 0?void 0:g.length)!==null&&m!==void 0?m:0})}catch(v){l(v)}s(!1)})()},[o,f,t]),a?_.createElement(jqe,H({testId:`${e}-resolving-view`},r)):d?_.createElement(Fqe,H({renderers:n,overrideCss:M({minHeight:"1.55rem"}),testId:`${e}-resolved-view`,relatedUrlsResponse:d},r)):_.createElement(uze,H({err:i,testId:`${e}-errored-view`},r))},Hqe=Uqe,tee=({children:e,isFadeIn:t=!1,minHeight:n=0,show:r,showTransition:o=!1})=>{const[a,s]=c.useState(0),i=c.useRef(null),l=t?"height, opacity":"height";return c.useEffect(()=>{r&&i.current?s(i.current.scrollHeight):s(0)},[e,r]),r?_.createElement(_e,{style:{height:a,minHeight:n,lineHeight:0,overflow:"hidden",opacity:a>0?1:0,transitionProperty:o?l:"none",transitionDuration:"0.3s"},ref:i},e):null};function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_l.apply(this,arguments)}const zqe=["children","options"];var i7,l7;(function(e){e.blockQuote="0",e.breakLine="1",e.breakThematic="2",e.codeBlock="3",e.codeFenced="4",e.codeInline="5",e.footnote="6",e.footnoteReference="7",e.gfmTask="8",e.heading="9",e.headingSetext="10",e.htmlBlock="11",e.htmlComment="12",e.htmlSelfClosing="13",e.image="14",e.link="15",e.linkAngleBraceStyleDetector="16",e.linkBareUrlDetector="17",e.linkMailtoDetector="18",e.newlineCoalescer="19",e.orderedList="20",e.paragraph="21",e.ref="22",e.refImage="23",e.refLink="24",e.table="25",e.tableSeparator="26",e.text="27",e.textBolded="28",e.textEmphasized="29",e.textEscaped="30",e.textMarked="31",e.textStrikethroughed="32",e.unorderedList="33"})(i7||(i7={})),function(e){e[e.MAX=0]="MAX",e[e.HIGH=1]="HIGH",e[e.MED=2]="MED",e[e.LOW=3]="LOW",e[e.MIN=4]="MIN"}(l7||(l7={}));const c7=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","className","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((e,t)=>(e[t.toLowerCase()]=t,e),{for:"htmlFor"}),d7={amp:"&",apos:"'",gt:">",lt:"<",nbsp:"",quot:""},Wqe=["style","script"],Gqe=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,qqe=/mailto:/i,Yqe=/\n{2,}$/,nee=/^( *>[^\n]+(\n[^\n]+)*\n*)+\n{2,}/,Kqe=/^ *> ?/gm,Xqe=/^ {2,}\n/,Jqe=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,ree=/^\s*(`{3,}|~{3,}) *(\S+)?([^\n]*?)?\n([\s\S]+?)\s*\1 *(?:\n *)*\n?/,oee=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,Zqe=/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,Qqe=/^(?:\n *)*\n/,eYe=/\r\n?/g,tYe=/^\[\^([^\]]+)](:.*)\n/,nYe=/^\[\^([^\]]+)]/,rYe=/\f/g,oYe=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,aYe=/^\s*?\[(x|\s)\]/,aee=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,see=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,iee=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,Yx=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?([^>]*)\/{0}>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1)[\s\S])*?)<\/\1>\n*/i,sYe=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,lee=/^<!--[\s\S]*?(?:-->)/,iYe=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,Kx=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,lYe=/^\{.*\}$/,cYe=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,dYe=/^<([^ >]+@[^ >]+)>/,uYe=/^<([^ >]+:\/[^ >]+)>/,fYe=/-([a-z])?/gi,cee=/^(.*\|?.*)\n *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*)\n?/,pYe=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,mYe=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,hYe=/^\[([^\]]*)\] ?\[([^\]]*)\]/,gYe=/(\[|\])/g,vYe=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,bYe=/\t/g,yYe=/^ *\| */,EYe=/(^ *\||\| *$)/g,wYe=/ *$/,CYe=/^ *:-+: *$/,_Ye=/^ *:-+ *$/,xYe=/^ *-+: *$/,SYe=/^([*_])\1((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1\1(?!\1)/,kYe=/^([*_])((?:\[.*?\][([].*?[)\]]|<.*?>(?:.*?<.*?>)?|`.*?`|~+.*?~+|.)*?)\1(?!\1|\w)/,IYe=/^==((?:\[.*?\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)==/,TYe=/^~~((?:\[.*?\]|<.*?>(?:.*?<.*?>)?|`.*?`|.)*?)~~/,AYe=/^\\([^0-9A-Za-z\s])/,DYe=/^[\s\S]+?(?=[^0-9A-Z\s\u00c0-\uffff&#;.()'"]|\d+\.|\n\n| {2,}\n|\w+:\S|$)/i,OYe=/^\n+/,MYe=/^([ \t]*)/,$Ye=/\\([^\\])/g,u7=/ *\n+$/,RYe=/(?:^|\n)( *)$/,fA="(?:\\d+\\.)",pA="(?:[*+-])";function dee(e){return"( *)("+(e===1?fA:pA)+") +"}const uee=dee(1),fee=dee(2);function pee(e){return new RegExp("^"+(e===1?uee:fee))}const PYe=pee(1),LYe=pee(2);function mee(e){return new RegExp("^"+(e===1?uee:fee)+"[^\\n]*(?:\\n(?!\\1"+(e===1?fA:pA)+" )[^\\n]*)*(\\n|$)","gm")}const hee=mee(1),gee=mee(2);function vee(e){const t=e===1?fA:pA;return new RegExp("^( *)("+t+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+t+" (?!"+t+" ))\\n*|\\s*\\n*$)")}const bee=vee(1),yee=vee(2);function f7(e,t){const n=t===1,r=n?bee:yee,o=n?hee:gee,a=n?PYe:LYe;return{match(s,i,l){const d=RYe.exec(l);return d&&(i.list||!i.inline&&!i.simple)?r.exec(s=d[1]+s):null},order:1,parse(s,i,l){const d=n?+s[2]:void 0,u=s[0].replace(Yqe,`
`).match(o);let f=!1;return{items:u.map(function(p,m){const g=a.exec(p)[0].length,v=new RegExp("^ {1,"+g+"}","gm"),b=p.replace(v,"").replace(a,""),y=m===u.length-1,E=b.indexOf(`

`)!==-1||y&&f;f=E;const w=l.inline,C=l.list;let x;l.list=!0,E?(l.inline=!1,x=b.replace(u7,`

`)):(l.inline=!0,x=b.replace(u7,""));const S=i(x,l);return l.inline=w,l.list=C,S}),ordered:n,start:d}},render:(s,i,l)=>e(s.ordered?"ol":"ul",{key:l.key,start:s.type==="20"?s.start:void 0},s.items.map(function(d,u){return e("li",{key:u},i(d,l))}))}}const NYe=/^\[([^\]]*)]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,FYe=/^!\[([^\]]*)]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,Eee=[nee,ree,oee,aee,iee,see,lee,cee,hee,bee,gee,yee],jYe=[...Eee,/^[^\n]+(?:  \n|\n{2,})/,Yx,Kx];function VYe(e){return e.replace(/[]/g,"a").replace(/[]/g,"c").replace(/[]/g,"d").replace(/[]/g,"e").replace(/[]/g,"i").replace(/[]/g,"n").replace(/[]/g,"o").replace(/[]/g,"u").replace(/[]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function BYe(e){return xYe.test(e)?"right":CYe.test(e)?"center":_Ye.test(e)?"left":null}function p7(e,t,n){const r=n.inTable;n.inTable=!0;const o=t(e.trim(),n);n.inTable=r;let a=[[]];return o.forEach(function(s,i){s.type==="26"?i!==0&&i!==o.length-1&&a.push([]):(s.type!=="27"||o[i+1]!=null&&o[i+1].type!=="26"||(s.text=s.text.replace(wYe,"")),a[a.length-1].push(s))}),a}function UYe(e,t,n){n.inline=!0;const r=p7(e[1],t,n),o=e[2].replace(EYe,"").split("|").map(BYe),a=function(s,i,l){return s.trim().split(`
`).map(function(d){return p7(d,i,l)})}(e[3],t,n);return n.inline=!1,{align:o,cells:a,header:r,type:"25"}}function m7(e,t){return e.align[t]==null?{}:{textAlign:e.align[t]}}function ri(e){return function(t,n){return n.inline?e.exec(t):null}}function oi(e){return function(t,n){return n.inline||n.simple?e.exec(t):null}}function cs(e){return function(t,n){return n.inline||n.simple?null:e.exec(t)}}function If(e){return function(t){return e.exec(t)}}function HYe(e,t,n){if(t.inline||t.simple||n&&!n.endsWith(`
`))return null;let r="";e.split(`
`).every(a=>!Eee.some(s=>s.test(a))&&(r+=a+`
`,a.trim()));const o=r.trimEnd();return o==""?null:[r,o]}function Yc(e){try{if(decodeURIComponent(e).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data(?!:image)):/i))return}catch{return null}return e}function h7(e){return e.replace($Ye,"$1")}function Y0(e,t,n){const r=n.inline||!1,o=n.simple||!1;n.inline=!0,n.simple=!0;const a=e(t,n);return n.inline=r,n.simple=o,a}function zYe(e,t,n){const r=n.inline||!1,o=n.simple||!1;n.inline=!1,n.simple=!0;const a=e(t,n);return n.inline=r,n.simple=o,a}function WYe(e,t,n){return n.inline=!1,e(t,n)}const Qw=(e,t,n)=>({children:Y0(t,e[1],n)});function eC(){return{}}function tC(){return null}function GYe(...e){return e.filter(Boolean).join(" ")}function nC(e,t,n){let r=e;const o=t.split(".");for(;o.length&&(r=r[o[0]],r!==void 0);)o.shift();return r||n}function qYe(e,t={}){t.overrides=t.overrides||{},t.slugify=t.slugify||VYe,t.namedCodesToUnicode=t.namedCodesToUnicode?_l({},d7,t.namedCodesToUnicode):d7;const n=t.createElement||c.createElement;function r(m,g,...v){const b=nC(t.overrides,`${m}.props`,{});return n(function(y,E){const w=nC(E,y);return w?typeof w=="function"||typeof w=="object"&&"render"in w?w:nC(E,`${y}.component`,y):y}(m,t.overrides),_l({},g,b,{className:GYe(g==null?void 0:g.className,b.className)||void 0}),...v)}function o(m){m=m.replace(oYe,"");let g=!1;t.forceInline?g=!0:t.forceBlock||(g=vYe.test(m)===!1);const v=u(d(g?m:`${m.trimEnd().replace(OYe,"")}

`,{inline:g}));for(;typeof v[v.length-1]=="string"&&!v[v.length-1].trim();)v.pop();if(t.wrapper===null)return v;const b=t.wrapper||(g?"span":"div");let y;if(v.length>1||t.forceWrapper)y=v;else{if(v.length===1)return y=v[0],typeof y=="string"?r("span",{key:"outer"},y):y;y=null}return c.createElement(b,{key:"outer"},y)}function a(m){const g=m.match(Gqe);return g?g.reduce(function(v,b,y){const E=b.indexOf("=");if(E!==-1){const w=function(I){return I.indexOf("-")!==-1&&I.match(iYe)===null&&(I=I.replace(fYe,function(A,T){return T.toUpperCase()})),I}(b.slice(0,E)).trim(),C=function(I){const A=I[0];return(A==='"'||A==="'")&&I.length>=2&&I[I.length-1]===A?I.slice(1,-1):I}(b.slice(E+1).trim()),x=c7[w]||w,S=v[x]=function(I,A){return I==="style"?A.split(/;\s?/).reduce(function(T,O){const D=O.slice(0,O.indexOf(":"));return T[D.replace(/(-[a-z])/g,$=>$[1].toUpperCase())]=O.slice(D.length+1).trim(),T},{}):I==="href"||I==="src"?Yc(A):(A.match(lYe)&&(A=A.slice(1,A.length-1)),A==="true"||A!=="false"&&A)}(w,C);typeof S=="string"&&(Yx.test(S)||Kx.test(S))&&(v[x]=c.cloneElement(o(S.trim()),{key:y}))}else b!=="style"&&(v[c7[b]||b]=!0);return v},{}):null}const s=[],i={},l={0:{match:cs(nee),order:1,parse:(m,g,v)=>({children:g(m[0].replace(Kqe,""),v)}),render:(m,g,v)=>r("blockquote",{key:v.key},g(m.children,v))},1:{match:If(Xqe),order:1,parse:eC,render:(m,g,v)=>r("br",{key:v.key})},2:{match:cs(Jqe),order:1,parse:eC,render:(m,g,v)=>r("hr",{key:v.key})},3:{match:cs(oee),order:0,parse:m=>({lang:void 0,text:m[0].replace(/^ {4}/gm,"").replace(/\n+$/,"")}),render:(m,g,v)=>r("pre",{key:v.key},r("code",_l({},m.attrs,{className:m.lang?`lang-${m.lang}`:""}),m.text))},4:{match:cs(ree),order:0,parse:m=>({attrs:a(m[3]||""),lang:m[2]||void 0,text:m[4],type:"3"})},5:{match:oi(Zqe),order:3,parse:m=>({text:m[2]}),render:(m,g,v)=>r("code",{key:v.key},m.text)},6:{match:cs(tYe),order:0,parse:m=>(s.push({footnote:m[2],identifier:m[1]}),{}),render:tC},7:{match:ri(nYe),order:1,parse:m=>({target:`#${t.slugify(m[1])}`,text:m[1]}),render:(m,g,v)=>r("a",{key:v.key,href:Yc(m.target)},r("sup",{key:v.key},m.text))},8:{match:ri(aYe),order:1,parse:m=>({completed:m[1].toLowerCase()==="x"}),render:(m,g,v)=>r("input",{checked:m.completed,key:v.key,readOnly:!0,type:"checkbox"})},9:{match:cs(t.enforceAtxHeadings?see:aee),order:1,parse:(m,g,v)=>({children:Y0(g,m[2],v),id:t.slugify(m[2]),level:m[1].length}),render:(m,g,v)=>r(`h${m.level}`,{id:m.id,key:v.key},g(m.children,v))},10:{match:cs(iee),order:0,parse:(m,g,v)=>({children:Y0(g,m[1],v),level:m[2]==="="?1:2,type:"9"})},11:{match:If(Yx),order:1,parse(m,g,v){const[,b]=m[3].match(MYe),y=new RegExp(`^${b}`,"gm"),E=m[3].replace(y,""),w=(C=E,jYe.some(A=>A.test(C))?WYe:Y0);var C;const x=m[1].toLowerCase(),S=Wqe.indexOf(x)!==-1,I={attrs:a(m[2]),noInnerParse:S,tag:S?x:m[1]};return v.inAnchor=v.inAnchor||x==="a",S?I.text=m[3]:I.children=w(g,E,v),v.inAnchor=!1,I},render:(m,g,v)=>r(m.tag,_l({key:v.key},m.attrs),m.text||g(m.children,v))},13:{match:If(Kx),order:1,parse:m=>({attrs:a(m[2]||""),tag:m[1]}),render:(m,g,v)=>r(m.tag,_l({},m.attrs,{key:v.key}))},12:{match:If(lee),order:1,parse:()=>({}),render:tC},14:{match:oi(FYe),order:1,parse:m=>({alt:m[1],target:h7(m[2]),title:m[3]}),render:(m,g,v)=>r("img",{key:v.key,alt:m.alt||void 0,title:m.title||void 0,src:Yc(m.target)})},15:{match:ri(NYe),order:3,parse:(m,g,v)=>({children:zYe(g,m[1],v),target:h7(m[2]),title:m[3]}),render:(m,g,v)=>r("a",{key:v.key,href:Yc(m.target),title:m.title},g(m.children,v))},16:{match:ri(uYe),order:0,parse:m=>({children:[{text:m[1],type:"27"}],target:m[1],type:"15"})},17:{match:(m,g)=>g.inAnchor?null:ri(cYe)(m,g),order:0,parse:m=>({children:[{text:m[1],type:"27"}],target:m[1],title:void 0,type:"15"})},18:{match:ri(dYe),order:0,parse(m){let g=m[1],v=m[1];return qqe.test(v)||(v="mailto:"+v),{children:[{text:g.replace("mailto:",""),type:"27"}],target:v,type:"15"}}},20:f7(r,1),33:f7(r,2),19:{match:cs(Qqe),order:3,parse:eC,render:()=>`
`},21:{match:HYe,order:3,parse:Qw,render:(m,g,v)=>r("p",{key:v.key},g(m.children,v))},22:{match:ri(pYe),order:0,parse:m=>(i[m[1]]={target:m[2],title:m[4]},{}),render:tC},23:{match:oi(mYe),order:0,parse:m=>({alt:m[1]||void 0,ref:m[2]}),render:(m,g,v)=>r("img",{key:v.key,alt:m.alt,src:Yc(i[m.ref].target),title:i[m.ref].title})},24:{match:ri(hYe),order:0,parse:(m,g,v)=>({children:g(m[1],v),fallbackChildren:g(m[0].replace(gYe,"\\$1"),v),ref:m[2]}),render:(m,g,v)=>i[m.ref]?r("a",{key:v.key,href:Yc(i[m.ref].target),title:i[m.ref].title},g(m.children,v)):r("span",{key:v.key},g(m.fallbackChildren,v))},25:{match:cs(cee),order:1,parse:UYe,render:(m,g,v)=>r("table",{key:v.key},r("thead",null,r("tr",null,m.header.map(function(b,y){return r("th",{key:y,style:m7(m,y)},g(b,v))}))),r("tbody",null,m.cells.map(function(b,y){return r("tr",{key:y},b.map(function(E,w){return r("td",{key:w,style:m7(m,w)},g(E,v))}))})))},26:{match:function(m,g){return g.inTable?(g.inline=!0,yYe.exec(m)):null},order:1,parse:function(){return{type:"26"}},render:()=>" | "},27:{match:If(DYe),order:4,parse:m=>({text:m[0].replace(sYe,(g,v)=>t.namedCodesToUnicode[v]?t.namedCodesToUnicode[v]:g)}),render:m=>m.text},28:{match:oi(SYe),order:2,parse:(m,g,v)=>({children:g(m[2],v)}),render:(m,g,v)=>r("strong",{key:v.key},g(m.children,v))},29:{match:oi(kYe),order:3,parse:(m,g,v)=>({children:g(m[2],v)}),render:(m,g,v)=>r("em",{key:v.key},g(m.children,v))},30:{match:oi(AYe),order:1,parse:m=>({text:m[1],type:"27"})},31:{match:oi(IYe),order:3,parse:Qw,render:(m,g,v)=>r("mark",{key:v.key},g(m.children,v))},32:{match:oi(TYe),order:3,parse:Qw,render:(m,g,v)=>r("del",{key:v.key},g(m.children,v))}};t.disableParsingRawHTML===!0&&(delete l[11],delete l[13]);const d=function(m){let g=Object.keys(m);function v(b,y){let E=[],w="";for(;b;){let C=0;for(;C<g.length;){const x=g[C],S=m[x],I=S.match(b,y,w);if(I){const A=I[0];b=b.substring(A.length);const T=S.parse(I,v,y);T.type==null&&(T.type=x),E.push(T),w=A;break}C++}}return E}return g.sort(function(b,y){let E=m[b].order,w=m[y].order;return E!==w?E-w:1}),function(b,y){return v(function(E){return E.replace(eYe,`
`).replace(rYe,"").replace(bYe,"    ")}(b),y)}}(l),u=(f=function(m,g){return function(v,b,y){const E=m[v.type].render;return g?g(()=>E(v,b,y),v,b,y):E(v,b,y)}}(l,t.renderRule),function m(g,v={}){if(Array.isArray(g)){const b=v.key,y=[];let E=!1;for(let w=0;w<g.length;w++){v.key=w;const C=m(g[w],v),x=typeof C=="string";x&&E?y[y.length-1]+=C:C!==null&&y.push(C),E=x}return v.key=b,y}return f(g,m,v)});var f;const p=o(e);return s.length?r("div",null,p,r("footer",{key:"footer"},s.map(function(m){return r("div",{id:t.slugify(m.identifier),key:m.identifier},m.identifier,u(d(m.footnote,{inline:!0})))}))):p}const YYe=e=>{let{children:t,options:n}=e,r=function(o,a){if(o==null)return{};var s,i,l={},d=Object.keys(o);for(i=0;i<d.length;i++)a.indexOf(s=d[i])>=0||(l[s]=o[s]);return l}(e,zqe);return c.cloneElement(qYe(t,n),r)},KYe=M({paddingLeft:"var(--ds-space-250, 20px)",paddingInlineStart:"var(--ds-space-250, 20px)"}),XYe=({children:e,...t})=>k("ul",H({css:KYe},t),e),JYe=M({fontSize:"0.75rem",lineHeight:"1rem",wordWrap:"break-word",wordBreak:"break-word",whiteSpace:"normal",WebkitUserSelect:"text",MozUserSelect:"text",MsUserSelect:"text",userSelect:"text"}),ZYe=({content:e="",overrideCss:t,testId:n="ai-summary",minHeight:r=0})=>!e&&r===0?null:k(YYe,{"data-testid":n,css:[JYe,t],children:e,options:{forceWrapper:!0,overrides:{ul:XYe}},style:{minHeight:r}}),QYe=({fromCache:e=null})=>{const{fireEvent:t}=Sc();return c.useEffect(()=>{t("ui.summary.viewed",{fromCache:e}),e&&t("track.aiInteraction.initiated",{aiFeatureName:"Smart Links Summary",proactiveAIGenerated:1,userGeneratedAI:0})},[t,e]),null},eKe=e=>{const{testId:t,aiSummaryMinHeight:n=0,placeholder:r,url:o}=e,{state:{content:a,status:s}}=Vy(o),i=s==="done"||s==="loading"&&!!a,l=c.useRef(s==="done"),d=l.current?0:n;return i?_.createElement(Pn,H({},e,{direction:Eo.Vertical,testId:`${t}-resolved-view`,overrideCss:M({overflow:"visible"},e.overrideCss)}),s==="done"&&_.createElement(QYe,{fromCache:l.current}),_.createElement(tee,{minHeight:d,show:i,showTransition:!l.current},_.createElement(ZYe,{testId:`${t}-ai-summary`,minHeight:d,content:a}))):_.createElement(_.Fragment,null,r)},wee=({status:e,testId:t="smart-ai-summary-block",...n})=>{var r;const o=Zo(),a=o==null||(r=o.actions)===null||r===void 0?void 0:r[lm.AISummaryAction];return e!==ot.Resolved||!(a!=null&&a.url)?null:_.createElement(eKe,H({},n,{testId:t,url:a.url}))},tKe=e=>_.createElement("svg",H({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},e),_.createElement("path",{d:"M7 5C7 5.55228 7.44772 6 8 6C8.55228 6 9 5.55228 9 5C9 4.44772 8.55228 4 8 4C7.44772 4 7 4.44772 7 5Z",fill:"currentColor"}),_.createElement("path",{d:"M7.25 7L7.25 12H8.75L8.75 7H7.25Z",fill:"currentColor"}),_.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1ZM2.5 8C2.5 11.0376 4.96243 13.5 8 13.5C11.0376 13.5 13.5 11.0376 13.5 8C13.5 4.96243 11.0376 2.5 8 2.5C4.96243 2.5 2.5 4.96243 2.5 8Z",fill:"currentColor"})),nKe=e=>_.createElement(Vp,H({},e,{glyph:tKe})),rKe=({testId:e,url:t})=>{const{state:{status:n}}=Vy(t);return n!=="done"?null:_.createElement(Me,{space:"space.100",testId:e,alignInline:"end",grow:"fill"},_.createElement(Bt,{content:_.createElement(Ue,Se.ai_summarized_info_short),position:"bottom"},r=>_.createElement(_e,r,_.createElement(nKe,{label:"Information",size:"small",primaryColor:"var(--ds-icon-subtle, #626F86)"}))),_.createElement(fZ,{label:"AI",size:"small",primaryColor:"var(--ds-icon-subtle, #626F86)"}))},oKe=e=>{var t;const n=Zo(),r=n==null||(t=n.actions)===null||t===void 0?void 0:t[lm.AISummaryAction],{testId:o}=e;return _.createElement(Pn,H({},e,{testId:`${o}-resolved-view`}),_.createElement(gT,{testId:`${o}-provider`}),r?_.createElement(rKe,H({},r,{testId:`${o}-ai-metadata`})):null)},Cee=({status:e,testId:t="smart-ai-footer-block",...n})=>e!==ot.Resolved?null:_.createElement(oKe,H({},n,{testId:t})),aKe=ie({all:"unset",borderRadius:"border.radius",margin:"space.100",marginBottom:"space.0",lineHeight:"20px",padding:"space.075",paddingInline:"space.100",width:"100%",":empty":{display:"none"}}),sKe=ie({backgroundColor:"color.background.danger"}),iKe=ie({color:"color.text.subtle",fontSize:"12px",fontStyle:"normal",fontWeight:"400",lineHeight:"16px"}),lKe=e=>{switch(e){case"error":return _.createElement(p1,{primaryColor:"var(--ds-icon-danger, #C9372C)",label:"Error",size:"small",testId:"action-error-icon"});default:return null}},cKe=({message:e,testId:t})=>e?_.createElement(_e,{testId:`${t}-footer`,xcss:[aKe,e.appearance==="error"&&sKe]},_.createElement(tee,{isFadeIn:!0,show:!0,showTransition:!0},_.createElement(Me,{alignBlock:"start",grow:"fill",space:"space.050"},e.icon||lKe(e.appearance),_.createElement(_e,{xcss:iKe},e.title)))):null,dKe=M({display:"flex",flexDirection:"column",boxSizing:"border-box",flexGrow:1,width:"100%",marginLeft:"calc(var(--container-gap-left) * -1)",marginRight:"calc(var(--container-gap-right) * -1)"}),g0=["PreviewAction","CopyLinkAction","AISummaryAction"],uKe=(e,t)=>{let n=g0.indexOf(e),r=g0.indexOf(t);return n===-1&&(n=g0.length),r===-1&&(r=g0.length),n-r},_ee=({blockRef:e,onClick:t,size:n,spaceInline:r,testId:o="smart-block-action"})=>{const a=Zo(),s=X4(),[i,l]=c.useState(),[d,u]=c.useState(!1),f=c.useCallback(b=>{u(b)},[u]),p=s!=null&&s.hidePadding?void 0:mNe((s==null?void 0:s.size)||ze.Medium),m=c.useCallback(b=>{l(void 0),t==null||t(b)},[t]),g=c.useCallback(b=>{l(b)},[]),v=c.useMemo(()=>{if(!(a!=null&&a.actions))return;const b=Object.keys(a.actions);return b.sort(uKe),b.map(y=>{const E=y in yb?yb[y]:void 0;return E?k(E,{as:"stack-item",spaceInline:r,key:y,onClick:()=>m(y),onError:g,onLoadingChange:f,size:n,xcss:ie({paddingInline:p}),hideTooltip:d}):null})},[a==null?void 0:a.actions,m,g,p,n,r,d,f]);return v?k("div",{css:dKe,ref:e,"data-testid":o},v,k(cKe,{message:i,paddingInline:p,testId:o})):null},fKe=Object.freeze(Object.defineProperty({__proto__:null,AIFooterBlock:Cee,AISummaryBlock:wee,ActionBlock:_ee,CustomBlock:Pn,FooterBlock:_Z,InternalFooterBlock:ET,MetadataBlock:wb,PreviewBlock:Xu,RelatedUrlsBlock:Hqe,SnippetBlock:Cb,TitleBlock:Xh},Symbol.toStringTag,{value:"Module"})),xee=e=>!!(e&&_.Children.toArray(e).some(t=>mA(t))),pKe=e=>_.isValidElement(e)&&Object.values(fKe).some(t=>t===e.type),mKe=e=>_.isValidElement(e)&&Object.values(KJ).some(t=>t===e.type),mA=e=>_.isValidElement(e)&&e.type===Xh,hKe=e=>_.isValidElement(e)&&e.type===Xu;var gKe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.literal,r=t.overlap,o=n?e:["&"].concat(e);function a(s){if(typeof s!="object"||s==null)return[];if(Array.isArray(s))return s.map(a);var i={},l={},d={};return Object.keys(s).forEach(function(u){var f=s[u];if(!Array.isArray(f)&&n&&(f=[f]),(n||Array.isArray(f))&&u.charCodeAt(0)!==38){var p=void 0;f.forEach(function(m,g){if(!(r&&p===m)&&m!=null)if(p=m,g===0&&!n)d[u]=m;else if(i[o[g]]===void 0){var v;i[o[g]]=(v={},v[u]=m,v)}else i[o[g]][u]=m})}else typeof f=="object"?l[u]=a(f):d[u]=f}),o.forEach(function(u){i[u]&&(d[u]=i[u])}),Object.assign(d,l),d}return function(){for(var s=arguments.length,i=Array(s),l=0;l<s;l++)i[l]=arguments[l];return i.map(a)}};const Et=e=>`${8*e}px`,_b=(e=1)=>`${3*e}px`,rs=gKe(["@media(min-width: 576px)"]),g7="media-card-frame",Zy=`
  border-radius: var(--ds-border-radius, 3px);
`,Xx=`
  border-radius: var(--ds-border-radius-200, 8px);
`,See=`
  border-radius: var(--ds-border-radius-100, 4px);
`,kee=(e="100%")=>`
    max-width: ${e}${typeof e=="number"?"px":""};
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  `,hA=(e="100%")=>{const t=typeof e=="number"?"px":"";return`
    width: ${e}${t};
    height: ${e}${t};
  `};function vKe({minWidth:e}){return e?`min-width: ${e}px;`:""}function bKe({maxWidth:e}){return e?`max-width: ${e}px; margin: 0 auto;`:"margin: 0 auto;"}function yKe({isInteractive:e,frameStyle:t}){return e?`
      &:hover {
        ${t!=="hide"&&gA}

      }
      &:active {
        background-color: ${`var(--ds-background-selected, ${gn})`};
      }
    `:""}function EKe({isSelected:e,frameStyle:t}){return e&&t!=="hide"?`
    ${gA}
    &::after {
      cursor: pointer;
      box-shadow: 0 0 0 3px ${`var(--ds-border-selected, ${cn})`};
      content: '';
      border: none;
      position: absolute;
      height: 100%;
      width: 100%;
      left: 0;
      ${Xx}
    }
    `:e&&t==="hide"?See:""}const wKe=({inheritDimensions:e})=>e?"height: 100%;":`height: ${Et(54)}`,Iee=e=>`
  ${Xx}
  ${vKe(e)}
  ${bKe(e)}
  ${yKe(e)}
  ${_Ke(e)}
  display: inline-flex;
  flex-direction: column;
  box-sizing: border-box;
  font-family: ${Eu()};
  width: 100%;
  user-select: none;
  line-height: initial;
  transition: background 0.3s;
  position: relative;
  ${wKe(e)};
  ${EKe(e)}

  &:after {
    content: '';
    transition: background 0.3s, box-shadow 0.3s;
    position: absolute;
    height: calc(100% + var(--ds-space-100, 8px));
    ${Xx}

    ${CKe(e)}
  }
`,CKe=({frameStyle:e})=>e==="show"?`
    box-sizing: border-box;
    width: 100%;`:`
    width: calc(100% + var(--ds-space-200, 16px));
    left: var(--ds-space-negative-100, -8px);`,gA=`
  &:after {
    border: 1px solid ${`var(--ds-border, ${Ut})`};
    background-color: var(--ds-surface-raised, white);
  }
  .embed-header {
    opacity: 1;
  }`;function _Ke({frameStyle:e}){return e==="show"?gA:""}const xKe=Ge.div`
	${e=>Iee(e)} &:hover {
		text-decoration: none;
	}
`,SKe=Ge.div(e=>Iee(e),{marginTop:"10px"}),kKe=32,IKe=Ge.div({height:`${kKe}px`,position:"absolute",zIndex:1,width:"100%",display:"flex",alignItems:"center",color:`var(--ds-icon, ${Vn})`,opacity:0,transition:"300ms opacity cubic-bezier(0.15, 1, 0.3, 1)"},({frameStyle:e})=>e==="show"?`
        box-sizing: border-box;
        padding: 0 var(--ds-space-100, 8px);
      `:""),TKe=Ge.div(Zy,hA(16),({isPlaceholder:e})=>e?`
			
      background-color: ${`var(--ds-skeleton, ${Dt})`};
    `:"",{marginRight:"var(--ds-space-050, 4px)"}),AKe=Ge.div(({isPlaceholder:e})=>e?`
        ${Zy}
        width: 125px;
        height: 12px;

        background-color: ${`var(--ds-skeleton, ${Dt})`};
      `:"",{color:`var(--ds-text-subtlest, ${Vn})`,fontSize:"12px",lineHeight:"16px"},kee("none")),DKe=Ge.div({overflow:"hidden"}),OKe=Ge.div`
	${See};
	border: 1px solid ${`var(--ds-border, ${Ut})`};
	background-color: ${"var(--ds-surface-raised, white)"};
	position: absolute;
	z-index: 1;
	width: 100%;
	transition: box-shadow 0.3s;

	> .calc-height > div > div {
		left: unset !important;
		width: unset !important;
		height: unset !important;
		position: initial !important;
		padding-bottom: unset !important;
	}
	> .embed-preview > div {
		margin: 0 auto;
	}

	${({allowScrollBar:e,removeOverflow:t})=>t?"":e?"overflow: auto;":"overflow: hidden;"}

	${({frameStyle:e})=>e==="show"?`
        width: calc(100% - var(--ds-space-200, 16px) - 2px);
        margin: 0 var(--ds-space-100, 8px) var(--ds-space-100, 8px);
      `:""}

  ${({frameStyle:e})=>e==="hide"?"height: 100%;":`
        height: calc(100% - var(--ds-space-400, 32px));
        top: var(--ds-space-400, 32px);
      `}
`,MKe=Ge.img(({size:e})=>hA(e),Zy,{overflow:"hidden"}),$Ke=6;Ge.div({display:"flex",flexDirection:"row",boxSizing:"border-box",padding:"var(--ds-space-100, 8px) var(--ds-space-150, 12px) var(--ds-space-150, 12px) var(--ds-space-150, 12px)"});Ge.div({color:`var(--ds-text, ${Ba})`,fontSize:"16px",fontWeight:500,lineHeight:20/16,maxHeight:`${20*4}px`,overflow:"hidden"});Ge.div({marginTop:"var(--ds-space-050, 4px)",color:`var(--ds-text-subtlest, ${Vn})`,fontSize:"12px",fontWeight:"normal",lineHeight:16/12},kee("100%"));Ge.div({marginTop:"calc(var(--ds-space-100, 8px) - 1px)",color:`var(--ds-text, ${mn})`,fontSize:"12px",fontWeight:"normal",lineHeight:18/12,maxHeight:`${18*3}px`,overflow:"hidden"});Ge.div({marginTop:"var(--ds-space-050, 4px)"});Ge.div(Zy,hA(48),e=>({float:"right",margin:"var(--ds-space-050, 4px) 0 var(--ds-space-150, 12px) var(--ds-space-150, 12px)",backgroundColor:`var(--ds-skeleton, ${Dt})`,backgroundImage:`url(${e.src})`,backgroundSize:"cover"}));Ge.div({marginTop:"var(--ds-space-100, 8px)"});Ge.div({marginTop:"var(--ds-space-100, 8px)",textAlign:"right","> *":{marginTop:"var(--ds-space-050, 4px)"},"> * + *":{marginLeft:"var(--ds-space-050, 4px)"}});Ge.div({position:"absolute",top:0,right:0,bottom:0,left:0,overflow:"hidden",pointerEvents:"none",zIndex:$Ke+1});const kc=(e,t)=>{t&&(e.preventDefault(),e.stopPropagation(),t(e))},Tee=({isPlaceholder:e=!1,children:t,onClick:n,icon:r,text:o,isSelected:a,frameStyle:s="showOnHover",href:i,minWidth:l,maxWidth:d,testId:u="expanded-frame",inheritDimensions:f,allowScrollBar:p=!1,setOverflow:m=!0})=>{const g=()=>!e&&(!!i||!!n),v=w=>kc(w,n),b=xc(),y=()=>_.createElement(IKe,{className:"embed-header",frameStyle:s},_.createElement(TKe,{isPlaceholder:e},!e&&r),_.createElement(DKe,null,_.createElement(Bt,{content:o,hideTooltipOnMouseDown:!0},_.createElement(AKe,{isPlaceholder:e},!e&&_.createElement("a",{href:i,onClick:v,onMouseDown:b},o))))),E=()=>_.createElement(OKe,{"data-testid":"embed-content-wrapper",allowScrollBar:p,removeOverflow:!m,isInteractive:g(),frameStyle:s,contentEditable:"false",suppressContentEditableWarning:!0},t);return!e&&i?_.createElement(xKe,{className:g7,isInteractive:g(),isSelected:a,frameStyle:s,minWidth:l,maxWidth:d,"data-testid":u,"data-trello-do-not-use-override":u,"data-is-selected":a,inheritDimensions:f},y(),E()):_.createElement(SKe,{className:g7,isInteractive:g(),isSelected:a,minWidth:l,frameStyle:s,maxWidth:d,"data-testid":u,"data-trello-do-not-use-override":u,"data-is-selected":a,"data-wrapper-type":"default","data-is-interactive":g()},y(),E())},RKe="smart-link-content-footer",PKe=M({display:"flex"}),LKe=rs({flexDirection:["column","row"],flexGrow:[1,"unset"],alignItems:["unset","center"],marginTop:[Et(1),Et(1.5)]}),ag=({children:e,hasSpaceBetween:t=!1})=>k("div",{css:[PKe,LKe,rs({justifyContent:[t?"space-between":"flex-end","space-between"]})],className:RKe},e),NKe=M({display:"flex",alignItems:"center",marginRight:"var(--ds-space-050, 4px)"}),FKe=M({width:"var(--ds-space-100, 8px)",height:"var(--ds-space-100, 8px)"}),jKe=M({fontSize:"var(--ds-space-150, 12px)",color:`${`var(--ds-text-subtlest, ${Vn})`}`,marginRight:"var(--ds-space-050, 4px)",marginLeft:"var(--ds-space-025, 2px)"}),VKe=({text:e,icon:t,iconUrl:n,tooltip:r})=>{let o=t||null;!o&&n&&(o=k("img",{src:n,css:FKe}));const a=k("div",{css:NKe},o,k("span",{css:jKe},e));return r?k(Bt,{content:r},a):a},BKe="smart-link-metadata-list",UKe=M({display:"flex",marginTop:Et(.5),alignItems:"center","&:last-child":{marginRight:"0px"}}),HKe=({items:e,testId:t})=>k("div",{css:UKe,"data-testid":t,className:BKe},e.map(n=>k(VKe,H({key:n.text},n)))),Ic=(e={isSelected:!1,isHoverable:!1,isFluidHeight:!1})=>e.compact?k(WKe,e):k(zKe,e),Aee=M({width:"100%",display:"flex"}),Dee={maxWidth:Et(95),backgroundColor:"var(--ds-surface-raised, white)"},zKe=({children:e,isSelected:t,isHoverable:n,testId:r,className:o,isFluidHeight:a})=>k("div",{css:[Aee,Dee,rs({"&:hover":n?{backgroundColor:`var(--ds-background-neutral-subtle-hovered, ${No})`,cursor:"pointer"}:void 0,minHeight:a?0:[Et(21),Et(15)],borderRadius:t?_b():_b(.5),border:`2px solid ${t?`var(--ds-border-selected, ${vn})`:"transparent"}`,justifyContent:"space-between",overflow:"hidden",boxShadow:`var(--ds-shadow-raised, ${`0 1px 1px ${Vs}, 0 0 1px 1px ${u_}`})`})],"data-testid":r,className:o,"data-trello-do-not-use-override":r},e),WKe=({children:e,isHoverable:t,isSelected:n,testId:r,className:o,inheritDimensions:a})=>k("div",{css:[Aee,Dee,rs({"&:hover":t?{backgroundColor:`var(--ds-background-neutral-hovered, ${Mn})`}:void 0,borderRadius:n?_b():_b(.5),border:n?`2px solid ${`var(--ds-border-selected, ${vn})`}`:"",justifyContent:"center",alignItems:"center",height:a?"100%":Et(5),backgroundColor:`var(--ds-background-neutral, ${No})`,width:["calc(100% - 16px)","100%"],padding:[`0px ${Et(1)}`,"0"]})],"data-testid":r,className:o},e),GKe="block-card-resolving-view",qKe=M({fontSize:`${yu()}px`,color:`var(--ds-text-subtlest, ${Wa})`,marginLeft:Et(.5)}),Oee=({isSelected:e=!1,testId:t="block-card-resolving-view",inheritDimensions:n})=>k(Ic,{inheritDimensions:n,compact:!0,isSelected:e,testId:t,className:GKe},k(GT,{size:"small",primaryColor:`var(--ds-icon-subtle, ${bk})`,label:"document-icon"}),k("span",{css:qKe},k(Ue,Se.loading))),YKe=e=>e.color?k(JKe,e):k(KKe,e),Mee={minWidth:[Et(13),Et(20)],maxWidth:[Et(13),Et(20)]},KKe=({src:e,testId:t})=>k("div",{css:rs({...Mee,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",backgroundImage:`url(${e})`}),"data-testid":t,"data-trello-do-not-use-override":t}),XKe=M({height:"90px",width:"90px"}),JKe=({src:e,color:t,testId:n})=>k("div",{css:rs({...Mee,backgroundColor:t,display:"flex",alignItems:"center",justifyContent:"center"}),"data-testid":n,"data-trello-do-not-use-override":n},k("img",{src:e,css:XKe})),ZKe=M({display:"flex",alignItems:"center",fontSize:Et(1.5),whiteSpace:"normal"}),QKe=M({height:Et(1.5),width:Et(1.5)}),eXe=M({color:`var(--ds-text-subtlest, ${Vn})`,margin:0,marginLeft:Et(.5),MozUserSelect:"none"}),Qy=({name:e,icon:t})=>{let n=t||null;return typeof t=="string"&&(n=k("img",{className:"smart-link-icon",css:QKe,src:t})),k("div",{css:ZKe},n,k("span",{css:eXe},e))},tXe="block-card-content-header-name",nXe=M({fontSize:`${yu()}px`,fontWeight:500,lineHeight:Et(2.5),display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",wordBreak:"break-word",WebkitLineClamp:2,WebkitBoxOrient:"vertical",maxHeight:Et(6)}),rXe=({name:e,isLeftPadded:t=!0,testId:n,textColor:r})=>k("span",{css:[nXe,{marginLeft:t?Et(1):"0",color:r||"inherit"}],"data-testid":n,"data-trello-do-not-use-override":"block-card-content-header-name",className:tXe},e),oXe=M({display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:2,WebkitBoxOrient:"vertical",wordBreak:"break-word",whiteSpace:"pre-line",MozUserSelect:"none"}),aXe=rs({fontSize:Et(1.5),lineHeight:Et(2.5),color:`${`var(--ds-text-subtlest, ${Vn})`}`,fontWeight:"normal",marginTop:Et(.5),maxHeight:Et(5)}),sg=({text:e,children:t,testId:n,className:r})=>k("span",{css:[oXe,aXe],"data-testid":n,className:r},e||t);var vA={},Ju={};Object.defineProperty(Ju,"__esModule",{value:!0});var sXe=Ju.default=void 0,iXe=$ee(c),lXe=$ee(Oe);function $ee(e){return e&&e.__esModule?e:{default:e}}const Ree=e=>iXe.default.createElement(lXe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="m1.5 8 4.25 5.25 8.75-10.5"/>'},e));Ree.displayName="CheckMarkIcon";sXe=Ju.default=Ree;var eE={};Object.defineProperty(eE,"__esModule",{value:!0});var cXe=eE.default=void 0,dXe=Pee(c),uXe=je,fXe=Pee(Ju);function Pee(e){return e&&e.__esModule?e:{default:e}}const Lee=e=>dXe.default.createElement(uXe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" d="M6.735 12.322a1 1 0 0 0-1.47 1.356l3.612 3.919c.537.526 1.337.526 1.834.03l.364-.359a2336 2336 0 0 0 3.939-3.883l.04-.04a493 493 0 0 0 3.658-3.643 1 1 0 0 0-1.424-1.404 518 518 0 0 1-3.64 3.625l-.04.04a2049 2049 0 0 1-3.775 3.722z"/></svg>'},e,{newIcon:fXe.default}));Lee.displayName="CheckIcon";cXe=eE.default=Lee;Object.defineProperty(vA,"__esModule",{value:!0});var tE=vA.default=void 0,pXe=bA(c),mXe=bA(Ju),hXe=bA(eE);function bA(e){return e&&e.__esModule?e:{default:e}}const Nee=e=>pXe.default.createElement(mXe.default,Object.assign({LEGACY_fallbackIcon:hXe.default},e));Nee.Name="CheckMarkIconMigration";tE=vA.default=Nee;var yA={};Object.defineProperty(yA,"__esModule",{value:!0});var EA=yA.default=void 0,gXe=wA(c),vXe=wA(Iu),bXe=wA(f1);function wA(e){return e&&e.__esModule?e:{default:e}}const Fee=e=>gXe.default.createElement(vXe.default,Object.assign({LEGACY_fallbackIcon:bXe.default},e));Fee.Name="CloseIconMigration";EA=yA.default=Fee;const v7={display:"flex",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},yXe=({state:e})=>{switch(e){case"init":case"loading":return null;case"success":return _.createElement("div",{"data-testid":"check-icon",style:v7},_.createElement(tE,{LEGACY_size:"small",label:"check",color:"currentColor"}));case"failure":return _.createElement("div",{"data-testid":"cross-icon",style:v7},_.createElement(EA,{LEGACY_size:"small",label:"check",color:"currentColor"}))}},EXe=1e3,wXe=M({transition:"opacity 0.3s"}),CXe=({promise:e,text:t,buttonAppearance:n="default",id:r})=>{const[o,a]=c.useState("init");return k(Yd,{spacing:"compact",appearance:n,isLoading:o==="loading",testId:`button-${r}`,onClick:s=>{s.stopPropagation(),s.preventDefault(),o!=="loading"&&(a("loading"),e().then(()=>{a("success")}).catch(()=>{a("failure")}).finally(()=>{setTimeout(()=>a("init"),EXe)}))}},k("div",{css:[wXe,{opacity:o!=="init"?0:1}]},t),k(yXe,{state:o}))},_Xe=rs({display:"flex",marginTop:[Et(2),0]}),xXe=M({height:"auto"}),SXe={marginLeft:Et(.5)},nE=({items:e})=>{const t=e.slice(0,2),n=e.slice(2,e.length);return k("div",{css:_Xe},k(lz,null,t.map(r=>k(CXe,H({key:r.id},r)))),n.length?k("div",{css:SXe},k(rT,{trigger:({triggerRef:r,...o})=>k(ht,H({},o,{iconBefore:k(bc,{label:"more",color:"currentColor",spacing:"spacious"}),ref:r,css:xXe,testId:"dropdown-trigger"})),placement:"right-start"},k(sT,{testId:"dropdown-menu"},n.map(r=>k(Ry,{key:r.id},r.text))))):null)},kXe=({items:e,handleAvatarClick:t=()=>{},handleMoreAvatarsClick:n=()=>{},testId:r="collaborator-list"})=>e.length===0?null:k("span",{css:rs({display:["none","inherit"]})},k(VJ,{maxCount:4,appearance:"stack",size:"small",data:e,onAvatarClick:o=>{o.stopPropagation(),o.preventDefault(),t(o)},onMoreClick:o=>{o.stopPropagation(),o.preventDefault(),n(o)},testId:r})),IXe=M({height:Et(2.5),width:Et(2),display:"flex",alignItems:"center",justifyContent:"center",marginTop:"var(--ds-space-negative-025, -2px)"}),TXe=({emoji:e})=>k("span",{css:IXe},e),AXe="block-card-icon-image",DXe=e=>{if(!e)return M({height:Et(2),width:Et(2)})},OXe=e=>{if(!e)return M({height:Et(2.5),width:Et(2),display:"flex",alignItems:"center",justifyContent:"center"})},MXe=({url:e,icon:t,defaultIcon:n,testId:r="block-card-icon",isFlexibleUi:o=!1})=>{const a=n||k(Jr,{label:"link",LEGACY_size:"small",testId:`${r}-default`,color:"currentColor"}),s=e&&k(X1,{src:e,loaded:k("img",{css:DXe(o),src:e,alt:"","data-testid":`${r}-image`}),errored:a});return k("span",{css:OXe(o),"data-testid":r,className:AXe},t||s||a)},$Xe="block-card-content",RXe=M({display:"flex",flexDirection:"column",flexGrow:1}),ig=({children:e,isCompact:t=!1})=>k("div",{css:[RXe,rs({padding:Et(t?1:2),justifyContent:t?"unset":["unset","space-between"]})],"data-trello-do-not-use-override":"block-card-content",className:$Xe},e),PXe=Ge.span({"& > span":{marginLeft:"var(--ds-space-050, 4px)"}}),LXe="block-card-content-header",NXe=M({display:"flex",alignItems:"flex-start",MozUserSelect:"none"}),lg=({onClick:e,link:t,children:n})=>{const r=xc();return k("a",{onClick:e,onMouseDown:r,href:t,target:"_blank",css:NXe,"data-trello-do-not-use-override":"block-card-content-header",className:LXe},n)},FXe=M({display:"flex",justifyContent:"space-between",alignItems:"flex-start"}),jXe={height:Et(2.5),display:"flex",alignItems:"center",justifyContent:"center"},VXe="block-card-resolved-view",BXe="block-card-resolved-view-by",jee=({icon:e={},actions:t=[],thumbnail:n,context:r={text:""},title:o="",titleTextColor:a,titlePrefix:s,isSelected:i=!1,users:l=[],handleAvatarClick:d=()=>{},handleMoreAvatarsClick:u=()=>{},onClick:f=()=>{},link:p="",byline:m="",lozenge:g,details:v=[],testId:b="block-card-resolved-view"})=>{const y=v.length>0?k(HKe,{testId:b?`${b}-meta`:void 0,items:v}):void 0,E=k(sg,{testId:b?`${b}-by`:void 0,className:BXe},m),w=x=>kc(x,f),C=t.length>0;return k(Ic,{isSelected:i,testId:b,className:VXe},k(ig,null,k("div",null,k("div",{css:FXe},k(lg,{onClick:w,link:p},s?k(TXe,{emoji:s}):k(MXe,e),k(rXe,{name:o,textColor:a}),g&&k(PXe,{css:jXe},k(Qi,H({style:g.style},g),g.text))),k(kXe,{items:l,handleAvatarClick:d,handleMoreAvatarsClick:u,testId:b?`${b}-collaborator-list`:void 0})),E,y),k(ag,{hasSpaceBetween:C},k(Qy,{name:r.text,icon:r.icon}),C&&k(nE,{items:t}))),n?k(YKe,{src:n,testId:b?`${b}-thumb`:void 0}):null)};var rE={},cg={};Object.defineProperty(cg,"__esModule",{value:!0});cg.default=void 0;var UXe=Vee(c),HXe=Vee(Oe);function Vee(e){return e&&e.__esModule?e:{default:e}}const Bee=e=>UXe.default.createElement(HXe.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M4.75 7.75H4c-.69 0-1.25.56-1.25 1.25v5c0 .69.56 1.25 1.25 1.25h8c.69 0 1.25-.56 1.25-1.25V9c0-.69-.56-1.25-1.25-1.25h-.75m-6.5 0V4a3.25 3.25 0 1 1 6.5 0v3.75m-6.5 0h6.5M8 10v3"/>'},e));Bee.displayName="LockLockedIcon";cg.default=Bee;Object.defineProperty(rE,"__esModule",{value:!0});var dg=rE.default=void 0,zXe=Uee(c),WXe=je,GXe=Uee(cg);function Uee(e){return e&&e.__esModule?e:{default:e}}const Hee=e=>zXe.default.createElement(WXe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M8 10V8.002A4.004 4.004 0 0 1 12 4a4 4 0 0 1 4 4.002V10a2 2 0 0 1 2 2v6c0 1.105-.902 2-2.009 2H8.01A2 2 0 0 1 6 18v-6c0-1.102.897-1.995 2-2m2 0h4V8.002A2 2 0 0 0 12 6c-1.102 0-2 .898-2 2.002zm2 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4"/></svg>'},e,{newIcon:GXe.default}));Hee.displayName="LockFilledIcon";dg=rE.default=Hee;const qXe=ro({__proto__:null,get default(){return dg}},[rE]),YXe=M({color:`var(--ds-link, ${Jt})`,wordBreak:"break-all"}),oE=({url:e,testId:t="block-card",className:n})=>k("span",{"data-testid":`${t}-link`,className:n,css:YXe},e),KXe=M({display:"flex",alignItems:"center"}),CA=({icon:e,text:t})=>k("span",{css:KXe},e,t),XXe="block-card-forbidden-view",JXe="block-card-forbidden-view-link",ZXe=({context:e={text:""},isSelected:t=!1,actions:n=[],testId:r="block-card-forbidden-view",link:o="",onClick:a=()=>{},requestAccessContext:s={},actionOptions:i})=>{const l=g=>kc(g,a),{action:d,descriptiveMessageKey:u="invalid_permissions_description",hostname:f="",buttonDisabled:p}=s,m=d!==void 0&&!(p??!1)?[...n,d]:n;return k(Ic,{isSelected:t,testId:r,className:XXe,isFluidHeight:!0},k(ig,{isCompact:!0},k("div",null,k(lg,{onClick:l,link:o},k(oE,{url:o,testId:r,className:JXe})),k(sg,null,k(CA,{icon:k(dg,{label:"forbidden-lock-icon",size:"small",primaryColor:`var(--ds-icon-danger, ${Er})`,testId:`${r}-lock-icon`}),text:k(Ue,H({},Se[u],{values:{product:e.text,context:e.text,hostname:f}}))}))),k(ag,null,k(Qy,{name:e.text,icon:e.icon}),!(i!=null&&i.hide)&&k(nE,{items:m}))))},QXe={...Se.not_found_description},eJe="block-card-not-found-view",tJe=({context:e={text:""},isSelected:t=!1,testId:n="block-card-not-found-view",link:r="",onClick:o=()=>{}})=>k(Ic,{isSelected:t,testId:n,className:eJe,isFluidHeight:!0},k(ig,{isCompact:!0},k("div",null,k(lg,{onClick:s=>kc(s,o),link:r},k(oE,{url:r,testId:n})),k(sg,null,k(CA,{icon:k(v1,{label:"not-found-warning-icon",size:"small",primaryColor:`var(--ds-icon-warning, ${Er})`,testId:`${n}-warning-icon`}),text:k(Ue,QXe)}))),k(ag,null,k(Qy,{name:e.text,icon:e.icon})))),nJe=e=>({id:"try-again",promise:async()=>e(),text:_.createElement(Ue,Se.try_again)}),rJe={...Se.could_not_load_link},oJe="block-card-errored-view",aJe=({isSelected:e=!1,testId:t="block-card-errored-view",link:n="",onClick:r=()=>{},onRetry:o,inheritDimensions:a=!1})=>{const s=l=>kc(l,r),i=c.useMemo(()=>o?[nJe(o)]:[],[o]);return k(Ic,{isSelected:e,testId:t,className:oJe,isFluidHeight:!0,inheritDimensions:a},k(ig,{isCompact:!0},k("div",null,k(lg,{onClick:s,link:n},k(oE,{url:n,testId:t})),k(sg,null,k(CA,{icon:k(v1,{label:"errored-warning-icon",size:"small",primaryColor:`var(--ds-icon-warning, ${Er})`,testId:`${t}-warning-icon`}),text:k(Ue,rJe)}))),k(ag,null,k(nE,{items:i}))))},zee=Qt.modal(),sJe={hideBackground:!0,hideElevation:!0,size:ze.Medium,hideHoverCardPreviewButton:!1,zIndex:zee+1},iJe=24,lJe=25,b7=10,Wee="0.5rem",Gee="0.5rem",qee=M({"[data-separator] + [data-separator]:before":{marginRight:Gee}}),cJe=M`
	background: none;
	border-width: 0;
	box-sizing: border-box;
	width: ${lJe}rem;

	.${YX} {
		display: none;
	}
`,dJe=M`
	gap: ${Wee};

	${qee}

	// title and subtitle element group
  [data-smart-element-group] {
		// gap between title and subtitle
		gap: 0.06rem;
		display: flex;
		/* subtitle element group */
		> [data-smart-element-group] {
			> span {
				margin-right: ${Gee};
			}
		}
	}

	[data-smart-element='Title'] {
		font-weight: 600;
	}
`,uJe=e=>M({transition:"height 300ms ease-in-out",height:`${e}px`}),Yee=M({borderRadius:"var(--ds-border-radius-200, 8px)",backgroundColor:"var(--ds-surface-overlay, white)",boxShadow:"var(--ds-shadow-overlay, 0px 8px 12px rgba(9, 30, 66, 0.15),0px 0px 1px rgba(9, 30, 66, 0.31))"}),Kee=e=>M(e?`height: ${e}px;`:"",{borderTopLeftRadius:"var(--ds-border-radius-200, 8px)",borderTopRightRadius:"var(--ds-border-radius-200, 8px)",marginBottom:Wee}),fJe=(e,t)=>{var n,r;const o=t?Uh(t):void 0,a={primary:[me.AuthorGroup,me.ModifiedOn]};switch(e){case"bitbucket-object-provider":case"native-bitbucket-object-provider":return o!=null&&o.includes("atlassian:SourceCodePullRequest")?{primary:[me.AuthorGroup,me.ModifiedOn,me.SubscriberCount,me.State],subtitle:[me.SourceBranch,me.TargetBranch]}:o!=null&&o.includes("schema:DigitalDocument")?{primary:[me.LatestCommit,me.CollaboratorGroup,me.ModifiedOn]}:{primary:[me.AuthorGroup,me.ModifiedOn]};case"confluence-object-provider":return{primary:[t&&dA(t)?me.OwnedByGroup:me.AuthorGroup,me.ModifiedOn],tertiary:[me.ReactCount,me.CommentCount,me.ViewCount]};case"jira-object-provider":const i=(n=t==null||(r=t["@type"])===null||r===void 0?void 0:r.includes("atlassian:Task"))!==null&&n!==void 0?n:!1;return{...a,...i&&{primary:[me.AssignedToGroup,me.State,me.StoryPoints,me.Priority]}};case"trello-object-provider":return{primary:[me.CollaboratorGroup,me.State,me.DueOn],secondary:[me.ReactCount,me.CommentCount,me.AttachmentCount,me.ChecklistProgress],subtitle:[me.Location]};case"watermelon-object-provider":return o!=null&&o.includes("atlassian:Project")?{primary:[me.AuthorGroup,me.ModifiedOn,me.State,me.DueOn]}:{primary:[me.AuthorGroup,me.State,me.DueOn]};case"slack-object-provider":return{primary:[me.AuthorGroup,me.SentOn],tertiary:[me.ReactCount,me.CommentCount]};case"google-object-provider":case"figma-object-provider":return{primary:[me.AuthorGroup,me.ModifiedOn]};default:return a}},pJe=[me.AssignedToGroup,me.OwnedByGroup,me.AuthorGroup],mJe=e=>{const t=pJe.indexOf(e)!==-1?!0:void 0,n=`${e.toLowerCase()}-metadata-element`;return{name:e,showNamePrefix:t,testId:n}},rC=e=>{if(e!=null&&e.length)return e.filter(t=>t in me).map(mJe)},Xee=(e,t)=>{const n=fJe(e,t),r=[].concat(n.primary,n.tertiary);return{subtitle:rC(n.subtitle),primary:rC(r),secondary:rC(n.secondary)}},hJe=M({display:"flex",flexDirection:"column",padding:"var(--ds-space-200, 1rem)"}),gJe=M({display:"flex",flexDirection:"column",gap:"0.625rem",alignItems:"center"}),vJe=e=>M({flex:"1 0 auto",height:`${e}rem`,span:{width:"100%"}}),bJe=M({width:"100%",gap:"var(--ds-space-100, 0.5rem)"}),yJe=({titleBlockProps:e})=>{const t="hover-card-loading-view",r=iJe-2,{size:o,actions:a}=e,s=(a==null?void 0:a.length)&&(a==null?void 0:a.length)>0&&k(Kh,{items:a,visibleButtonsNum:2});return k("div",{css:hJe,"data-testid":t},k("div",{css:gJe},k(Pn,H({},e,{overrideCss:bJe,testId:`${t}-title-block`}),k(My,{render:()=>k(yi,null),size:o}),k("span",{css:vJe(1.25),"data-testid":`${t}-title`},k(yi,{height:1.25})),s),k(yi,{width:r,height:1.25}),k(yi,{width:r,height:1.25*3}),k(yi,{width:r,height:1.25})))},EJe=M({top:0,right:0,bottom:0,left:0,overflow:"hidden",textIndent:"100%",whiteSpace:"nowrap","a&.layered-link":{position:"absolute",zIndex:0},"&:hover ~ *":{".actions-button-group":{opacity:1}}}),wJe=({onClick:e,target:t,testId:n,text:r,url:o})=>{const a=xc();return k("a",{className:"layered-link",css:EJe,"data-testid":`${n}-layered-link`,href:o,onClick:e,onMouseDown:a,target:t,tabIndex:-1},r)},CJe=100,_Je=({children:e,hideHoverCardPreviewButton:t,isHoverPreview:n,isAuthTooltip:r,actionOptions:o,testId:a,url:s,delay:i=CJe,hoverPreviewOptions:l})=>{const[d,u]=c.useState(!0),f=c.useRef();c.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const p=c.useCallback(()=>{f.current&&clearTimeout(f.current)},[]),m=c.useCallback(g=>{var v;f.current&&clearTimeout(f.current);const b=g.target.closest(".actions-button-group")||((v=g.target.closest("[data-smart-link-container]"))===null||v===void 0?void 0:v.querySelector('[data-action-open="true"]')),y=r&&!b||n&&!b&&!g.target.closest(`[data-smart-element]:not([data-smart-element="${me.Title}"])`);f.current=setTimeout(()=>{d!==y&&u(!!y)},i)},[r,n,d,i]);return _.createElement(Qu,{allowEventPropagation:!0,canOpen:d,closeOnChildClick:!0,hidePreviewButton:t,actionOptions:o,url:s,hoverPreviewOptions:l},_.createElement("span",{onMouseLeave:p,onMouseMove:m,"data-testid":`${a}-hover-card-wrapper`},e))},xJe=e=>!!(e&&e.preview),SJe=M({border:`1px solid ${`var(--ds-border, ${Ut})`}`,borderRadius:"var(--ds-border-radius-200, 8px)",margin:"var(--ds-space-025, 2px)"}),Jee=e=>{switch(e){case ze.XLarge:return"1.25rem";case ze.Large:return"1rem";case ze.Medium:return".5rem";case ze.Small:default:return".25rem"}},kJe=e=>{switch(e){case ze.XLarge:return"1.5rem";case ze.Large:return"1.25rem";case ze.Medium:return"1rem";case ze.Small:default:return".5rem"}},IJe=M({"a, button, .has-action":{position:"relative",zIndex:1}}),TJe=(e,t,n)=>{const r=t?"0rem":kJe(e),o=Jee(e),{previewOnLeft:a,previewOnRight:s}=n;return M({"--container-padding":r,"--container-gap-left":a?o:r,"--container-gap-right":s?o:r,"--preview-block-width":"30%",padding:r},a?`padding-left: calc(var(--preview-block-width) + ${o});`:"",s?`padding-right: calc(var(--preview-block-width) + ${o});`:"")},AJe=(e,t)=>{let n={};return xJe(t)&&_.Children.map(e,r=>{if(_.isValidElement(r)&&hKe(r)){const{placement:o}=r.props;o===Il.Left&&(n.previewOnLeft=!0),o===Il.Right&&(n.previewOnRight=!0)}}),n},DJe=(e,t,n,r,o,a)=>{const s=TJe(e,r,a);return M`
		display: flex;
		gap: ${Jee(e)} 0;
		flex-direction: column;
		min-width: 0;
		overflow-x: hidden;
		position: relative;
		${t?"":"background-color: var(--ds-surface-raised, #FFFFFF);"}
		${s}
    ${n?"":SJe}
    ${o?IJe:""}
    &:hover ~ .actions-button-group {
			opacity: 1;
		}
		a:focus,
		.has-action:focus {
			outline-offset: -2px;
		}
	`},OJe=(e,t,n,r,o,a)=>_.Children.map(e,s=>{if(_.isValidElement(s)&&pKe(s)){const{size:i}=s.props,l=i||t;return mA(s)?_.cloneElement(s,{onClick:a,retry:o,size:l,status:r,theme:n}):_.cloneElement(s,{size:l,status:r})}}),MJe=e=>{const t=_.Children.toArray(e).find(n=>mA(n));if(_.isValidElement(t))return t.props},$Je=(e,t,n,r)=>{const{title:o,url:a=""}=t||{},{anchorTarget:s,text:i}=MJe(n)||{};return k(wJe,{onClick:r,target:s,testId:e,text:i||o,url:a})},RJe=({children:e,clickableContainer:t=!1,hideBackground:n=!1,hideElevation:r=!1,hideHoverCardPreviewButton:o=!1,hidePadding:a=!1,onClick:s,retry:i,showAuthTooltip:l=!1,showHoverPreview:d=!1,hoverPreviewOptions:u,actionOptions:f,size:p=ze.Medium,status:m,testId:g="smart-links-container",theme:v=mb.Link})=>{const b=c.useContext(qu),y=AJe(e,b),E=d&&m==="resolved",w=l&&m==="unauthorized"&&i!==void 0,C=k("div",{css:DJe(p,n,r,a,t,y),"data-smart-link-container":!0,"data-testid":g},t?$Je(g,b,e,s):null,OJe(e,p,v,m,i,s));return b!=null&&b.url&&(E||w)?k(_Je,{hideHoverCardPreviewButton:o,isHoverPreview:E,isAuthTooltip:w,actionOptions:f,testId:g,url:b.url,hoverPreviewOptions:u},C):C},Yf=(e,t="connect-other-account",n=Se.try_another_account,r={})=>({id:t,text:_.createElement(Ue,H({},n,{values:r})),promise:()=>new Promise(o=>o(e())),buttonAppearance:"default"}),_A=e=>{try{return new URL(e).hostname}catch{return e}},nc=({jsonLd:e,url:t,product:n,createAnalyticsEvent:r})=>{var o;const a=e!=null&&e.requestAccess?{...e==null?void 0:e.requestAccess,hostname:_A(t)}:void 0;switch(e==null||(o=e.requestAccess)===null||o===void 0?void 0:o.accessType){case"DIRECT_ACCESS":return{...a,titleMessageKey:"direct_access_title",descriptiveMessageKey:"direct_access_description",callToActionMessageKey:"direct_access",action:Yf(()=>{r!==void 0&&r({action:"clicked",actionSubject:"button",actionSubjectId:"crossJoin",eventType:"ui"}).fire(Mi),window.open(t)},"direct_access",Se.direct_access,{product:n})};case"REQUEST_ACCESS":return{...a,titleMessageKey:"default_no_access_title",descriptiveMessageKey:"request_access_description",callToActionMessageKey:"request_access",action:Yf(()=>{r!==void 0&&r({action:"clicked",actionSubject:"button",actionSubjectId:"requestAccess",eventType:"ui"}).fire(Mi),window.open(t)},"request_access",Se.request_access)};case"PENDING_REQUEST_EXISTS":return{...a,titleMessageKey:"request_access_pending_title",descriptiveMessageKey:"request_access_pending_description",callToActionMessageKey:"request_access_pending",action:Yf(()=>window.open(t),"request_access_pending",Se.request_access_pending),buttonDisabled:!0};case"DENIED_REQUEST_EXISTS":return{...a,titleMessageKey:"forbidden_title",descriptiveMessageKey:"request_denied_description"};case"ACCESS_EXISTS":return(e==null?void 0:e.visibility)==="not_found"?{...a,titleMessageKey:"not_found_title",descriptiveMessageKey:"not_found_description"}:{...a,titleMessageKey:"forbidden_title",descriptiveMessageKey:"access_exists_description",callToActionMessageKey:"request_access",action:Yf(()=>{r!==void 0&&r({action:"clicked",actionSubject:"button",actionSubjectId:"requestAccess",eventType:"ui"}).fire(Mi),window.open(t)},"access_exists",Se.request_access)};case"FORBIDDEN":return{...a,titleMessageKey:"forbidden_title",descriptiveMessageKey:"forbidden_description"};default:return a}},PJe=e=>{const{response:t,status:n,url:r}=e??{};switch(n){case ot.Pending:case ot.Resolving:return{title:r,url:r};case ot.Resolved:return QQ(e);case ot.Unauthorized:case ot.Forbidden:case ot.NotFound:case ot.Errored:case ot.Fallback:default:const o=uA(t==null?void 0:t.data),a=XGe(t,n),s=Gy(t==null?void 0:t.data);return{linkIcon:a,title:r,url:r,provider:s,preview:o}}},LJe=e=>{var t;switch(e==null||(t=e.requestAccess)===null||t===void 0?void 0:t.accessType){case"DIRECT_ACCESS":return"join_to_view";case"REQUEST_ACCESS":return"request_access_to_view";case"PENDING_REQUEST_EXISTS":return"pending_request";case"FORBIDDEN":return"forbidden_access";case"DENIED_REQUEST_EXISTS":return"request_denied";default:return"restricted_link"}},NJe=(e,t,n,r)=>{var o,a,s;const i=n&&n.data||Ay(),l=Mr(i),d=l==null?void 0:l.text,u=d?{context:d}:void 0;switch(t){case ot.Forbidden:const f=(o=n==null?void 0:n.meta)!==null&&o!==void 0?o:zh().meta,p=nc({jsonLd:f,url:e,product:d??""}),m=LJe(f),g=Se[m],v=r||(p==null||(a=p.action)===null||a===void 0?void 0:a.promise),b=v&&!((s=p==null?void 0:p.buttonDisabled)!==null&&s!==void 0&&s)?_x(v):void 0;return{descriptor:g,onClick:b,values:u};case ot.Unauthorized:return r?{descriptor:Se.connect_link_account_card_name,onClick:_x(r),values:u}:void 0;case ot.NotFound:return{descriptor:Se.cannot_find_link}}},Zu=({analytics:e,appearance:t="flexible",cardState:n,children:r,id:o,onAuthorize:a,onClick:s,onError:i,onResolve:l,renderers:d,showAuthTooltip:u,showHoverPreview:f,hoverPreviewOptions:p,actionOptions:m,testId:g,ui:v,url:b})=>{var y;const E=sZ(),{status:w,details:C}=n,x=w,S=c.useMemo(()=>PJe({aiSummaryConfig:E,response:C,id:o,renderers:d,actionOptions:m,status:x,url:b}),[E,C,o,d,m,x,b]),I=NJe(b,x,C,a),{title:A}=S||{},T=c.useMemo(()=>{var O;return e?{...e,display:t,extensionKey:C==null||(O=C.meta)===null||O===void 0?void 0:O.key}:void 0},[e,t,C==null||(y=C.meta)===null||y===void 0?void 0:y.key]);return c.useEffect(()=>{switch(x){case ot.Resolved:l&&l({title:A,url:b});break;case ot.Errored:case ot.Fallback:case ot.Forbidden:case ot.NotFound:case ot.Unauthorized:i&&i({status:x,url:b});break}},[i,l,x,A,b]),_.createElement(KX.Provider,{value:T},_.createElement(XX.Provider,{value:v},_.createElement(qu.Provider,{value:S},_.createElement(RJe,H({testId:g},v,{onClick:s,retry:I,showHoverPreview:f,hoverPreviewOptions:p,actionOptions:m,showAuthTooltip:u,status:x}),r))))},xA="0.5rem",FJe="0.5rem",jJe="500",VJe=M({justifyContent:"flex-end",marginTop:xA}),BJe=M({gap:`${xA} ${FJe}`,a:{fontWeight:jJe}}),UJe=M({marginTop:xA,fontSize:"0.75rem"}),SA=({providerName:e,isProductIntegrationSupported:t,testId:n="unauthorised-view-content",analytics:r})=>{const o=c.useCallback(()=>{r==null||r.ui.learnMoreClickedEvent()},[r==null?void 0:r.ui]),a=t?Se.learn_more_about_connecting_account:Se.learn_more_about_smart_links;return _.createElement(_.Fragment,null,e?_.createElement(Ue,H({},Se.connect_unauthorised_account_description,{values:{context:e}})):_.createElement(Ue,Se.connect_unauthorised_account_description_no_provider)," ",_.createElement("a",{href:t?wLe:ELe,target:"_blank","data-testid":`${n}-learn-more`,onClick:o},_.createElement(Ue,a)))},HJe=({analytics:e,extensionKey:t,id:n="",flexibleCardProps:r,testId:o="hover-card-unauthorised-view",url:a})=>{var s,i;const{cardState:l}=r,d=(s=l.details)===null||s===void 0?void 0:s.data,u=(i=Mr(d))===null||i===void 0?void 0:i.text,f=V4(l.details),{authorize:p}=K4(n,a,e),m=c.useCallback(()=>{p&&(e.track.appAccountAuthStarted({extensionKey:t}),p(Ls.HoverCardPreview))},[p,t,e.track]),g=c.useMemo(()=>[{name:Zt.CustomAction,content:_.createElement(Ue,H({},Se.connect_unauthorised_account_action,{values:{context:u}})),onClick:m}],[m,u]);return _.createElement(Zu,H({},r,{testId:o}),_.createElement(Pn,{overrideCss:BJe,testId:`${o}-title`},_.createElement(Fy,null),_.createElement(Ue,H({},Se.connect_link_account_card_name,{values:{context:u}}))),_.createElement(Pn,{overrideCss:UJe,testId:`${o}-content`},_.createElement("div",null,_.createElement(SA,{providerName:u,isProductIntegrationSupported:f,analytics:e}))),_.createElement(Pn,{overrideCss:VJe,testId:`${o}-button`},_.createElement(Kh,{items:g,appearance:"primary"})))},zJe=({data:e,fallbackElementHeight:t})=>{const n=c.useRef(!1),r=c.useRef(null),[o,a]=c.useState(!0),[s,i]=c.useState(),l=c.useCallback(()=>{var f;r.current&&i(Kee((f=r.current)===null||f===void 0?void 0:f.getBoundingClientRect().height))},[]),d=c.useCallback(()=>{n.current===!1&&(i(uJe(t)),n.current=!0)},[t]),u=c.useCallback(()=>{a(!1)},[]);return o&&e&&uA(e)?_.createElement(Xu,{onError:d,ignoreContainerPadding:!0,overrideCss:s,onTransitionEnd:u,blockRef:r,onRender:l}):null},y7="0.5rem",WJe=M`
	gap: 0px;
	/* primary element group */
	[data-smart-element-group]:nth-of-type(1) {
		flex-grow: 7;

		// a separator between text-based element
		${qee}

		/* horizontal spacing between elements in group */
    > span {
			margin-right: ${y7};
		}
	}
	/* secondary element group */
	[data-smart-element-group]:nth-of-type(2) {
		flex-grow: 3;
		/* horizontal spacing between elements in group */
		> span {
			margin-left: ${y7};
		}
	}

	[data-smart-element-group] {
		line-height: 1rem;
	}
`;M({height:"1.5rem"});const GJe=M({visibility:"hidden",position:"absolute"}),qJe=({analytics:e,cardState:t,extensionKey:n,flexibleCardProps:r,isAISummaryEnabled:o,onActionClick:a,titleBlockProps:s})=>{var i;const l=uX(t.details);c.useEffect(()=>{e.ui.renderSuccessEvent({display:Ls.HoverCardPreview,status:t.status,canBeDatasource:l})},[e.ui,t.status,l]);const d=(i=t.details)===null||i===void 0?void 0:i.data,{primary:u,secondary:f}=c.useMemo(()=>Xee(n,d),[d,n]),p=_.useRef(0),m=c.useRef(null),g=c.useCallback(()=>{var E,w;p.current=(E=(w=m.current)===null||w===void 0?void 0:w.getBoundingClientRect().height)!==null&&E!==void 0?E:0},[]),v=zJe({data:d,fallbackElementHeight:p.current}),b=v?null:_.createElement(Cb,{status:ot.Resolved}),y=b?p.current:0;return _.createElement(Zu,r,v,_.createElement(Xh,H({},s,{metadataPosition:Xa.Top})),_.createElement(wb,{primary:u,secondary:f,overrideCss:WJe,maxLines:1,size:ze.Medium}),o?_.createElement(wee,{aiSummaryMinHeight:y,placeholder:b,status:ot.Resolved}):b,_.createElement(Cb,{testId:"hidden-snippet",onRender:g,blockRef:m,overrideCss:GJe}),_.createElement(_ee,{onClick:a,spaceInline:"space.100"}),_.createElement(Cee,null))},YJe="600",KJe=M({justifyContent:"center",fontWeight:YJe,marginTop:"var(--ds-space-100, 8px)"}),XJe=M({display:"inline",justifyContent:"center",marginTop:"var(--ds-space-0, 0px)",fontSize:"0.75rem",textAlign:"center"}),JJe=M({justifyContent:"center",marginTop:"var(--ds-space-100, 8px)"}),ZJe=({flexibleCardProps:e,testId:t="hover-card-forbidden-view"})=>{var n,r,o,a,s;const{createAnalyticsEvent:i}=Kn(),{cardState:l,url:d}=e,u=(n=l.details)===null||n===void 0?void 0:n.data,f=(r=l.details)===null||r===void 0?void 0:r.meta,p=(o=(a=Mr(u))===null||a===void 0?void 0:a.text)!==null&&o!==void 0?o:"",m=_.createElement("b",null,_A(d)),{action:g,descriptiveMessageKey:v,titleMessageKey:b,buttonDisabled:y}=(s=nc({jsonLd:f,url:d,product:p,createAnalyticsEvent:i}))!==null&&s!==void 0?s:{};return!b||!v?null:_.createElement(Zu,H({},e,{testId:t}),_.createElement(Xu,{ignoreContainerPadding:!0,overrideCss:Kee(),testId:t}),_.createElement(Pn,{overrideCss:KJe,testId:`${t}-title`},_.createElement(Ue,H({},Se[b],{values:{product:p}}))),_.createElement(Pn,{overrideCss:XJe,testId:`${t}-content`},_.createElement(Ue,H({},Se[v],{values:{product:p,hostname:m}}))),g&&_.createElement(Pn,{overrideCss:JJe},_.createElement(ht,{testId:`${t}-button`,onClick:g==null?void 0:g.promise,appearance:"primary",isDisabled:y},g==null?void 0:g.text)))},QJe=8,eZe=10,Kc={blueUniqueGradientLight:"#00ACF8",blueUniqueGradientDark:"#008BD2",blue1000:"#092957",blue800:"#0055CC",blue700:"#0C66E4",blue600:"#1D7AFC",blue500:"#388BFF",blue300:"#85B8FF",blue200:"#CCE0FF",blue100:"#E9F2FF",teal500:"#37B4C3",teal300:"#8BDBE5",yellow500:"#CF9F02",yellow200:"#F8E6A0",red800:"#AE2A19",red600:"#E34935",orange500:"#F18D13",orange300:"#FEC57B"},E7={dark:{blue:Kc.blue800,teal:Kc.teal500,yellow:Kc.yellow500},light:{blue:Kc.blue600,teal:Kc.teal300,yellow:Kc.yellow200}};let w7=0;const tZe=M({position:"absolute",borderRadius:eZe}),nZe=M({width:"calc(100% - var(--ds-space-050, 4px))",height:"calc(100% - var(--ds-space-050, 4px))",top:"var(--ds-space-050, 4px)",left:"var(--ds-space-050, 4px)",filter:"blur(var(--ds-space-100, 8px))",backfaceVisibility:"hidden",transform:"translate3d(0, 0, 0)"}),rZe=M({left:0,top:0,width:"100%",height:"100%"}),C7=({palette:e,isMoving:t,isGlowing:n,additionalCss:r})=>{const o=c.useRef(null),a=c.useRef();return a.current===void 0&&(a.current=w7,w7+=1),c.useEffect(()=>{if(t){const s=o.current,i=requestAnimationFrame(()=>{s==null||s.querySelectorAll("animate").forEach(l=>l.beginElement())});return()=>{cancelAnimationFrame(i),requestAnimationFrame(()=>{s==null||s.querySelectorAll("animate").forEach(l=>l.endElement())})}}},[t]),k("svg",{css:[tZe,n?nZe:rZe,r],ref:o,viewBox:"0 0 24 24",preserveAspectRatio:"none"},k("defs",null,k("linearGradient",{id:`${a.current}_lg1`,gradientUnits:"userSpaceOnUse",x1:"0%",y1:"0",x2:"400%",y2:"0",spreadMethod:"reflect"},k("animate",{begin:"indefinite",attributeName:"x1",from:"0%",to:"400%",repeatCount:"indefinite",dur:"3s"}),k("animate",{begin:"indefinite",attributeName:"x2",from:"400%",to:"800%",repeatCount:"indefinite",dur:"3s"}),k("stop",{offset:"0",stopColor:e.blue}),k("stop",{offset:"0.25",stopColor:e.teal}),k("stop",{offset:"0.5",stopColor:e.yellow}),k("stop",{offset:"0.75",stopColor:e.teal}),k("stop",{offset:"1",stopColor:e.blue})),k("linearGradient",{id:`${a.current}_lg2`,gradientUnits:"userSpaceOnUse",x1:"0",y1:"-100%",x2:"0",y2:"300%",spreadMethod:"reflect"},k("animate",{begin:"indefinite",attributeName:"y1",from:"-100%",to:"300%",repeatCount:"indefinite",dur:"3s"}),k("animate",{begin:"indefinite",attributeName:"y2",from:"300%",to:"700%",repeatCount:"indefinite",dur:"3s"}),k("stop",{offset:"0",stopColor:e.blue}),k("stop",{offset:"0.25",stopColor:e.teal}),k("stop",{offset:"0.5",stopColor:e.yellow}),k("stop",{offset:"0.75",stopColor:e.teal}),k("stop",{offset:"1",stopColor:e.blue})),k("linearGradient",{id:`${a.current}_lg3`,gradientUnits:"userSpaceOnUse",x1:"300%",y1:"0",x2:"700%",y2:"0",spreadMethod:"reflect"},k("animate",{begin:"indefinite",attributeName:"x1",from:"300%",to:"-100%",repeatCount:"indefinite",dur:"3s"}),k("animate",{begin:"indefinite",attributeName:"x2",from:"700%",to:"300%",repeatCount:"indefinite",dur:"3s"}),k("stop",{offset:"0",stopColor:e.blue}),k("stop",{offset:"0.25",stopColor:e.teal}),k("stop",{offset:"0.5",stopColor:e.yellow}),k("stop",{offset:"0.75",stopColor:e.teal}),k("stop",{offset:"1",stopColor:e.blue})),k("linearGradient",{id:`${a.current}_lg4`,gradientUnits:"userSpaceOnUse",x1:"0",y1:"0",x2:"0",y2:"400%",spreadMethod:"reflect"},k("animate",{begin:"indefinite",attributeName:"y1",from:"0%",to:"-400%",repeatCount:"indefinite",dur:"3s"}),k("animate",{begin:"indefinite",attributeName:"y2",from:"400%",to:"0%",repeatCount:"indefinite",dur:"3s"}),k("stop",{offset:"0",stopColor:e.blue}),k("stop",{offset:"0.25",stopColor:e.teal}),k("stop",{offset:"0.5",stopColor:e.yellow}),k("stop",{offset:"0.75",stopColor:e.teal}),k("stop",{offset:"1",stopColor:e.blue}))),k("g",{strokeWidth:"8"},k("path",{stroke:`url(#${a.current}_lg1)`,d:"M0 0h24",vectorEffect:"non-scaling-stroke"}),k("path",{stroke:`url(#${a.current}_lg2)`,d:"M24 0v24",vectorEffect:"non-scaling-stroke"}),k("path",{stroke:`url(#${a.current}_lg3)`,d:"M24 24H0",vectorEffect:"non-scaling-stroke"}),k("path",{stroke:`url(#${a.current}_lg4)`,d:"M0 24V0",vectorEffect:"non-scaling-stroke"})))},oZe=M({display:"flex",position:"relative",padding:"var(--ds-space-025, 2px)",width:"fit-content"}),aZe=M({borderRadius:QJe,flexGrow:1,zIndex:1}),sZe=({children:e,palette:t,isMoving:n=!0,isGlowing:r,testId:o,additionalCss:a})=>k("div",{css:[oZe,a==null?void 0:a.container],"data-testid":o},k(C7,{palette:t,isMoving:n,additionalCss:a==null?void 0:a.animatedSvgContainer}),r&&k(C7,{palette:t,isMoving:n,isGlowing:!0,additionalCss:a==null?void 0:a.animatedSvgContainer}),k("div",{css:aZe},e," ")),iZe=M({transition:"box-shadow 0.5s ease"}),lZe=M({boxShadow:"0px 8px 12px rgba(9, 30, 66, 0),0px 0px 1px rgba(9, 30, 66, 0)"}),cZe=({children:e,isGlowing:t=!0,isMoving:n=!0,isVisible:r,testId:o})=>{var a;const{colorMode:s="light"}=ky();return k(sZe,{additionalCss:{animatedSvgContainer:M({opacity:r?1:0,transition:"opacity 0.5s ease"})},palette:(a=E7[s])!==null&&a!==void 0?a:E7.light,isGlowing:t,isMoving:n,testId:o},k("div",{css:[Yee,iZe,r?lZe:void 0]},e))},dZe=({children:e,isAIEnabled:t=!1,testId:n,url:r,...o})=>{const{state:{status:a}}=Vy(r),[s,i]=c.useState(a==="loading");c.useEffect(()=>{i(a==="loading")},[a]);const l=k("div",H({className:fZe,css:[cJe,t?void 0:Yee],"data-testid":n},o),e);return t?k(cZe,{isVisible:s,testId:`${n}-prism`},l):l},uZe=({children:e,isAIEnabled:t=!1,testId:n,url:r,...o})=>k(dZe,H({isAIEnabled:t,url:r,testId:n},o),e),fZe="smart-links-hover-preview",pZe=({id:e="",analytics:t,cardState:n,onActionClick:r,onResolve:o,renderers:a,url:s,onMouseEnter:i,onMouseLeave:l,actionOptions:d})=>{var u,f;const{createAnalyticsEvent:p}=Kn(),m=Ty(s,void 0,e),g=t??m,v=c.useMemo(()=>ga(n.details),[n.details]),b=Hh(s),y=(u=b.status)!==null&&u!==void 0?u:"pending",{isAdminHubAIEnabled:E}=Io(),w=pZ(E,n.details),C=j4(b.details),x=c.useRef(y),S=c.useRef(g);c.useEffect(()=>{S.current!==g&&(S.current=g),x.current!==y&&(x.current=y)},[g,y]),c.useEffect(()=>{const V="card",Y="mouse_hover",J=Date.now();return S.current.ui.hoverCardViewedEvent({previewDisplay:V,previewInvokeMethod:Y,status:x.current}),()=>{const z=Date.now()-J;S.current.ui.hoverCardDismissedEvent({previewDisplay:V,previewInvokeMethod:Y,hoverTime:z,status:x.current})}},[]);const I=c.useCallback(V=>{const Y=NX(V);g.ui.cardClickedEvent({id:e,display:Ls.HoverCardPreview,status:n.status,isModifierKeyPressed:Y,actionSubjectId:"titleGoToLink"}),cm(p)(V)},[p,n.status,g.ui,e]),A=(f=n.details)===null||f===void 0?void 0:f.data,{subtitle:T}=Xee(v,A),D={maxLines:T&&T.length>0?1:2,overrideCss:dJe,size:ze.Large,position:Xa.Center,subtitle:T},$={appearance:Ls.HoverCardPreview,cardState:n,onClick:I,onResolve:o,renderers:a,actionOptions:d,ui:sJe,url:s,children:null,analytics:g},L=c.useCallback(V=>V.stopPropagation(),[]),B=(V=>V.metadataStatus==="pending"?k(yJe,{flexibleCardProps:$,titleBlockProps:D}):V.status==="unauthorized"&&C!==null&&C!==void 0&&C.length?k(HJe,{analytics:g,extensionKey:v,id:e,flexibleCardProps:$,url:s}):V.status==="forbidden"||V.status==="not_found"?k(ZJe,{flexibleCardProps:$}):V.status==="resolved"?k(qJe,{analytics:g,cardState:V,extensionKey:v,flexibleCardProps:$,isAISummaryEnabled:w,onActionClick:r,titleBlockProps:D,url:s}):null)(n);return B?k(uZe,{onMouseEnter:i,onMouseLeave:l,onClick:L,isAIEnabled:w,url:s},B):null},mZe=_.forwardRef(({children:e,shouldFitContainer:t,shouldRenderToParent:n,...r},o)=>k("div",H({},r,{ref:o}),e)),hZe=({display:e,id:t,children:n,source:r})=>{const o=e==="url"?"link":void 0;return _.createElement($u,{data:{source:r,attributes:{displayCategory:o,display:e,id:t}}},n)},Zee=e=>{const{children:t,url:n,display:r}=e,{details:o,status:a}=Hh(n),s=eee({url:n},o,a);return _.createElement(hZe,H({},e,{display:r}),_.createElement($u,{data:{attributes:s}},t))},Qee=({actionOptions:e,platform:t,hidePreviewButton:n})=>{if(typeof e<"u")return e;if(t==="mobile")return{hide:!0};let r=[];return n&&(r=[...r,pa.PreviewAction]),{hide:!1,exclude:r}},gZe="smartLinkPreviewHoverCard",vZe=500,bZe=300,yZe=100,EZe=({children:e,url:t,id:n="",analyticsHandler:r,canOpen:o=!0,closeOnChildClick:a=!1,hidePreviewButton:s=!1,actionOptions:i,allowEventPropagation:l=!1,zIndex:d=zee,noFadeDelay:u=!1,hoverPreviewOptions:f})=>{var p;const m=(p=f==null?void 0:f.fadeInDelay)!==null&&p!==void 0?p:vZe,[g,v]=_.useState(!1),b=c.useRef(),y=c.useRef(),E=c.useRef(),w=c.useRef(),C=c.useRef(),x=c.useRef(null),S=RX(),I=Hh(t),A=Ty(t,void 0,n),{loadMetadata:T}=K4(n,t,A),O=Qee({actionOptions:i,hidePreviewButton:s}),D=c.useCallback(j=>{if(!(g&&o)&&(w.current={x:j.clientX,y:j.clientY},(!g||!o)&&x.current&&w.current)){const{bottom:Z,left:K}=x.current.getBoundingClientRect();C.current=[w.current.x-K+b7,w.current.y-Z+b7]}},[o,g]),$=c.useCallback(()=>{v(!1)},[]),L=c.useCallback(()=>{y.current&&(clearTimeout(y.current),y.current=void 0),E.current&&(clearTimeout(E.current),E.current=void 0),u?$():b.current=setTimeout(()=>$(),bZe)},[$,u]);c.useEffect(()=>()=>{b.current&&clearTimeout(b.current),y.current&&(clearTimeout(y.current),y.current=void 0),E.current&&(clearTimeout(E.current),E.current=void 0)},[]);const F=c.useCallback(()=>{const j=I.status==="pending"||!I.metadataStatus;!E.current&&j&&(E.current=setTimeout(()=>{T()},yZe))},[I.metadataStatus,I.status,T]),B=c.useCallback(j=>{b.current&&clearTimeout(b.current),F(),D(j),!g&&!y.current&&(u?v(!0):y.current=setTimeout(()=>{v(!0)},m))},[F,g,D,u,m]),V=c.useCallback(j=>{(j===Zt.PreviewAction||j===Zt.AutomationAction)&&$()},[$]),Y=c.useCallback((j,Z)=>{l||j.stopPropagation(),Z&&$()},[l,$]),J=c.useCallback(j=>Y(j,!0),[Y]),z=c.useCallback(j=>Y(j,a),[a,Y]),ce=c.useCallback(({update:j})=>{const Z={onMouseEnter:B,onMouseLeave:L,cardState:I,onActionClick:V,onResolve:j,renderers:S,actionOptions:O,url:t,id:n};return k(Zee,{url:t,display:Ls.HoverCardPreview,id:n,source:gZe},k(pZe,Z))},[B,L,I,V,S,O,t,n]),le=c.useCallback(j=>k("span",{ref:x},k("span",H({},j,{onMouseOver:B,onMouseLeave:L,onMouseMove:D,onClick:z,onContextMenu:J,"data-testid":"hover-card-trigger-wrapper"}),e)),[e,L,B,z,J,D]);return k(Ch,{testId:"hover-card",isOpen:g&&o,onClose:$,placement:"bottom-start",offset:C.current,autoFocus:!1,content:ce,trigger:le,zIndex:d,popupComponent:mZe})},wZe=e=>{const{url:t,id:n,children:r}=e,o=Ty(t,void 0,n),a=c.useCallback((s,i)=>{o.ui.renderFailedEvent({display:Ls.HoverCardPreview,id:n,error:s,errorInfo:i})},[o.ui,n]);return k(wy,{fallback:r,onError:a},k(MX,null,k(EZe,e,r)))},CZe=WU()(wZe),Qu=e=>k(CZe,e),_7=e=>k(Qu,e),_Ze=e=>{const t=SX(e),n=xX(e);if(t){const{value:r,unit:o}=Ox(new Date(t).getTime()),a=G4(e);return _.createElement("span",null,"Updated ",a&&`by ${a.name}`," ",_.createElement(WO,{value:r,unit:o}))}else if(n){const{value:r,unit:o}=Ox(new Date(n).getTime()),a=im(e),s=xZe(a);return _.createElement("span",null,"Created ",s&&`by ${s.name}`," ",_.createElement(WO,{value:r,unit:o}))}},xZe=e=>{if(e&&e.length>0)return e.shift()},SZe=e=>e&&e.replace(/['"]+/g,"").replace(/null/,"")||"",ete=(e,t,n)=>{const r=e["atlassian:titlePrefix"];if(r&&r["@type"]==="atlassian:Emoji"){const o=SZe(r.text),a=o.length!==0,s=t==null?void 0:t.emoji;if(a&&s)return s(o,n)}},kZe=(e,t)=>{const n=kT(e),r=Mr(e),o=Iy(e,t);return{download:n,providerName:r&&r.text,src:o&&o.src}},IZe=e=>({link:e.link,title:e.title,details:e.details,icon:e.icon,url:e.link,byline:e.byline,isTrusted:e.isTrusted}),TZe=(e,t,n)=>({type:"client",key:e,source:n||Ls.EmbedPreview,action:{type:t,promise:()=>Promise.resolve()}}),AZe=({extensionKey:e="empty-object-provider",viewProps:t,jsonLd:n,handleInvoke:r,testId:o,platform:a,origin:s,source:i="block",analytics:l,meta:d,actionOptions:u})=>{if(!Ja(pa.PreviewAction,u))return;const f=kZe(n,a),p=IZe(t),m={...f,...p};if(f.src){const g=e,v=oQe({...m,analytics:l,extensionKey:e,origin:s,testId:o,isSupportTheming:cA(d)}),b=TZe(g,"PreviewAction",i);return b.action.promise=v.promise,v.promise=()=>r(b),v}},tte=e=>!!(e!=null&&e.key&&e.key!=="iframely-object-provider"),DZe=e=>{const t=qx(e);return typeof t=="string"?{url:t}:{icon:t}},OZe=e=>[Pze(e),Wze(e),Zze(e),lWe(e)].filter(t=>!!t),MZe=(e,t,n,r,o)=>{if(n){const{handleInvoke:a,actionOptions:s}=n,i=Sze(t,a,s),l=AZe({...n,viewProps:e,jsonLd:t,platform:r,meta:o});return l&&i.push(l),i}return[]},$Ze=e=>{if(e["@type"]==="atlassian:Project")return kX(e);if(e["@type"]==="atlassian:Task"){const t=W4(e);if(t)return[t]}else{if(e["@type"]==="atlassian:SourceCodePullRequest")return im(e);{const t=G4(e);let n;t&&(n=[t]);const r=im(e);return n||r}}},Kf=(e,t,n,r,o)=>{const a={link:ns(e),title:Ji(e),titleTextColor:DZ(e),lozenge:$T(e),icon:DZe(e),context:Mr(e),details:OZe(e),byline:AZ(e)||_Ze(e),thumbnail:TX(e),users:$Ze(e),titlePrefix:ete(e,r,"block"),isTrusted:tte(t)};return{...a,actions:MZe(a,e,n,o,t)}},RZe=e=>({id:"connect-account",text:_.createElement(Ue,Se.connect_link_account_card),promise:()=>new Promise(t=>t(e())),buttonAppearance:"default"}),PZe={...Se.connect_link_account_card_description},LZe=({context:e={text:""},isSelected:t=!1,actions:n=[],testId:r="block-card-unauthorized-view",actionOptions:o,link:a="",onClick:s=()=>{}})=>k(Ic,{isSelected:t,testId:r,isFluidHeight:!0},k(ig,{isCompact:!0},k("div",null,k(lg,{onClick:l=>kc(l,s),link:a},k(oE,{url:a,testId:r})),k(sg,{testId:r?`${r}-byline`:void 0,text:k(Ue,H({},PZe,{values:{context:e.text}}))})),k(ag,null,k(Qy,{name:e.text,icon:e.icon}),!(o!=null&&o.hide)&&k(nE,{items:n})))),x7=M({"span[data-smart-element-avatar-group]":{"> ul":{paddingLeft:"0px",marginRight:"var(--ds-space-100, 0.5rem)"}},"[data-smart-element-group]":{lineHeight:"1rem"}}),NZe=M({gap:"var(--ds-space-100, 0.5em)","[data-smart-element='Title']":{fontWeight:600}}),FZe=M({height:"1.5rem",".actions-button-group":{"button, button:hover, button:focus, button:active":{fontSize:"0.875rem"}}}),jZe=M({"& > div":{borderRadius:"var(--ds-border-radius-200, 8px)",border:`1px solid ${`var(--ds-border, ${Ut})`}`}}),oC=[{name:me.ModifiedOn},{name:me.AttachmentCount},{name:me.SubscriberCount},{name:me.VoteCount},{name:me.DueOn},{name:me.ReadTime}],VZe=[{name:me.ReactCount},{name:me.CommentCount},{name:me.ViewCount},{name:me.Priority},{name:me.SubTasksProgress},{name:me.ChecklistProgress}],BZe=e=>{var t,n,r;const o=(t=ga(e))!==null&&t!==void 0?t:"",a=e==null?void 0:e.data,s=[{name:me.State}],i=[{name:me.AuthorGroup},{name:me.CreatedBy},...oC],l=VZe;switch(o){case"bitbucket-object-provider":case"native-bitbucket-object-provider":const d=a["@type"].includes("schema:DigitalDocument");return{titleMetadata:s,topMetadata:d?[{name:me.LatestCommit},{name:me.CollaboratorGroup},{name:me.ModifiedOn}]:i,bottomMetadata:l};case"confluence-object-provider":return{titleMetadata:s,topMetadata:dA(a)?[{name:me.OwnedByGroup},{name:me.OwnedBy},...oC]:i,bottomMetadata:l};case"jira-object-provider":const u=(n=(r=a["@type"])===null||r===void 0?void 0:r.includes("atlassian:Task"))!==null&&n!==void 0?n:!1;return{titleMetadata:s,topMetadata:u?[{name:me.AssignedToGroup},{name:me.AssignedTo},{name:me.ModifiedOn}]:[{name:me.AuthorGroup},{name:me.CreatedBy},{name:me.ModifiedOn}],bottomMetadata:[{name:me.StoryPoints},{name:me.Priority},{name:me.SubTasksProgress}]};case"slack-object-provider":return{titleMetadata:s,topMetadata:[{name:me.AuthorGroup},{name:me.SentOn}],bottomMetadata:[{name:me.ReactCount},{name:me.CommentCount}]};case"trello-object-provider":return{titleMetadata:s,topMetadata:[{name:me.CollaboratorGroup},...oC],bottomMetadata:l};default:return{titleMetadata:s,topMetadata:i,bottomMetadata:l}}},nte={hideElevation:!0},rte={anchorTarget:"_self",position:Xa.Center,overrideCss:NZe,hideRetry:!0,size:ze.Large},ote={placement:Il.Right,ignoreContainerPadding:!0},ate={overrideCss:FZe},ug=e=>t=>k("div",{css:jZe},k(e,t)),UZe=({cardState:e,onClick:t,onError:n,onResolve:r,actionOptions:o,testId:a="smart-block-resolved-view",url:s,analytics:i})=>{const[l,d]=c.useState(!1);c.useEffect(()=>{d(!1)},[s,e]);const{titleMetadata:u,topMetadata:f,bottomMetadata:p}=BZe(e.details),m=c.useMemo(()=>[{name:Zt.FollowAction,hideIcon:!0},{name:Zt.PreviewAction,hideIcon:!0},{name:Zt.DownloadAction,hideIcon:!0}],[]);return _.createElement(Zu,{analytics:i,appearance:"block",cardState:e,onClick:t,onError:n,onResolve:r,actionOptions:o,testId:a,ui:nte,url:s},_.createElement(Xh,H({},rte,{metadata:u,subtitle:[{name:me.Location}],metadataPosition:Xa.Top})),_.createElement(wb,{primary:f,maxLines:1,overrideCss:x7}),_.createElement(Cb,null),_.createElement(wb,{primary:p,maxLines:1,overrideCss:x7}),l?null:_.createElement(Xu,H({},ote,{onError:()=>{d(!0)}})),_.createElement(_Z,H({},ate,{actions:m})))},S7=ug(UZe),HZe=(e,t)=>({appearance:"primary",name:Zt.CustomAction,content:t?_.createElement(Ue,H({},Se.connect_unauthorised_account_action,{values:{context:t}})):_.createElement(Ue,Se.connect_link_account_card),onClick:e,testId:"smart-action-connect-account"}),zZe=M({alignItems:"flex-start"}),aE=({actions:e,cardState:t,children:n,onAuthorize:r,onClick:o,onError:a,showPreview:s=!1,testId:i,title:l,url:d})=>_.createElement(Zu,{appearance:"block",cardState:t,onAuthorize:r,onClick:o,onError:a,testId:i,ui:nte,url:d},_.createElement(Xh,H({},rte,{hideIcon:!!l,text:l})),_.createElement(Pn,{overrideCss:zZe},n),s&&_.createElement(Xu,ote),_.createElement(ET,H({},ate,{actions:e,testId:"smart-block-card-footer"}))),WZe=M({color:"var(--ds-text-subtlest, #626F86)",marginTop:"var(--ds-space-100, 0.5rem)",fontSize:"0.75rem"}),GZe=({testId:e="smart-block-unauthorized-view",...t})=>{var n,r,o;const{analytics:a,cardState:s,onAuthorize:i}=t,l=(n=ga(s==null?void 0:s.details))!==null&&n!==void 0?n:"",d=(r=s.details)===null||r===void 0?void 0:r.data,u=(o=Mr(d))===null||o===void 0?void 0:o.text,f=V4(s==null?void 0:s.details),p=c.useCallback(()=>{i&&(a==null||a.track.appAccountAuthStarted({extensionKey:l}),i())},[i,l,a==null?void 0:a.track]),m=c.useMemo(()=>i?k(SA,{providerName:u,isProductIntegrationSupported:f,analytics:a,testId:e}):k(Ue,H({},Se[u?"unauthorised_account_description":"unauthorised_account_description_no_provider"],{values:{context:u}})),[a,f,i,u,e]),g=c.useMemo(()=>i?[HZe(p,u)]:[],[p,i,u]);return k(aE,H({},t,{actions:g,testId:e}),k("div",{css:WZe,"data-testid":`${e}-content`},m))},qZe=ug(GZe);var kA={};Object.defineProperty(kA,"__esModule",{value:!0});var IA=kA.default=void 0,YZe=ste(c),KZe=je,XZe=ste(cg);function ste(e){return e&&e.__esModule?e:{default:e}}const ite=e=>YZe.default.createElement(KZe.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor"><path d="M16 11V9h-2V7.002A2 2 0 0 0 12 5c-1.102 0-2 .898-2 2.002V9H8v2H7v8h10v-8zm-2 0h-4V9h4zM8 9V7.002A4.004 4.004 0 0 1 12 3a4 4 0 0 1 4 4.002V9h.994A2.01 2.01 0 0 1 19 11.009v7.982c0 1.11-.897 2.009-2.006 2.009H7.006A2.01 2.01 0 0 1 5 18.991V11.01C5 9.899 5.897 9 7.006 9zm0 0h2v2H8zm6 0h2v2h-2z"/><circle cx="12" cy="15" r="2"/></g></svg>'},e,{newIcon:XZe.default}));ite.displayName="LockIcon";IA=kA.default=ite;const JZe=({testId:e="smart-block-not-found-view",...t})=>{var n;const r=Ee(),{cardState:o}=t,a=c.useMemo(()=>{var l,d;const u=Mr(o==null||(l=o.details)===null||l===void 0?void 0:l.data);return(d=u==null?void 0:u.text)!==null&&d!==void 0?d:""},[o==null||(n=o.details)===null||n===void 0?void 0:n.data]),s=c.useMemo(()=>r.formatMessage(Se.not_found_title,{product:a}),[r,a]),i=c.useMemo(()=>({descriptor:Se.not_found_description}),[]);return _.createElement(aE,H({},t,{testId:e,title:s}),_.createElement(IA,{label:"not-found-lock-icon",size:"small",primaryColor:`var(--ds-icon-danger, ${Er})`,testId:`${e}-lock-icon`}),_.createElement(Hr,{message:i,testId:`${e}-message`,maxLines:3}))},ZZe=ug(JZe),jl=(e,t)=>{try{return t!==void 0&&t in Se?Se[t]:e}catch{return e}},k7=(e,t,n,r)=>({name:Zt.CustomAction,content:_.createElement(Ue,H({},Se[t],{values:n})),onClick:e,testId:"smart-action-connect-other-account",isDisabled:r}),QZe=({testId:e="smart-block-forbidden-view",...t})=>{var n;const{createAnalyticsEvent:r}=Kn(),o=Ee(),{cardState:a,onAuthorize:s,url:i}=t,l=a==null?void 0:a.details,d=(n=l==null?void 0:l.meta)!==null&&n!==void 0?n:zh().meta,u=Mr(l==null?void 0:l.data),f=(u==null?void 0:u.text)||"",p=c.useMemo(()=>{const b=_.createElement("b",null,_A(i));return{product:f,hostname:b}},[f,i]),m=c.useMemo(()=>nc({jsonLd:d,url:i,product:f,createAnalyticsEvent:r}),[d,f,i,r]),g=c.useMemo(()=>{const b=jl(Se.invalid_permissions,m==null?void 0:m.titleMessageKey);return o.formatMessage(b,{product:f})},[o,f,m==null?void 0:m.titleMessageKey]),v=c.useMemo(()=>{let b=[];const y=s?[k7(s,"try_another_account")]:[];if(m){const{action:E,callToActionMessageKey:w}=m;b=E&&w?[k7(E.promise,w,p,m==null?void 0:m.buttonDisabled)]:[]}return[...y,...b]},[s,m,p]);return _.createElement(aE,H({},t,{actions:v,showPreview:!0,testId:e,title:g}),_.createElement(IA,{label:"forbidden-lock-icon",size:"small",primaryColor:`var(--ds-icon-danger, ${Er})`,testId:`${e}-lock-icon`}),_.createElement(Hr,{maxLines:3,message:{descriptor:jl(Se.invalid_permissions_description,m==null?void 0:m.descriptiveMessageKey),values:p}}))},eQe=ug(QZe),tQe=e=>({name:Zt.CustomAction,onClick:e,content:_.createElement(Ue,Se.try_again),testId:"smart-action-try-again"}),nQe=({testId:e="smart-block-errored-view",...t})=>{const n=c.useMemo(()=>t.onAuthorize?[tQe(t.onAuthorize)]:[],[t.onAuthorize]);return _.createElement(aE,H({},t,{actions:n,testId:e}),_.createElement(v1,{label:"errored-warning-icon",size:"small",primaryColor:`var(--ds-icon-warning, ${Er})`,testId:`${e}-warning-icon`}),_.createElement(Hr,{maxLines:3,message:{descriptor:Se.could_not_load_link}}))},rQe=ug(nQe),oQe=({details:e,...t})=>({id:"preview-content",text:_.createElement(Ue,Se.preview_improved),promise:()=>tJ({providerName:"Preview",showModal:!0,onClose:()=>{},...t})}),aQe=({id:e,url:t,cardState:n,authFlow:r,handleAuthorize:o,handleErrorRetry:a,handleFrameClick:s,handleInvoke:i,renderers:l,isSelected:d,onResolve:u,onError:f,testId:p,platform:m,analytics:g,enableFlexibleBlockCard:v,actionOptions:b})=>{var y,E,w;const{createAnalyticsEvent:C}=Kn(),{status:x,details:S}=n,I=S&&S.data||Ay(),A=S&&S.meta,T=ga(S),O={analytics:g,origin:"smartLinkCard",handleInvoke:i,extensionKey:T,actionOptions:b};if(v){const D={id:e,cardState:n,url:t,testId:p,onClick:$=>kc($,s),onError:f,onResolve:u,renderers:l,actionOptions:b,analytics:g};switch(x){case"pending":case"resolving":return k(S7,H({},D,{testId:"smart-block-resolving-view"}));case"resolved":return k(S7,D);case"unauthorized":return k(qZe,H({},D,{onAuthorize:o}));case"forbidden":return k(eQe,H({},D,{onAuthorize:o}));case"not_found":return k(ZZe,H({},D,{onAuthorize:o}));case"fallback":case"errored":default:return f&&f({url:t,status:x}),r&&r==="disabled"?k(hb,{link:t,isSelected:d,onClick:s,testId:`${p}-${x}`}):k(rQe,H({},D,{onAuthorize:o}))}}switch(x){case"pending":case"resolving":return k(Oee,{testId:p,isSelected:d});case"resolved":const D=Kf(I,A,O,l,m);return u&&u({title:D.title,url:t}),k(jee,H({},D,{isSelected:d,testId:p,onClick:s}));case"unauthorized":f&&f({url:t,status:x});const $=Kf(I,A,O);return k(LZe,H({},$,{isSelected:d,testId:p,actions:o?[RZe(o)]:[],actionOptions:b,onClick:s}));case"forbidden":f&&f({url:t,status:x});const L=Kf(I,A,O),F=(y=S==null?void 0:S.meta)!==null&&y!==void 0?y:zh().meta,B=nc({jsonLd:F,url:t,product:(E=(w=L.context)===null||w===void 0?void 0:w.text)!==null&&E!==void 0?E:"",createAnalyticsEvent:C});return k(ZXe,H({},L,{isSelected:d,actions:o?[Yf(o)]:[],actionOptions:b,onClick:s,requestAccessContext:B}));case"not_found":f&&f({url:t,status:x});const V=Kf(I,A,O);return k(tJe,H({},V,{isSelected:d,testId:p,onClick:s}));case"fallback":case"errored":default:return f&&f({url:t,status:x}),r&&r==="disabled"?k(hb,{link:t,isSelected:d,onClick:s,testId:`${p}-${x}`}):k(aJe,{link:t,isSelected:d,onRetry:a,onClick:s,testId:p})}},sQe=e=>{const t=Mr(e);return t&&t.id&&(t.id===oQ||t.id===Wy)?qx(e):qx(e,"provider")},lte=(e,t,n)=>({link:ns(e),title:Ji(e,n),lozenge:$T(e),icon:sQe(e),titleTextColor:DZ(e),titlePrefix:ete(e,t,"inline")});var TA={},sE={};Object.defineProperty(sE,"__esModule",{value:!0});sE.default=void 0;var iQe=cte(c),lQe=cte(Oe);function cte(e){return e&&e.__esModule?e:{default:e}}const dte=e=>iQe.default.createElement(lQe.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M.384 5.116 5.116.384a1.25 1.25 0 0 1 1.768 0l4.732 4.732a1.25 1.25 0 0 1 0 1.768l-4.732 4.732a1.25 1.25 0 0 1-1.768 0L.384 6.884a1.25 1.25 0 0 1 0-1.768M6.75 2.5v4h-1.5v-4zM6 9.75a1 1 0 1 0 0-2 1 1 0 0 0 0 2" clip-rule="evenodd"/>',type:"utility"},e));dte.displayName="ErrorIcon";sE.default=dte;Object.defineProperty(TA,"__esModule",{value:!0});var ute=TA.default=void 0,cQe=AA(c),dQe=AA(sE),uQe=AA(Tu);function AA(e){return e&&e.__esModule?e:{default:e}}const fte=e=>cQe.default.createElement(dQe.default,Object.assign({LEGACY_fallbackIcon:uQe.default},e));fte.Name="ErrorIconMigration";ute=TA.default=fte;const fQe=Ge.img({height:"14px",width:"14px",marginRight:"var(--ds-space-050, 4px)",borderRadius:"2px",userSelect:"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),pQe=Ge.img({height:"16px",width:"16px",marginRight:"var(--ds-space-050, 4px)",borderRadius:"2px",userSelect:"none",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),DA=Ge.span({marginRight:"var(--ds-space-negative-025, -2px)"}),mQe=({testId:e})=>{const t={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",marginRight:"var(--ds-space-050, 4px)"};return _.createElement(VPe,{width:et("linking-platform-increase-inline-card-icon-size")?16:14,height:et("linking-platform-increase-inline-card-icon-size")?16:14,borderRadius:2,testId:e,style:t})},pte=`
  & > span {
    height: 16px;
    width: 14px;
    position: absolute;
    top: 3px;
    left: 0;
    line-height: 14px;
    & > svg {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  }
`,mte=`

  & > * > span {
    height: 16px;
    width: 14px;
    position: absolute;
    left: 0;
    & > svg {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  }
`,aC=Ge.span({userSelect:"none"},mte,pte),hte=`
  & > span {
    height: 16px;
    width: 16px;
    position: absolute;
    top: 3px;
    left: 0;
    & > svg {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  }
`,gte=`
  & > * > span {
    height: 16px;
    width: 16px;
    position: absolute;
    left: 0;
    & > svg {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  }
`,I7=Ge.span({userSelect:"none"},gte,hte),hQe=Ge.span({display:"inline-block",marginRight:"var(--ds-space-025, 2px)",userSelect:"none"},mte,pte),gQe=Ge.span({display:"inline-block",marginRight:"var(--ds-space-025, 2px)",userSelect:"none"},gte,hte),OA=Ge.span({whiteSpace:"pre-wrap",wordBreak:"break-all",boxDecorationBreak:"clone",padding:"var(--ds-space-025, 2px) var(--ds-space-050, 4px)"}),vte=Ge.span({display:"inline-block",verticalAlign:"1px",margin:"0 var(--ds-space-050, 4px) 0 var(--ds-space-025, 2px)"}),vQe=Ge.span({marginLeft:"var(--ds-space-025, 2px)",position:"relative",display:"inline-block"}),T7=Ge.span({marginRight:"var(--ds-space-050, 4px)",position:"relative",display:"inline-block"}),bQe=Ge.span({width:"14px",height:"100%",display:"inline-block",opacity:0}),yQe=Ge.span({width:"16px",height:"100%",display:"inline-block",opacity:0}),EQe="smart-link-title-wrapper",wQe=Ge.span({}),MA=Ge.span({"&&&":{textAlign:"initial",display:"inline",verticalAlign:"baseline",borderRadius:"var(--ds-border-radius-100, 4px)",borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px",padding:"var(--ds-space-025, 2px) var(--ds-space-075, 6px)",backgroundClip:"padding-box",boxDecorationBreak:"clone"},"> span":{display:"inline",overflow:"initial",textOverflow:"initial",whiteSpace:"initial","> span":{overflow:"initial",textOverflow:"initial",whiteSpace:"initial"}}}),CQe=Ge.span({color:`var(--ds-text-subtlest, ${jt})`,marginLeft:"var(--ds-space-050, 4px)"});Ge.span({textTransform:"lowercase"});const _Qe=Ge.a({color:`var(--ds-link, ${Jt})`,"&:hover":{textDecoration:"none"}});class ef extends _.Component{constructor(...t){super(...t),q(this,"handleClick",n=>{const{onClick:r}=this.props;r&&(n.preventDefault(),n.stopPropagation(),r(n))}),q(this,"handleKeyPress",n=>{const{onClick:r}=this.props;n.key!==" "&&n.key!=="Enter"||r&&(n.preventDefault(),n.stopPropagation(),r(n))})}renderAtlaskitIcon(){const{icon:t,emoji:n}=this.props;return n?et("linking-platform-increase-inline-card-icon-size")?_.createElement(gQe,null,n):_.createElement(hQe,null,n):!t||typeof t=="string"?null:et("linking-platform-increase-inline-card-icon-size")?_.createElement(I7,null,t):_.createElement(aC,null,t)}renderImageIcon(t,n){const{icon:r}=this.props;if(!r||typeof r!="string")return null;const o=et("linking-platform-increase-inline-card-icon-size")?_.createElement(pQe,{className:"smart-link-icon",src:r,"data-testid":`${n}-image`}):_.createElement(fQe,{className:"smart-link-icon",src:r,"data-testid":`${n}-image`});return _.createElement(X1,{src:r,loaded:o,errored:t,loading:_.createElement(mQe,{testId:`${n}-loading`})})}renderIconPlaceholder(t){const{defaultIcon:n}=this.props;return n?_.createElement(aC,null,n):et("linking-platform-increase-inline-card-icon-size")?_.createElement(I7,{"data-testid":`${t}-default`},_.createElement(Jr,{label:"link",LEGACY_size:"small",testId:`${t}-default`,color:"currentColor"})):_.createElement(aC,null,_.createElement(Jr,{label:"link",LEGACY_size:"small",testId:`${t}-default`,color:"currentColor"}))}renderIcon(t){const n=this.renderAtlaskitIcon();if(n)return n;const r=this.renderIconPlaceholder(t);return this.renderImageIcon(r,t)||r}render(){const{children:t,title:n,titleColor:r,titleTextColor:o,link:a,rightSide:s,testId:i="inline-card-icon-and-title"}=this.props,l=et("linking-platform-increase-inline-card-icon-size")?_.createElement(T7,{"data-testid":"icon-position-wrapper"},t||_.createElement(_.Fragment,null,_.createElement(yQe,{"data-testid":"icon-empty-wrapper"}),this.renderIcon(i))):_.createElement(T7,null,t||_.createElement(_.Fragment,null,_.createElement(bQe,null),this.renderIcon(i))),d=_.createElement(_.Fragment,null,l,_.createElement(wQe,{style:{color:o},className:EQe},n));return _.createElement(OA,{style:{color:r},"data-testid":i},a?_.createElement(_Qe,{href:a,onClick:this.handleClick,onKeyPress:this.handleKeyPress},d):d,s?_.createElement(CQe,null,s):null)}}q(ef,"defaultProps",{rightSideSpacer:!0});const $A=(e,t)=>n=>{const r=()=>{const a=t.current;a&&(a.style.borderColor=`${`var(--ds-border, ${Ut})`}`)},o=()=>{const a=t.current;a&&a.removeAttribute("style")};return _.createElement(e,H({},n,{onMouseEnter:r,onMouseLeave:o}))};class xQe extends _.Component{constructor(...t){super(...t),q(this,"frameRef",_.createRef()),q(this,"handleRetry",n=>{const{onRetry:r}=this.props;r&&(n.preventDefault(),n.stopPropagation(),r())}),q(this,"renderActionButton",()=>{const{onRetry:n}=this.props,r=$A(ht,this.frameRef);return n&&_.createElement(r,{spacing:"none",component:MA,onClick:this.handleRetry,role:"button"},_.createElement(Ue,Se.try_again))})}render(){const{url:t,onClick:n,isSelected:r,testId:o="inline-card-errored-view",icon:a,message:s,truncateInline:i}=this.props,l=_.createElement(tc,{testId:o,isSelected:r,ref:this.frameRef,truncateInline:i},_.createElement(ef,{icon:a||_.createElement(DA,null,_.createElement(ute,{label:"error",LEGACY_size:"small",color:`var(--ds-icon-danger, ${Er})`,testId:"errored-view-default-icon"})),link:t,title:t,onClick:n,rightSide:s}),this.renderActionButton());return this.props.showHoverPreview?_.createElement(Qu,{url:t},l):l}}const SQe=_.createElement(DA,null,_.createElement(dg,{label:"error",size:"small",primaryColor:`var(--ds-icon-danger, ${bn})`,testId:"forbidden-view-fallback-icon"}));class kQe extends _.Component{constructor(...t){var n,r;super(...t),q(this,"frameRef",_.createRef()),q(this,"state",{hasRequestAccessContextMessage:!!((n=this.props)!==null&&n!==void 0&&(r=n.requestAccessContext)!==null&&r!==void 0&&r.callToActionMessageKey)}),q(this,"handleRetry",o=>{const{onAuthorise:a}=this.props;if(o.preventDefault(),o.stopPropagation(),a)a();else{var s,i,l;(s=this.props)===null||s===void 0||(i=s.requestAccessContext)===null||i===void 0||(l=i.action)===null||l===void 0||l.promise()}}),q(this,"renderForbiddenAccessMessage",()=>{var o,a;if((o=this.props)!==null&&o!==void 0&&(a=o.requestAccessContext)!==null&&a!==void 0&&a.callToActionMessageKey){const{callToActionMessageKey:s}=this.props.requestAccessContext;return _.createElement(Ue,H({},Se[s],{values:{product:this.props.context}}))}return _.createElement(_.Fragment,null,_.createElement(Ue,Se.invalid_permissions,s=>_.createElement(_.Fragment,null,s)))}),q(this,"renderActionButton",()=>{var o;const{onAuthorise:a}=this.props,s=$A(ht,this.frameRef),i=(o=this.props.requestAccessContext)===null||o===void 0?void 0:o.accessType;return this.state.hasRequestAccessContextMessage?_.createElement(s,{spacing:"none",onClick:this.handleRetry,component:MA,testId:"button-connect-other-account",role:"button",isDisabled:i==="PENDING_REQUEST_EXISTS"},this.renderForbiddenAccessMessage()):a?_.createElement(ht,{spacing:"none",onClick:this.handleRetry,appearance:"subtle-link",testId:"button-connect-other-account",role:"button"},_.createElement(vte,null,_.createElement(Qi,{appearance:"moved"},this.renderForbiddenAccessMessage()))):null})}render(){const{url:t,icon:n,onClick:r,isSelected:o,testId:a="inline-card-forbidden-view",truncateInline:s}=this.props,i=_.createElement(tc,{testId:a,isSelected:o,ref:this.frameRef,truncateInline:s},_.createElement(ef,{icon:n||SQe,link:t,title:t,onClick:r,titleColor:`var(--ds-text-subtle, ${rn})`}),this.renderActionButton());return this.props.showHoverPreview?_.createElement(Qu,{url:t},i):i}}class bte extends _.Component{renderLozenge(){const{lozenge:t}=this.props;if(!t)return null;const n=t.appearance||"default";return _.createElement(vte,null,_.createElement(Qi,{testId:"inline-card-resolved-view-lozenge",appearance:n,style:t.style,isBold:t.isBold},t.text))}render(){const{id:t,title:n="",isSelected:r,isHovered:o,onClick:a,icon:s,link:i,testId:l="inline-card-resolved-view",titleTextColor:d,titlePrefix:u,showHoverPreview:f=!1,hoverPreviewOptions:p,actionOptions:m,truncateInline:g}=this.props,v=_.createElement(tc,{testId:l,link:i,isSelected:r,isHovered:o,onClick:a,truncateInline:g},_.createElement(ef,{emoji:u,icon:s,title:n,titleTextColor:d}),this.renderLozenge());return f&&i?_.createElement(Qu,{id:t,url:i,actionOptions:m,hoverPreviewOptions:p},v):v}}const A7=Ge(OA)({verticalAlign:"text-bottom",padding:"0px"});class IQe extends _.Component{render(){const{url:t,onClick:n,isSelected:r,inlinePreloaderStyle:o,testId:a="inline-card-resolving-view",titleTextColor:s,resolvingPlaceholder:i,truncateInline:l}=this.props;return o==="on-right-without-skeleton"?_.createElement(tc,{withoutBackground:!0,testId:a,onClick:n,isSelected:r,truncateInline:l},_.createElement(OA,null,t,_.createElement(vQe,null,_.createElement(A7,{className:"inline-resolving-spinner"},_.createElement(rr,{size:14}))))):_.createElement(tc,{testId:a,onClick:n,isSelected:r,link:t,truncateInline:l},_.createElement(ef,{title:i??t,titleTextColor:s},_.createElement(A7,{className:"inline-resolving-spinner"},_.createElement(rr,{size:14}))))}}const TQe=_.createElement(DA,null,_.createElement(dg,{label:"error",size:"small",primaryColor:`var(--ds-icon-danger, ${bn})`}));class AQe extends _.Component{constructor(...t){super(...t),q(this,"frameRef",_.createRef()),q(this,"handleConnectAccount",n=>{const{analytics:r,extensionKey:o,onAuthorise:a}=this.props;return n.preventDefault(),n.stopPropagation(),a&&(r==null||r.track.appAccountAuthStarted({extensionKey:o})),a()}),q(this,"renderActionButton",()=>{const{onAuthorise:n,context:r}=this.props,o=$A(ht,this.frameRef);return n?_.createElement(o,{spacing:"none",component:MA,onClick:this.handleConnectAccount,testId:"button-connect-account"},_.createElement(Ue,H({},Se.connect_link_account_card_name,{values:{context:r}}))):void 0})}render(){const{url:t,icon:n,onAuthorise:r,onClick:o,isSelected:a,testId:s="inline-card-unauthorized-view",showAuthTooltip:i=!1,truncateInline:l}=this.props,d=_.createElement(tc,{testId:s,isSelected:a,ref:this.frameRef,truncateInline:l},_.createElement(ef,{icon:n||TQe,title:t,link:t,onClick:o,titleColor:`var(--ds-text-subtle, ${rn})`}),this.renderActionButton());return r&&i?_.createElement(Qu,{url:t,id:this.props.id},d):d}}const DQe=({analytics:e,id:t,url:n,cardState:r,handleAuthorize:o,handleFrameClick:a,isSelected:s,isHovered:i,renderers:l,onResolve:d,onError:u,testId:f,inlinePreloaderStyle:p,showHoverPreview:m,hoverPreviewOptions:g,showAuthTooltip:v,actionOptions:b,removeTextHighlightingFromTitle:y,resolvingPlaceholder:E,truncateInline:w})=>{var C,x;const{createAnalyticsEvent:S}=Kn(),{status:I,details:A}=r,T=A&&A.data||Ay(),O=ga(A),D=f?`${f}-${I}-view`:void 0,$=mLe("showHoverPreview");m===void 0&&$!==void 0&&(m=!!$);const L=I===ot.Resolved?lte(T,l,y):{};switch(c.useEffect(()=>{switch(I){case ot.Resolved:d==null||d({url:n,title:L.title});break;case ot.Errored:case ot.Fallback:case ot.Forbidden:case ot.NotFound:case ot.Unauthorized:u&&u({status:I,url:n});break}},[u,d,I,n,L.title]),I){case"pending":case"resolving":return _.createElement(IQe,{url:n,isSelected:s,onClick:a,testId:D,inlinePreloaderStyle:p,resolvingPlaceholder:E,truncateInline:w});case"resolved":return _.createElement(bte,H({},L,{id:t,showHoverPreview:m,hoverPreviewOptions:g,actionOptions:b,link:n,isSelected:s,isHovered:i,onClick:a,testId:D,truncateInline:w}));case"unauthorized":const F=Mr(T);return _.createElement(AQe,{icon:F&&F.icon,context:F&&F.text,url:n,isSelected:s,onClick:a,onAuthorise:o,testId:D,showAuthTooltip:v,id:t,analytics:e,extensionKey:O,truncateInline:w});case"forbidden":const B=Mr(T),V=(C=A==null?void 0:A.meta)!==null&&C!==void 0?C:zh().meta,Y=nc({jsonLd:V,url:n,product:(x=B==null?void 0:B.text)!==null&&x!==void 0?x:"",createAnalyticsEvent:S});return _.createElement(kQe,{url:n,icon:B&&B.icon,context:B==null?void 0:B.text,isSelected:s,onClick:a,onAuthorise:o,testId:D,requestAccessContext:Y,showHoverPreview:m,truncateInline:w});case"not_found":const J=Mr(T);return _.createElement(xQe,{url:n,icon:J&&J.icon,isSelected:s,message:"Can't find link",onClick:a,testId:D||"inline-card-not-found-view",showHoverPreview:m,truncateInline:w});case"fallback":case"errored":default:return _.createElement(hb,{link:n,isSelected:s,onClick:a,testId:D||"inline-card-errored-view",truncateInline:w})}},OQe=(e,t,n)=>{const r=Iy(e,t,n);if(r&&r.src)return{...r,src:r.src}};function MQe(e){const t=Mr(e);if(!t)return;if(!e.icon)return t;const n=e.generator,r=qy({fileFormatIcon:void 0,documentTypeIcon:void 0,urlIcon:Xi(e.icon),providerIcon:n&&typeof n!="string"&&n["@type"]!=="Link"&&_X(n.icon)});return{...t,icon:r||t.icon}}const v0=(e,t,n,r)=>({link:ns(e)||"",title:Ji(e),context:MQe(e),preview:OQe(e,n,r),isTrusted:tte(t),isSupportTheming:cA(t)}),yte=({alt:e="",src:t,size:n=16,title:r,default:o})=>t?_.createElement(X1,{src:t,loading:o,loaded:_.createElement(MKe,{className:"smart-link-icon",src:t,alt:e,size:n,title:r}),errored:o}):o||null,$Qe=[5,10,15,20,25,30,45,60,90,120,180],RQe=({isIframeLoaded:e,isMouseOver:t,isWindowFocused:n,iframePercentVisible:r,onIframeDwell:o})=>{const[a,s]=c.useState({time:0,percentVisible:0}),i=c.useRef();return c.useEffect(()=>{a.time>0&&$Qe.includes(a.time)&&o&&o(a.time,a.percentVisible)},[a,o]),c.useEffect(()=>{const l=()=>{s(({time:d})=>({time:d+1,percentVisible:Math.floor((r||0)*20)*5}))};return e&&t&&n&&r>.75&&(i.current&&clearInterval(i.current),i.current=setInterval(l,1e3)),()=>{i.current&&clearInterval(i.current)}},[s,t,n,e,r]),null},PQe=({childRef:e,...t})=>_.createElement("iframe",H({},t,{ref:e}));function LQe(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!==null&&(n.current=t)})}}const NQe=M({border:0,top:0,left:0,width:"100%",height:"100%",position:"relative",overflow:"hidden",borderRadius:"3px"}),FQe=_.forwardRef(({url:e,isTrusted:t=!1,testId:n,onIframeDwell:r,onIframeFocus:o,title:a},s)=>{const[i,l]=c.useState(!1),[d,u]=c.useState(!1),[f,p]=c.useState(!0),m=c.useRef(),g=LQe([s,m]),[v,b]=c.useState(0),[y]=c.useState([.75,.8,.85,.9,.95,1]);return c.useEffect(()=>{if(!m||!m.current)return;const E=new IntersectionObserver(w=>{w.forEach(C=>{b(C==null?void 0:C.intersectionRatio)})},{threshold:y});return E.observe(m.current),()=>{E.disconnect()}},[y,g]),c.useEffect(()=>{const E=()=>{p(!1),document.activeElement===m.current&&o&&o()},w=()=>{p(!0)};return window.addEventListener("blur",E),window.addEventListener("focus",w),()=>{window.removeEventListener("blur",E),window.removeEventListener("focus",w)}},[m,o]),e?k(_.Fragment,null,k(RQe,{isIframeLoaded:i,isMouseOver:d,isWindowFocused:f,iframePercentVisible:v,onIframeDwell:r}),k(PQe,{childRef:g,src:e,"data-testid":`${n}-frame`,"data-iframe-loaded":i,css:NQe,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),allowFullScreen:!0,scrolling:"yes",allow:"autoplay; encrypted-media; clipboard-write",onLoad:()=>{l(!0)},sandbox:ALe(t),title:a})):null}),D7=_.forwardRef(({link:e,context:t,onClick:n,isSelected:r,frameStyle:o,preview:a,title:s,isTrusted:i,testId:l="embed-card-resolved-view",inheritDimensions:d,onIframeDwell:u,onIframeFocus:f,isSupportTheming:p},m)=>{const g=t==null?void 0:t.icon,v=typeof g=="string"?g:void 0,b=s||(t==null?void 0:t.text),y=_.useMemo(()=>k(Jr,{label:"icon",LEGACY_size:"small",testId:"embed-card-fallback-icon",color:"currentColor"}),[]);let E=_.useMemo(()=>_.isValidElement(g)?g:k(yte,{src:v,default:y}),[v,y,g]);const w=ky();let C=a==null?void 0:a.src;return C&&p&&(C=RLe(C,w)),k(Tee,{isSelected:r,frameStyle:o,href:e,testId:l,icon:E,text:b,onClick:n,inheritDimensions:d,setOverflow:!1},k(FQe,{url:C,isTrusted:i,testId:l,ref:m,onIframeDwell:u,onIframeFocus:f,title:b}))}),jQe=M({fontSize:`${yu()}px`,marginLeft:Et(.5),marginRight:Et(.5),display:"-webkit-box",overflow:"hidden",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",maxHeight:Et(3)}),VQe=({onRetry:e,isSelected:t=!1,testId:n="embed-card-errored-view",inheritDimensions:r})=>k(Ic,{inheritDimensions:r,compact:!0,isSelected:t,testId:n},k(Us,{LEGACY_size:"small",color:`var(--ds-icon-danger, ${Er})`,label:"error-icon"}),k("span",{css:jQe},k(Ue,Se.could_not_load_link)),k(ht,{testId:"err-view-retry",appearance:"link",spacing:"none",onClick:e},k(Ue,Se.try_again))),BQe=M({display:"grid",height:"inherit"}),UQe=M({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",margin:"auto",padding:"var(--ds-space-200, 16px)",gap:"var(--ds-space-250, 20px)",maxWidth:Et(50)}),HQe=M({fontSize:"1em",textAlign:"center"}),O7=M({height:"120px",width:"180px",objectFit:"contain",objectPosition:"center center"}),zQe=M({textAlign:"center",margin:0,padding:0}),RA=({button:e,description:t,frameStyle:n,icon:r,image:o,inheritDimensions:a,isSelected:s,onClick:i,testId:l,text:d,title:u,url:f})=>{const p=c.useMemo(()=>_.isValidElement(r)?r:k(yte,{src:typeof r=="string"?r:void 0,default:k(Jr,{label:"icon",LEGACY_size:"small",testId:"embed-card-fallback-icon",color:"currentColor"})}),[r]),m=c.useMemo(()=>{if(!o)return null;const g=`${l}-unresolved-image`;return typeof o=="string"?k("img",{css:O7,"data-testid":g,src:o}):k("div",{css:O7,"data-testid":g},o)},[o,l]);return k(Tee,{allowScrollBar:!0,setOverflow:!0,frameStyle:n??"show",href:f,icon:p,inheritDimensions:a,isSelected:s,onClick:i,testId:l,text:d},k("div",{css:BQe,"data-testid":`${l}-unresolved-container`},k("div",{css:UQe},m,k("h2",{css:zQe,"data-testid":`${l}-unresolved-title`},u),k("span",{css:HQe,"data-testid":`${l}-unresolved-description`},t),e)))},WQe=()=>_.createElement("svg",{viewBox:"0 0 168.8372 221.4874",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet","data-testid":"forbidden-svg"},_.createElement("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"49.4199",x2:"122.662",y1:"59.7673",y2:"59.7673"},_.createElement("stop",{offset:"0",stopColor:"#0065ff"}),_.createElement("stop",{offset:".2188",stopColor:"#0b6cff"}),_.createElement("stop",{offset:".5999",stopColor:"#2780ff"}),_.createElement("stop",{offset:"1",stopColor:"#4c9aff"})),_.createElement("path",{d:"m122.662 119.5347h-73.242v-82.9141a36.6211 36.6211 0 0 1 73.2422 0zm-61.2422-12h49.2422v-70.9141a24.6211 24.6211 0 0 0 -49.2422 0z",fill:"url(#a)"}),_.createElement("path",{d:"m160.3239 111.17a65.4958 65.4958 0 0 1 -5.657-46.1172l.0022-.0088a5.0533 5.0533 0 0 0 -4.9039-6.273h-130.6932a5.0533 5.0533 0 0 0 -4.9038 6.273l.0015.0057a66.1488 66.1488 0 0 1 -5.7847 46.3674 75.4908 75.4908 0 0 0 65.21 110.0468c.0325.0008.0642-.0009.0967 0h.0017c.0332.0008.0652-.0009.0977 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0016c.0333.0008.0652-.0009.0977 0h.0024c.0325.0008.0645-.0009.0969 0h.0027c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0016c.0333.0008.0652-.0009.0977 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0017c.0332.0008.0652-.0009.0977 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0017c.0332.0008.0652-.0009.0977 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0332.0008.0652-.0009.0977 0h.0023c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0017c.0332.0008.0652-.0009.0977 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0017c.0332.0008.0651-.0009.0975 0h.0024c.0325.0008.0643-.0009.0968 0h.0026c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0017c.0332.0008.0652-.0009.0977 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0643-.0009.0968 0h.0025c.0325.0008.0643-.0009.0968 0h.0032c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0645-.0009.0969 0h.0016c.0333.0008.0651-.0009.0975 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0017c.0332.0008.0651-.0009.0975 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0017c.0332.0008.0652-.0009.0977 0h.0024c.0325.0008.0643-.0009.0968 0h.0025c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0016c.0333.0008.0652-.0009.0977 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0025c.0333.0008.0651-.0009.0975 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0017c.0332.0008.0651-.0009.0975 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0017c.0332.0008.0652-.0009.0977 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0016c.0333.0008.0652-.0009.0977 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0017c.0332.0008.0652-.0009.0977 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0026c.0332.0008.0652-.0009.0977 0h.0023c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0643-.0009.0968 0h.0016c.0333.0008.0652-.0009.0977 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0017c.0332.0008.0651-.0009.0975 0h.0024c.0325.0008.0643-.0009.0968 0h.0026c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0017c.0332.0008.0652-.0009.0977 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0017c.0332.0008.0651-.0009.0975 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0017c.0332.0008.0652-.0009.0977 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0643-.0009.0968 0h.0016c.0333.0008.0652-.0009.0977 0h.0031c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0645-.0009.0969 0h.0016c.0333.0008.0651-.0009.0975 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0017c.0332.0008.0651-.0009.0975 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0017c.0332.0008.0652-.0009.0977 0h.0024c.0325.0008.0643-.0009.0968 0h.0025c.0325.0008.0643-.0009.0968 0h.0017c.0332.0008.0651-.0009.0975 0h.0016c.0333.0008.0652-.0009.0977 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0025c.0333.0008.0652-.0009.0977 0h.0023c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0017c.0332.0008.0652-.0009.0977 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0017c.0332.0008.0652-.0009.0977 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0643-.0009.0968 0h.0024c.0325.0008.0645-.0009.0969 0h.0024c.0325.0008.0642-.0009.0967 0h.0024c.0325.0008.0645-.0009.0969 0h.0017c.0332.0008.0651-.0009.0975 0h.0024c.0325.0008.0643-.0009.0968 0h.0024a75.491 75.491 0 0 0 68.8626-110.2939z",fill:"#de350b"}),_.createElement("path",{d:"m154.6669 65.0531.0022-.0088a5.0533 5.0533 0 0 0 -4.9039-6.273h-112.8264a5.0533 5.0533 0 0 0 -4.9039 6.273l.0014.0057a66.1491 66.1491 0 0 1 -5.7845 46.3674 75.4854 75.4854 0 1 0 134.072-.2471 65.4957 65.4957 0 0 1 -5.6569-46.1172z",fill:"#ff5630"}),_.createElement("path",{d:"m93.3523 213.6q-.8454 0-1.6973-.0205a67.6029 67.6029 0 0 1 -58.3963-98.5383 74.3762 74.3762 0 0 0 7.2113-48.3823h105.7618a73.488 73.488 0 0 0 7.0986 48.16 67.6006 67.6006 0 0 1 -59.9755 98.7811z",fill:"#ff7452"}),_.createElement("path",{d:"m90.0071 176.8851a16.3079 16.3079 0 0 1 -16.1149-18.8193l2.23-14.3217a24.1482 24.1482 0 0 1 16.087-41.053c.3821-.0176.7658-.0265 1.1435-.0265a24.1491 24.1491 0 0 1 17.229 41.0809l2.2312 14.32a16.31 16.31 0 0 1 -16.1149 18.8193z",fill:"#ff5630"}),_.createElement("path",{d:"m108.481 126.8237a15.0613 15.0613 0 0 1 -4.83 11.0676 7.2219 7.2219 0 0 0 -2.1218 6.4121l2.3594 15.1531a7.2783 7.2783 0 0 1 -7.1916 8.3981h-6.69a7.2783 7.2783 0 0 1 -7.1916-8.3981l2.3872-15.3318a7.2321 7.2321 0 0 0 -2.2684-6.345 15.0639 15.0639 0 0 1 -4.6905-11.7523 15.1293 15.1293 0 0 1 30.2376.7963z",fill:"#de350b"}),_.createElement("path",{d:"m82.8151 159.4565a7.2565 7.2565 0 1 0 14.3328 0l-2.3594-15.1531a7.2215 7.2215 0 0 1 2.1217-6.4121 15.1041 15.1041 0 0 0 -6.9452-25.804 15.2678 15.2678 0 0 0 -11.7216 13.94 15.0634 15.0634 0 0 0 4.6906 11.7527 7.232 7.232 0 0 1 2.2683 6.3449z",fill:"#344563"})),GQe=({context:e,onAuthorize:t,accessContext:n,testId:r="embed-card-forbidden-view",...o})=>{const{icon:a,image:s,text:i=""}=e??{},{accessType:l,hostname:d,titleMessageKey:u,descriptiveMessageKey:f,callToActionMessageKey:p,action:m}=n??{},g=c.useMemo(()=>{var b;const y=(b=e==null?void 0:e.text)!==null&&b!==void 0?b:"";return{context:y,product:y,hostname:_.createElement("b",null,d)}},[d,e==null?void 0:e.text]),v=c.useMemo(()=>{var b;const y=(b=m==null?void 0:m.promise)!==null&&b!==void 0?b:t;return y?_.createElement(ht,{testId:`button-${(m==null?void 0:m.id)||"connect-other-account"}`,appearance:"primary",onClick:y,isDisabled:l==="PENDING_REQUEST_EXISTS"},_.createElement(Ue,H({},jl(Se.try_another_account,p),{values:g}))):null},[l,m==null?void 0:m.id,m==null?void 0:m.promise,p,t,g]);return _.createElement(RA,H({},o,{icon:a,image:s??_.createElement(WQe,null),testId:r,text:i,title:_.createElement(Ue,H({},jl(Se.invalid_permissions,u),{values:g})),description:_.createElement(Ue,H({},jl(Se.invalid_permissions_description,f),{values:g})),button:v}))},qQe=()=>_.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 200.55 269.99",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet","data-testid":"not-found-svg"},_.createElement("defs",null,_.createElement("linearGradient",{id:"linear-gradient",x1:"1316.98",y1:"230.66",x2:"1396.36",y2:"230.66",gradientTransform:"matrix(-1, 0, 0, 1, 1517.54, 0)",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{offset:"0",stopColor:"#344563"}),_.createElement("stop",{offset:"1",stopColor:"#6c798f"})),_.createElement("linearGradient",{id:"linear-gradient-2",x1:"170.3",y1:"897.49",x2:"365.15",y2:"897.49",gradientTransform:"translate(-125.06 -762.9) rotate(4.81)",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{offset:"0",stopColor:"#fff"}),_.createElement("stop",{offset:"0.69",stopColor:"#fff",stopOpacity:"0.1"}))),_.createElement("title",null,"Search error"),_.createElement("g",{id:"Layer_2","data-name":"Layer 2"},_.createElement("g",{id:"Objects"},_.createElement("path",{fill:"#cfd4db",d:"M126.84,210.1l-9.51-9.39,13-13.23,9.52,9.39a18,18,0,0,0,8.82,4.78h0a18.06,18.06,0,0,1,8.82,4.79l38.59,38.09a14.87,14.87,0,0,1,.13,21h0a14.87,14.87,0,0,1-21,.14l-38.59-38.09a18,18,0,0,1-4.9-8.75h0A18,18,0,0,0,126.84,210.1Z"}),_.createElement("path",{id:"_Path_","data-name":"<Path>",fill:"url(#linear-gradient)",d:"M126.84,210.1l-2.9-2.86a9.31,9.31,0,0,1-.09-13.15h0A9.3,9.3,0,0,1,137,194l2.9,2.86a18,18,0,0,0,8.82,4.78h0a18.06,18.06,0,0,1,8.82,4.79l38.59,38.09a14.87,14.87,0,0,1,.13,21h0a14.87,14.87,0,0,1-21,.14l-38.59-38.09a18,18,0,0,1-4.9-8.75h0A18,18,0,0,0,126.84,210.1Z"}),_.createElement("path",{fill:"#091e42",opacity:.1,d:"M131.63,218.46a18,18,0,0,0-4.79-8.36l-2.9-2.86a9.31,9.31,0,0,1-.09-13.15h0A9.3,9.3,0,0,1,137,194l2.9,2.86a18,18,0,0,0,8.41,4.68,79.1,79.1,0,0,1-7.72,9.12A77.4,77.4,0,0,1,131.63,218.46Z"}),_.createElement("path",{fill:"#344563",d:"M155.47,145.8A77.74,77.74,0,0,0,22.41,91.7,77.24,77.24,0,0,0,0,146.82H0a77.22,77.22,0,0,0,23.13,54.81h0A77.74,77.74,0,0,0,155.47,145.8Z"}),_.createElement("path",{id:"_Clipping_Path_","data-name":"<Clipping Path>",fill:"#deebff",d:"M35.62,104.74a59.17,59.17,0,1,1-17.06,42A58.81,58.81,0,0,1,35.62,104.74Z"}),_.createElement("path",{id:"_Path_2","data-name":"<Path>",fill:"#b2d4ff",d:"M39.54,101.12A59.19,59.19,0,1,0,82.69,87.36,58.82,58.82,0,0,0,39.54,101.12Z"}),_.createElement("path",{fill:"#cce0ff",d:"M78.09,94.6a59.17,59.17,0,0,0-52.5,23.71,59.2,59.2,0,0,0,99.68,63.28,59.2,59.2,0,0,0-47.18-87Z"}),_.createElement("path",{fill:"url(#linear-gradient-2)",d:"M72.77,205.3A59.25,59.25,0,0,0,133.92,165a59.2,59.2,0,0,1-6.42.62c-19.4.74-33.31-8.64-40-13.32-20.19-14-20.75-28.19-33.7-41.34A56,56,0,0,0,40,100.76l-.44.36A59.18,59.18,0,0,0,72.77,205.3Z"}),_.createElement("polygon",{id:"_Path_3","data-name":"<Path>",fill:"#5e6c84",points:"105.15 132.36 94.03 121.33 78.7 136.79 63.24 121.45 52.22 132.57 67.68 147.9 52.34 163.35 63.45 174.38 78.79 158.92 94.24 174.26 105.27 163.15 89.81 147.81 105.15 132.36"}),_.createElement("path",{fill:"#ffc400",d:"M82.29,29.4,72.12.45A.68.68,0,0,0,70.81.6L67.53,28.65l-6.48-.75a.67.67,0,0,0-.72.89l10.17,29a.68.68,0,0,0,1.31-.15l3.28-28.05,6.48.76A.68.68,0,0,0,82.29,29.4Z"}),_.createElement("path",{fill:"#ffc400",d:"M50.28,47.8,37.64,39.17a.29.29,0,0,0-.42.39l7,12.21-2.84,1.62a.29.29,0,0,0,0,.5L54,62.52a.3.3,0,0,0,.43-.39l-7-12.21,2.84-1.62A.29.29,0,0,0,50.28,47.8Z"}),_.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:"2px",stroke:"#344563",d:"M104.31,36.05c-.7,2.07-9.75-1-10.44,1.11s8.35,5.11,7.66,7.18-9.75-1-10.44,1.12,8.35,5.11,7.66,7.18-9.75-1-10.44,1.12S96.66,58.87,96,61"}),_.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:"2px",stroke:"#5e6c84",d:"M125.53,59.72c-1.59,1.49-7.85-5.2-9.45-3.71s4.66,8.19,3.06,9.69-7.86-5.21-9.46-3.72c-.74.7.21,2.51,1.28,4.4"}),_.createElement("path",{fill:"none",strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:"2px",stroke:"#5e6c84",d:"M20.83,59.86c2.17.27,1.06,9.37,3.23,9.63s3.28-8.83,5.46-8.57,1.05,9.37,3.22,9.63c1,.13,1.79-1.76,2.56-3.8"})))),YQe=({context:e,accessContext:t,testId:n="embed-card-not-found-view",...r})=>{const{icon:o,image:a,text:s=""}=e??{},{titleMessageKey:i,descriptiveMessageKey:l}=t??{},d=c.useMemo(()=>({product:s}),[s]);return _.createElement(RA,H({},r,{icon:o,image:a??_.createElement(qQe,null),testId:n,text:s,title:_.createElement(Ue,H({},jl(Se.not_found_title,i),{values:d})),description:_.createElement(Ue,H({},jl(Se.not_found_description,l),{values:d}))}))},KQe=()=>_.createElement("svg",{viewBox:"0 0 565 267",fill:"none",xmlns:"http://www.w3.org/2000/svg",height:"100%",width:"100%",preserveAspectRatio:"xMidYMid meet","data-testid":"unauthorized-svg"},_.createElement("g",{clipPath:"url(#clip0_1375_267)"},_.createElement("rect",{width:"563.88",height:"265.81",transform:"translate(0.870117 0.509766)",fill:"white",fillOpacity:"0.01"}),_.createElement("path",{d:"M150.05 257.529H143.87L144.52 254.379H150.7L150.05 257.529Z",fill:"#DFE1E5"}),_.createElement("path",{d:"M181.06 257.531C183.03 257.531 185 257.531 186.97 257.531C186.92 256.481 186.88 255.431 186.83 254.381C185.02 253.691 182.85 253.301 181.08 254.271C181.02 254.301 180.96 254.341 180.9 254.381C180.95 255.431 181.01 256.481 181.06 257.531Z",fill:"#DFE1E5"}),_.createElement("path",{d:"M141.99 98.8398C110.62 98.8398 85.1801 124.27 85.1801 155.65V206.74C85.1801 238.11 59.7501 263.55 28.3701 263.55H0.870117",stroke:"url(#paint0_linear_1375_267)",strokeWidth:"4.4681",strokeMiterlimit:"10"}),_.createElement("path",{d:"M420.16 124.399L418.27 121.929L417.53 116.109L417.4 112.789H419.42L421.66 115.439C422.18 116.059 422.62 116.749 422.94 117.499C423.39 118.539 423.63 119.669 423.63 120.809V123.189L420.16 124.399Z",fill:"#D4B696"}),_.createElement("path",{d:"M160.63 111.87L159.06 105.6C159.06 105.21 159.37 104.88 159.76 104.86C160.06 105.13 160.4 105.37 160.63 105.26C160.82 105.17 160.76 104.91 160.97 104.78C161.34 104.55 162.03 105.03 162.24 105.18C162.54 105.39 162.74 105.61 162.86 105.76L163.81 106.1C164.14 106.22 164.39 106.5 164.48 106.85L165.67 107.74C166.21 107.82 166.43 110 166.45 110.07L166.04 112.86C166.07 112.97 166.07 113.09 166.05 113.21C165.96 113.65 165.5 113.91 165.07 113.75L161.09 112.32C160.87 112.25 160.7 112.08 160.63 111.87Z",fill:"#A27F68"}),_.createElement("path",{d:"M165.73 116.919C166.92 116.499 169.78 120.329 166.77 112.969C166.59 112.519 166.22 110.519 164.39 109.389C162.47 108.209 160.92 109.649 159.28 108.319C158.39 107.599 158.37 106.789 157.23 106.319C156.44 105.989 155.38 105.939 155.19 106.319C154.97 106.749 156.03 107.399 157.51 109.269C158.97 111.119 158.65 111.409 159.96 112.799C160.5 113.369 160.89 113.669 162.06 114.909C162.67 115.559 162.72 115.629 162.97 115.829C163.52 116.269 164.77 117.259 165.73 116.919Z",fill:"#A27F68"}),_.createElement("path",{d:"M164.84 175.06C162.1 173.45 162.32 169.37 162.74 163.63C163.81 148.91 166.33 143.51 166.66 135.95C166.88 130.9 166.17 123.59 161.64 114.5C163.73 114.28 165.81 114.06 167.9 113.83C171.82 123.37 173.58 131.57 174.46 137.43C175.59 144.99 175.69 151.82 175.7 154.41C175.73 165.07 174.28 169.57 175.37 173.41C175.42 173.6 175.65 174.22 175.34 174.79C174.3 176.7 167.91 176.86 164.84 175.06Z",fill:"#403294"}),_.createElement("path",{opacity:"0.25",d:"M2.76012 266.319H206.4C207.44 266.319 208.29 265.469 208.29 264.429C208.29 263.389 207.44 262.539 206.4 262.539H2.76012C1.72012 262.539 0.870117 263.389 0.870117 264.429C0.870117 265.469 1.72012 266.319 2.76012 266.319Z",fill:"url(#paint1_linear_1375_267)"}),_.createElement("path",{opacity:"0.25",d:"M562.86 266.319H359.22C358.18 266.319 357.33 265.469 357.33 264.429C357.33 263.389 358.18 262.539 359.22 262.539H562.86C563.9 262.539 564.75 263.389 564.75 264.429C564.75 265.469 563.9 266.319 562.86 266.319Z",fill:"url(#paint2_linear_1375_267)"}),_.createElement("path",{d:"M423.62 98.8398C454.99 98.8398 480.43 124.27 480.43 155.65V206.74C480.43 238.11 505.86 263.55 537.24 263.55H564.75",stroke:"url(#paint3_linear_1375_267)",strokeWidth:"4.4681",strokeMiterlimit:"10"}),_.createElement("path",{d:"M133.69 107.8C131.9 107.8 130.45 106.35 130.45 104.56V93.1502C130.45 91.3602 131.9 89.9102 133.69 89.9102C135.48 89.9102 136.93 91.3602 136.93 93.1502V104.57C136.92 106.35 135.48 107.8 133.69 107.8Z",fill:"#B3BAC5"}),_.createElement("path",{d:"M140.16 107.8C138.37 107.8 136.92 106.35 136.92 104.56V93.1502C136.92 91.3602 138.37 89.9102 140.16 89.9102C141.95 89.9102 143.4 91.3602 143.4 93.1502V104.57C143.4 106.35 141.95 107.8 140.16 107.8Z",fill:"#B3BAC5"}),_.createElement("path",{d:"M425.01 107.8C423.22 107.8 421.77 106.35 421.77 104.56V93.1502C421.77 91.3602 423.22 89.9102 425.01 89.9102C426.8 89.9102 428.25 91.3602 428.25 93.1502V104.57C428.25 106.35 426.8 107.8 425.01 107.8Z",fill:"#0052CC"}),_.createElement("path",{d:"M431.48 107.8C429.69 107.8 428.24 106.35 428.24 104.56V93.1502C428.24 91.3602 429.69 89.9102 431.48 89.9102C433.27 89.9102 434.72 91.3602 434.72 93.1502V104.57C434.72 106.35 433.27 107.8 431.48 107.8Z",fill:"#0052CC"}),_.createElement("path",{opacity:"0.38",d:"M285 195.54C338.307 195.54 381.52 152.327 381.52 99.02C381.52 45.7135 338.307 2.5 285 2.5C231.694 2.5 188.48 45.7135 188.48 99.02C188.48 152.327 231.694 195.54 285 195.54Z",fill:"url(#paint4_radial_1375_267)"}),_.createElement("path",{d:"M346.07 140.879H381.57C404.79 140.879 423.62 122.059 423.62 98.8293C423.62 75.6093 404.8 56.7793 381.57 56.7793H346.07V140.879Z",fill:"url(#paint5_linear_1375_267)"}),_.createElement("path",{d:"M237.09 123.26H276.41V116.82H237.09V123.26Z",fill:"url(#paint6_linear_1375_267)"}),_.createElement("path",{d:"M237.09 78.2291H276.41V71.7891H237.09V78.2291Z",fill:"url(#paint7_linear_1375_267)"}),_.createElement("path",{d:"M325.86 146.589H340.11C343.4 146.589 346.07 143.919 346.07 140.629V57.4092C346.07 54.1192 343.4 51.4492 340.11 51.4492H325.86V146.589Z",fill:"url(#paint8_linear_1375_267)"}),_.createElement("path",{d:"M219.54 140.879H184.04C160.82 140.879 141.99 122.059 141.99 98.8293C141.99 75.6093 160.81 56.7793 184.04 56.7793H219.54V140.879Z",fill:"url(#paint9_linear_1375_267)"}),_.createElement("path",{d:"M239.76 146.589H225.51C222.22 146.589 219.55 143.919 219.55 140.629V57.4092C219.55 54.1192 222.22 51.4492 225.51 51.4492H239.76V146.589Z",fill:"url(#paint10_linear_1375_267)"}),_.createElement("path",{d:"M379.21 146.581C378.91 146.001 378.4 145.181 377.56 144.401C376.28 143.221 374.91 142.761 374.18 142.581C374 142.441 373.77 142.281 373.48 142.131C373.23 142.001 372.97 141.901 372.7 141.831L370.63 141.251C370.29 141.161 370.07 140.831 370.11 140.481C370.15 140.091 370.51 139.801 370.9 139.851L379.42 140.801C380.47 140.921 381.46 140.291 381.79 139.291L382.01 138.651C382.14 138.281 382.5 138.041 382.9 138.091C383.31 138.141 383.62 138.471 383.64 138.871L383.72 140.251C383.86 142.671 383.35 145.091 382.26 147.251L379.21 146.581Z",fill:"#D4B696"}),_.createElement("path",{d:"M428.29 185.99C429.39 188.07 430.46 190.28 431.47 192.61C435.75 202.44 437.91 211.78 438.95 219.77C440.03 222.59 441.07 225.54 442.05 228.64C444.86 237.5 446.64 245.84 447.75 253.4C446.13 253.87 444.51 254.34 442.88 254.81C441.2 250.25 438.53 243.08 435.09 234.23C430.76 223.08 428.59 217.5 428.5 217.3C422.43 203.22 419.13 199.32 420.72 193.98C421.29 192.14 422.84 188.93 428.29 185.99Z",fill:"#0065FF"}),_.createElement("path",{d:"M412.72 189.539C409.67 199.159 406.62 208.789 403.57 218.409C400.84 230.159 398.1 241.909 395.37 253.659C398.3 254.449 397.22 254.159 400.15 254.939C403.08 247.829 405.94 240.299 408.66 232.359C410.04 228.319 411.33 224.339 412.52 220.439C414.74 216.039 417.2 213.029 419.05 211.089C423.68 206.239 427.59 204.829 430.28 199.479C432.31 195.449 431.64 193.159 431.46 192.609C431.32 192.189 430.95 191.419 430.21 189.889C429.46 188.319 428.81 187.039 428.38 186.189C426.55 186.889 424.48 187.559 422.18 188.119C418.67 188.989 415.46 189.379 412.72 189.539Z",fill:"url(#paint11_linear_1375_267)"}),_.createElement("path",{d:"M396.28 246.85C396.21 248.32 395.94 250.38 395.01 252.65C394.37 254.22 392.97 257.51 389.49 259.78C387.45 261.11 385.46 261.59 384.18 261.79C384.26 262.22 384.24 262.13 384.32 262.57C386.73 262.62 391.82 262.66 394.24 262.71C394.59 261.89 395.4 261.57 395.92 261.8C396.41 262.03 396.5 262.7 396.5 262.75C397.32 262.68 398.14 262.61 398.96 262.54C399.23 261.52 399.51 260.49 399.8 259.45C401 255.15 402.31 251.02 403.69 247.08C401.21 247.01 398.74 246.93 396.28 246.85Z",fill:"#344563"}),_.createElement("path",{d:"M440.03 247.221C440.92 249.251 441.84 252.641 441.92 253.771C442.06 255.691 442.18 257.271 441.21 258.681C440.55 259.641 439.65 260.141 438.15 260.971C436.98 261.621 435.94 262.021 435.21 262.261C435.3 262.651 435.28 262.571 435.37 262.961C437.57 262.901 439.76 262.831 441.96 262.771C442.52 262.751 443.09 262.731 443.65 262.711C443.66 262.661 443.77 262.191 444.22 261.991C444.67 261.791 445.08 262.031 445.17 262.081C445.49 262.261 445.62 262.541 445.67 262.651C446.19 262.691 446.78 262.721 447.42 262.691C448.09 262.671 448.7 262.601 449.24 262.521C449.09 261.461 448.94 260.401 448.78 259.341C448.69 258.741 448.53 257.681 448.29 256.131C447.73 252.481 447 247.951 446.83 246.881C444.56 247.001 442.29 247.111 440.03 247.221Z",fill:"#344563"}),_.createElement("path",{d:"M404.04 166.88C412.13 163.96 417.86 161.43 418.22 161.14C418.55 160.87 418.88 160.59 418.88 160.59C418.98 160.51 419.08 160.42 419.19 160.32C421.82 157.99 427.78 151.82 427.76 142.35C427.73 131.65 420.19 125.19 419.11 124.29C420.82 123.5 422.52 122.71 424.23 121.92C426.36 123.97 432.76 130.64 433.79 141.01C434.72 150.27 430.85 157.43 429.11 160.66C427.36 163.91 425.44 166.35 424.02 167.97C423.92 170.1 424 172.75 424.56 175.73C425.49 180.68 427.37 184.49 428.86 186.96C423.1 188.75 417.33 190.54 411.57 192.33C413.04 189.13 412.78 187.11 412.25 185.86C411.07 183.05 407.94 182.53 406.78 179.13C406.31 177.76 406.36 176.51 406.46 175.69C404.27 175.89 395.01 176.46 386.94 170C375.33 160.7 377 145.5 377.12 144.57C379.19 145.06 381.27 145.55 383.34 146.04C383.04 147.74 383.3 152.66 384.35 155.65C387.27 163.99 396.59 169.11 404.04 166.88Z",fill:"url(#paint12_linear_1375_267)"}),_.createElement("path",{d:"M406.52 152.01C406.67 152.06 406.9 152.11 407.25 152.17C408.21 152.33 408.84 152.57 409.24 152.86C410.29 153.59 409.6 155.01 410.51 157.07C410.6 157.28 410.88 157.87 411.03 158.72C411.1 159.15 411.12 159.47 411.12 159.54C411.15 160.21 411.58 161.58 413.11 164.55C412.78 164.46 412.46 164.37 412.13 164.28C411.17 163.91 410.2 163.54 409.24 163.17C407.16 161.78 406.7 161.57 406.7 160.58C406.69 159.4 406.68 157.33 406.62 157.25C405.95 156.6 405.08 156.48 405.74 155.68C406.12 155.23 406.41 154.9 406.51 154.81C406.82 154.53 407.04 153.83 406.52 152.01Z",fill:"#D4B696"}),_.createElement("path",{d:"M409.17 152.81C408.97 155.53 409.02 159.86 410.76 164.7C410.8 164.82 410.85 164.95 410.9 165.07C412.74 169.95 418.57 172.14 423.04 169.45C423.19 169.36 423.35 169.26 423.5 169.16C423.53 169.14 423.55 169.12 423.58 169.11C426.31 167.24 426.68 163.37 424.47 160.91C422.98 159.26 422 157.68 421.33 156.36C419.26 152.28 419.55 149.41 416.8 147.81C414.71 146.59 412.02 146.79 411.13 146.85C409.41 146.98 408.61 147.42 408.23 147.7C407.34 148.37 406.86 149.14 406.64 149.56C406.11 150.55 405.98 151.47 405.94 152C406.33 152.02 406.78 152.08 407.26 152.18C408.02 152.34 408.67 152.58 409.17 152.81Z",fill:"#172B4D"}),_.createElement("path",{d:"M298 24.3503L293.82 0.940321C293.72 0.390321 292.95 0.360321 292.8 0.890321L286.8 21.9503L281.93 20.5603C281.56 20.4503 281.2 20.7703 281.27 21.1503L285.45 44.5603C285.55 45.1103 286.32 45.1403 286.47 44.6103L292.47 23.5503L297.34 24.9403C297.71 25.0603 298.07 24.7303 298 24.3503Z",fill:"url(#paint13_linear_1375_267)"}),_.createElement("path",{d:"M271.23 34.4501L262.63 26.2801C262.45 26.1101 262.17 26.3001 262.26 26.5301L266.06 36.7401L263.69 37.6201C263.53 37.6801 263.49 37.8801 263.61 38.0001L272.21 46.1701C272.39 46.3401 272.67 46.1501 272.58 45.9201L268.78 35.7101L271.15 34.8301C271.31 34.7801 271.35 34.5701 271.23 34.4501Z",fill:"url(#paint14_linear_1375_267)"}),_.createElement("path",{d:"M252.19 156.739L248.63 180.259C248.55 180.809 249.26 181.089 249.58 180.639L262.02 162.619L266.18 165.499C266.5 165.719 266.94 165.529 266.99 165.149L270.55 141.629C270.63 141.079 269.92 140.799 269.6 141.249L257.16 159.269L253 156.389C252.69 156.169 252.25 156.359 252.19 156.739Z",fill:"url(#paint15_linear_1375_267)"}),_.createElement("path",{d:"M280.79 160.989L286.31 171.489C286.42 171.709 286.75 171.619 286.74 171.379L286.42 160.489L288.95 160.409C289.12 160.399 289.23 160.219 289.15 160.069L283.63 149.569C283.52 149.349 283.19 149.439 283.2 149.679L283.52 160.569L280.99 160.639C280.82 160.659 280.71 160.839 280.79 160.989Z",fill:"url(#paint16_linear_1375_267)"}),_.createElement("path",{d:"M210.22 142.149L210.26 142.049C210.88 140.389 211.84 138.869 213.09 137.609L213.57 137.119C213.8 136.879 214.17 136.829 214.46 136.989C214.83 137.199 214.96 137.679 214.73 138.039L214.35 138.639C213.96 139.259 214.44 140.049 215.17 139.989L216.22 139.909C216.41 139.889 216.6 139.889 216.79 139.889H220.09V140.009C220.09 140.589 219.94 141.149 219.65 141.649L219.85 142.479L212.52 144.559L210.22 142.149Z",fill:"#A27F68"}),_.createElement("path",{d:"M167.89 212.219C170.43 201.299 170.03 198.249 168.95 195.809C167.16 191.769 163.58 189.559 161.36 188.459C160.58 189.839 159.49 191.959 158.49 194.659C156.66 199.589 156.32 203.239 155.63 207.859C155.11 211.319 154.24 216.299 152.75 222.379C150.92 226.479 149.08 231.349 147.55 236.919C145.75 243.459 144.81 249.419 144.33 254.469C146.45 254.469 148.58 254.469 150.71 254.459C152.73 251.619 154.81 248.339 156.78 244.619C160.42 237.759 162.67 231.309 164.11 225.929C164.85 223.589 165.87 220.159 166.97 215.949C167.26 214.829 167.56 213.629 167.89 212.219Z",fill:"#6554C0"}),_.createElement("path",{d:"M176.58 191.57C179.52 198.15 181.75 203.76 183.34 207.95C186.95 217.46 187.57 220.51 187.81 221.82C188.78 227.05 188.69 231 188.5 237.33C188.37 241.83 187.97 247.87 186.83 255C184.86 255.11 182.88 255.22 180.91 255.33C179.04 250.46 177.13 243.9 176.47 235.99C176.11 231.71 176.19 227.83 176.47 224.47C173.58 221.68 170.54 218.48 167.48 214.83C165.05 211.93 162.9 209.11 161 206.41C161 206.41 156.64 199.14 158.38 195.02C158.38 195.01 158.39 194.99 158.4 194.98C158.89 193.79 159.33 192.79 159.55 192.3C160.25 190.75 160.84 189.5 161.25 188.66C163.04 189.3 165.07 189.9 167.32 190.4C170.78 191.17 173.92 191.48 176.58 191.57Z",fill:"url(#paint17_linear_1375_267)"}),_.createElement("path",{d:"M172.03 148.42C171.56 148.18 171.05 147.95 170.5 147.72C169.91 147.47 169.34 147.26 168.81 147.09C168.59 146.7 167.07 144.07 163.95 143.52C163.46 143.44 161.77 143.16 160.05 144.06C157.21 145.55 156.37 149.16 156.64 151.67C156.74 152.59 156.91 154.28 158.16 155.58C159.93 157.42 162.29 156.85 162.98 158.45C163.55 159.76 162.18 160.72 162.73 161.65C163.73 163.34 169.99 163.03 171.08 160.08C171.23 159.68 171.48 158.71 170.76 157.19C171.68 155.93 172.61 154.67 173.53 153.42C173.3 152.89 172.96 152.24 172.45 151.55C171.97 150.91 171.49 150.41 171.07 150.05C171.23 149.86 171.41 149.63 171.58 149.35C171.79 149 171.93 148.68 172.03 148.42Z",fill:"#A27F68"}),_.createElement("path",{d:"M163.94 151.95C163.79 150.89 164.25 150.56 163.88 149.91C163.46 149.16 162.68 149.28 162.15 148.38C161.99 148.12 161.68 147.58 161.84 147.09C162.25 145.82 165.44 146.23 165.81 145C165.91 144.65 165.76 144.29 165.61 144.04C165.08 143.65 164.2 143.12 163.02 142.93C160.36 142.5 157.52 144.01 156.11 146.43C154.47 149.25 155.11 152.73 156.74 154.54C157.37 155.24 158.63 156.65 160.4 156.92C160.96 157.01 161.84 157.02 162.34 157.67C162.73 158.17 162.66 158.75 162.98 158.84C163.06 158.86 163.36 158.91 164.01 158.08C164.71 157.19 165.56 156.12 165.39 154.83C165.22 153.5 164.16 153.48 163.94 151.95Z",fill:"#42526E"}),_.createElement("path",{d:"M171.78 160.529C178.49 163.269 181.57 171.049 181.57 176.839C181.57 180.219 180.53 183.109 179.64 185.569C178.42 188.949 177.51 190.789 176 192.699C171.74 198.069 159.59 197.749 157.75 193.939C157.36 193.139 157.51 192.349 157.55 192.109C159.83 178.359 156.81 163.059 163.89 159.849C166.86 158.499 170.07 159.829 171.78 160.529Z",fill:"#5243AA"}),_.createElement("path",{d:"M213.33 144.43C213.47 144.59 213.62 144.74 213.76 144.9C209.95 149.37 203.65 155.67 194.36 160.95C183.21 167.29 172.8 169.3 166.51 170.01C164.79 168.3 162.68 165.68 163.29 163.25C163.79 161.24 166.05 159.77 176.29 157.08C180.37 156.01 185.85 154.7 192.45 153.53C198.37 149.36 204.3 145.18 210.22 141.01C210.23 141.02 210.23 141.02 210.24 141.03L213.33 144.43Z",fill:"url(#paint18_linear_1375_267)"}),_.createElement("path",{d:"M416.51 117.27L420.41 121.18L421.77 118.83L417.41 116.13C417.1 115.94 416.71 116 416.47 116.27C416.23 116.56 416.24 117 416.51 117.27Z",fill:"#D4B696"}),_.createElement("path",{d:"M185.75 257.109C185.75 257.119 185.76 257.129 185.77 257.139C185.88 257.189 186.19 256.219 186.63 256.019C187.47 255.639 188.86 258.159 191.32 259.779C192.43 260.509 193.53 260.909 194.4 261.129C194.73 261.209 194.96 261.509 194.96 261.849V262.549H180.01C179.98 261.659 180.04 260.509 180.34 259.209C180.53 258.409 180.77 257.699 181.02 257.119H185.75V257.109Z",fill:"#42526E"}),_.createElement("path",{d:"M180.08 259.818C181.72 259.818 183.05 261.138 183.09 262.768C182.06 262.768 181.03 262.768 180 262.768V259.818C180.03 259.828 180.06 259.818 180.08 259.818Z",fill:"#B3BAC5"}),_.createElement("path",{d:"M148.77 257.109C148.77 257.119 148.78 257.129 148.79 257.139C148.9 257.189 149.21 256.219 149.65 256.019C150.49 255.639 151.88 258.159 154.34 259.779C155.45 260.509 156.55 260.909 157.42 261.129C157.75 261.209 157.98 261.509 157.98 261.849V262.549H143.03C143 261.659 143.06 260.509 143.36 259.209C143.55 258.409 143.79 257.699 144.04 257.119H148.77V257.109Z",fill:"#42526E"}),_.createElement("path",{d:"M143.11 259.818C144.75 259.818 146.08 261.138 146.12 262.768C145.09 262.768 144.06 262.768 143.03 262.768V259.818C143.05 259.828 143.08 259.818 143.11 259.818Z",fill:"#B3BAC5"})),_.createElement("defs",null,_.createElement("linearGradient",{id:"paint0_linear_1375_267",x1:"141.994",y1:"181.192",x2:"0.870117",y2:"181.192",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{stopColor:"#C1C7D0"}),_.createElement("stop",{offset:"1",stopColor:"#C1C7D0",stopOpacity:"0"})),_.createElement("linearGradient",{id:"paint1_linear_1375_267",x1:"208.292",y1:"264.428",x2:"0.870117",y2:"264.428",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{stopColor:"#091E42"}),_.createElement("stop",{offset:"0.8433",stopColor:"#091E42",stopOpacity:"0"})),_.createElement("linearGradient",{id:"paint2_linear_1375_267",x1:"357.327",y1:"264.428",x2:"564.748",y2:"264.428",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{stopColor:"#091E42"}),_.createElement("stop",{offset:"0.8433",stopColor:"#091E42",stopOpacity:"0"})),_.createElement("linearGradient",{id:"paint3_linear_1375_267",x1:"423.624",y1:"181.192",x2:"564.748",y2:"181.192",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{stopColor:"#0065FF"}),_.createElement("stop",{offset:"0.1724",stopColor:"#076AFF",stopOpacity:"0.8007"}),_.createElement("stop",{offset:"0.4145",stopColor:"#1976FF",stopOpacity:"0.5208"}),_.createElement("stop",{offset:"0.6966",stopColor:"#378BFF",stopOpacity:"0.1947"}),_.createElement("stop",{offset:"0.8651",stopColor:"#4C9AFF",stopOpacity:"0"})),_.createElement("radialGradient",{id:"paint4_radial_1375_267",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(285 99.0229) scale(96.5182)"},_.createElement("stop",{stopColor:"#FFF0B2"}),_.createElement("stop",{offset:"0.1584",stopColor:"#FFE587",stopOpacity:"0.8416"}),_.createElement("stop",{offset:"0.3589",stopColor:"#FFDA57",stopOpacity:"0.6411"}),_.createElement("stop",{offset:"0.5498",stopColor:"#FFD031",stopOpacity:"0.4502"}),_.createElement("stop",{offset:"0.7256",stopColor:"#FFC916",stopOpacity:"0.2744"}),_.createElement("stop",{offset:"0.8811",stopColor:"#FFC506",stopOpacity:"0.1189"}),_.createElement("stop",{offset:"1",stopColor:"#FFC400",stopOpacity:"0"})),_.createElement("linearGradient",{id:"paint5_linear_1375_267",x1:"346.074",y1:"98.8386",x2:"423.624",y2:"98.8386",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{stopColor:"#0052CC"}),_.createElement("stop",{offset:"1",stopColor:"#2684FF"})),_.createElement("linearGradient",{id:"paint6_linear_1375_267",x1:"237.087",y1:"120.044",x2:"276.412",y2:"120.044",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{stopColor:"#7A869A"}),_.createElement("stop",{offset:"1",stopColor:"#DFE1E5"})),_.createElement("linearGradient",{id:"paint7_linear_1375_267",x1:"237.087",y1:"75.0106",x2:"276.412",y2:"75.0106",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{stopColor:"#7A869A"}),_.createElement("stop",{offset:"1",stopColor:"#DFE1E5"})),_.createElement("linearGradient",{id:"paint8_linear_1375_267",x1:"335.969",y1:"146.593",x2:"335.969",y2:"51.4514",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{stopColor:"#2684FF"}),_.createElement("stop",{offset:"1",stopColor:"#B2D4FF"})),_.createElement("linearGradient",{id:"paint9_linear_1375_267",x1:"219.544",y1:"98.8386",x2:"141.994",y2:"98.8386",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{stopColor:"#7A869A"}),_.createElement("stop",{offset:"1",stopColor:"#EBECF0"})),_.createElement("linearGradient",{id:"paint10_linear_1375_267",x1:"229.65",y1:"146.593",x2:"229.65",y2:"51.4514",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{stopColor:"#C1C7D0"}),_.createElement("stop",{offset:"1",stopColor:"#F4F5F7"})),_.createElement("linearGradient",{id:"paint11_linear_1375_267",x1:"402.858",y1:"216.64",x2:"421.684",y2:"223.492",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{stopColor:"#4C9AFF"}),_.createElement("stop",{offset:"0.8134",stopColor:"#0065FF"}),_.createElement("stop",{offset:"0.8713",stopColor:"#0065FF"})),_.createElement("linearGradient",{id:"paint12_linear_1375_267",x1:"376.968",y1:"157.139",x2:"433.936",y2:"157.139",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{stopColor:"#B2D4FF"}),_.createElement("stop",{offset:"1",stopColor:"#2684FF"})),_.createElement("linearGradient",{id:"paint13_linear_1375_267",x1:"289.638",y1:"45.0027",x2:"289.638",y2:"0.510323",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{stopColor:"#FFF0B2"}),_.createElement("stop",{offset:"1",stopColor:"#FFC400"})),_.createElement("linearGradient",{id:"paint14_linear_1375_267",x1:"262.238",y1:"36.2259",x2:"272.592",y2:"36.2259",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{stopColor:"#FFC400"}),_.createElement("stop",{offset:"1",stopColor:"#FFF0B2"})),_.createElement("linearGradient",{id:"paint15_linear_1375_267",x1:"259.6",y1:"180.859",x2:"259.6",y2:"141.017",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{stopColor:"#FFC400"}),_.createElement("stop",{offset:"1",stopColor:"#FFF0B2"})),_.createElement("linearGradient",{id:"paint16_linear_1375_267",x1:"284.971",y1:"171.613",x2:"284.971",y2:"149.45",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{stopColor:"#FFC400"}),_.createElement("stop",{offset:"1",stopColor:"#FFF0B2"})),_.createElement("linearGradient",{id:"paint17_linear_1375_267",x1:"157.982",y1:"221.995",x2:"188.627",y2:"221.995",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{offset:"0.3435",stopColor:"#6554C0"}),_.createElement("stop",{offset:"1",stopColor:"#998DD9"})),_.createElement("linearGradient",{id:"paint18_linear_1375_267",x1:"163.185",y1:"155.517",x2:"213.758",y2:"155.517",gradientUnits:"userSpaceOnUse"},_.createElement("stop",{stopColor:"#5243AA"}),_.createElement("stop",{offset:"1",stopColor:"#8777D9"})),_.createElement("clipPath",{id:"clip0_1375_267"},_.createElement("rect",{width:"563.88",height:"265.81",fill:"white",transform:"translate(0.870117 0.509766)"})))),XQe=({analytics:e,context:t,extensionKey:n,isProductIntegrationSupported:r,onAuthorize:o,testId:a="embed-card-unauthorized-view",...s})=>{var i;const l=c.useCallback(()=>{o&&(e.track.appAccountAuthStarted({extensionKey:n}),o())},[o,e.track,n]),d=c.useMemo(()=>{if(o){var u;const p={context:(u=t==null?void 0:t.text)!==null&&u!==void 0?u:""};if(p)return{title:_.createElement(Ue,H({},Se.connect_link_account_card_name,{values:p})),description:_.createElement(SA,{analytics:e,providerName:t==null?void 0:t.text,isProductIntegrationSupported:r,testId:a}),button:_.createElement(ht,{testId:"connect-account",appearance:"primary",onClick:l},_.createElement(Ue,H({},Se.connect_unauthorised_account_action,{values:p})))}}const f=t!=null&&t.text?{context:t==null?void 0:t.text}:void 0;return f?{title:_.createElement(Ue,H({},Se.unauthorised_account_name,{values:f})),description:_.createElement(Ue,H({},Se.unauthorised_account_description,{values:f}))}:{title:_.createElement(Ue,Se.unauthorised_account_name_no_provider),description:_.createElement(Ue,Se.unauthorised_account_description_no_provider)}},[e,t==null?void 0:t.text,l,r,o,a]);return _.createElement(RA,H({},s,d,{icon:t==null?void 0:t.icon,image:(i=t==null?void 0:t.image)!==null&&i!==void 0?i:_.createElement(KQe,null),testId:a,text:t==null?void 0:t.text}))},JQe=_.forwardRef(({url:e,cardState:{status:t,details:n},handleAuthorize:r,handleErrorRetry:o,handleFrameClick:a,analytics:s,handleInvoke:i,isSelected:l,frameStyle:d,platform:u,onResolve:f,onError:p,testId:m,inheritDimensions:g,onIframeDwell:v,onIframeFocus:b,iframeUrlType:y,actionOptions:E},w)=>{var C,x,S,I,A;const{createAnalyticsEvent:T}=Kn(),O=n&&n.data||Ay(),D=n&&n.meta,$=ga(n),L=V4(n);switch(t){case"pending":case"resolving":return _.createElement(Oee,{testId:"embed-card-resolving-view",inheritDimensions:g,isSelected:l});case"resolved":const B=v0(O,D,u,y);if(f){var F;f({title:B.title,url:e,aspectRatio:(F=B.preview)===null||F===void 0?void 0:F.aspectRatio})}if(B.preview)return _.createElement(D7,H({},B,{isSelected:l,frameStyle:d,inheritDimensions:g,onClick:a,ref:w,onIframeDwell:v,onIframeFocus:b,testId:m}));{if(u==="mobile"){const Z=lte(O);return _.createElement(bte,H({},Z,{isSelected:l,testId:m,onClick:a}))}const j=Kf(O,D,{analytics:s,origin:"smartLinkEmbed",handleInvoke:i,extensionKey:$,actionOptions:E});return _.createElement(jee,H({},j,{isSelected:l,testId:m,onClick:a}))}case"unauthorized":p&&p({url:e,status:t});const V=v0(O,D,u);return _.createElement(XQe,{analytics:s,context:V.context,extensionKey:$,frameStyle:d,isProductIntegrationSupported:L,inheritDimensions:g,isSelected:l,onAuthorize:r,onClick:a,testId:m,url:V.link});case"forbidden":p&&p({url:e,status:t});const Y=v0(O,D,u),J=(C=n==null?void 0:n.meta)!==null&&C!==void 0?C:zh().meta;if(Y.preview)return _.createElement(D7,H({},Y,{title:Y.link,frameStyle:d,isSelected:l,inheritDimensions:g,onClick:a,ref:w}));const z=nc({jsonLd:J,url:e,product:(x=(S=Y.context)===null||S===void 0?void 0:S.text)!==null&&x!==void 0?x:"",createAnalyticsEvent:T});return _.createElement(GQe,{context:Y.context,frameStyle:d,inheritDimensions:g,isSelected:l,onAuthorize:r,onClick:a,accessContext:z,url:Y.link});case"not_found":p&&p({url:e,status:t});const ce=v0(O,D,u),le=n!=null&&n.meta?nc({jsonLd:n==null?void 0:n.meta,url:e,product:(I=(A=ce.context)===null||A===void 0?void 0:A.text)!==null&&I!==void 0?I:"",createAnalyticsEvent:T}):void 0;return _.createElement(YQe,{context:ce.context,frameStyle:d,inheritDimensions:g,isSelected:l,onClick:a,accessContext:le,url:ce.link});case"fallback":case"errored":default:return p&&p({url:e,status:t}),_.createElement(VQe,{onRetry:o,inheritDimensions:g,isSelected:l})}});function ZQe({id:e,url:t,isSelected:n,isHovered:r,isFrameVisible:o,frameStyle:a,platform:s,onClick:i,appearance:l,dispatchAnalytics:d,onResolve:u,onError:f,testId:p,actionOptions:m,inheritDimensions:g,embedIframeRef:v,embedIframeUrlType:b,inlinePreloaderStyle:y,ui:E,children:w,showHoverPreview:C,hoverPreviewOptions:x,showAuthTooltip:S,analyticsEvents:I,useLegacyBlockCard:A,removeTextHighlightingFromTitle:T,resolvingPlaceholder:O,truncateInline:D}){const{createAnalyticsEvent:$}=Kn(),{state:L,actions:F,analytics:B,config:V,renderers:Y,error:J}=HLe(e,t,d),z=I||B,ce=pb(L.details),le=ga(L.details),j=lX(L.details),Z=cX(L.details),K=dX(L.details),oe=j4(L.details),X=uX(L.details);let pe=c.useMemo(()=>xee(w),[w]);const ee=Qee({actionOptions:m,platform:s}),ne=$Le(a,o),Q=c.useCallback(N=>{const R=NX(N);if(z.ui.cardClickedEvent({id:e,display:pe?Ls.Flexible:l,status:L.status,definitionId:ce,extensionKey:le,isModifierKeyPressed:R,destinationProduct:Z,destinationSubproduct:K}),!i&&!pe){const P=I8e(t,L.details);window.open(P,"_blank"),cm($)(N,{attributes:{clickOutcome:"clickThroughNewTabOrWindow"}})}else i&&i(N),cm($)(N)},[e,t,L.details,L.status,z.ui,l,ce,le,i,pe,Z,K,$]),se=c.useCallback(()=>F.authorize(l),[F,l]),ue=c.useCallback(()=>{F.reload()},[F]),ve=c.useCallback(N=>F.invoke(N,l),[F,l]);c.useEffect(()=>{if(q0(e,L.status),L.status!=="pending"&&L.status!=="resolving"){var N;UPe(e,L.status),z.operational.instrument({id:e,status:L.status,definitionId:ce,extensionKey:le??((N=L.error)===null||N===void 0?void 0:N.extensionKey),resourceType:j,error:L.error})}},[e,l,L.status,L.error,ce,le,j,z.operational]),c.useEffect(()=>{A8e(L.status)&&z.ui.renderSuccessEvent({display:pe?"flexible":l,status:L.status,id:e,definitionId:ce,extensionKey:le,canBeDatasource:X})},[pe,l,L.status,t,ce,le,z.ui,e,X]);const ke=c.useCallback((N,R)=>{z.ui.iframeDwelledEvent({id:e,display:pe?"flexible":l,status:L.status,definitionId:ce,extensionKey:le,destinationProduct:Z,destinationSubproduct:K,dwellTime:N,dwellPercentVisible:R})},[e,L.status,z.ui,l,ce,le,pe,Z,K]),ge=c.useCallback(()=>{z.ui.iframeFocusedEvent({id:e,display:pe?"flexible":l,status:L.status,definitionId:ce,extensionKey:le,destinationProduct:Z,destinationSubproduct:K})},[e,L.status,z.ui,l,ce,le,pe,Z,K]);if(pe){let N=L;if(J)if((J==null?void 0:J.name)==="APIError")N={status:"errored"};else throw J;return _.createElement(Zu,{id:e,cardState:N,onAuthorize:oe.length&&se||void 0,onClick:Q,renderers:Y,ui:E,showHoverPreview:C,hoverPreviewOptions:x,showAuthTooltip:S,actionOptions:ee,url:t,testId:p,onResolve:u,onError:f,analytics:z},w)}if(J)throw J;switch(l){case"inline":return _.createElement(DQe,{analytics:z,id:e,url:t,renderers:Y,cardState:L,handleAuthorize:oe.length&&se||void 0,handleFrameClick:Q,isSelected:n,isHovered:r,onResolve:u,onError:f,testId:p,inlinePreloaderStyle:y,showHoverPreview:C,hoverPreviewOptions:x,showAuthTooltip:S,actionOptions:ee,removeTextHighlightingFromTitle:T,resolvingPlaceholder:O,truncateInline:D});case"block":return _.createElement(aQe,{id:e,url:t,renderers:Y,authFlow:V&&V.authFlow,cardState:L,handleAuthorize:oe.length&&se||void 0,handleErrorRetry:ue,handleInvoke:ve,handleFrameClick:Q,analytics:z,isSelected:n,onResolve:u,onError:f,testId:p,actionOptions:ee,platform:s,enableFlexibleBlockCard:A!==!0});case"embed":return _.createElement(JQe,{id:e,url:t,cardState:L,iframeUrlType:b,handleAuthorize:oe.length&&se||void 0,handleErrorRetry:ue,handleFrameClick:Q,handleInvoke:ve,analytics:z,isSelected:n,frameStyle:ne,platform:s,onResolve:u,onError:f,testId:p,inheritDimensions:g,actionOptions:ee,ref:v,onIframeDwell:ke,onIframeFocus:ge})}}const QQe=e=>{const t=xee(e.children)?Ls.Flexible:e.appearance;return _.createElement(MX,null,_.createElement(Zee,{url:e.url,id:e.id,display:t},_.createElement(ZQe,e)))},eet=e=>{const[t]=c.useState(()=>{var r;return(r=e.id)!==null&&r!==void 0?r:tk()}),n={...e,id:t};return _.createElement($u,{data:Tt},_.createElement(wy,{FallbackComponent:()=>_.createElement(rNe,n)},_.createElement(QQe,n)))};var Po={VITE_SHOULD_THROW_ON_INVARIANTS:"false",VITE_CANVAS_RELAY_URL:"https://canvas-workers.atlassian.com",VITE_CANVAS_RELAY_WSS_URL:"wss://canvas-workers.atlassian.com",VITE_SHORT_COMMIT_HASH:"79b5d4",VITE_USER_NODE_ENV:"production",SENTRY_DSN:"https://c539b3edb4ba4437b37ac70f1d1a088a@o55978.ingest.sentry.io/4505121292484608",SENTRY_ENV:"prod",SENTRY_RELEASE:"dev",ENVTYPE:"prod",BUILD_MODE:"prod-east"};function ja(){return(ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var M7=function(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n},Jx=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!Xb.typeOf(e)},xb=Object.freeze([]),Pi=Object.freeze({});function um(e){return typeof e=="function"}function $7(e){return e.displayName||e.name||"Component"}function PA(e){return e&&typeof e.styledComponentId=="string"}var ou=typeof process<"u"&&Po!==void 0&&(Po.REACT_APP_SC_ATTR||Po.SC_ATTR)||"data-styled",LA=typeof window<"u"&&"HTMLElement"in window,tet=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Po!==void 0&&(Po.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Po.REACT_APP_SC_DISABLE_SPEEDY!==""?Po.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Po.REACT_APP_SC_DISABLE_SPEEDY:Po.SC_DISABLE_SPEEDY!==void 0&&Po.SC_DISABLE_SPEEDY!==""&&Po.SC_DISABLE_SPEEDY!=="false"&&Po.SC_DISABLE_SPEEDY)),net={};function fg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var ret=function(){function e(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=e.prototype;return t.indexOfGroup=function(n){for(var r=0,o=0;o<n;o++)r+=this.groupSizes[o];return r},t.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var o=this.groupSizes,a=o.length,s=a;n>=s;)(s<<=1)<0&&fg(16,""+n);this.groupSizes=new Uint32Array(s),this.groupSizes.set(o),this.length=s;for(var i=a;i<s;i++)this.groupSizes[i]=0}for(var l=this.indexOfGroup(n+1),d=0,u=r.length;d<u;d++)this.tag.insertRule(l,r[d])&&(this.groupSizes[n]++,l++)},t.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],o=this.indexOfGroup(n),a=o+r;this.groupSizes[n]=0;for(var s=o;s<a;s++)this.tag.deleteRule(o)}},t.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var o=this.groupSizes[n],a=this.indexOfGroup(n),s=a+o,i=a;i<s;i++)r+=this.tag.getRule(i)+`/*!sc*/
`;return r},e}(),K0=new Map,Sb=new Map,xp=1,b0=function(e){if(K0.has(e))return K0.get(e);for(;Sb.has(xp);)xp++;var t=xp++;return K0.set(e,t),Sb.set(t,e),t},oet=function(e){return Sb.get(e)},aet=function(e,t){t>=xp&&(xp=t+1),K0.set(e,t),Sb.set(t,e)},set="style["+ou+'][data-styled-version="5.3.11"]',iet=new RegExp("^"+ou+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),cet=function(e,t,n){for(var r,o=n.split(","),a=0,s=o.length;a<s;a++)(r=o[a])&&e.registerName(t,r)},det=function(e,t){for(var n=(t.textContent||"").split(`/*!sc*/
`),r=[],o=0,a=n.length;o<a;o++){var s=n[o].trim();if(s){var i=s.match(iet);if(i){var l=0|parseInt(i[1],10),d=i[2];l!==0&&(aet(d,l),cet(e,d,i[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(s)}}},uet=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},Ete=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(i){for(var l=i.childNodes,d=l.length;d>=0;d--){var u=l[d];if(u&&u.nodeType===1&&u.hasAttribute(ou))return u}}(n),a=o!==void 0?o.nextSibling:null;r.setAttribute(ou,"active"),r.setAttribute("data-styled-version","5.3.11");var s=uet();return s&&r.setAttribute("nonce",s),n.insertBefore(r,a),r},fet=function(){function e(n){var r=this.element=Ete(n);r.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var a=document.styleSheets,s=0,i=a.length;s<i;s++){var l=a[s];if(l.ownerNode===o)return l}fg(17)}(r),this.length=0}var t=e.prototype;return t.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var r=this.sheet.cssRules[n];return r!==void 0&&typeof r.cssText=="string"?r.cssText:""},e}(),pet=function(){function e(n){var r=this.element=Ete(n);this.nodes=r.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(n,r){if(n<=this.length&&n>=0){var o=document.createTextNode(r),a=this.nodes[n];return this.element.insertBefore(o,a||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},e}(),met=function(){function e(n){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},e}(),R7=LA,het={isServer:!LA,useCSSOMInjection:!tet},kb=function(){function e(n,r,o){n===void 0&&(n=Pi),r===void 0&&(r={}),this.options=ja({},het,{},n),this.gs=r,this.names=new Map(o),this.server=!!n.isServer,!this.server&&LA&&R7&&(R7=!1,function(a){for(var s=document.querySelectorAll(set),i=0,l=s.length;i<l;i++){var d=s[i];d&&d.getAttribute(ou)!=="active"&&(det(a,d),d.parentNode&&d.parentNode.removeChild(d))}}(this))}e.registerId=function(n){return b0(n)};var t=e.prototype;return t.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new e(ja({},this.options,{},n),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(o=(r=this.options).isServer,a=r.useCSSOMInjection,s=r.target,n=o?new met(s):a?new fet(s):new pet(s),new ret(n)));var n,r,o,a,s},t.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},t.registerName=function(n,r){if(b0(n),this.names.has(n))this.names.get(n).add(r);else{var o=new Set;o.add(r),this.names.set(n,o)}},t.insertRules=function(n,r,o){this.registerName(n,r),this.getTag().insertRules(b0(n),o)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(b0(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var r=n.getTag(),o=r.length,a="",s=0;s<o;s++){var i=oet(s);if(i!==void 0){var l=n.names.get(i),d=r.getGroup(s);if(l&&d&&l.size){var u=ou+".g"+s+'[id="'+i+'"]',f="";l!==void 0&&l.forEach(function(p){p.length>0&&(f+=p+",")}),a+=""+d+u+'{content:"'+f+`"}/*!sc*/
`}}}return a}(this)},e}(),get=/(a)(d)/gi,P7=function(e){return String.fromCharCode(e+(e>25?39:97))};function Zx(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=P7(t%52)+n;return(P7(t%52)+n).replace(get,"$1-$2")}var bd=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},wte=function(e){return bd(5381,e)};function Cte(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(um(n)&&!PA(n))return!1}return!0}var vet=wte("5.3.11"),bet=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Cte(t),this.componentId=n,this.baseHash=bd(vet,n),this.baseStyle=r,kb.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.componentId,a=[];if(this.baseStyle&&a.push(this.baseStyle.generateAndInjectStyles(t,n,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(o,this.staticRulesId))a.push(this.staticRulesId);else{var s=rc(this.rules,t,n,r).join(""),i=Zx(bd(this.baseHash,s)>>>0);if(!n.hasNameForId(o,i)){var l=r(s,"."+i,void 0,o);n.insertRules(o,i,l)}a.push(i),this.staticRulesId=i}else{for(var d=this.rules.length,u=bd(this.baseHash,r.hash),f="",p=0;p<d;p++){var m=this.rules[p];if(typeof m=="string")f+=m;else if(m){var g=rc(m,t,n,r),v=Array.isArray(g)?g.join(""):g;u=bd(u,v+p),f+=v}}if(f){var b=Zx(u>>>0);if(!n.hasNameForId(o,b)){var y=r(f,"."+b,void 0,o);n.insertRules(o,b,y)}a.push(b)}}return a.join(" ")},e}(),yet=/^\s*\/\/.*$/gm,Eet=[":","[",".","#"];function wet(e){var t,n,r,o,a=Pi,s=a.options,i=s===void 0?Pi:s,l=a.plugins,d=l===void 0?xb:l,u=new dq(i),f=[],p=function(v){function b(y){if(y)try{v(y+"}")}catch{}}return function(y,E,w,C,x,S,I,A,T,O){switch(y){case 1:if(T===0&&E.charCodeAt(0)===64)return v(E+";"),"";break;case 2:if(A===0)return E+"/*|*/";break;case 3:switch(A){case 102:case 112:return v(w[0]+E),"";default:return E+(O===0?"/*|*/":"")}case-2:E.split("/*|*/}").forEach(b)}}}(function(v){f.push(v)}),m=function(v,b,y){return b===0&&Eet.indexOf(y[n.length])!==-1||y.match(o)?v:"."+t};function g(v,b,y,E){E===void 0&&(E="&");var w=v.replace(yet,""),C=b&&y?y+" "+b+" { "+w+" }":w;return t=E,n=b,r=new RegExp("\\"+n+"\\b","g"),o=new RegExp("(\\"+n+"\\b){2,}"),u(y||!b?"":b,C)}return u.use([].concat(d,[function(v,b,y){v===2&&y.length&&y[0].lastIndexOf(n)>0&&(y[0]=y[0].replace(r,m))},p,function(v){if(v===-2){var b=f;return f=[],b}}])),g.hash=d.length?d.reduce(function(v,b){return b.name||fg(15),bd(v,b.name)},5381).toString():"",g}var _te=_.createContext();_te.Consumer;var xte=_.createContext(),Cet=(xte.Consumer,new kb),Qx=wet();function Ste(){return c.useContext(_te)||Cet}function kte(){return c.useContext(xte)||Qx}var _et=function(){function e(t,n){var r=this;this.inject=function(o,a){a===void 0&&(a=Qx);var s=r.name+a.hash;o.hasNameForId(r.id,s)||o.insertRules(r.id,s,a(r.rules,s,"@keyframes"))},this.toString=function(){return fg(12,String(r.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return e.prototype.getName=function(t){return t===void 0&&(t=Qx),this.name+t.hash},e}(),xet=/([A-Z])/,ket=/([A-Z])/g,Iet=/^ms-/,Tet=function(e){return"-"+e.toLowerCase()};function L7(e){return xet.test(e)?e.replace(ket,Tet).replace(Iet,"-ms-"):e}var N7=function(e){return e==null||e===!1||e===""};function rc(e,t,n,r){if(Array.isArray(e)){for(var o,a=[],s=0,i=e.length;s<i;s+=1)(o=rc(e[s],t,n,r))!==""&&(Array.isArray(o)?a.push.apply(a,o):a.push(o));return a}if(N7(e))return"";if(PA(e))return"."+e.styledComponentId;if(um(e)){if(typeof(d=e)!="function"||d.prototype&&d.prototype.isReactComponent||!t)return e;var l=e(t);return rc(l,t,n,r)}var d;return e instanceof _et?n?(e.inject(n,r),e.getName(r)):e:Jx(e)?function u(f,p){var m,g,v=[];for(var b in f)f.hasOwnProperty(b)&&!N7(f[b])&&(Array.isArray(f[b])&&f[b].isCss||um(f[b])?v.push(L7(b)+":",f[b],";"):Jx(f[b])?v.push.apply(v,u(f[b],b)):v.push(L7(b)+": "+(m=b,(g=f[b])==null||typeof g=="boolean"||g===""?"":typeof g!="number"||g===0||m in uq||m.startsWith("--")?String(g).trim():g+"px")+";"));return p?[p+" {"].concat(v,["}"]):v}(e):e.toString()}var F7=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function un(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return um(e)||Jx(e)?F7(rc(M7(xb,[e].concat(n)))):n.length===0&&e.length===1&&typeof e[0]=="string"?e:F7(rc(M7(e,n)))}var Ite=function(e,t,n){return n===void 0&&(n=Pi),e.theme!==n.theme&&e.theme||t||n.theme},Aet=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Det=/(^-|-$)/g;function sC(e){return e.replace(Aet,"-").replace(Det,"")}var Tte=function(e){return Zx(wte(e)>>>0)};function y0(e){return typeof e=="string"&&!0}var eS=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},Oet=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"};function Met(e,t,n){var r=e[n];eS(t)&&eS(r)?Ate(r,t):e[n]=t}function Ate(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0,a=n;o<a.length;o++){var s=a[o];if(eS(s))for(var i in s)Oet(i)&&Met(e,s[i],i)}return e}var NA=_.createContext();NA.Consumer;var iC={};function Dte(e,t,n){var r=PA(e),o=!y0(e),a=t.attrs,s=a===void 0?xb:a,i=t.componentId,l=i===void 0?function(E,w){var C=typeof E!="string"?"sc":sC(E);iC[C]=(iC[C]||0)+1;var x=C+"-"+Tte("5.3.11"+C+iC[C]);return w?w+"-"+x:x}(t.displayName,t.parentComponentId):i,d=t.displayName,u=d===void 0?function(E){return y0(E)?"styled."+E:"Styled("+$7(E)+")"}(e):d,f=t.displayName&&t.componentId?sC(t.displayName)+"-"+t.componentId:t.componentId||l,p=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,m=t.shouldForwardProp;r&&e.shouldForwardProp&&(m=t.shouldForwardProp?function(E,w,C){return e.shouldForwardProp(E,w,C)&&t.shouldForwardProp(E,w,C)}:e.shouldForwardProp);var g,v=new bet(n,f,r?e.componentStyle:void 0),b=v.isStatic&&s.length===0,y=function(E,w){return function(C,x,S,I){var A=C.attrs,T=C.componentStyle,O=C.defaultProps,D=C.foldedComponentIds,$=C.shouldForwardProp,L=C.styledComponentId,F=C.target,B=function(oe,X,pe){oe===void 0&&(oe=Pi);var ee=ja({},X,{theme:oe}),ne={};return pe.forEach(function(Q){var se,ue,ve,ke=Q;for(se in um(ke)&&(ke=ke(ee)),ke)ee[se]=ne[se]=se==="className"?(ue=ne[se],ve=ke[se],ue&&ve?ue+" "+ve:ue||ve):ke[se]}),[ee,ne]}(Ite(x,c.useContext(NA),O)||Pi,x,A),V=B[0],Y=B[1],J=function(oe,X,pe,ee){var ne=Ste(),Q=kte(),se=X?oe.generateAndInjectStyles(Pi,ne,Q):oe.generateAndInjectStyles(pe,ne,Q);return se}(T,I,V),z=S,ce=Y.$as||x.$as||Y.as||x.as||F,le=y0(ce),j=Y!==x?ja({},x,{},Y):x,Z={};for(var K in j)K[0]!=="$"&&K!=="as"&&(K==="forwardedAs"?Z.as=j[K]:($?$(K,Yp,ce):!le||Yp(K))&&(Z[K]=j[K]));return x.style&&Y.style!==x.style&&(Z.style=ja({},x.style,{},Y.style)),Z.className=Array.prototype.concat(D,L,J!==L?J:null,x.className,Y.className).filter(Boolean).join(" "),Z.ref=z,c.createElement(ce,Z)}(g,E,w,b)};return y.displayName=u,(g=_.forwardRef(y)).attrs=p,g.componentStyle=v,g.displayName=u,g.shouldForwardProp=m,g.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):xb,g.styledComponentId=f,g.target=r?e.target:e,g.withComponent=function(E){var w=t.componentId,C=function(S,I){if(S==null)return{};var A,T,O={},D=Object.keys(S);for(T=0;T<D.length;T++)A=D[T],I.indexOf(A)>=0||(O[A]=S[A]);return O}(t,["componentId"]),x=w&&w+"-"+(y0(E)?E:sC($7(E)));return Dte(E,ja({},C,{attrs:p,componentId:x}),n)},Object.defineProperty(g,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(E){this._foldedDefaultProps=r?Ate({},e.defaultProps,E):E}}),Object.defineProperty(g,"toString",{value:function(){return"."+g.styledComponentId}}),o&&sF(g,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),g}var Le=function(e){return function t(n,r,o){if(o===void 0&&(o=Pi),!Xb.isValidElementType(r))return fg(1,String(r));var a=function(){return n(r,o,un.apply(void 0,arguments))};return a.withConfig=function(s){return t(n,r,ja({},o,{},s))},a.attrs=function(s){return t(n,r,ja({},o,{attrs:Array.prototype.concat(o.attrs,s).filter(Boolean)}))},a}(Dte,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){Le[e]=Le(e)});var $et=function(){function e(n,r){this.rules=n,this.componentId=r,this.isStatic=Cte(n),kb.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(n,r,o,a){var s=a(rc(this.rules,r,o,a).join(""),""),i=this.componentId+n;o.insertRules(i,i,s)},t.removeStyles=function(n,r){r.clearRules(this.componentId+n)},t.renderStyles=function(n,r,o,a){n>2&&kb.registerId(this.componentId+n),this.removeStyles(n,o),this.createStyles(n,r,o,a)},e}();function Ret(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=un.apply(void 0,[e].concat(n)),a="sc-global-"+Tte(JSON.stringify(o)),s=new $et(o,a);function i(d){var u=Ste(),f=kte(),p=c.useContext(NA),m=c.useRef(u.allocateGSInstance(a)).current;return u.server&&l(m,d,u,p,f),c.useLayoutEffect(function(){if(!u.server)return l(m,d,u,p,f),function(){return s.removeStyles(m,u)}},[m,d,u,p,f]),null}function l(d,u,f,p,m){if(s.isStatic)s.renderStyles(d,net,f,m);else{var g=ja({},u,{theme:Ite(u,p,i.defaultProps)});s.renderStyles(d,g,f,m)}}return _.memo(i)}var j7={VITE_SHOULD_THROW_ON_INVARIANTS:"false",VITE_CANVAS_RELAY_URL:"https://canvas-workers.atlassian.com",VITE_CANVAS_RELAY_WSS_URL:"wss://canvas-workers.atlassian.com",VITE_SHORT_COMMIT_HASH:"79b5d4",VITE_USER_NODE_ENV:"production",SENTRY_DSN:"https://c539b3edb4ba4437b37ac70f1d1a088a@o55978.ingest.sentry.io/4505121292484608",SENTRY_ENV:"prod",SENTRY_RELEASE:"dev",ENVTYPE:"prod",BUILD_MODE:"prod-east"};const lC=e=>{if(j7.MODE==="test"||j7.MODE==="ddev"||PV())return e},Tf=Le.span.attrs(e=>({"data-testid":e.testId})).withConfig({displayName:"AbstractLink__Wrapper",componentId:"sc-aqmrnt-0"})(["display:inline-flex;align-items:center;max-width:100%;box-sizing:border-box;padding:1px 3px;margin:-1px 2px;white-space:nowrap;"," > *{display:inline-flex;align-items:center;}> .iconBefore{margin-right:4px;flex-shrink:0;}> .text{display:inline-block;overflow:hidden;text-overflow:ellipsis;}> .iconAfter{margin-left:4px;flex-shrink:0;}"],e=>e.as==="a"&&un(["border-radius:",";border:1px solid ",";:hover{border-color:",";text-decoration:none;}"],U("border.radius.100","4px"),U("color.border",Ut),U("color.border.accent.blue",Vo))),Pet=e=>{try{return new URL(e),!0}catch{return!1}},Gi=({href:e,noFocus:t,onClick:n,onFocus:r,children:o,iconBefore:a,iconAfter:s,noResolve:i,useSmartLink:l})=>{const d=h.jsxs(h.Fragment,{children:[a&&h.jsx("span",{className:"iconBefore",children:a}),h.jsx("span",{className:"text",children:o}),s&&h.jsx("span",{className:"iconAfter",children:s})]}),u=h.jsx(Tf,{testId:lC("databases.components.content-link.abstract-link.fallback"),as:"a",href:e,target:"_blank",rel:"noopener noreferrer",onClick:n,onFocus:r,tabIndex:t?-1:void 0,children:h.jsx("span",{className:"text",children:e})});return e?l?!Pet(e)||i?u:h.jsx(c.Suspense,{fallback:h.jsx(Tf,{children:d}),children:h.jsx(_7,{url:e,children:h.jsx(eet,{onClick:f=>{f.preventDefault(),window.open(e,"_blank","noopener, noreferrer")},appearance:"inline",showAuthTooltip:!0,url:e,fallbackComponent:()=>u,truncateInline:!0})})}):h.jsx(c.Suspense,{fallback:h.jsx(Tf,{children:d}),children:h.jsx(_7,{url:e,children:h.jsx(Tf,{testId:lC("databases.components.content-link.abstract-link.lazy-smart-hover-card-no-smart-link"),as:"a",href:e,target:"_blank",rel:"noopener noreferrer",onClick:n,onFocus:r,tabIndex:t?-1:void 0,children:d})})}):h.jsx(Tf,{testId:lC("databases.components.content-link.abstract-link.wrapper"),children:d})},FA=({message:e})=>{const{formatMessage:t}=Ee();return h.jsx(Gi,{iconBefore:h.jsx(Us,{color:U("color.icon.danger","#C9372C"),label:""}),children:h.jsx(Gt,{color:"color.text.danger",children:e??t(G["broken-link.broken-link-text"])})})};class Let{constructor(t){this.flagsManager=t}handle(){this.flagsManager.clearFlags()}}class Net{constructor(t){this.closeSidePanel=t}handle(){this.closeSidePanel()}}class Fet{constructor(t){this.eventBus=t}handle(t){t.payload.newContentId!==t.payload.oldContentId&&this.eventBus.dispatch(new Cv)}}class jet{constructor(t){this.rebuilder=t}handle(t){this.rebuilder(t.payload)}}const ds=new Promise(e=>{globalThis.window.databaseBridge?e(globalThis.window.databaseBridge):(globalThis.window.addEventListener("load",()=>{globalThis.window.databaseBridge&&e(globalThis.window.databaseBridge)}),globalThis.window.addEventListener("message",t=>{if(t.source===globalThis.window.parent){const n=t.data;if(n&&n.type==="bridge-ready"){if(!globalThis.window.databaseBridge)throw new Error("bridge marked as ready but no bridge exists");e(globalThis.window.databaseBridge)}}}))}),iE=async()=>{var e,t,n;if(du())return await ds;if(Xr())return Promise.resolve({onboardingService:{onOnboardingChange:()=>{}},updateBoardStatus:()=>{},updateMoreActions:()=>{},onContentLoadSucceeded:(await ds).onContentLoadSucceeded||(()=>{}),onContentLoadFailed:()=>{},onThemeChange:(await ds).onThemeChange||(()=>{}),registerOnReopenResolvedComment:(await ds).registerOnReopenResolvedComment||(()=>{}),onCloseConfluenceSidePanel:(await ds).onCloseConfluenceSidePanel||(()=>{}),getVersionName:(await ds).getVersionName||(()=>{}),objectSidebarMethods:{updateObjectSidebarControlState:((e=(await ds).objectSidebarMethods)==null?void 0:e.updateObjectSidebarControlState)||(()=>{}),hideObjectSidebarPanel:((t=(await ds).objectSidebarMethods)==null?void 0:t.hideObjectSidebarPanel)||(()=>{}),registerChangeObjectSidebarShownHandler:((n=(await ds).objectSidebarMethods)==null?void 0:n.registerChangeObjectSidebarShownHandler)||(()=>{})}});{const r=new Error("Bridge is not available in current mode: "+uce);throw wn(r),r}},Ote=c.createContext({showPanel:()=>{},hidePanel:()=>{},getData:()=>null,getPanelComponent:()=>null,getPanelKey:()=>{},isPanelVisible:()=>!1}),Vet=({children:e,defaultPanels:t})=>{const n=vt("databases-frontend-content-wrapper"),[r]=c.useState(t),[o,a]=c.useState(null),[s,i]=c.useState({component:null,data:void 0,panelKey:void 0}),l=c.useCallback((g,v)=>{i({component:r[g],data:v,panelKey:g}),gv.log("showPanel",{panelKey:s.panelKey,...v})},[s.panelKey,r]),d=c.useCallback(()=>{i({component:null,data:void 0,panelKey:void 0}),gv.log("hidePanel",{panelKey:s.panelKey})},[s.panelKey]);c.useEffect(()=>{const g=Vi.resolve("EventBus"),v=()=>new Net(d);return g.register(Cv,v),()=>g.remove(Cv,v)},[]),c.useEffect(()=>{n&&(async()=>await iE().then(a))()},[s.component,n]),c.useEffect(()=>{var g,v,b,y,E,w;n&&(o!=null&&o.objectSidebarMethods)&&(s.component!==null?((v=(g=o.objectSidebarMethods).hideObjectSidebarPanel)==null||v.call(g),(y=(b=o.objectSidebarMethods).updateObjectSidebarControlState)==null||y.call(b,!1)):(w=(E=o.objectSidebarMethods).updateObjectSidebarControlState)==null||w.call(E,!0))},[s.component,o,n]);const u=c.useCallback(g=>g?s.component===null?!1:s.panelKey===g:s.component!==null,[s.component,s.panelKey]),f=c.useCallback(()=>s.data,[s.data]),p=c.useCallback(()=>s.component,[s.component]),m=c.useCallback(()=>s.panelKey,[s.panelKey]);return h.jsx(Ote.Provider,{value:{showPanel:l,hidePanel:d,getData:f,getPanelComponent:p,isPanelVisible:u,getPanelKey:m},children:e})},lr=()=>_.useContext(Ote),lE=({entryRef:e,noFocus:t,onClick:n,onFocus:r,contentId:o,isReadonly:a})=>{const s=fe.useDispatch(),i=Ee(),{formatMessage:l}=i;Yn(c.useCallback(async()=>{e.contentId&&await s(Fs(e.contentId,i))},[s,e.contentId,i]));const[d,u,f]=fe.useEqualSelector(v=>{let b;if(e.databaseId?b=Zb(v,{spaceKey:e.databaseSpaceKey,id:e.databaseId}):e.contentId&&(b=Vt(v,{contentId:e.contentId})),!b)return[void 0,void 0,e.title];const y=b&&kt(v,{contentId:b.contentId,includeDeleted:!1}),E=y&&or(y,e.entryId),w=to(),C=x=>{const S=Gr(x,v);return S||l(G["unnamed-entities.unnamed-entry"])};return[y==null?void 0:y.contentId,E?`${w}${nk(y,E.id)}`:void 0,E?C({database:y,entry:E}):e.title]}),{showPanel:p}=lr(),m=rt(),g=c.useCallback(async v=>{v.preventDefault(),o&&await m.sendEntryLinkClickedEvent({contentId:o,databaseContainer:We()}),!ca(v)&&d?(v.preventDefault(),v.stopPropagation(),p("EntryViewPanel",{entryId:e.entryId,contentId:e.contentId,noDelete:!0,isReadonly:a})):n==null||n(v)},[o,d,m,p,e.entryId,e.contentId,a,n]);return d&&u&&f?h.jsx(Gi,{href:u,onClick:g,onFocus:r,noFocus:t,iconBefore:h.jsx(B1,{label:""}),children:f}):e.entryId?h.jsx(FA,{}):null},cC={};function Tc(e){const t=`main-${e}`;return cC[t]||(cC[t]=(n,{contentId:r})=>{const o=Vt(n,{contentId:r});return o&&!Ht(o)?kt(n,{contentId:o.contentId,includeDeleted:e}):void 0}),cC[t]}function Mte(e,t){const n=Ee();b1(De(r=>{const o=Tc(!0),{contentId:a,entryId:s}=e,{field:i,convertedValue:l}="convertedValue"in e?e:r.selector(d=>{const u=o(d,{contentId:a});if(u){if(Ht(u))throw mr(u.error)}else throw new Error(`Database ${a} not loaded.`);const f=Cn(u,e.fieldId),p=fn(u,s),m=Wo(u,f,p,d);return{field:f,convertedValue:m}});rk({contentId:a,field:i,entryId:s,value:l},{...r,selectDatabase:o,intl:n},t)},[...Object.values(e)]))}var Bet={aqua:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,azure:/#f0ffff(ff)?(?!\w)/gi,beige:/#f5f5dc(ff)?(?!\w)/gi,bisque:/#ffe4c4(ff)?(?!\w)/gi,black:/#000000(ff)?(?!\w)|#000(f)?(?!\w)/gi,blue:/#0000ff(ff)?(?!\w)|#00f(f)?(?!\w)/gi,brown:/#a52a2a(ff)?(?!\w)/gi,coral:/#ff7f50(ff)?(?!\w)/gi,cornsilk:/#fff8dc(ff)?(?!\w)/gi,crimson:/#dc143c(ff)?(?!\w)/gi,cyan:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,darkblue:/#00008b(ff)?(?!\w)/gi,darkcyan:/#008b8b(ff)?(?!\w)/gi,darkgrey:/#a9a9a9(ff)?(?!\w)/gi,darkred:/#8b0000(ff)?(?!\w)/gi,deeppink:/#ff1493(ff)?(?!\w)/gi,dimgrey:/#696969(ff)?(?!\w)/gi,gold:/#ffd700(ff)?(?!\w)/gi,green:/#008000(ff)?(?!\w)/gi,grey:/#808080(ff)?(?!\w)/gi,honeydew:/#f0fff0(ff)?(?!\w)/gi,hotpink:/#ff69b4(ff)?(?!\w)/gi,indigo:/#4b0082(ff)?(?!\w)/gi,ivory:/#fffff0(ff)?(?!\w)/gi,khaki:/#f0e68c(ff)?(?!\w)/gi,lavender:/#e6e6fa(ff)?(?!\w)/gi,lime:/#00ff00(ff)?(?!\w)|#0f0(f)?(?!\w)/gi,linen:/#faf0e6(ff)?(?!\w)/gi,maroon:/#800000(ff)?(?!\w)/gi,moccasin:/#ffe4b5(ff)?(?!\w)/gi,navy:/#000080(ff)?(?!\w)/gi,oldlace:/#fdf5e6(ff)?(?!\w)/gi,olive:/#808000(ff)?(?!\w)/gi,orange:/#ffa500(ff)?(?!\w)/gi,orchid:/#da70d6(ff)?(?!\w)/gi,peru:/#cd853f(ff)?(?!\w)/gi,pink:/#ffc0cb(ff)?(?!\w)/gi,plum:/#dda0dd(ff)?(?!\w)/gi,purple:/#800080(ff)?(?!\w)/gi,red:/#ff0000(ff)?(?!\w)|#f00(f)?(?!\w)/gi,salmon:/#fa8072(ff)?(?!\w)/gi,seagreen:/#2e8b57(ff)?(?!\w)/gi,seashell:/#fff5ee(ff)?(?!\w)/gi,sienna:/#a0522d(ff)?(?!\w)/gi,silver:/#c0c0c0(ff)?(?!\w)/gi,skyblue:/#87ceeb(ff)?(?!\w)/gi,snow:/#fffafa(ff)?(?!\w)/gi,tan:/#d2b48c(ff)?(?!\w)/gi,teal:/#008080(ff)?(?!\w)/gi,thistle:/#d8bfd8(ff)?(?!\w)/gi,tomato:/#ff6347(ff)?(?!\w)/gi,violet:/#ee82ee(ff)?(?!\w)/gi,wheat:/#f5deb3(ff)?(?!\w)/gi,white:/#ffffff(ff)?(?!\w)|#fff(f)?(?!\w)/gi},dC=Bet,jA={whitespace:/\s+/g,urlHexPairs:/%[\dA-F]{2}/g,quotes:/"/g};function Uet(e){return e.trim().replace(jA.whitespace," ")}function Het(e){return encodeURIComponent(e).replace(jA.urlHexPairs,Wet)}function zet(e){return Object.keys(dC).forEach(function(t){dC[t].test(e)&&(e=e.replace(dC[t],t))}),e}function Wet(e){switch(e){case"%20":return" ";case"%3D":return"=";case"%3A":return":";case"%2F":return"/";default:return e.toLowerCase()}}function tS(e){if(typeof e!="string")throw new TypeError("Expected a string, but received "+typeof e);e.charCodeAt(0)===65279&&(e=e.slice(1));var t=zet(Uet(e)).replace(jA.quotes,"'");return"data:image/svg+xml,"+Het(t)}tS.toSrcset=function(t){return tS(t).replace(/ /g,"%20")};var Get=tS;const $te=_r(Get),V7=['<path d="M386 0H0v258h386V0Z" fill="#33FFC5"/><path opacity=".4" d="M385.999 0H239.763c-65.305 5.47-116.63 61.023-116.63 128.768 0 70.795 56.047 128.284 125.527 129.213h137.339V0Z" fill="#fff"/>','<g clip-path="url(#a)"><path d="M387 0H0v258h387V0Z" fill="#BB9AE8"/><path opacity=".15" d="M0 0v258h32.444c.496-7.559.715-15.093 1.934-22.459 3.11-19.279 15.261-38.384 36.243-47.62 10.1-4.444 19.911-5.231 29.464-4.638l8.817.884c6.005.787 11.913 1.851 17.718 2.58 9.398 1.219 19.395 1.812 29.67-1.193 11.133-3.258 21.93-10.965 29.154-20.44 13.597-17.802 10.21-38.391 12.294-56.696 0-.303-.039-.613 0-.922a95.74 95.74 0 0 1 2.064-13.694c4.515-19.15 19.879-37.32 40.635-44.014 20.208-6.515 38.384.142 56.76 1.625 9.546.774 19.788.277 29.818-4.244 10.655-4.799 20.569-13.468 26.277-23.394 4.515-7.818 6.534-15.796 7.618-23.807L0 0Z" fill="#fff"/><path d="M387 0H0v258h387V0Z" fill="#5D07A0"/><path opacity=".1" d="M387 207.291 247.063 66.088 60.012 258H387v-50.709ZM0 130.417a26.91 26.91 0 0 0 26.264-26.85A26.908 26.908 0 0 0 0 76.62v53.797Z" fill="#fff"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h387v258H0z"/></clipPath></defs>','<g clip-path="url(#a)"><path d="M387 0H0v256h387V0Z" fill="#92D0FF"/><path opacity=".3" d="M387.002 0H80.531a108.559 108.559 0 0 0 15.775 81.78c15.926 24.099 40.801 40.907 69.157 46.731 73.367 15.055 132.236 63.979 162.882 127.476h58.663L387.002 0Z" fill="#fff"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h387v256H0z"/></clipPath></defs>','<g clip-path="url(#a)"><path d="M387 0H0v258h387V0Z" fill="#FFEB69"/><g opacity=".35" fill="#fff"><path opacity=".8" d="M243.075 232.335a30.453 30.453 0 0 0-8.911-21.531 30.431 30.431 0 0 0-21.527-8.919H0V258h228.975a30.406 30.406 0 0 0 14.1-25.665ZM212.637 97.698h-207c-1.891 0-3.779.18-5.637.535v59.792c1.859.35 3.746.527 5.637.528h207a30.44 30.44 0 0 0 30.001-30.44 30.442 30.442 0 0 0-30.001-30.441v.026Z"/></g></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h387v258H0z"/></clipPath></defs>','<g clip-path="url(#a)"><path d="M386 0H0v258h386V0Z" fill="#FFBDCB"/><path opacity=".3" d="M386 126.602c-36.471 37.435-89.475 81.048-151.087 84.802-53.287 3.26-111.547-23.143-173.012-78.399A483.367 483.367 0 0 0 0 85.445V258h386V126.602Z" fill="#fff"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h386v258H0z"/></clipPath></defs>','<g clip-path="url(#a)"><path d="M0 258h388V0H0v258Z" fill="#EF6F5D"/><path opacity=".2" d="M239.876 13.003a22.078 22.078 0 0 0 9.793 8.714c3.745 1.684 7.56 1.87 11.123 1.58 6.843-.548 13.622-3.031 21.155-.6a23.265 23.265 0 0 1 15.152 16.396 35.77 35.77 0 0 1 .768 5.096v.348c.774 6.818-.484 14.487 4.583 21.118a22.08 22.08 0 0 0 10.871 7.617c3.822 1.116 7.547.897 11.046.439 2.169-.278 4.37-.645 6.61-.968l3.286-.329a22.948 22.948 0 0 1 10.975 1.729 23.268 23.268 0 0 1 13.511 17.738c1.117 6.907-.064 14.189 3.919 21.11a22.114 22.114 0 0 0 9.819 8.721c3.738 1.683 7.553 1.864 11.116 1.58 1.466-.123 2.931-.329 4.403-.555V0H236.648c.272 4.36.775 8.746 3.228 13.003Z" fill="#fff"/><path opacity=".3" d="M0 206.477a26.956 26.956 0 0 0 18.25-8.296 26.91 26.91 0 0 0 7.463-18.594 26.91 26.91 0 0 0-7.463-18.593A26.957 26.957 0 0 0 0 152.697v53.78Z" fill="#fff"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h388v258H0z"/></clipPath></defs>','<path d="M387 0H0v258h387V0Z" fill="#2B3556"/><path opacity=".1" d="M386.923 74.393a75.234 75.234 0 0 1-72.988-68.804A79.392 79.392 0 0 1 313.681 0h-70.349c0 3.908.176 7.621.508 11.47a145.563 145.563 0 0 0 143.083 133.134V74.393ZM0 94.911V258h40.002l63.138-62.57L0 94.911Z" fill="#fff"/>','<path d="M386 0H0v258h386V0Z" fill="#0D0DFC"/><path opacity=".15" d="M0 258h136.963c6.725-11.269 20.407-15.707 20.407-33.632 0-23.784-24.09-23.784-24.09-47.587 0-23.803 24.09-23.783 24.09-47.567s-24.09-23.803-24.09-47.587c0-23.783 24.09-23.803 24.09-47.586 0-18.14-13.994-22.363-20.641-34.041H0v258Z" fill="#fff"/>','<path d="M388 0H0v259h388V0Z" fill="#FFC420"/><path opacity=".3" d="M0 36.565V259h222.134L0 36.565Zm387.923 69.483V0H275.328a117.88 117.88 0 0 0 36.466 74.133 117.593 117.593 0 0 0 76.129 31.915Z" fill="#fff"/>'].map(e=>$te(`<svg width="386" height="258" fill="none" xmlns="http://www.w3.org/2000/svg">${e}</svg>`));function qet(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return V7[Math.abs(t)%V7.length]}function Rte({contentId:e,entryId:t,viewSettings:n},r){const{selector:o,selectDatabase:a}=r,[s,i]=o(d=>{const u=a(d,{contentId:e}),f=u&&!Ht(u)?u:void 0,p=f&&or(f,t),m=f&&Rm(f,n==null?void 0:n.layout.coverFieldId),g=f&&p&&m&&Wo(f,m,p,d);return[m,g]}),l={src:qet(t)};return!s||!i?{coverImage:void 0,fallback:l}:{coverImage:Pte({coverField:s,coverValue:i,entryId:t},r),fallback:l}}function Pte(e,t){const{coverField:n,coverValue:r,entryId:o,recursionTracker:a={recursionCount:0}}=e,{dispatch:s,selector:i,selectDatabase:l}=t;if(r&&a.recursionCount<fN){if(r.type===ae.ENTRY_LINK){const d=i(u=>{const f=fce({field:n,value:r.value},u,{selectDatabase:l})[0],p=f?Rm(f.database):void 0;return f&&p?Wo(f.database,p,f.entry,u,a):void 0});return Pte({coverField:n,coverValue:d,entryId:o,recursionTracker:{recursionCount:a.recursionCount+1}},t)}else if(r.type===ae.PAGE_LINK){const d=pce(r.value).filter(u=>mce(u))[0];if(d){s(mu(d));const u=i(f=>Qb(f,{contentRef:d}));if(u){s(hce(u.contentId));const f=i(p=>gce(p,{contentId:u.contentId}));if(f)return{src:f}}}}else if(r.type===ae.ATTACHMENT)return r.value[0]}}const B7=[135,90],Yet=Re.div.withConfig({displayName:"CoverImage__CoverImageContainer",componentId:"sc-vcnnnz-0"})(["display:inline-block;background:"," center center/cover no-repeat;border-radius:2px;position:relative;svg{height:100%;}> :not(svg){position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:",";}"],e=>e.background,jt),Lte=({contentId:e,image:t,fallback:n,className:r,height:o,width:a})=>{const s=l3e(_.isValidElement(t)?void 0:typeof t=="string"?{src:t}:t,e);let i;s.status===St.SUCCEEDED?i=`url(${pN(s.data)})`:_.isValidElement(t)&&(i="#e7e9ee");const l=a==null&&o==null?"90px":typeof o=="number"?`${o}px`:o,d=typeof a=="number"?`${a}px`:a,u=c.useMemo(()=>({height:l,width:d}),[l,d]),f=c.useMemo(()=>({height:l==null?void 0:"100%",width:d==null?void 0:"100%"}),[l,d]);return i?h.jsxs(Yet,{background:i,className:r,style:u,children:[h.jsx("svg",{viewBox:`0 0 ${B7[0]} ${B7[1]}`,style:f}),_.isValidElement(t)&&t]}):n?h.jsx(Lte,{contentId:e,image:n,className:r,height:o,width:a}):null},Ket=({contentId:e,entryId:t,...n})=>{const{view:{settings:r}}=at(),{result:{coverImage:o,fallback:a}}=b1(De(s=>Rte({contentId:e,entryId:t,viewSettings:r},{...s,selectDatabase:Tc(!0)}),[e,t,r]));return h.jsx(Lte,{contentId:e,width:"100%",...n,image:o,fallback:a==null?void 0:a.src})},Xet=({children:e,update:t})=>{const n=c.useRef(!0);return c.useLayoutEffect(()=>{if(n.current){n.current=!1;return}t()},[t]),_.createElement(c.Fragment,null,e)},Jet=({isOpen:e,onClose:t,popupRef:n,triggerRef:r,shouldUseCaptureOnOutsideClick:o,shouldCloseOnTab:a})=>{const{isLayerDisabled:s,currentLevel:i}=yy();c.useEffect(()=>{if(!e||!n)return ct;const l=m=>{t&&t(m)},d=m=>{const{target:g}=m;if(!document.body.contains(g)||s())return;const b=n&&n.contains(g),y=r&&r.contains(g);!b&&!y&&l(m)},u=m=>{if(s())return;const{key:g}=m;(g==="Escape"||g==="Esc"||a&&g==="Tab")&&l(m)},f=mt.bindAll(window,[{type:"click",listener:d,options:{capture:o}},{type:"keydown",listener:u}]);let p=ct;return p=mt.bind(window,{type:"blur",listener:function(g){if(s()||!(document.activeElement instanceof HTMLIFrameElement))return;const v=document.activeElement.closest("[data-ds--level]");(!v||i>Number(v.getAttribute("data-ds--level")))&&l(g)}}),()=>{f(),p()}},[e,t,n,r,o,s,a,i])},Zet=({initialFocusRef:e,popupRef:t,shouldCloseOnTab:n})=>{c.useEffect(()=>{if(!t||n)return ct;const o=G1(t,{clickOutsideDeactivates:!0,escapeDeactivates:!0,initialFocus:e||t,fallbackFocus:t,returnFocusOnDeactivate:!0});let a=null;return a=requestAnimationFrame(()=>{a=null,o.activate()}),()=>{a!=null&&(cancelAnimationFrame(a),a=null),o.deactivate()}},[t,e,n])},Qet=M({width:"100%"}),ett=M({display:"block",boxSizing:"border-box",zIndex:Qt.layer(),flex:"1 1 auto",backgroundColor:`var(--ds-surface-overlay, ${Ve})`,borderRadius:"var(--ds-border-radius, 3px)",boxShadow:`var(--ds-shadow-overlay, ${`0 4px 8px -2px ${Vs}, 0 0 1px ${Bs}`})`,color:"var(--ds-text, #172B4D)",[mX]:`var(--ds-surface-overlay, ${Ve})`,"&:focus":{outline:"none"}}),ttt=M({overflow:"auto"}),ntt=M({"iframe:not([data-ds--level] iframe)":{pointerEvents:"none"}}),rtt=c.forwardRef((e,t)=>{const{shouldRenderToParent:n,shouldFitContainer:r,children:o,...a}=e;return k("div",H({css:[ett,!n&&ttt,r&&Qet]},a,{ref:t}),o)});function ott({isOpen:e,id:t,offset:n,testId:r,content:o,fallbackPlacements:a,onClose:s,boundary:i,rootBoundary:l,shouldFlip:d,placement:u="auto",popupComponent:f=rtt,autoFocus:p=!0,triggerRef:m,shouldUseCaptureOnOutsideClick:g,shouldRenderToParent:v,shouldFitContainer:b,shouldDisableFocusLock:y,strategy:E,role:w,label:C,titleId:x,modifiers:S}){const[I,A]=c.useState(null),[T,O]=c.useState(null),D=v&&y;Zet({initialFocusRef:T,popupRef:I,shouldCloseOnTab:D}),Jet({isOpen:e,onClose:s,popupRef:I,triggerRef:m,shouldUseCaptureOnOutsideClick:g,shouldCloseOnTab:D});const{currentLevel:$}=yy(),L=c.useMemo(()=>[{name:"flip",enabled:d,options:{rootBoundary:l,boundary:i,fallbackPlacements:a}},...S||[]],[d,l,i,a,S]);return k(Ru,{placement:u,offset:n,modifiers:L,strategy:E},({ref:F,style:B,placement:V,update:Y})=>k(f,{id:t,"data-ds--level":$,"data-placement":V,"data-testid":r,role:w,"aria-label":C,"aria-labelledby":x,ref:J=>{J&&(typeof F=="function"?F(J):F.current=J,A(J))},style:B,tabIndex:p?0:void 0,shouldRenderToParent:v,shouldFitContainer:b},et("platform.design-system-team.iframe_gojiv")&&k(pF,{styles:ntt}),k(Xet,{update:Y},o({update:Y,isOpen:e,onClose:s,setInitialFocusRef:O}))))}const att=()=>{const[e]=c.useState(()=>Za((t,n,r)=>o=>{o&&r&&(typeof t=="function"?t(o):t&&(t.current=o),n(o))}));return e},stt=Qt.layer(),itt=ie({position:"relative"}),cE=c.memo(({isOpen:e,id:t,offset:n,testId:r,trigger:o,content:a,onClose:s,boundary:i,rootBoundary:l="viewport",shouldFlip:d=!0,placement:u="auto",fallbackPlacements:f,popupComponent:p,autoFocus:m=!0,zIndex:g=stt,shouldUseCaptureOnOutsideClick:v=!1,shouldRenderToParent:b=!1,shouldFitContainer:y=!1,shouldDisableFocusLock:E=!1,strategy:w,role:C,label:x,titleId:S,modifiers:I})=>{const[A,T]=c.useState(null),O=att(),D=ZS(),$=t||D,L=k(I4,{isDisabled:!1},k(ott,{content:a,isOpen:e,placement:u,fallbackPlacements:f,boundary:i,rootBoundary:l,shouldFlip:d,offset:n,popupComponent:p,id:$,testId:r,onClose:s,autoFocus:m,shouldUseCaptureOnOutsideClick:v,shouldRenderToParent:b||y,shouldFitContainer:y,shouldDisableFocusLock:E,triggerRef:A,strategy:y?"absolute":w,role:C,label:x,titleId:S,modifiers:I})),F=k(hh,null,k(bh,null,({ref:B})=>o({ref:O(B,T,e),"aria-controls":e?$:void 0,"aria-expanded":e,"aria-haspopup":!0})),e&&(b||y?L:k(yh,{zIndex:g},L)));return y?k(_e,{xcss:itt},F):F}),fm=new Map,X0=new Set;function Nte(e){ltt(e);const t=fm.get(e);if(t)return t;const n={timeOfEngagementStart:Date.now()};return fm.set(e,n),n}function ltt(e){X0.add(e)}function ctt(e){X0.clear(),e(),fm.forEach((t,n)=>{X0.has(n)||fm.delete(n)}),X0.clear()}function dtt(){fm.clear()}const U7=new Map;function utt(e){const t=U7.get(e);if(t)return t;const n=ftt(e);return U7.set(e,n),n}function ftt(e){let t={type:"idle"};const n=[];function r(l){if(t.type!=="running")return;const d=l-t.timeLastFrameFinished,{latestArgs:u}=t,f=K5({x:u.location.current.input.clientX,y:u.location.current.input.clientY});ctt(()=>{n.forEach(p=>p({underUsersPointer:f,latestArgs:u,timeSinceLastFrame:d}))}),t.timeLastFrameFinished=l,t.frameId=requestAnimationFrame(r)}function o(){t.type!=="idle"&&(cancelAnimationFrame(t.frameId),dtt(),t={type:"idle"})}function a(l){t.type==="idle"&&(t={type:"initializing",latestArgs:l,frameId:requestAnimationFrame(d=>{t.type==="initializing"&&(t={type:"running",timeLastFrameFinished:d,latestArgs:t.latestArgs,frameId:requestAnimationFrame(r)})})})}function s(l){if(t.type==="idle"){a(l);return}t.latestArgs=l}return e({onDragStart:a,onDropTargetChange:s,onDrag:s,onDrop:o}),{onFrame(l){n.push(l)}}}const nS="data-auto-scrollable",ptt=`[${nS}="true"]`;function mtt(e){return e.setAttribute(nS,"true"),()=>e.removeAttribute(nS)}const htt={startHitboxAtPercentageRemainingOfElement:{top:.25,right:.25,bottom:.25,left:.25},maxScrollAtPercentageRemainingOfHitbox:{top:.5,right:.5,bottom:.5,left:.5},timeDampeningDurationMs:400,maxMainAxisHitboxSize:180},gtt={standard:15*60,fast:25*60};function Fte(e){var t;return{...htt,maxPixelScrollPerSecond:gtt[(t=e==null?void 0:e.maxScrollSpeed)!==null&&t!==void 0?t:"standard"]}}const vtt={top:e=>e.scrollTop>0,right:e=>Math.ceil(e.scrollLeft)+e.clientWidth<e.scrollWidth,bottom:e=>Math.ceil(e.scrollTop)+e.clientHeight<e.scrollHeight,left:e=>e.scrollLeft>0},btt=["top","right","bottom","left"],ytt={top:"vertical",right:"horizontal",bottom:"vertical",left:"horizontal"},H7={start:"top",end:"bottom",point:"y",size:"height"},z7={start:"left",end:"right",point:"x",size:"width"},jte={vertical:{mainAxis:H7,crossAxis:z7},horizontal:{mainAxis:z7,crossAxis:H7}},VA={top:"start",right:"end",bottom:"end",left:"start"};function E0({edge:e,axis:t}){return function({clientRect:r,config:o}){const{mainAxis:a,crossAxis:s}=jte[t],i=VA[e],l=Math.min(o.startHitboxAtPercentageRemainingOfElement[e]*r[a.size],o.maxMainAxisHitboxSize);return DOMRect.fromRect({[a.point]:i==="start"?r[a.point]:r[a.point]+r[a.size]-l,[s.point]:r[s.point],[a.size]:l,[s.size]:r[s.size]})}}const Ett={top:E0({axis:"vertical",edge:"top"}),right:E0({axis:"horizontal",edge:"right"}),bottom:E0({axis:"vertical",edge:"bottom"}),left:E0({axis:"horizontal",edge:"left"})};function rS({startOfRange:e,endOfRange:t,value:n}){if(!(e<t)||n<e)return 0;if(n>t)return 1;const o=t-e;return(n-e)/o}function wtt({timeSinceLastFrame:e,config:t}){const n=t.maxPixelScrollPerSecond/1e3,r=Math.ceil(n*e),o=t.maxPixelScrollPerSecond/60;return Math.min(r,o)}function Ctt({client:e,axis:t,edge:n,hitbox:r,config:o}){const{mainAxis:a}=jte[t],s=VA[n],i=r[a.size]*o.maxScrollAtPercentageRemainingOfHitbox[n];return s==="end"?rS({startOfRange:r[a.start],endOfRange:r[a.end]-i,value:e[a.point]}):1-rS({startOfRange:r[a.start]+i,endOfRange:r[a.end],value:e[a.point]})}function w0({client:e,timeSinceLastFrame:t,engagement:n,axis:r,hitbox:o,edge:a,isDistanceDampeningEnabled:s,config:i}){const l=wtt({timeSinceLastFrame:t,config:i}),d=s?Ctt({client:e,edge:a,hitbox:o,axis:r,config:i}):1,u=rS({startOfRange:n.timeOfEngagementStart,endOfRange:n.timeOfEngagementStart+i.timeDampeningDurationMs,value:Date.now()}),f=d*u,p=Math.max(l*f,1);return VA[a]==="end"?p:-1*p}function _tt(e,t){return t==="all"||e===t}function xtt({client:e,clientRect:t}){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height}function Stt(e){return e.getBoundingClientRect()}function Vte({element:e,input:t,timeSinceLastFrame:n,engagement:r,config:o,allowedAxis:a,getRect:s=Stt}){const i={x:t.clientX,y:t.clientY},l=s(e),d=btt.reduce((p,m)=>{const g=Ett[m]({clientRect:l,config:o}),v=ytt[m];return!_tt(v,a)||!xtt({client:i,clientRect:g})||!vtt[m](e)||p.set(m,{edge:m,hitbox:g}),p},new Map),u=(()=>{const p="horizontal",m=d.get("left");if(m)return w0({client:i,edge:m.edge,hitbox:m.hitbox,axis:p,timeSinceLastFrame:n,engagement:r,isDistanceDampeningEnabled:!0,config:o});const g=d.get("right");return g?w0({client:i,edge:g.edge,hitbox:g.hitbox,axis:p,timeSinceLastFrame:n,engagement:r,isDistanceDampeningEnabled:!0,config:o}):0})(),f=(()=>{const p="vertical",m=d.get("bottom");if(m)return w0({client:i,edge:m.edge,hitbox:m.hitbox,axis:p,timeSinceLastFrame:n,engagement:r,isDistanceDampeningEnabled:!0,config:o});const g=d.get("top");return g?w0({client:i,edge:g.edge,hitbox:g.hitbox,axis:p,timeSinceLastFrame:n,engagement:r,isDistanceDampeningEnabled:!0,config:o}):0})();return{left:u,top:f}}function Bte(e){return!!(e.top||e.left)}function Ute({target:e,input:t,source:n,findEntry:r,timeSinceLastFrame:o,available:a={top:!0,left:!0}}){var s,i,l;if(!Bte(a)||!e)return a;const d=e.closest(ptt);if(!d)return a;const u=r(d);if(!u)return a;function f(){var E;return Ute({target:(E=d==null?void 0:d.parentElement)!==null&&E!==void 0?E:null,findEntry:r,source:n,timeSinceLastFrame:o,input:t,available:a})}const p={input:t,source:n,element:d};if(u.canScroll&&!u.canScroll(p))return f();const m=Nte(d),g=Fte((s=u.getConfiguration)===null||s===void 0?void 0:s.call(u,p)),v=(i=(l=u.getAllowedAxis)===null||l===void 0?void 0:l.call(u,p))!==null&&i!==void 0?i:"all",b=Vte({element:d,engagement:m,input:t,timeSinceLastFrame:o,allowedAxis:v,config:g}),y={top:0,left:0};return a.top&&b.top!==0&&(y.top=b.top,a.top=!1),a.left&&b.left!==0&&(y.left=b.left,a.left=!1),(y.top!==0||y.left!==0)&&d.scrollBy(y),f()}function ktt({input:e,timeSinceLastFrame:t,available:n,source:r,entries:o}){const a=document.documentElement,s={input:e,source:r,element:a};for(const u of o){var i,l,d;if(u.canScroll&&!u.canScroll(s))continue;const f=Nte(a),p=Fte((i=u.getConfiguration)===null||i===void 0?void 0:i.call(u,s)),m=(l=(d=u.getAllowedAxis)===null||d===void 0?void 0:d.call(u,s))!==null&&l!==void 0?l:"all",g=Vte({element:a,engagement:f,input:e,config:p,allowedAxis:m,getRect:b=>DOMRect.fromRect({y:0,x:0,width:b.clientWidth,height:b.clientHeight}),timeSinceLastFrame:t}),v={top:n.top?g.top:0,left:n.left?g.left:0};(v.top!==0||v.left!==0)&&a.scrollBy(v);break}}function Itt({input:e,findEntry:t,timeSinceLastFrame:n,source:r,getWindowScrollEntries:o,underUsersPointer:a}){const s=Ute({target:a,timeSinceLastFrame:n,input:e,source:r,findEntry:t});Bte(s)&&ktt({input:e,source:r,entries:o(),timeSinceLastFrame:n,available:s})}function Ttt({monitor:e}){const t=new Map,n=new Set;function r(l){return t.set(l.element,l),ir(mtt(l.element),()=>t.delete(l.element))}function o(l={}){const d={...l};return n.add(d),()=>n.delete(d)}function a(l){var d;return(d=t.get(l))!==null&&d!==void 0?d:null}function s(){return Array.from(n)}function i({latestArgs:l,underUsersPointer:d,timeSinceLastFrame:u}){Itt({input:l.location.current.input,source:l.source,findEntry:a,underUsersPointer:d,timeSinceLastFrame:u,getWindowScrollEntries:s})}return utt(e).onFrame(i),{autoScroll:r,autoScrollWindow:o}}const Att=Ttt({monitor:da}),Dtt=Att.autoScroll;var Hte={};Object.defineProperty(Hte,"__esModule",{value:!0});function Ott(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===2)return G7(e[0],e[1])||null;var n=e.slice(1).reduce(function(r,o){return G7(r,o)},e[0]);return n||null}var eo=Hte.default=Ott,W7=new WeakMap;function G7(e,t){if(e&&t){var n=W7.get(e)||new WeakMap;W7.set(e,n);var r=n.get(t)||function(o){q7(e,o),q7(t,o)};return n.set(t,r),r}return e||t}function q7(e,t){typeof e=="function"?e(t):e.current=t}const Mtt=Re.div.withConfig({displayName:"ScrollableContainer__OuterContainer",componentId:"sc-jos6et-0"})(["display:flex;flex-direction:column;position:relative;margin-left:1px;height:100%;"]),$tt=ln(["margin-top:",";padding-top:",";"],U("space.negative.100","-8px"),U("space.100","8px")),Rtt=Re.div.withConfig({displayName:"ScrollableContainer__InnerContainer",componentId:"sc-jos6et-1"})(["display:flex;flex-direction:column;flex-grow:1;overflow-x:auto;overflow-y:",";margin-right:1px;",""],e=>e.heightIsLessThanContainer?"hidden":"auto",e=>e.allowOverheadSpace&&$tt),zte=c.forwardRef(function({className:t,children:n,innerRef:r,heightIsLessThanContainer:o,allowOverheadSpace:a},s){const i=c.useRef(null),l=c.useRef(null);return c.useEffect(()=>{if(l.current)return ir(Dtt({element:l.current,getConfiguration:()=>({maxScrollSpeed:"standard"})}))},[]),h.jsx(Mtt,{"data-testid":"scrollable-outer-container",ref:eo(i,s),className:t,children:h.jsx(Rtt,{id:"scrollable-inner-container","data-testid":"scrollable-inner-container",allowOverheadSpace:a,ref:eo(l,r),heightIsLessThanContainer:o,children:n})})}),Ln={DRAG_IMAGE_ELEMENT:-1,TABLE_NUMBERED_COLUMN:2,TABLE_ROW:3,STICKY_SHADOW:90,TABLE_VIEW_INSERT_DOT:127,TABLE_LAYOUT_HEADER_ROW:128,ROW_SELECT_BUTTON:116,TABLE_VIEW_ROW_DROP_INDICATOR:115,TABLE_RESIZE_HANDLER:130,TABLE_VIEW_SELECTION_TOOLBAR:133,TABLE_VIEW_DROP_INDICATOR:135,COLUMN_SELECT_BUTTON:140,INLINE_DIALOG:510,COLOR_PICKER:760,TOOLTIP:800,POPOVER_EDIT_CONTAINER:900},ai={top:"bottom",bottom:"top",left:"right",right:"left",start:"end",auto:"auto",end:"start"},Ptt=[0,4];function Ltt(e){const t=e.split("-");if(["top","bottom"].includes(t[0]))return t.length===2&&["start","end"].includes(t[1])?[`${t[0]}`,`${t[0]}-${ai[t[1]]}`,`${ai[t[0]]}-${t[1]}`,`${ai[t[0]]}`,`${ai[t[0]]}-${ai[t[1]]}`,"auto"]:[`${t[0]}-start`,`${t[0]}-end`,`${ai[t[0]]}`,`${ai[t[0]]}-start`,`${ai[t[0]]}-end`,"auto"]}const Wte=Re(zte).withConfig({displayName:"Popup__DefaultPopupContentContainer",componentId:"sc-bc6lfh-0"})(["max-height:calc(100vh - 16px);flex-shrink:0;> *{padding:"," ",";}"],U("space.200","16px"),U("space.300","24px")),el=({isOpen:e,content:t,placement:n="bottom-start",width:r,isTooltip:o,contentContainer:a=Wte,...s})=>{const i=c.useMemo(()=>Ltt(n),[n]),l=c.useRef(),[d,u]=c.useState(null);return z5(d,()=>{var f;(f=l.current)==null||f.call(l)}),h.jsx(cE,{isOpen:e,placement:n,zIndex:Ln.INLINE_DIALOG,fallbackPlacements:i,content:f=>{l.current=f.update;const p=o||a===null?c.Fragment:a;return h.jsx(p,{children:h.jsx("div",{ref:u,style:{width:r},children:t(f)})})},autoFocus:!o,...s})},Ntt=c.createContext(void 0);function Ftt(){return c.useContext(Ntt)}const jtt=Re.div.withConfig({displayName:"ValidationStatus__ErrorMessage",componentId:"sc-1n9y87p-0"})(["display:flex;align-items:center;font:",";padding:"," ",";> :first-child{margin-right:",";}"],U("font.body"),U("space.200","16px"),U("space.300","24px"),U("space.025"));var Gte=(e=>(e.TOP="top",e.BOTTOM="bottom",e))(Gte||{});const vo=Re.div.withConfig({displayName:"ValidationStatus__ValidationStatusContainer",componentId:"sc-1n9y87p-1"})(["display:flex;flex-direction:column;width:100%;"]),Rr=({error:e,children:t,isTouched:n,placement:r="top"})=>{const[o,a]=Mh(!1,n),s=Ftt(),i=c.useMemo(()=>wt(),[]),l=c.useRef(null),d=pDe(),u=De(()=>{!o&&d.current&&a(!0)},[d,o,a]),f=De(()=>{var S,I;(I=(S=l.current)==null?void 0:S.querySelector("input,textarea,select,[tabindex]"))==null||I.focus()},[]),[p,m]=hDe({onBlur:u}),[g,v]=Ti(),b=c.useMemo(()=>Promise.resolve(e).catch(S=>S.message),[e]),y=Ph({promise:b}),E=typeof e=="object"&&"then"in e?y.data:e,w=E!=null,C=c.useMemo(()=>({id:i,isTouched:o,touch:u,focus:f,isInvalid:w,error:E,errorPromise:b}),[b,f,i,w,o,E,u]);c.useEffect(()=>{s&&s._addValidationData(i,C)},[C,s,i]),c.useEffect(()=>()=>{s&&s._removeValidationData(i)},[]);const x=c.useMemo(()=>({isInvalid:o?w:void 0}),[w,o]);return h.jsx(el,{isOpen:o&&!!e&&(g||p),content:()=>h.jsxs(jtt,{children:[h.jsx(Us,{label:"",color:U("color.icon.danger","#C9372C"),spacing:"spacious"}),E]}),placement:r,zIndex:Ln.TOOLTIP,trigger:S=>h.jsx(vo,{...S,...m,...v,ref:eo(l,S.ref),children:t(x)}),isTooltip:!0})},Vtt=Re.div.withConfig({displayName:"EntryPicker__OptionContainer",componentId:"sc-aifxir-0"})(["display:flex;align-items:center;gap:",";"],U("space.050"));function Btt(e,t,n){if(t&&e.length===0)return n}const Utt=e=>e.entry?e.entry.id:"",Htt={menu:e=>({...e,minWidth:"100%"}),singleValue:e=>({...e,padding:U("space.025","2px"),lineHeight:"20px",pointerEvents:"none"})};function ztt({value:e,database:t,onChange:n,onFocus:r,onBlur:o,autoFocus:a,isClearable:s,isRequired:i,isLoading:l,isInvalid:d,isDisabled:u,noOptionsMessage:f,isMulti:p,isSeamless:m,isLinkPreview:g}){const v=fe.useStore(),b=Ee(),{formatMessage:y}=b,E=b1(c.useCallback(T=>{const O=t&&mN(t);if(t&&O)for(const D of As(t)){const $=_o(t,O,D);rk({contentId:t.contentId,field:O,entryId:D.id,value:$},{...T,selectDatabase:Tc(!0),intl:b},v.getState())}},[t,b,v])),w=c.useCallback(T=>{const O=Array.isArray(T)?T:T?[T]:[];n(O.map(D=>D.entry.id))},[n]),C=c.useMemo(()=>[...(t&&As(t).map(T=>({database:t,entry:T})))??[]],[t]),x=c.useMemo(()=>t?e.flatMap(T=>{if(t.entriesById[T]){const O=t.entriesById[T];return[{database:t,entry:O}]}else return[]}):[],[t,e]),S=c.useMemo(()=>f?()=>f:void 0,[f]),I=c.useCallback(T=>{const O=Gr(T,v.getState());return O||y(G["unnamed-entities.unnamed-entry"])},[y,v]),A=c.useCallback((T,O)=>{if(O.context==="menu")return h.jsxs(Vtt,{children:[t&&Rm(t)&&h.jsx(Ket,{contentId:T.database.contentId,entryId:T.entry.id,width:38}),I(T)]});if(g)if(T.entry){const D={databaseSpaceKey:T.database.space.key,databaseId:T.database.id,entryId:T.entry.id,title:I(T)};return h.jsx(lE,{entryRef:D,noFocus:!0})}else return h.jsx(FA,{});else return I(T)},[t,I,g]);return h.jsx(Rr,{error:Btt(x,i,y(G["entry-picker.validate-error-text"])),children:T=>h.jsx(Jo,{classNamePrefix:"entry-picker",value:x,onChange:w,isClearable:s,isDisabled:u??!t,isInvalid:T.isInvalid||d,formatOptionLabel:A,getOptionLabel:I,options:C,getOptionValue:Utt,onFocus:r,onBlur:o,autoFocus:a,isLoading:l||E.isDispatching,noOptionsMessage:S,styles:Htt,placeholder:y(G["select-dropdown.placeholder"]),isMulti:p,isSeamless:m,defaultMenuIsOpen:a&&!x.length})})}function Y7({value:e,onChange:t,...n}){const r=c.useMemo(()=>e?[e]:[],[e]),o=c.useCallback(a=>{t(a[0])},[t]);return h.jsx(ztt,{...n,value:r,onChange:o})}const Wtt=e=>e.entryRef._id,Gtt=()=>({entryRef:{_id:wt()}}),qtt=({onChange:e,onFocus:t,onBlur:n,autoFocus:r,value:o,field:a})=>{const{databaseSpace:s,databaseId:i,multi:l,contentId:d}=a.settings,u=Ee(),{formatMessage:f}=u,[p,m]=fe.useShallowEqualSelector(T=>{if(d){const O=$m(T,{contentId:d}),D=Vt(T,{contentId:d});return[(O==null?void 0:O.status)===St.PENDING,D&&kt(T,{contentId:d,includeDeleted:!1})]}else return[!1,void 0]}),g=fe.useDispatch();Yn(c.useCallback(async()=>{try{d&&await g(Fs(d,u))}catch(T){if(T instanceof Error){let O="";const D=T.message;if(D.includes("NotFoundException"))O=f(G["snackbar-error.entry-link-not-found"],{fieldName:a.name});else if(D.includes("PermissionException"))O=f(G["snackbar-error.entry-link-restricted-permission"],{fieldName:a.name});else{O=f(G["snackbar-error.entry-link-load-error"],{fieldName:a.name});const $=new Error(`Could not load database with content id ${d}: ${T}`);wn($)}tn.setMessage(O,{id:"database-entry-link-value-edit",type:"error",showCloseButton:!0})}return}},[d,a.name,f,g,u]));const v=c.useMemo(()=>{let T;return m?T=o.flatMap(O=>{if(Fd(O)){const D=or(m,O.entryId);return D?[{entryRef:O,entry:D}]:[{entryRef:O}]}else return[{entryRef:O}]}):T=[],T},[m,o]),[b,y]=c.useState(v),E=fe.useStore(),w=c.useCallback(T=>{var O;if(!T||!m)v.length>0&&(y([]),e([],{type:ae.ENTRY_LINK,delta:{type:Be.REMOVE,index:0}}));else{const D=m.entriesById[T],$=Gr({database:m,entry:D},E.getState()),L={_id:((O=o[0])==null?void 0:O._id)??wt(),entryId:T,title:$||f(G["unnamed-entities.unnamed-entry"])};y([{...L,entryRef:L}]),e([L],{type:ae.ENTRY_LINK,delta:v.length>0?{type:Be.EDIT,index:0,value:L}:{type:Be.APPEND,value:L}})}},[m,v.length,e,E,o,f]),C=c.useCallback((T,O,D,$)=>{y($),e($.map(L=>L.entryRef),{type:ae.ENTRY_LINK,delta:{type:Be.EDIT,value:T.entryRef,index:O}})},[e]),x=c.useCallback((T,O)=>{y(O),e(O.map(D=>D.entryRef),{type:ae.ENTRY_LINK,delta:{type:Be.APPEND,value:T.entryRef}})},[e]),S=c.useCallback((T,O,D)=>{y(D),e(D.map($=>$.entryRef),{type:ae.ENTRY_LINK,delta:{type:Be.REMOVE,index:O}})},[e]),I=c.useCallback((T,O,D,$)=>{y($),e($.map(L=>L.entryRef),{type:ae.ENTRY_LINK,delta:{type:Be.REORDER,currentIndex:O,newIndex:D}})},[e]),A=c.useCallback(({value:T,autoFocus:O,onChange:D})=>h.jsx(Y7,{database:m,isLoading:p,isDisabled:p,noOptionsMessage:!s||!i?f(G["entry-link.no-options"]):"",value:"entryId"in T.entryRef?T.entryRef.entryId:"",onChange:fr($=>{if($&&m){const L=m.entriesById[$],F=Gr({database:m,entry:L},E.getState());D({entryRef:{_id:T.entryRef._id,entryId:$,title:F||f(G["unnamed-entities.unnamed-entry"])},entry:L},null)}else D({entryRef:{_id:T.entryRef._id}},null)}),autoFocus:O,isSeamless:!0,isLinkPreview:!0}),[m,p,s,i,f,E]);return l||v.length>1?h.jsx(jh,{getId:Wtt,values:b,onItemChange:C,onAddNewItem:x,onRemoveItem:S,onReorder:I,getNewValue:Gtt,renderField:A,autoFocus:o.length===0?r:void 0,addLabel:"Add entry",noAdd:!l,onFocus:t,onBlur:n}):h.jsx(Y7,{database:m,isLoading:p,isDisabled:p,noOptionsMessage:!s||!i?f(G["entry-link.no-options"]):"",value:b.length&&"entryId"in b[0].entryRef?b[0].entryRef.entryId:void 0,onChange:w,onFocus:t,onBlur:n,autoFocus:r,isClearable:!0,isLinkPreview:!0})};function dE(e){var t;!ca(e)&&e.key==="Enter"&&(e.preventDefault(),e.currentTarget.form&&(e.currentTarget.form.requestSubmit?e.currentTarget.form.requestSubmit():(t=e.currentTarget.form)==null||t.dispatchEvent(new Event("submit"))))}var oS={exports:{}},bo=-1,Dr=1,Gn=0;function pm(e,t,n,r,o){if(e===t)return e?[[Gn,e]]:[];if(n!=null){var a=nnt(e,t,n);if(a)return a}var s=BA(e,t),i=e.substring(0,s);e=e.substring(s),t=t.substring(s),s=uE(e,t);var l=e.substring(e.length-s);e=e.substring(0,e.length-s),t=t.substring(0,t.length-s);var d=Ytt(e,t);return i&&d.unshift([Gn,i]),l&&d.push([Gn,l]),UA(d,o),r&&Jtt(d),d}function Ytt(e,t){var n;if(!e)return[[Dr,t]];if(!t)return[[bo,e]];var r=e.length>t.length?e:t,o=e.length>t.length?t:e,a=r.indexOf(o);if(a!==-1)return n=[[Dr,r.substring(0,a)],[Gn,o],[Dr,r.substring(a+o.length)]],e.length>t.length&&(n[0][0]=n[2][0]=bo),n;if(o.length===1)return[[bo,e],[Dr,t]];var s=Xtt(e,t);if(s){var i=s[0],l=s[1],d=s[2],u=s[3],f=s[4],p=pm(i,d),m=pm(l,u);return p.concat([[Gn,f]],m)}return Ktt(e,t)}function Ktt(e,t){for(var n=e.length,r=t.length,o=Math.ceil((n+r)/2),a=o,s=2*o,i=new Array(s),l=new Array(s),d=0;d<s;d++)i[d]=-1,l[d]=-1;i[a+1]=0,l[a+1]=0;for(var u=n-r,f=u%2!==0,p=0,m=0,g=0,v=0,b=0;b<o;b++){for(var y=-b+p;y<=b-m;y+=2){var E=a+y,w;y===-b||y!==b&&i[E-1]<i[E+1]?w=i[E+1]:w=i[E-1]+1;for(var C=w-y;w<n&&C<r&&e.charAt(w)===t.charAt(C);)w++,C++;if(i[E]=w,w>n)m+=2;else if(C>r)p+=2;else if(f){var x=a+u-y;if(x>=0&&x<s&&l[x]!==-1){var S=n-l[x];if(w>=S)return K7(e,t,w,C)}}}for(var I=-b+g;I<=b-v;I+=2){var x=a+I,S;I===-b||I!==b&&l[x-1]<l[x+1]?S=l[x+1]:S=l[x-1]+1;for(var A=S-I;S<n&&A<r&&e.charAt(n-S-1)===t.charAt(r-A-1);)S++,A++;if(l[x]=S,S>n)v+=2;else if(A>r)g+=2;else if(!f){var E=a+u-I;if(E>=0&&E<s&&i[E]!==-1){var w=i[E],C=a+w-E;if(S=n-S,w>=S)return K7(e,t,w,C)}}}}return[[bo,e],[Dr,t]]}function K7(e,t,n,r){var o=e.substring(0,n),a=t.substring(0,r),s=e.substring(n),i=t.substring(r),l=pm(o,a),d=pm(s,i);return l.concat(d)}function BA(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,a=0;n<o;)e.substring(a,o)==t.substring(a,o)?(n=o,a=n):r=o,o=Math.floor((r-n)/2+n);return qte(e.charCodeAt(o-1))&&o--,o}function X7(e,t){var n=e.length,r=t.length;if(n==0||r==0)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var o=Math.min(n,r);if(e==t)return o;for(var a=0,s=1;;){var i=e.substring(o-s),l=t.indexOf(i);if(l==-1)return a;s+=l,(l==0||e.substring(o-s)==t.substring(0,s))&&(a=s,s++)}}function uE(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,a=0;n<o;)e.substring(e.length-o,e.length-a)==t.substring(t.length-o,t.length-a)?(n=o,a=n):r=o,o=Math.floor((r-n)/2+n);return Yte(e.charCodeAt(e.length-o))&&o--,o}function Xtt(e,t){var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||r.length*2<n.length)return null;function o(m,g,v){for(var b=m.substring(v,v+Math.floor(m.length/4)),y=-1,E="",w,C,x,S;(y=g.indexOf(b,y+1))!==-1;){var I=BA(m.substring(v),g.substring(y)),A=uE(m.substring(0,v),g.substring(0,y));E.length<A+I&&(E=g.substring(y-A,y)+g.substring(y,y+I),w=m.substring(0,v-A),C=m.substring(v+I),x=g.substring(0,y-A),S=g.substring(y+I))}return E.length*2>=m.length?[w,C,x,S,E]:null}var a=o(n,r,Math.ceil(n.length/4)),s=o(n,r,Math.ceil(n.length/2)),i;if(!a&&!s)return null;s?a?i=a[4].length>s[4].length?a:s:i=s:i=a;var l,d,u,f;e.length>t.length?(l=i[0],d=i[1],u=i[2],f=i[3]):(u=i[0],f=i[1],l=i[2],d=i[3]);var p=i[4];return[l,d,u,f,p]}function Jtt(e){for(var t=!1,n=[],r=0,o=null,a=0,s=0,i=0,l=0,d=0;a<e.length;)e[a][0]==Gn?(n[r++]=a,s=l,i=d,l=0,d=0,o=e[a][1]):(e[a][0]==Dr?l+=e[a][1].length:d+=e[a][1].length,o&&o.length<=Math.max(s,i)&&o.length<=Math.max(l,d)&&(e.splice(n[r-1],0,[bo,o]),e[n[r-1]+1][0]=Dr,r--,r--,a=r>0?n[r-1]:-1,s=0,i=0,l=0,d=0,o=null,t=!0)),a++;for(t&&UA(e),ent(e),a=1;a<e.length;){if(e[a-1][0]==bo&&e[a][0]==Dr){var u=e[a-1][1],f=e[a][1],p=X7(u,f),m=X7(f,u);p>=m?(p>=u.length/2||p>=f.length/2)&&(e.splice(a,0,[Gn,f.substring(0,p)]),e[a-1][1]=u.substring(0,u.length-p),e[a+1][1]=f.substring(p),a++):(m>=u.length/2||m>=f.length/2)&&(e.splice(a,0,[Gn,u.substring(0,m)]),e[a-1][0]=Dr,e[a-1][1]=f.substring(0,f.length-m),e[a+1][0]=bo,e[a+1][1]=u.substring(m),a++),a++}a++}}var J7=/[^a-zA-Z0-9]/,Z7=/\s/,Q7=/[\r\n]/,Ztt=/\n\r?\n$/,Qtt=/^\r?\n\r?\n/;function ent(e){function t(m,g){if(!m||!g)return 6;var v=m.charAt(m.length-1),b=g.charAt(0),y=v.match(J7),E=b.match(J7),w=y&&v.match(Z7),C=E&&b.match(Z7),x=w&&v.match(Q7),S=C&&b.match(Q7),I=x&&m.match(Ztt),A=S&&g.match(Qtt);return I||A?5:x||S?4:y&&!w&&C?3:w||C?2:y||E?1:0}for(var n=1;n<e.length-1;){if(e[n-1][0]==Gn&&e[n+1][0]==Gn){var r=e[n-1][1],o=e[n][1],a=e[n+1][1],s=uE(r,o);if(s){var i=o.substring(o.length-s);r=r.substring(0,r.length-s),o=i+o.substring(0,o.length-s),a=i+a}for(var l=r,d=o,u=a,f=t(r,o)+t(o,a);o.charAt(0)===a.charAt(0);){r+=o.charAt(0),o=o.substring(1)+a.charAt(0),a=a.substring(1);var p=t(r,o)+t(o,a);p>=f&&(f=p,l=r,d=o,u=a)}e[n-1][1]!=l&&(l?e[n-1][1]=l:(e.splice(n-1,1),n--),e[n][1]=d,u?e[n+1][1]=u:(e.splice(n+1,1),n--))}n++}}function UA(e,t){e.push([Gn,""]);for(var n=0,r=0,o=0,a="",s="",i;n<e.length;){if(n<e.length-1&&!e[n][1]){e.splice(n,1);continue}switch(e[n][0]){case Dr:o++,s+=e[n][1],n++;break;case bo:r++,a+=e[n][1],n++;break;case Gn:var l=n-o-r-1;if(t){if(l>=0&&Xte(e[l][1])){var d=e[l][1].slice(-1);if(e[l][1]=e[l][1].slice(0,-1),a=d+a,s=d+s,!e[l][1]){e.splice(l,1),n--;var u=l-1;e[u]&&e[u][0]===Dr&&(o++,s=e[u][1]+s,u--),e[u]&&e[u][0]===bo&&(r++,a=e[u][1]+a,u--),l=u}}if(Kte(e[n][1])){var d=e[n][1].charAt(0);e[n][1]=e[n][1].slice(1),a+=d,s+=d}}if(n<e.length-1&&!e[n][1]){e.splice(n,1);break}if(a.length>0||s.length>0){a.length>0&&s.length>0&&(i=BA(s,a),i!==0&&(l>=0?e[l][1]+=s.substring(0,i):(e.splice(0,0,[Gn,s.substring(0,i)]),n++),s=s.substring(i),a=a.substring(i)),i=uE(s,a),i!==0&&(e[n][1]=s.substring(s.length-i)+e[n][1],s=s.substring(0,s.length-i),a=a.substring(0,a.length-i)));var f=o+r;a.length===0&&s.length===0?(e.splice(n-f,f),n=n-f):a.length===0?(e.splice(n-f,f,[Dr,s]),n=n-f+1):s.length===0?(e.splice(n-f,f,[bo,a]),n=n-f+1):(e.splice(n-f,f,[bo,a],[Dr,s]),n=n-f+2)}n!==0&&e[n-1][0]===Gn?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,o=0,r=0,a="",s="";break}}e[e.length-1][1]===""&&e.pop();var p=!1;for(n=1;n<e.length-1;)e[n-1][0]===Gn&&e[n+1][0]===Gn&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)===e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),p=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),p=!0)),n++;p&&UA(e,t)}function qte(e){return e>=55296&&e<=56319}function Yte(e){return e>=56320&&e<=57343}function Kte(e){return Yte(e.charCodeAt(0))}function Xte(e){return qte(e.charCodeAt(e.length-1))}function tnt(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}function uC(e,t,n,r){return Xte(e)||Kte(r)?null:tnt([[Gn,e],[bo,t],[Dr,n],[Gn,r]])}function nnt(e,t,n){var r=typeof n=="number"?{index:n,length:0}:n.oldRange,o=typeof n=="number"?null:n.newRange,a=e.length,s=t.length;if(r.length===0&&(o===null||o.length===0)){var i=r.index,l=e.slice(0,i),d=e.slice(i),u=o?o.index:null;e:{var f=i+s-a;if(u!==null&&u!==f||f<0||f>s)break e;var p=t.slice(0,f),m=t.slice(f);if(m!==d)break e;var g=Math.min(i,f),v=l.slice(0,g),b=p.slice(0,g);if(v!==b)break e;var y=l.slice(g),E=p.slice(g);return uC(v,y,E,d)}e:{if(u!==null&&u!==i)break e;var w=i,p=t.slice(0,w),m=t.slice(w);if(p!==l)break e;var C=Math.min(a-w,s-w),x=d.slice(d.length-C),S=m.slice(m.length-C);if(x!==S)break e;var y=d.slice(0,d.length-C),E=m.slice(0,m.length-C);return uC(l,y,E,x)}}if(r.length>0&&o&&o.length===0)e:{var v=e.slice(0,r.index),x=e.slice(r.index+r.length),g=v.length,C=x.length;if(s<g+C)break e;var b=t.slice(0,g),S=t.slice(s-C);if(v!==b||x!==S)break e;var y=e.slice(g,a-C),E=t.slice(g,s-C);return uC(v,y,E,x)}return null}function fE(e,t,n,r){return pm(e,t,n,r,!0)}fE.INSERT=Dr;fE.DELETE=bo;fE.EQUAL=Gn;var rnt=fE,HA={};Object.defineProperty(HA,"__esModule",{value:!0});const ont=SF,ant=kF;var aS;(function(e){function t(a={},s={},i=!1){typeof a!="object"&&(a={}),typeof s!="object"&&(s={});let l=ont(s);i||(l=Object.keys(l).reduce((d,u)=>(l[u]!=null&&(d[u]=l[u]),d),{}));for(const d in a)a[d]!==void 0&&s[d]===void 0&&(l[d]=a[d]);return Object.keys(l).length>0?l:void 0}e.compose=t;function n(a={},s={}){typeof a!="object"&&(a={}),typeof s!="object"&&(s={});const i=Object.keys(a).concat(Object.keys(s)).reduce((l,d)=>(ant(a[d],s[d])||(l[d]=s[d]===void 0?null:s[d]),l),{});return Object.keys(i).length>0?i:void 0}e.diff=n;function r(a={},s={}){a=a||{};const i=Object.keys(s).reduce((l,d)=>(s[d]!==a[d]&&a[d]!==void 0&&(l[d]=s[d]),l),{});return Object.keys(a).reduce((l,d)=>(a[d]!==s[d]&&s[d]===void 0&&(l[d]=null),l),i)}e.invert=r;function o(a,s,i=!1){if(typeof a!="object")return s;if(typeof s!="object")return;if(!i)return s;const l=Object.keys(s).reduce((d,u)=>(a[u]===void 0&&(d[u]=s[u]),d),{});return Object.keys(l).length>0?l:void 0}e.transform=o})(aS||(aS={}));HA.default=aS;var pE={};Object.defineProperty(pE,"__esModule",{value:!0});var sS;(function(e){function t(n){return typeof n.delete=="number"?n.delete:typeof n.retain=="number"?n.retain:typeof n.retain=="object"&&n.retain!==null?1:typeof n.insert=="string"?n.insert.length:1}e.length=t})(sS||(sS={}));pE.default=sS;var zA={};Object.defineProperty(zA,"__esModule",{value:!0});const eP=pE;class snt{constructor(t){this.ops=t,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(t){t||(t=1/0);const n=this.ops[this.index];if(n){const r=this.offset,o=eP.default.length(n);if(t>=o-r?(t=o-r,this.index+=1,this.offset=0):this.offset+=t,typeof n.delete=="number")return{delete:t};{const a={};return n.attributes&&(a.attributes=n.attributes),typeof n.retain=="number"?a.retain=t:typeof n.retain=="object"&&n.retain!==null?a.retain=n.retain:typeof n.insert=="string"?a.insert=n.insert.substr(r,t):a.insert=n.insert,a}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?eP.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const t=this.ops[this.index];return t?typeof t.delete=="number"?"delete":typeof t.retain=="number"||typeof t.retain=="object"&&t.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const t=this.offset,n=this.index,r=this.next(),o=this.ops.slice(this.index);return this.offset=t,this.index=n,[r].concat(o)}}else return[]}}zA.default=snt;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const n=rnt,r=SF,o=kF,a=HA;t.AttributeMap=a.default;const s=pE;t.Op=s.default;const i=zA;t.OpIterator=i.default;const l="\0",d=(f,p)=>{if(typeof f!="object"||f===null)throw new Error(`cannot retain a ${typeof f}`);if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);const m=Object.keys(f)[0];if(!m||m!==Object.keys(p)[0])throw new Error(`embed types not matched: ${m} != ${Object.keys(p)[0]}`);return[m,f[m],p[m]]};class u{constructor(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]}static registerEmbed(p,m){this.handlers[p]=m}static unregisterEmbed(p){delete this.handlers[p]}static getHandler(p){const m=this.handlers[p];if(!m)throw new Error(`no handlers for embed type "${p}"`);return m}insert(p,m){const g={};return typeof p=="string"&&p.length===0?this:(g.insert=p,m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(g.attributes=m),this.push(g))}delete(p){return p<=0?this:this.push({delete:p})}retain(p,m){if(typeof p=="number"&&p<=0)return this;const g={retain:p};return m!=null&&typeof m=="object"&&Object.keys(m).length>0&&(g.attributes=m),this.push(g)}push(p){let m=this.ops.length,g=this.ops[m-1];if(p=r(p),typeof g=="object"){if(typeof p.delete=="number"&&typeof g.delete=="number")return this.ops[m-1]={delete:g.delete+p.delete},this;if(typeof g.delete=="number"&&p.insert!=null&&(m-=1,g=this.ops[m-1],typeof g!="object"))return this.ops.unshift(p),this;if(o(p.attributes,g.attributes)){if(typeof p.insert=="string"&&typeof g.insert=="string")return this.ops[m-1]={insert:g.insert+p.insert},typeof p.attributes=="object"&&(this.ops[m-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof g.retain=="number")return this.ops[m-1]={retain:g.retain+p.retain},typeof p.attributes=="object"&&(this.ops[m-1].attributes=p.attributes),this}}return m===this.ops.length?this.ops.push(p):this.ops.splice(m,0,p),this}chop(){const p=this.ops[this.ops.length-1];return p&&typeof p.retain=="number"&&!p.attributes&&this.ops.pop(),this}filter(p){return this.ops.filter(p)}forEach(p){this.ops.forEach(p)}map(p){return this.ops.map(p)}partition(p){const m=[],g=[];return this.forEach(v=>{(p(v)?m:g).push(v)}),[m,g]}reduce(p,m){return this.ops.reduce(p,m)}changeLength(){return this.reduce((p,m)=>m.insert?p+s.default.length(m):m.delete?p-m.delete:p,0)}length(){return this.reduce((p,m)=>p+s.default.length(m),0)}slice(p=0,m=1/0){const g=[],v=new i.default(this.ops);let b=0;for(;b<m&&v.hasNext();){let y;b<p?y=v.next(p-b):(y=v.next(m-b),g.push(y)),b+=s.default.length(y)}return new u(g)}compose(p){const m=new i.default(this.ops),g=new i.default(p.ops),v=[],b=g.peek();if(b!=null&&typeof b.retain=="number"&&b.attributes==null){let E=b.retain;for(;m.peekType()==="insert"&&m.peekLength()<=E;)E-=m.peekLength(),v.push(m.next());b.retain-E>0&&g.next(b.retain-E)}const y=new u(v);for(;m.hasNext()||g.hasNext();)if(g.peekType()==="insert")y.push(g.next());else if(m.peekType()==="delete")y.push(m.next());else{const E=Math.min(m.peekLength(),g.peekLength()),w=m.next(E),C=g.next(E);if(C.retain){const x={};if(typeof w.retain=="number")x.retain=typeof C.retain=="number"?E:C.retain;else if(typeof C.retain=="number")w.retain==null?x.insert=w.insert:x.retain=w.retain;else{const I=w.retain==null?"insert":"retain",[A,T,O]=d(w[I],C.retain),D=u.getHandler(A);x[I]={[A]:D.compose(T,O,I==="retain")}}const S=a.default.compose(w.attributes,C.attributes,typeof w.retain=="number");if(S&&(x.attributes=S),y.push(x),!g.hasNext()&&o(y.ops[y.ops.length-1],x)){const I=new u(m.rest());return y.concat(I).chop()}}else typeof C.delete=="number"&&(typeof w.retain=="number"||typeof w.retain=="object"&&w.retain!==null)&&y.push(C)}return y.chop()}concat(p){const m=new u(this.ops.slice());return p.ops.length>0&&(m.push(p.ops[0]),m.ops=m.ops.concat(p.ops.slice(1))),m}diff(p,m){if(this.ops===p.ops)return new u;const g=[this,p].map(w=>w.map(C=>{if(C.insert!=null)return typeof C.insert=="string"?C.insert:l;const x=w===p?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")),v=new u,b=n(g[0],g[1],m,!0),y=new i.default(this.ops),E=new i.default(p.ops);return b.forEach(w=>{let C=w[1].length;for(;C>0;){let x=0;switch(w[0]){case n.INSERT:x=Math.min(E.peekLength(),C),v.push(E.next(x));break;case n.DELETE:x=Math.min(C,y.peekLength()),y.next(x),v.delete(x);break;case n.EQUAL:x=Math.min(y.peekLength(),E.peekLength(),C);const S=y.next(x),I=E.next(x);o(S.insert,I.insert)?v.retain(x,a.default.diff(S.attributes,I.attributes)):v.push(I).delete(x);break}C-=x}}),v.chop()}eachLine(p,m=`
`){const g=new i.default(this.ops);let v=new u,b=0;for(;g.hasNext();){if(g.peekType()!=="insert")return;const y=g.peek(),E=s.default.length(y)-g.peekLength(),w=typeof y.insert=="string"?y.insert.indexOf(m,E)-E:-1;if(w<0)v.push(g.next());else if(w>0)v.push(g.next(w));else{if(p(v,g.next(1).attributes||{},b)===!1)return;b+=1,v=new u}}v.length()>0&&p(v,{},b)}invert(p){const m=new u;return this.reduce((g,v)=>{if(v.insert)m.delete(s.default.length(v));else{if(typeof v.retain=="number"&&v.attributes==null)return m.retain(v.retain),g+v.retain;if(v.delete||typeof v.retain=="number"){const b=v.delete||v.retain;return p.slice(g,g+b).forEach(E=>{v.delete?m.push(E):v.retain&&v.attributes&&m.retain(s.default.length(E),a.default.invert(v.attributes,E.attributes))}),g+b}else if(typeof v.retain=="object"&&v.retain!==null){const b=p.slice(g,g+1),y=new i.default(b.ops).next(),[E,w,C]=d(v.retain,y.insert),x=u.getHandler(E);return m.retain({[E]:x.invert(w,C)},a.default.invert(v.attributes,y.attributes)),g+1}}return g},0),m.chop()}transform(p,m=!1){if(m=!!m,typeof p=="number")return this.transformPosition(p,m);const g=p,v=new i.default(this.ops),b=new i.default(g.ops),y=new u;for(;v.hasNext()||b.hasNext();)if(v.peekType()==="insert"&&(m||b.peekType()!=="insert"))y.retain(s.default.length(v.next()));else if(b.peekType()==="insert")y.push(b.next());else{const E=Math.min(v.peekLength(),b.peekLength()),w=v.next(E),C=b.next(E);if(w.delete)continue;if(C.delete)y.push(C);else{const x=w.retain,S=C.retain;let I=typeof S=="object"&&S!==null?S:E;if(typeof x=="object"&&x!==null&&typeof S=="object"&&S!==null){const A=Object.keys(x)[0];if(A===Object.keys(S)[0]){const T=u.getHandler(A);T&&(I={[A]:T.transform(x[A],S[A],m)})}}y.retain(I,a.default.transform(w.attributes,C.attributes,m))}}return y.chop()}transformPosition(p,m=!1){m=!!m;const g=new i.default(this.ops);let v=0;for(;g.hasNext()&&v<=p;){const b=g.peekLength(),y=g.peekType();if(g.next(),y==="delete"){p-=Math.min(b,p-v);continue}else y==="insert"&&(v<p||!m)&&(p+=b);v+=b}return p}}u.Op=s.default,u.OpIterator=i.default,u.AttributeMap=a.default,u.handlers={},t.default=u,e.exports=u,e.exports.default=u})(oS,oS.exports);var int=oS.exports;const Ib=_r(int);function mE(e,t,n){return new Ib().insert(e).diff(new Ib().insert(t),n).ops}function mm(e,t){const n=c.useRef(),r=c.useRef(),o=c.useRef(t);o.current=t,c.useEffect(()=>{if(!e)return;const a=fr(()=>{e.selectionStart!=null&&e.selectionEnd!=null&&(n.current=[e.selectionStart,e.selectionEnd])}),s=fr(()=>{const i=n.current,l=r.current;a(),r.current=e.value;const d=r.current;if(!i||l==null){wn(new Error(`Cannot create delta, some values are undefined: ${JSON.stringify({prevRange:i,prevValue:l})}`));return}const u=mE(l,d,i==null?void 0:i[1]);u.length>0&&o.current(u,d)});return r.current=e.value,a(),e.ownerDocument.addEventListener("selectionchange",a),e.addEventListener("input",s),()=>{e.ownerDocument.removeEventListener("selectionchange",a),e.removeEventListener("input",s)}},[e]),c.useEffect(()=>{r.current=e==null?void 0:e.value})}const lnt=e=>e===0?!1:e===1?!0:Math.random()*e<1,Jte=(e,t,n)=>{let r=0,o=0,a=0,s=0,i=0;return e.forEach(l=>{l!==0&&(a=(a*s+l)/++s,l>o&&(o=l),(r===0||l<r)&&(r=l),l<50&&i++)}),{typing:{min:r,max:o,avg:a,count:s,below50count:i,compute:performance.now()-t,typeTracingMethod:n}}};function cnt(e,t,n){let r,o=[],a=!1;const s=()=>{a=!0},i=async u=>{const f=performance.now(),p=Jte(u,f,"timeout"),m=t();await m.transition(Ni.STARTED,0);const{viewsCount:g,entriesCount:v}=UV();m.addMetadata({...p,databaseSizeMetrics:{entriesCount:v,viewsCount:g}}),await m.transition(Ni.SUCCEEDED,p.typing.avg)},l=()=>{a=!1;const u=o;o=[],jd.unstable_scheduleCallback(jd.unstable_IdlePriority,()=>{i(u)})},d=async u=>{a||await s();const f=u.timeStamp;setTimeout(()=>{const m=performance.now()-f;o.push(m),clearTimeout(r),r=setTimeout(l,2e3)},0)};return e.addEventListener("keypress",d),()=>{e.removeEventListener("keypress",d)}}function dnt(e,t,n){let r,o=!1,a=0,s=0,i=0,l=0,d=0;const u=()=>{a=0,s=0,i=0,l=0,d=0},f=async v=>{const b=t();await b.transition(Ni.STARTED,0);const{viewsCount:y,entriesCount:E}=UV();b.addMetadata({...v,databaseSizeMetrics:{entriesCount:E,viewsCount:y}}),await b.transition(Ni.SUCCEEDED,v.typing.avg)},p=()=>{o=!0},m=()=>{o=!1;const v={typing:{min:a,max:s,avg:l,count:d,below50count:i,typeTracingMethod:"timeoutNoAlloc"}};u(),jd.unstable_scheduleCallback(jd.unstable_IdlePriority,()=>{f(v)})},g=async v=>{o||await p();const b=v.timeStamp;setTimeout(()=>{const E=performance.now()-b;E!==0&&(l=(l*d+E)/++d,E>s&&(s=E),(a===0||E<a)&&(a=E),E<50&&i++),clearTimeout(r),r=setTimeout(m,2e3)},0)};return e.addEventListener("keypress",g),()=>{e.removeEventListener("keypress",g)}}function unt(e,t,n){let r=-1,o=!1,a=0;const s=t();let i;const l=20,d=new Float64Array(l),u=()=>{d.fill(0)},f=()=>{r=-1},p=async(y,E)=>{const w=Jte(y,E,"mutationObserver"),C=t();await C.transition(Ni.STARTED,0),C.addMetadata(w),await C.transition(Ni.SUCCEEDED,w.typing.avg)},m=async()=>{await s.start(),o=!0},g=()=>{if(o=!1,a===0)return;const y=new Float64Array(d),E=a;u(),f(),a=0,jd.unstable_scheduleCallback(jd.unstable_IdlePriority,()=>{const w=performance.now(),C=y.subarray(0,E);p(C,w)})},v=async y=>{o||await m(),r=y.timeStamp,setTimeout(()=>{clearTimeout(i),i=setTimeout(g,2e3)},0)},b=new MutationObserver(y=>{const E=performance.now();if(r===-1)return;if(a>l-1){g();return}const w=r;f(),y.forEach(()=>{requestAnimationFrame(C=>{C<E?requestAnimationFrame(x=>{d[a]=x-w,a++}):(d[a]=C-w,a++)})})});return b.observe(e,{attributeFilter:["value"],attributes:!0,characterData:!0,childList:!0,subtree:!0}),e.addEventListener("keypress",v),()=>{e.removeEventListener("keypress",v),b.disconnect()}}const fnt={timeout:cnt,timeoutNoAlloc:dnt,mutationObserver:unt};function hE(e,t=1,n="timeout"){const r=c.useRef(null),o=c.useMemo(()=>()=>new Gb(e,{type:qb.Operation,performanceType:Yb.InlineResult}),[e]);return c.useEffect(()=>{if(lnt(t)&&r.current!=null)return fnt[n](r.current,o,t)},[t,n,o]),r}const gE=Re.div.withConfig({displayName:"TextValueEdit__Container",componentId:"sc-1r50kic-0"})(["flex-grow:1;&&& textarea{overflow:hidden;min-height:100%;}"]),pnt=({onChange:e,onFocus:t,onBlur:n,autoFocus:r,value:o,isSeamless:a})=>{const s=a?vY:Uu,[i,l]=c.useState(o),d=c.useCallback(m=>{m.currentTarget.setSelectionRange(m.currentTarget.value.length,m.currentTarget.value.length),t==null||t(m)},[t]),[u,f]=c.useState(null);mm(u,c.useCallback(async(m,g)=>{l(g),e(g,{type:ae.TEXT,delta:m})},[e]));const p=hE(sh.MEAN_TEXT_VALUE_TYPING);return h.jsx(gE,{children:h.jsx(s,{value:i,onFocus:d,onBlur:n,autoFocus:r,rows:1,ref:eo(f,p),testId:"text-value-edit"})})},mnt=e=>e._id,hnt=()=>({_id:wt(),url:""}),gnt=({onChange:e,onFocus:t,onBlur:n,autoFocus:r,value:o,field:a,isSeamless:s,isInvalid:i})=>{const l=a.settings.multi||o.length>1,[d,u]=c.useState(null);mm(d,c.useCallback((w,C)=>{const x=o.length===0?{_id:wt(),url:C}:{_id:o[0]._id,url:C};e([x],{type:ae.HYPERLINK,delta:o.length===0?{type:Be.APPEND,value:x}:{type:Be.EDIT,index:0,delta:w}})},[e,o]));const[f,p]=c.useState(o),m=c.useCallback(({value:w,autoFocus:C,onChange:x})=>{const[S,I]=c.useState(null);return mm(S,c.useCallback((A,T)=>{x({_id:w._id,url:T},A)},[x,w])),h.jsx(dx,{value:w.url,onChange:jp,ref:I,autoFocus:C,isInvalid:!!w.url&&!hN(w.url)})},[]),g=_.useCallback((w,C)=>{p(C),e(C,{type:ae.HYPERLINK,delta:{type:Be.APPEND,value:w}})},[e]),v=_.useCallback((w,C,x)=>{p(x),e(x,{type:ae.HYPERLINK,delta:{type:Be.REMOVE,index:C}})},[e]),b=_.useCallback((w,C,x,S)=>{p(S),e(S,{type:ae.HYPERLINK,delta:{type:Be.EDIT,index:C,delta:x}})},[e]),y=_.useCallback((w,C,x,S)=>{p(S),e(S,{type:ae.HYPERLINK,delta:{type:Be.REORDER,currentIndex:C,newIndex:x}})},[e]),E=De(w=>dE(w),[]);if(l)return h.jsx(jh,{getId:mnt,values:f,onItemChange:b,onAddNewItem:g,onRemoveItem:v,onReorder:y,getNewValue:hnt,renderField:m,autoFocus:o.length===0?r:void 0,addLabel:"Add link",noAdd:!a.settings.multi,onFocus:t,onBlur:n});{const w=s?dx:ts,C=o.length>0?o[0].url:"";return h.jsx(gE,{children:h.jsx(w,{value:C,onChange:jp,onFocus:t,onBlur:n,onKeyDown:E,autoFocus:r,isInvalid:i,ref:u})})}};async function WA(e,t,n,r,o){const a=to(r.getState()),s=open(`${a}${n}`,void 0,"popup=1");if(!s)throw new Error(o);for(;s&&!s.closed;)await gN(500);r.dispatch(vce(e,t)),tn.clearMessage("jira-auth")}const vnt=Le.img.withConfig({displayName:"JiraIssueIcon__Img",componentId:"sc-1i8876m-0"})(["width:14px;height:14px;"]),GA=({issue:e})=>{const[t]=fe.useShallowEqualSelector(n=>[e1(n,e)]);return t!=null&&t.typeIconUrl?h.jsx(vnt,{src:t.typeIconUrl,alt:""}):null},au=({issue:e})=>{const[t]=fe.useShallowEqualSelector(n=>[e1(n,e)]);return h.jsx(h.Fragment,{children:t?`${t.key}: ${t.summary}`:e.key})},bnt=ie({display:"inline-flex",borderRadius:"border.radius",blockSize:"min-content",position:"static",overflow:"hidden"}),cl={container:M({display:"inline-flex",boxSizing:"border-box",position:"static",blockSize:"min-content",borderRadius:"3px",overflow:"hidden",paddingInline:"var(--ds-space-050, 4px)"}),containerSubtle:M({outlineOffset:-1}),background:{bold:{default:M({backgroundColor:"#DDDEE1"}),inprogress:M({backgroundColor:"#8FB8F6"}),moved:M({backgroundColor:"#F9C84E"}),new:M({backgroundColor:"#D8A0F7"}),removed:M({backgroundColor:"#FD9891"}),success:M({backgroundColor:"#B3DF72"})},subtle:{default:M({backgroundColor:"var(--ds-background-neutral-subtle, #00000000)"}),inprogress:M({backgroundColor:"var(--ds-background-neutral-subtle, #00000000)"}),moved:M({backgroundColor:"var(--ds-background-neutral-subtle, #00000000)"}),new:M({backgroundColor:"var(--ds-background-neutral-subtle, #00000000)"}),removed:M({backgroundColor:"var(--ds-background-neutral-subtle, #00000000)"}),success:M({backgroundColor:"var(--ds-background-neutral-subtle, #00000000)"})}},border:{subtle:{default:M({border:"1px solid #B7B9BE"}),inprogress:M({border:"1px solid #669DF1"}),moved:M({border:"1px solid #FCA700"}),new:M({border:"1px solid #C97CF4"}),removed:M({border:"1px solid #F87168"}),success:M({border:"1px solid #94C748"})}},outline:{subtle:{default:M({outline:"1px solid #B7B9BE"}),inprogress:M({outline:"1px solid #669DF1"}),moved:M({outline:"1px solid #FCA700"}),new:M({outline:"1px solid #C97CF4"}),removed:M({outline:"1px solid #F87168"}),success:M({outline:"1px solid #94C748"})}},text:{subtle:M({color:"var(--ds-text, #172B4D)"}),bold:M({color:"#292A2E"})}},tP=M({fontFamily:'var(--ds-font-family-body, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)',fontSize:"11px",fontStyle:"normal",fontWeight:"var(--ds-font-weight-bold, 700)",lineHeight:"16px",overflow:"hidden",textOverflow:"ellipsis",textTransform:"uppercase",whiteSpace:"nowrap"}),Zte=c.memo(({children:e,testId:t,isBold:n=!1,appearance:r="default",maxWidth:o=200,style:a})=>{const s=n?"bold":"subtle",i=r in cl.background[s]?r:"default",l=typeof o=="string"?o:`${o}px`,d=typeof o=="string"&&/%$/.test(o);if(Pe("platform-component-visual-refresh"))return k("span",{style:{backgroundColor:a==null?void 0:a.backgroundColor,maxWidth:d?o:"100%"},css:[cl.container,cl.background[s][i],s==="subtle"&&!Pe("visual-refresh_drop_5")&&cl.border.subtle[i],s==="subtle"&&Pe("visual-refresh_drop_5")&&cl.outline.subtle[i],s==="subtle"&&Pe("visual-refresh_drop_5")&&cl.containerSubtle],"data-testid":t},k("span",{css:[tP,cl.text[s]],style:{color:a==null?void 0:a.color,maxWidth:d?"100%":`calc(${l} - var(--ds-space-100, 8px))`},"data-testid":t&&`${t}--text`},e));const u=r in nP[s]?r:"default";return k(_e,{as:"span",backgroundColor:nP[s][u],style:{backgroundColor:a==null?void 0:a.backgroundColor,maxWidth:d?o:"100%"},paddingInline:"space.050",xcss:bnt,testId:t},k("span",{css:[tP,ynt[s][i]],style:{color:a==null?void 0:a.color,maxWidth:d?"100%":`calc(${l} - var(--ds-space-100, 8px))`},"data-testid":t&&`${t}--text`},e))});Zte.displayName="Lozenge";const nP={bold:{default:"color.background.neutral.bold",inprogress:"color.background.information.bold",moved:"color.background.warning.bold",new:"color.background.discovery.bold",removed:"color.background.danger.bold",success:"color.background.success.bold"},subtle:{default:"color.background.neutral",inprogress:"color.background.information",moved:"color.background.warning",new:"color.background.discovery",removed:"color.background.danger",success:"color.background.success"}},ynt={bold:{default:M({color:"var(--ds-text-inverse, #FFFFFF)"}),inprogress:M({color:"var(--ds-text-inverse, #FFFFFF)"}),moved:M({color:"var(--ds-text-warning-inverse, #172B4D)"}),new:M({color:"var(--ds-text-inverse, #FFFFFF)"}),removed:M({color:"var(--ds-text-inverse, #FFFFFF)"}),success:M({color:"var(--ds-text-inverse, #FFFFFF)"})},subtle:{default:M({color:"var(--ds-text-subtle, #42526E)"}),inprogress:M({color:"var(--ds-text-information, #0052CC)"}),moved:M({color:"var(--ds-text-warning, #974F0C)"}),new:M({color:"var(--ds-text-discovery, #403294)"}),removed:M({color:"var(--ds-text-danger, #DE350B)"}),success:M({color:"var(--ds-text-success, #006644)"})}},qA=({issue:e})=>{const[t]=fe.useShallowEqualSelector(n=>[e1(n,e)]);return t?h.jsx(Zte,{appearance:t.statusCategory==="in-progress"?"inprogress":t.statusCategory==="done"?"success":void 0,children:t.statusName}):null},YA=({issue:e,noFocus:t,onFocus:n,useSmartLink:r})=>{const{formatMessage:o}=Ee(),[a,s,i]=fe.useShallowEqualSelector(f=>{const p=bce(f,e),m=(p==null?void 0:p.status)===St.ERROR?mr(p.error):void 0;return[to(),e1(f,e),m instanceof vv?m.authenticationPath:void 0]}),l=fe.useStore(),d=fe.useDispatch();Yn(c.useCallback(async()=>{try{await d(yce(e))}catch(f){if(!(f instanceof vv))throw f}},[d,e,i]));const u=c.useCallback(async f=>{ca(f)||(f.preventDefault(),await WA(e.cloudId,e.serverId,i,l,o(G["snackbar-error.enable-popup"])))},[i,o,e.cloudId,e.serverId,l]);return i?h.jsxs(Gi,{children:[h.jsx(au,{issue:e}),"(",h.jsx(ht,{appearance:"link",spacing:"none",href:`${a}${i}`,target:"_blank",onClick:u,children:o(G["field-settings.type-link-jira-authenticate-text"])}),")"]}):h.jsx(Gi,{href:s==null?void 0:s.url,useSmartLink:r,onFocus:n,noFocus:t,iconBefore:h.jsx(GA,{issue:e}),iconAfter:s?h.jsx(qA,{issue:e}):void 0,children:h.jsx(au,{issue:e})})},Ent=Re.div.withConfig({displayName:"JiraIssuePicker__OptionContainer",componentId:"sc-1bd0sw3-0"})(["display:flex;gap:",";align-items:center;"],U("space.050","4px")),wnt=e=>e.key,Cnt=e=>e.key,_nt={menu:e=>({...e,width:"max-content",minWidth:"100%"}),singleValue:e=>({...e,padding:U("space.025","2px"),lineHeight:"20px",pointerEvents:"none"})},rP=({cloudId:e,serverId:t,value:n,onChange:r,onFocus:o,onBlur:a,autoFocus:s,isClearable:i,isInvalid:l,isDisabled:d,isSeamless:u,isLinkPreview:f})=>{const{formatMessage:p}=Ee(),m=c.useCallback(E=>{r(E??void 0)},[r]),g=fe.useDispatch(),v=fe.useStore(),b=c.useCallback(async E=>{try{return E.length>1?await g(vN(e,t,E)):[]}catch(w){if(w instanceof vv&&w.authenticationPath){const C=w.authenticationPath;let x=!1;return x?[]:(tn.setMessage(p(G["snackbar-error.jira.auth-required"]),{id:"jira-auth",type:"error",showCloseButton:!0,actions:[{content:p(G["snackbar-error.jira.authenticate"]),onClick:fr(async()=>{await WA(e,t,C,v,p(G["snackbar-error.enable-popup"])),x=!1})}],onDismiss:()=>{x=!1}}),x=!0,[])}else throw w}},[e,g,p,t,v]),y=c.useCallback((E,w)=>w.context==="menu"?h.jsxs(Ent,{children:[h.jsx(GA,{issue:E}),h.jsx(au,{issue:E}),h.jsx(qA,{issue:E})]}):f?h.jsx(YA,{issue:E,useSmartLink:!1}):h.jsx(au,{issue:E}),[f]);return h.jsx(qs,{value:n??null,onChange:m,isClearable:i,isDisabled:d,isInvalid:l,getOptionLabel:Cnt,loadOptions:b,getOptionValue:wnt,formatOptionLabel:y,onFocus:o,onBlur:a,placeholder:p(G["select-dropdown.placeholder"]),loadingMessage:()=>p(G["field-settings.select-picker-loading-text"]),noOptionsMessage:()=>p(G["generic-select.no-options"]),autoFocus:s,styles:_nt,isSeamless:u,defaultMenuIsOpen:s&&!n})};function oP(e){return Pm(e)}const xnt=e=>e._id,Snt=()=>({_id:wt()}),knt=({field:e,value:t,onChange:n,onFocus:r,onBlur:o,autoFocus:a,isSeamless:s})=>{const i=c.useMemo(()=>t.map(y=>Pm(y)?{...y,serverId:e.settings.jiraServerId}:y),[e.settings.jiraServerId,t]),l=e.settings.multi||i.length>1,[d,u]=c.useState(i),f=De(y=>{const E=d.length===0?{...y??{},_id:wt()}:{...y??{},_id:d[0]._id};!y&&d.length===0||(u(y?[E]:[]),n(y?[E]:[],{type:ae.JIRA_ISSUE,delta:y?d.length===0?{type:Be.APPEND,value:E}:{type:Be.EDIT,index:0,value:E}:{type:Be.REMOVE,index:0}}))},[d,n]),p=c.useCallback(({value:y,autoFocus:E,onChange:w})=>h.jsx(_e,{style:{width:"100%"},children:h.jsx(rP,{cloudId:e.settings.cloudId,serverId:e.settings.jiraServerId,value:oP(y)?y:void 0,onChange:fr(C=>{w({...C??{},_id:y._id},null)}),autoFocus:E,isSeamless:!0,isLinkPreview:!0})}),[e.settings.cloudId,e.settings.jiraServerId]),m=_.useCallback((y,E)=>{u(E),n(E,{type:ae.JIRA_ISSUE,delta:{type:Be.APPEND,value:y}})},[n]),g=_.useCallback((y,E,w)=>{u(w),n(w,{type:ae.JIRA_ISSUE,delta:{type:Be.REMOVE,index:E}})},[n]),v=_.useCallback(async(y,E,w,C)=>{u(C),n(C,{type:ae.JIRA_ISSUE,delta:{type:Be.EDIT,index:E,value:y}})},[n]),b=_.useCallback((y,E,w,C)=>{u(C),n(C,{type:ae.JIRA_ISSUE,delta:{type:Be.REORDER,currentIndex:E,newIndex:w}})},[n]);return l?h.jsx(jh,{getId:xnt,values:i,onItemChange:v,onAddNewItem:m,onRemoveItem:g,onReorder:b,getNewValue:Snt,renderField:p,autoFocus:t.length===0?a:void 0,addLabel:"Add issue",noAdd:!e.settings.multi,onFocus:r,onBlur:o}):h.jsx(rP,{cloudId:e.settings.cloudId,serverId:e.settings.jiraServerId,value:d.length>0&&oP(d[0])?d[0]:void 0,onChange:f,onFocus:r,onBlur:o,autoFocus:a,isClearable:!0,isSeamless:s,isLinkPreview:!0})},Int=Re(gE).withConfig({displayName:"NumberValueEdit__NumberValueContainer",componentId:"sc-1cbu9zn-0"})(["*{text-align:right;}"]),Tnt=({onChange:e,onFocus:t,onBlur:n,autoFocus:r,value:o,isInvalid:a,field:s})=>{const{locale:i}=Ee(),[l,d]=c.useState(o!==""?Yl(o,s,i):"");function u(b){const y=b.startsWith("-"),E=b.replace(/[^0-9.,]/g,"");return y?"-"+E:E}const f=c.useCallback(b=>{const E=new Intl.NumberFormat(i).formatToParts(12345.6);let w=".",C=",";for(const I of E)I.type==="decimal"?w=I.value:I.type==="group"&&(C=I.value);let x=b.split(C).join("");const S=x.indexOf(w);return S!==-1&&(x=x.slice(0,S)+"."+x.slice(S+1).split(w).join("")),u(x)},[i]),p=c.useCallback(b=>{let y=f(b.currentTarget.value);d(b.currentTarget.value),s.settings.numberFormat.format===bN.PERCENT&&(y=(Number(y)/100).toString()),e(y,{type:ae.NUMBER,value:y})},[f,s.settings.numberFormat.format,e]),m=De(b=>dE(b),[]),g=De(b=>{b.currentTarget.setSelectionRange(b.currentTarget.value.length,b.currentTarget.value.length),t==null||t(b)},[t]),v=c.useCallback(()=>{n==null||n(),d(o!==""?Yl(o,s,i):"")},[s,i,n,o]);return h.jsx(Int,{children:h.jsx(Uu,{value:l,onChange:p,onFocus:g,onBlur:v,isInvalid:a,autoFocus:r,onKeyDown:m,rows:1,onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0})})},Ant=ie({display:"flex",flexDirection:"row-reverse",boxSizing:"border-box",position:"relative",zIndex:"dialog"}),Dnt=ie({flexDirection:"row"}),Ont=ie({minHeight:"size.400"}),Mnt=({onChange:e,onFocus:t,onBlur:n,autoFocus:r,value:o,isInvalid:a,field:s,isDefaultValue:i,isFilterValueEdit:l,contentId:d})=>{var D;const{locale:u}=Ee(),f=c.useRef(!1),p=c.useRef(null),[m,g]=c.useState(o!==""?Yl(o,s,u):""),v=fe.useStore(),b=!!(i||l),y=iq({textAreaRef:p,maxWidthReachedRef:f,expandDirection:b?"vertical":"none",maxPopoverEditWidth:b?(D=p.current)==null?void 0:D.scrollWidth:ec});c.useEffect(()=>{y()},[m,y]);const w=m4(v.getState(),{contentId:d}).indexOf(s.id)===0;function C($){const L=$.startsWith("-"),F=$.replace(/[^0-9.,]/g,"");return L?"-"+F:F}const x=c.useCallback($=>{const F=new Intl.NumberFormat(u).formatToParts(12345.6);let B=".",V=",";for(const z of F)z.type==="decimal"?B=z.value:z.type==="group"&&(V=z.value);let Y=$.split(V).join("");const J=Y.indexOf(B);return J!==-1&&(Y=Y.slice(0,J)+"."+Y.slice(J+1).split(B).join("")),C(Y)},[u]),S=c.useCallback($=>{let L=x($.currentTarget.value);g($.currentTarget.value),s.settings.numberFormat.format===bN.PERCENT&&(L=(Number(L)/100).toString()),e(L,{type:ae.NUMBER,value:L})},[x,s.settings.numberFormat.format,e]),I=c.useCallback($=>dE($),[]),A=c.useCallback($=>{$.currentTarget.setSelectionRange($.currentTarget.value.length,$.currentTarget.value.length),y(),t==null||t($)},[y,t]),T=c.useCallback(()=>{setTimeout(()=>{y()},10)},[y]),O=c.useCallback(()=>{n==null||n(),g(o!==""?Yl(o,s,u):"")},[s,u,n,o]);return h.jsx(_e,{testId:`number-value-edit-expand-${w?"right":"left"}`,xcss:[Ant,w&&Dnt,b&&Ont],children:h.jsx(Uu,{id:"NumberTextArea",style:{border:`2px solid ${U("color.background.accent.blue.subtle","#579DFF")}`,borderRadius:"border.radius.100",textAlign:"right"},className:"right-align-textarea",ref:p,value:m,onChange:S,onFocus:A,onBlur:O,isInvalid:a,autoFocus:r,onKeyDown:I,onPaste:T,rows:1,resize:"none",wrap:"off",onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,"data-testid":"number-value-edit"})})};var $nt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=void 0,a=void 0,s=void 0,i=[];return function(){var u=Rnt(n),f=new Date().getTime(),p=!o||f-o>u;o=f;for(var m=arguments.length,g=Array(m),v=0;v<m;v++)g[v]=arguments[v];if(p&&r.leading)return r.accumulate?Promise.resolve(t.call(this,[g])).then(function(y){return y[0]}):Promise.resolve(t.call.apply(t,[this].concat(g)));if(a?clearTimeout(s):a=Pnt(),i.push(g),s=setTimeout(l.bind(this),u),r.accumulate){var b=i.length-1;return a.promise.then(function(y){return y[b]})}return a.promise};function l(){var d=a;clearTimeout(s),Promise.resolve(r.accumulate?t.call(this,i):t.apply(this,i[i.length-1])).then(d.resolve,d.reject),i=[],a=null}};function Rnt(e){return typeof e=="function"?e():e}function Pnt(){var e={};return e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n}),e}const vE=_r($nt);function Lnt(e){return e.label}function Nnt(e){return e.value}const Fnt=e=>e.map(t=>({label:t,value:t})),jnt=({value:e,onChange:t,onFocus:n,onBlur:r,autoFocus:o,isInvalid:a,isSeamless:s,isLoading:i,onInputChange:l})=>{const{formatMessage:d}=Ee(),[u,f]=c.useState(""),p=c.useCallback((y,E)=>{t(y.map(w=>w.value),E)},[t]),m=c.useCallback(async()=>{const y=u.trim(),E=y.toLowerCase(),w=await yN(y);return!y||w.some(C=>C.toLowerCase()==E)?w.map(C=>({label:C,value:C})):[{label:d(G["field-settings.type-page-label-create-label-text"],{query:y}),value:y},...w.map(C=>({label:C,value:C}))]},[d,u]),g=c.useMemo(()=>vE(m,400),[m]),v=c.useMemo(()=>Fnt(e),[e]),b=c.useCallback(y=>{f(y.replaceAll(" ","-")),l==null||l()},[l]);return h.jsx(qs,{inputValue:u,onInputChange:b,loadOptions:g,value:v,onChange:p,isClearable:!0,onFocus:n,onBlur:r,autoFocus:o,isMulti:!0,isSeamless:s,isInvalid:a,isLoading:i,getOptionLabel:Lnt,getOptionValue:Nnt,defaultMenuIsOpen:o&&!v.length})};function Tb(e){switch(e.action){case"select-option":return e.option?{add:[e.option.value],remove:[]}:void 0;case"deselect-option":return e.option?{add:[],remove:[e.option.value]}:void 0;case"remove-value":case"pop-value":return e.removedValue?{add:[],remove:[e.removedValue.value]}:void 0;case"clear":return{add:[],remove:e.removedValues.map(t=>t.value)};default:throw new Error(`Invalid label picker action "${e.action}".`)}}const Vnt=Re.ul.withConfig({displayName:"PageLabelsValueEdit__Container",componentId:"sc-mj676i-0"})(["list-style-type:none;padding:0;"]);function Bnt(e,t){return t.reduce((n,r)=>[...new Set([...n,...r.add].filter(o=>!r.remove.includes(o)))],e)}const Unt=({onFocus:e,onBlur:t,value:n,field:r,entryId:o,contentId:a,autoFocus:s,isInvalid:i,isSeamless:l})=>{const d=fe.useEqualSelector(u=>{const f=kt(u,{contentId:a,includeDeleted:!0}),p=o&&fn(f,o);return p?Lm({database:f,field:r,entry:p},u):[]});return h.jsx(Vnt,{children:d.map((u,f)=>h.jsx("li",{children:h.jsx(Hnt,{contentRef:u,value:n,onFocus:e,onBlur:t,autoFocus:s,isInvalid:i,isSeamless:l})},`${t1(u)}${f}`))})},Hnt=({contentRef:e,value:t,onFocus:n,onBlur:r,autoFocus:o,isInvalid:a,isSeamless:s})=>{const{formatMessage:i}=Ee(),[l]=fe.useEqualSelector(C=>[n1(e,t,C)??[]]),[d,u]=c.useState(""),[f,p]=c.useState(!1),[m,g]=c.useState([]),v=c.useMemo(()=>Bnt(l,m),[l,m]),b=fe.useStore(),y=De(async(C,x)=>{const S=Tb(x);if(S){g(I=>[...I,S]);try{await ok(e,S,b)}catch{u(i(G["field-settings.type-page-label-label-create-error"]));return}finally{g(I=>I.filter(A=>A!==S))}}},[e,i,b]),E=c.useCallback(C=>{p(!0),n==null||n(C)},[n]),w=c.useCallback(C=>{p(!1),r==null||r(C)},[r]);return h.jsx(Rr,{error:d,isTouched:f,children:C=>h.jsx(jnt,{...C,onInputChange:()=>u(""),value:v,onChange:y,onFocus:E,onBlur:w,autoFocus:o,isInvalid:a,isSeamless:s,isLoading:m.length>0})})},znt={grey:"#DDDEE1",blue:"#8FB8F6",teal:"#9DD9EE",red:"#FD9891",green:"#7EE2B8",purple:"#D8A0F7",lime:"#B3DF72",magenta:"#F797D2",orange:"#FBC828",yellow:"#EED12B",blueLight:U("color.background.accent.blue.subtlest"),redLight:U("color.background.accent.red.subtlest"),yellowLight:U("color.background.accent.yellow.subtlest"),greenLight:U("color.background.accent.green.subtlest"),tealLight:U("color.background.accent.teal.subtlest"),purpleLight:U("color.background.accent.purple.subtlest"),limeLight:U("color.background.accent.lime.subtlest"),magentaLight:U("color.background.accent.magenta.subtlest"),orangeLight:U("color.background.accent.orange.subtlest"),greyLight:U("color.background.accent.gray.subtlest")},Wnt={grey:"#DDDEE1",blue:"#8FB8F6",teal:"#9DD9EE",red:"#FD9891",green:"#7EE2B8",purple:"#D8A0F7",lime:"#B3DF72",magenta:"#F797D2",orange:"#FBC828",yellow:"#EED12B",blueLight:"#669DF1",redLight:"#F87168",yellowLight:"#DDB30E",greenLight:"#4BCE97",tealLight:"#6CC3E0",purpleLight:"#C97CF4",limeLight:"#94C748",magentaLight:"#E774BB",orangeLight:"#FCA700",greyLight:"#B7B9BE"},Gnt={blue:"#292A2E",red:"#292A2E",yellow:"#292A2E",green:"#292A2E",teal:"#292A2E",purple:"#292A2E",lime:"#292A2E",magenta:"#292A2E",orange:"#292A2E",grey:"#292A2E",blueLight:U("color.text"),redLight:U("color.text"),yellowLight:U("color.text"),greenLight:U("color.text"),tealLight:U("color.text"),purpleLight:U("color.text"),limeLight:U("color.text"),magentaLight:U("color.text"),orangeLight:U("color.text"),greyLight:U("color.text")},Qte={borderColor:e=>Wnt[N0(e)],backgroundColor:e=>znt[N0(e)],textColor:e=>Gnt[N0(e)],swatch:["greyLight","blueLight","tealLight","greenLight","limeLight","purpleLight","magentaLight","redLight","orangeLight","yellowLight","greyDark","blueDark","tealDark","greenDark","limeDark","purpleDark","magentaDark","redDark","orangeDark","yellowDark"]},qnt={[Ke]:Dt,[cn]:jo,[GO]:Uo,[Fp]:qO,[mF]:YO,[Hde]:KO,[XO]:E2,[rn]:gu,[jo]:gn,[Uo]:Ev,[qO]:JO,[YO]:ZO,[KO]:QO,[E2]:eM,[Dt]:Ut,[Jt]:Vo,[bn]:Er,[c_]:Fp,[Ds]:fF,[zde]:uF,[gn]:jo,[Ev]:Uo,[Wde]:JO,[Gde]:ZO,[qde]:QO,[eM]:E2,[Ut]:wk,[vn]:cn,[hF]:GO,[gF]:XO},ene={borderColor:e=>Ng[e][1],backgroundColor:e=>Ng[e][0],textColor:e=>Ng[e][1],hoverBackgroundColor:e=>qnt[Ng[e][0]],swatch:Ece.filter(e=>!wce.includes(e))},Ynt=[vn,mF,Fp,hF,gF],Knt={backgroundColor:e=>e,textColor:()=>Ve,swatch:Ynt},Xnt=Re.div.withConfig({displayName:"ColorPicker__OptionsContainer",componentId:"sc-epglrt-0"})(["display:grid;grid-template-columns:repeat( ",",","px );grid-template-rows:1fr 1fr;gap:",";padding:",";"],e=>Math.ceil(e.length/2),e=>e.size,U("space.050","4px"),U("space.050","4px")),Jnt=Re.div.withConfig({displayName:"ColorPicker__NewOptionsContainer",componentId:"sc-epglrt-1"})(["display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(4,1fr);gap:",";padding:",";"],U("space.050","4px"),U("space.050","4px")),Znt=({onChange:e,palette:t,size:n,value:r,setIsOpen:o,stopPropagation:a})=>{const s=c.useMemo(()=>t.swatch,[t]),{formatMessage:i}=Ee();return h.jsx(Xnt,{size:n,length:s.length,"aria-role":"radiogroup","aria-label":i(G["color-picker.options-container"]),children:s.map(l=>h.jsx(KA,{color:l,palette:t,isChecked:l===r,onClick:fr(()=>{o(!1),e(l)}),size:n,stopPropagation:a},l))})},Qnt=({onChange:e,palette:t,size:n,value:r,setIsOpen:o,stopPropagation:a})=>{const s=c.useMemo(()=>t.swatch,[t]),{formatMessage:i}=Ee();return h.jsx(Jnt,{size:n,length:s.length,"aria-role":"radiogroup","aria-label":i(G["color-picker.options-container"]),children:s.map(l=>h.jsx(KA,{color:l,palette:t,isChecked:l===r,onClick:fr(()=>{o(!1),e(l)}),size:n,stopPropagation:a},l))})},tne=({palette:e,value:t,onChange:n,onFocus:r,onBlur:o,stopPropagation:a,size:s=30})=>{const[i,l]=c.useState(!1),d=De(()=>{l(!i)},[i]),u=De(()=>{l(!1)},[]),f=vt("platform-component-visual-refresh"),p=c.useMemo(()=>f?Qnt:Znt,[f]);return h.jsx(el,{onClose:u,isOpen:i,content:()=>h.jsx(p,{onChange:n,palette:e,setIsOpen:l,size:s,value:t,stopPropagation:a}),trigger:m=>h.jsx(KA,{...m,color:t,palette:e,onClick:d,onFocus:r,onBlur:o,size:s,stopPropagation:a,isOpen:i}),placement:"bottom-start",zIndex:Ln.COLOR_PICKER,autoFocus:!a})},ert=Re.button.withConfig({displayName:"ColorPicker__ColorPickerOptionContainer",componentId:"sc-epglrt-2"})(["display:inline-flex;align-items:center;justify-content:center;height:","px;width:","px;flex-shrink:0;cursor:",";border:none;color:",";"," background-color:",";border-radius:3px;&:focus-visible{outline:2px solid ",";outline-offset:2px;}&:hover{","}"],e=>e.size,e=>e.size,e=>e.isClickable?"pointer":"inherit",e=>e.palette.textColor(e.color),e=>e.palette.borderColor&&`
      outline: ${`1px solid ${e.palette.borderColor(e.color)}`};
      outline-offset: -1px;
    `,e=>e.palette.backgroundColor(e.color),U("color.border.focused","#388BFF"),e=>e.palette.hoverBackgroundColor?ln(["background-color:",";"],e.palette.hoverBackgroundColor(e.color)):ln(["filter:brightness(130%);"])),trt=Re.button.withConfig({displayName:"ColorPicker__NewColorPickerOptionContainer",componentId:"sc-epglrt-3"})(["display:inline-flex;align-items:center;justify-content:center;height:","px;width:","px;flex-shrink:0;cursor:",";border:none;color:",";",";background-color:",";border-radius:3px;&:focus-visible{outline:2px solid ",";outline-offset:2px;}&:hover{outline:1px solid ",";outline-offset:1px;}"],e=>e.size,e=>e.size,e=>e.isClickable?"pointer":"inherit",e=>e.palette.textColor(e.color),e=>e.palette.borderColor?`border: 1px solid ${e.palette.borderColor(e.color)}`:"",e=>e.palette.backgroundColor(e.color),U("color.border.focused","#388BFF"),U("color.border")),KA=c.forwardRef(function({color:t,palette:n,onClick:r,isChecked:o,isOpen:a,onFocus:s,onBlur:i,stopPropagation:l,size:d=30},u){const{formatMessage:f}=Ee(),p=De(v=>{v.preventDefault(),l&&v.stopPropagation(),r==null||r()},[r,l]),m=vt("platform-component-visual-refresh"),g=c.useMemo(()=>m?trt:ert,[m]);return h.jsx(g,{id:"color-picker-option-container",onClick:p,onFocus:s,onBlur:i,size:d,isClickable:!!r,color:t,ref:u,tabIndex:0,role:"radio","aria-checked":o||!1,"aria-expanded":a,palette:n,children:o&&h.jsx(tE,{spacing:"spacious",label:f(G["color-picker.selected-label"])})})}),nne=({value:e,onChange:t,...n})=>{const r=De(a=>{a&&t(a)},[t]),o=vt("platform-component-visual-refresh");return h.jsx(tne,{...n,palette:o?Qte:ene,value:e,onChange:r})},rne=e=>h.jsx(tne,{palette:Knt,...e}),nrt=Re.span.withConfig({displayName:"EllipsisOverflow__EllipsisOverflowContainer",componentId:"sc-1d6biwf-0"})(["white-space:pre;text-overflow:ellipsis;overflow:hidden;display:block;max-width:100%;"]),pg=({children:e,className:t,position:n,mousePosition:r,testId:o})=>{const[a,s]=c.useState(!0),i=c.useRef(null);return c.useEffect(()=>{const l=new ResizeObserver(()=>setTimeout(()=>{if(i.current){const d=i.current.offsetWidth<i.current.scrollWidth;d!==a&&s(d)}},0));return i.current&&l.observe(i.current),()=>{l.disconnect()}}),h.jsx(nrt,{className:t,ref:i,children:h.jsx(Zr,{content:a?e:"",mousePosition:r,position:n,tag:"span",children:h.jsx("span",{"data-testid":o,children:e})})})},rrt=ie({borderRadius:"12px",minWidth:"12px",height:"12px",marginRight:"space.075"}),ort=ie({display:"inline-flex",backgroundColor:"color.background.neutral",color:"color.text",borderRadius:"3px",paddingBlock:"space.025",paddingInline:"space.100",whiteSpace:"nowrap",maxWidth:"100%"}),Vl=({status:e})=>h.jsxs(Me,{as:"div",alignBlock:"center",xcss:ort,children:[h.jsx(_e,{xcss:[ie({backgroundColor:e.color}),rrt]}),h.jsx(pg,{children:e.text})]}),art=20,srt=e=>Vd(e),irt=e=>e.name,lrt={menu:(e,t)=>({...e,width:t.options.length>0?"max-content":"auto",minWidth:"100%"})},fC=Re.div.withConfig({displayName:"PageStatusPicker__OptionContainer",componentId:"sc-13qxh3m-0"})(["display:flex;align-items:center;"]),crt=({customOptions:e,spaceOptions:t,value:n=Object.freeze([]),onChange:r,isCreatable:o=!1,onCreate:a,onFocus:s,onBlur:i,autoFocus:l,placeholder:d,isLoading:u,noOptionsMessage:f})=>{const[p,m]=c.useState(ak),[g,v]=c.useState(""),{formatMessage:b}=Ee(),y=De(I=>{v(I)},[]),E=c.useMemo(()=>{if(o){const I=g.trim(),A=g.trim().toLowerCase();if(I&&I.length<=art&&![...e,...t].some(T=>T.name.toLowerCase()===A))return{name:I,color:p}}},[e,g,o,p,t]),w=c.useMemo(()=>[{options:[...E?[E]:[],...e],label:b(G["field-settings.type-page-status-picker-custom-text"])},{options:t,label:b(G["field-settings.type-page-status-picker-suggested-text"])}].filter(I=>I.options.length>0),[E,e,b,t]),C=De(I=>{const A=(Array.isArray(I)?I[0]:I)??void 0;a&&E&&A===E&&a(E),r==null||r(A)},[E,r,a]),x=De((I,A)=>A.context==="menu"&&I.id==null?E&&I===E?h.jsxs(fC,{children:[b(G["field-settings.type-page-status-picker-create-text"]),"",h.jsx("span",{style:{flexGrow:1},children:h.jsx(Vl,{status:{text:I.name,color:I.color}})}),h.jsx(rne,{value:I.color,onChange:fr(T=>{m(T)}),stopPropagation:!0,size:24})]}):h.jsxs(fC,{children:[h.jsx(Vl,{status:{text:I.name,color:I.color}}),"",b(G["field-settings.type-page-status-picker-new-text"])]}):h.jsx(fC,{children:h.jsx(Vl,{status:{text:I.name,color:I.color}})}),[E,b]),S=c.useMemo(()=>f?()=>f:void 0,[f]);return h.jsx(Jo,{options:w,value:n,onChange:C,inputValue:g,onInputChange:y,placeholder:d??b(o?G["select-or-create-text.placeholder"]:G["select-dropdown.placeholder"]),getOptionValue:srt,getOptionLabel:irt,onFocus:s,onBlur:i,autoFocus:l,formatOptionLabel:x,isClearable:!0,hideSelectedOptions:!1,styles:lrt,isLoading:u,noOptionsMessage:S,defaultMenuIsOpen:l&&!n})},drt=Re.ul.withConfig({displayName:"PageStatusValueEdit__Container",componentId:"sc-4lq5az-0"})(["list-style-type:none;padding:0;"]),urt=({value:e,onFocus:t,onBlur:n,autoFocus:r,field:o,contentId:a,entryId:s})=>{const[i]=fe.useEqualSelector(l=>{const d=kt(l,{contentId:a,includeDeleted:!0}),u=s&&fn(d,s);return[u?Nm({database:d,field:o,entry:u},l):[]]});return i.length===0?null:h.jsx(drt,{children:i.map((l,d)=>h.jsx("li",{children:h.jsx(frt,{value:e,onFocus:t,onBlur:n,autoFocus:r,field:o,contentRef:l,contentId:a,entryId:s})},`${t1(l)}${d}`))})},frt=({value:e,onFocus:t,onBlur:n,autoFocus:r,field:o,contentRef:a,contentId:s,entryId:i})=>{const{formatMessage:l}=Ee(),[d,u,f,p,m,g,v]=fe.useEqualSelector(I=>{const A=kt(I,{contentId:s,includeDeleted:!0}),T=Qb(I,{contentRef:a}),{customContentStates:O,spaceContentStates:D}=(T&&EN(I,{contentId:T.contentId}))??{},$=(D??[]).map(V=>Vd(V)),L=wN(A,I,a.spaceKey),F=T&&CN(I,{contentId:T.contentId}),B=O!=null;return[r1(a,e,I),B?_N([...L,...O??[]]).filter(V=>!$.includes(Vd(V))):[],D??[],F==null?void 0:F.status,D!=null,B,T]}),b=[void 0,St.INITIAL,St.PENDING].includes(p),y=fe.useDispatch();Yn(H5(async()=>{if([void 0,St.INITIAL].includes(p)){const I=await y(mu(a));I&&await y(SN(I.contentId))}},[y,a,p]));const[E,w]=c.useState(),C=c.useCallback(I=>{if(!v)return;const A=xN(v);A&&y(I?Aa.actions.addColumnValueToContent({ari:A,columnName:"pageStatus",data:{type:"pageStatus",text:(I==null?void 0:I.name)??"",value:{text:(I==null?void 0:I.name)??"",color:(I==null?void 0:I.color)??""}}}):Aa.actions.removeColumnValueFromContent({ari:A,columnName:"pageStatus"}))},[y,v]),x=fe.useStore(),S=De(async I=>{w(I??null),C(I);try{await sk(a,I??null,x)}finally{w(void 0)}},[a,x,C]);return h.jsx(crt,{value:(E!==void 0?E:d)??void 0,customOptions:u,spaceOptions:f,onChange:S,onFocus:t,onBlur:n,autoFocus:r,isCreatable:!!i&&o.settings.creatable!==!1&&g,isLoading:b||E!==void 0,noOptionsMessage:m||g?void 0:l(G["page-status.no-options"])})},pC={standard:"var(--ds-text, #253858)",standardLink:"var(--ds-link, #0052CC)",blue:"var(--ds-text-accent-blue-bolder, #172B4D)",red:"var(--ds-text-accent-red-bolder, #172B4D)",yellow:"var(--ds-text-accent-yellow-bolder, #172B4D)",green:"var(--ds-text-accent-green-bolder, #172B4D)",teal:"var(--ds-text-accent-teal-bolder, #172B4D)",purple:"var(--ds-text-accent-purple-bolder, #172B4D)",lime:"var(--ds-text-accent-lime-bolder, #37471F)",magenta:"var(--ds-text-accent-magenta-bolder, #50253F)",orange:"var(--ds-text-accent-orange-bolder, #5F3811)",grey:"var(--ds-text-accent-gray-bolder, #FFFFFF)",blueLight:"var(--ds-text-accent-blue, #0747A6)",redLight:"var(--ds-text-accent-red, #42526E)",yellowLight:"var(--ds-text-accent-yellow, #42526E)",greenLight:"var(--ds-text-accent-green, #006644)",tealLight:"var(--ds-text-accent-teal, #42526E)",purpleLight:"var(--ds-text-accent-purple, #403294)",limeLight:"var(--ds-text-accent-lime, #4C6B1F)",magentaLight:"var(--ds-text-accent-magenta, #943D73)",orangeLight:"var(--ds-text-accent-orange, #974F0C)",greyLight:"var(--ds-text-accent-gray, #42526E)"},prt={standard:"#B7B9BE",blue:"#669DF1",red:"#F87168",yellow:"#DDB30E",green:"#4BCE97",teal:"#6CC3E0",purple:"#C97CF4",lime:"#94C748",magenta:"#E774BB",orange:"#FCA700",grey:"#B7B9BE",standardLink:"#B7B9BE",blueLight:"#669DF1",redLight:"#F87168",yellowLight:"#DDB30E",greenLight:"#4BCE97",tealLight:"#6CC3E0",purpleLight:"#C97CF4",limeLight:"#94C748",magentaLight:"#E774BB",orangeLight:"#FCA700",greyLight:"#B7B9BE"},mrt={standard:"var(--ds-link, #0065FF)",blue:"var(--ds-text-accent-blue-bolder, #172B4D)",red:"var(--ds-text-accent-red-bolder, #172B4D)",yellow:"var(--ds-text-accent-yellow-bolder, #172B4D)",green:"var(--ds-text-accent-green-bolder, #172B4D)",teal:"var(--ds-text-accent-teal-bolder, #172B4D)",purple:"var(--ds-text-accent-purple-bolder, #172B4D)",lime:"var(--ds-text-accent-lime-bolder, #37471F)",magenta:"var(--ds-text-accent-magenta-bolder, #50253F)",orange:"var(--ds-text-accent-orange-bolder, #5F3811)",grey:"var(--ds-text-accent-gray-bolder, #FFFFFF)",blueLight:"var(--ds-text-accent-blue, #0747A6)",redLight:"var(--ds-text-accent-red, #42526E)",yellowLight:"var(--ds-text-accent-yellow, #42526E)",greenLight:"var(--ds-text-accent-green, #006644)",tealLight:"var(--ds-text-accent-teal, #42526E)",purpleLight:"var(--ds-text-accent-purple, #403294)",limeLight:"var(--ds-text-accent-lime, #4C6B1F)",magentaLight:"var(--ds-text-accent-magenta, #943D73)",orangeLight:"var(--ds-text-accent-orange, #974F0C)",greyLight:"var(--ds-text-accent-gray, #42526E)"},hrt={standard:"var(--ds-link-pressed, #0065FF)",blue:"var(--ds-text-accent-blue, #172B4D)",red:"var(--ds-text-accent-red, #172B4D)",yellow:"var(--ds-text-accent-yellow, #172B4D)",green:"var(--ds-text-accent-green, #172B4D)",teal:"var(--ds-text-accent-teal, #172B4D)",purple:"var(--ds-text-accent-purple, #172B4D)",lime:"var(--ds-text-accent-lime, #4C6B1F)",magenta:"var(--ds-text-accent-magenta, #943D73)",orange:"var(--ds-text-accent-orange, #974F0C)",grey:"var(--ds-text-accent-gray, #FFFFFF)",blueLight:"var(--ds-text-accent-blue-bolder, #0747A6)",redLight:"var(--ds-text-accent-red-bolder, #42526E)",yellowLight:"var(--ds-text-accent-yellow-bolder, #42526E)",greenLight:"var(--ds-text-accent-green-bolder, #006644)",tealLight:"var(--ds-text-accent-teal-bolder, #42526E)",purpleLight:"var(--ds-text-accent-purple-bolder, #403294)",limeLight:"var(--ds-text-accent-lime-bolder, #37471F)",magentaLight:"var(--ds-text-accent-magenta-bolder, #50253F)",orangeLight:"var(--ds-text-accent-orange-bolder, #5F3811)",greyLight:"var(--ds-text-accent-gray-bolder, #42526E)"},mC={standard:"var(--ds-background-neutral, #F4F5F7)",blue:"var(--ds-background-accent-blue-subtle, #4C9AFF)",red:"var(--ds-background-accent-red-subtle, #FF8F73)",yellow:"var(--ds-background-accent-yellow-subtle, #FFC400)",green:"var(--ds-background-accent-green-subtle, #57D9A3)",teal:"var(--ds-background-accent-teal-subtle, #00C7E6)",purple:"var(--ds-background-accent-purple-subtle, #998DD9)",lime:"var(--ds-background-accent-lime-subtle, #94C748)",magenta:"var(--ds-background-accent-magenta-subtle, #E774BB)",orange:"var(--ds-background-accent-orange-subtle, #FAA53D)",grey:"var(--ds-background-accent-gray-subtle, #42526E)",blueLight:"var(--ds-background-accent-blue-subtler, #B3D4FF)",redLight:"var(--ds-background-accent-red-subtler, #FFBDAD)",yellowLight:"var(--ds-background-accent-yellow-subtler, #FFE380)",greenLight:"var(--ds-background-accent-green-subtler, #79F2C0)",tealLight:"var(--ds-background-accent-teal-subtler, #79E2F2)",purpleLight:"var(--ds-background-accent-purple-subtler, #C0B6F2)",limeLight:"var(--ds-background-accent-lime-subtler, #D3F1A7)",magentaLight:"var(--ds-background-accent-magenta-subtler, #FDD0EC)",orangeLight:"var(--ds-background-accent-orange-subtler, #FFE2BD)",greyLight:"var(--ds-background-accent-gray-subtler, #EBECF0)"},grt={standard:"var(--ds-background-neutral-hovered, #EBECF0)",blue:"var(--ds-background-accent-blue-subtle-hovered, #B3D4FF)",red:"var(--ds-background-accent-red-subtle-hovered, #FFBDAD)",yellow:"var(--ds-background-accent-yellow-subtle-hovered, #FFE380)",green:"var(--ds-background-accent-green-subtle-hovered, #79F2C0)",teal:"var(--ds-background-accent-teal-subtle-hovered, #79E2F2)",purple:"var(--ds-background-accent-purple-subtle-hovered, #C0B6F2)",lime:"var(--ds-background-accent-lime-subtle-hovered, #B3DF72)",magenta:"var(--ds-background-accent-magenta-subtle-hovered, #F797D2)",orange:"var(--ds-background-accent-orange-subtle-hovered, #FEC57B)",grey:"var(--ds-background-accent-gray-subtle-hovered, #505F79)",blueLight:"var(--ds-background-accent-blue-subtler-hovered, #DEEBFF)",redLight:"var(--ds-background-accent-red-subtler-hovered, #FFEBE6)",yellowLight:"var(--ds-background-accent-yellow-subtler-hovered, #FFF0B3)",greenLight:"var(--ds-background-accent-green-subtler-hovered, #ABF5D1)",tealLight:"var(--ds-background-accent-teal-subtler-hovered, #B3F5FF)",purpleLight:"var(--ds-background-accent-purple-subtler-hovered, #EAE6FF)",limeLight:"var(--ds-background-accent-lime-subtler-hovered, #B3DF72)",magentaLight:"var(--ds-background-accent-magenta-subtler-hovered, #F797D2)",orangeLight:"var(--ds-background-accent-orange-subtler-hovered, #FEC57B)",greyLight:"var(--ds-background-accent-gray-subtler-hovered, #DFE1E6)"},vrt={standard:"var(--ds-background-neutral-pressed, #EBECF0)",blue:"var(--ds-background-accent-blue-subtle-pressed, #DEEBFF)",red:"var(--ds-background-accent-red-subtle-pressed, #FFEBE6)",yellow:"var(--ds-background-accent-yellow-subtle-pressed, #FFF0B3)",green:"var(--ds-background-accent-green-subtle-pressed, #ABF5D1)",teal:"var(--ds-background-accent-teal-subtle-pressed, #B3F5FF)",purple:"var(--ds-background-accent-purple-subtle-pressed, #EAE6FF)",grey:"var(--ds-background-accent-gray-subtle-pressed, #5E6C84)",lime:"var(--ds-background-accent-lime-subtle-pressed, #D3F1A7)",magenta:"var(--ds-background-accent-magenta-subtle-pressed, #FDD0EC)",orange:"var(--ds-background-accent-orange-subtle-pressed, #FFE2BD)",blueLight:"var(--ds-background-accent-blue-subtler-pressed, #4C9AFF)",redLight:"var(--ds-background-accent-red-subtler-pressed, #FF8F73)",yellowLight:"var(--ds-background-accent-yellow-subtler-pressed, #FFC400)",greenLight:"var(--ds-background-accent-green-subtler-pressed, #57D9A3)",tealLight:"var(--ds-background-accent-teal-subtler-pressed, #00C7E6)",purpleLight:"var(--ds-background-accent-purple-subtler-pressed, #998DD9)",limeLight:"var(--ds-background-accent-lime-subtler-pressed, #94C748)",magentaLight:"var(--ds-background-accent-magenta-subtler-pressed, #E774BB)",orangeLight:"var(--ds-background-accent-orange-subtler-pressed, #FAA53D)",greyLight:"var(--ds-background-accent-gray-subtler-pressed, #C1C7D0)"},brt="var(--ds-border-focused, #4C9AFF)",yrt="var(--ds-background-danger, #FFEBE6)",Ert="var(--ds-background-danger-hovered, #FFEBE6)",hC="var(--ds-text-danger, #BF2600)",wrt={standard:"var(--ds-text, #42526E)",blue:"var(--ds-text-accent-blue-bolder, #42526E)",red:"var(--ds-text-accent-red-bolder, #42526E)",yellow:"var(--ds-text-accent-yellow-bolder, #42526E)",green:"var(--ds-text-accent-green-bolder, #42526E)",teal:"var(--ds-text-accent-teal-bolder, #42526E)",purple:"var(--ds-text-accent-purple-bolder, #42526E)",lime:"var(--ds-text-accent-lime-bolder, #42526E)",magenta:"var(--ds-text-accent-magenta-bolder, #42526E)",orange:"var(--ds-text-accent-orange-bolder, #42526E)",grey:"var(--ds-text-accent-gray-bolder, #42526E)",blueLight:"var(--ds-text-accent-blue, #42526E)",redLight:"var(--ds-text-accent-red, #42526E)",yellowLight:"var(--ds-text-accent-yellow, #42526E)",greenLight:"var(--ds-text-accent-green, #42526E)",tealLight:"var(--ds-text-accent-teal, #42526E)",purpleLight:"var(--ds-text-accent-purple, #42526E)",limeLight:"var(--ds-text-accent-lime, #42526E)",magentaLight:"var(--ds-text-accent-magenta, #42526E)",orangeLight:"var(--ds-text-accent-orange, #42526E)",greyLight:"var(--ds-text-accent-gray, #42526E)"},Crt={standard:"var(--ds-text-danger, #253858)",standardLink:"var(--ds-text-danger, #0052CC)",blue:"var(--ds-text-danger, #172B4D)",red:"var(--ds-text-danger, #172B4D)",yellow:"var(--ds-text-danger, #172B4D)",green:"var(--ds-text-danger, #172B4D)",teal:"var(--ds-text-danger, #172B4D)",purple:"var(--ds-text-danger, #172B4D)",lime:"var(--ds-text-danger, #172B4D)",magenta:"var(--ds-text-danger, #172B4D)",orange:"var(--ds-text-danger, #172B4D)",grey:"var(--ds-text-danger, #FFFFFF)",blueLight:"var(--ds-text-danger, #0747A6)",redLight:"var(--ds-text-danger, #42526E)",yellowLight:"var(--ds-text-danger, #42526E)",greenLight:"var(--ds-text-danger, #006644)",tealLight:"var(--ds-text-danger, #42526E)",purpleLight:"var(--ds-text-danger, #403294)",limeLight:"var(--ds-text-danger, #403294)",magentaLight:"var(--ds-text-danger, #403294)",orangeLight:"var(--ds-text-danger, #403294)",greyLight:"var(--ds-text-danger, #42526E)"},Oo={color:{background:{default:"--ds-cb",hover:"--ds-cbh",active:"--ds-cba"},borderColor:"--ds-bc",focusRing:"--ds-cfr",text:{default:"--ds-ct",hover:"--ds-cth",active:"--ds-ctp",link:"--ds-ctl"},removeButton:{default:"--ds-rb",hover:"--ds-rbh"}},borderRadius:"--ds-br"},_rt=_.forwardRef(function({before:t,contentElement:n,after:r,testId:o,appearance:a="default",style:s,color:i="standard",href:l,className:d,...u},f){const p=!!l,m=!!r,g=p||m,v=p&&i==="standard",b=v?pC.standardLink:pC[i],y=m&&!p?mC[i]:grt[i],E=m&&!p?mC[i]:vrt[i];return _.createElement("span",H({},u,{ref:f,style:{[Oo.color.borderColor]:prt[i],[Oo.color.text.default]:pC[i],[Oo.color.text.hover]:mrt[i],[Oo.color.text.active]:hrt[i],[Oo.color.text.link]:b,[Oo.color.background.default]:mC[i],[Oo.color.background.hover]:y,[Oo.color.background.active]:E,[Oo.color.focusRing]:brt,[Oo.color.removeButton.default]:wrt[i],[Oo.color.removeButton.hover]:Crt[i],[Oo.borderRadius]:a==="rounded"?"10px":"3px",...s},className:Ye([Pe("platform-component-visual-refresh")?"_zulp1b66 _2rko1sit _1h6d2fso _1dqonqa1 _189ee4h9 _1mou1b66 _195g1b66 _18zr1b66 _1e0c116y _vchhusvi _1ul9idpf _4t3iv47k _kqswh2mm _4cvr1h6o _bfhksm61 _syaz1fxt _80om73ad":"_2rko1l5z _1mou1b66 _195g1b66 _1rjcze3t _18zrze3t _1e0c116y _1ul9idpf _4t3iv47k _kqswh2mm _bfhklsll _syaz148y _80om73ad",Pe("platform-component-visual-refresh")?"_1e38ugt7 _7glxv77o":"_1guj1r31 _pbhaglyw _11ow1o36 _1u6lnr64",p&&Pe("platform-component-visual-refresh")&&"_irr3166n _1di61dty",!Pe("platform-component-visual-refresh")&&p&&!v&&"_9h8h1348",!Pe("platform-component-visual-refresh")&&g&&"_irr31lyj _1di6oo20",d]),"data-testid":o}),t,n,r)}),xrt=({elemBefore:e})=>e?c.createElement("span",{className:Ye([Pe("platform-component-visual-refresh")?"_1e0c1txw _4t3i7vkz _4cvr1h6o _1bah1h6o _152tze3t":"_2rko1l5z _1e0c1txw _kqswstnw _4cvr1h6o _1bah1h6o _152tze3t"])},e):null,Srt=({elemBefore:e=null,isRemovable:t=!0,text:n="",color:r="standard",href:o,linkComponent:a})=>{const s=a??"a";return o?c.createElement(s,{href:o,"data-color":r,className:Ye([Pe("platform-component-visual-refresh")?"_11c81oud _1reo15vq _18m915vq _p12fmgvx _1bto1l2s _o5721q9c":"_11c81oud _1reo15vq _18m915vq _p12fmgvx _y4ti1b66 _bozg1b66 _1bto1l2s _o5721q9c",Pe("platform-component-visual-refresh")?"_4bfu1r31 _1hmsglyw _ajmmnqa1 _syaz1fxt _lcxv1wug _nt751r31 _49pcglyw _1hvw1o36 _9oik1r31 _1bnx8stv _jf4cnqa1 _30l31fxt _1nrm1r31 _c2wa8stv _1iohnqa1 _9h8h1fxt":"_4bfu1r31 _1hmsglyw _ajmmnqa1 _syazs5nr _lcxv1wug _nt751r31 _49pcglyw _1hvw1o36 _9oik1r31 _1bnx8stv _jf4cnqa1 _30l3117u _1nrm1r31 _c2wa8stv _1iohnqa1 _9h8h1348",!Pe("platform-component-visual-refresh")&&e&&"_ahbqv47k",t&&Pe("platform-component-visual-refresh")&&"_p12f1lit",t&&!Pe("platform-component-visual-refresh")&&"_p12f1lit _y4tipxbi"])},n):c.createElement("span",{className:Ye([Pe("platform-component-visual-refresh")?"_11c81oud _1reo15vq _18m915vq _p12fmgvx _1bto1l2s _o5721q9c":"_11c81oud _1reo15vq _18m915vq _p12fmgvx _y4ti1b66 _bozg1b66 _1bto1l2s _o5721q9c",!Pe("platform-component-visual-refresh")&&e&&"_ahbqv47k",t&&Pe("platform-component-visual-refresh")&&"_p12f1lit",t&&!Pe("platform-component-visual-refresh")&&"_p12f1lit _y4tipxbi"])},n)},gC=()=>new Error(`
            
      
                 
                  
       
             

  @compiled/react

  Code was executed when it shouldn't have. To resolve make sure to:

  1. Set up Compiled.
  2. Configure importSources in your Compiled config to point to the module that exports the output of createStrictAPI().

  For more information visit https://compiledcssinjs.com/docs/installation and follow the instructions.
`),one=(...e)=>Ye(e);function krt(){return{css(){throw gC()},cssMap(){throw gC()},cx:one,XCSSProp(){throw gC()}}}const{XCSSProp:PIt,css:LIt,cssMap:NIt,cx:Irt}=krt();var XA={},bE={};Object.defineProperty(bE,"__esModule",{value:!0});var ane=bE.default=void 0,Trt=sne(c),Art=je,Drt=sne(Iu);function sne(e){return e&&e.__esModule?e:{default:e}}const ine=e=>Trt.default.createElement(Art.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="m15.185 7.4-3.184 3.185-3.186-3.186a.507.507 0 0 0-.712.003l-.7.701a.496.496 0 0 0-.004.712l3.185 3.184L7.4 15.185a.507.507 0 0 0 .004.712l.7.7c.206.207.516.2.712.004l3.186-3.185 3.184 3.185a.507.507 0 0 0 .712-.004l.701-.7a.496.496 0 0 0 .003-.712l-3.186-3.186 3.186-3.184a.507.507 0 0 0-.003-.712l-.7-.7a.5.5 0 0 0-.36-.153.5.5 0 0 0-.353.15"/></svg>'},e,{newIcon:Drt.default}));ine.displayName="EditorCloseIcon";ane=bE.default=ine;Object.defineProperty(XA,"__esModule",{value:!0});var lne=XA.default=void 0,Ort=JA(c),Mrt=JA(oy),$rt=JA(bE);function JA(e){return e&&e.__esModule?e:{default:e}}const cne=e=>Ort.default.createElement(Mrt.default,Object.assign({LEGACY_fallbackIcon:$rt.default},e));cne.Name="CrossIconMigration";lne=XA.default=cne;const Rrt=c.forwardRef(({as:e="button",children:t,isInset:n,testId:r,style:o,xcss:a,...s},i)=>{const{className:l,...d}=s;return c.createElement(e,H({},d,{ref:i,className:Ye(["_mizu194a _1ah31bk5 _ra3xnqa1 _128m1bk5 _1cvmnqa1 _4davt94y",n&&"_1ah311pw _2mwq11pw",a]),style:o,"data-testid":r}),t)}),aP={root:"_19itglyw _vchhusvi _r06hglyw _80omtlke",disabled:"_80om13gf"},Prt=c.forwardRef(({children:e,isDisabled:t,type:n="button",onClick:r=nn,interactionName:o,componentName:a,analyticsContext:s,style:i,testId:l,xcss:d,...u},f)=>{const p=c.useContext(cu),m=c.useCallback((y,E)=>{p&&p.tracePress(o,y.timeStamp),r(y,E)},[r,p,o]),g=KS({fn:m,action:"clicked",componentName:a||"Pressable",packageName:"@atlaskit/primitives",packageVersion:"14.0.0",analyticsData:s,actionSubject:"button"}),{className:v,...b}=u;return c.createElement(Rrt,H({as:"button",style:i},b,{type:n,onClick:g,disabled:t,xcss:one(aP.root,t&&aP.disabled,d),testId:l,ref:f}),e)}),Lrt={root:"_19itglyw _2rkogqwt _195gze3t _1mouze3t _18zrze3t _1rjcze3t _1e0c1txw _4t3i7vkz _1bsb7vkz _rjxpze3t _4cvr1h6o _1bah1h6o _1wpz1h6o _r06hglyw _bfhksm61 _syaz1fxt _80omtlke _lcxv1wug _ahbq1i6y _12l21i6y _1ah31i6y _irr3166n _1di61dty"},Nrt={root:"_19itglyw _2rko1l5z _18zrze3t _1rjcze3t _1e0c1txw _4t3i7vkz _ahbqze3t _12l2ze3t _1pfhze3t _6rthze3t _kqswstnw _4cvr1h6o _1bah1h6o _1wpz1h6o _r06hglyw _bfhksm61 _syaz1bah _80omtlke _lcxv1wug _1ah3ze3t _30l31eu2"},Frt={root:"_rjxpze3t"},jrt={root:"_rjxpv77o"},Vrt=({"aria-label":e,onClick:t,onFocus:n,onBlur:r,onKeyPress:o,onMouseOver:a,onMouseOut:s,testId:i})=>c.createElement(Prt,{xcss:Irt(Pe("platform-component-visual-refresh")&&Lrt.root,!Pe("platform-component-visual-refresh")&&Nrt.root,Frt.root,Pe("platform-visual-refresh-icons")&&jrt.root),"aria-label":e,onClick:t,onFocus:n,onBlur:r,onKeyPress:o,onMouseOver:a,onMouseOut:s,testId:i},c.createElement(lne,{color:"currentColor",label:"",LEGACY_size:"small"})),Af={color:{background:{default:"--ds-cb",hover:"--ds-cbh",active:"--ds-cba"},text:{default:"--ds-ct",hover:"--ds-cth",active:"--ds-ctp",link:"--ds-ctl"}}};var hi=function(e){return e.Showing="showing",e.Removing="removing",e.Removed="removed",e}(hi||{});const Brt="@atlaskit/tag",Urt="14.0.1",Hrt=()=>!0,zrt=c.forwardRef(({appearance:e,elemBefore:t=null,isRemovable:n=!0,text:r="",color:o="standard",href:a,removeButtonLabel:s,testId:i,onBeforeRemoveAction:l=Hrt,onAfterRemoveAction:d=nn,linkComponent:u},f)=>{const[p,m]=c.useState(hi.Showing),[g,v]=c.useState(!1),b=Cce(d,{action:"removed",actionSubject:"tag",attributes:{componentName:"tag",packageName:Brt,packageVersion:Urt}},"atlaskit"),y=c.useCallback(()=>{b(r),m(hi.Removed)},[b,r]),E=c.useCallback(()=>{l&&l()&&y()},[y,l]),w=c.useCallback(D=>{(D.key===" "||D.key==="Enter")&&(D.stopPropagation(),E())},[E]),C=c.useCallback(()=>m(hi.Removing),[]),x=c.useCallback(()=>m(hi.Showing),[]),S=c.useCallback(()=>v(!0),[]),I=c.useCallback(()=>v(!1),[]),A=n?c.createElement(Vrt,{"aria-label":`${s||"Remove"} ${r}`,onClick:E,onFocus:C,onBlur:x,onKeyPress:w,onMouseOver:S,onMouseOut:I,testId:`close-button-${i}`}):void 0,T=c.createElement(Srt,{elemBefore:t,isRemovable:n,text:r,color:o,href:a,linkComponent:u}),O={backgroundColor:Pe("platform-component-visual-refresh")?"var(--ds-background-neutral-subtle, #00000000)":void 0,[Af.color.background.hover]:Pe("platform-component-visual-refresh")?void 0:yrt,[Af.color.background.active]:Pe("platform-component-visual-refresh")?void 0:Ert,[Af.color.text.default]:Pe("platform-component-visual-refresh")?void 0:hC,[Af.color.text.active]:Pe("platform-component-visual-refresh")?void 0:hC,[Af.color.text.link]:Pe("platform-component-visual-refresh")?void 0:hC};return c.createElement(QI,null,p!==hi.Removed&&c.createElement(t_e,null,D=>c.createElement(_rt,{ref:Dv([D.ref,f]),appearance:e,color:o,testId:i,style:g?O:void 0,"data-removable":!0,"data-removing":p===hi.Removing,"data-ishoverclosebutton":g,href:a,before:c.createElement(xrt,{elemBefore:t}),contentElement:T,after:A,className:Ye([p===hi.Removing&&"_z30c1r31 _twwiglyw _1pka1o36 _bqhtfiwo"])})))}),Wrt=c.memo(zrt),Grt=Re.span.withConfig({displayName:"SelectOptionTag__Container",componentId:"sc-jcpia7-0"})(["display:inline-flex;max-width:100%;&& > *{margin:",";}&&& button{color:inherit;}&&& > span{"," > span{padding-top:",";padding-bottom:",";"," "," max-width:100%;}}"],e=>e.noMargin?"0":"4px",e=>e.overrideTagStyles&&e.color?`
      background-color: ${e.palette.backgroundColor(e.color)};
      color: ${e.palette.textColor(e.color)};
      border-color: ${e.palette.borderColor(e.color)};`:"",U("space.025","0.125rem"),U("space.025","0.125rem"),e=>e.useNewStyle?`font: ${U("font.body")};`:`font-weight: bold;
      font-size: 11px;
      line-height: 16px;
      text-transform: uppercase;`,e=>e.transformLabelUppercase===!1?"":"text-transform: uppercase;"),Bl=({option:e,isRemovable:t=!1,onRemove:n,noMargin:r=!1})=>{const{formatMessage:o}=Ee(),a=c.useRef(!1),s=De(()=>(a.current=!0,!1),[]),i=De(f=>{f.target instanceof Element&&f.target.closest('[aria-label="close tag"]')&&(f.stopPropagation(),f.preventDefault())},[]),l=De(f=>{a.current&&(n==null||n(f),a.current=!1)},[n]),d=vt("platform-component-visual-refresh"),u=c.useMemo(()=>d?Qte:ene,[d]);return h.jsx(Grt,{onClick:l,onMouseDown:i,noMargin:r,palette:u,overrideTagStyles:!0,color:e==null?void 0:e.color,transformLabelUppercase:d===!1,useNewStyle:d,children:h.jsx(Wrt,{text:e?e.label:o(G["board-layout.empty-tag-label"]),isRemovable:t,onBeforeRemoveAction:s,testId:`database-select-option-tag-${e?e.label.replace(/\s+/g,"-").toLowerCase():"undefined"}`,color:e?N0(e.color):"standard"})})},qrt=e=>e.id??e.label,Yrt=e=>e.label,Krt={menu:e=>({...e,width:"max-content",minWidth:"100%"})};function sP(e,t){return e.some(n=>(n.id??n.label)===(t.id??t.label))}const Xrt=Re.div.withConfig({displayName:"SelectPicker__CreateOptionContainer",componentId:"sc-429a8r-0"})(["display:grid;grid-template-columns:auto 1fr auto;align-items:center;"]),Jrt=({options:e,value:t=Object.freeze([]),onSelect:n,onRemove:r,isCreatable:o=!0,onCreate:a,isMulti:s,isInvalid:i=!1,onFocus:l,onBlur:d,autoFocus:u,placeholder:f,preventOpenWhenNoOptions:p,appearance:m})=>{const[g,v]=c.useState(bv(e));c.useEffect(()=>{v(bv(e))},[e]);const[b,y]=c.useState(""),E=c.useCallback(T=>{y(T)},[]),{formatMessage:w}=Ee(),C=c.useMemo(()=>{const T=[...e];if(o){const O=b.trim(),D=b.trim().toLowerCase();O&&!(e!=null&&e.some($=>$.label.toLowerCase()===D))&&T.unshift({id:wt(),label:O,color:g})}return T},[b,o,g,e]),x=c.useMemo(()=>e.filter(T=>t.includes(T.id??T.label)),[e,t]),S=c.useCallback((T,O)=>{const D=Array.isArray(T)?T:T?[T]:[],$=D.map(L=>L.id??L.label);switch(O.action){case"select-option":{const L=O.option?O.option:D[0];L?(o&&!sP(e,L)&&(a==null||a(L,$)),n==null||n(L.id??L.label,$)):wn(new Error("No value found for actionMeta.action ==== 'select-option' from SelectPicker"));break}case"remove-value":case"pop-value":{const L=O.removedValue;L&&(r==null||r([L.id??L.label],$));break}case"deselect-option":{const L=O.option;L?r==null||r([L.id??L.label],$):wn(new Error("No value found for actionMeta.action ==== 'deselect-option' from SelectPicker"));break}case"clear":{const L=O.removedValues.map(F=>F.id??F.label);r==null||r(L,$);break}default:wn(new Error(`Unexpected actionMeta from SelectPicker: ${O.action}`))}},[o,n,r,a,e]),I=c.useMemo(()=>({...p&&C.length===0?{DropdownIndicator:()=>null}:{},MultiValue:({data:T,removeProps:O})=>h.jsx(Bl,{option:T,isRemovable:!0,onRemove:O.onClick})}),[p,C.length]),A=c.useCallback((T,O)=>O.context==="menu"&&!sP(e,T)?h.jsxs(Xrt,{children:[w(G["field-settings.select-picker-create-text"])," ",h.jsx(Bl,{option:T}),h.jsx(nne,{value:T.color,onChange:fr(D=>{v(D)}),stopPropagation:!0,size:24})]}):O.context==="menu"||!s?h.jsx(Bl,{option:T}):T.label,[w,s,e]);return h.jsx(Jo,{classNamePrefix:"select-option-picker",options:C,value:x,onChange:S,inputValue:b,onInputChange:E,placeholder:f??w(o?G["select-or-create-text.placeholder"]:G["select-dropdown.placeholder"]),noOptionsMessage:()=>w(G["generic-select.no-options"]),getOptionValue:qrt,getOptionLabel:Yrt,isInvalid:i,isMulti:s,onFocus:l,onBlur:d,autoFocus:u,menuIsOpen:p&&C.length===0?!1:void 0,isClearable:!s,components:I,formatOptionLabel:A,hideSelectedOptions:!1,defaultMenuIsOpen:p&&C.length===0?!1:u&&!x.length,styles:Krt,appearance:m})},Zrt=({onChange:e,onFocus:t,onBlur:n,autoFocus:r,value:o,field:a,addChangeToDraft:s,contentId:i,placeholder:l,appearance:d})=>{const u=fe.useSelector(b=>{const y=i!=null?Xe(b,{contentId:i}):void 0;return y&&y.operations.updateMetadata&&!y.meta.isLocked}),[f,p]=c.useState([...o]),m=c.useCallback((b,y)=>{s({type:ye.SET_SELECT_OPTIONS,fieldId:a.id,newValue:[...a.settings.selectOptions,b],change:{type:Be.APPEND,value:b}});const E=b.id??b.label,w=a.settings.multi?{type:Be.APPEND,value:E}:{type:Be.SET_TO,value:[E]};a.settings.multi?p(y):p([E]),e(y,{type:ae.SELECT,delta:w})},[s,a.id,a.settings.multi,a.settings.selectOptions,e]),g=c.useCallback((b,y)=>{const E=a.settings.multi?{type:Be.APPEND,value:b}:{type:Be.SET_TO,value:[b]};a.settings.multi?p(y):p([b]),e(y,{type:ae.SELECT,delta:E})},[e,a.settings.multi]),v=c.useCallback((b,y)=>{p(y),e(y,{type:ae.SELECT,delta:{type:Be.REMOVE,index:o.indexOf(b[0])}})},[e,o]);return h.jsx(Jrt,{value:f,options:a.settings.selectOptions,onFocus:t,onBlur:n,autoFocus:r,isMulti:a.settings.multi,isCreatable:u&&!!s,onCreate:m,onSelect:g,onRemove:v,placeholder:l,appearance:d})},Qrt=ie({display:"flex",flexDirection:"row",boxSizing:"border-box",position:"relative",zIndex:"dialog"}),eot=ie({flexDirection:"row-reverse"}),tot=ie({minHeight:"size.400"}),not=({field:e,onChange:t,onFocus:n,onBlur:r,autoFocus:o,value:a,isSeamless:s,isDefaultValue:i,isFilterValueEdit:l,contentId:d,isBulkEdit:u})=>{var I;const f=c.useRef(!1),p=c.useRef(null),[m,g]=c.useState(a),v=fe.useStore(),b=!!(i||l),y=iq({textAreaRef:p,maxWidthReachedRef:f,maxPopoverEditWidth:b?(I=p.current)==null?void 0:I.scrollWidth:ec});c.useEffect(()=>{y()},[m,y]);const E=m4(v.getState(),{contentId:d}),w=E.indexOf(e.id)===E.length-1,C=s?vY:Uu,x=c.useCallback(A=>{A.currentTarget.setSelectionRange(A.currentTarget.value.length,A.currentTarget.value.length),y(),n==null||n(A)},[n,y]);mm(p.current,c.useCallback((A,T)=>{g(T),t(T,{type:ae.TEXT,delta:A})},[t]));const S=hE(sh.MEAN_TEXT_VALUE_TYPING);return h.jsx(_e,{testId:`text-value-edit-expand-${w?"left":"right"}`,xcss:[Qrt,w&&eot,b&&tot],children:h.jsx(C,{value:m,onFocus:x,onBlur:r,autoFocus:o,resize:"none",wrap:"off",ref:eo(p,S),testId:"text-value-edit",style:{border:`2px solid ${U("color.background.accent.blue.subtle","#579DFF")}`,borderRadius:"border.radius.100",overflow:"hidden",position:b||u?"relative":"absolute",boxSizing:"border-box",maxHeight:`${oDe}px`}})})},rot="user",oot="external_user",aot="team",sot="group",C0=xr({externalUserSourcesHeading:{id:"fabric.elements.user-picker.external.sourced.from",defaultMessage:"Found in:",description:"From where the external user is coming"},slackProvider:{id:"fabric.elements.user-picker.slack.provider",defaultMessage:"Slack",description:"This external user is sourced from Slack provider"},googleProvider:{id:"fabric.elements.user-picker.google.provider",defaultMessage:"Google",description:"This external user is sourced from Google provider"},microsoftProvider:{id:"fabric.elements.user-picker.microsoft.provider",defaultMessage:"Microsoft",description:"This external user is sourced from Microsoft provider"},gitHubProvider:{id:"fabric.elements.user-picker.github.provider",defaultMessage:"GitHub",description:"This external user is sourced from GitHub provider"},memberLozengeText:{id:"fabric.elements.user-picker.member.lozenge.text",defaultMessage:"MEMBER",description:"Text within the Lozenge when the user is a workspace member"},guestLozengeText:{id:"fabric.elements.user-picker.guest.lozenge.text",defaultMessage:"GUEST",description:"Text within the lozenge when the user is a guest of confluence"},guestUserLozengeTooltip:{id:"fabric.elements.user-picker.guest.lozenge.tooltip.user",defaultMessage:"Guests can only access certain spaces and have limited access to user info.",description:"Tooltip text for guest lozenge showing that a user is a guest in Confluence"},guestGroupLozengeTooltip:{id:"fabric.elements.user-picker.guest.lozenge.tooltip.group",defaultMessage:"Guest groups can only access certain spaces and have limited access to user info.",description:"Tooltip text for lozenge showing that a group is for guests in Confluence"}});let J0=function(e){return e.USER="USER",e.TEAM="TEAM",e.GROUP="GROUP",e}({});const iP=(e,t)=>{var n,r;if((n=e.attributes)!==null&&n!==void 0&&n.workspaceMember)return t.formatMessage(C0.memberLozengeText);if((r=e.attributes)!==null&&r!==void 0&&r.isConfluenceExternalCollaborator){const o=e.entityType===J0.GROUP?C0.guestGroupLozengeTooltip:C0.guestUserLozengeTooltip;return{text:t.formatMessage(C0.guestLozengeText),tooltip:t.formatMessage(o),appearance:"default"}}},iot=(e,t)=>{const n=e.entityType;if(n===J0.USER){const r=e,o=iP(r,t);return{id:r.id,type:r.nonLicensedUser?oot:rot,avatarUrl:r.avatarUrl,name:r.name,email:r.email,title:r.title,lozenge:o,tooltip:r.name,isExternal:!!r.nonLicensedUser,sources:r.nonLicensedUser?["other-atlassian"]:void 0}}if(n===J0.TEAM){const r=e;return{id:r.id,type:aot,description:r.description||"",name:r.displayName||"",memberCount:r.memberCount,members:r.members,includesYou:r.includesYou,avatarUrl:r.largeAvatarImageUrl||r.smallAvatarImageUrl,tooltip:r.displayName,verified:r.verified}}if(n===J0.GROUP){const r=e,o=iP(r,t);return{id:r.id,type:sot,name:r.name||"",lozenge:o}}},lot=(e,t)=>(e.recommendedUsers||[]).map(n=>iot(n,t)).filter(n=>!!n).map(n=>n),cot={getRecommendationServiceUrl(e){return e?`${e}/gateway/api/v1/recommendations`:"/gateway/api/v1/recommendations"},getUsersServiceUrl(e,t=""){return e==="jira"?`${t}/rest/api/3/user/bulk`:`${t}/wiki/rest/api/user/bulk`},getGraphQLUrl(e){return e?`${e}/gateway/api/graphql`:"/gateway/api/graphql"},getTeamsUrl(e){return e?`${e}/gateway/api/v3/teams`:"/gateway/api/v3/teams"}},dne=(e,t)=>{var n,r;const o=cot.getRecommendationServiceUrl(e.baseUrl||"");return fetch(o,{method:"POST",credentials:"include",headers:{"content-type":"application/json"},body:JSON.stringify({context:e.context,includeUsers:e.includeUsers,includeGroups:e.includeGroups,includeTeams:e.includeTeams,includeNonLicensedUsers:e.includeNonLicensedUsers,maxNumberOfResults:e.maxNumberOfResults,performSearchQueryOnly:!1,searchQuery:{cpusQueryHighlights:{query:"",field:""},...((n=e.context)===null||n===void 0||(r=n.productAttributes)===null||r===void 0?void 0:r.isEntitledConfluenceExternalCollaborator)&&{productAccessPermissionIds:["write","external-collaborator-write"]},customQuery:"",customerDirectoryId:"",filter:e.searchQueryFilter||"",minimumAccessLevel:"APPLICATION",queryString:e.query,restrictTo:{userIds:[],groupIds:[]},searchUserbase:!1}})}).then(a=>a.status===200?a.json():Promise.reject({message:`error calling smart service, statusCode=${a.status}, statusText=${a.statusText}`,statusCode:a.status})).then(a=>lot(a,t))},dot="/images/icons/avatar_group_48.png",uot=Re.div.withConfig({displayName:"AvatarWithLabel__Container",componentId:"sc-lh7c6q-0"})(["display:flex;align-items:center;> :first-child{margin-right:",";}"],U("space.050")),ZA=({userOrGroup:e,label:t,size:n,className:r})=>{const o=e?DO(e)?e.displayName:e.name:"",a=fe.useSelector(to);return h.jsxs(uot,{className:r,children:[h.jsx($i,{testId:"avatar-with-label",appearance:"circle",size:n,src:e?DO(e)?new URL(e.profilePicture.path,a).toString():`${a}${dot}`:void 0,borderColor:"none",name:t!=null?o:void 0}),h.jsx(pg,{children:t??o})]})},fot=Re.span.withConfig({displayName:"UserName__MentionContainer",componentId:"sc-1rktnlx-0"})(["display:inline-flex;background:",";color:",";border-radius:20px;padding:0 0.5em 0px 0.5em;white-space:nowrap;max-width:calc(100% - 10px);"],e=>e.isCurrentUser?U("color.background.brand.bold","#0C66E4"):U("color.background.neutral","#091E420F"),e=>e.isCurrentUser?U("color.text.inverse","#FFFFFF"):U("color.text.subtle","#44546F")),pot=({user:e})=>h.jsx("span",{children:h.jsx(pg,{children:e.displayName})}),QA=({user:e,isCurrentUser:t,isValueEmbed:n})=>h.jsx(fot,{isCurrentUser:t,isValueEmbed:n,"data-mention-id":e.accountId,children:h.jsxs(pg,{children:["@",e.displayName]})}),une=({user:e})=>h.jsx(ZA,{userOrGroup:"profilePicture"in e?e:void 0,label:e.displayName}),hm=({accountId:e,displayName:t,renderUser:n=pot})=>{const[r,o]=fe.useEqualSelector(u=>{const f=Fm(u);return[Pp(u,{accountId:e})??(t!=null?{accountId:e,displayName:t}:void 0),!!f&&e===f]}),a=fe.useDispatch();Yn(De(async()=>{await a(ik(e))},[e,a]));const{contentId:s,entryId:i,fieldId:l}=An(),d=Xr()&&!!s&&!!i&&!!l;return r?h.jsx("span",{"data-testid":"user-mention",children:n({user:r,isCurrentUser:o,isValueEmbed:d})}):null},mot=e=>e.accountId,hot={menu:e=>({...e,width:"max-content",minWidth:"100%"}),singleValue:e=>({...e,lineHeight:"24px"})};function got(e){return"type"in e}const vot=async e=>{var t;return{context:{contextType:"contributors",principalId:((t=await o1())==null?void 0:t.accountId)||"",productAttributes:{isEntitledConfluenceExternalCollaborator:!1},productKey:"confluence",siteId:ia()||""},includeGroups:!1,includeTeams:!1,includeUsers:!0,maxNumberOfResults:15,performSearchQueryOnly:!1,query:e}},lP=({value:e,onChange:t,onFocus:n,onBlur:r,autoFocus:o,isClearable:a,isPending:s,isDisabled:i=!1,isSeamless:l})=>{const d=Ee(),u=d.formatMessage,f=De(async g=>(await dne(await vot(g),d)).map(b=>({accountId:b.id,displayName:b.name,type:"known",profilePicture:{path:b.avatarUrl}})),[d]),p=De(g=>{const v=Array.isArray(g)?g:g?[g]:[];t(v.map(({accountId:b,displayName:y})=>({accountId:b,displayName:y})))},[t]),m=De((g,v)=>v.context==="menu"?got(g)?h.jsx(ZA,{userOrGroup:g,label:g.displayName}):h.jsx(hm,{accountId:g.accountId,displayName:g.displayName,renderUser:une}):h.jsx(hm,{accountId:g.accountId,displayName:g.displayName,renderUser:QA}),[]);return h.jsx("div",{style:{width:"100%"},children:h.jsx(qs,{inputId:"database-user-picker",value:e,onChange:p,isClearable:a,formatOptionLabel:m,loadOptions:f,getOptionValue:mot,onFocus:n,onBlur:r,autoFocus:o,placeholder:u(G["select-dropdown.placeholder"]),loadingMessage:()=>u(G["field-settings.select-picker-loading-text"]),isLoading:s,styles:hot,isDisabled:i,isSeamless:l,defaultMenuIsOpen:o&&!(e!=null&&e.length),classNamePrefix:"database-user-picker"})})};var eD={};Object.defineProperty(eD,"__esModule",{value:!0});var fne=eD.default=void 0,bot=Eot(c),yot=je;function Eot(e){return e&&e.__esModule?e:{default:e}}const pne=e=>bot.default.createElement(yot.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><path d="M11.94 12H5.008A2.006 2.006 0 0 0 3 14v4.446c0 2.233 5.16 3.002 8.713 2.306A6.48 6.48 0 0 1 10.13 16.5c0-1.746.689-3.332 1.81-4.5"/><path d="M21.153 13.123c.795 1.036 1.042 2.316.69 3.603-.34 1.254-.95 2.077-1.814 2.446-1.139.486-2.2-.052-2.315-.114a2.2 2.2 0 0 1-.575-.482c-.448.328-.94.52-1.417.52a1.74 1.74 0 0 1-.832-.206 1.84 1.84 0 0 1-.883-1.12c-.21-.715-.08-1.574.357-2.358.718-1.288 2.168-1.882 3.23-1.335.058.028.094.082.147.117a.85.85 0 0 1 .808-.1c.442.18.654.683.471 1.123l-.072.173c-.438 1.052-.768 1.94-.386 2.168.005 0 .423.19.795.029.343-.154.627-.607.82-1.312.21-.78.077-1.489-.397-2.107-.675-.879-1.953-1.446-3.255-1.446-2.093 0-3.796 1.694-3.796 3.778s1.703 3.78 3.796 3.78c.478 0 .865.385.865.86s-.387.86-.865.86C13.478 22 11 19.533 11 16.5s2.478-5.5 5.525-5.5c1.848 0 3.622.814 4.628 2.123m-3.898 3.757c.413-.738.354-1.466-.141-1.72-.522-.267-1.274.129-1.637.776-.414.737-.35 1.545.14 1.806.491.26 1.224-.126 1.638-.863"/><circle cx="9" cy="7" r="4"/></g></svg>'},e));pne.displayName="MentionIcon";fne=eD.default=pne;const mg=e=>h.jsx(gU,{spacing:"spacious",LEGACY_size:"small",LEGACY_fallbackIcon:fne,...e});var Ys={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SaveReactionResponseFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SaveReactionResponse"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ari"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"containerAri"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emojiId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReactionsSummaryResponseFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReactionsSummaryResponse"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ari"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"containerAri"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactionsSummaryForEmoji"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"emojiId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReactedUsersResponseFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReactedUsersResponse"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ari"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"containerAri"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emojiId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"users"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:498}};Ys.loc.source={body:`fragment SaveReactionResponseFragment on SaveReactionResponse {
  ari
  containerAri
  emojiId
  __typename
}

fragment ReactionsSummaryResponseFragment on ReactionsSummaryResponse {
  ari
  containerAri
  reactionsSummaryForEmoji {
    emojiId
    count
    reacted
    __typename
  }
  __typename
}

fragment ReactedUsersResponseFragment on ReactedUsersResponse {
  ari
  containerAri
  count
  emojiId
  reacted
  users {
    accountId
    displayName
    type
    __typename
  }
  __typename
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function Z0(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(r){Z0(r,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(r){Z0(r,t)}),e.definitions&&e.definitions.forEach(function(r){Z0(r,t)})}var iS={};(function(){Ys.definitions.forEach(function(t){if(t.name){var n=new Set;Z0(t,n),iS[t.name.value]=n}})})();function cP(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}function tD(e,t){var n={kind:e.kind,definitions:[cP(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=iS[t]||new Set,o=new Set,a=new Set;for(r.forEach(function(i){a.add(i)});a.size>0;){var s=a;a=new Set,s.forEach(function(i){if(!o.has(i)){o.add(i);var l=iS[i]||new Set;l.forEach(function(d){a.add(d)})}})}return o.forEach(function(i){var l=cP(e,i);l&&n.definitions.push(l)}),n}tD(Ys,"SaveReactionResponseFragment");tD(Ys,"ReactionsSummaryResponseFragment");tD(Ys,"ReactedUsersResponseFragment");var gm={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateCommentReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"containerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"containerType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContainerType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"GraphQLReactionContentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"emojiId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"containerId"},value:{kind:"Variable",name:{kind:"Name",value:"containerId"}}},{kind:"Argument",name:{kind:"Name",value:"containerType"},value:{kind:"Variable",name:{kind:"Name",value:"containerType"}}},{kind:"Argument",name:{kind:"Name",value:"contentType"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}},{kind:"Argument",name:{kind:"Name",value:"emojiId"},value:{kind:"Variable",name:{kind:"Name",value:"emojiId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SaveReactionResponseFragment"},directives:[]}]}}]}}],loc:{start:0,end:434}};gm.loc.source={body:`#import "./confluence-reaction-fragment.graphql"

mutation CreateCommentReaction(
  $contentId: String!
  $containerId: String!
  $containerType: ContainerType!
  $contentType: GraphQLReactionContentType!
  $emojiId: String!
) {
  addReaction(
    contentId: $contentId
    containerId: $containerId
    containerType: $containerType
    contentType: $contentType
    emojiId: $emojiId
  ) {
    ...SaveReactionResponseFragment
  }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var dP={};function wot(e){return e.filter(function(t){if(t.kind!=="FragmentDefinition")return!0;var n=t.name.value;return dP[n]?!1:(dP[n]=!0,!0)})}gm.definitions=gm.definitions.concat(wot(Ys.definitions));function Q0(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(r){Q0(r,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(r){Q0(r,t)}),e.definitions&&e.definitions.forEach(function(r){Q0(r,t)})}var lS={};(function(){gm.definitions.forEach(function(t){if(t.name){var n=new Set;Q0(t,n),lS[t.name.value]=n}})})();function uP(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}function Cot(e,t){var n={kind:e.kind,definitions:[uP(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=lS[t]||new Set,o=new Set,a=new Set;for(r.forEach(function(i){a.add(i)});a.size>0;){var s=a;a=new Set,s.forEach(function(i){if(!o.has(i)){o.add(i);var l=lS[i]||new Set;l.forEach(function(d){a.add(d)})}})}return o.forEach(function(i){var l=uP(e,i);l&&n.definitions.push(l)}),n}const _ot=Cot(gm,"CreateCommentReaction");var Ac={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CommentFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Comment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAtNonLocalized"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ancestors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"KnownUser"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"permissionType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"permissionType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[{kind:"Argument",name:{kind:"Name",value:"representation"},value:{kind:"EnumValue",value:"ATLAS_DOC_FORMAT"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"links"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"webui"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parentId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"permissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEditable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRemovable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"friendlyWhen"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"number"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"when"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"by"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"KnownUser"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"InlineComment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"inlineResolveProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"inlineMarkerRef"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:1050}};Ac.loc.source={body:`fragment CommentFragment on Comment {
  id
  createdAtNonLocalized
  ancestors {
    id
    __typename
  }
  author {
    type
    displayName
    profilePicture {
      path
      __typename
    }
    ... on KnownUser {
      accountId
      permissionType
      __typename
    }
    ... on User {
      accountId
      permissionType
      __typename
    }
    __typename
  }
  body(representation: ATLAS_DOC_FORMAT) {
    value
    __typename
  }
  contentStatus
  links {
    webui
    __typename
  }
  parentId
  permissions {
    isEditable
    isRemovable
    __typename
  }
  version {
    friendlyWhen
    number
    when
    by {
      type
      displayName
      ... on KnownUser {
        accountId
        __typename
      }
      ... on User {
        accountId
        __typename
      }
      __typename
    }
    __typename
  }
  location {
    type
    ... on InlineComment {
      inlineResolveProperties {
        resolved
        __typename
      }
      inlineMarkerRef
      __typename
    }
    __typename
  }
  __typename
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function ev(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(r){ev(r,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(r){ev(r,t)}),e.definitions&&e.definitions.forEach(function(r){ev(r,t)})}var cS={};(function(){Ac.definitions.forEach(function(t){if(t.name){var n=new Set;ev(t,n),cS[t.name.value]=n}})})();function fP(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}function xot(e,t){var n={kind:e.kind,definitions:[fP(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=cS[t]||new Set,o=new Set,a=new Set;for(r.forEach(function(i){a.add(i)});a.size>0;){var s=a;a=new Set,s.forEach(function(i){if(!o.has(i)){o.add(i);var l=cS[i]||new Set;l.forEach(function(d){a.add(d)})}})}return o.forEach(function(i){var l=fP(e,i);l&&n.definitions.push(l)}),n}xot(Ac,"CommentFragment");var vm={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateInlineComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateInlineCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createInlineComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"replies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:228}};vm.loc.source={body:`#import "./confluence-comment-fragment.graphql"

mutation CreateInlineComment($input: CreateInlineCommentInput!) {
  createInlineComment(input: $input) {
    ...CommentFragment
    replies {
      ...CommentFragment
    }
  }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var pP={};function Sot(e){return e.filter(function(t){if(t.kind!=="FragmentDefinition")return!0;var n=t.name.value;return pP[n]?!1:(pP[n]=!0,!0)})}vm.definitions=vm.definitions.concat(Sot(Ac.definitions));function tv(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(r){tv(r,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(r){tv(r,t)}),e.definitions&&e.definitions.forEach(function(r){tv(r,t)})}var dS={};(function(){vm.definitions.forEach(function(t){if(t.name){var n=new Set;tv(t,n),dS[t.name.value]=n}})})();function mP(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}function kot(e,t){var n={kind:e.kind,definitions:[mP(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=dS[t]||new Set,o=new Set,a=new Set;for(r.forEach(function(i){a.add(i)});a.size>0;){var s=a;a=new Set,s.forEach(function(i){if(!o.has(i)){o.add(i);var l=dS[i]||new Set;l.forEach(function(d){a.add(d)})}})}return o.forEach(function(i){var l=mP(e,i);l&&n.definitions.push(l)}),n}const Iot=kot(vm,"CreateInlineComment");var nD={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateMentionNotification"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mentions"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"ContentMention"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createContentMentionNotificationAction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"ObjectField",name:{kind:"Name",value:"mentions"},value:{kind:"Variable",name:{kind:"Name",value:"mentions"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:255}};nD.loc.source={body:`mutation CreateMentionNotification($contentId: ID!, $mentions: [ContentMention]!) {
  createContentMentionNotificationAction(
    input: { contentId: $contentId, mentions: $mentions }
  ) {
    contentId
    success
    errors {
      message
    }
  }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function nv(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(r){nv(r,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(r){nv(r,t)}),e.definitions&&e.definitions.forEach(function(r){nv(r,t)})}var uS={};(function(){nD.definitions.forEach(function(t){if(t.name){var n=new Set;nv(t,n),uS[t.name.value]=n}})})();function hP(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}function Tot(e,t){var n={kind:e.kind,definitions:[hP(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=uS[t]||new Set,o=new Set,a=new Set;for(r.forEach(function(i){a.add(i)});a.size>0;){var s=a;a=new Set,s.forEach(function(i){if(!o.has(i)){o.add(i);var l=uS[i]||new Set;l.forEach(function(d){a.add(d)})}})}return o.forEach(function(i){var l=hP(e,i);l&&n.definitions.push(l)}),n}const Aot=Tot(nD,"CreateMentionNotification");var bm={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteCommentReaction"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"containerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"containerType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContainerType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"GraphQLReactionContentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"emojiId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteReaction"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"containerId"},value:{kind:"Variable",name:{kind:"Name",value:"containerId"}}},{kind:"Argument",name:{kind:"Name",value:"containerType"},value:{kind:"Variable",name:{kind:"Name",value:"containerType"}}},{kind:"Argument",name:{kind:"Name",value:"contentType"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}},{kind:"Argument",name:{kind:"Name",value:"emojiId"},value:{kind:"Variable",name:{kind:"Name",value:"emojiId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SaveReactionResponseFragment"},directives:[]}]}}]}}],loc:{start:0,end:437}};bm.loc.source={body:`#import "./confluence-reaction-fragment.graphql"

mutation DeleteCommentReaction(
  $contentId: String!
  $containerId: String!
  $containerType: ContainerType!
  $contentType: GraphQLReactionContentType!
  $emojiId: String!
) {
  deleteReaction(
    contentId: $contentId
    containerId: $containerId
    containerType: $containerType
    contentType: $contentType
    emojiId: $emojiId
  ) {
    ...SaveReactionResponseFragment
  }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var gP={};function Dot(e){return e.filter(function(t){if(t.kind!=="FragmentDefinition")return!0;var n=t.name.value;return gP[n]?!1:(gP[n]=!0,!0)})}bm.definitions=bm.definitions.concat(Dot(Ys.definitions));function rv(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(r){rv(r,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(r){rv(r,t)}),e.definitions&&e.definitions.forEach(function(r){rv(r,t)})}var fS={};(function(){bm.definitions.forEach(function(t){if(t.name){var n=new Set;rv(t,n),fS[t.name.value]=n}})})();function vP(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}function Oot(e,t){var n={kind:e.kind,definitions:[vP(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=fS[t]||new Set,o=new Set,a=new Set;for(r.forEach(function(i){a.add(i)});a.size>0;){var s=a;a=new Set,s.forEach(function(i){if(!o.has(i)){o.add(i);var l=fS[i]||new Set;l.forEach(function(d){a.add(d)})}})}return o.forEach(function(i){var l=vP(e,i);l&&n.definitions.push(l)}),n}const Mot=Oot(bm,"DeleteCommentReaction");var rD={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteInlineComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commentIdToDelete"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"commentIdToDelete"},value:{kind:"Variable",name:{kind:"Name",value:"commentIdToDelete"}}}],directives:[]}]}}],loc:{start:0,end:113}};rD.loc.source={body:`mutation DeleteInlineComment($commentIdToDelete: ID!) {
  deleteComment(commentIdToDelete: $commentIdToDelete)
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function ov(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(r){ov(r,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(r){ov(r,t)}),e.definitions&&e.definitions.forEach(function(r){ov(r,t)})}var pS={};(function(){rD.definitions.forEach(function(t){if(t.name){var n=new Set;ov(t,n),pS[t.name.value]=n}})})();function bP(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}function $ot(e,t){var n={kind:e.kind,definitions:[bP(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=pS[t]||new Set,o=new Set,a=new Set;for(r.forEach(function(i){a.add(i)});a.size>0;){var s=a;a=new Set,s.forEach(function(i){if(!o.has(i)){o.add(i);var l=pS[i]||new Set;l.forEach(function(d){a.add(d)})}})}return o.forEach(function(i){var l=bP(e,i);l&&n.definitions.push(l)}),n}const Rot=$ot(rD,"DeleteInlineComment");var oD={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ResolveInlineComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"resolved"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolveInlineComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"commentId"},value:{kind:"Variable",name:{kind:"Name",value:"commentId"}}},{kind:"Argument",name:{kind:"Name",value:"resolved"},value:{kind:"Variable",name:{kind:"Name",value:"resolved"}}},{kind:"Argument",name:{kind:"Name",value:"dangling"},value:{kind:"BooleanValue",value:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolveProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"resolved"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolvedTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolvedUser"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolvedByDangling"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resolvedFriendlyDate"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:308}};oD.loc.source={body:`mutation ResolveInlineComment($commentId: ID!, $resolved: Boolean!) {
  resolveInlineComment(commentId: $commentId, resolved: $resolved, dangling: false) {
    status
    resolveProperties {
      resolved
      resolvedTime
      resolvedUser
      resolvedByDangling
      resolvedFriendlyDate
    }
  }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function av(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(r){av(r,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(r){av(r,t)}),e.definitions&&e.definitions.forEach(function(r){av(r,t)})}var mS={};(function(){oD.definitions.forEach(function(t){if(t.name){var n=new Set;av(t,n),mS[t.name.value]=n}})})();function yP(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}function Pot(e,t){var n={kind:e.kind,definitions:[yP(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=mS[t]||new Set,o=new Set,a=new Set;for(r.forEach(function(i){a.add(i)});a.size>0;){var s=a;a=new Set,s.forEach(function(i){if(!o.has(i)){o.add(i);var l=mS[i]||new Set;l.forEach(function(d){a.add(d)})}})}return o.forEach(function(i){var l=yP(e,i);l&&n.definitions.push(l)}),n}const Lot=Pot(oD,"ResolveInlineComment");var ym={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateInlineComment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateCommentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateComment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"replies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentFragment"},directives:[]}]}}]}}]}}],loc:{start:0,end:216}};ym.loc.source={body:`#import "./confluence-comment-fragment.graphql"

mutation UpdateInlineComment($input: UpdateCommentInput!) {
  updateComment(input: $input) {
    ...CommentFragment
    replies {
      ...CommentFragment
    }
  }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var EP={};function Not(e){return e.filter(function(t){if(t.kind!=="FragmentDefinition")return!0;var n=t.name.value;return EP[n]?!1:(EP[n]=!0,!0)})}ym.definitions=ym.definitions.concat(Not(Ac.definitions));function sv(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(r){sv(r,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(r){sv(r,t)}),e.definitions&&e.definitions.forEach(function(r){sv(r,t)})}var hS={};(function(){ym.definitions.forEach(function(t){if(t.name){var n=new Set;sv(t,n),hS[t.name.value]=n}})})();function wP(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}function Fot(e,t){var n={kind:e.kind,definitions:[wP(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=hS[t]||new Set,o=new Set,a=new Set;for(r.forEach(function(i){a.add(i)});a.size>0;){var s=a;a=new Set,s.forEach(function(i){if(!o.has(i)){o.add(i);var l=hS[i]||new Set;l.forEach(function(d){a.add(d)})}})}return o.forEach(function(i){var l=wP(e,i);l&&n.definitions.push(l)}),n}const jot=Fot(ym,"UpdateInlineComment");var aD={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ContentTypesHeaderQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:112}};aD.loc.source={body:`query ContentTypesHeaderQuery($contentId: ID) {
  content(id: $contentId) {
    nodes {
      title
    }
  }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function iv(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(r){iv(r,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(r){iv(r,t)}),e.definitions&&e.definitions.forEach(function(r){iv(r,t)})}var gS={};(function(){aD.definitions.forEach(function(t){if(t.name){var n=new Set;iv(t,n),gS[t.name.value]=n}})})();function CP(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}function Vot(e,t){var n={kind:e.kind,definitions:[CP(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=gS[t]||new Set,o=new Set,a=new Set;for(r.forEach(function(i){a.add(i)});a.size>0;){var s=a;a=new Set,s.forEach(function(i){if(!o.has(i)){o.add(i);var l=gS[i]||new Set;l.forEach(function(d){a.add(d)})}})}return o.forEach(function(i){var l=CP(e,i);l&&n.definitions.push(l)}),n}const Bot=Vot(aD,"ContentTypesHeaderQuery");var Em={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommentCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Long"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commentId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"inlineMarkerRef"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pageId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"contentStatus"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CURRENT"}]}},{kind:"Argument",name:{kind:"Name",value:"depth"},value:{kind:"EnumValue",value:"ROOT"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"UNRESOLVED"}]}},{kind:"Argument",name:{kind:"Name",value:"commentId"},value:{kind:"Variable",name:{kind:"Name",value:"commentId"}}},{kind:"Argument",name:{kind:"Name",value:"inlineMarkerRef"},value:{kind:"Variable",name:{kind:"Name",value:"inlineMarkerRef"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:497}};Em.loc.source={body:`#import "./confluence-comment-fragment.graphql"

query CommentCount(
  $offset: String
  $last: Long
  $contentId: ID!
  $commentId: ID
  $inlineMarkerRef: String
) {
  comments(
    pageId: $contentId
    last: $last
    after: $offset
    contentStatus: [CURRENT]
    depth: ROOT
    # The type field below is an array which performs an OR operation on its elements
    type: [UNRESOLVED]
    commentId: $commentId
    inlineMarkerRef: $inlineMarkerRef
  ) {
    totalCount
    __typename
  }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var _P={};function Uot(e){return e.filter(function(t){if(t.kind!=="FragmentDefinition")return!0;var n=t.name.value;return _P[n]?!1:(_P[n]=!0,!0)})}Em.definitions=Em.definitions.concat(Uot(Ac.definitions));function lv(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(r){lv(r,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(r){lv(r,t)}),e.definitions&&e.definitions.forEach(function(r){lv(r,t)})}var vS={};(function(){Em.definitions.forEach(function(t){if(t.name){var n=new Set;lv(t,n),vS[t.name.value]=n}})})();function xP(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}function Hot(e,t){var n={kind:e.kind,definitions:[xP(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=vS[t]||new Set,o=new Set,a=new Set;for(r.forEach(function(i){a.add(i)});a.size>0;){var s=a;a=new Set,s.forEach(function(i){if(!o.has(i)){o.add(i);var l=vS[i]||new Set;l.forEach(function(d){a.add(d)})}})}return o.forEach(function(i){var l=xP(e,i);l&&n.definitions.push(l)}),n}const zot=Hot(Em,"CommentCount");var wm={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommentReactionDetails"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"GraphQLReactionContentType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"containerId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"containerType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContainerType"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"emojiId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactedUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"containerId"},value:{kind:"Variable",name:{kind:"Name",value:"containerId"}}},{kind:"Argument",name:{kind:"Name",value:"containerType"},value:{kind:"Variable",name:{kind:"Name",value:"containerType"}}},{kind:"Argument",name:{kind:"Name",value:"contentType"},value:{kind:"Variable",name:{kind:"Name",value:"contentType"}}},{kind:"Argument",name:{kind:"Name",value:"emojiId"},value:{kind:"Variable",name:{kind:"Name",value:"emojiId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReactedUsersResponseFragment"},directives:[]}]}}]}}],loc:{start:0,end:433}};wm.loc.source={body:`#import "./confluence-reaction-fragment.graphql"

query CommentReactionDetails(
  $contentId: String!
  $contentType: GraphQLReactionContentType!
  $containerId: String!
  $containerType: ContainerType!
  $emojiId: String!
) {
  reactedUsers(
    contentId: $contentId
    containerId: $containerId
    containerType: $containerType
    contentType: $contentType
    emojiId: $emojiId
  ) {
    ...ReactedUsersResponseFragment
  }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var SP={};function Wot(e){return e.filter(function(t){if(t.kind!=="FragmentDefinition")return!0;var n=t.name.value;return SP[n]?!1:(SP[n]=!0,!0)})}wm.definitions=wm.definitions.concat(Wot(Ys.definitions));function cv(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(r){cv(r,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(r){cv(r,t)}),e.definitions&&e.definitions.forEach(function(r){cv(r,t)})}var bS={};(function(){wm.definitions.forEach(function(t){if(t.name){var n=new Set;cv(t,n),bS[t.name.value]=n}})})();function kP(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}function Got(e,t){var n={kind:e.kind,definitions:[kP(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=bS[t]||new Set,o=new Set,a=new Set;for(r.forEach(function(i){a.add(i)});a.size>0;){var s=a;a=new Set,s.forEach(function(i){if(!o.has(i)){o.add(i);var l=bS[i]||new Set;l.forEach(function(d){a.add(d)})}})}return o.forEach(function(i){var l=kP(e,i);l&&n.definitions.push(l)}),n}const qot=Got(wm,"CommentReactionDetails");var sD={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ContentPermissionsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"accountIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentPermissions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentAccess"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subjectsWithEffectiveContentPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"usersWithContentRestrictions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"accountIds"},value:{kind:"Variable",name:{kind:"Name",value:"accountIds"}}},{kind:"Argument",name:{kind:"Name",value:"contentId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accountId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profilePicture"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"hasSpaceViewPermission"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restrictingContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasRestrictions"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:481}};sD.loc.source={body:`query ContentPermissionsQuery($accountIds: [String]!, $contentId: ID!) {
  contentPermissions(contentId: $contentId) {
    contentAccess
    subjectsWithEffectiveContentPermissions {
      edges {
        node {
          id
        }
      }
    }
  }
  usersWithContentRestrictions(accountIds: $accountIds, contentId: $contentId) {
    accountId
    profilePicture {
      path
    }
    hasSpaceViewPermission
    restrictingContent {
      id
      hasRestrictions
    }
  }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};function dv(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(r){dv(r,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(r){dv(r,t)}),e.definitions&&e.definitions.forEach(function(r){dv(r,t)})}var yS={};(function(){sD.definitions.forEach(function(t){if(t.name){var n=new Set;dv(t,n),yS[t.name.value]=n}})})();function IP(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}function Yot(e,t){var n={kind:e.kind,definitions:[IP(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=yS[t]||new Set,o=new Set,a=new Set;for(r.forEach(function(i){a.add(i)});a.size>0;){var s=a;a=new Set,s.forEach(function(i){if(!o.has(i)){o.add(i);var l=yS[i]||new Set;l.forEach(function(d){a.add(d)})}})}return o.forEach(function(i){var l=IP(e,i);l&&n.definitions.push(l)}),n}const Kot=Yot(sD,"ContentPermissionsQuery");var Cm={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommentReactionList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"comments"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"ReactionsId"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reactionsSummaryList"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ids"},value:{kind:"Variable",name:{kind:"Name",value:"comments"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReactionsSummaryResponseFragment"},directives:[]}]}}]}}],loc:{start:0,end:192}};Cm.loc.source={body:`#import "./confluence-reaction-fragment.graphql"

query CommentReactionList($comments: [ReactionsId]!) {
  reactionsSummaryList(ids: $comments) {
    ...ReactionsSummaryResponseFragment
  }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var TP={};function Xot(e){return e.filter(function(t){if(t.kind!=="FragmentDefinition")return!0;var n=t.name.value;return TP[n]?!1:(TP[n]=!0,!0)})}Cm.definitions=Cm.definitions.concat(Xot(Ys.definitions));function uv(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(r){uv(r,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(r){uv(r,t)}),e.definitions&&e.definitions.forEach(function(r){uv(r,t)})}var ES={};(function(){Cm.definitions.forEach(function(t){if(t.name){var n=new Set;uv(t,n),ES[t.name.value]=n}})})();function AP(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}function Jot(e,t){var n={kind:e.kind,definitions:[AP(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=ES[t]||new Set,o=new Set,a=new Set;for(r.forEach(function(i){a.add(i)});a.size>0;){var s=a;a=new Set,s.forEach(function(i){if(!o.has(i)){o.add(i);var l=ES[i]||new Set;l.forEach(function(d){a.add(d)})}})}return o.forEach(function(i){var l=AP(e,i);l&&n.definitions.push(l)}),n}const Zot=Jot(Cm,"CommentReactionList");var _m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CommentList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"offset"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"last"}},type:{kind:"NamedType",name:{kind:"Name",value:"Long"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"commentId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"inlineMarkerRef"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pageId"},value:{kind:"Variable",name:{kind:"Name",value:"contentId"}}},{kind:"Argument",name:{kind:"Name",value:"last"},value:{kind:"Variable",name:{kind:"Name",value:"last"}}},{kind:"Argument",name:{kind:"Name",value:"before"},value:{kind:"Variable",name:{kind:"Name",value:"offset"}}},{kind:"Argument",name:{kind:"Name",value:"contentStatus"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"CURRENT"}]}},{kind:"Argument",name:{kind:"Name",value:"depth"},value:{kind:"EnumValue",value:"ROOT"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"UNRESOLVED"}]}},{kind:"Argument",name:{kind:"Name",value:"commentId"},value:{kind:"Variable",name:{kind:"Name",value:"commentId"}}},{kind:"Argument",name:{kind:"Name",value:"inlineMarkerRef"},value:{kind:"Variable",name:{kind:"Name",value:"inlineMarkerRef"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"replies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CommentFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:669}};_m.loc.source={body:`#import "./confluence-comment-fragment.graphql"

query CommentList(
  $offset: String
  $last: Long
  $contentId: ID!
  $commentId: ID
  $inlineMarkerRef: String
) {
  comments(
    pageId: $contentId
    last: $last
    before: $offset
    contentStatus: [CURRENT]
    depth: ROOT
    # The type field below is an array which performs an OR operation on its elements
    type: [UNRESOLVED]
    commentId: $commentId
    inlineMarkerRef: $inlineMarkerRef
  ) {
    edges {
      cursor
      node {
        ...CommentFragment
        replies {
          ...CommentFragment
        }
        __typename
      }
      __typename
    }
    totalCount
    __typename
  }
}
`,name:"GraphQL request",locationOffset:{line:1,column:1}};var DP={};function Qot(e){return e.filter(function(t){if(t.kind!=="FragmentDefinition")return!0;var n=t.name.value;return DP[n]?!1:(DP[n]=!0,!0)})}_m.definitions=_m.definitions.concat(Qot(Ac.definitions));function fv(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(r){fv(r,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(r){fv(r,t)}),e.definitions&&e.definitions.forEach(function(r){fv(r,t)})}var wS={};(function(){_m.definitions.forEach(function(t){if(t.name){var n=new Set;fv(t,n),wS[t.name.value]=n}})})();function OP(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}function eat(e,t){var n={kind:e.kind,definitions:[OP(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=wS[t]||new Set,o=new Set,a=new Set;for(r.forEach(function(i){a.add(i)});a.size>0;){var s=a;a=new Set,s.forEach(function(i){if(!o.has(i)){o.add(i);var l=wS[i]||new Set;l.forEach(function(d){a.add(d)})}})}return o.forEach(function(i){var l=OP(e,i);l&&n.definitions.push(l)}),n}const tat=eat(_m,"CommentList"),nat=e=>/^\d+$/.test(e??"");class rat{constructor(){this.referenceIdToContentIdMapping=new Map,this.contentIdToReferenceIdMapping=new Map,this.clients=new Due}async addComment({baseUrl:t,containerId:n,content:r,parentCommentId:o,createdFrom:a="WHITEBOARD",originalSelection:s=""}){const i=this.clients.getOrCreate(t,"/cgraphql"),l=o?this.toContentId(o):void 0,d=await i.mutate({mutation:Iot,variables:{input:{containerId:n.toString(),parentCommentId:l,createdFrom:a,commentBody:{value:r,representationFormat:"ATLAS_DOC_FORMAT"},lastFetchTimeMillis:Date.now(),matchIndex:0,numMatches:1,originalSelection:s}},context:{tenantBaseUrl:t.toString()}}).catch(f=>f);il(d);const u=o?"id":"marker";return this.withReferenceId(d.data.createInlineComment,u)}async updateComment({baseUrl:t,parentCommentId:n,commentId:r,content:o}){const a=this.clients.getOrCreate(t,"/cgraphql"),s=this.toContentId(r),i=await a.mutate({mutation:jot,variables:{input:{commentId:s,commentBody:{value:o,representationFormat:"ATLAS_DOC_FORMAT"}}},context:{tenantBaseUrl:t.toString()}}).catch(d=>d);il(i);const l=n?"id":"marker";return this.withReferenceId(i.data.updateComment,l)}async deleteComment({baseUrl:t,commentId:n}){const r=this.clients.getOrCreate(t,"/cgraphql"),o=this.toContentId(n),a=await r.mutate({mutation:Rot,variables:{commentIdToDelete:o},context:{tenantBaseUrl:t.toString()}}).catch(s=>s);if(il(a),a.data.deleteComment===!1)throw new Error(`failed deletion: ${JSON.stringify(a.errors)}`)}async resolveComment({baseUrl:t,commentId:n,resolved:r}){const o=this.clients.getOrCreate(t,"/cgraphql"),a=this.toContentId(n),s=await o.mutate({mutation:Lot,variables:{commentId:a,resolved:r},context:{tenantBaseUrl:t.toString()}}).catch(i=>i);if(il(s),s.data.resolveInlineComment.status===!1)throw new Error(`failed resolve: ${JSON.stringify(s.errors)}`)}async listComments({baseUrl:t,containerId:n,parentCommentId:r,last:o,noCache:a=!1,before:s}){const i=this.clients.getOrCreate(t,"/cgraphql"),l={contentId:n.toString(),last:o??50,offset:s??void 0};nat(r)?l.commentId=r:r&&(l.inlineMarkerRef=r);const d=await i.query({query:tat,variables:l,context:{tenantBaseUrl:t.toString()},fetchPolicy:a?"no-cache":void 0}).catch(u=>u);return Rc(d),{comments:d.data.comments.edges.map(u=>this.withReferenceId(u.node)),totalCount:d.data.comments.totalCount,cursor:d.data.comments.edges[0].cursor}}async getCommentCount({baseUrl:t,containerId:n,last:r,noCache:o=!1}){const a=this.clients.getOrCreate(t,"/cgraphql"),s={contentId:n.toString(),last:r??50},i=await a.query({query:zot,variables:s,context:{tenantBaseUrl:t.toString()},fetchPolicy:o?"no-cache":void 0}).catch(l=>l);return Rc(i),i.data.comments.totalCount}async addCommentReaction({baseUrl:t,containerId:n,commentId:r,emojiId:o,containerType:a="WHITEBOARD"}){const s=this.clients.getOrCreate(t,"/cgraphql"),i=this.toContentId(r),l=await s.mutate({mutation:_ot,variables:{contentId:i,contentType:"COMMENT",containerId:n,containerType:a,emojiId:o},context:{tenantBaseUrl:t.toString()}}).catch(d=>d);return il(l),l.data.addReaction}async deleteCommentReaction({baseUrl:t,containerId:n,commentId:r,emojiId:o,containerType:a="WHITEBOARD"}){const s=this.clients.getOrCreate(t,"/cgraphql"),i=this.toContentId(r),l=await s.mutate({mutation:Mot,variables:{contentId:i,contentType:"COMMENT",containerId:n,containerType:a,emojiId:o},context:{tenantBaseUrl:t.toString()}}).catch(d=>d);return il(l),l.data.deleteReaction}async listCommentReactions({baseUrl:t,comments:n}){const o=await this.clients.getOrCreate(t,"/cgraphql").query({query:Zot,variables:{comments:n.map(({containerId:a,commentId:s})=>({contentId:this.toContentId(s),contentType:"COMMENT",containerId:a,containerType:"WHITEBOARD"}))},context:{tenantBaseUrl:t.toString()}}).catch(a=>a);return Rc(o),o.data.reactionsSummaryList}async getCommentReactionDetails({baseUrl:t,containerId:n,commentId:r,emojiId:o}){const a=this.clients.getOrCreate(t,"/cgraphql"),s=this.toContentId(r),i=await a.query({query:qot,variables:{contentId:s,contentType:"COMMENT",containerId:n,containerType:"WHITEBOARD",emojiId:o},context:{tenantBaseUrl:t.toString()}}).catch(l=>l);return Rc(i),i.data.reactedUsers}async getWhiteboardBoardTitle({baseUrl:t,contentId:n}){const o=await this.clients.getOrCreate(t,"/cgraphql").query({query:Bot,variables:{contentId:n},context:{tenantBaseUrl:t.toString()}}).catch(a=>(console.log(a),a));return Rc(o),o.data.content.nodes[0].title}async createMentionNotification({baseUrl:t,contentId:n,mentions:r}){const a=await this.clients.getOrCreate(t,"/cgraphql").mutate({mutation:Aot,variables:{contentId:n,mentions:r},context:{tenantBaseUrl:t.toString()}}).catch(s=>s);il(a)}async getContentPermissions({baseUrl:t,accountIds:n,contentId:r}){var u;const a=await this.clients.getOrCreate(t,"/cgraphql").query({query:Kot,variables:{accountIds:n,contentId:r},context:{tenantBaseUrl:t.toString()}}).catch(f=>f);Rc(a);const s=new Map,i=a.data,{contentPermissions:l,usersWithContentRestrictions:d}=i;if(l){const f=(u=l.subjectsWithEffectiveContentPermissions)==null?void 0:u.edges;for(const p of d){const{accountId:m,profilePicture:g,hasSpaceViewPermission:v,restrictingContent:b}=p;let y=!1,E=!1,w=!1;v?b!=null&&b.hasRestrictions?E=!0:y=(f==null?void 0:f.some(C=>C.node.id===p.accountId))||l.contentAccess!=="EVERYONE_NO_ACCESS":w=!0,s.set(m,{accountId:m,profilePicture:g,userHasAccessToContent:y,isParentDatabaseRestricted:E,isSpaceRestricted:w})}}return Array.from(s.values())}toReferenceId(t){return this.contentIdToReferenceIdMapping.get(t)??t}toContentId(t){return this.referenceIdToContentIdMapping.get(t)??t}withReferenceId(t,n="marker"){var a;const r=t.id,o=n==="marker"?t.location.inlineMarkerRef:t.id;return this.referenceIdToContentIdMapping.set(o,r),this.contentIdToReferenceIdMapping.set(r,t.location.inlineMarkerRef),{...t,id:o,reactionsId:t.id,replies:(a=t.replies)==null?void 0:a.map(s=>this.withReferenceId(s,"id"))}}}class oat{constructor(t=new rat,n=new URL(globalThis.location.origin)){this.client=t,this.origin=n}getBaseUrl(){const t=this.origin.toString();return t.endsWith("/")?t.slice(0,-1):t}addComment({boardId:t,content:n,parentCommentId:r,createdFrom:o,originalSelection:a=""}){return this.client.addComment({baseUrl:this.getBaseUrl(),containerId:t,content:n,parentCommentId:r,createdFrom:o,originalSelection:a})}updateComment({commentId:t,content:n}){return this.client.updateComment({baseUrl:this.getBaseUrl(),content:n,commentId:t})}deleteComment({commentId:t}){return this.client.deleteComment({baseUrl:this.getBaseUrl(),commentId:t})}resolveComment({commentId:t,resolved:n}){return this.client.resolveComment({baseUrl:this.getBaseUrl(),commentId:t,resolved:n})}listComments({boardId:t,parentCommentId:n,noCache:r=!1,before:o}){return this.client.listComments({baseUrl:this.getBaseUrl(),containerId:t,parentCommentId:n,noCache:r,before:o})}getCommentCount({boardId:t,noCache:n=!1}){return this.client.getCommentCount({baseUrl:this.getBaseUrl(),containerId:t,noCache:n})}addCommentReaction({containerId:t,commentId:n,emojiId:r,containerType:o}){return this.client.addCommentReaction({baseUrl:this.getBaseUrl(),containerId:t,commentId:n,emojiId:r,containerType:o})}deleteCommentReaction({containerId:t,commentId:n,emojiId:r,containerType:o}){return this.client.deleteCommentReaction({baseUrl:this.getBaseUrl(),containerId:t,commentId:n,emojiId:r,containerType:o})}listCommentReactions(t){return this.client.listCommentReactions({baseUrl:this.getBaseUrl(),comments:t})}getCommentReactionDetails({containerId:t,commentId:n,emojiId:r}){return this.client.getCommentReactionDetails({baseUrl:this.getBaseUrl(),containerId:t,commentId:n,emojiId:r})}getBoardTitle({contentId:t}){return this.client.getWhiteboardBoardTitle({baseUrl:this.getBaseUrl(),contentId:t})}toReferenceId(t){return this.client.toReferenceId(t)}createMentionNotification({contentId:t,mentions:n}){return this.client.createMentionNotification({baseUrl:this.getBaseUrl(),contentId:t,mentions:n})}getContentPermissions({accountIds:t,contentId:n}){return this.client.getContentPermissions({baseUrl:this.getBaseUrl(),accountIds:t,contentId:n})}}let vC;const yE=()=>(vC||(vC=new oat),vC),hn=xr({"mention-notification.permission-space-or-parent-database-restriction-one-user":{id:"mention-notification.permission-space-or-parent-database-restriction-one-user",defaultMessage:"{displayName} needs space or parent database access, so we cant let them know you mentioned them",description:"Error text when a user doesnt have access to either the space or a parent database"},"mention-notification.permission-database-restriction-one-user":{id:"mention-notification.permission-database-restriction-one-user",defaultMessage:"{displayName} doesnt have access to this database, so we cant let them know you mentioned them",description:"Error text when a user doesnt have access to the database"},"mention-notification.permission-database-restriction-fallback-user":{id:"mention-notification.permission-database-restriction-fallback-user",defaultMessage:"The mentioned user",description:"Fallback text for mentioned user on a restricted database"},"mention-notification.permission-database-restriction-two-users":{id:"mention-notification.permission-database-restriction-two-users",defaultMessage:"{displayName} and {somebodyElse} have restrictions, so we cant let them know you mentioned them",description:"Error text when two users do not hav access to the database"},"mention-notification.permission-database-restriction-three-or-more-users":{id:"mention-notification.permission-database-restriction-three-or-more-users",defaultMessage:"{displayName}, {somebodyElse}, and {numOthers, plural, one {# other} other {# others}} have restrictions, so we cant let them know you mentioned them",description:"Error text when three or more users do not hav access to the database"},"mention-notification.flag-permission-restriction-title-one-user":{id:"mention-notification.flag-permission-restriction-title-one-user",defaultMessage:"{displayName} wont be notified",description:"Flag title text when one user does not have access to database"},"mention-notification.flag-permission-restriction-title-two-users":{id:"mention-notification.flag-permission-restriction-title-two-users",defaultMessage:"{displayName} and {somebodyElse} wont be notified",description:"Flag title text when two users do not have access to database"},"mention-notification.flag-permission-restriction-title-three-or-more-users":{id:"mention-notification.flag-permission-restriction-title-three-or-more-users",defaultMessage:"{displayName}, {somebodyElse}, and {numOthers, plural, one {# other} other {# others}} wont be notified",description:"Flag title text when three or more users do not have access to database"},"mention-notification.flag-permission-restriction-description":{id:"mention-notification.flag-permission-restriction-description",defaultMessage:"They dont have access to this database, so we cant let them know you mentioned them.",description:"Flag description text when user(s) do not have access to database"},"mention-notification.flag-permission-parent-restriction-description":{id:"mention-notification.flag-permission-parent-restriction-description",defaultMessage:"They dont have access to the parent item, so we cant let them know you mentioned them.",description:"Flag description text when user(s) do not have access to parent item"},"mention-notification.flag-permission-space-restriction-description":{id:"mention-notification.flag-permission-space-restriction-description",defaultMessage:"They dont have access to the space, so we cant let them know you mentioned them.",description:"Flag description text when user(s) do not have access to parent item"},"mention-notification.flag-permission-mixed-restriction-description":{id:"mention-notification.flag-permission-mixed-restriction-description",defaultMessage:"They dont have access to this database, its parent item, or the space. We cant let them know you mentioned them.",description:"Flag description text when user(s) do not have access to the database, its parent item, or the space"},"mention-notification.flag-mention-notification-title-one-user":{id:"mention-notification.flag-mention-notification-title-one-user",defaultMessage:"{displayName} will be notified",description:"Flag title text when one user is mentioned"},"mention-notification.flag-mention-notification-title-two-users":{id:"mention-notification.flag-mention-notification-title-two-users",defaultMessage:"{displayName} and {somebodyElse} will be notified",description:"Flag title text when two users are mentioned"},"mention-notification.flag-mention-notification-title-three-or-more-users":{id:"mention-notification.flag-mention-notification-title-three-or-more-users",defaultMessage:"{displayName}, {somebodyElse}, and {numOthers, plural, one {# other} other {# others}} will be notified",description:"Flag title text when three or more user are mentioned"},"mention-notification.flag-mention-notification-description":{id:"mention-notification.flag-mention-notification-description",defaultMessage:"Well let them know you mentioned them. Turn user notifications off in field settings.",description:"Flag description text when user(s) are mentioned"},"mention-notification.flag-mention-notification-description-without-field-settings":{id:"mention-notification.flag-mention-notification-description-without-field-settings",defaultMessage:"Well let them know you mentioned them.",description:"Flag description text when user(s) are mentioned in a locked structure database."},"mention-notification.flag-error-title":{id:"mention-notification.flag-error-title",defaultMessage:"Something went wrong",description:"Flag title text when create mention fails"},"mention-notification.flag-error-description":{id:"mention-notification.flag-error-description",defaultMessage:"Please try again later.",description:"Flag description text create mention fails"},"mention-notification.flag-go-to-field-settings-cta":{id:"mention-notification.flag-go-to-field-settings-cta",defaultMessage:"Go to field settings",description:"CTA text to open field settings in a flag"}});class tf{constructor({formatMessage:t,usersWithAccess:n,usersWithoutAccess:r,isLocked:o,showPanel:a,fieldId:s,analyticsClient:i,contentId:l}){this.formatMessage=t,this.usersWithAccess=n,this.usersWithoutAccess=r,this.isLocked=o,this.showPanel=a,this.fieldId=s,this.analyticsClient=i,this.contentId=l}}const EE=({users:e})=>{const t=new Set(e.map(s=>s.displayName)),n=t.values(),r=n.next().value??"",o=n.next().value??"";return{displayNamesCount:t.size,displayName:r,somebodyElse:o}};class aat extends tf{shouldShowFlag(){return this.usersWithAccess.length>2}build(){const{displayNamesCount:t,displayName:n,somebodyElse:r}=EE({users:this.usersWithAccess}),o=[{content:this.formatMessage(hn["mention-notification.flag-go-to-field-settings-cta"]),onClick:()=>{this.showPanel("FieldSettingsPanel",{fieldId:this.fieldId}),this.analyticsClient.sendMentionNotificationActionEvent({contentId:this.contentId,databaseContainer:We()})}}];return{title:this.formatMessage(hn["mention-notification.flag-mention-notification-title-three-or-more-users"],{displayName:n,somebodyElse:r,numOthers:(t-2).toString()}),description:this.isLocked?this.formatMessage(hn["mention-notification.flag-mention-notification-description-without-field-settings"]):this.formatMessage(hn["mention-notification.flag-mention-notification-description"]),icon:()=>h.jsx(mg,{label:""}),actions:this.isLocked?void 0:o}}}class sat extends tf{shouldShowFlag(){return this.usersWithAccess.length===1}build(){const{displayName:t,profilePicture:n}=this.usersWithAccess[0],r=[{content:this.formatMessage(hn["mention-notification.flag-go-to-field-settings-cta"]),onClick:()=>{this.showPanel("FieldSettingsPanel",{fieldId:this.fieldId}),this.analyticsClient.sendMentionNotificationActionEvent({contentId:this.contentId,databaseContainer:We()})}}];return{title:this.formatMessage(hn["mention-notification.flag-mention-notification-title-one-user"],{displayName:t}),description:this.isLocked?this.formatMessage(hn["mention-notification.flag-mention-notification-description-without-field-settings"]):this.formatMessage(hn["mention-notification.flag-mention-notification-description"]),icon:()=>h.jsx($i,{src:n,label:""}),actions:this.isLocked?void 0:r}}}class iat extends tf{shouldShowFlag(){return this.usersWithAccess.length===2}build(){const{displayName:t,somebodyElse:n}=EE({users:this.usersWithAccess}),r=[{content:this.formatMessage(hn["mention-notification.flag-go-to-field-settings-cta"]),onClick:()=>{this.showPanel("FieldSettingsPanel",{fieldId:this.fieldId}),this.analyticsClient.sendMentionNotificationActionEvent({contentId:this.contentId,databaseContainer:We()})}}];return{title:this.formatMessage(hn["mention-notification.flag-mention-notification-title-two-users"],{displayName:t,somebodyElse:n}),description:this.isLocked?this.formatMessage(hn["mention-notification.flag-mention-notification-description-without-field-settings"]):this.formatMessage(hn["mention-notification.flag-mention-notification-description"]),icon:()=>h.jsx(mg,{label:""}),actions:this.isLocked?void 0:r}}}class lat extends tf{shouldShowFlag(){return this.usersWithoutAccess.length>2}build(){const{displayNamesCount:t,displayName:n,somebodyElse:r}=EE({users:this.usersWithoutAccess});return{title:this.formatMessage(hn["mention-notification.flag-permission-restriction-title-three-or-more-users"],{displayName:n,somebodyElse:r,numOthers:(t-2).toString()}),description:this.formatMessage(hn["mention-notification.flag-permission-mixed-restriction-description"]),icon:()=>h.jsx(mg,{label:""})}}}class cat extends tf{shouldShowFlag(){return this.usersWithoutAccess.length===1}build(){const{permissions:t,profilePicture:n,displayName:r}=this.usersWithoutAccess[0];return t.isSpaceRestricted?{icon:()=>h.jsx($i,{src:n,label:""}),title:this.formatMessage(hn["mention-notification.flag-permission-restriction-title-one-user"],{displayName:r}),description:this.formatMessage(hn["mention-notification.flag-permission-space-restriction-description"])}:t.isParentDatabaseRestricted?{icon:()=>h.jsx($i,{src:n,label:""}),title:this.formatMessage(hn["mention-notification.flag-permission-restriction-title-one-user"],{displayName:r}),description:this.formatMessage(hn["mention-notification.flag-permission-parent-restriction-description"])}:{icon:()=>h.jsx($i,{src:n,label:""}),title:this.formatMessage(hn["mention-notification.flag-permission-restriction-title-one-user"],{displayName:r}),description:this.formatMessage(hn["mention-notification.flag-permission-restriction-description"])}}}class dat extends tf{shouldShowFlag(){return this.usersWithoutAccess.length===2}build(){const{displayName:t,somebodyElse:n}=EE({users:this.usersWithoutAccess});return{title:this.formatMessage(hn["mention-notification.flag-permission-restriction-title-two-users"],{displayName:t,somebodyElse:n}),description:this.formatMessage(hn["mention-notification.flag-permission-mixed-restriction-description"]),icon:()=>h.jsx(mg,{label:""})}}}const uat=[aat,sat,iat,lat,cat,dat];function fat(e){const t=[];for(const n of uat){const r=new n(e);if(!r.shouldShowFlag())continue;const o=r.build();t.push(o)}return t}var CS=(e=>(e.SUCCESS="success",e.RESTRICTED="restricted",e.ERROR="error",e))(CS||{});const pat=async({accountIds:e,contentId:t})=>await yE().getContentPermissions({accountIds:e,contentId:t}),mat=async({contentId:e,mentions:t})=>{const n=[],r=[],o=[],s=(await pat({accountIds:t.map(i=>i.mentionedUserAccountId),contentId:e})).map(i=>{var d;const l=t.find(u=>u.mentionedUserAccountId===i.accountId);return{mentionLocalId:l.mentionLocalId,mentionedUserAccountId:l.mentionedUserAccountId,displayName:l.displayName,profilePicture:(d=i==null?void 0:i.profilePicture)==null?void 0:d.path,permissions:{isSpaceRestricted:i.isSpaceRestricted,isParentDatabaseRestricted:i.isParentDatabaseRestricted,userHasAccessToContent:i.userHasAccessToContent}}});for(const i of s)n.push({mentionLocalId:i.mentionLocalId,mentionedUserAccountId:i.mentionedUserAccountId,notificationAction:i.permissions.userHasAccessToContent?"NOTIFY":"DONT_NOTIFY"}),i.permissions.userHasAccessToContent?o.push({mentionLocalId:i.mentionLocalId,mentionedUserAccountId:i.mentionedUserAccountId,displayName:i.displayName,profilePicture:i.profilePicture,permissions:i.permissions}):r.push({mentionLocalId:i.mentionLocalId,mentionedUserAccountId:i.mentionedUserAccountId,displayName:i.displayName,profilePicture:i.profilePicture,permissions:i.permissions});return{usersToMention:n,usersWithoutAccess:r,usersWithAccess:o}},iD=({contentId:e})=>{const{formatMessage:t}=Ee(),{addFlag:n}=Vk(),{showPanel:r}=lr(),o=yE(),a=rt(),s=U5(e),i=s==null?void 0:s.database.toJSON(),l=(i==null?void 0:i.isLocked)||!1;return{createMentionNotification:async({mentions:u,fieldId:f})=>{const{usersToMention:p,usersWithoutAccess:m,usersWithAccess:g}=await mat({contentId:e,mentions:u});try{await o.createMentionNotification({contentId:e,mentions:p}),fat({formatMessage:t,usersWithAccess:g,usersWithoutAccess:m,isLocked:l,showPanel:r,fieldId:f,analyticsClient:a,contentId:e}).forEach(n),a.sendMentionNotificationFlagViewedEvent({contentId:e,databaseContainer:We(),type:CS.SUCCESS})}catch{n({title:t(hn["mention-notification.flag-error-title"]),description:t(hn["mention-notification.flag-error-description"]),icon:()=>h.jsx(mg,{label:""})}),a.sendMentionNotificationFlagViewedEvent({contentId:e,databaseContainer:We(),type:CS.ERROR})}}}},hat=e=>e._id,gat=()=>({_id:wt()}),vat=({onChange:e,onFocus:t,onBlur:n,autoFocus:r,value:o,field:a,isDefaultValue:s})=>{const{contentId:i}=An(),{createMentionNotification:l}=iD({contentId:i}),d=rt(),u=fe.useSelector(Fm),f=fe.useSelector(D=>Pp(D,{accountId:u})),p=c.useMemo(()=>wt(),[]),m=fe.useDispatch();Yn(De(async()=>{o===dr&&u&&await m(ik(u))},[u,m,o]));const{formatMessage:g}=Ee(),v=De(()=>{if(o===dr){const D=f?[{...f,_id:p}]:[];e(D,{type:ae.USER,delta:{type:Be.SET_TO,value:D}})}else e(dr,{type:ae.USER,delta:{type:Be.SET_TO,value:dr}})},[p,f,e,o]),b=fe.useEqualSelector(D=>{let $;return o===dr?$=f?[{...f,_id:p}]:[]:$=o.map(L=>{const F=rp(L)?Pp(D,{accountId:L.accountId}):void 0;return F?{...L,displayName:F.displayName}:L}),$}),[y,E]=c.useState(b),w=De(D=>{var L;const $=[];D.length>0&&($.push({...D[0],_id:((L=y[0])==null?void 0:L._id)??wt()}),d.sendUserMentionTypeaheadClickedEvent({contentId:i,databaseContainer:We()})),E($),e($,{type:ae.USER,delta:{type:Be.SET_TO,value:$}}),a.settings.mentionNotificationEnabled&&$.length>0&&i&&$[0].displayName&&l({mentions:[{mentionLocalId:$[0]._id,mentionedUserAccountId:$[0].accountId,displayName:$[0].displayName}],fieldId:a.id})},[e,i,a.settings.mentionNotificationEnabled,y,l,a.id,d]),C=De((D,$,L,F)=>{E(F),e(F,{type:ae.USER,delta:{type:Be.EDIT,value:D,index:$}})},[e]),x=De(async(D,$)=>{E($),e($,{type:ae.USER,delta:{type:Be.APPEND,value:D}}),d.sendUserMentionTypeaheadClickedEvent({contentId:i,databaseContainer:We()});const L=D;a.settings.mentionNotificationEnabled&&$.length>0&&i&&L.displayName&&l({mentions:[{mentionLocalId:D._id,mentionedUserAccountId:L.accountId,displayName:L.displayName}],fieldId:a.id})},[e,i,a.settings.mentionNotificationEnabled,l,a.id,d]),S=De((D,$,L)=>{E(L),e(L,{type:ae.USER,delta:{type:Be.REMOVE,index:$}})},[e]),I=De((D,$,L,F)=>{E(F),e(F,{type:ae.USER,delta:{type:Be.REORDER,currentIndex:$,newIndex:L}})},[e]),A=(a.settings.multi||y.length>1)&&!(s&&o===dr),T=c.useCallback(({value:D,autoFocus:$,onChange:L})=>h.jsx(lP,{value:rp(D)?[D]:[],onChange:fr(F=>{L({...F[0]??{},_id:D._id},null)}),autoFocus:$,isSeamless:!0,isMentionPreview:!0}),[]);let O;if(A)O=h.jsx(jh,{getId:hat,values:y,onItemChange:C,onAddNewItem:x,onRemoveItem:S,onReorder:I,getNewValue:gat,renderField:T,autoFocus:o.length===0?r:void 0,addLabel:g(G["field-settings.type-user-add-user-label-text"]),noAdd:!a.settings.multi,onBlur:n,onFocus:t});else{const D=y[0]&&rp(y[0])?[y[0]]:[];O=h.jsx(lP,{value:D,onChange:w,onFocus:t,onBlur:n,autoFocus:r,isClearable:!0,isDisabled:s&&o===dr,isMentionPreview:!0})}return s?h.jsxs(h.Fragment,{children:[O,h.jsx(T4,{isCompact:!0,children:h.jsx(tu,{isChecked:o===dr,onChange:v,onFocus:t,onBlur:n,label:g(G["field-settings.type-user-set-current-user-default-text"])})})]}):O},bat=ie({display:"block",position:"relative",height:"100%"}),yat=ie({borderWidth:"border.width.outline",borderColor:"color.border.focused",borderStyle:"solid",borderRadius:"border.radius"}),Eat=ie({borderColor:"color.border.input"}),wat=ie({display:"block",position:"relative",height:"100%"}),Cat=ie({display:"block",position:"absolute",width:"100%",zIndex:"modal",boxShadow:"elevation.shadow.overlay",borderRadius:"border.radius",minWidth:`${ec}px`,maxWidth:`${ec}px`}),_at=e=>ie({minWidth:`${e}px`}),xat=ie({position:"relative",left:"space.0",right:"space.0",bottom:"space.0",top:"space.0"}),Sat=ie({right:"space.100"}),kat=ie({left:"space.100"}),Iat=ie({bottom:"space.100"}),Tat=ie({top:"space.100"}),Aat=ie({minWidth:"auto !important",position:"relative",top:"0",right:"0",left:"0",width:"100%"}),Dat=ie({backgroundColor:"elevation.surface.sunken",borderRadius:"inherit",padding:"space.100"}),Oat=ie({borderBottomColor:"color.border",borderBottomWidth:"border.width",borderBottomStyle:"solid",borderBottomLeftRadius:"0",borderBottomRightRadius:"0"}),Mat=ie({backgroundColor:"color.background.input",borderRadius:"inherit",paddingTop:"space.150",paddingBottom:"space.150"}),$at=e=>ie({maxHeight:e?`${Math.max(164,e)}px`:"none"}),Rat=ie({borderTopLeftRadius:"0",borderTopRightRadius:"0"}),Pat=ie({maxWidth:"none",minWidth:"none",width:"100%",top:"0",right:"0",left:"0"}),Lat=ie({padding:"0"}),Nat=(e,t,n,r)=>{const o=document.getElementById("scrollable-inner-container");if(o){const a=e.getBoundingClientRect(),s=o.getBoundingClientRect();a.right>=s.right&&t("right");const i=(s.top+s.bottom)/2;a.y>=i?(r(a.y-s.top),n("top")):(r(s.bottom-a.y),n("bottom"))}},Ks=({isMultiSelect:e,currentDataSection:t,hasCurrentData:n,addDataSection:r,isRenderedInSidePanel:o,isBulkEdit:a,fieldWidth:s,additionalXCSS:i,allowCurrentDataSectionClick:l,fieldType:d})=>{const[u,f]=c.useState("left"),[p,m]=c.useState("bottom"),[g,v]=c.useState(null),b=s?s>aDe:!1,y=c.useRef(null);c.useEffect(()=>{const I=y.current;if(!I)return;const A=new ResizeObserver(()=>{Nat(I,f,m,v),A.disconnect()});return A.observe(I),()=>{A.disconnect()}},[n]);const E=c.useMemo(()=>h.jsx("span",{onMouseDown:I=>{I.preventDefault()},children:t}),[t]),w=l?t:E,C=e?"popover-edit-container-multi-select-value":"popover-edit-container-value-currentData",x=c.useMemo(()=>h.jsxs(h.Fragment,{children:[n&&h.jsx(_e,{xcss:[Dat,Oat],testId:C,id:C,children:w}),h.jsx(_e,{xcss:[Mat,$at(g),n&&Rat,o&&Lat],testId:"popover-edit-container-value-addData",children:r})]}),[n,C,w,g,o,r]),S=c.useMemo(()=>h.jsx(_e,{testId:"popover-edit-container",ref:y,xcss:[Cat,_at(d&&d===ae.ATTACHMENT?ec:rDe),u==="right"?Sat:kat,p==="top"?Iat:Tat,o&&Aat,b&&Pat,a&&xat,i],children:x}),[d,u,p,o,b,a,i,x]);return h.jsx(_e,{xcss:[bat,a?wat:yat,o&&Eat],children:o?x:S})},Xs=({entryId:e,fieldId:t,clearExistingSelection:n=!1})=>{const r=fe.useDispatch();e&&r(Bh({entryId:e,fieldId:t,clearExistingSelection:n}))},Fat=ie({display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"space.200",padding:"space.100",width:"100%",maxHeight:"80vh",overflow:"auto"}),jat=ie({display:"flex",flexDirection:"row",flexGrow:1,alignItems:"center",width:`calc(100% - ${U("space.075","0.375rem")})`,borderRadius:"border.radius.100",height:`calc(100% - ${U("space.075","0.375rem")})`,transition:"border 0.2s"}),Vat=ie({left:"space.100",right:"space.100",gap:"space.050",paddingLeft:"space.100"}),bC=e=>ie({backgroundColor:e?"color.background.accent.blue.subtlest.hovered":void 0}),Bat=ie({marginLeft:"space.100",marginRight:"space.100"}),mne=()=>({fileId:"",_id:wt()}),Uat=c.forwardRef(function({children:t,id:n,index:r,handleChangeFile:o,onDropNewFile:a,noDrag:s,handleAddFile:i,endIndex:l},d){return h.jsx(zu,{ref:d,noClick:!0,noDrag:s,onDropAccepted:async u=>{const f=u.length>1?mne():null;f&&i(f);const p=u.map(async(m,g)=>{const v=await a(m,g===0?r:l);v&&(g===0?o({_id:n,fileId:v},r):g===1&&f?o({_id:f._id,fileId:v},l):i({_id:wt(),fileId:v}))});await Promise.all(p)},children:({getRootProps:u,getInputProps:f,isDragActive:p})=>h.jsxs("div",{...u({style:{backgroundColor:p?gn:"transparent"}}),tabIndex:p?1:-1,children:[h.jsx("input",{...f()}),t]})})}),lD=Symbol("grid-item");function Hat({item:e,index:t,instanceId:n}){return{[lD]:!0,item:e,index:t,instanceId:n}}function yC(e){return e&&typeof e=="object"&&lD in e}const zat=({contentId:e,onChange:t,onBlur:n,field:r,entryId:o,value:a})=>{const s=Fu(e),i=fe.useStore(),[l,d]=c.useState([]),{formatMessage:u}=Ee(),[f,p]=c.useState(null),m=c.useMemo(()=>Array.isArray(a)?a:[],[a]),[g,v]=c.useState(!1);Xs({entryId:o,fieldId:r.id});const b=a.length>0,y=m.length,E=r.settings.mediaFormat,[w,C]=c.useState({}),[x]=c.useState(()=>Symbol("grid-instance-id")),[S,I]=c.useState(null),[A,T]=c.useState(null),O=fe.useEqualSelector(ge=>Wi(ge,{contentId:e})===1&&o?ha(ge,{fieldId:r.id,entryId:o}):!1);c.useEffect(()=>{!s||!f||m.forEach(ge=>{const N="fileId"in ge?ge.fileId:"";N&&!w[N]&&s.file.getFileState(N,{collectionName:f}).subscribe({next:R=>{R.status==="processed"&&R.name&&C(P=>({...P,[N]:R.name}))},error:R=>{console.warn(`Error fetching filename for ${N}:`,R),C(P=>({...P,[N]:"Attachment "+N.substring(0,5)}))}})})},[s,f,m,w]);const D=l.length>0,$=c.useCallback(async(ge,N)=>{d(R=>[...R,N]);try{if(f)return(await new Promise((P,W)=>{s==null||s.file.upload({content:ge,name:ge.name,size:ge.size,mimeType:ge.type,collection:f}).subscribe(re=>{re.status==="processed"||re.status==="failed-processing"?(re.id&&C(be=>({...be,[re.id]:ge.name})),P(re)):re.status==="error"&&(console.error(re),W(new Error(`Error uploading media: ${re.message}`)))})})).id}finally{d(R=>R.filter(P=>P!==N))}},[s==null?void 0:s.file,f]),L=c.useCallback(()=>m.map(ge=>({mediaItemType:"file",id:"fileId"in ge?ge.fileId:"",collectionName:f})),[f,m]),F=c.useCallback((ge,N,R,P)=>{t(P,{type:ae.ATTACHMENT,delta:{type:Be.EDIT,value:ge,index:N}})},[t]),B=c.useCallback((ge,N)=>{t(N,{type:ae.ATTACHMENT,delta:{type:Be.APPEND,value:ge}})},[t]),V=c.useCallback((ge,N,R)=>{t(R,{type:ae.ATTACHMENT,delta:{type:Be.REMOVE,index:N}})},[t]),Y=c.useCallback(ge=>{V(m[ge],ge,m)},[V,m]),J=c.useCallback((ge,N)=>{F(ge,N,null,m)},[F,m]),z=c.useCallback(ge=>{B(ge,m)},[B,m]),ce=c.useCallback(ge=>{const N=m.length,R=mne();z(R),ge.forEach(async(P,W)=>{var be;const re=await $(P,N);if(re){const te={_id:((be=m[N])==null?void 0:be._id)??wt(),fileId:re,filename:P.name};W<1?J(te,N):z(te)}})},[z,J,$,m]),{getRootProps:le,getInputProps:j,open:Z,isDragActive:K}=gy({onFileDialogCancel:()=>{v(!1),n==null||n()},noClick:!0,disabled:l.length>0,noDrag:!1,onDropAccepted:c.useCallback(ge=>{var N;ce(ge),v(!1),(N=pe.current)==null||N.focus()},[ce])}),oe=c.useCallback(ge=>{var R;if(!O||ge.length===0)return;const N=Array.from(ge).filter(P=>P.type.startsWith("image/"));if(N.length!==0)try{qr.start();const P=(R=N[0])==null?void 0:R.getAsFile();if(P){ce([P]),qr.success();return}}catch{pu("cannot-read-pasted-content",u(nm["flag-error-message.cannot-read-pasted-content"])),qr.failure()}},[O,u,ce]);iy({onPaste:oe}),c.useEffect(()=>{(async()=>{const N=await uu(i.getState(),e);N&&p(N)})()},[e,i]);const X=c.useRef(new Map),pe=c.useRef(null),ee=c.useCallback((ge,N)=>{if(ge===N)return;const R=[...m],[P]=R.splice(ge,1);R.splice(N,0,P),t(R,{type:ae.ATTACHMENT,delta:{type:Be.REORDER,currentIndex:ge,newIndex:N}}),setTimeout(()=>{const W=document.getElementById(`grid-item-${P._id}`);W&&t4(W)},0)},[t,m]);c.useEffect(()=>da({canMonitor({source:ge}){return yC(ge.data)&&ge.data.instanceId===x},onDrop({location:ge,source:N}){const R=ge.current.dropTargets[0];if(!R)return;const P=R.data;if(!yC(N.data)||!yC(P))return;const W=ua(P),re=N.data.index,be=P.index,te=2,xe=Math.floor(be/te),he=be%te;let we=xe,$e=he;switch(W){case"left":$e=he;break;case"right":$e=he+1,$e>=te&&($e=0,we=xe+1);break;case"top":we=xe;break;case"bottom":we=xe+1;break}let Fe=we*te+$e;Fe=Math.min(Fe,y),Fe!==re&&ee(re,Fe)}}),[x,ee,y]);const ne=c.useCallback(()=>{v(!0),Z()},[Z]),Q=c.useCallback(ge=>{T(N=>N===ge?null:ge)},[]),se=c.useCallback(ge=>{g&&ge.stopPropagation()},[g]),ue=c.useMemo(()=>h.jsx(_e,{testId:"attachment-value-popover-edit",style:{display:"flex",alignItems:"center",paddingLeft:U("space.025")},xcss:bC(K),children:h.jsx(_e,{xcss:jat,children:h.jsx(_e,{xcss:Fat,children:m.map((ge,N)=>(X.current.has(ge._id)||X.current.set(ge._id,_.createRef()),h.jsx(Uat,{ref:X.current.get(ge._id)||_.createRef(),id:ge._id,index:N,handleChangeFile:J,onDropNewFile:$,noDrag:!0,handleAddFile:z,endIndex:y,children:h.jsx(y4,{value:ge,index:N,fileNames:w,handleChangeFile:J,onDropNewFile:$,handleDelete:Y,contentId:e,uploadOrder:l,getMediaFiles:L,mediaFormat:E,instanceId:x,draggingItemId:S,setDraggingItemId:I,dropzoneRef:X.current.get(ge._id)||_.createRef(),gridItemKey:lD,getGridItemData:Hat,isSelected:A===ge._id,onSelect:Q,browseOrDropButtonRef:pe,fieldWidth:r.width})},ge._id)))})})}),[m,e,S,r.width,w,L,z,Q,J,Y,x,K,y,E,$,A,l]),ve=c.useMemo(()=>h.jsx(_e,{xcss:[bC(!b&&K),Bat],children:h.jsx(_e,{xcss:Vat,children:h.jsx(ur,{onClick:ne,iconBefore:Qr,onBlur:se,ref:pe,appearance:"subtle",autoFocus:!0,children:h.jsx("div",{children:u(G["media.browse-or-drop-file"])})})})}),[u,se,ne,b,K]),ke=c.useMemo(()=>h.jsx(Ks,{isMultiSelect:!0,hasCurrentData:b,currentDataSection:ue,addDataSection:ve,isRenderedInSidePanel:!1,fieldWidth:r.width,additionalXCSS:bC(K),allowCurrentDataSectionClick:!0}),[ve,ue,r.width,b,K]);return D?ke:h.jsxs(_e,{...le(),children:[h.jsx("input",{...j()}),ke]})},Wat=ie({marginRight:"space.150"}),Gat=(e,t,n)=>{if(t&&e.length===0)return n},qat=e=>e.entry?e.entry.id:"";function Yat({value:e,field:t,autoFocus:n,isRequired:r,isInvalid:o,onFocus:a,onChange:s,onBlur:i,isRenderedInSidePanel:l,addDataSectionRef:d}){const{multi:u,contentId:f}=t.settings,p=fe.useStore(),m=Ee(),{formatMessage:g}=m,v=fe.useDispatch();Yn(c.useCallback(async()=>{try{f&&await v(Fs(f,m))}catch(T){if(T instanceof Error){let O="";const D=T.message;if(D.includes("NotFoundException"))O=g(G["snackbar-error.entry-link-not-found"],{fieldName:t.name});else if(D.includes("PermissionException"))O=g(G["snackbar-error.entry-link-restricted-permission"],{fieldName:t.name});else{O=g(G["snackbar-error.entry-link-load-error"],{fieldName:t.name});const $=new Error(`Could not load database with content id ${f}: ${T}`);wn($)}tn.setMessage(O,{id:"database-entry-link-value-edit",type:"error",showCloseButton:!0})}return}},[f,t.name,g,v,m]));const[b,y]=fe.useShallowEqualSelector(T=>{if(f){const O=$m(T,{contentId:f}),D=Vt(T,{contentId:f});return[(O==null?void 0:O.status)===St.PENDING,D&&kt(T,{contentId:f,includeDeleted:!1})]}else return[!1,void 0]}),E=b1(c.useCallback(T=>{const O=y&&mN(y);if(y&&O)for(const D of As(y)){const $=_o(y,O,D);rk({contentId:y.contentId,field:O,entryId:D.id,value:$},{...T,selectDatabase:Tc(!0),intl:m},p.getState())}},[y,m,p])),w=c.useMemo(()=>y?e.flatMap(T=>{if(y.entriesById[T.entryId]){const O=y.entriesById[T.entryId];return[{database:y,entry:O}]}else return[]}):[],[y,e]),C=c.useMemo(()=>[...(y&&As(y).map(T=>({database:y,entry:T})))??[]],[y]),x=c.useCallback(T=>{if(!T)return;const O={_id:wt(),entryId:T.entry.id,title:Gr(T,p.getState())},D=[...w,T].map(L=>({_id:L.entry.id,entryId:L.entry.id,title:Gr(L,p.getState())})),$=u?{type:Be.APPEND,value:O}:{type:Be.SET_TO,value:[O]};s(D,{type:ae.ENTRY_LINK,delta:$})},[p,w,u,s]),S=c.useCallback(T=>{const O=Gr(T,p.getState());return O||g(G["unnamed-entities.unnamed-entry"])},[g,p]),I=c.useCallback(T=>{const O=S(T);return h.jsxs(it,{alignItems:"center",children:[h.jsx(Me,{xcss:Wat,children:h.jsx(B1,{label:""})}),O]})},[S]),A=c.useCallback(T=>{var O;i&&i(T),(O=d.current)==null||O.getElementsByTagName("input")[0].focus()},[i,d]);return h.jsx(Rr,{error:Gat(w,r,g(G["entry-picker.validate-error-text"])),children:T=>h.jsx(Jo,{classNamePrefix:"entry-picker",value:w,onChange:x,isDisabled:b??!y,isInvalid:T.isInvalid||o,formatOptionLabel:I,blurInputOnSelect:!1,closeMenuOnSelect:!1,getOptionLabel:S,options:C,getOptionValue:qat,onFocus:a,onBlur:A,autoFocus:n,isLoading:b||E.isDispatching,noOptionsMessage:()=>g(G["entry-link.no-options"]),placeholder:g(G["select-dropdown.placeholder"]),controlShouldRenderValue:!1,isSeamless:!0,styles:l?Ah:Ec,hideSelectedOptions:!0,...!l&&{menuPortalTarget:null,defaultMenuIsOpen:!0,menuIsOpen:!0,components:{IndicatorsContainer:()=>null,ValueContainer:Ih}}})})}const MP=e=>{e.stopPropagation()},Kat=({entryLinkValue:e,contentId:t,isReadOnly:n,autoFocus:r,value:o,addDataSectionRef:a,onChange:s})=>{const i=o.findIndex(u=>e._id!==""&&u._id===e._id),l=Dh({currentValues:o,indexToRemove:i}),d=c.useCallback(()=>{var u;s(l,{type:ae.ENTRY_LINK,delta:{type:Be.REMOVE,index:i}}),a.current&&((u=a.current)==null||u.getElementsByTagName("input")[0].focus())},[a,i,s,l]);return h.jsxs(it,{testId:"entry-link-value",alignItems:"center",children:[h.jsx(lE,{entryRef:e,onClick:MP,onFocus:MP,contentId:t,isReadonly:n}),h.jsx(Th,{testId:"entry-link-remove-button",onItemDelete:d,autoFocus:r})]})},Xat=({onChange:e,onFocus:t,onBlur:n,autoFocus:r,value:o,field:a,entryId:s,contentId:i,isDefaultValue:l,isFilterValueEdit:d,isBulkEdit:u})=>{const{databaseSpace:f,databaseId:p,contentId:m,multi:g}=a.settings,v=o.length>0,b=c.useRef(null),y=c.useRef(null),E=Ee(),{formatMessage:w}=E,C=fe.useDispatch(),x=l||d;Xs({entryId:s,fieldId:a.id}),Yn(c.useCallback(async()=>{try{m&&await C(Fs(m,E))}catch(O){const D=new Error(`Could not load database with content id ${m}: ${O}`),$=lk(O);$&&($===403||$===404)?$r(D):wn(D)}},[m,C,E]));const S=fe.useEqualSelector(O=>{if((!f||!p)&&!m)return[];let D;if(p?D=Zb(O,{spaceKey:f==null?void 0:f.key,id:p}):m&&(D=Vt(O,{contentId:m})),!D)return o.filter(Fd).flatMap(({entryId:L,_id:F})=>[{entryId:L,title:w(G["broken-link.broken-link-text"]),_id:F}]);const $=D&&a1(D)&&kt(O,{contentId:D.contentId,includeDeleted:!1});return $?o.filter(Fd).flatMap(({entryId:L,_id:F})=>{const B=or($,L),V=Y=>{const J=Gr(Y,O);return J||w(G["unnamed-entities.unnamed-entry"])};return B?[{databaseSpaceKey:f==null?void 0:f.key,databaseId:p,entryId:L,title:V({database:$,entry:B}),_id:F,contentId:m}]:[{entryId:L,title:w(G["broken-link.broken-link-text"]),_id:F}]}):[]}),I=g||S.length>1,A=h.jsx("div",{ref:b,children:h.jsx(Yat,{value:o,field:a,onChange:e,onFocus:t,onBlur:n,autoFocus:r,isRenderedInSidePanel:x,addDataSectionRef:b})}),T=h.jsx("div",{ref:y,children:h.jsx(it,{direction:"column",children:S.map(O=>h.jsx(_e,{children:h.jsx(Kat,{contentId:i,entryLinkValue:O,isReadOnly:!0,autoFocus:!1,field:a,value:o,onChange:e,addDataSectionRef:b})},O._id))})});return h.jsx(Ks,{isMultiSelect:I,hasCurrentData:v,currentDataSection:T,addDataSection:A,isRenderedInSidePanel:x,fieldWidth:a.width,isBulkEdit:u})},Jat=({onChange:e,onBlur:t,autoFocus:n,value:r,link:o,setHasCurrentData:a,isMulti:s})=>{const i=c.useCallback(()=>{a(r.length>0&&r.some(f=>f.url!=="")),t==null||t()},[r,t,a]),l=r.findIndex(f=>o._id!==""&&f._id===o._id),d=Dh({currentValues:r,indexToRemove:l}),u=c.useCallback(()=>{e(d,{type:ae.HYPERLINK,delta:{type:Be.REMOVE,index:l}}),a(s?r.length>0&&r.some(f=>f.url!==""):!1)},[e,r,l,s,a,d]);return h.jsxs(it,{alignItems:"center",children:[h.jsx("div",{"data-testid":"hyperlink-popover-value",style:{border:`1px solid ${U("color.border")}`,borderRadius:"3px",paddingLeft:U("space.050","4px"),paddingRight:U("space.050","4px"),textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},children:o.url}),h.jsx(Th,{testId:"hyperlink-popover-value-remove",onItemBlur:i,onItemDelete:u,autoFocus:n})]},o._id)},Zat=Re(gE).withConfig({displayName:"HyperlinkPopoverEdit__HyperlinkAddDataContainer",componentId:"sc-4vtsio-0"})(["> div{","}"],e=>e.isRenderedInSidePanel?"border: none":""),Qat=ie({paddingLeft:"space.150",paddingRight:"space.150"}),est=ie({paddingTop:"space.100",paddingBottom:"space.100",paddingLeft:"space.150",paddingRight:"space.150"}),tst=({onChange:e,onFocus:t,onBlur:n,autoFocus:r,value:o,field:a,entryId:s,isInvalid:i,isSeamless:l,contentId:d,isDefaultValue:u,isFilterValueEdit:f,isBulkEdit:p})=>{const m=c.useRef(null),[g,v]=c.useState(!1),{formatMessage:b}=Ee(),y=u||f;Xs({entryId:s,fieldId:a.id}),c.useEffect(()=>{v(o.length>0&&o.some(D=>D.url!==""))},[a.settings.multi]);const E=l?dx:ts,w=a.settings.multi||o.length>1,C=b(G["hyperlink-value-popover-edit.add-hyperlink-value"]),x=_.useCallback((D,$)=>{if(D.url==="")return;const L=[...$,D],F=w?{type:Be.APPEND,value:D}:{type:Be.SET_TO,value:[D]};e(L,{type:ae.HYPERLINK,delta:F})},[w,e]),S=c.useCallback(D=>{if(D.currentTarget.value){const $={_id:wt(),url:D.currentTarget.value};x($,o),v(!0),D.currentTarget.value=""}},[x,o]),I=c.useCallback(D=>{!ca(D)&&D.key==="Enter"&&(D.preventDefault(),S(D))},[S]),A=c.useCallback(D=>{var $;S(D),n==null||n(D),($=m.current)==null||$.focus()},[S,n]),T=h.jsxs(it,{justifyContent:"center",alignItems:"center",xcss:[Qat,y&&est],children:[h.jsx(Qr,{label:""}),h.jsx(Zat,{isRenderedInSidePanel:y,children:h.jsx(E,{placeholder:C,onChange:jp,onFocus:t,onBlur:A,onKeyDown:I,autoFocus:r,isInvalid:i,ref:m})})]}),O=h.jsx(h.Fragment,{children:o.map(D=>h.jsx(Jat,{onChange:e,onFocus:t,onBlur:n,autoFocus:r,value:o,link:D,setHasCurrentData:v,contentId:d,field:a,isMulti:w},D._id))});return h.jsx(Ks,{isMultiSelect:w,hasCurrentData:w?o.length>0:g,currentDataSection:O,addDataSection:T,isRenderedInSidePanel:u||f,fieldWidth:a.width,isBulkEdit:p})},nst=e=>e.key,rst=e=>e.key,ost=ie({display:"flex",gap:"space.050",alignItems:"center"}),ast=({cloudId:e,serverId:t,onChange:n,onFocus:r,onBlur:o,autoFocus:a,resolvedValues:s,isRenderedInSidePanel:i,isMulti:l,addDataSectionRef:d})=>{const{formatMessage:u}=Ee(),f=fe.useDispatch(),p=fe.useStore(),m=c.useCallback(E=>{const w=[...s,E],C=l?{type:Be.APPEND,value:E}:{type:Be.SET_TO,value:[E]};n(w,{type:ae.JIRA_ISSUE,delta:C})},[l,n,s]),g=c.useCallback(E=>{if(!E)return;const w={_id:wt(),key:"key"in E?E.key:""};m(w)},[m]),v=c.useCallback(async E=>{try{return E.length>1?await f(vN(e,t,E)):[]}catch(w){if(w instanceof vv&&w.authenticationPath){const C=w.authenticationPath;let x=!1;return x?[]:(tn.setMessage(u(G["snackbar-error.jira.auth-required"]),{id:"jira-auth",type:"error",showCloseButton:!0,actions:[{content:u(G["snackbar-error.jira.authenticate"]),onClick:fr(async()=>{await WA(e,t,C,p,u(G["snackbar-error.enable-popup"])),x=!1})}],onDismiss:()=>{x=!1}}),x=!0,[])}else throw w}},[e,f,u,t,p]),b=c.useCallback((E,w)=>{if(w.context==="menu")return h.jsxs(_e,{xcss:ost,testId:"jira-issue-option-container",children:[h.jsx(GA,{issue:E}),h.jsx(au,{issue:E}),h.jsx(qA,{issue:E})]})},[]),y=c.useCallback(E=>{var w;o&&o(E),(w=d.current)==null||w.getElementsByTagName("input")[0].focus()},[o,d]);return h.jsx(qs,{onChange:g,getOptionLabel:rst,loadOptions:v,getOptionValue:nst,onFocus:r,onBlur:y,blurInputOnSelect:!1,closeMenuOnSelect:!1,formatOptionLabel:b,placeholder:u(G["jira-issue-picker-popover.search-text"]),loadingMessage:()=>u(G["field-settings.select-picker-loading-text"]),noOptionsMessage:()=>u(G["generic-select.no-options"]),autoFocus:a,styles:i?Ah:Ec,controlShouldRenderValue:!1,...!i&&{menuPortalTarget:null,defaultMenuIsOpen:!0,menuIsOpen:!0,components:{IndicatorsContainer:()=>null,ValueContainer:Ih}}})},sst=({resolvedValue:e,resolvedValues:t,autoFocus:n,onChange:r,isLinkPreview:o,addDataSectionRef:a,field:s})=>{const i=Pm(e)?{_id:e._id,key:e.key,cloudId:s.settings.cloudId,serverId:s.settings.jiraServerId}:null,l=t.findIndex(f=>f&&"key"in f&&"key"in e&&f.key===e.key),d=Dh({currentValues:t,indexToRemove:l}),u=c.useCallback(()=>{var f;r(d,{type:ae.JIRA_ISSUE,delta:{type:Be.REMOVE,index:l}}),(f=a.current)==null||f.getElementsByTagName("input")[0].focus()},[a,l,r,d]);return h.jsxs(it,{testId:"jira-issue-value",justifyContent:"start",alignItems:"center",gap:"space.075",children:[o?h.jsx(YA,{issue:i,useSmartLink:!1}):h.jsx(au,{issue:i}),h.jsx(Th,{testId:"jira-issue-remove-button",onItemDelete:u,autoFocus:n})]})},ist=({field:e,entryId:t,value:n,onChange:r,onFocus:o,onBlur:a,autoFocus:s,isDefaultValue:i,isFilterValueEdit:l,isBulkEdit:d})=>{Xs({entryId:t,fieldId:e.id});const u=c.useMemo(()=>n.map(b=>Pm(b)?{...b,serverId:e.settings.jiraServerId}:b),[e.settings.jiraServerId,n]),f=i||l,p=e.settings.multi||u.length>1,m=c.useRef(null),g=h.jsx("div",{ref:m,children:h.jsx(ast,{cloudId:e.settings.cloudId,serverId:e.settings.jiraServerId,onChange:r,onFocus:o,onBlur:a,autoFocus:s,resolvedValues:u,isRenderedInSidePanel:f,isMulti:p,addDataSectionRef:m})}),v=h.jsx(h.Fragment,{children:u.map(b=>h.jsx(sst,{resolvedValue:b,resolvedValues:u,autoFocus:s,onChange:r,field:e,isLinkPreview:!0,addDataSectionRef:m},b._id))});return h.jsx(Ks,{isMultiSelect:p,hasCurrentData:n.length>0,currentDataSection:v,addDataSection:g,isRenderedInSidePanel:f,fieldWidth:e.width,isBulkEdit:d})},lst=e=>h.jsx(_c.MultiValueRemove,{...e,children:h.jsx(pc,{label:""})}),cst=e=>{const{children:t=h.jsx(pc,{label:""}),innerProps:{ref:n,...r}}=e;return h.jsx(_e,{...r,ref:n,children:t})},dst={valueContainer:e=>({...e,padding:"0",width:"100%"}),input:e=>({...e}),multiValueRemove:e=>({...e,backgroundColor:"transparent",borderRadius:"3px",":hover":{backgroundColor:"transparent"}})};function ust(e){return e.label}function fst(e){return e.value}const pst=e=>e.map(t=>({label:t,value:t})),mst=({value:e,onChange:t,onFocus:n,onBlur:r,autoFocus:o,isInvalid:a,isSeamless:s,isLoading:i,onInputChange:l})=>{const{formatMessage:d}=Ee(),[u,f]=c.useState(""),p=c.useCallback((y,E)=>{t(y.map(w=>w.value),E)},[t]),m=c.useCallback(async()=>{const y=u.trim(),E=y.toLowerCase(),w=await yN(y);return!y||w.some(C=>C.toLowerCase()==E)?w.map(C=>({label:C,value:C})):[{label:d(G["field-settings.type-page-label-create-label-text"],{query:y}),value:y},...w.map(C=>({label:C,value:C}))]},[d,u]),g=c.useMemo(()=>vE(m,400),[m]),v=c.useMemo(()=>pst(e),[e]),b=c.useCallback(y=>{f(y.replaceAll(" ","-")),l==null||l()},[l]);return h.jsx(qs,{inputValue:u,onInputChange:b,loadOptions:g,value:v,onChange:p,isClearable:!0,onFocus:n,onBlur:r,autoFocus:o,isMulti:!0,isSeamless:s,isInvalid:a,isLoading:i,getOptionLabel:ust,getOptionValue:fst,defaultMenuIsOpen:o&&!v.length,styles:{...Ec,...dst,...sq},components:{ClearIndicator:cst,MultiValueRemove:lst},placeholder:d(G["page-labels-picker-popover.search-create-text"])})},hst=Re.ul.withConfig({displayName:"PageLabelsPopoverEdit__Container",componentId:"sc-1p76629-0"})(["list-style-type:none;padding:0;"]);function gst(e,t){return t.reduce((n,r)=>[...new Set([...n,...r.add].filter(o=>!r.remove.includes(o)))],e)}const vst=({onFocus:e,onBlur:t,value:n,field:r,entryId:o,contentId:a,autoFocus:s,isInvalid:i,isSeamless:l,isFilterValueEdit:d,isDefaultValue:u,isBulkEdit:f})=>{const p=fe.useEqualSelector(g=>{const v=kt(g,{contentId:a,includeDeleted:!0}),b=o&&fn(v,o);return b?Lm({database:v,field:r,entry:b},g):[]});Xs({entryId:o,fieldId:r.id});const m=h.jsx(hst,{children:p.map((g,v)=>h.jsx("li",{children:h.jsx(bst,{contentRef:g,value:n,onFocus:e,onBlur:t,autoFocus:s,isInvalid:i,isSeamless:l})},`${t1(g)}${v}`))});return h.jsx(Ks,{isMultiSelect:!1,hasCurrentData:!1,addDataSection:m,isRenderedInSidePanel:u||d,fieldWidth:r.width,isBulkEdit:f})},bst=({contentRef:e,value:t,onFocus:n,onBlur:r,autoFocus:o,isInvalid:a,isSeamless:s})=>{const{formatMessage:i}=Ee(),[l]=fe.useEqualSelector(C=>[n1(e,t,C)??[]]),[d,u]=c.useState(""),[f,p]=c.useState(!1),[m,g]=c.useState([]),v=c.useMemo(()=>gst(l,m),[l,m]),b=fe.useStore(),y=De(async(C,x)=>{const S=Tb(x);if(S){g(I=>[...I,S]);try{await ok(e,S,b)}catch{u(i(G["field-settings.type-page-label-label-create-error"]));return}finally{g(I=>I.filter(A=>A!==S))}}},[e,i,b]),E=c.useCallback(C=>{p(!0),n==null||n(C)},[n]),w=c.useCallback(C=>{p(!1),r==null||r(C)},[r]);return h.jsx(Rr,{error:d,isTouched:f,children:C=>h.jsx(mst,{...C,onInputChange:()=>u(""),value:v,onChange:y,onFocus:E,onBlur:w,autoFocus:o,isInvalid:a,isSeamless:s,isLoading:m.length>0})})};var cD={},wE={};Object.defineProperty(wE,"__esModule",{value:!0});wE.default=void 0;var yst=hne(c),Est=je,wst=hne(Hs);function hne(e){return e&&e.__esModule?e:{default:e}}const gne=e=>yst.default.createElement(Est.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle cx="12" cy="12" r="10" fill="currentcolor"/><path fill="inherit" d="M11.046 7.958v3.088H7.958a.954.954 0 1 0 0 1.908h3.088v3.088a.954.954 0 1 0 1.908 0v-3.088h3.088a.954.954 0 1 0 0-1.908h-3.088V7.958a.954.954 0 1 0-1.908 0"/></g></svg>'},e,{newIcon:wst.default}));gne.displayName="AddCircleIcon";wE.default=gne;Object.defineProperty(cD,"__esModule",{value:!0});var CE=cD.default=void 0,Cst=dD(c),_st=dD(Hs),xst=dD(wE);function dD(e){return e&&e.__esModule?e:{default:e}}const vne=e=>Cst.default.createElement(_st.default,Object.assign({LEGACY_fallbackIcon:xst.default},e));vne.Name="AddIconMigration";CE=cD.default=vne;const _S=e=>_.createElement(Sr,H({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684ff" fill-rule="evenodd" d="M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2m2 3a1 1 0 1 0 0 2h8a1 1 0 0 0 0-2zm0 4a1 1 0 1 0 0 2h8a1 1 0 0 0 0-2zm0 4a1 1 0 0 0 0 2h4a1 1 0 0 0 0-2z"/></svg>'},e,{size:"small"}));_S.displayName="Page16Icon";const uD=({label:e,testId:t})=>Pe("icon-object-migration")?_.createElement(hr,{icon:eU,appearance:"blueBold",size:"16",label:e,testId:t,LEGACY_fallbackComponent:_.createElement(_S,{label:e,testId:t})}):_.createElement(_S,{label:e,testId:t});uD.displayName="Page16Icon";const Sst="/gateway/api/xpsearch-aggregator/quicksearch/v1",Ab=async(e,t,n=20,r=["page"],o=[],a={sessionId:"not-applicable",referrerId:null},s="databases-content-picker",i=[])=>{const l={query:e,cloudId:t,limit:n,scopes:[`confluence.${r.join(",")}`],filters:o,searchSession:a,experience:s,cloudIds:i},d=await fetch(Sst,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(l)});return d.ok||wn(new Error(`Response status: ${d.status}`)),(await d.json()).scopes.reduce((f,p)=>(f.push(...p.results),f.flat()),[])},_E=({contentId:e,noFocus:t,onClick:n,onFocus:r})=>{const o=kN();return h.jsx(Gi,{href:`${o}/spaces/~/pages/${e}`,onClick:n,onFocus:r,noFocus:t,useSmartLink:!0})},kst=e=>{const t=fe.useDispatch();return Yn(H5(async()=>{e&&"contentId"in e&&e.contentId&&await t(jm(e.contentId))},[t,e])),fe.useEqualSelector(r=>{if(e&&"contentId"in e){const o=ck(r,{contentId:e.contentId});if(o&&_ce(o)&&(o.type==="page"||o.type==="blogpost"))return xce(o)}})},Xf=xr({"generic-database-picker.placeholder":{id:"generic-database-picker.placeholder",defaultMessage:"Search or paste link",description:"The text placeholder for a database picker in the database referencing wizard."},"generic-database-picker.menu-header":{id:"generic-database-picker.menu-header",defaultMessage:"RECENTLY VIEWED DATABASES",description:"The text heading the database picker menu in the database referencing wizard."},"generic-database-picker.error-message":{id:"generic-database-picker.error-message",defaultMessage:"Select a valid database",description:"The error message displayed when there is a problem with the selected database"},"generic-database-picker.error-label":{id:"generic-database-picker.error-label",defaultMessage:"selection error",description:"The label for the error icon when there is a problem with the selected database"},"generic.page-picker.menu.option.description.last-updated":{id:"generic.page-picker.menu.option.description.last-updated",defaultMessage:"Updated {date}",description:"The description for the page picker option."}}),$P=Le.div.withConfig({displayName:"pagePickerstyles__OptionContainer",componentId:"sc-1xxifjo-0"})(["display:grid;grid-template:'icon title' 'icon meta' / auto 1fr;> :nth-child(1){grid-area:icon;padding:"," "," 0 0;}> :nth-child(2){grid-area:title;}> :nth-child(3){grid-area:meta;color:",";font:",";}"],U("space.050"),U("space.100"),e=>e.isSelected?"inherit":U("color.text.subtle","#44546F"),U("font.body.small")),EC=e=>"contentId"in e?e.contentId:AN(e);function Ist(e){return"contentTitle"in e}const _0=e=>"create"in e,RP=e=>e.map(t=>({type:t.content.type,spaceKey:t.container.displayUrl.split("/spaces/")[1],contentTitle:t.title,contentId:t.content.id,ari:DN(t.content.type,t.content.id),metadata:{lastModified:t.lastModified,spaceName:t.container.title}})),Tst=({value:e,onChange:t,onFocus:n,onBlur:r,autoFocus:o,isMulti:a,creationParentPage:s,allowCreation:i,creationErrorMessage:l,isPending:d,isInvalid:u,onInputChange:f,preserveInputValue:p,isSeamless:m,isLoading:g,pageSubType:v,isLiveDocEnabled:b})=>{const{formatMessage:y}=Ee(),E={menu:D=>({...D,maxWidth:"100%",minWidth:"100%"}),singleValue:D=>({...D,padding:U("space.025","2px"),lineHeight:"20px",pointerEvents:"none"})},w=fe.useSelector(to),C=c.useCallback(D=>{const $=Array.isArray(D)?D:D?[D]:[];t($)},[t]),x=c.useCallback((D,$)=>{var L,F,B;if($.context==="value")return _0(D)?void 0:h.jsx(_E,{contentId:D.contentId,noFocus:!0});{if(!Ist(D)&&!_0(D))return;const Y=(Array.isArray($.selectValue)?$.selectValue:$.selectValue?[$.selectValue]:[]).map(z=>EC(z)).includes(EC(D)),J=D.contentTitle;if(_0(D))return h.jsxs($P,{isLoading:g,isSelected:Y,children:[h.jsx(CE,{spacing:"spacious",label:""}),h.jsx("span",{"data-testid":"create-page-message",children:b&&v===Ci.LIVE?y(G["field-settings.type-page-link-create-live-doc-text"],{title:J}):y(G["field-settings.type-page-link-create-page-text"],{title:J})}),h.jsx("span",{children:s?y(G["field-settings.type-page-link-create-under-text"],{page:s.contentTitle}):h.jsx(Bu,{children:h.jsx(_e,{paddingBlockStart:"space.025",paddingInlineStart:"space.025",children:l??y(G["field-settings.type-page-link-create-inline-error"])})})})]});{const z=(L=D.metadata)==null?void 0:L.spaceName,ce=(F=D.metadata)!=null&&F.lastModified?`  ${y(Xf["generic.page-picker.menu.option.description.last-updated"],{date:s1(IN((B=D.metadata)==null?void 0:B.lastModified,!0)??new Date().toISOString())})}`:"",le=`${z??""}${ce}`;return h.jsxs($P,{isLoading:g,isSelected:Y,children:[h.jsx(uD,{label:""}),h.jsx("span",{children:J}),h.jsx("span",{children:le})]})}}},[l,s,y,b,g,v]),S=fe.useDispatch(),I=c.useCallback(async D=>{const $=ia();if(!$)return[];const L=await Ab(D,$);return RP(L)},[]),A=c.useMemo(async()=>{const D=ia();if(!D)return[];const $=await Ab("",D);return RP($)},[]),T=c.useCallback(async D=>{var le,j,Z;const $=D.trim(),L=i&&$?{type:"page",contentTitle:$,spaceKey:(s==null?void 0:s.spaceKey)??"",create:{parentPageId:s==null?void 0:s.contentId}}:void 0,F=$.startsWith(w)?TN($):void 0,[B,V,Y,J]=await Promise.all([$?[]:A,$?I($):[],L&&!F?S(mu(L)):void 0,F?S(jm(F.contentId)):void 0]),z=J&&J.type==="page"?{...dk(J),metadata:{lastModified:(j=(le=J.history)==null?void 0:le.lastUpdated)==null?void 0:j.when,spaceName:(Z=J.space)==null?void 0:Z.name}}:void 0,ce=$?V:B;return[...z?[z]:[],...!F&&L&&!Y?[L]:[],...F?[]:ce]},[i,w,s,S,I,A]),O=c.useMemo(()=>vE(T,300),[T]);return h.jsx(qs,{loadOptions:O,value:e??null,onChange:C,isClearable:!a,formatOptionLabel:x,getOptionValue:EC,onFocus:n,onBlur:r,autoFocus:o,isLoading:g||d,styles:E,hideSelectedOptions:!0,placeholder:y(i?G["select-or-create-text.placeholder"]:G["select-dropdown.placeholder"]),loadingMessage:()=>y(G["field-settings.select-picker-loading-text"]),onInputChange:f,preserveInputValue:p,isSeamless:m,isInvalid:u,defaultMenuIsOpen:o&&!(e!=null&&e.length),inputId:"page-picker-input",isOptionDisabled:D=>_0(D)&&!s})},PP=({value:e,onChange:t,...n})=>{const r=kst(e),o=c.useMemo(()=>r&&r.type!=="blogpost"?[r]:[],[r]),a=c.useCallback(s=>{t(s[0])},[t]);return h.jsx(Tst,{...n,value:o.length?o:e&&"contentId"in e?[e]:[],onChange:a,isLoading:n.isLoading})};function bne(){const e=fe.useDispatch(),{parentContentId:t}=An(),n=t??void 0;Yn(c.useCallback(async()=>{n&&await e(jm(n))},[n,e]));const[r,o]=fe.useEqualSelector(a=>{const s=ck(a,{contentId:n}),i=ON(a,{contentId:n});return[!!n&&[void 0,St.INITIAL,St.PENDING].includes(i==null?void 0:i.status),s&&s.type!=="blogpost"?{type:s.type,spaceKey:s.space.key,contentTitle:s.title,contentId:s.id}:void 0]});return{isPending:r,parentRef:o}}function Ast({contentId:e,field:t,entryId:n}){const[r]=fe.useEqualSelector(o=>{var g;const a=e!=null?Xe(o,{contentId:e}):void 0,s=a&&n!=null?or(a,n):void 0,i=a&&t.settings.parentPageType===a_.FIELD?Un(a,t.settings.parentPageFieldId):void 0,l=a&&s&&i?Wo(a,i,s,o):void 0,d=l&&l.type===ae.ENTRY_LINK&&l.value?l.value:void 0,u=Zb(o,{spaceKey:(g=i==null?void 0:i.settings.databaseSpace)==null?void 0:g.key,id:i==null?void 0:i.settings.databaseId}),f=u&&Xe(o,{contentId:u.contentId}),p=f&&d&&d[0]&&Fd(d[0])&&or(f,d[0].entryId);return[f&&p&&kce(f,p,o)]});return{isPending:!1,pageRef:r&&!r.create?r:void 0}}function Dst({contentId:e,field:t,entryId:n}){const r=Ast({contentId:e,field:t,entryId:n});return fe.useEqualSelector(o=>{const a=e!=null?Xe(o,{contentId:e}):void 0,s=a&&n!=null?or(a,n):void 0;if(!a||!s||t.settings.creatable===!1)return{isPending:!1,pageRef:void 0};if(t.settings.parentPageType===a_.FIELD){const i=a&&t.settings.parentPageType===a_.FIELD?Un(a,t.settings.parentPageFieldId):void 0;if((i==null?void 0:i.type)===ae.ENTRY_LINK){if(r.isPending||r.pageRef)return r}else if((i==null?void 0:i.type)===ae.PAGE_LINK){const l=Wo(a,i,s,o).value;if(l.length>0&&("type"in l[0]&&s_(l[0])&&!l[0].create||"contentId"in l[0]&&!("type"in l[0])))return{isPending:!1,pageRef:l[0]}}}return{isPending:!1,pageRef:t.settings.parentPage}})}function yne({contentId:e,field:t,entryId:n}){const{isPending:r,pageRef:o}=Dst({contentId:e,field:t,entryId:n}),a=fe.useDispatch();Yn(c.useCallback(async()=>{o&&"contentId"in o&&o.contentId?await a(jm(o.contentId)):o&&"contentTitle"in o&&await a(mu(o))},[a,o]));const[s,i]=fe.useEqualSelector(l=>{const d=ck(l,{contentId:o&&"contentId"in o?o.contentId:void 0}),u=ON(l,{contentId:o&&"contentId"in o?o.contentId:void 0}),f=Qb(l,{contentRef:o&&"contentTitle"in o?o:void 0}),p=Sce(l,{contentRef:o&&"contentTitle"in o?o:void 0}),m=!!o&&"contentId"in o&&[void 0,St.INITIAL,St.PENDING].includes(u==null?void 0:u.status),g=!!o&&"contentTitle"in o&&[void 0,St.INITIAL,St.PENDING].includes(p==null?void 0:p.status);return[r||m||g,d&&d.type==="page"?dk(d):(f==null?void 0:f.type)==="page"?f:void 0]});return{isPending:s,pageRef:i}}const Ost=e=>e._id,Mst=()=>({_id:wt()}),wC=(e,t)=>e!==t,$st=({onChange:e,onFocus:t,onBlur:n,autoFocus:r,value:o,field:a,contentId:s,entryId:i,isSeamless:l})=>{const[d,u]=c.useState([]),[f,p]=c.useState(null),m=fe.useDispatch(),g=fe.useStore(),v=rt(),{spaceKey:b}=An(),{formatMessage:y}=Ee(),[E,w]=c.useState(o),[C,x,S]=fe.useEqualSelector(Q=>{const se=s!=null?Xe(Q,{contentId:s}):void 0,ue=se&&i!=null?or(se,i):void 0,ve=to(),ke=se&&ue?ve+nk(se,ue.id):void 0;return[se,ue,ke]}),A=a.settings.parentPageOption===yv.FIXED&&!a.settings.parentPage&&!a.settings.isParentPageSourceDatabase?y(G["field-settings.type-page-link-create-inline-error.no-parent-item"]):void 0,{isPending:T,pageRef:O}=yne({contentId:s,field:a,entryId:i}),{isPending:D,parentRef:$}=bne(),L=a.settings.isParentPageSourceDatabase&&!a.settings.parentPage&&a.settings.creatable,F=L?!1:T||D,B=c.useMemo(()=>a.settings.parentPageOption===yv.DYNAMIC?$:L?{type:"database",spaceKey:b,contentTitle:C==null?void 0:C.name,contentId:s}:O,[s,C==null?void 0:C.name,$,a.settings.parentPageOption,O,L,b]),V=fe.useEqualSelector(Q=>E.map(se=>MN(se,Q))),Y=c.useCallback(Q=>$N.create({pageId:Q,siteId:ia()??""}).toString(),[]),J=V.length>1||a.settings.multi,z=vt("databases-frontend-live-doc"),ce=c.useCallback(async(Q,se)=>{if("type"in Q&&Q.type==="page"&&Q.create&&x&&C){const ue=[...d,Q._id];u(ue);const ke=[RN.templateId,PN.templateId].includes(a.settings.pageTemplate.templateId)?null:a.settings.pageTemplate.templateId;try{const ge=Q.spaceKey,N=Q.create.parentPageId,R=await LN({templateId:ke,entryUrl:a.settings.displayEntryOnPage?S??null:null,spaceKey:ge,parentId:N,subType:z?a.settings.pageSubType:null,contentTitle:Q.contentTitle});if(!R)return;const P=R;return v.sendCreatePageFromDatabaseEvent({contentId:s,newPageId:P.id,databaseContainer:We(),parentId:N,pageLocation:a.settings.parentPageOption,templateId:ke,hasEntryEmbed:a.settings.displayEntryOnPage??!1,pageSubType:z?a.settings.pageSubType:Ci.PAGE}),v.sendPageCreatedByFlowEvent({contentId:P.id,databaseContainer:We(),isLivePage:z?a.settings.pageSubType===Ci.LIVE:!1}),Wb({callback:()=>new Promise((W,re)=>{m(NN({ari:Y(P.id),connectionId:a.id,forceReload:!0}));const be=FN(g.getState().connections,Y(P.id));if((be==null?void 0:be.status)!==St.SUCCEEDED)return re(new Error("Content not loaded"));W(!0)}),shouldRetry:()=>!0,maxRetries:10}),m(jN(P)),P}catch{p(se)}finally{u(ge=>ge.filter(N=>N!==Q._id))}}},[x,C,d,a,S,z,v,s,m,Y,g]),le=c.useCallback(()=>{n==null||n(),p(null)},[n]),j=c.useCallback(()=>{p(null)},[]),Z=c.useCallback(async Q=>{if(!Q)V.length>0&&(w([]),e([],{type:ae.PAGE_LINK,delta:{type:Be.REMOVE,index:0}}));else{const se=V.length>0?V[0]._id:wt(),ue=await ce({...Q,_id:se},0);ue&&(Q={...Q,ari:Y(ue.id),contentId:ue.id});const ve={...Q??{},_id:se};w([ve]),e([ve],{type:ae.PAGE_LINK,delta:V.length>0?{type:Be.EDIT,index:0,value:ve}:{type:Be.APPEND,value:ve}})}},[V,e,ce,Y]),K=c.useCallback(async(Q,se,ue,ve)=>{const ke=await ce(Q,se);ke&&(Q={_id:Q._id,ari:Y(ke.id),contentId:ke.id}),w(ve),e(ve,{type:ae.PAGE_LINK,delta:{type:Be.EDIT,value:Q,index:se}})},[ce,Y,e]),oe=c.useCallback(async(Q,se)=>{const ue=await ce(Q,se.indexOf(Q));ue&&(Q={_id:Q._id,ari:Y(ue.id),contentId:ue.id}),w(se),e(se,{type:ae.PAGE_LINK,delta:{type:Be.APPEND,value:Q}})},[ce,Y,e]),X=c.useCallback((Q,se,ue)=>{w(ue),e(ue,{type:ae.PAGE_LINK,delta:{type:Be.REMOVE,index:se}})},[e]),pe=c.useCallback((Q,se,ue,ve)=>{w(ve),e(ve,{type:ae.PAGE_LINK,delta:{type:Be.REORDER,currentIndex:se,newIndex:ue}})},[e]),ee=c.useCallback(Q=>wC(f,Q)?"":z&&a.settings.pageSubType===Ci.LIVE?y(G["field-settings.type-page-link-live-doc-create-in-context-error"]):y(G["field-settings.type-page-link-create-in-context-error"]),[f,a.settings.pageSubType,y,z]),ne=c.useCallback(({value:Q,i:se,autoFocus:ue,onChange:ve})=>h.jsx(_e,{style:{width:"100%"},children:h.jsx(Rr,{error:ee(se),isTouched:!wC(f,se),children:ke=>h.jsx(PP,{...ke,value:"contentTitle"in Q&&s_(Q)||"contentId"in Q&&!("type"in Q)?Q:void 0,onChange:fr(ge=>{ve({...ge??{},_id:Q._id},null)}),onInputChange:j,preserveInputValue:!("contentTitle"in Q||"contentId"in Q),autoFocus:ue,creationParentPage:B,allowCreation:a.settings.creatable,creationErrorMessage:A,isPending:F,isSeamless:!0,isLoading:d.indexOf(Q._id)>-1,isMulti:J,pageSubType:a.settings.pageSubType,isLiveDocEnabled:z})})}),[f,A,B,a.settings.creatable,a.settings.pageSubType,ee,j,z,J,F,d]);return J?h.jsx(jh,{getId:Ost,values:V,onItemChange:K,onAddNewItem:oe,onRemoveItem:X,onReorder:pe,getNewValue:Mst,renderField:ne,autoFocus:E.length===0?r:void 0,addLabel:z&&a.settings.pageSubType===Ci.LIVE?y(G["field-settings.type-page-link-add-live-doc"]):y(G["field-settings.type-page-link-add-page"]),noAdd:!a.settings.multi,onBlur:le,onFocus:t}):h.jsx(Rr,{error:ee(0),isTouched:!wC(f,0),children:Q=>h.jsx(PP,{...Q,value:V.length>0&&("contentTitle"in V[0]&&s_(V[0])||"contentId"in V[0]&&!("type"in V[0]))?V[0]:void 0,onInputChange:j,onChange:Z,onFocus:t,onBlur:le,autoFocus:r,creationParentPage:B,allowCreation:a.settings.creatable,creationErrorMessage:A,isPending:F,isSeamless:l,preserveInputValue:V.length>0?!("contentTitle"in V[0]||"contentId"in V[0]):void 0,isLoading:d.length>0,pageSubType:a.settings.pageSubType,isLiveDocEnabled:z})})},LP=Re.div.withConfig({displayName:"pagePickerstyles__OptionContainer",componentId:"sc-1c3mef6-0"})(["display:grid;grid-template:'icon title' 'icon meta' / auto 1fr;> :nth-child(1){grid-area:icon;padding:"," "," 0 0;}> :nth-child(2){grid-area:title;}> :nth-child(3){grid-area:meta;color:",";font:",";}"],U("space.050"),U("space.100"),e=>e.isSelected?"inherit":U("color.text.subtle","#44546F"),U("font.body.small")),CC=e=>"contentId"in e?e.contentId:AN(e);function Rst(e){return"contentTitle"in e}const x0=e=>"create"in e,NP=e=>e.map(t=>({type:t.content.type,spaceKey:t.container.displayUrl.split("/spaces/")[1],contentTitle:t.title,contentId:t.content.id,ari:DN(t.content.type,t.content.id),metadata:{lastModified:t.lastModified,spaceName:t.container.title}})),Pst=({onChange:e,onFocus:t,onBlur:n,autoFocus:r,creationParentPage:o,allowCreation:a=!0,creationErrorMessage:s,isPending:i,isLoading:l,pageSubType:d,isLiveDocEnabled:u,isRenderedInSidePanel:f})=>{const{formatMessage:p}=Ee(),m=fe.useSelector(to),g=c.useCallback(x=>{x&&e(x)},[e]),v=c.useCallback((x,S)=>{var I,A,T;if(S.context==="value")return x0(x)?void 0:h.jsx(_E,{contentId:x.contentId,noFocus:!0});{if(!Rst(x)&&!x0(x))return;const D=(Array.isArray(S.selectValue)?S.selectValue:S.selectValue?[S.selectValue]:[]).map(L=>CC(L)).includes(CC(x)),$=x.contentTitle;if(x0(x))return h.jsxs(LP,{"data-testid":"page-link-option-container",isLoading:l,isSelected:D,children:[h.jsx(CE,{spacing:"spacious",label:""}),h.jsx("span",{"data-testid":"create-page-message",children:u&&d===Ci.LIVE?p(G["field-settings.type-page-link-create-live-doc-text"],{title:$}):p(G["field-settings.type-page-link-create-page-text"],{title:$})}),h.jsx("span",{children:o?p(G["field-settings.type-page-link-create-under-text"],{page:o.contentTitle}):h.jsx(Bu,{children:h.jsx(_e,{paddingBlockStart:"space.025",paddingInlineStart:"space.025",children:s??p(G["field-settings.type-page-link-create-inline-error"])})})})]});{const L=(I=x.metadata)==null?void 0:I.spaceName,F=(A=x.metadata)!=null&&A.lastModified?`  ${p(G["generic.page-picker.menu.option.description.last-updated"],{date:s1(IN((T=x.metadata)==null?void 0:T.lastModified,!0)??new Date().toISOString())})}`:"",B=`${L??""}${F}`;return h.jsxs(LP,{"data-testid":"page-link-option-container",isLoading:l,isSelected:D,children:[h.jsx(uD,{label:""}),h.jsx("span",{children:$}),h.jsx("span",{children:B})]})}}},[s,o,p,u,l,d]),b=fe.useDispatch(),y=c.useCallback(async x=>{const S=ia();if(!S)return[];const I=await Ab(x,S);return NP(I)},[]),E=c.useMemo(async()=>{const x=ia();if(!x)return[];const S=await Ab("",x);return NP(S)},[]),w=c.useCallback(async x=>{var B,V,Y;const S=x.trim(),I=a&&S?{type:"page",contentTitle:S,spaceKey:(o==null?void 0:o.spaceKey)??"",create:{parentPageId:o==null?void 0:o.contentId}}:void 0,A=S.startsWith(m)?TN(S):void 0,[T,O,D,$]=await Promise.all([S?[]:E,S?y(S):[],I&&!A?b(mu(I)):void 0,A?b(jm(A.contentId)):void 0]),L=$&&$.type==="page"?{...dk($),metadata:{lastModified:(V=(B=$.history)==null?void 0:B.lastUpdated)==null?void 0:V.when,spaceName:(Y=$.space)==null?void 0:Y.name}}:void 0,F=S?O:T;return[...L?[L]:[],...!A&&I&&!D?[I]:[],...A?[]:F]},[a,m,o,b,y,E]),C=c.useMemo(()=>vE(w,300),[w]);return h.jsx(qs,{onChange:g,loadOptions:C,getOptionValue:CC,onFocus:t,onBlur:n,closeMenuOnSelect:!1,blurInputOnSelect:!1,formatOptionLabel:v,placeholder:p(a?G["page-link-picker-popover.search-create-text"]:G["page-link-picker-popover.search-text"]),loadingMessage:()=>p(G["field-settings.select-picker-loading-text"]),autoFocus:r,isLoading:l||i,styles:f?Ah:Ec,isOptionDisabled:x=>x0(x)&&!o,controlShouldRenderValue:!1,inputId:"page-picker-input",...!f&&{menuPortalTarget:null,defaultMenuIsOpen:!0,menuIsOpen:!0,components:{IndicatorsContainer:()=>null,ValueContainer:Ih}}})},Lst=({onChange:e,createNewPage:t,getAriForPageContentId:n,resolvedValues:r,isMulti:o,...a})=>{const s=c.useCallback(async l=>{const d=await t(l,r.indexOf(l));d&&(l={_id:l._id,ari:n(d.id),contentId:d.id});const u=[...r,l],f=o?{type:Be.APPEND,value:l}:{type:Be.SET_TO,value:[l]};e(u,{type:ae.PAGE_LINK,delta:f})},[t,n,o,e,r]),i=c.useCallback(l=>{if(!l)return;const d={...l,_id:wt(),contentId:"contentId"in l?l.contentId:"",ari:"ari"in l?l.ari:""};s(d)},[s]);return h.jsx(Pst,{...a,onChange:i,isLoading:a.isLoading})},Nst=({resolvedValue:e,resolvedValues:t,onChange:n,autoFocus:r,addDataSectionRef:o})=>{const a=t.findIndex(l=>l&&"contentId"in l&&"contentId"in e&&l.contentId===e.contentId&&"ari"in l&&"ari"in e&&l.ari===e.ari&&l._id===e._id),s=Dh({currentValues:t,indexToRemove:a}),i=c.useCallback(()=>{var l;n(s,{type:ae.PAGE_LINK,delta:{type:Be.REMOVE,index:a}}),(l=o.current)==null||l.getElementsByTagName("input")[0].focus()},[o,n,a,s]);return h.jsxs(Me,{xcss:ie({display:"inline-flex",maxWidth:"100%",alignItems:"end"}),testId:"page-link-value",children:[h.jsx(_e,{xcss:ie({marginRight:"space.075"}),children:h.jsx(_E,{contentId:e.contentId,noFocus:!0})}),h.jsx(Th,{testId:"page-link-remove-button",onItemDelete:i,autoFocus:r})]})},FP=(e,t)=>e!==t,Fst=({onChange:e,onFocus:t,onBlur:n,autoFocus:r,value:o,field:a,contentId:s,entryId:i,isSeamless:l,isDefaultValue:d,isFilterValueEdit:u,isBulkEdit:f})=>{const[p,m]=c.useState([]),[g,v]=c.useState(null),b=c.useRef(null),y=fe.useDispatch(),E=fe.useStore(),w=rt(),{spaceKey:C}=An(),{formatMessage:x}=Ee(),S=d||u;Xs({entryId:i,fieldId:a.id});const[I,A,T]=fe.useEqualSelector(Q=>{const se=s!=null?Xe(Q,{contentId:s}):void 0,ue=se&&i!=null?or(se,i):void 0,ve=to(),ke=se&&ue?ve+nk(se,ue.id):void 0;return[se,ue,ke]}),D=a.settings.parentPageOption===yv.FIXED&&!a.settings.parentPage&&!a.settings.isParentPageSourceDatabase?x(G["field-settings.type-page-link-create-inline-error.no-parent-item"]):void 0,{isPending:$,pageRef:L}=yne({contentId:s,field:a,entryId:i}),{isPending:F,parentRef:B}=bne(),V=a.settings.isParentPageSourceDatabase&&!a.settings.parentPage&&a.settings.creatable,Y=V?!1:$||F,J=c.useMemo(()=>a.settings.parentPageOption===yv.DYNAMIC?B:V?{type:"database",spaceKey:C,contentTitle:I==null?void 0:I.name,contentId:s}:L,[s,I==null?void 0:I.name,B,a.settings.parentPageOption,L,V,C]),z=fe.useEqualSelector(Q=>o.map(se=>MN(se,Q))),ce=c.useCallback(Q=>$N.create({pageId:Q,siteId:ia()??""}).toString(),[]),le=z.length>1||a.settings.multi,j=vt("databases-frontend-live-doc"),Z=c.useCallback(async(Q,se)=>{if("type"in Q&&Q.type==="page"&&Q.create&&A&&I){const ue=[...p,Q._id];m(ue);const ke=[RN.templateId,PN.templateId].includes(a.settings.pageTemplate.templateId)?null:a.settings.pageTemplate.templateId;try{const ge=Q.spaceKey,N=Q.create.parentPageId,R=await LN({templateId:ke,entryUrl:a.settings.displayEntryOnPage?T??null:null,spaceKey:ge,parentId:N,subType:j?a.settings.pageSubType:null,contentTitle:Q.contentTitle});if(!R)return;const P=R;return w.sendCreatePageFromDatabaseEvent({contentId:s,newPageId:P.id,databaseContainer:We(),parentId:N,pageLocation:a.settings.parentPageOption,templateId:ke,hasEntryEmbed:a.settings.displayEntryOnPage??!1,pageSubType:j?a.settings.pageSubType:Ci.PAGE}),Wb({callback:()=>new Promise((W,re)=>{y(NN({ari:ce(P.id),connectionId:a.id,forceReload:!0}));const be=FN(E.getState().connections,ce(P.id));if((be==null?void 0:be.status)!==St.SUCCEEDED)return re(new Error("Content not loaded"));W(!0)}),shouldRetry:()=>!0,maxRetries:10}),y(jN(P)),P}catch{v(se)}finally{m(ge=>ge.filter(N=>N!==Q._id))}}},[A,I,p,a,T,j,w,s,y,ce,E]),K=c.useCallback(()=>{var Q;n==null||n(),v(null),(Q=b.current)==null||Q.getElementsByTagName("input")[0].focus()},[n]),oe=c.useCallback(()=>{v(null)},[]),X=c.useCallback(Q=>FP(g,Q)?"":j&&a.settings.pageSubType===Ci.LIVE?x(G["field-settings.type-page-link-live-doc-create-in-context-error"]):x(G["field-settings.type-page-link-create-in-context-error"]),[g,a.settings.pageSubType,x,j]),pe=Q=>"create"in Q,ee=h.jsx(it,{direction:"column",children:z.map(Q=>pe(Q)?null:h.jsx(Nst,{resolvedValue:Q,resolvedValues:z,onChange:e,autoFocus:r,addDataSectionRef:b},Q._id))}),ne=h.jsx(_e,{ref:b,children:h.jsx(Rr,{error:X(0),isTouched:!FP(g,0),children:Q=>h.jsx(Lst,{...Q,isMulti:le,onInputChange:oe,onChange:e,onFocus:t,onBlur:K,autoFocus:r,creationParentPage:J,allowCreation:a.settings.creatable,creationErrorMessage:D,isPending:Y,isSeamless:l,preserveInputValue:z.length>0?!("contentTitle"in z[0]||"contentId"in z[0]):void 0,isLoading:p.length>0,pageSubType:a.settings.pageSubType,isLiveDocEnabled:j,resolvedValues:z,createNewPage:Z,getAriForPageContentId:ce,isRenderedInSidePanel:S})})});return h.jsx(Ks,{isMultiSelect:le,hasCurrentData:o.length>0,currentDataSection:ee,addDataSection:ne,isRenderedInSidePanel:S,fieldWidth:a.width,isBulkEdit:f})},jst=20,Vst=e=>{const{children:t=h.jsx(pc,{label:""}),innerProps:{ref:n,...r}}=e;return h.jsx(_e,{...r,ref:n,children:t})},Bst=e=>Vd(e),Ust=e=>e.name,_C=Re.div.withConfig({displayName:"PageStatusSelect__OptionContainer",componentId:"sc-12dsat9-0"})(["display:flex;align-items:center;"]),Hst=({customOptions:e,spaceOptions:t,value:n=Object.freeze([]),onChange:r,isCreatable:o=!1,onCreate:a,onFocus:s,onBlur:i,autoFocus:l,placeholder:d,isLoading:u,noOptionsMessage:f})=>{const[p,m]=c.useState(ak),[g,v]=c.useState(""),{formatMessage:b}=Ee(),y=c.useCallback(I=>{v(I)},[]),E=c.useMemo(()=>{if(o){const I=g.trim(),A=g.trim().toLowerCase();if(I&&I.length<=jst&&![...e,...t].some(T=>T.name.toLowerCase()===A))return{name:I,color:p}}},[e,g,o,p,t]),w=c.useMemo(()=>[{options:[...E?[E]:[],...e],label:b(G["field-settings.type-page-status-picker-custom-text"])},{options:t,label:b(G["field-settings.type-page-status-picker-suggested-text"])}].filter(I=>I.options.length>0),[E,e,b,t]),C=c.useCallback(I=>{const A=(Array.isArray(I)?I[0]:I)??void 0;a&&E&&A===E&&a(E),r==null||r(A)},[E,r,a]),x=c.useCallback((I,A)=>A.context==="menu"&&I.id==null?E&&I===E?h.jsxs(_C,{children:[b(G["field-settings.type-page-status-picker-create-text"]),"",h.jsx("span",{style:{flexGrow:1},children:h.jsx(Vl,{status:{text:I.name,color:I.color}})}),h.jsx(rne,{value:I.color,onChange:fr(T=>{m(T)}),stopPropagation:!0,size:24})]}):h.jsxs(_C,{children:[h.jsx(Vl,{status:{text:I.name,color:I.color}}),"",b(G["field-settings.type-page-status-picker-new-text"])]}):h.jsx(_C,{children:h.jsx(Vl,{status:{text:I.name,color:I.color}})}),[E,b]),S=c.useMemo(()=>f?()=>f:void 0,[f]);return h.jsx(Jo,{options:w,value:n,onChange:C,inputValue:g,onInputChange:y,placeholder:d??b(o?G["page-status-picker-popover.search-create-text"]:G["select-dropdown.placeholder"]),getOptionValue:Bst,getOptionLabel:Ust,onFocus:s,onBlur:i,autoFocus:l,formatOptionLabel:x,hideSelectedOptions:!1,styles:{...Ec,menu:I=>({...I,width:"100%",position:"relative",boxShadow:"none"}),...sq},isLoading:u,noOptionsMessage:S,defaultMenuIsOpen:l,isClearable:!0,menuPortalTarget:null,components:{ClearIndicator:Vst}})},zst=ie({listStyleType:"none",padding:"0"}),Wst=({value:e,onFocus:t,onBlur:n,autoFocus:r,field:o,contentId:a,entryId:s,isFilterValueEdit:i,isDefaultValue:l,isBulkEdit:d})=>{const[u]=fe.useEqualSelector(p=>{const m=kt(p,{contentId:a,includeDeleted:!0}),g=s&&fn(m,s);return[g?Nm({database:m,field:o,entry:g},p):[]]});Xs({entryId:s,fieldId:o.id});const f=h.jsx(_e,{xcss:zst,as:"ul",children:u.map((p,m)=>h.jsx("li",{children:h.jsx(Gst,{value:e,onFocus:t,onBlur:n,autoFocus:r,field:o,contentRef:p,contentId:a,entryId:s})},`${t1(p)}${m}`))});return h.jsx(Ks,{isMultiSelect:!1,hasCurrentData:!1,addDataSection:f,isRenderedInSidePanel:l||i,fieldWidth:o.width,isBulkEdit:d})},Gst=({value:e,onFocus:t,onBlur:n,autoFocus:r,field:o,contentRef:a,contentId:s,entryId:i})=>{const{formatMessage:l}=Ee(),[d,u,f,p,m,g,v]=fe.useEqualSelector(I=>{const A=kt(I,{contentId:s,includeDeleted:!0}),T=Qb(I,{contentRef:a}),{customContentStates:O,spaceContentStates:D}=(T&&EN(I,{contentId:T.contentId}))??{},$=(D??[]).map(V=>Vd(V)),L=wN(A,I,a.spaceKey),F=T&&CN(I,{contentId:T.contentId}),B=O!=null;return[r1(a,e,I),B?_N([...L,...O??[]]).filter(V=>!$.includes(Vd(V))):[],D??[],F==null?void 0:F.status,D!=null,B,T]}),b=[void 0,St.INITIAL,St.PENDING].includes(p),y=fe.useDispatch();Yn(H5(async()=>{if([void 0,St.INITIAL].includes(p)){const I=await y(mu(a));I&&await y(SN(I.contentId))}},[y,a,p]));const[E,w]=c.useState(),C=c.useCallback(I=>{if(!v)return;const A=xN(v);A&&y(I?Aa.actions.addColumnValueToContent({ari:A,columnName:"pageStatus",data:{type:"pageStatus",text:(I==null?void 0:I.name)??"",value:{text:(I==null?void 0:I.name)??"",color:(I==null?void 0:I.color)??""}}}):Aa.actions.removeColumnValueFromContent({ari:A,columnName:"pageStatus"}))},[y,v]),x=fe.useStore(),S=c.useCallback(async I=>{w(I??null),C(I);try{await sk(a,I??null,x)}finally{w(void 0)}},[a,x,C]);return h.jsx(Hst,{value:(E!==void 0?E:d)??void 0,customOptions:u,spaceOptions:f,onChange:S,onFocus:t,onBlur:n,autoFocus:r,isCreatable:!!i&&o.settings.creatable!==!1&&g,isLoading:b||E!==void 0,noOptionsMessage:m||g?void 0:l(G["page-status.no-options"])})},qst=e=>e.id??e.label,Yst=e=>e.label;function jP(e,t){return e.some(n=>(n.id??n.label)===(t.id??t.label))}const Kst=Re.div.withConfig({displayName:"TagSelect__CreateOptionContainer",componentId:"sc-sjvbg3-0"})(["display:grid;grid-template-columns:auto 1fr auto;align-items:center;"]),Xst=({options:e,value:t=Object.freeze([]),isCreatable:n=!0,isMulti:r,isInvalid:o=!1,autoFocus:a,placeholder:s,appearance:i,field:l,onFocus:d,onBlur:u,addChangeToDraft:f,onChange:p,isRenderedInSidePanel:m,addDataSectionRef:g})=>{const[v,b]=c.useState(bv(e));c.useEffect(()=>{b(bv(e))},[e]);const[y,E]=c.useState(""),w=c.useCallback($=>{E($)},[]),{formatMessage:C}=Ee(),x=c.useMemo(()=>{const $=[...e];if(n){const L=y.trim(),F=y.trim().toLowerCase();L&&!(e!=null&&e.some(B=>B.label.toLowerCase()===F))&&$.unshift({id:wt(),label:L,color:v})}return $},[y,n,v,e]),S=c.useMemo(()=>e.filter($=>t.includes($.id??$.label)),[e,t]),I=c.useCallback($=>{const L=$.id??$.label;f({type:ye.SET_SELECT_OPTIONS,fieldId:l.id,newValue:[...l.settings.selectOptions,$],change:{type:Be.APPEND,value:$}});const F=S.map(B=>B.id??B.label);p([...F,L],{type:ae.SELECT,delta:{type:Be.APPEND,value:L}})},[f,l.id,l.settings.selectOptions,p,S]),A=c.useCallback($=>{if(!$)return;const L=S.map(B=>B.id??B.label),F=r?{type:Be.APPEND,value:$}:{type:Be.SET_TO,value:[$]};p([...L,$],{type:ae.SELECT,delta:F})},[r,p,S]),T=c.useCallback($=>{$&&(jP(e,$)||I($),A($.id??$.label))},[A,I,e]),O=c.useCallback(($,L)=>L.context==="menu"&&!jP(e,$)?h.jsxs(Kst,{children:[C(G["field-settings.select-picker-create-text"])," ",h.jsx(Bl,{option:$}),h.jsx(nne,{value:$.color,onChange:fr(F=>{b(F)}),stopPropagation:!0,size:24})]}):L.context==="menu"||!r?h.jsx(Bl,{option:$}):$.label,[C,r,e]),D=c.useCallback($=>{var L;u&&u($),(L=g.current)==null||L.getElementsByTagName("input")[0].focus()},[u,g]);return h.jsx(Jo,{classNamePrefix:"select-option-picker",options:x,value:S,onChange:T,closeMenuOnSelect:!1,blurInputOnSelect:!1,onBlur:D,inputValue:y,onInputChange:w,placeholder:s??C(n?G["select-picker-popover-edit.createable-placeholder"]:G["select-picker-popover-edit.placeholder"]),noOptionsMessage:()=>C(G["generic-select.no-options"]),getOptionValue:qst,getOptionLabel:Yst,isInvalid:o,onFocus:d,autoFocus:a,formatOptionLabel:O,styles:m?Ah:Ec,appearance:i,hideSelectedOptions:!0,controlShouldRenderValue:!1,...!m&&{menuPortalTarget:null,defaultMenuIsOpen:!0,menuIsOpen:!0,components:{IndicatorsContainer:()=>null,ValueContainer:Ih}}})},Jst=ie({display:"flex",flexDirection:"column",alignItems:"flex-start"}),Zst=({onChange:e,onFocus:t,onBlur:n,autoFocus:r,value:o,field:a,entryId:s,addChangeToDraft:i,contentId:l,placeholder:d,appearance:u,isDefaultValue:f,isFilterValueEdit:p,isBulkEdit:m})=>{const g=o.length>0&&o[0]!=="",{formatMessage:v}=Ee(),b=c.useRef(null),y=c.useRef(null),w=fe.useSelector(O=>{if(!l)return!1;const D=Xe(O,{contentId:l});return a.settings.creatable&&D.operations.updateMetadata&&!D.meta.isLocked})&&!p;Xs({entryId:s,fieldId:a.id});const C=a.settings.multi||o.length>1,x=f||p,S=c.useCallback(async(O,D)=>{var L;const $=D.filter(F=>!O.includes(F));await e($,{type:ae.SELECT,delta:{type:Be.REMOVE,index:o.indexOf(O[0])}}),o.length===1&&((L=b.current)==null||L.getElementsByTagName("input")[0].focus())},[e,o]),I=c.useCallback(O=>{const D=a.settings.selectOptions.find($=>$.id===O);return{label:(D==null?void 0:D.label)??v(G["board-layout.empty-tag-label"]),id:D==null?void 0:D.id,color:(D==null?void 0:D.color)??"greyLight"}},[a,v]),A=h.jsx("div",{ref:b,children:h.jsx(Xst,{options:a.settings.selectOptions,value:o,isCreatable:w,isMulti:C,onFocus:t,onBlur:n,autoFocus:r,placeholder:d,preventOpenWhenNoOptions:!1,appearance:u,addChangeToDraft:i,onChange:e,field:a,isRenderedInSidePanel:x,addDataSectionRef:b})}),T=h.jsx(_e,{xcss:Jst,ref:y,children:o.map(O=>h.jsx(Bl,{option:I(O),isRemovable:!0,onRemove:()=>S([O],o)},O))});return h.jsx(Ks,{isMultiSelect:a.settings.multi,hasCurrentData:g,currentDataSection:T,addDataSection:A,isRenderedInSidePanel:x,fieldWidth:a.width,isBulkEdit:m})},Qst=e=>e.accountId,eit=e=>"type"in e,tit=async e=>{var t;return{context:{contextType:"contributors",principalId:((t=await o1())==null?void 0:t.accountId)||"",productAttributes:{isEntitledConfluenceExternalCollaborator:!1},productKey:"confluence",siteId:ia()||""},includeGroups:!1,includeTeams:!1,includeUsers:!0,maxNumberOfResults:15,performSearchQueryOnly:!1,query:e}},nit=({resolvedUsers:e,onChange:t,onFocus:n,onBlur:r,autoFocus:o,isPending:a,contentId:s,field:i,isRenderedInSidePanel:l,isMulti:d,addDataSectionRef:u})=>{const f=Ee(),p=f.formatMessage,{createMentionNotification:m}=iD({contentId:s}),g=c.useCallback(async w=>(await dne(await tit(w),f)).map(x=>({accountId:x.id,displayName:x.name,type:"known",profilePicture:{path:x.avatarUrl}})),[f]),v=c.useCallback(async w=>{const C=[...e,w],x=d?{type:Be.APPEND,value:w}:{type:Be.SET_TO,value:[w]};t(C,{type:ae.USER,delta:x});const S=w;i.settings.mentionNotificationEnabled&&s&&S.displayName&&await m({mentions:[{mentionLocalId:w._id,mentionedUserAccountId:S.accountId,displayName:S.displayName}],fieldId:i.id})},[e,d,t,i.settings.mentionNotificationEnabled,i.id,s,m]),b=c.useCallback(w=>{if(!w)return;const C={_id:wt(),accountId:"accountId"in w?w.accountId:"",displayName:"displayName"in w?w.displayName:""};v(C)},[v]),y=c.useCallback((w,C)=>{if(C.context==="menu")return eit(w)?h.jsx(ZA,{userOrGroup:w,label:w.displayName}):h.jsx(hm,{accountId:w.accountId,displayName:w.displayName,renderUser:une})},[]),E=c.useCallback(w=>{var C;r&&r(w),(C=u.current)==null||C.getElementsByTagName("input")[0].focus()},[r,u]);return h.jsx("div",{style:{width:"100%"},children:h.jsx(qs,{onChange:b,formatOptionLabel:y,loadOptions:g,getOptionValue:Qst,onFocus:n,onBlur:E,blurInputOnSelect:!1,closeMenuOnSelect:!1,autoFocus:o,placeholder:p(G["user-picker-popover.search-text"]),loadingMessage:()=>p(G["field-settings.select-picker-loading-text"]),isLoading:a,styles:l?Ah:Ec,controlShouldRenderValue:!1,...!l&&{menuPortalTarget:null,defaultMenuIsOpen:!0,menuIsOpen:!0,components:{IndicatorsContainer:()=>null,ValueContainer:Ih}}})})},rit=ie({paddingLeft:"space.050"}),oit=({user:e,resolvedUsers:t,onChange:n,autoFocus:r,addDataSectionRef:o})=>{const a=t.findIndex(u=>u&&"accountId"in u&&"accountId"in e&&u.accountId===e.accountId&&"displayName"in u&&"displayName"in e&&u.displayName===e.displayName),s=Dh({currentValues:t,indexToRemove:a}),i=u=>u!==null&&"displayName"in u?u.displayName:"",l=u=>u!==null&&"accountId"in u?u.accountId:"",d=c.useCallback(()=>{var u;n(s,{type:ae.USER,delta:{type:Be.REMOVE,index:a}}),(u=o.current)==null||u.getElementsByTagName("input")[0].focus()},[o,n,a,s]);return h.jsxs(it,{testId:"user-value",justifyContent:"start",alignItems:"center",gap:"space.075",children:[h.jsx(hm,{accountId:l(e),displayName:i(e),renderUser:QA}),h.jsx(_e,{xcss:rit,children:h.jsx(Th,{testId:"user-remove-button",onItemDelete:d,autoFocus:r})})]})},ait=({onChange:e,onFocus:t,onBlur:n,autoFocus:r,value:o,field:a,entryId:s,isDefaultValue:i,isFilterValueEdit:l,isBulkEdit:d})=>{const{contentId:u}=An(),f=fe.useSelector(Fm),p=fe.useSelector(A=>Pp(A,{accountId:f})),{formatMessage:m}=Ee(),g=i||l,v=c.useMemo(()=>wt(),[]),b=c.useRef(null),y=fe.useDispatch();Yn(De(async()=>{o===dr&&f&&await y(ik(f))},[f,y,o])),Xs({entryId:s,fieldId:a.id});const E=fe.useEqualSelector(A=>{let T;return o===dr?T=p?[{...p,_id:v}]:[]:T=o.map(O=>{const D=rp(O)?Pp(A,{accountId:O.accountId}):void 0;return D?{...O,displayName:D.displayName}:O}),T}),w=(a.settings.multi||E.length>1)&&!(g&&o===dr),C=c.useCallback(()=>{if(o===dr){const A=p?[{...p,_id:v}]:[];e(A,{type:ae.USER,delta:{type:Be.SET_TO,value:A}})}else e(dr,{type:ae.USER,delta:{type:Be.SET_TO,value:dr}})},[v,p,e,o]),x=h.jsx("div",{ref:b,children:h.jsx(nit,{onChange:e,onFocus:t,onBlur:n,autoFocus:r,contentId:u,field:a,resolvedUsers:E,isRenderedInSidePanel:g,isMulti:w,addDataSectionRef:b})}),S=h.jsx(h.Fragment,{children:E.map(A=>h.jsx(oit,{user:A,onChange:e,resolvedUsers:E,autoFocus:r,addDataSectionRef:b},A._id))}),I=h.jsx(Ks,{isMultiSelect:w,hasCurrentData:o.length>0,currentDataSection:S,addDataSection:x,isRenderedInSidePanel:g,fieldWidth:a.width,isBulkEdit:d});return i?h.jsxs(h.Fragment,{children:[I,h.jsx(T4,{isCompact:!0,children:h.jsx(tu,{isChecked:o===dr,onChange:C,onFocus:t,onBlur:n,label:m(G["field-settings.type-user-set-current-user-default-text"])})})]}):I};var fD={},xE={};Object.defineProperty(xE,"__esModule",{value:!0});var sit=xE.default=void 0,iit=Ene(c),lit=je,cit=Ene(Hs);function Ene(e){return e&&e.__esModule?e:{default:e}}const wne=e=>iit.default.createElement(lit.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M13 11V7a1 1 0 0 0-2 0v4H7a1 1 0 0 0 0 2h4v4a1 1 0 0 0 2 0v-4h4a1 1 0 0 0 0-2z"/></svg>'},e,{newIcon:cit.default}));wne.displayName="EditorAddIcon";sit=xE.default=wne;Object.defineProperty(fD,"__esModule",{value:!0});var pD=fD.default=void 0,dit=mD(c),uit=mD(Hs),fit=mD(xE);function mD(e){return e&&e.__esModule?e:{default:e}}const Cne=e=>dit.default.createElement(uit.default,Object.assign({LEGACY_fallbackIcon:fit.default},e));Cne.Name="AddIconMigration";pD=fD.default=Cne;const pit=ie({listStyle:"none",padding:"0",width:"100%"}),mit=({contentId:e,value:t,showPlaceholder:n,field:r})=>{const{formatMessage:o}=Ee(),a=r.settings.mediaFormat;return!t||!t.length?n&&h.jsxs(it,{xcss:ie({justifyContent:"space-between",alignItems:"center",color:"color.text.subtle",opacity:0,width:"152px"}),children:[h.jsx(pD,{spacing:"spacious",label:""}),h.jsx(Gt,{color:"color.text.subtle",children:o(G["media.add-file"])})]}):h.jsx(_e,{xcss:pit,children:t.map(s=>h.jsx("li",{children:h.jsx(Y5,{contentId:e,value:s,renderButtons:!1,mediaFormat:a})},`${s._id}`))})},VP=Re.ul.withConfig({displayName:"BacklinkValueView__Container",componentId:"sc-4eu5h3-0"})(["list-style-type:none;padding:0;> li + li{margin-top:",";}"],U("space.075","6px")),BP=e=>{e.stopPropagation()},hit=({contentId:e,field:t,entryId:n,noFocus:r,isReadonly:o})=>{const[a,s]=c.useState(!1),i=fe.useDispatch(),l=Ee(),{formatMessage:d}=l,[u,f]=c.useState("");Yn(c.useCallback(async()=>{s(!0);try{t.settings.contentId&&(await i(Fs(t.settings.contentId,l)),f(""))}catch(m){const g=new Error(`Could not load database with content id ${t.settings.contentId}: ${m}`),v=lk(m);let b=G["broken-link.broken-link-text"];v&&v===403?(b=G["restricted-link.restricted-link-text"],$r(g)):v&&v===404?$r(g):wn(g),f(d(b))}finally{s(!1)}},[i,t.settings.contentId,d,l]));const[p]=fe.useEqualSelector(m=>{const g=kt(m,{contentId:e,includeDeleted:!0}),v=n&&fn(g,n);return[(v?Ice({database:g,field:t,entry:v},m,{selectDatabase:Tc(!0)}):[]).map(y=>{const E=Gr(y,m);return{databaseSpaceKey:y.database.space.key,databaseId:y.database.id,contentId:y.database.contentId,entryId:y.entry.id,title:E||d(G["unnamed-entities.unnamed-entry"])}})]});if(a)return h.jsx(VP,{children:h.jsx("li",{children:h.jsx(Gi,{noFocus:!0,iconBefore:h.jsx(B1,{label:""}),children:h.jsx(_e,{xcss:ie({width:t.width?Math.min(t.width-60,100)+"px":"100px",height:U("space.100","8px"),margin:"space.075",backgroundColor:"color.skeleton",borderRadius:U("space.200","16px")})})})})});if(u)return h.jsx(FA,{message:u});switch(t.settings.backlinkDisplayType){case VN.NUMBER:return h.jsx(h.Fragment,{children:p.length});default:return h.jsx(VP,{children:p.map(m=>h.jsx("li",{children:h.jsx(lE,{entryRef:m,noFocus:r,onClick:BP,onFocus:BP,contentId:e,isReadonly:o})},m.entryId))})}},git=ie({gap:"space.100"}),vit=({itemText:e,children:t})=>h.jsxs(Me,{xcss:git,children:[t,e]}),bit=ie({backgroundColor:"color.background.neutral",color:"color.text",borderRadius:"3px",paddingInline:"space.050",paddingBlock:"space.025",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),yit=({text:e})=>h.jsx(_e,{xcss:bit,as:"span",children:e},e),xC=c.lazy(()=>de(()=>import("./RenderDatasourceComponent-BGGiXeEb.js"),__vite__mapDeps([79,3,4,1,2,5,6,7,8,9,10,80,81,69,78,82,83]))),_ne=e=>{switch(e.type){case"boolean":case"date":case"datetime":case"link":case"number":case"status":case"string":case"time":case"richtext":case"user":return h.jsx(c.Suspense,{children:h.jsx(xC,{item:e})});case"icon":return h.jsx(c.Suspense,{children:h.jsx(vit,{itemText:e.text,children:h.jsx(xC,{item:e})})});case"tag":return h.jsx(it,{gap:"space.050",wrap:"wrap",children:e.values.map((t,n)=>h.jsx(yit,{text:t.text},n))});case"html":return h.jsx("span",{dangerouslySetInnerHTML:{__html:e.values.join(`
`)||""}});case"pageStatus":return e.values.map(t=>h.jsx(Vl,{status:t},t.text));default:return h.jsx(c.Suspense,{children:h.jsx(xC,{item:{type:"string",values:[e.text],text:e.text}})})}},xne=c.createContext(!1);function SE(){return c.useContext(xne)}const Eit=Re.div.withConfig({displayName:"Skeleton__SkeletonContextContainer",componentId:"sc-1tzed88-0"})(["width:100%;display:flex;flex-direction:column;",""],e=>e.isEnabled&&ln(["pointer-events:none;user-select:none;"])),hD=({isEnabled:e,children:t})=>h.jsx(Eit,{isEnabled:e,children:h.jsx(xne.Provider,{value:e,children:t})}),UP=QDe(["from{background-color:",";}to{background-color:",";}"],U("elevation.surface.hovered","#F1F2F4"),U("elevation.surface.pressed","#DCDFE4")),gD=Re.div.withConfig({displayName:"Skeleton__SkeletonItemPlaceholder",componentId:"sc-1tzed88-1"})(["position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;background-color:",";border-radius:",";"," "," "," "," "," transform:translate(",",",");animation-direction:alternate;animation-duration:1.5s;animation-iteration-count:infinite;animation-name:",";animation-timing-function:linear;",""],U("elevation.surface","#FFFFFF"),e=>e.isButton?"3px":"100px",e=>e.minWidth!=null&&ln(["min-width:","px!important;"],e.minWidth),e=>e.width!=null&&ln(["width:","px;left:50%;right:auto;"],e.width),e=>e.maxWidth!=null&&ln(["max-width:","px;"],e.maxWidth),e=>e.minHeight!=null&&ln(["min-height:","px;"],e.minHeight),e=>e.height!=null&&ln(["height:","px;top:50%;bottom:auto;"],e.height),e=>e.width!=null?"-50%":"0",e=>e.height!=null?"-50%":"0",UP,({hasIcon:e,hasAvatar:t})=>(e||t)&&ln(["margin-left:",";&::before{display:inline-flex;margin-left:-22px;content:'';background-color:",";width:20px;height:20px;border-radius:",";animation-direction:alternate;animation-duration:1.5s;animation-iteration-count:infinite;animation-name:",";animation-timing-function:linear;}"],U("space.300","24px"),U("elevation.surface","#FFFFFF"),e?"3px":"100%",UP)),wit=Re.div.withConfig({displayName:"Skeleton__SkeletonItemContainer",componentId:"sc-1tzed88-2"})(["display:inline-flex;align-items:center;position:relative;",""],e=>e.isEnabled?ln(["pointer-events:none;user-select:none;color:transparent;*:not(","){opacity:0;}"],gD):""),Wt=({isEnabled:e,children:t,isButton:n,hasIcon:r,hasAvatar:o,minWidth:a,width:s,maxWidth:i,minHeight:l,height:d,className:u,style:f})=>{const p=SE(),m=e??p;return m?h.jsxs(wit,{isEnabled:m,className:u,style:f,children:[t,m&&h.jsx(gD,{isButton:n,hasIcon:r,hasAvatar:o,minWidth:a,width:s,maxWidth:i,minHeight:l,height:d})]}):t},Cit=Re.ul.withConfig({displayName:"ContentDetailsValueView__Container",componentId:"sc-1w4h8mv-0"})(["list-style-type:none;padding:0;white-space:pre-line;> li + li{margin-top:",";}img{max-width:100%;}"],U("space.075","6px")),SC=({contentId:e,field:t,entryId:n})=>{const{view:r}=at(),o=c.useCallback(()=>{let p;switch(t.type){case ae.PAGE_DETAILS:p=t.settings.contentField;break;case ae.PAGE_LABELS:p="labels";break;case ae.PAGE_STATUS:p="pageStatus";break}return p?(p==="versionNumber"&&t.settings.includeVersionComment&&(p="versionComment"),p):null},[t]),a=fe.useEqualSelector(p=>Tce(e,t,n??"",p)??[]),i=fe.useEqualSelector(p=>Ace(e,t,n??"",o()||"",p)??[]).map((p,m)=>({content:a[m],status:p})),l=c.useCallback(p=>{const m=o();if(!m)return h.jsx(h.Fragment,{children:""});if(p.data[m]){const g=p.data[m];return _ne({type:g.type,values:Array.isArray(g.data)?g.data:[g.data],text:g.text})}return h.jsx(h.Fragment,{children:""})},[o]),d=c.useRef(null);c.useLayoutEffect(()=>{if(t.settings.displayedDetail===Dce.EXCERPT&&d.current)for(const p of d.current.querySelectorAll("a:not([target])"))p.setAttribute("target","_blank")});const f=r.settings.layout.type==="table"?(t!=null&&t.width?t.width:Vm)*.7:uk[r.settings.layout.cardWidth]*.6;return i.length===0?null:h.jsx(Cit,{ref:d,children:i.map(({content:p,status:m},g)=>{const v=!(m!=null&&m.status)||(m==null?void 0:m.status)==="pending";return h.jsx("li",{children:p?l(p):v?h.jsx(Wt,{minWidth:f,isEnabled:!0,children:h.jsx(h.Fragment,{children:""})}):h.jsx(h.Fragment,{children:""})},g)})})},_it=Re.span.withConfig({displayName:"DateValueView__DateValueViewContainer",componentId:"sc-1jng5yq-0"})(["background:",";border-radius:3px;color:",";padding:"," ",";"],U("color.background.neutral","#091E420F"),U("color.text","#172B4D"),U("space.025","2px"),U("space.050","4px")),xit=({value:e})=>{const t=Du(),n=c.useMemo(()=>{if(!e)return null;let r=e;try{r=s1(e,t)??e}catch{}return r},[e,t]);return e?h.jsx(_it,{children:n}):null},Db=2,Rn="3px",xi=`${Db}px solid ${cn}`,Sne=`${Db}px solid transparent`,$d=Re.span.withConfig({displayName:"styles__DatabaseValueViewContainer",componentId:"sc-34tiqh-0"})(["display:inline-flex;max-width:100%;flex-wrap:wrap;"]),Sit=Re(Wt).withConfig({displayName:"FieldValueView__StyledSkeletonItem",componentId:"sc-1fwsu9j-0"})(["&&&{display:block;min-width:0;}"]),kit=ie({gap:"space.100",color:"color.text.subtlest",alignItems:"center"}),Iit=ie({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",gap:"space.100",color:"color.text.subtlest"}),kne=({contentId:e,entryId:t,field:n,value:r,showPlaceholder:o,noFocus:a,recursionCount:s=0,isReadonly:i,showFieldNamePlaceholder:l})=>{const d=So(n.type),u=d.view,f=fe.useStore(),p=fe.useEqualSelector(g=>{if(l&&t){const v=Xe(g,{contentId:e}),b=fn(v,t);return za({database:v,field:n,entry:b,value:r},g)}return!1}),m=c.useMemo(()=>Bm({field:n,value:r},n.type,f.getState()),[n,f,r]);return Mte({contentId:e,entryId:t,field:n,convertedValue:m},f.getState()),p?h.jsxs(Me,{xcss:kit,children:[h.jsx(Ms,{type:n.type,label:d.label,noTooltip:!0}),h.jsx(_e,{xcss:Iit,children:n.name})]}):h.jsx($d,{"data-testid":"database-value-view-container",children:h.jsx(Sit,{"data-testid":"database-value-view-skeleton-item",minWidth:80,children:h.jsx(u,{contentId:e,entryId:t,field:n,value:m.value,showPlaceholder:o,noFocus:a,recursionCount:s,isReadonly:i})})})},Tit=Re.ul.withConfig({displayName:"EntryDetailsValueView__Container",componentId:"sc-zl5x2a-0"})(["list-style-type:none;padding:0;> li + li{margin-top:",";}"],U("space.075","6px")),Ait=({contentId:e,field:t,entryId:n,recursionCount:r,...o})=>{const a=fe.useEqualSelector(s=>{const i=kt(s,{contentId:e,includeDeleted:!0}),l=n?fn(i,n):void 0;return Oce({database:i,field:t,entry:l},s,{selectDatabase:Tc(!0)})});return a.length===0||r>=fN?null:h.jsx(Tit,{children:a.map((s,i)=>h.jsx("li",{children:h.jsx(kne,{...o,contentId:s.database.contentId,entryId:s.entry.id,field:s.field,value:s.value,recursionCount:r+1})},`${i}`))})},HP=Re.ul.withConfig({displayName:"EntryLinkValueView__Container",componentId:"sc-1ubvmmb-0"})(["list-style-type:none;padding:0;width:100%;> li + li{margin-top:",";}"],U("space.075","6px")),Dit=Re.div.withConfig({displayName:"EntryLinkValueView__StyledSkeletonItem",componentId:"sc-1ubvmmb-1"})(["display:block;width:","px;height:8px;margin:",";background-color:",";border-radius:16px;"],e=>e.fieldWidth?Math.min(e.fieldWidth-60,100):100,U("space.075","6px"),U("color.skeleton")),zP=e=>{e.stopPropagation()},Oit=({contentId:e,field:t,value:n,noFocus:r,isReadonly:o})=>{const{databaseSpace:a,databaseId:s,contentId:i}=t.settings,[l,d]=c.useState(!1),u=Ee(),{formatMessage:f}=u,p=fe.useDispatch();Yn(c.useCallback(async()=>{d(!0);try{i&&await p(Fs(i,u))}catch(g){const v=new Error(`Could not load database with content id ${i}: ${g}`),b=lk(g);b&&(b===403||b===404)?$r(v):wn(v)}finally{d(!1)}},[i,p,u]));const m=fe.useEqualSelector(g=>{if((!a||!s)&&!i)return[];let v;if(s?v=Zb(g,{spaceKey:a==null?void 0:a.key,id:s}):i&&(v=Vt(g,{contentId:i})),!v)return n.filter(Fd).flatMap(({entryId:y,_id:E})=>[{entryId:y,title:f(G["broken-link.broken-link-text"]),_id:E}]);const b=v&&a1(v)&&kt(g,{contentId:v.contentId,includeDeleted:!1});return b?n.filter(Fd).flatMap(({entryId:y,_id:E})=>{const w=or(b,y),C=x=>{const S=Gr(x,g);return S||f(G["unnamed-entities.unnamed-entry"])};return w?[{databaseSpaceKey:a==null?void 0:a.key,databaseId:s,entryId:y,title:C({database:b,entry:w}),_id:E,contentId:i}]:[{entryId:y,title:f(G["broken-link.broken-link-text"]),_id:E}]}):[]});return n.length===0?null:l?h.jsx(HP,{children:h.jsx("li",{children:h.jsx(Gi,{noFocus:!0,iconBefore:h.jsx(B1,{label:""}),children:h.jsx(Dit,{fieldWidth:t.width})})})}):!n||m.length===0?null:h.jsx(HP,{children:m.map(g=>h.jsx("li",{children:h.jsx(lE,{entryRef:g,noFocus:r,onClick:zP,onFocus:zP,contentId:e,isReadonly:o})},g._id))})},Mit=({hyperlink:e,noFocus:t,onClick:n,onFocus:r,noResolve:o,useSmartLink:a})=>{let s;return e.isLabelExplicit&&e.label?s=e.label:o?s=e.url:s=e.label||Mce(e.url),h.jsx(Gi,{href:e.url&&hN(e.url)?e.url:void 0,onFocus:r,onClick:n,noFocus:t,iconBefore:e.url?h.jsx(Jr,{LEGACY_size:"small",label:""}):void 0,noResolve:o,useSmartLink:a,children:s})},$it=Re.ul.withConfig({displayName:"HyperlinkValueView__Container",componentId:"sc-gbbnvt-0"})(["list-style-type:none;padding:0;width:100%;> li + li{margin-top:",";}"],U("space.075","6px")),WP=e=>{e.stopPropagation()},Rit=({field:e,value:t,noFocus:n})=>h.jsx($it,{children:t.map($ce).map((r,o)=>h.jsx("li",{"data-testid":"hyperlink-value-view-item",children:h.jsx(Mit,{hyperlink:r,noFocus:n,onClick:WP,onFocus:WP,noResolve:!e.settings.resolve,useSmartLink:!0})},o))}),Pit=Re.ul.withConfig({displayName:"JiraIssueDetailsValueView__Container",componentId:"sc-1b9hec6-0"})(["list-style-type:none;padding:0;> li + li{margin-top:",";}.icon{width:16px;}img{max-width:100%;height:auto;overflow:hidden;}"],U("space.100")),Lit=({contentId:e,field:t,entryId:n})=>{const r=fe.useEqualSelector(o=>{const a=Xe(o,{contentId:e}),s=n?fn(a,n):void 0;return Rce({database:a,field:t,entry:s},o)});return r.length?h.jsx(Pit,{children:r.map((o,a)=>{if(o.data){const s=Array.isArray(o.data)?o.data:[o.data];return h.jsx("li",{children:_ne({type:o.type,text:o.text,values:s})},a)}})}):null},Nit=Re.ul.withConfig({displayName:"JiraIssueValueView__Container",componentId:"sc-aacyn6-0"})(["list-style-type:none;padding:0;> li + li{margin-top:",";}> li a{width:100%;}"],U("space.100")),Fit=({field:e,value:t})=>{const n=c.useMemo(()=>t.flatMap(r=>Pm(r)?[{_id:r._id,cloudId:e.settings.cloudId,serverId:e.settings.jiraServerId,key:r.key}]:[]),[e.settings.cloudId,e.settings.jiraServerId,t]);return h.jsx(Nit,{children:n.map(r=>h.jsx("li",{children:h.jsx(YA,{issue:r,useSmartLink:!0})},r._id))})},jit=Re.div.withConfig({displayName:"NumberValueView__FormattedNumber",componentId:"sc-agxum-0"})(["text-align:right;"]),Vit=({field:e,value:t})=>{const{locale:n}=Ee(),r=t!==""?Yl(t,e,n):"";return h.jsx(jit,{children:r})},Bit=Re.ul.withConfig({displayName:"PageLinkValueView__Container",componentId:"sc-1udvn6f-0"})(["list-style-type:none;padding:0;width:100%;> li + li{margin-top:",";}"],U("space.075","6px")),GP=e=>{e.stopPropagation()},Uit=({value:e,noFocus:t})=>{const n=e.filter(r=>"contentId"in r);return h.jsx(Bit,{children:n.map(r=>h.jsx("li",{children:h.jsx(_E,{contentId:r.contentId,noFocus:t,onClick:GP,onFocus:GP})},`${r._id}`))})},Hit=({field:e,value:t})=>h.jsx(_e,{testId:"select-value-view",xcss:ie({width:"100%"}),children:e.settings.selectOptions.flatMap(n=>t.some(r=>r===(n.id??n.label))?[h.jsx(Bl,{option:n},n.id??n.label)]:[])}),zit=Re.span.withConfig({displayName:"TextValueView__Container",componentId:"sc-1vx2vbm-0"})(["white-space:pre-line;"]),Wit=({value:e})=>h.jsx(zit,{children:e});class kE{constructor(t){const n={cacheSize:10,cacheMaxAge:0};this.config={...n,...t},this.config.cacheSize=Math.max(this.config.cacheSize||0,0),this.config.cacheMaxAge=Math.max(this.config.cacheMaxAge||0,0),this.config.cacheMaxAge&&(this.config.cacheMaxAge=Math.min(this.config.cacheMaxAge,30*24*60*60*1e3)),this.cache=!this.config.cacheMaxAge||!this.config.cacheSize?null:new ek.LRUMap(this.config.cacheSize)}setCachedProfile(t,n){this.cache&&this.cache.set(t,{expire:Date.now()+this.config.cacheMaxAge,profile:n})}getCachedProfile(t){if(!this.cache)return null;const n=this.cache.get(t);return n?n.expire<Date.now()?(this.cache.delete(t),null):(this.setCachedProfile(t,n.profile),n.profile):null}flushCache(){this.cache&&this.cache.clear()}}const Ul="fedramp-moderate",On="commercial",Ine="fedramp-fedex",Fo="stg",yn="prod",Git="dev";function qit(){var e,t;const n=globalThis,r=n.MICROS_PERIMETER||n.UNSAFE_ATL_CONTEXT_BOUNDARY;if(r)return r===Ul;const o=(e=n.location)===null||e===void 0||(t=e.hostname)===null||t===void 0?void 0:t.match(/atlassian-us-gov-mod\.(com|net)|atlassian-us-gov\.(com|net)|atlassian-fex\.(com|net)|atlassian-stg-fedm\.(com|net)/);return o?o.length>0:!1}const qP={[On]:{[Fo]:"stg.atlassian.com",[yn]:"atlassian.com"},[Ine]:{[Fo]:"atlassian-fex.com"},[Ul]:{[Fo]:"stg.atlassian-us-gov-mod.com",[yn]:"atlassian-us-gov-mod.com"}},Yit={},Kit={analytics:{[On]:{[yn]:"analytics.atlassian.com"}},confluence:{[On]:{[yn]:"confluence.atlassian.com"}},design:{[On]:{[yn]:"design.atlassian.com"}},extranet:{[On]:{[yn]:"extranet.atlassian.com"}},go:{[On]:{[yn]:"go.atlassian.com"}},my:{[On]:{[yn]:"my.atlassian.com"}},schema:{[On]:{[yn]:"schema.atlassian.com"}},start:{[On]:{[yn]:"start.atlassian.com",[Fo]:"start.stg.atlassian.com"},[Ul]:{[yn]:"start.atlassian-us-gov-mod.com",[Fo]:"start.stg.atlassian-us-gov-mod.com"}},surveys:{[On]:{[yn]:"surveys.atlassian.com"}},"wac-cdn":{[On]:{[yn]:"wac-cdn.atlassian.com"}},integrations:{[On]:{[yn]:"integrations.atlassian.com"}},permalink:{[On]:{[yn]:"permalink.atlassian.com"}},id:{[On]:{[yn]:"id.atlassian.com",[Fo]:"id.stg.internal.atlassian.com",[Git]:"id.dev.internal.atlassian.com"},[Ul]:{[yn]:"id.atlassian-us-gov-mod.com",[Fo]:"id.stg.atlassian-us-gov-mod.com"}},support:{[On]:{[yn]:"support.atlassian.com"}}},Tne=["admin","analytics","api","api.media","api-private","as","atl-global","atlaskit","auth","automation","cassi.internal","cc-import-sources.services","confluence","confluence-chats-integr.services","confluence-cloud-bamboo.internal","confluence-questions.services","data-portal.internal","design","developer","extranet","go","id","id-mail-assets","integrations","ja","jira","jsd-widget","jsd-widget-staging","marketplace","my","my-reminders.services","partners","permalink","permalink.stg","schema","start","support","surveys","team","wac-cdn","xxid","home"];function Xit(e){return!!Tne.includes(e)}function Jit(e,t){var n,r,o;if(!Xit(e))throw new Error(`Domain ${e} is not supported.
      Supported domains: ${Tne.join(", ")}`);const a=globalThis.ATL_CONTEXT_DOMAIN;if(a)return a[e];const[s,i]=Zit(),l=Kit[e];if(l){var d,u;return(d=(u=l[i])===null||u===void 0?void 0:u[s])!==null&&d!==void 0?d:l[On][yn]}const f=(n=(r=qP[i])===null||r===void 0?void 0:r[s])!==null&&n!==void 0?n:qP[On][yn];return`${(o=Yit[e])!==null&&o!==void 0?o:e}.${f}`}function YP(e){return`${globalThis.location.protocol}//${Jit(e)}`}function Zit(){var e;const t=(e=globalThis.location)===null||e===void 0?void 0:e.hostname;return t?t.match(/atlassian-fex\.com/)?[Fo,Ine]:t.match(/stg\.atlassian-us-gov-mod\.(com|net)/)?[Fo,Ul]:t.match(/atlassian-stg-fedm\.net/)?[Fo,Ul]:t.match(/atlassian-us-gov-mod\.(com|net)/)?[yn,Ul]:t.match(/stg(\.internal)?\.atlassian\.com/)?[Fo,On]:t.match(/jira-dev\.com/)?[Fo,On]:[yn,On]:[yn,On]}const Qit=()=>typeof window<"u"&&"performance"in window&&!!performance.now,elt=Qit(),tlt=Date.now(),Wn=()=>elt?performance.now():Date.now()-tlt,nlt="peopleTeams",rlt=e=>{const t=window.requestIdleCallback;return typeof t=="function"?t(e):typeof window.requestAnimationFrame=="function"?window.requestAnimationFrame(e):()=>setTimeout(e)},Ane=(e,t)=>{e&&rlt(()=>{e(t).fire(nlt)})},Dne="teamProfileCard",vD="profilecard",One="rovoAgentProfilecard",tl=(e,t,n,r,o={})=>({eventType:e,action:t,actionSubject:n,actionSubjectId:r,attributes:{packageName:"@atlaskit/profilecard",packageVersion:"20.13.1",...o,firedAt:Math.round(Wn())}}),IE=e=>{switch(e){case"user":return vD;case"team":return Dne;case"agent":return One;default:return"user"}},kC=(e,t)=>tl("ui","triggered",IE(e),void 0,{method:t}),IC=(e,t)=>tl("operational",e,Dne,"request",t),TC=(e,t)=>tl("operational",e,vD,"request",t),Mne=(e,t,n)=>tl("ui","rendered",IE(e),t,n),FIt=(e,t)=>tl("ui","clicked",IE(e),"action",t),jIt=e=>tl("ui","clicked",vD,"reportingLines",e),VIt=(e,t)=>tl("ui","clicked",IE(e),"moreActions",t),Mo=(e,t,n)=>tl("operational",e,One,t||"request",n);class olt extends Error{constructor(t,n,r){super(n),this.code=t,this.traceId=r}}class bD extends Error{constructor(t,n,r,o={},a=[]){super(t),this.category=n,this.type=r,this.path=a.join(".");const{errorNumber:s,...i}=o;this.errorNumber=o.errorNumber,this.extensions=i}}class xS extends Error{constructor(t,n){super("DirectoryGraphQLErrors"),this.traceId=n,Array.isArray(t)?this.errors=t.map(r=>new bD(r.message,r.category,r.type,r.extensions,r.path)):this.errors=[]}}class yD extends Error{constructor(t,n,r=[]){super(t),this.path=r==null?void 0:r.join(".");const{statusCode:o,errorType:a,classification:s,...i}=n;this.statusCode=o,this.errorType=a,this.classification=s,this.extensions=i}}class SS extends Error{constructor(t,n){super("AGGErrors"),this.traceId=n,Array.isArray(t)?this.errors=t.map(r=>new yD(r.message,r.extensions,r.path)):this.errors=[]}}const alt=["NotPermitted","Gone","IdentityUserNotFoundError"],slt=["IdentityUserNotFoundError","TEAMS_FORBIDDEN","TEAMS_TEAM_DELETED"],ilt=["Gone"];function S0(e){return e?e instanceof bD?!!e&&alt.includes(e.type):e instanceof yD?!!e.errorType&&slt.includes(e.errorType)||!!e.classification&&ilt.includes(e.classification):!1:!1}const ks=e=>{if(e instanceof xS)return{errorMessage:e.message,errorCount:e.errors.length,errorDetails:e.errors.map(ks),isSLOFailure:!e.errors.every(S0),traceId:e.traceId};if(e instanceof bD)return{errorMessage:e.message,errorCategory:e.category,errorType:e.type,errorPath:e.path,errorNumber:e.errorNumber,isSLOFailure:!S0(e)};if(e instanceof SS)return{errorMessage:e.message,errorCount:e.errors.length,errorDetails:e.errors.map(ks),isSLOFailure:!e.errors.every(S0),traceId:e.traceId};if(e instanceof yD)return{errorMessage:e.message,errorType:e.errorType,errorStatusCode:e.statusCode,isSLOFailure:!S0(e),errorCategory:e.classification};if(e instanceof Error){if(e.message.startsWith("Unable to fetch user:")){if(e.hasOwnProperty("cause")){const t=e.cause;if(t instanceof xS||t instanceof SS)return ks(t)}return{errorMessage:e.message,isSLOFailure:!1}}return{errorMessage:e.message,isSLOFailure:!0}}return{errorMessage:"Unknown error",isSLOFailure:!0}},llt=(e,t)=>{throw new xS(e,t)},clt=(e,t)=>{throw new SS(e,t)},k0=(e,t,n)=>{const r=new Headers({"X-Product":e,"X-Experience-Id":"profile-card","X-Cloudid":t||""});return n&&r.set("Content-Type","application/json"),r};class dlt extends kE{constructor(t){super(t),this.options=t}makeRequest(t,n){const r=this.options.productIdentifier||"rovo",o=k0(r,this.options.cloudId);return t.type==="identity"?fetch(new Request(`/gateway/api/assist/agents/v1/accountid/${t.value}`,{method:"GET",credentials:"include",mode:"cors",headers:o})).then(a=>a.json()):fetch(new Request(`/gateway/api/assist/agents/v1/${t.value}`,{method:"GET",credentials:"include",mode:"cors",headers:o})).then(a=>a.json())}getProfile(t,n){if(!t.value)return Promise.reject(new Error("Id is missing"));if(!this.options.cloudId)return Promise.reject(new Error("cloudId is missing"));const r=this.getCachedProfile(t.value);return r?Promise.resolve(r):new Promise((o,a)=>{const s=Wn();n&&n(Mo("triggered")),this.makeRequest(t,this.options.cloudId||"").then(i=>{this.cache&&this.setCachedProfile(t.value,i),n&&n(Mo("succeeded","request",{duration:Wn()-s,gateway:!0})),o(i)}).catch(i=>{n&&n(Mo("failed","request",{duration:Wn()-s,...ks(i),gateway:!0})),a(i)})})}deleteAgent(t,n){return this.options.cloudId?new Promise((r,o)=>{const a=Wn(),s=this.options.productIdentifier||"rovo";n&&n(Mo("triggered"));const i=k0(s,this.options.cloudId);fetch(new Request(`/gateway/api/assist/agents/v1/${t}`,{method:"DELETE",credentials:"include",mode:"cors",headers:i})).then(()=>{n&&n(Mo("succeeded","deleteAgent",{duration:Wn()-a,gateway:!0})),r()}).catch(l=>{n&&n(Mo("failed","deleteAgent",{duration:Wn()-a,...ks(l),gateway:!0})),o(l)})}):Promise.reject(new Error("cloudId is missing"))}setFavouriteAgent(t,n,r){return this.options.cloudId?new Promise(async(o,a)=>{const s=Wn(),i=this.options.productIdentifier||"rovo",l=n?"favourite":"unfavourite",d=n?"POST":"DELETE";r&&r(Mo("triggered","actionSubjectId"));const u=k0(i,this.options.cloudId);await fetch(new Request(`/gateway/api/assist/agents/v1/${t}/favourite`,{method:d,credentials:"include",mode:"cors",headers:u})).then(()=>{r&&r(Mo("succeeded",l,{duration:Wn()-s,gateway:!0})),o()}).catch(f=>{r&&r(Mo("failed",l,{duration:Wn()-s,...ks(f),gateway:!0})),a(f)})}):Promise.reject(new Error("cloudId is missing"))}getPermissions(t,n){return this.options.cloudId?new Promise((r,o)=>{const a=Wn(),s=this.options.productIdentifier||"rovo";n&&n(Mo("triggered"));const i=k0(s,this.options.cloudId,!0);fetch(new Request(`/gateway/api/assist/api/rovo/v2/permissions/agents/${t}`,{method:"POST",credentials:"include",mode:"cors",headers:i,body:JSON.stringify({permission_ids:["AGENT_CREATE","AGENT_UPDATE","AGENT_DELETE","AGENT_DEACTIVATE","AGENT_READ"]})})).then(l=>l.json()).then(l=>{n&&n(Mo("succeeded","getAgentPermissions",{duration:Wn()-a,gateway:!0})),r(l)}).catch(l=>{n&&n(Mo("failed","getAgentPermissions",{duration:Wn()-a,...ks(l),gateway:!0})),o(l)})}):Promise.reject(new Error("cloudId is missing"))}}const ult=()=>{const e=new Headers;return e.append("Content-Type","application/json"),e},ED=e=>e;async function KP(e,t,n=ED){return $ne(e,t,n,llt)}async function wD(e,t,n=ED){return $ne(e,t,n,clt)}async function $ne(e,t,n=ED,r){var o;const a=n(ult()),s=await fetch(new Request(e,{method:"POST",credentials:"include",mode:"cors",headers:a,body:JSON.stringify(t)})),i=s==null||(o=s.headers)===null||o===void 0?void 0:o.get("atl-traceid");if(!s.ok)throw new olt(s.status,s.statusText,i);const l=await s.json();if(l.errors){var d,u,f;r(l.errors,(d=(u=l.extensions)===null||u===void 0||(f=u.gateway)===null||f===void 0?void 0:f.request_id)!==null&&d!==void 0?d:i)}return l.data}const flt=`query OrgIdFromCloudId($cloudId: ID!) {
	tenantContexts(cloudIds: [$cloudId]) {
		orgId
	}
}`,plt=e=>(e.append("atl-client-name","@atlaskit/profilecard"),e.append("atl-client-version","20.13.1"),e);async function mlt(e,t){const n={query:flt,variables:{cloudId:t}};try{const{tenantContexts:r}=await wD(e,n,plt);return!r||r.length===0||r[0]===null?null:r[0].orgId}catch{return null}}const XP=e=>({query:`
    fragment ReportingLinesUserPII on UserPII {
      name
      picture
    }

    fragment ReportingLinesUserFragment on ReportingLinesUser {
      accountIdentifier
      identifierType
      pii {
        ...ReportingLinesUserPII
      }
    }

    query ReportingLines($aaid: String) {
      reportingLines(aaidOrHash: $aaid) {
        managers {
          ...ReportingLinesUserFragment
        }
        reports {
          ...ReportingLinesUserFragment
        }
      }
    }
  `,variables:{aaid:e}});let JP=new Map;const ZP=new Map,QP=new Map;class hlt extends kE{constructor(t){super(t),this.options=t,this.bypassOnFailure=!1,this.isTCReadyPromise=this.createTcReadyPromise(t),this.isGlobalExperienceWorkspacePromise=this.preloadIsGlobalExperienceWorkspace(t.cloudId),this.orgIdPromise=this.preloadOrgId(t.gatewayGraphqlUrl,t.cloudId,t.orgId)}createTcReadyPromise(t){if(t.cloudId){let n=JP.get(t.cloudId);return n||(n=this.hasTCWorkspace(t),JP.set(t.cloudId,n)),n}return Promise.resolve(!0)}getReportingLines(t){return this.isTCReadyPromise.then(n=>{if(n){if(!t)return Promise.reject(new Error("userId missing"));const r=this.getCachedProfile(t);return r?Promise.resolve(r):this.bypassOnFailure?Promise.resolve({}):new Promise(o=>{this.makeRequest(t).then(a=>{const s={managers:this.filterReportingLinesUser(a==null?void 0:a.managers),reports:this.filterReportingLinesUser(a==null?void 0:a.reports)};this.cache&&this.setCachedProfile(t,s),o(s)}).catch(a=>{((a==null?void 0:a.status)===401||(a==null?void 0:a.status)===403)&&(this.bypassOnFailure=!0),o({})})})}return Promise.resolve({managers:[],reports:[]})},()=>Promise.resolve({managers:[],reports:[]}))}async makeRequest(t){if(et("enable_ptc_sharded_townsquare_calls")){if(this.options.teamCentralDisabled===!0)throw new Error("makeRequest cannot be called when the client has been disabled");const n=XP(t);return(await KP("/gateway/api/watermelon/graphql?operationName=ReportingLines",n)).reportingLines}else{if(!this.options.teamCentralUrl)throw new Error("options.teamCentralUrl is a required parameter for retrieving Team Central data");const n=XP(t);return(await KP(`${this.options.teamCentralUrl}?operationName=ReportingLines`,n)).reportingLines}}checkWorkspaceExists(){return this.isTCReadyPromise.then(t=>t?Promise.resolve(!0):Promise.resolve(!1),()=>Promise.resolve(!1))}getIsGlobalExperienceWorkspace(){return this.isGlobalExperienceWorkspacePromise}getOrgId(){return this.orgIdPromise}preloadIsGlobalExperienceWorkspace(t){if(!et("enable_ptc_sharded_townsquare_calls")||t===void 0)return Promise.resolve(!1);const n=ZP.get(t);if(n!==void 0)return n;const r=this.isGlobalExperienceWorkspaceForCloudId(t);return ZP.set(t,r),r}hasTCWorkspace(t){if(t.cloudId){const n=this.getMaybeShardedApiPath(t.cloudId);return fetch(`${n}/organization/containsAnyWorkspace?cloudId=${t.cloudId}`).then(r=>!r||r&&r.ok)}else return Promise.resolve(!1)}async isGlobalExperienceWorkspaceForCloudId(t){const n=this.getMaybeShardedApiPath(t);try{const r=await fetch(`${n}/workspace/existsWithWorkspaceType?cloudId=${t}`,{credentials:"include"});if(r.ok){const o=await r.text();return Promise.resolve(o==="GLOBAL_EXPERIENCE")}return Promise.resolve(!1)}catch{return Promise.resolve(!1)}}preloadOrgId(t,n,r){if(!et("enable_ptc_sharded_townsquare_calls")||n===void 0)return Promise.resolve(null);if(r!==void 0)return Promise.resolve(r);const o=QP.get(n);if(o!==void 0)return o;const a=mlt(t,n);return QP.set(n,a),a}getMaybeShardedApiPath(t){return`/gateway/api${et("enable_ptc_sharded_townsquare_calls")?`/townsquare/s/${t}`:"/watermelon"}`}filterReportingLinesUser(t=[]){return t.filter(n=>n.identifierType==="ATLASSIAN_ID")}}const glt=e=>{const t=e.indexOf("/");return e.slice(t+1)},vlt=e=>`ari:cloud:identity::team/${e}`,blt=e=>{var t;const{team:n}=e;return{...n,id:glt(n.id),members:(t=n.members)===null||t===void 0?void 0:t.nodes.map(({member:r})=>({id:r.accountId,fullName:r.name,avatarUrl:r.picture}))}},ylt=`
      id
      displayName
      description
      smallHeaderImageUrl
      largeHeaderImageUrl
      smallAvatarImageUrl
      largeAvatarImageUrl
	  isVerified
      members {
        nodes {
          member {
            accountId
            name
            picture
          }
        }
      }
`,Elt=`query TeamCard($teamId: ID!, $siteId: String!) {
  Team: team {
    team: teamV2(id: $teamId, siteId: $siteId) @optIn(to: "Team-v2") {
      ${ylt}
    }
  }
}`,wlt=({teamId:e,siteId:t})=>({query:Elt,variables:{teamId:vlt(e),siteId:t||"None"}}),Clt=e=>(e.append("X-ExperimentalApi","teams-beta"),e.append("X-ExperimentalApi","team-members-beta"),e.append("atl-client-name","@atlaskit/profilecard"),e.append("atl-client-version","20.13.1"),e);async function _lt(e,t,n){const r=wlt({teamId:t,siteId:n}),{Team:o}=await wD(e,r,Clt);return blt(o)}class xlt extends kE{constructor(t){super(t),this.options=t}makeRequest(t,n){if(!this.options.gatewayGraphqlUrl)throw new Error("Trying to fetch via gateway with no specified config.gatewayGraphqlUrl");return _lt(this.options.gatewayGraphqlUrl,t,this.options.cloudId)}getProfile(t,n,r){if(!t)return Promise.reject(new Error("teamId is missing"));const o=this.getCachedProfile(t);return o?Promise.resolve(o):new Promise((a,s)=>{const i=Wn();r&&r(IC("triggered")),this.makeRequest(t,n).then(l=>{this.cache&&this.setCachedProfile(t,l),r&&r(IC("succeeded",{duration:Wn()-i,gateway:!0})),a(l)}).catch(l=>{r&&r(IC("failed",{duration:Wn()-i,...ks(l),gateway:!0})),s(l)})})}}const AC=(e,t)=>{if(!e)return null;try{return yue(new Date,e,t)}catch{return null}},Slt=e=>({query:`query user($userId: ID!) {
		user(accountId: $userId) {
			id
			name
			picture
			accountStatus
			__typename
			... on AtlassianAccountUser {
				email
				nickname
				zoneinfo
				extendedProfile {
					jobTitle
					organization
					location
					closedDate
					inactiveDate
				}
			}
			... on CustomerUser {
				email
				zoneinfo
			}
			... on AppUser {
      			appType
    		}
		}
	}`,variables:{userId:e}}),klt=async(e,t)=>{const n=Slt(t),{user:r}=await wD(e,n);return r};class Ilt extends kE{constructor(t){super(t),this.options=t}async makeRequest(t,n){var r,o,a,s,i;const d=`${this.options.gatewayGraphqlUrl||"/gateway/api/graphql"}?operationName=aggUserQuery`,f=await klt(d,n);let p;const m=new Date().getDay().toString();return f.zoneinfo&&(AC(f.zoneinfo,"i")===m?p=AC(f.zoneinfo,"h:mmbbb")||void 0:p=AC(f.zoneinfo,"eee h:mmbbb")||void 0),{...f,isBot:f.__typename==="AppUser",isAgent:f.appType==="agent",status:f.accountStatus,statusModifiedDate:((r=f.extendedProfile)===null||r===void 0?void 0:r.closedDate)||((o=f.extendedProfile)===null||o===void 0?void 0:o.inactiveDate),avatarUrl:f.picture,email:f.email,fullName:f.name,location:(a=f.extendedProfile)===null||a===void 0?void 0:a.location,meta:(s=f.extendedProfile)===null||s===void 0?void 0:s.jobTitle,nickname:f.nickname,companyName:(i=f.extendedProfile)===null||i===void 0?void 0:i.organization,timestring:p}}getProfile(t,n,r){if(!n)return Promise.reject(new Error("userId missing"));const o=`${t}/${n}`,a=this.getCachedProfile(o);return a?Promise.resolve(a):new Promise((s,i)=>{const l=Wn();r&&r(TC("triggered")),this.makeRequest(t,n).then(d=>{this.cache&&this.setCachedProfile(o,d),r&&r(TC("succeeded",{duration:Wn()-l})),s(d)}).catch(d=>{r&&r(TC("failed",{duration:Wn()-l,...ks(d)})),i(d)})})}}const e8={gatewayGraphqlUrl:"/gateway/api/graphql"};class Tlt{constructor(t,n){var r;const o={...e8,...t,gatewayGraphqlUrl:(r=t.gatewayGraphqlUrl)!==null&&r!==void 0?r:e8.gatewayGraphqlUrl};this.userClient=(n==null?void 0:n.userClient)||new Ilt(o),this.teamClient=(n==null?void 0:n.teamClient)||new xlt(o),this.rovoAgentClient=(n==null?void 0:n.rovoAgentClient)||new dlt(o),this.tcClient=Alt(o,n)}flushCache(){var t,n;this.userClient.flushCache(),this.teamClient.flushCache(),(t=this.tcClient)===null||t===void 0||t.flushCache(),(n=this.rovoAgentClient)===null||n===void 0||n.flushCache()}getProfile(t,n,r){return this.userClient.getProfile(t,n,r)}getTeamProfile(t,n,r){return this.teamClient.getProfile(t,n,r)}getReportingLines(t){var n;return((n=this.tcClient)===null||n===void 0?void 0:n.getReportingLines(t))||Promise.resolve({managers:[],reports:[]})}async getTeamCentralBaseUrl(t){if(!et("enable_ptc_sharded_townsquare_calls")){var n;return Promise.resolve((n=this.tcClient)===null||n===void 0?void 0:n.options.teamCentralBaseUrl)}if(this.tcClient===void 0)return Promise.resolve(void 0);if(!await this.tcClient.getIsGlobalExperienceWorkspace())return Promise.resolve(YP("team"));let o="";if(t!==void 0){const a=await this.tcClient.getOrgId();if(a===null)return Promise.resolve(void 0);o+=`/o/${a}`,t.withSiteContext&&(o+=`/s/${this.tcClient.options.cloudId}`)}return Promise.resolve(`${YP("home")}${o}`)}async shouldShowGiveKudos(){return!this.tcClient||!await this.getTeamCentralBaseUrl()?Promise.resolve(!1):this.tcClient.checkWorkspaceExists()}getRovoAgentProfile(t,n){var r;return(r=this.rovoAgentClient)===null||r===void 0?void 0:r.getProfile(t,n)}getRovoAgentPermissions(t,n){var r;return(r=this.rovoAgentClient)===null||r===void 0?void 0:r.getPermissions(t,n)}deleteAgent(t,n){var r;return(r=this.rovoAgentClient)===null||r===void 0?void 0:r.deleteAgent(t,n)}setFavouriteAgent(t,n,r){var o;return(o=this.rovoAgentClient)===null||o===void 0?void 0:o.setFavouriteAgent(t,n,r)}}function Alt(e,t){return qit()?void 0:t!=null&&t.teamCentralClient?t.teamCentralClient:(et("enable_ptc_sharded_townsquare_calls")?e.teamCentralDisabled!==!0:e.teamCentralUrl)?new hlt({...e}):void 0}const Dlt=800,Olt=200,Mlt=c.lazy(()=>de(()=>import("./ProfileCard-DG_GcODf.js"),__vite__mapDeps([84,1,2,85,5,86,87,3,4,6,7,8,9,10,82,83])));let $lt=function(e){return e.INDIVIDUAL="individual",e.TEAM="team",e}({}),Rlt=function(e){return e.KUDOS_CREATED="kudos-created",e.KUDOS_FAILED="kudos-failed",e.JIRA_KUDOS_CREATED="jira-kudos-created",e.JIRA_KUDOS_FAILED="jira-kudos-failed",e.DIRTY="dirty",e.CLOSE="close",e}({});const BIt=e=>Object.values(Rlt).includes(e),Plt="@atlaskit/blanket",Llt="13.3.0",Nlt={componentName:"blanket",packageName:Plt,packageVersion:Llt},Flt=M({position:"fixed",zIndex:Qt.blanket(),inset:0,backgroundColor:`var(--ds-blanket, ${Yde})`,overflowY:"auto",pointerEvents:"initial"}),jlt=M({pointerEvents:"none"}),Vlt=M({backgroundColor:"transparent"}),Rne=c.memo(c.forwardRef(function({shouldAllowClickThrough:t=!1,isTinted:n=!1,onBlanketClicked:r=ct,testId:o,children:a,analyticsContext:s},i){const l=c.useRef(null),d=Bo({fn:r,action:"clicked",analyticsData:s,...Nlt}),u=c.useCallback(m=>m.currentTarget===m.target&&l.current===m.target?d(m):void 0,[d]),f=t?void 0:u,p=c.useCallback(m=>{l.current=m.target},[]);return k("div",{role:"presentation",css:[Flt,t&&jlt,!n&&Vlt],onClick:f,onMouseDown:p,"data-testid":o,ref:i},a)}));Rne.displayName="Blanket";var CD={},TE={};Object.defineProperty(TE,"__esModule",{value:!0});var Blt=TE.default=void 0,Ult=Pne(c),Hlt=je,zlt=Pne(hc);function Pne(e){return e&&e.__esModule?e:{default:e}}const Lne=e=>Ult.default.createElement(Hlt.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M12.207 5.793a1 1 0 0 1 0 1.414L8.414 11H18a1 1 0 1 1 0 2H8.414l3.793 3.793a1 1 0 1 1-1.415 1.414l-5.499-5.5A1 1 0 0 1 5 12.028v-.057a1 1 0 0 1 .293-.678l5.499-5.5a1 1 0 0 1 1.415 0" clip-rule="evenodd"/></svg>'},e,{newIcon:zlt.default}));Lne.displayName="ArrowLeftIcon";Blt=TE.default=Lne;Object.defineProperty(CD,"__esModule",{value:!0});var _D=CD.default=void 0,Wlt=xD(c),Glt=xD(hc),qlt=xD(TE);function xD(e){return e&&e.__esModule?e:{default:e}}const Nne=e=>Wlt.default.createElement(Glt.default,Object.assign({LEGACY_fallbackIcon:qlt.default},e));Nne.Name="ArrowLeftIconMigration";_D=CD.default=Nne;var AE={},SD={},hg={},Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.pipe=Nn.listenerOptions=void 0;Nn.preventTouchMove=Ylt;Nn.allowTouchMove=Klt;Nn.preventInertiaScroll=Xlt;Nn.isTouchDevice=Jlt;Nn.camelToKebab=Zlt;Nn.parse=Qlt;Nn.getPadding=tct;Nn.getWindowHeight=nct;Nn.getDocumentHeight=rct;Nn.makeStyleTag=oct;Nn.injectStyles=act;Nn.insertStyleTag=sct;var Dc=J1;Nn.listenerOptions={capture:!1,passive:!1};function Ylt(e){return e.preventDefault(),!1}function Klt(e){var t=e.currentTarget;return t.scrollHeight>t.clientHeight?(e.stopPropagation(),!0):(e.preventDefault(),!1)}function Xlt(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Jlt(){return Dc.canUseDOM?"ontouchstart"in window||navigator.maxTouchPoints:!1}function Zlt(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Qlt(e){return isNaN(e)?e:e+"px"}var ect=function(t,n){return function(){return n(t.apply(void 0,arguments))}};Nn.pipe=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.reduce(ect)};function tct(){if(!Dc.canUseDOM)return 0;var e=parseInt(window.getComputedStyle(document.body).paddingRight,10),t=window.innerWidth-document.documentElement.clientWidth;return e+t}function nct(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(Dc.canUseDOM)return window.innerHeight*e}function rct(){if(Dc.canUseDOM)return document.body.clientHeight}function oct(){if(Dc.canUseDOM){var e=document.createElement("style");return e.type="text/css",e.setAttribute("data-react-scrolllock",""),e}}function act(e,t){Dc.canUseDOM&&(e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)))}function sct(e){if(Dc.canUseDOM){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}}Object.defineProperty(hg,"__esModule",{value:!0});hg.TouchScrollable=void 0;var ict=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lct=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t8=c,n8=J1,si=Nn;function cct(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function dct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r8(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function uct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}hg.TouchScrollable=function(e){uct(t,e);function t(){var n,r,o,a;dct(this,t);for(var s=arguments.length,i=Array(s),l=0;l<s;l++)i[l]=arguments[l];return a=(r=(o=r8(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(i))),o),o.getScrollableArea=function(d){o.scrollableArea=d},r),r8(o,a)}return lct(t,[{key:"componentDidMount",value:function(){n8.canUseEventListeners&&(this.scrollableArea.addEventListener("touchstart",si.preventInertiaScroll,si.listenerOptions),this.scrollableArea.addEventListener("touchmove",si.allowTouchMove,si.listenerOptions))}},{key:"componentWillUnmount",value:function(){n8.canUseEventListeners&&(this.scrollableArea.removeEventListener("touchstart",si.preventInertiaScroll,si.listenerOptions),this.scrollableArea.removeEventListener("touchmove",si.allowTouchMove,si.listenerOptions))}},{key:"render",value:function(){var r=this.props,o=r.children,a=cct(r,["children"]);return typeof o=="function"?o(this.getScrollableArea):(0,t8.cloneElement)(o,ict({ref:this.getScrollableArea},a))}}]),t}(t8.PureComponent);var kD={};Object.defineProperty(kD,"__esModule",{value:!0});var fct=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();kD.default=vct;var Fne=c,pct=mct(Fne),Df=Nn;function mct(e){return e&&e.__esModule?e:{default:e}}function hct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o8(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function gct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function vct(e){return function(t){gct(n,t);function n(){var r,o,a,s;hct(this,n);for(var i=arguments.length,l=Array(i),d=0;d<i;d++)l[d]=arguments[d];return s=(o=(a=o8(this,(r=n.__proto__||Object.getPrototypeOf(n)).call.apply(r,[this].concat(l))),a),a.addSheet=function(){var u=a.getStyles(),f=(0,Df.makeStyleTag)();f&&((0,Df.injectStyles)(f,u),(0,Df.insertStyleTag)(f),a.sheet=f)},a.getStyles=function(){var u=a.props.accountForScrollbars,f=(0,Df.getDocumentHeight)(),p=u?(0,Df.getPadding)():null,m=`body {
        box-sizing: border-box !important;
        overflow: hidden !important;
        position: relative !important;
        `+(f?"height: "+f+"px !important;":"")+`
        `+(p?"padding-right: "+p+"px !important;":"")+`
      }`;return m},o),o8(a,s)}return fct(n,[{key:"componentDidMount",value:function(){this.addSheet()}},{key:"removeSheet",value:function(){this.sheet&&(this.sheet.parentNode.removeChild(this.sheet),this.sheet=null)}},{key:"componentWillUnmount",value:function(){this.removeSheet()}},{key:"render",value:function(){return pct.default.createElement(e,this.props)}}]),n}(Fne.PureComponent)}var ID={};Object.defineProperty(ID,"__esModule",{value:!0});var bct=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();ID.default=xct;var jne=c,yct=Ect(jne),a8=J1,Xc=Nn;function Ect(e){return e&&e.__esModule?e:{default:e}}function wct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cct(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _ct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function xct(e){return function(t){_ct(n,t);function n(){return wct(this,n),Cct(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return bct(n,[{key:"componentDidMount",value:function(){!a8.canUseDOM||!(0,Xc.isTouchDevice)()||document.addEventListener("touchmove",Xc.preventTouchMove,Xc.listenerOptions)}},{key:"componentWillUnmount",value:function(){!a8.canUseDOM||!(0,Xc.isTouchDevice)()||document.removeEventListener("touchmove",Xc.preventTouchMove,Xc.listenerOptions)}},{key:"render",value:function(){return yct.default.createElement(e,this.props)}}]),n}(jne.PureComponent)}Object.defineProperty(SD,"__esModule",{value:!0});var Sct=function(){function e(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Vne=c,Bne=TD(Vne),kct=J1,Ict=hg,Tct=kD,Act=TD(Tct),Dct=ID,Oct=TD(Dct),Mct=Nn;function TD(e){return e&&e.__esModule?e:{default:e}}function $ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rct(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Pct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Lct=function(e){Pct(t,e);function t(){return $ct(this,t),Rct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Sct(t,[{key:"componentDidMount",value:function(){kct.canUseDOM&&(this.initialHeight=window.innerHeight)}},{key:"componentWillUnmount",value:function(){var r=window.innerHeight-this.initialHeight;r&&window.scrollTo(0,window.pageYOffset+r),this.initialHeight=window.innerHeight}},{key:"render",value:function(){var r=this.props.children;return r?Bne.default.createElement(Ict.TouchScrollable,null,r):null}}]),t}(Vne.PureComponent),Nct=(0,Mct.pipe)(Oct.default,Act.default),Fct=Nct(Lct),Une=function(t){return t.isActive?Bne.default.createElement(Fct,t):t.children};Une.defaultProps={accountForScrollbars:!0,children:null,isActive:!0};SD.default=Une;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=SD;Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r(t).default}});var n=hg;Object.defineProperty(e,"TouchScrollable",{enumerable:!0,get:function(){return n.TouchScrollable}});function r(o){return o&&o.__esModule?o:{default:o}}})(AE);const jct=_r(AE);function Vct(e,t){const n=c.useRef(!0);c.useEffect(()=>{e&&n.current&&t&&e.current&&e.current.focus(),n.current=!1},[t,e])}const s8={values:["small","medium","large","x-large"],widths:{small:400,medium:600,large:800,"x-large":968},defaultValue:"medium"},DE=60,Bct=gt(),Uct=cc(),Hct=Bct*2,oc=2,Hne=`var(--ds-border, ${Dt})`,zct=`var(--ds-text, ${Ba})`,Wct={danger:`var(--ds-icon-danger, ${bn})`,warning:"var(--ds-icon-warning, #D97008)"},zne=c.createContext(null),Wne=c.createContext(null);function Gct({onOpenComplete:e,onCloseComplete:t}){const n=c.useRef(null),r=c.useCallback(o=>{o==="entering"&&e&&e(n.current,!0),o==="exiting"&&t&&t(n.current)},[e,t]);return[n,r]}function qct(e,{property:t,rule:n,priority:r=""}){const o=e.style.getPropertyValue(t),a=e.style.getPropertyPriority(t);return e.style.setProperty(t,n,r),function(){e.style.setProperty(t,o,a)}}function Yct(e,t){let n,r;try{n=new URL(e),r=new URL(t)}catch{return!1}return n.protocol===r.protocol&&n.host===r.host&&n.port===r.port}function Kct(e){return e.srcdoc||e.src.startsWith("data:")?!1:!Yct(window.location.href,e.src)}const DC=new Map;function Xct(e){const n=Array.from(document.querySelectorAll("iframe")).filter(Kct).map(a=>{let s=DC.get(a);return s?s.count++:(s={reset:qct(a,{property:"pointer-events",rule:"none",priority:"important"}),count:1},DC.set(a,s)),function(){s.count--,s.count<1&&(s.reset(),DC.delete(a))}});function r(){o(),ir(...n)()}const o=e({stop:r})}function AD({watchForInteractionStart:e,watchForInteractionEnd:t}){let n=0,r=null;function o(){Xct(t)}function a(){return n===0&&(r=e({start:o})),n++,function(){var i;n--,n===0&&((i=r)===null||i===void 0||i(),r=null)}}return{registerUsage:a}}function Jct({stop:e}){let t=!1;function n(){t||e()}const r=mt.bindAll(window,[{type:"pointerdown",listener:e},{type:"pointerup",listener:n},{type:"dragstart",listener:n,options:{capture:!1}}],{capture:!0,once:!0}),o=da({onGenerateDragPreview(){t=!0},onDrop(){t=!1,e()}});return ir(r,o)}function Zct({start:e}){return mt.bind(window,{type:"mousedown",listener(t){t.target instanceof HTMLElement&&t.target.closest('[draggable="true"]')&&e()}})}const Qct=AD({watchForInteractionStart:Zct,watchForInteractionEnd:Jct});function edt(){return Qct.registerUsage()}function tdt({dragEnter:e}){const{type:t,relatedTarget:n}=e;return t!=="dragenter"?!1:wc()?_3e({dragEnter:e}):n==null?!0:$q()?Rq(n):n instanceof HTMLIFrameElement}function DD({type:e,value:t}){return!(e===Q5||e===Zd&&t===Nq)}function ndt(e){return Array.from(e.types).filter(t=>DD({type:t,value:e.getData(t)}))}function rdt(e){return Array.from(e.items).filter(t=>t.kind==="file"||DD({type:t.type,value:e.getData(t.type)}))}let kS=!1;const Gne=Z5({typeKey:"external",defaultDropEffect:"copy",mount(e){return mt.bind(window,{type:"dragenter",listener(t){if(kS||!t.dataTransfer||!e.canStart(t)||!tdt({dragEnter:t}))return;const n=ndt(t.dataTransfer);if(!n.length)return;const r={types:n,items:[],getStringData:()=>null};e.start({event:t,dragType:{type:"external",startedFrom:"external",payload:r,getDropPayload(o){if(!o.dataTransfer)return r;const a=rdt(o.dataTransfer),s=o.dataTransfer.getData.bind(o.dataTransfer);return{types:n,items:a,getStringData(i){if(!n.includes(i))return null;const l=s(i);return DD({type:i,value:l})?l:null}}}}})}})}});function qne(e){return Gne.monitor(e)}(function(){if(typeof window>"u")return;Gne.registerUsage();const t={type:"idle"};let n=t;function r(){n.type==="dragging"&&(kS=!1,n.cleanup(),n=t)}function o(){return mt.bindAll(window,[{type:"dragend",listener:r},...J5({onDragEnd:r})],{capture:!0})}mt.bind(window,{type:"dragstart",listener(){n.type==="idle"&&(kS=!0,n={type:"dragging",cleanup:o()})},options:{capture:!0}})})();function odt({start:e}){return qne({onDragStart(){e()}})}function adt({stop:e}){return qne({onDrop(){e()}})}const sdt=AD({watchForInteractionStart:odt,watchForInteractionEnd:adt});function idt(){return sdt.registerUsage()}const ldt="text/html";function cdt(e){var t;if(e.target instanceof Text)return e.target;if(!wc()||!(e.target instanceof HTMLElement)||e.target.draggable||!((t=e.dataTransfer)!==null&&t!==void 0&&t.getData(Zd)))return null;const n=Array.from(e.target.childNodes).find(r=>r.nodeType===Node.TEXT_NODE);return n??null}const i8=Mq(),Yne=Z5({typeKey:"text-selection",defaultDropEffect:"copy",mount(e){return ir(i8.bindEvents(),mt.bind(window,{type:"dragstart",listener(t){if(t.defaultPrevented||!t.dataTransfer||t.dataTransfer.types.includes(Q5)||!e.canStart(t)||!t.dataTransfer.types.includes(Zd))return;const n=cdt(t);if(!n)return;const r={target:n,plain:t.dataTransfer.getData(Zd),HTML:t.dataTransfer.getData(ldt)};e.start({event:t,dragType:{type:"text-selection",startedFrom:"internal",payload:r}})}}))},onPostDispatch:i8.getOnPostDispatch()});(function(){typeof window>"u"||Yne.registerUsage()})();function ddt(e){return Yne.monitor(e)}function udt({stop:e}){let t=!1;function n(){t||e()}let r=null;const o=mt.bindAll(window,[{type:"pointerdown",listener:e},{type:"pointerup",listener:n},{type:"dragstart",listener(){r=requestAnimationFrame(()=>{r=null,n()})},options:{capture:!1}}],{capture:!0,once:!0}),a=ddt({onDragStart(){t=!0},onDrop(){t=!1,e()}});return ir(o,a,function(){r!=null&&cancelAnimationFrame(r)})}function fdt({start:e}){return mt.bind(window,{type:"mousedown",listener(){const t=window.getSelection();t&&(t.isCollapsed||e())}})}const pdt=AD({watchForInteractionStart:fdt,watchForInteractionEnd:udt});function mdt(){return pdt.registerUsage()}const hdt=e=>{if(!e)return"auto";const n=s8.values.indexOf(e.toString())!==-1&&e;return n?`${s8.widths[n]}px`:typeof e=="number"?`${e}px`:e},gdt=e=>e?typeof e=="number"?`${e}px`:e:"auto",vdt=`calc(100vw - ${DE*2}px)`,bdt=`calc(100vh - ${DE*2-1}px)`,ydt=M({display:"flex",width:"100%",maxWidth:"100%",height:"100%",position:"fixed",zIndex:Qt.modal(),flexDirection:"column",insetBlockStart:0,insetInlineStart:0}),Edt=M({height:"auto",position:"relative",[hu.above.xs]:{margin:`${DE}px auto`,pointerEvents:"none"}}),wdt=M({[hu.above.xs]:{maxWidth:vdt,maxHeight:bdt,position:"absolute",insetBlockStart:`${DE}px`,insetInlineEnd:0,insetInlineStart:0,marginInlineEnd:"auto",marginInlineStart:"auto",pointerEvents:"none"}}),Cdt=M({transitionDuration:`${Qm}ms`,transitionProperty:"transform",transitionTimingFunction:qF,"@media (prefers-reduced-motion: reduce)":{animation:"none",transition:"none"}}),_dt=M({transform:"translateY(var(--modal-dialog-translate-y))"}),xdt=M({transform:"none"}),Sdt=e=>{const{children:t,stackIndex:n,shouldScrollInViewport:r,testId:o}=e;return k("div",{style:{"--modal-dialog-translate-y":`${n*(Hct/2)}px`},css:[ydt,Cdt,n>0?_dt:xdt,r?Edt:wdt],"data-testid":o&&`${o}--positioner`},t)},kdt=M({display:"flex",width:"100%",maxWidth:"100vw",height:"100%",minHeight:0,maxHeight:"100vh",flex:"0 1 auto",flexDirection:"column",backgroundColor:`var(--ds-surface-overlay, ${Ve})`,color:zct,[Uz]:`var(--ds-surface-overlay, ${Ve})`,pointerEvents:"auto",[hu.above.xs]:{width:"var(--modal-dialog-width)",maxWidth:"inherit",borderRadius:Uct,boxShadow:`var(--ds-shadow-overlay, ${`0 0 0 1px ${Mn}, 0 2px 1px ${Mn}, 0 0 20px -6px ${Bs}`})`,marginInlineEnd:"inherit",marginInlineStart:"inherit"},"& > form:only-child":{display:"inherit",maxHeight:"inherit",flexDirection:"inherit"}}),Idt=M({minHeight:"100vh",maxHeight:"none",[hu.above.xs]:{minHeight:"var(--modal-dialog-height)"}}),Tdt=M({[hu.above.xs]:{height:"var(--modal-dialog-height)",maxHeight:"inherit"}}),Adt=e=>{const{width:t="medium",shouldScrollInViewport:n=!1,shouldCloseOnEscapePress:r,autoFocus:o,stackIndex:a,onClose:s,onCloseComplete:i,onOpenComplete:l,height:d,children:u,label:f,testId:p}=e,g=`modal-dialog-title-${j1()}`;c.useEffect(()=>ir(edt(),mdt(),idt()),[]),Vct(typeof o=="object"?o:void 0,typeof o=="object");const[v,b]=Gct({onOpenComplete:l,onCloseComplete:i}),y=c.useMemo(()=>({testId:p,titleId:g,onClose:s}),[p,g,s]);exe({onClose:s,isDisabled:!r});const{currentLevel:E}=Pu();return k(Sdt,{stackIndex:a,shouldScrollInViewport:n,testId:p},k(zne.Provider,{value:y},k(Wne.Provider,{value:n},k(eh,{entranceDirection:"bottom",onFinish:b},w=>k(vc,null,k("section",H({},w,{"aria-label":f,ref:Fl([w.ref,v]),style:{"--modal-dialog-width":hdt(t),"--modal-dialog-height":gdt(d)},css:[kdt,n?Idt:Tdt],role:"dialog","aria-labelledby":f?void 0:g,"data-testid":p,"data-modal-stack":a,tabIndex:-1,"aria-modal":!0,"data-ds--level":E}),u))))))},l8={};function Ddt(e){const t=c.useRef(l8);return t.current===l8&&(t.current=e()),t}function Kne(e){return Ddt(()=>e).current}function Odt(e){const t=c.useRef();return c.useEffect(()=>{t.current=e},[e]),t.current}function Mdt(e){const[t,n]=c.useState(e),r=c.useRef(t);return r.current=t,[r,n]}const ii=[];function $dt({onStackChange:e}){const{isExiting:t}=JF(),[n,r]=Mdt(0),o=n.current,a=Odt(n.current),s=Kne(()=>{const i=ii.indexOf(s);n.current!==i&&(r(i),n.current=i)});return c.useEffect(()=>{const i=ii.indexOf(s);!t&&i===-1&&ii.unshift(s),t&&i!==-1&&ii.splice(i,1),ii.forEach(l=>l())},[s,t]),c.useEffect(()=>()=>{const i=ii.indexOf(s);i!==-1&&(ii.splice(i,1),ii.forEach(l=>l()))},[s]),c.useEffect(()=>{a!==void 0&&a!==o&&e(o)},[e,a,o]),o}function c8(){var e,t;return window.pageYOffset||((e=document.documentElement)===null||e===void 0?void 0:e.scrollTop)||((t=document.body)===null||t===void 0?void 0:t.scrollTop)||0}function Rdt(){const[e,t]=c.useState(0);c.useLayoutEffect(()=>{t(c8())},[]);const n=c.useCallback(()=>{c8()!==e&&window.scrollTo(window.pageXOffset,e)},[e]);return c.useEffect(()=>mt.bind(window,{type:"scroll",listener:n}),[n]),e}const Pdt=M({width:"100vw",height:"100vh",position:"fixed",insetBlockStart:"var(--ds-space-0, 0)",insetInlineStart:"var(--ds-space-0, 0)",overflowY:"auto",WebkitOverflowScrolling:"touch"}),Ldt=(e,t)=>e.hasAttribute("data-atlas-extension")?!1:typeof t=="function"?t(e):!0,Ndt=e=>{const{autoFocus:t=!0,focusLockAllowlist:n,shouldCloseOnEscapePress:r=!0,shouldCloseOnOverlayClick:o=!0,shouldScrollInViewport:a=!1,shouldReturnFocus:s=!0,stackIndex:i,onClose:l=Nt,onStackChange:d=Nt,isBlanketHidden:u,children:f,height:p,width:m,onCloseComplete:g,onOpenComplete:v,label:b,testId:y}=e,E=$dt({onStackChange:d}),w=i||E,C=w===0,x=typeof t=="boolean"?t:!1,S=Bo({fn:l,action:"closed",componentName:"modalDialog",packageName:"@atlaskit/modal-dialog",packageVersion:"12.18.1"}),I=c.useCallback($=>{o&&S($)},[o,S]),A=c.useCallback($=>Ldt($,n),[n]);Rdt();const T=k(Rne,{isTinted:!u,onBlanketClicked:I,testId:y&&`${y}--blanket`},k(Adt,{testId:y,label:b,autoFocus:t,stackIndex:w,onClose:S,shouldCloseOnEscapePress:r&&C,shouldScrollInViewport:a,height:p,width:m,onCloseComplete:g,onOpenComplete:v},f));let O=!0,D;return typeof s=="boolean"?O=s:D=()=>{window.setTimeout(()=>{var $;($=s.current)===null||$===void 0||$.focus()},0)},k(Bz,{isDisabled:!1},k(lj,{zIndex:Qt.modal()},k(eh,null,$=>k("div",H({},$,{css:Pdt,"aria-hidden":!C}),k(P5,{autoFocus:x,returnFocus:O,onDeactivation:D,whiteList:A},k(jct,null),a?k(AE.TouchScrollable,null,T):T)))))},OE=()=>{const e=c.useContext(zne);if(e==null)throw Error("@atlaskit/modal-dialog: Modal context unavailable  this component needs to be a child of ModalDialog.");return e},Fdt=M({display:"flex",position:"relative",alignItems:"center",justifyContent:"space-between",marginBlockEnd:-oc,paddingBlockEnd:"var(--ds-space-200, 16px)",paddingBlockStart:"var(--ds-space-300, 24px)",paddingInline:"var(--ds-space-300, 24px)"}),jdt=e=>{const{children:t,testId:n}=e,{testId:r}=OE(),o=n||r&&`${r}--header`;return k("div",{css:Fdt,"data-testid":o},t)},Vdt=M({display:"flex",minWidth:0,margin:"var(--ds-space-0, 0px)",gap:"var(--ds-space-100, 8px)",font:'var(--ds-font-heading-medium, normal 500 20px/24px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),Bdt=M({minWidth:0,flex:"1 1 auto",wordWrap:"break-word"}),Udt=M({flex:"0 0 auto",color:"inherit",fontSize:"inherit",fontStyle:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit"}),Hdt=M({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),zdt=({appearance:e})=>k("span",{css:Udt},k(e==="danger"?Us:Fk,{label:e,color:Wct[e],spacing:"spacious"})),Wdt=e=>{const{appearance:t,children:n,isMultiline:r=!0,testId:o}=e,{titleId:a,testId:s}=OE(),i=o||s&&`${s}--title`;return k("h1",{css:Vdt,"data-testid":i},t&&k(zdt,{appearance:t}),k("span",{id:a,css:[Bdt,!r&&Hdt],"data-testid":i&&`${i}-text`},n))},Gdt=M({display:"inherit",margin:"var(--ds-space-0, 0px)",flex:"inherit",flexDirection:"inherit",flexGrow:1,overflowX:"hidden",overflowY:"auto",[hu.above.xs]:{height:"unset",overflowY:"auto"}}),qdt=M({borderBlockStart:`${oc}px solid ${Hne}`}),Ydt=M({borderBlockEnd:`${oc}px solid ${Hne}`}),Xne=c.forwardRef(({testId:e,children:t},n)=>{const r=c.useRef(null),[o,a]=c.useState(!1),[s,i]=c.useState(!1),[l,d]=c.useState(!1);c.useEffect(()=>{d_(()=>{const p=r.current;p&&d(p.scrollHeight>p.clientHeight)})()},[r]);const u=Kne(d_(()=>{const f=r.current;if(f){const p=f.scrollHeight-f.clientHeight;f.previousElementSibling&&a(f.scrollTop>oc),f.nextElementSibling&&i(f.scrollTop<=p-oc)}}));return c.useEffect(()=>{const f=r.current;u();const p=mt.bind(window,{type:"resize",listener:u}),m=f?mt.bind(f,{type:"scroll",listener:u}):Nt;return()=>{p(),m()}},[u]),k(vc,{isInset:!0},k("div",{tabIndex:l?0:void 0,role:l?"region":void 0,"aria-label":l?"Scrollable content":void 0,"data-testid":e&&`${e}--scrollable`,ref:Fl([n,r]),css:[Gdt,o&&qdt,s&&Ydt]},t))});Xne.displayName="ScrollContainer";function Kdt(){const e=c.useContext(Wne);if(e==null)throw Error("@atlaskit/modal-dialog: Scroll context unavailable  this component needs to be a child of ModalDialog.");return e}const d8=M({flex:"1 1 auto"}),Xdt=M({paddingBlock:oc,paddingInline:"var(--ds-space-300, 24px)"}),Jdt=M({paddingInline:"var(--ds-space-300, 24px)"}),Zdt=e=>{const{children:t,testId:n}=e,{testId:r}=OE(),o=Kdt(),a=n||r&&`${r}--body`;return o?k("div",{css:[d8,Jdt],"data-testid":a},t):k(AE.TouchScrollable,null,k(Xne,{testId:n||r},k("div",{css:[d8,Xdt],"data-testid":a},t)))},Qdt=M({display:"flex",position:"relative",alignItems:"center",justifyContent:"flex-end",gap:"var(--ds-space-100, 8px)",marginBlockStart:-oc,paddingBlockEnd:"var(--ds-space-300, 24px)",paddingBlockStart:"var(--ds-space-200, 16px)",paddingInline:"var(--ds-space-300, 24px)"}),eut=e=>{const{children:t,testId:n}=e,{testId:r}=OE(),o=n||r&&`${r}--footer`;return k("div",{css:Qdt,"data-testid":o},t)},tut=c.lazy(()=>de(()=>import("./main-CQC-4gfa.js"),__vite__mapDeps([88,1,2,89,3,4,5,6,7,8,9,10,69]))),nut=(e=[],t)=>e.filter(n=>{if(n.shouldRender){if(typeof n.shouldRender!="function")return!!n.shouldRender}else return!0;return n.shouldRender(t)}),rut=(e,t,n)=>e||(t?n(u8.label,{fullName:t}):n(u8.fallbackLabel)),u8=xr({fallbackLabel:{id:"profilecard.user.trigger.fallback-aria-label",defaultMessage:"More information about this user",description:"Label for profile card trigger when we do not have user name"},label:{id:"profilecard.user.trigger.aria-label",defaultMessage:"More information about {fullName}",description:"Label for profile card trigger"}}),out=`var(--ds-surface-overlay, ${Ve})`,f8=`var(--ds-background-brand-bold, ${l_})`,p8=`var(--ds-background-disabled, ${Dt})`,Jne=`var(--ds-text-inverse, ${Ve})`,aut=`var(--ds-text, ${mn})`,sut=`var(--ds-background-neutral, ${Ke})`,iut=`var(--ds-text, ${rn})`,Zne=`var(--ds-text, ${mn})`,lut=`var(--ds-text-subtlest, ${wk})`,cut=`var(--ds-text-disabled, ${Wa})`,dut=`var(--ds-text, ${mn})`,uut=`var(--ds-text-subtlest, ${Wa})`,m8=e=>e.noMeta?"var(--ds-space-400, 32px) 0 var(--ds-space-150, 12px) 0":"var(--ds-space-150, 12px) 0 0 0",fut=Ge.div`
	background-color: ${out};
	border-radius: ${"var(--ds-border-radius, 3px)"};
	width: ${gt()*45}px;
`,UIt=Ge.div`
	position: absolute;
	top: ${"var(--ds-space-300, 24px)"};
	left: ${"var(--ds-space-300, 24px)"};
`,HIt=Ge.div`
	flex: 1 0 auto;
`,put=Pr`
  0%   { transform: translate(-80px, -50px); }
  100% { transform: translate(90px, -70px); }
`,mut=Ge.div`
	display: none;
	height: 150px;
	width: 150px;
	z-index: -1;
	position: absolute;
	top: ${gt()*4/yu()}em;
	animation-name: ${put};
	animation-iteration-count: 1;
	animation-duration: 3s;
	background-image: radial-gradient(
		circle,
		${"var(--ds-background-information-pressed, #85B8FF)"} 0%,
		${"var(--ds-background-discovery-pressed, #B8ACF6)"} 25%,
		transparent 50%
	);
	overflow: hidden;
`,zIt=e=>_.createElement(mut,H({className:"kudos-blob-animation"},e)),WIt=Ge.div`
	clip-path: inset(0px 0px 0px 0px round ${cc()}px);
	position: absolute;
	top: 0;
	left: 0;
	bottom: 0;
	right: 0;
`,GIt=Ge.div`
	margin-left: ${"var(--ds-space-100, 8px)"};

	/* Need babel-plugin-emotion to use component selector */
	/* Previously with styled-components: &:hover {KudosBlobAnimation} { */
	&:focus-within .kudos-blob-animation,
	&:focus .kudos-blob-animation,
	&:hover .kudos-blob-animation {
		display: block;
	}
`,qIt=Ge.div`
	user-select: none;
	margin: ${"var(--ds-space-200, 16px)"} 0 0 0;
	text-align: right;
	display: flex;
	justify-content: flex-end;

	button,
	a {
		position: relative;
	}

	button,
	a,
	span {
		margin-left: ${"var(--ds-space-100, 8px)"};

		&:first-child {
			margin-left: ${"var(--ds-space-0, 0px)"};
		}
	}

	a,
	button {
		&:focus {
			outline-color: ${`var(--ds-border-focused, ${vn})`};
			outline-offset: ${"var(--ds-border-width, 2px)"};
			outline-style: solid;
			outline-width: ${"var(--ds-border-width, 2px)"};
		}
	}
`,YIt=Ge.div`
	display: inline-block;
	width: ${"var(--ds-space-400, 32px)"};
	height: ${"var(--ds-space-400, 32px)"};
	margin-left: ${"var(--ds-space-100, 8px)"};

	button {
		&:focus {
			outline-color: ${`var(--ds-border-focused, ${vn})`};
			outline-offset: ${"var(--ds-border-width, 2px)"};
			outline-style: solid;
			outline-width: ${"var(--ds-border-width, 2px)"};
		}
	}
`,KIt=Ge.div`
	display: flex;
	flex-direction: column;
	min-height: ${gt()*17}px;
`,XIt=Ge.div`
	display: flex;
	flex-direction: column;
	margin-left: ${gt()*14.5}px;
	width: ${gt()*24.5}px;
`,JIt=Ge.div`
	font-size: ${Kde()}px;
	color: ${Zne};
	margin: ${"var(--ds-space-150, 12px)"} 0 0 0;
	line-height: 16px;
`,ZIt=Ge.h2`
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;

	font-size: 18px;
	font-weight: 400;
	letter-spacing: normal;
	color: ${e=>e.isDisabledAccount?aut:Jne};
	margin: ${e=>m8(e)};
	line-height: ${24/18}em;
	:first-child {
		margin: ${e=>m8(e)};
	}
`,hut=Ge.div`
	margin-top: ${"var(--ds-space-200, 16px)"};
	text-transform: uppercase;
	display: block;
`,QIt=Ge(hut)`
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
	justify-content: flex-start;
	margin-top: ${"var(--ds-space-150, 12px)"};
	> * {
		margin-top: ${"var(--ds-space-050, 4px)"};
		&:not(:last-child) {
			margin-right: ${"var(--ds-space-050, 4px)"};
		}
	}
`,e5t=Ge.span`
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;

	font-size: 14px;
	color: ${Jne};
	margin: 0 0 ${"var(--ds-space-150, 12px)"} 0;
	line-height: ${24/14}em;
`,t5t=Ge.span`
	background: ${sut};
	color: ${iut};
	border-radius: ${cc()};
	padding: 0 ${"var(--ds-space-075, 6px)"};
	width: fit-content;
	font-weight: bold;
	text-transform: uppercase;

	font-size: 12px;
	margin: ${"var(--ds-space-050, 4px)"} 0 ${"var(--ds-space-150, 12px)"} 0;
	line-height: ${24/14}em;
`,gut=Ge.div`
	align-items: center;
	display: flex;
	height: ${gt()*12}px;
	justify-content: center;
	position: relative;
`,n5t=Ge.div`
	position: relative;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	background-image: linear-gradient(
		to bottom,
		${e=>e.isDisabledUser?p8:f8}
			0%,
		${e=>e.isDisabledUser?p8:f8} 100%
	);
	background-repeat: no-repeat;
	background-size: 100% ${gt()*12}px;
	box-sizing: content-box;
	padding: ${"var(--ds-space-300, 24px)"};
	box-shadow: ${e=>e.withoutElevation?"":`${`var(--ds-shadow-overlay, ${`0 4px 8px -2px ${Vs}, 0 0 1px ${Bs}`})`}`};
	border-radius: ${e=>e.withoutElevation?"":`${cc()}px`};

	overflow: hidden;
`,r5t=Ge.div`
	display: flex;
	align-items: center;
	line-height: 24px;
	font-size: ${gt()*1.5}px;
	margin: ${"var(--ds-space-200, 16px)"} 0 0 0;
	white-space: nowrap;

	& + & {
		margin-top: ${"var(--ds-space-025, 2px)"};
	}
`,o5t=Ge.dt`
	display: flex;
	flex-shrink: 0;
	color: ${lut};
	width: ${"var(--ds-space-200, 16px)"};
	height: ${"var(--ds-space-200, 16px)"};
	padding: ${"var(--ds-space-050, 4px)"};
	vertical-align: top;

	svg {
		width: 100%;
		height: 100%;
	}
`,a5t=Ge.dd`
	overflow: hidden;
	text-overflow: ellipsis;
	color: ${Zne};
	padding-left: ${"var(--ds-space-050, 4px)"};
	margin-inline-start: 0;
	margin-top: 0;
`,vut="ari:cloud:identity::user/",but=e=>e.replace(vut,"");var gg={};Object.defineProperty(gg,"__esModule",{value:!0});var Qne=gg.default=void 0,yut=ere(c),Eut=je,wut=ere(zs);function ere(e){return e&&e.__esModule?e:{default:e}}const tre=e=>yut.default.createElement(Eut.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle cx="12" cy="12" r="10" fill="currentcolor"/><path fill="inherit" d="m13.477 9.113-4.36 4.386a1 1 0 1 0 1.418 1.41l4.36-4.386a1 1 0 0 0-1.418-1.41"/><path fill="inherit" d="m9.084 10.501 4.358 4.377a1 1 0 1 0 1.418-1.411L10.5 9.09a1 1 0 0 0-1.417 1.411"/></g></svg>'},e,{newIcon:wut.default}));tre.displayName="CrossCircleIcon";Qne=gg.default=tre;const Cut=Ge.div({textAlign:"center",padding:"var(--ds-space-300, 24px)",color:cut}),h8=Ge.p({color:dut,lineHeight:`${gt()*3}px`,margin:"var(--ds-space-100, 8px) 0"}),_ut=Ge.span({color:uut});Ge.p(Xde);Ge.p({color:`var(--ds-text-subtlest, ${jt})`,marginTop:"var(--ds-space-100, 8px)"});const xut=e=>{const n=(e.errorType||{reason:"default"}).reason,{fireAnalytics:r,reload:o}=e,a=!!o;c.useEffect(()=>{r(Mne("user","error",{hasRetry:a,errorType:n}))},[n,r,a]);const s=()=>n==="NotFound"?_.createElement(h8,null,"The user is no longer available for the site"):_.createElement(h8,null,"Oops, looks like were having issues",_.createElement("br",null),o&&_.createElement(_ut,null,"Try again and well give it another shot"));return _.createElement(Cut,{"data-testid":"profilecard-error"},_.createElement(Qne,{label:"icon error",size:"xlarge"}),s(),o&&_.createElement(ht,{appearance:"link",onClick:o},"Try again"))},Sut=ie({width:"360px"}),kut=({children:e})=>_.createElement(_e,{xcss:Sut},e),Iut=c.lazy(()=>de(()=>import("./AgentProfileCard-UC37I5t0.js"),__vite__mapDeps([90,1,2,85,69,3,4,5,6,7,8,9,10,91,92,93,83,94]))),Tut=e=>{const[t,n]=c.useState(),[r,o]=c.useState(!1),[a,s]=c.useState(),{createAnalyticsEvent:i}=Kn(),l=c.useCallback(p=>{i&&Ane(i,p)},[i]),d=c.useMemo(()=>(t==null?void 0:t.creator_type)==="CUSTOMER"&&t.creator?but(t.creator):"",[t==null?void 0:t.creator_type,t==null?void 0:t.creator]),u=c.useCallback(async(p,m)=>{if(m)switch(p){case"SYSTEM":return{type:"SYSTEM"};case"THIRD_PARTY":return{type:"THIRD_PARTY",name:m??""};case"CUSTOMER":try{return!d||!e.cloudId?void 0:{type:"CUSTOMER",name:(await e.resourceClient.getProfile(d,e.cloudId,l)).fullName,profileLink:`/people/${d}`,id:d}}catch{return}default:return}},[d,l,e.cloudId,e.resourceClient]),f=c.useCallback(async()=>{o(!0);try{const p=await e.resourceClient.getRovoAgentProfile({type:"identity",value:e.accountId},l),m=await u(p==null?void 0:p.creator_type,(p==null?void 0:p.creator)||void 0);n({...p,creatorInfo:m})}catch(p){s(p)}finally{o(!1)}},[l,u,e.accountId,e.resourceClient]);return c.useEffect(()=>{f()},[f]),a||!r&&!t?_.createElement(kut,null,_.createElement(xut,{reload:()=>{f()},errorType:a||null,fireAnalytics:()=>{}})):_.createElement(c.Suspense,{fallback:null},_.createElement(Iut,{agent:t,isLoading:r,hasError:!!a,isCreatedByViewingUser:d===e.viewingUserId,product:e.product,onConversationStartersClick:e.onConversationStartersClick,onChatClick:e.onChatClick,addFlag:e.addFlag,resourceClient:e.resourceClient,cloudId:e.cloudId}))},Aut=({fireAnalytics:e})=>(c.useEffect(()=>{e(Mne("user","spinner"))},[e]),_.createElement(gut,null,_.createElement(rr,null)));function Dut({profilecardProps:e,userId:t,cloudId:n,resourceClient:r,viewingUserId:o,trigger:a,product:s,isAgent:i,profileCardAction:l,hasError:d,errorType:u,agentActions:f,addFlag:p}){return i&&et("enable_agent_profile_card")?_.createElement(Tut,{accountId:t,cloudId:n,resourceClient:r,viewingUserId:o,trigger:a,product:s,onChatClick:f==null?void 0:f.onChatClick,onConversationStartersClick:f==null?void 0:f.onConversationStartersClick,addFlag:p}):_.createElement(c.Suspense,{fallback:null},_.createElement(Mlt,H({},e,{actions:l,hasError:d,errorType:u,withoutElevation:!0})))}function Out({autoFocus:e,trigger:t="hover",userId:n,cloudId:r,resourceClient:o,actions:a=[],position:s="bottom-start",children:i,testId:l,addFlag:d,onReportingLinesClick:u,ariaLabel:f,ariaLabelledBy:p,prepopulatedData:m,disabledAriaAttributes:g,onVisibilityChange:v,offset:b,viewingUserId:y,product:E,agentActions:w}){const{createAnalyticsEvent:C}=Kn(),{formatMessage:x}=Ee(),S=c.useRef(!1),I=t==="click"?0:Dlt,A=t==="click"?0:Olt,T=c.useRef(0),O=c.useRef(0),[D,$]=c.useState(!1),[L,F]=c.useState(void 0),[B,V]=c.useState(!1),[Y,J]=c.useState(null),[z,ce]=c.useState(null),[le,j]=c.useState(void 0),[Z,K]=c.useState(!1),[oe,X]=c.useState(void 0),[pe,ee]=c.useState(!1),[ne,Q]=c.useState(!1),se=c.useRef(null);c.useEffect(()=>(S.current=!0,()=>{S.current=!1,clearTimeout(T.current),clearTimeout(O.current)}),[]),c.useEffect(()=>{F(void 0),V(!1),J(null),ce(null),j(void 0),K(!1),X(void 0)},[n]);const ue=c.useCallback(Qe=>{S.current&&Ane(C,Qe)},[C]),ve=c.useCallback(()=>{clearTimeout(T.current),clearTimeout(O.current),ne||(O.current=window.setTimeout(()=>{$(!1),v&&v(!1)},A))},[A,ne,v]),ke=c.useCallback(Qe=>{Qe.key&&Qe.key!=="Escape"||(se.current&&se.current.focus(),Q(!1),$(!1),v&&v(!1))},[Q,$,v]),ge=c.useCallback((Qe,en,ut,pn)=>{S.current&&(F(!1),V(!1),ce(Qe),j(en),X(pn),K(ut))},[V,F,ce,j,K]),N=c.useCallback(Qe=>{S.current&&(F(!1),V(!0),J(Qe))},[V,F,J]),R=c.useCallback(async()=>{if(L!==!0){F(!0),V(!1),J(null),ce(null);try{const en=await Promise.all([o.getProfile(r||"",n,ue),o.getReportingLines(n),o.shouldShowGiveKudos(),o.getTeamCentralBaseUrl({withOrgContext:!0,withSiteContext:!0})]);ge(...en)}catch(Qe){N(Qe)}}},[r,ue,L,o,n,ge,N]),P=c.useCallback(()=>{clearTimeout(O.current),clearTimeout(T.current),T.current=window.setTimeout(()=>{D||(R(),$(!0),v&&v(!0))},I)},[I,D,R,v]),W=c.useCallback(Qe=>{Qe.stopPropagation(),P(),D||ue(kC("user","click"))},[ue,P,D]),re=c.useCallback(()=>{P(),D||ue(kC("user","hover"))},[ue,P,D]),be=c.useCallback(Qe=>{(Qe.key==="Enter"||Qe.key===" ")&&(Qe.preventDefault(),Q(!0),P(),D||ue(kC("user","click")))},[ue,P,D]),te=c.useCallback(()=>{P()},[P]),xe=c.useMemo(()=>t==="hover"?{onMouseEnter:re,onMouseLeave:ve,onBlur:ve,onKeyPress:be}:{onClick:W,onKeyPress:be},[ve,W,be,re,t]),he=c.useCallback(()=>nut(a,z),[a,z]),we=()=>{ve(),ee(!0)},$e=()=>{ee(!1)},Fe=L===!0||L===void 0,st=c.useMemo(()=>t==="hover"?{onMouseEnter:re,onMouseLeave:ve,onFocus:te}:{},[ve,te,re,t]),dt={userId:n,fullName:m==null?void 0:m.fullName,isCurrentUser:n===y,clientFetchProfile:R,...z,reportingLines:le,onReportingLinesClick:u,isKudosEnabled:Z,teamCentralBaseUrl:oe,cloudId:r,openKudosDrawer:we,isTriggeredUsingKeyboard:ne,disabledAriaAttributes:g};return _.createElement(_.Fragment,null,_.createElement(Ch,{isOpen:!!D,onClose:Qe=>{ve(),ke(Qe)},placement:s,offset:b??[0,8],content:()=>_.createElement("div",st,Fe?_.createElement(Mut,{fireAnalytics:ue}):D&&_.createElement(Dut,{profilecardProps:dt,isAgent:!!(z!=null&&z.isAgent),userId:n,cloudId:r,resourceClient:o,viewingUserId:y,trigger:t,product:E,profileCardAction:he(),errorType:Y,hasError:B,agentActions:w,addFlag:d})),trigger:Qe=>{const{ref:en,...ut}=Qe,pn=Ze=>{se.current=Ze,typeof en=="function"&&en(Ze)},{"aria-expanded":Je,"aria-haspopup":qt,...Yt}=ut;return _.createElement("span",H({},g?Yt:Qe,xe,{ref:pn,"data-testid":l,"aria-labelledby":p},g?{}:{role:"button",tabIndex:0,"aria-label":rut(f,dt.fullName,x)}),i)},zIndex:Qt.modal(),shouldUseCaptureOnOutsideClick:!0,autoFocus:e??t==="click",shouldRenderToParent:et("enable_appropriate_reading_order_in_profile_card")}),Z&&oe&&_.createElement(c.Suspense,{fallback:null},_.createElement(tut,{isOpen:pe,recipient:{type:$lt.INDIVIDUAL,recipientId:n},analyticsSource:"profile-card",teamCentralBaseUrl:oe,cloudId:r,addFlag:d,onClose:$e})))}const Mut=({fireAnalytics:e})=>_.createElement(fut,{"data-testId":"profilecard.profilecardtrigger.loading"},_.createElement(Aut,{fireAnalytics:e})),$ut=Re.ul.withConfig({displayName:"UserValueView__Container",componentId:"sc-1gk51eo-0"})(["list-style-type:none;padding:0;> li + li{margin-top:",";}"],U("space.075","6px")),Rut=({value:e})=>{const t=fe.useSelector(Fm),{formatMessage:n}=Ee(),r=c.useMemo(()=>Array.isArray(e)?e.map(a=>"accountId"in a&&a.accountId===dr&&t?{_id:wt(),accountId:t}:a):e===dr&&t?[{_id:wt(),accountId:t}]:[],[t,e]),o=new Tlt({url:"/gateway/api/directory/graphql",productIdentifier:"confluence"});return h.jsx($ut,{children:r.filter(rp).map((a,s)=>h.jsxs("li",{children:[s>0&&" ",h.jsx(Out,{resourceClient:o,userId:a.accountId,actions:[{label:n(G["user-value-value.profile-card-view-profile-label"]),callback:()=>window.open(`/wiki/people/${a.accountId}?ref=confluence`,"_blank","noopener,noreferrer")}],viewingUserId:t,children:h.jsx(hm,{accountId:a.accountId,displayName:a.displayName,renderUser:QA})})]},a._id))})};var po=(e=>(e.BASIC="Basic",e.PAGE="Page",e.JIRA="Jira",e.OTHER_DATABASES="Other Databases",e))(po||{}),Ei=(e=>(e[e.READ_ONLY=0]="READ_ONLY",e[e.INLINE_EDIT=1]="INLINE_EDIT",e[e.EDIT=2]="EDIT",e))(Ei||{});let Ob=ore({});function nre(e){Ob=ore(e)}function rre(){return Ob}function So(e){if(!Object.hasOwn(Ob,e))throw new Error(`Unknown field type ${e}.`);return Ob[e]}function g8(e,t){return t in e&&e[t]===!0}function ore(e){const t=g8(e,"databases-frontend-ci2-m1"),n=g8(e,"databases-frontend-live-doc");return{[ae.TEXT]:{...Zn[ae.TEXT],label:Jn(ae.TEXT),shortDescription:G["field-settings.type-text-short-description"],category:"Basic",view:Wit,edit:pnt,editMode:()=>1,popoverEdit:not},[ae.ATTACHMENT]:{...Zn[ae.ATTACHMENT],label:Jn(ae.ATTACHMENT),category:"Basic",view:mit,edit:I6e,editMode:()=>t?1:2,popoverEdit:zat},[ae.NUMBER]:{...Zn[ae.NUMBER],label:Jn(ae.NUMBER),category:"Basic",view:Vit,edit:Tnt,editMode:()=>1,popoverEdit:Mnt},[ae.DATE]:{...Zn[ae.DATE],label:Jn(ae.DATE),category:"Basic",view:xit,edit:r9e,editMode:()=>1},[ae.SELECT]:{...Zn[ae.SELECT],label:Jn(ae.SELECT),shortDescription:G["field-settings.type-tag-short-description"],category:"Basic",view:Hit,edit:Zrt,popoverEdit:Zst,editMode:()=>1},[ae.USER]:{...Zn[ae.USER],label:Jn(ae.USER),shortDescription:G["field-settings.type-user-short-description"],category:"Basic",view:Rut,edit:vat,editMode:()=>1,popoverEdit:ait},[ae.HYPERLINK]:{...Zn[ae.HYPERLINK],label:Jn(ae.HYPERLINK),shortDescription:G["field-settings.type-link-short-description"],category:"Basic",view:Rit,edit:gnt,popoverEdit:tst,editMode:()=>1},[ae.CHECKBOX]:{...Zn[ae.CHECKBOX],label:Jn(ae.CHECKBOX),shortDescription:G["field-settings.type-checkbox-short-description"],category:"Basic",view:$R,edit:r=>h.jsx($R,{recursionCount:0,...r}),editMode:()=>1},[ae.PAGE_LINK]:{...Zn[ae.PAGE_LINK],label:Jn(ae.PAGE_LINK,n),shortDescription:n?G["field-settings.type-content-link-short-description"]:G["field-settings.type-page-link-short-description"],category:"Page",view:Uit,edit:$st,editMode:()=>1,popoverEdit:Fst},[ae.PAGE_STATUS]:{...Zn[ae.PAGE_STATUS],label:Jn(ae.PAGE_STATUS,n),description:n?G["field-settings.type-page-and-live-doc-status-description"]:G["field-settings.type-page-status-description"],shortDescription:n?G["field-settings.type-content-status-short-description"]:G["field-settings.type-page-status-short-description"],errorDescription:n?G["field-settings.type-status-error-description"]:G["field-settings.type-page-status-error-description"],category:"Page",view:r=>h.jsx(SC,{...r}),edit:urt,editMode:({database:r,field:o,entry:a},s)=>!o.settings.allowEdit||Nm({database:r,field:o,entry:a},s).length===0?0:1,popoverEdit:Wst},[ae.PAGE_LABELS]:{...Zn[ae.PAGE_LABELS],label:Jn(ae.PAGE_LABELS,n),description:n?G["field-settings.type-page-and-live-doc-label-description"]:G["field-settings.type-page-label-description"],shortDescription:n?G["field-settings.type-content-label-short-description"]:G["field-settings.type-page-label-short-description"],errorDescription:n?G["field-settings.type-label-error-description"]:G["field-settings.type-page-label-error-description"],category:"Page",view:r=>h.jsx(SC,{...r}),edit:Unt,editMode:({database:r,field:o,entry:a},s)=>!o.settings.allowEdit||Lm({database:r,field:o,entry:a},s).length===0?0:1,popoverEdit:vst},[ae.PAGE_DETAILS]:{...Zn[ae.PAGE_DETAILS],label:Jn(ae.PAGE_DETAILS,n),description:n?G["field-settings.type-page-and-live-doc-details-description"]:G["field-settings.type-page-details-description"],shortDescription:n?G["field-settings.type-content-details-short-description"]:G["field-settings.type-page-details-short-description"],errorDescription:n?G["field-settings.type-details-error-description"]:G["field-settings.type-page-details-error-description"],category:"Page",view:r=>h.jsx(SC,{...r}),edit:()=>null,editMode:()=>0},[ae.ENTRY_LINK]:{...Zn[ae.ENTRY_LINK],label:Jn(ae.ENTRY_LINK),description:G["field-settings.type-entry-link-description"],shortDescription:G["field-settings.type-entry-link-short-description"],category:"Other Databases",view:Oit,edit:qtt,popoverEdit:Xat,editMode:()=>1},[ae.ENTRY_DETAILS]:{...Zn[ae.ENTRY_DETAILS],label:Jn(ae.ENTRY_DETAILS),description:G["field-settings.type-entry-details-description"],shortDescription:G["field-settings.type-entry-details-short-description"],errorDescription:G["field-settings.type-entry-details-error-description"],category:"Other Databases",view:Ait,edit:()=>null,editMode:()=>0},[ae.BACKLINK]:{...Zn[ae.BACKLINK],label:Jn(ae.BACKLINK),description:G["field-settings.type-entry-backlink-description"],shortDescription:G["field-settings.type-entry-backlink-short-description"],category:"Other Databases",view:hit,edit:()=>null,editMode:()=>0},[ae.JIRA_ISSUE]:{...Zn[ae.JIRA_ISSUE],label:Jn(ae.JIRA_ISSUE),shortDescription:G["field-settings.type-jira-issue-short-description"],category:"Jira",view:Fit,edit:knt,editMode:()=>1,popoverEdit:ist},[ae.JIRA_ISSUE_DETAILS]:{...Zn[ae.JIRA_ISSUE_DETAILS],label:Jn(ae.JIRA_ISSUE_DETAILS),description:G["field-settings.type-jira-issue-details-description"],shortDescription:G["field-settings.type-jira-issue-details-short-description"],errorDescription:G["field-settings.type-jira-issue-details-error-description"],category:"Jira",view:Lit,edit:r=>null,editMode:()=>0}}}function s5t(e){nre(e)}function i5t(){const e=Vi.resolve("EventBus");e.register(fue,()=>new Fet(e)),e.register(Cv,()=>{const t=Vi.resolve("FlagsManager");return new Let(t)}),e.register(pue,()=>new jet(nre))}var Es;class Put{constructor(){ya(this,Es,new Map)}register(t,n){var r;Ne(this,Es).has(t)||Ne(this,Es).set(t,[]),this.remove(t,n),(r=Ne(this,Es).get(t))==null||r.push(n)}dispatch(t){const n=t.constructor,r=Ne(this,Es).get(n);!r||r.length===0||r.forEach(o=>{try{o().handle(t)}catch(a){wF(a)}})}remove(t,n){const r=Ne(this,Es).get(t);if(!r)return;const o=r.indexOf(n);o!==-1&&r.splice(o,1)}clear(){Ne(this,Es).clear()}}Es=new WeakMap;function l5t(){Vi.registerSingleton("FlagsManager",()=>new Hue),Vi.registerSingleton("EventBus",()=>new Put)}var are={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(aa,function(){function n(){}return n.prototype.encodeReserved=function(r){return r.split(/(%[0-9A-Fa-f]{2})/g).map(function(o){return/%[0-9A-Fa-f]/.test(o)||(o=encodeURI(o).replace(/%5B/g,"[").replace(/%5D/g,"]")),o}).join("")},n.prototype.encodeUnreserved=function(r){return encodeURIComponent(r).replace(/[!'()*]/g,function(o){return"%"+o.charCodeAt(0).toString(16).toUpperCase()})},n.prototype.encodeValue=function(r,o,a){return o=r==="+"||r==="#"?this.encodeReserved(o):this.encodeUnreserved(o),a?this.encodeUnreserved(a)+"="+o:o},n.prototype.isDefined=function(r){return r!=null},n.prototype.isKeyOperator=function(r){return r===";"||r==="&"||r==="?"},n.prototype.getValues=function(r,o,a,s){var i=r[a],l=[];if(this.isDefined(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),s&&s!=="*"&&(i=i.substring(0,parseInt(s,10))),l.push(this.encodeValue(o,i,this.isKeyOperator(o)?a:null));else if(s==="*")Array.isArray(i)?i.filter(this.isDefined).forEach(function(u){l.push(this.encodeValue(o,u,this.isKeyOperator(o)?a:null))},this):Object.keys(i).forEach(function(u){this.isDefined(i[u])&&l.push(this.encodeValue(o,i[u],u))},this);else{var d=[];Array.isArray(i)?i.filter(this.isDefined).forEach(function(u){d.push(this.encodeValue(o,u))},this):Object.keys(i).forEach(function(u){this.isDefined(i[u])&&(d.push(this.encodeUnreserved(u)),d.push(this.encodeValue(o,i[u].toString())))},this),this.isKeyOperator(o)?l.push(this.encodeUnreserved(a)+"="+d.join(",")):d.length!==0&&l.push(d.join(","))}else o===";"?this.isDefined(i)&&l.push(this.encodeUnreserved(a)):i===""&&(o==="&"||o==="?")?l.push(this.encodeUnreserved(a)+"="):i===""&&l.push("");return l},n.prototype.parse=function(r){var o=this,a=["+","#",".","/",";","?","&"];return{expand:function(s){return r.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(i,l,d){if(l){var u=null,f=[];if(a.indexOf(l.charAt(0))!==-1&&(u=l.charAt(0),l=l.substr(1)),l.split(/,/g).forEach(function(m){var g=/([^:\*]*)(?::(\d+)|(\*))?/.exec(m);f.push.apply(f,o.getValues(s,u,g[1],g[2]||g[3]))}),u&&u!=="+"){var p=",";return u==="?"?p="&":u!=="#"&&(p=u),(f.length!==0?u:"")+f.join(p)}else return f.join(",")}else return o.encodeReserved(d)})}}},new n})})(are);var Lut=are.exports;const nf=_r(Lut),Nut=204,Fut=503,jut=["bitbucket-pipelines.dev.public.atl-paas.net","bitbucket-pipelines.staging.public.atl-paas.net","bitbucket-pipelines.prod.public.atl-paas.net"],Vut=60;async function But(e){if(!e.ok)throw Error(`${e.status}: ${await e.text()}`);return e}async function sre(e){return e.ok||await e.text(),e}function Uut(e){const t=e.headers.get("X-Failure-Category"),n=!!t&&t.toLowerCase()==="throttled";return e.status===Fut&&n}function Hut(e,t,n=Uut){return Wut(e,n,zut(t))}function OD(e,t){return Hut(e,t,n=>n.status>=500&&n.status<=599)}function zut(e){return{...e,credentials:jut.includes(location.host)?"include":"same-origin"}}function ire(e,t,n){return e.then(r=>t(r)?n():Promise.resolve(r)).catch(n)}function Wut(e,t,n){return ire(fetch(e,n),t,()=>lre(e,t,n))}function lre(e,t,n,r=0){return ire(qut(e,r,n),t,()=>lre(e,t,n,Math.min(r===0?1:r*2,Vut)))}const Gut=5e3;function qut(e,t,n){const r=Math.round(Math.random()*Gut),o=t?t*60*1e3+r:0;return new Promise((a,s)=>{setTimeout(()=>{fetch(e,n).then(a).catch(s)},o)})}const Yut="2",Kut=nf.parse("/engage-targeting/api/v2/user/{cloudId}/in-product-messages{?product,schema,locale}");async function Xut(e,t,n,r){return OD(`${t}${Kut.expand({cloudId:e,product:n,schema:Yut,locale:r})}`).then(But).then(o=>o.json().then(a=>({messages:a,interval:Number.parseFloat(o.headers.get("POLL-INTERVAL")||"0")})))}function cre(e){return e.status===Nut}const Jut=nf.parse("/engage-targeting/api/v2/user/messages/{messageId}/start"),Zut=nf.parse("/engage-targeting/api/v2/user/messages/{messageId}/start/{variationId}");async function v8(e){const t={cloudId:e.cloudId,orgId:e.orgId,workspaceId:e.workspaceId};return OD(e.variationId?`${e.stargateUrl}${Zut.expand({messageId:e.messageId,variationId:e.variationId})}`:`${e.stargateUrl}${Jut.expand({messageId:e.messageId})}`,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(sre).then(cre)}const Qut=nf.parse("/engage-targeting/api/v2/user/messages/{messageId}/stop");async function dre(e){const t={cloudId:e.cloudId,orgId:e.orgId,workspaceId:e.workspaceId};return OD(`${e.stargateUrl}${Qut.expand({messageId:e.messageId})}`,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(sre).then(cre)}nf.parse("/engage-targeting/api/v2/user/{cloudId}/messages/{messageId}/response");nf.parse("/engage-targeting/api/v2/user/messages/{messageId}/seen");const eft="fedramp-moderate";function tft(){var e,t;const n=globalThis.MICROS_PERIMETER||globalThis.UNSAFE_ATL_CONTEXT_BOUNDARY;if(n)return n===eft;const r=(e=globalThis.location)===null||e===void 0||(t=e.hostname)===null||t===void 0?void 0:t.match(/atlassian-us-gov-mod\.(com|net)|atlassian-us-gov\.(com|net)|atlassian-fex\.(com|net)|atlassian-stg-fedm\.(com|net)/);return r?r.length>0:!1}function ure(){return!tft()}function nft(e){const t=_.createContext(!1);return function(r){return _.createElement(t.Consumer,null,o=>o?r.children:_.createElement(t.Provider,{value:!0},_.createElement(e,r)))}}function fre(e=!1){return{isCancelled:e}}const pre="SET_MESSAGE_MAPPING",mre="SET_INITIALIZING",hre="RESET_STORE",gre="CLEAR_CURRENT",vre="SET_CURRENT",rft=()=>({type:hre}),oft=e=>({type:mre,config:e}),aft=e=>({type:pre,messageMapping:e});function b8(e){return{type:vre,eventMapping:e}}function sft(){return{type:gre}}const ift=e=>{const t=new Map;return e.forEach(n=>{const r=n.components;r.forEach((o,a)=>{o.triggers.forEach(s=>{t.set(s,{message:n,component:{componentId:a,isLast:a===r.length-1,...o}})})})}),t};async function bre(e,t,n){if(n.isCancelled)return;const r=vl.getState(),{cloudId:o,stargateUrl:a,product:s,locale:i}=t;let l,d;try{const u=await Xut(o,a,s,i);if(n.isCancelled)return;l=u.messages,d=u.interval}catch{return}if(r.current===null){const u=ift(l);e.dispatch(aft(u))}d!==0&&setTimeout(()=>{bre(e,t,n)},d*1e3)}const y8={messageMapping:new Map,current:null,initialized:!1,initializing:!1,config:{cloudId:"",aaid:"",locale:"",product:"",stargateUrl:"",orgId:"",workspaceId:""}};let OC=fre();function lft(e,t){const n=new Map;return e.forEach((r,o)=>{la(r.component,t)||n.set(o,r)}),n}const vl=B4((e=y8,t)=>{switch(t.type){case pre:return{...e,initialized:!0,initializing:!1,messageMapping:t.messageMapping};case mre:return{...e,config:t.config,initializing:!0};case vre:{const{eventMapping:n}=t,{message:r,component:o}=n,a=lft(e.messageMapping,o);return{...e,current:{messageId:r.messageId,variationId:r.variationId,...o},messageMapping:a}}case gre:return{...e,current:null};case hre:return y8;default:return e}}),cft=e=>{const t=vl.getState();if(t.initializing||t.initialized){if(t.config.cloudId===e.cloudId)return vl;OC.isCancelled=!0,OC=fre(),vl.dispatch(rft())}const n={...e};return n.locale=n.locale.replace("_","-"),vl.dispatch(oft(n)),ure()&&bre(vl,n,OC),vl};var dft=typeof self=="object"&&self.self===self&&self||typeof aa=="object"&&aa.global===aa&&aa||aa;const uft=_r(dft);function fft(e,t){Promise.resolve(e).then(n=>{n.sendScreenEvent(t)})}function pft(e,t){Promise.resolve(e).then(n=>{n.sendUIEvent(t)})}function mft(e,t){Promise.resolve(e).then(n=>{n.sendOperationalEvent(t)})}const hft=[{name:"IE",pattern:/Trident\/.*; rv:([^;)]+)/},{name:"Chrome",pattern:/Chrome\/([^ )]+)/},{name:"Firefox",pattern:/Firefox\/([^ )]+)/}],E8={name:"unknown",version:"unknown"};function gft(e){if(!window.navigator)return E8;e||(e=window.navigator.userAgent);for(const t of hft){const n=e.match(t.pattern);if(n)return{name:t.name,version:n[1]}}return E8}const vft=({eventName:e,canBubble:t,cancellable:n,detail:r})=>{const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,t,n,r),o};class bft{constructor(t){this.queue=[],this.maxSize=t}enqueue(t){return this.queue.length===this.maxSize?!1:(this.queue.push(t),!0)}flush(t){this.queue.forEach(t),this.queue=[]}getSize(){return this.queue.length}}const yft=100,Eft="engagement.inproduct.loaded",wft="ep.analyticEvent";function Cft(e){const t={...e.payload,context:{}};return Object.assign(t.context,...e.context),t}function _ft(e,t){return Array.from(e.keys()).find(n=>Sue(t,n))}function MC(e,t){const n=new ay({payload:{action:"exposed",actionSubject:"feature",actionSubjectId:e.flagKey,source:"engagement-platform",attributes:e}});Promise.resolve(t).then(r=>{r.sendTrackEvent(n.payload)})}function $C(e,t,n){return{reason:"RULE_MATCH",ruleId:"engagement.inproduct",flagKey:`engagement.inproduct.${e}`,value:t,...n}}function xft(e,t,n,r){return{messageId:e,variationId:t,componentIndex:n,locale:r}}async function Sft(e,t,n,r){const{locale:o}=t,{message:a,component:s}=e;if(a.holdout){await v8({cloudId:t.cloudId,stargateUrl:t.stargateUrl,messageId:a.messageId,variationId:a.variationId,orgId:t.orgId,workspaceId:t.workspaceId}),await dre({cloudId:t.cloudId,stargateUrl:t.stargateUrl,messageId:a.messageId,orgId:t.orgId,workspaceId:t.workspaceId}),MC($C(a.messageId,"holdout",{locale:o}),r);return}s.componentId===0?await v8({cloudId:t.cloudId,stargateUrl:t.stargateUrl,messageId:a.messageId,variationId:a.variationId,orgId:t.orgId,workspaceId:t.workspaceId})&&(MC($C(a.messageId,a.variationId,{locale:o}),r),n.dispatch(b8(e))):(MC($C(a.messageId,a.variationId,{locale:o}),r),n.dispatch(b8(e)))}let ME=class IS extends c.Component{constructor(t){super(t),q(this,"onStoreChange",r=>{const{createAnalyticsEvent:o}=this.props,a=this.getConfig(),{locale:s}=a;if(r.initialized){if(!IS.hasInitializedAtLeastOneEngagementProvider){this.sendOperationalEventWithClient({action:"loaded",actionSubject:"messages",actionSubjectId:void 0,source:"engagekit",attributes:{locale:s}});const i=gft();this.onEvent(o({event:Eft,properties:{browser:i.name,browserVersion:i.version}})),IS.hasInitializedAtLeastOneEngagementProvider=!0}this.analyticsEventQueue.flush(this.onEvent),this.unsubscribeFromStore&&this.unsubscribeFromStore()}}),q(this,"onEvent",r=>{const o=this.getState();if(!o.initialized){this.analyticsEventQueue.enqueue(r)||this.fireQueueOverflowEvent();return}const{eventTarget:a,store:s,analyticsClientInstance:i}=this.props,l=this.getConfig(),{current:d,messageMapping:u}=o,f=Cft(r);if(a.dispatchEvent(vft({eventName:wft,canBubble:!1,cancellable:!1,detail:f})),!ure()||d)return;const p=_ft(u,f);p&&Sft(u.get(p),l,s,i)}),q(this,"onEngagementEvent",r=>{const{action:o,clickType:a,ekMessageId:s,ekVariationId:i,ekComponentId:l,ekComponentType:d,ekIsLast:u}=r.payload,f=this.getConfig(),{locale:p}=f,m=xft(s,i,l,p);o==="click"?(this.handleClickEvent(s,i,l),m.buttonType=a,this.sendUIEventWithClient({action:"clicked",actionSubject:"button",actionSubjectId:`${a}Button`,source:`engagement_${d}`,attributes:m})):(o==="shown"&&(m.componentType=d,this.sendScreenEventWithClient({name:`engagement_${d}`,attributes:m})),o==="hidden"&&(m.isLast=u,this.sendUIEventWithClient({action:"hid",actionSubject:"component",actionSubjectId:void 0,source:`engagement_${d}`,attributes:m}))),this.onEvent(r)}),q(this,"subscribeEngagementState",r=>{const{store:o}=this.props;return r(o.getState()),o.subscribe(()=>{r(o.getState())})});const{analyticsClientInstance:n}=this.props;this.sendUIEventWithClient=pft.bind(null,n),this.sendScreenEventWithClient=fft.bind(null,n),this.sendOperationalEventWithClient=mft.bind(null,n),this.analyticsEventQueue=new bft(yft),this.unsubscribeFromStore=this.subscribeEngagementState(this.onStoreChange),this.fireQueueOverflowEvent=xue(()=>{})}getConfig(){const{config:t}=this.getState();return t}getChildContext(){return{subscribeEngagementState:this.subscribeEngagementState}}getState(){return this.props.store.getState()}getActiveMessage(){return this.getState().current}completeMessage(t){const n=this.getConfig();dre({cloudId:n.cloudId,stargateUrl:n.stargateUrl,messageId:t,orgId:n.orgId,workspaceId:n.workspaceId})}handleClickEvent(t,n,r){const o=this.getActiveMessage();!o||o.messageId!==t||o.variationId!==n||o.componentId!==r||(o.isLast&&this.completeMessage(t),this.props.store.dispatch(sft()))}componentWillUnmount(){this.unsubscribeFromStore&&this.unsubscribeFromStore()}render(){return _.createElement(B6,{channel:"*",onEvent:this.onEvent},_.createElement(B6,{channel:"engagement",onEvent:this.onEngagementEvent},this.props.children))}};q(ME,"childContextTypes",{subscribeEngagementState:Lt.func});q(ME,"defaultProps",{eventTarget:uft});q(ME,"hasInitializedAtLeastOneEngagementProvider",!1);const kft=SAe()(ME),Ift=e=>_.createElement(kft,H({},e,{store:cft(e.config)})),Tft=nft(Ift);function yre(e,{contentId:t,fieldId:n,entryId:r}){const o=Vt(e,{contentId:t});if(!o||Ht(o))return;const a=or(o,r),s=Un(o,n);if(!a||!s)return;const i=o.commentThreads,l=Va(r,n);if(l in i)return i[l]}function Aft(e,{contentId:t,fieldId:n,entryId:r}){const o=yre(e,{contentId:t,fieldId:n,entryId:r});if(o)return o.filter(a=>!a.isResolved)}function Ere(e,{contentId:t,threadId:n}){const r=Vt(e,{contentId:t});if(!r||Ht(r))return;const o=r.commentThreads;for(const[a,s]of Object.entries(o))if(s.find(i=>i.threadId===n))return a}function Dft(e,{contentId:t}){try{const n=Hn(e,{contentId:t});return!n||Ht(n)?[]:n.entries.flatMap(o=>n.fields.flatMap(a=>{const s=yre(e,{contentId:t,fieldId:a,entryId:o});return s?s.filter(i=>!i.isResolved).map(i=>({...i,valueId:Va(o,a)})):[]}))}catch(n){return n instanceof Error&&$r("Error selecting visible unresolved threads",n),[]}}const Oft=async(e,t)=>{var r,o;const n=`
  query CommentsQuery($commentId: ID!, $pageId: ID!) {
    comments(commentId: $commentId, pageId: $pageId) {
      count
      nodes {
        id
        parentId
        location {
        type
          ... on InlineComment {
            inlineMarkerRef
          }
        }
      }
    }
  }
  `;try{const s=await(await fetch("/cgraphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n,variables:{commentId:t,pageId:e}})})).json();if(!s||typeof s!="object")throw new Error("Response is not a valid JSON object");const{data:i}=s;if(!Array.isArray((r=i==null?void 0:i.comments)==null?void 0:r.nodes)||i.comments.nodes.length===0)throw new Error("Comments data is not valid or empty");const l=i.comments.nodes[0];if(typeof l!="object"||((o=l==null?void 0:l.location)==null?void 0:o.type)!=="INLINE")throw new Error("First comment is not an inline comment");return i.comments.nodes[0].location.inlineMarkerRef}catch(a){a instanceof Error&&$r("Error fetching comment",a);return}},wre=c.createContext({openThread:{valueId:void 0},setOpenThread:()=>{},focusedCommentThreadId:void 0,setFocusedCommentThreadId:()=>{},allThreads:[]}),Mft=({children:e})=>{const[t,n]=c.useState({valueId:void 0}),[r,o]=c.useState(OO()),{contentId:a}=An(),s=fe.useStore();c.useEffect(()=>{if(!a)return;const d=OO();d&&Oft(a,d).then(u=>{o(u)})},[a]);const i=fe.useEqualSelector(d=>{if(!a)return;const u=Vt(d,{contentId:a});if(!(!u||Ht(u)))return u.commentThreads}),l=c.useMemo(()=>!a||!i?[]:Dft(s.getState(),{contentId:a}),[a,i,s]);return h.jsx(wre.Provider,{value:{openThread:t,setOpenThread:n,focusedCommentThreadId:r,setFocusedCommentThreadId:o,allThreads:l},children:e})},bl=xr({"snackbar-message.online":{id:"snackbar-message.online",defaultMessage:"Youre back online! Your changes are now synced.",description:"This message is displayed to the user when their network connection is restored."},"snackbar-message.offline":{id:"snackbar-message.offline",defaultMessage:"Looks like youre offline. Well sync any offline changes when youre back.",description:"This message is displayed to the user when their network connection is lost."},"snackbar-message.readOnlyModeActive":{id:"snackbar-message.readOnlyModeActive",defaultMessage:"You have view only access.",description:"This message is displayed to the user when the permissions have been updated and now they only have view access."},"snackbar-message.viewToEditAccess":{id:"snackbar-message.viewToEditAccess",defaultMessage:"Access updated. You now have edit access.",description:"This message is displayed to the user when their permissions have been upgraded from view to edit access."},"snackbar-message.editToViewAccess":{id:"snackbar-message.editToViewAccess",defaultMessage:"Access updated. You now have view access.",description:"This message is displayed to the user when their permissions have been downgraded from edit to view access."},"snackbar-message.editToViewOfflineChangesDiscarded":{id:"snackbar-message.editToViewOfflineChangesDiscarded",defaultMessage:"You no longer have edit access to this database. We reverted edits you made while offline.",description:"This message is displayed to the user when their network connection is restored and they no longer have edit access. Because they no longer have permission, their changes are discarded."},"snackbar-message.viewingHistoricVersion":{id:"snackbar-message.viewingHistoricVersion",defaultMessage:"Viewing {versionName}",description:"This message is displayed to the user when they are viewing a historic version in the version history."}}),$ft={saved:"Changes saved",saving:"Saving...",offline:"Youre offline. Well sync changes when youre back."},RC=1e3,PC=2e3,w8=2500,Rft=4e3,C8=5e3,_8=1e4,xa="content-sync-status",Pft=(e,t)=>{const{connectionStatus:n,boardSyncStatus:r}=_u(BN),o=c.useRef(!1),a=c.useRef(),s=c.useRef(),i=c.useRef(),l=r==="saved"||r==="editToViewAccess"||r==="viewToEditAccess"||r==="editToViewOfflineChangesDiscarded"?"hidden":r,[d,u]=c.useState(l);return c.useEffect(()=>{let f;return a.current!=="offline"&&n==="offline"&&(f=setTimeout(()=>{o.current=!0,tn.setMessage(t.offline,{id:xa})},_8)),o.current&&a.current==="offline"&&n==="online"&&(f=setTimeout(()=>{o.current=!1,tn.setMessage(t.online,{id:xa}),f=setTimeout(()=>{tn.clearMessage(xa)},PC)},RC)),()=>clearTimeout(f)},[n,t.offline,t.online]),c.useEffect(()=>{let f;if(e!==i.current){tn.clearMessage(xa),r==="editToViewAccess"&&tn.setMessage(t.readOnlyModeActive,{id:xa,showCloseButton:!0,showAfter:PC});return}if(Lft(r,s.current)&&n==="online"){r==="editToViewAccess"?(tn.setMessage(t.editToViewAccess,{id:xa,hideAfter:w8}),tn.setMessage(t.readOnlyModeActive,{id:xa,showCloseButton:!0,showAfter:Rft})):r==="viewToEditAccess"?(tn.clearMessage(xa),tn.setMessage(t.viewToEditAccess,{id:xa,hideAfter:w8})):r==="editToViewOfflineChangesDiscarded"&&tn.setMessage(t.editToViewOfflineChangesDiscarded,{id:xa,showCloseButton:!0,showAfter:PC}),u("hidden");return}if(d!=="offline"&&n==="offline"&&(f=setTimeout(()=>{u("offline")},_8)),a.current==="offline"&&n==="online"){f=setTimeout(()=>{d!=="hidden"&&u(r)},RC);return}if(!(d==="offline"||a.current==="offline"))return s.current==="saved"&&r==="saving"&&(f=setTimeout(()=>{u("saving")},C8)),d!=="hidden"&&s.current==="saving"&&r==="saved"&&(f=setTimeout(()=>{u("saved")},RC)),()=>f&&clearTimeout(f)},[r,n,s,d,e,i,t.readOnlyModeActive,t.editToViewAccess,t.viewToEditAccess,t.editToViewOfflineChangesDiscarded]),c.useEffect(()=>{let f;return d==="saved"&&(f=setTimeout(()=>{u("hidden")},C8)),()=>clearTimeout(f)}),c.useEffect(()=>{s.current=r},[r]),c.useEffect(()=>{a.current=n},[n]),c.useEffect(()=>{i.current=e},[e]),d},Lft=(e,t)=>["editToViewAccess","viewToEditAccess","editToViewOfflineChangesDiscarded"].includes(e)&&e!==t,Nft=(e,t)=>{const n=Pft(e,t);return{status:n,tooltip:["saved","saving","offline"].includes(n)?$ft[n]:void 0}},x8="content-sync-status",Fft=(e,t)=>{const{formatMessage:n}=Ee();c.useEffect(()=>{if(e&&t&&t!=="latest"){const r=n(bl["snackbar-message.viewingHistoricVersion"],{versionName:e});tn.setMessage(r,{id:x8})}else tn.clearMessage(x8)},[n,e,t])},jft=({updateContentStatus:e,contentId:t,versionName:n,versionId:r})=>{const{formatMessage:o}=Ee(),a={online:o(bl["snackbar-message.online"]),offline:o(bl["snackbar-message.offline"]),readOnlyModeActive:o(bl["snackbar-message.readOnlyModeActive"]),viewToEditAccess:o(bl["snackbar-message.viewToEditAccess"]),editToViewAccess:o(bl["snackbar-message.editToViewAccess"]),editToViewOfflineChangesDiscarded:o(bl["snackbar-message.editToViewOfflineChangesDiscarded"])},s=Nft(t,a),{boardSyncStatus:i}=_u(BN);return Fft(n,r),c.useEffect(()=>{s&&e&&e({status:s.status,tooltipText:s.tooltip})},[s,e,i]),null};function Vft(e){const t=document.querySelector(`[data-testid=${e}--blanket]`);t&&(t.style.background="rgba(255, 255, 255, 0.6)"),requestAnimationFrame(()=>{})}const I0=xr({"discard-changes-dialog.heading":{id:"discard-changes-dialog.heading",defaultMessage:"Unsaved changes",description:"The heading text for the discard changes warning dialog"},"discard-changes-dialog.no-button-text":{id:"discard-changes-dialog.no-button-text",defaultMessage:"Keep editing",description:"Text for the keep editing button in the discard changes dialog"},"discard-changes-dialog.warning-body":{id:"discard-changes-dialog.warning-body",defaultMessage:"Are you sure you want to discard the changes you have made?",description:"A message confirm if the user actually wants to discard changes"},"discard-changes-dialog.yes-button-text":{id:"discard-changes-dialog.yes-button-text",defaultMessage:"Discard changes",description:"Text for the discard changes button in the discard changes dialog"},"setup-panel.replace-database-heading":{id:"setup-panel.replace-database-heading",defaultMessage:"Delete and replace database?",description:"The heading for the confirmation dialog when a user wants to change the setup of their database. It warns the user that proceeding with the action will override existing data."},"setup-panel.replace-database-body":{id:"setup-panel.replace-database-body",defaultMessage:"Changing the setup of the database will remove existing data. All fields and values in this database and its embeds will be removed and replaced.",description:"The confirmation message when a user wants to change the setup of their database. It warns the user that proceeding with the action will override existing data."},"setup-panel.replace-database-cancel-button":{id:"setup-panel.replace-database-cancel-button",defaultMessage:"Cancel",description:"The cancel button for the confirmation dialog when a user wants to change the setup of their database."},"setup-panel.replace-database-replace-button":{id:"setup-panel.replace-database-replace-button",defaultMessage:"Replace database",description:"The ok button for the confirmation dialog when a user wants to change the setup of their database. It lets the user know that proceeding will replace the existing database."}}),Bft=()=>{const[e,t]=c.useState(),{hideDialog:n,getData:r}=Oc(),{heading:o,body:a,yesLabel:s,noLabel:i,appearance:l,onClose:d,isBlanketHidden:u}=r(),f=De(async y=>{t(y?1:2),await d(y),n()},[n,d]),p=De(async()=>{await f(!0)},[f]),m=De(async()=>{await f(!1)},[f]),g="confirm-dialog";c.useEffect(()=>{Vft(g)},[]);const{formatMessage:v}=Ee(),b=!!i||!a&&!s&&!i;return h.jsxs(Ndt,{width:"small",autoFocus:!0,onClose:m,isBlanketHidden:u,testId:g,children:[h.jsx(jdt,{children:h.jsx(Wdt,{appearance:l??"warning",children:o??v(I0["discard-changes-dialog.heading"])})}),h.jsx(Zdt,{children:a??v(I0["discard-changes-dialog.warning-body"])}),h.jsxs(eut,{children:[b&&h.jsx(Yd,{appearance:"subtle",onClick:m,isLoading:e===2,isDisabled:e===1,children:i??v(I0["discard-changes-dialog.no-button-text"])}),h.jsx(Yd,{appearance:l??"primary",type:"submit",onClick:p,isLoading:e===1,isDisabled:e===2,children:s??v(I0["discard-changes-dialog.yes-button-text"])})]})]})},Cre=c.createContext({showDialog:()=>{},hideDialog:()=>{},getData:()=>null}),Uft=({children:e,defaultDialogs:t})=>{const[n]=c.useState(t),[r,o]=c.useState({component:null,data:void 0}),a=c.useCallback((l,d)=>{o({component:n[l],data:d}),gv.log("showDialog",{dialog:l,...d})},[n]),s=c.useCallback(()=>{o({component:null,data:void 0}),gv.log("hideDialog",{dialog:r})},[r]),i=c.useCallback(()=>r.data,[r.data]);return h.jsxs(Cre.Provider,{value:{showDialog:a,hideDialog:s,getData:i},children:[e,r.component]})},Oc=()=>_.useContext(Cre),_re=c.createContext("main"),Hft=({scope:e,children:t})=>h.jsx(_re.Provider,{value:e,children:t});function vg(){return c.useContext(_re)}const zft=5*6e4;class Wft{constructor({onStaleBundle:t,manifestSupplier:n}){this.timerId=null,this.start=(r=zft)=>{this.timerId===null&&(this.timerId=setInterval(()=>this.checkBundleVersion(),r))},this.stop=()=>{this.timerId!==null&&(clearInterval(this.timerId),this.timerId=null)},this.checkBundleVersion=async()=>{try{const r=RV();if(!r){const a=new Error("Commit timestamp is missing or zero in manifest.json");f_(a,{tags:{captureLocation:"missing-commit-timestamp",eventClassification:rue.BUG,customerImpact:tM.INTERNAL_TEAM,capabilityTier:nM.NONE}});return}const o=await this.manifestSupplier();r<o.oldestSupportedCommitTimestamp&&await this.onStaleBundle()}catch(r){f_(r,{tags:{captureLocation:"checkBundleVersion-catch-all",customerImpact:tM.INTERNAL_TEAM,capabilityTier:nM.NONE}})}},this.onStaleBundle=t,this.manifestSupplier=n}}const Gft=()=>Wb({maxRetries:3,callback:async()=>{try{const e=await fetch("/databases/assets/v/manifest.json",{cache:"no-store"});if(!e.ok)throw new v2(`Unable to check bundle version. Status: ${e.status}`);return e.json()}catch{throw new v2("Unable to check bundle version. Network failure.")}},shouldRetry:async e=>e instanceof v2&&await r_()}),qft=()=>{const{formatMessage:e}=Ee(),[t,n]=c.useState(!1),r=c.useCallback(()=>{n(!0)},[]),o=c.useMemo(()=>new Wft({onStaleBundle:r,manifestSupplier:Gft}),[r]);c.useEffect(()=>(o.start(),()=>{o.stop()}),[o]),c.useEffect(()=>{t&&(tn.setMessage(e(G["snackbar.version-unsupported"]),{actions:[{content:e(G["snackbar.link.refresh"]),onClick:()=>{window.location.reload()}}]}),o.stop())},[e,t,o])},Yft=()=>(qft(),null),Kft=({onClose:e,tooltipMessage:t})=>{const{formatMessage:n}=Ee();return h.jsx(Zr,{content:t||n(G["generic-panel.close-button"]),children:r=>h.jsx(dn,{...r,appearance:"subtle",icon:pc,label:n(G["generic-panel.close-button"]),onClick:e,testId:"close-panel-button"})})},Xft=({onClose:e,closeButtonTooltipMessage:t,copyButton:n,deleteButton:r})=>h.jsxs(Me,{children:[n,r,h.jsx(Kft,{onClose:e,tooltipMessage:t})]}),Jft=ie({padding:"space.300",width:"100%",minWidth:"100%",position:"relative",height:"100%",overflow:"hidden",gap:"space.250"}),Zft=ie({paddingInline:"space.0",paddingTop:"space.200",gap:"space.0"}),Qft=ie({gap:"space.100"}),ept=ie({paddingBottom:"space.150",paddingLeft:"space.300",paddingRight:"space.150"}),tpt=ie({paddingLeft:"space.150"}),npt=ie({justifyContent:"flex-start",flex:"1 1",gap:"space.300",overflowY:"auto",overflowX:"hidden"}),rpt=ie({paddingInline:"space.300"}),opt=({header:e,content:t,footer:n,testId:r})=>{const o=vt("databases-frontend-content-wrapper"),a=o&&!!e.actions.backButton;return h.jsxs(Rt,{xcss:[Jft,o&&Zft],testId:r,children:[h.jsxs(Me,{spread:"space-between",alignBlock:"center",xcss:[Qft,o&&ept,a&&tpt],children:[h.jsxs(Me,{alignInline:"start",alignBlock:"center",space:"space.050",children:[e.actions.backButton,h.jsx(Go,{as:o?"h3":"h2",size:"small",children:e.title})]}),h.jsx(Xft,{...e.actions})]}),h.jsx(Rt,{xcss:[npt,o&&rpt],children:t}),n]})};var TS=[],AS=new MessageChannel,apt=(function(){this.postMessage(void 0)}).bind(AS.port2);function Rd(e){TS.push(e)===1&&requestAnimationFrame(apt)}AS.port1.onmessage=function(){var e=TS;TS=[];for(var t=performance.now(),n=0;n<e.length;n++)e[n](t)},AS=null;const rf=()=>{const e=c.useContext(Yk);if(e===void 0)throw new Error("useViewUiState must be used within a ViewContextProvider");return{activePanelSetting:e.activePanelSetting,setActivePanelSetting:e.setActivePanelSetting}},spt=()=>{const{hidePanel:e}=lr(),{setActivePanelSetting:t}=rf();return{closeViewSettingsPanel:c.useCallback(()=>{e(),t(null)},[e,t])}},xre=e=>{const t=fe.useDispatch(),n=rt(),{addFlag:r}=Vk(),{closeViewSettingsPanel:o}=spt(),{view:a,setViewId:s,resolvedView:i}=at(),{showDialog:l}=Oc(),d=Ee(),{formatMessage:u}=d,f=fe.useEqualSelector(m=>Xe(m,{contentId:e}).views.length),p=c.useRef(f);return c.useEffect(()=>{p.current=f},[f]),c.useCallback((m,g,v)=>{l("ConfirmDialog",{heading:u(G["toolbar-views.delete-view-heading"]),body:h.jsx("p",{children:u(G["toolbar-views.delete-view-text"])}),yesLabel:u(Ae["view-actions.delete-view-delete-button"]),noLabel:u(G["toolbar-views.delete-view-cancel-button"]),appearance:"danger",onClose:b=>{if(p.current<2){r({title:u(G["toolbar-views.delete-view-failure-flag-title"]),description:u(G["toolbar-views.delete-view-failure-flag-description"]),icon:()=>h.jsx(Us,{spacing:"spacious",label:"",color:U("color.text.danger")})});return}setTimeout(()=>{const E=document.querySelector(".view-actions-menu-trigger-button");E instanceof HTMLElement&&E.focus()},0),b&&(n.sendViewDeletedEvent({contentId:e,databaseContainer:We(),source:g,viewId:m}),s(i.id),a.id===m&&o(),t(pt(e,"main",{type:ye.DELETE_SAVED_VIEW,viewId:m})),v&&v())}})},[l,u,r,n,e,s,i.id,a.id,t,o])},ipt=({contentId:e})=>{const{view:t,setViewId:n,unsavedView:r}=at(),o=Ee(),a=fe.useDispatch(),s=rt(),[i,l]=fe.useEqualSelector(u=>{const f=Xe(u,{contentId:e});return[f.views.filter(m=>m.id!==t.id).map(m=>m.name.trim().toLowerCase()),f.views]}),d=c.useMemo(()=>ql(l,t.id),[l,t.id]);return c.useCallback(({analyticsSource:u,newViewName:f})=>{const p=UN(t.settings),m=f?f!==(d==null?void 0:d.name):!1,g=()=>m&&f?f:d&&fk(t.name,[...i,d.name])?t.name:HN({...p,name:r?"":t.name},[...l.map(v=>v.name),t.name],o);a(pt(e,"main",{type:ye.ADD_SAVED_VIEW,view:{...p,name:g()}})),s.sendDatabaseCreateViewEvent({contentId:e,databaseContainer:We(),viewId:p.id,source:u,layoutType:p.settings.layout.type}),n(p.id)},[s,e,a,o,d,l,n,r,t.name,t.settings,i])};var MD={},bg={};Object.defineProperty(bg,"__esModule",{value:!0});var Sre=bg.default=void 0,lpt=kre(c),cpt=kre(Oe);function kre(e){return e&&e.__esModule?e:{default:e}}const Ire=e=>lpt.default.createElement(cpt.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M8 1v12.75m-5-4.5 5 5 5-5"/>'},e));Ire.displayName="ArrowDownIcon";Sre=bg.default=Ire;var $E={};Object.defineProperty($E,"__esModule",{value:!0});$E.default=void 0;var dpt=Tre(c),upt=je,fpt=Tre(bg);function Tre(e){return e&&e.__esModule?e:{default:e}}const Are=e=>dpt.default.createElement(upt.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M11 6v9.586l-3.793-3.793a1 1 0 0 0-1.414 0c-.39.39-.39 1.024 0 1.415l5.5 5.499A1 1 0 0 0 12 19a1 1 0 0 0 .707-.293l5.5-5.499a1 1 0 1 0-1.414-1.415L13 15.586V6a1 1 0 0 0-2 0"/></svg>'},e,{newIcon:fpt.default}));Are.displayName="ArrowDownIcon";$E.default=Are;Object.defineProperty(MD,"__esModule",{value:!0});var $D=MD.default=void 0,ppt=RD(c),mpt=RD(bg),hpt=RD($E);function RD(e){return e&&e.__esModule?e:{default:e}}const Dre=e=>ppt.default.createElement(mpt.default,Object.assign({LEGACY_fallbackIcon:hpt.default},e));Dre.Name="ArrowDownIconMigration";$D=MD.default=Dre;var PD={},yg={};Object.defineProperty(yg,"__esModule",{value:!0});var Ore=yg.default=void 0,gpt=Mre(c),vpt=Mre(Oe);function Mre(e){return e&&e.__esModule?e:{default:e}}const $re=e=>gpt.default.createElement(vpt.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M8 15V2.25m-5 4.5 5-5 5 5"/>'},e));$re.displayName="ArrowUpIcon";Ore=yg.default=$re;var Eg={};Object.defineProperty(Eg,"__esModule",{value:!0});var Rre=Eg.default=void 0,bpt=Pre(c),ypt=je,Ept=Pre(yg);function Pre(e){return e&&e.__esModule?e:{default:e}}const Lre=e=>bpt.default.createElement(ypt.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="m11.293 5.293-5.5 5.499a1 1 0 0 0 0 1.415 1 1 0 0 0 1.414 0L11 8.414V18a1 1 0 0 0 2 0V8.414l3.793 3.793a1 1 0 1 0 1.414-1.415l-5.5-5.499A1 1 0 0 0 12 5a1 1 0 0 0-.707.293"/></svg>'},e,{newIcon:Ept.default}));Lre.displayName="ArrowUpIcon";Rre=Eg.default=Lre;const wpt=ro({__proto__:null,get default(){return Rre}},[Eg]);Object.defineProperty(PD,"__esModule",{value:!0});var LD=PD.default=void 0,Cpt=ND(c),_pt=ND(yg),xpt=ND(Eg);function ND(e){return e&&e.__esModule?e:{default:e}}const Nre=e=>Cpt.default.createElement(_pt.default,Object.assign({LEGACY_fallbackIcon:xpt.default},e));Nre.Name="ArrowUpIconMigration";LD=PD.default=Nre;var FD={},wg={};Object.defineProperty(wg,"__esModule",{value:!0});wg.default=void 0;var Spt=Fre(c),kpt=Fre(Oe);function Fre(e){return e&&e.__esModule?e:{default:e}}const jre=e=>Spt.default.createElement(kpt.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M5.583 2.75H2C1.31 2.75.75 3.31.75 4v8c0 .69.56 1.25 1.25 1.25h3.583m0-10.5v10.5m0-10.5h4.834m-4.834 10.5h4.834m0-10.5H14c.69 0 1.25.56 1.25 1.25v8c0 .69-.56 1.25-1.25 1.25h-3.583m0-10.5v10.5"/>'},e));jre.displayName="BoardIcon";wg.default=jre;var RE={};Object.defineProperty(RE,"__esModule",{value:!0});var Ipt=RE.default=void 0,Tpt=Vre(c),Apt=je,Dpt=Vre(wg);function Vre(e){return e&&e.__esModule?e:{default:e}}const Bre=e=>Tpt.default.createElement(Apt.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor"><path d="M4 18h16.008C20 18 20 6 20 6H3.992C4 6 4 18 4 18M2 5.994C2 4.893 2.898 4 3.99 4h16.02C21.108 4 22 4.895 22 5.994v12.012A1.997 1.997 0 0 1 20.01 20H3.99A1.994 1.994 0 0 1 2 18.006z"/><path d="M8 6v12h2V6zm6 0v12h2V6z"/></g></svg>'},e,{newIcon:Dpt.default}));Bre.displayName="BoardIcon";Ipt=RE.default=Bre;Object.defineProperty(FD,"__esModule",{value:!0});var Ure=FD.default=void 0,Opt=jD(c),Mpt=jD(wg),$pt=jD(RE);function jD(e){return e&&e.__esModule?e:{default:e}}const Hre=e=>Opt.default.createElement(Mpt.default,Object.assign({LEGACY_fallbackIcon:$pt.default},e));Hre.Name="BoardIconMigration";Ure=FD.default=Hre;var VD={};Object.defineProperty(VD,"__esModule",{value:!0});var zre=VD.default=void 0,Rpt=BD(c),Ppt=BD(gc),Lpt=BD(by);function BD(e){return e&&e.__esModule?e:{default:e}}const Wre=e=>Rpt.default.createElement(Ppt.default,Object.assign({LEGACY_fallbackIcon:Lpt.default},e));Wre.Name="CalendarIconMigration";zre=VD.default=Wre;var UD={},of={};Object.defineProperty(of,"__esModule",{value:!0});of.default=void 0;var Npt=Gre(c),Fpt=Gre(Oe);function Gre(e){return e&&e.__esModule?e:{default:e}}const qre=e=>Npt.default.createElement(Fpt.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M8 1.75H3c-.69 0-1.25.56-1.25 1.25v5M8 1.75h5c.69 0 1.25.56 1.25 1.25v5M8 1.75v12.5m0 0h5c.69 0 1.25-.56 1.25-1.25V8M8 14.25H3c-.69 0-1.25-.56-1.25-1.25V8m0 0h12.5"/>'},e));qre.displayName="GridIcon";of.default=qre;var PE={};Object.defineProperty(PE,"__esModule",{value:!0});PE.default=void 0;var jpt=Yre(c),Vpt=je,Bpt=Yre(of);function Yre(e){return e&&e.__esModule?e:{default:e}}const Kre=e=>jpt.default.createElement(Vpt.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><rect width="8" height="8" x="3" y="3" rx="1"/><rect width="8" height="8" x="3" y="13" rx="1"/><rect width="8" height="8" x="13" y="3" rx="1"/><rect width="8" height="8" x="13" y="13" rx="1"/></g></svg>'},e,{newIcon:Bpt.default}));Kre.displayName="MediaServicesGridIcon";PE.default=Kre;Object.defineProperty(UD,"__esModule",{value:!0});var Xre=UD.default=void 0,Upt=HD(c),Hpt=HD(of),zpt=HD(PE);function HD(e){return e&&e.__esModule?e:{default:e}}const Jre=e=>Upt.default.createElement(Hpt.default,Object.assign({LEGACY_fallbackIcon:zpt.default},e));Jre.Name="GridIconMigration";Xre=UD.default=Jre;var zD={},Cg={};Object.defineProperty(Cg,"__esModule",{value:!0});Cg.default=void 0;var Wpt=Zre(c),Gpt=Zre(Oe);function Zre(e){return e&&e.__esModule?e:{default:e}}const Qre=e=>Wpt.default.createElement(Gpt.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="m3.5 8-.75.75a3.182 3.182 0 0 0 4.5 4.5L8 12.5m0-9 .75-.75a3.182 3.182 0 0 1 4.5 4.5L12.5 8M5.25 1v3M1 5.25h3m11 5.5h-3M10.75 15v-3"/>'},e));Qre.displayName="LinkBrokenIcon";Cg.default=Qre;var LE={};Object.defineProperty(LE,"__esModule",{value:!0});LE.default=void 0;var qpt=eoe(c),Ypt=je,Kpt=eoe(Cg);function eoe(e){return e&&e.__esModule?e:{default:e}}const toe=e=>qpt.default.createElement(Ypt.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M13.72 14.43a.97.97 0 0 0-1.37 0l-2.09 2.06a1.93 1.93 0 0 1-1.37.57c-.59 0-1.13-.26-1.52-.74-.63-.78-.5-1.93.2-2.64l1.32-1.32.69-.69a.97.97 0 0 0 0-1.38.97.97 0 0 0-1.37 0l-2.07 2.07a3.89 3.89 0 0 0 0 5.5l.01.01A3.87 3.87 0 0 0 8.89 19a3.87 3.87 0 0 0 2.75-1.14l2.08-2.08a.95.95 0 0 0 0-1.34m-3.44-4.87a.97.97 0 0 0 1.37 0l2.09-2.06c.37-.37.85-.57 1.37-.57.59 0 1.14.26 1.53.74.63.78.51 1.93-.2 2.64l-1.32 1.32-.69.69a.97.97 0 0 0 0 1.38c.38.38 1 .38 1.38 0l2.07-2.07a3.89 3.89 0 0 0 0-5.5l-.01-.01A3.87 3.87 0 0 0 15.11 5a3.87 3.87 0 0 0-2.75 1.14l-2.08 2.09a.95.95 0 0 0 0 1.35M8.92 4.62l.4.97a1 1 0 1 1-1.85.77l-.4-.97a1 1 0 1 1 1.85-.76M5.38 7.08l.97.4a1 1 0 0 1-.77 1.85l-.97-.4a1 1 0 0 1 .77-1.85m9.94 10.41a1 1 0 0 0-.54 1.31l.4.97a1 1 0 1 0 1.84-.77l-.4-.97a1 1 0 0 0-1.31-.54m2.18-2.17a1 1 0 0 0 .54 1.31l.97.4a1 1 0 0 0 .77-1.85l-.97-.4a1 1 0 0 0-1.31.54"/></svg>'},e,{newIcon:Kpt.default}));toe.displayName="UnlinkIcon";LE.default=toe;Object.defineProperty(zD,"__esModule",{value:!0});var WD=zD.default=void 0,Xpt=GD(c),Jpt=GD(Cg),Zpt=GD(LE);function GD(e){return e&&e.__esModule?e:{default:e}}const noe=e=>Xpt.default.createElement(Jpt.default,Object.assign({LEGACY_fallbackIcon:Zpt.default},e));noe.Name="LinkBrokenIconMigration";WD=zD.default=noe;var qD={};Object.defineProperty(qD,"__esModule",{value:!0});var roe=qD.default=void 0,Qpt=ooe(c),emt=ooe(Oe);function ooe(e){return e&&e.__esModule?e:{default:e}}const aoe=e=>Qpt.default.createElement(emt.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M5.75 2.75H2C1.31 2.75.75 3.31.75 4v4m5-5.25H14c.69 0 1.25.56 1.25 1.25v4m-9.5-5.25v10.5m0 0H14c.69 0 1.25-.56 1.25-1.25V8m-9.5 5.25H2c-.69 0-1.25-.56-1.25-1.25V8m0 0h14.5"/>'},e));aoe.displayName="SpreadsheetIcon";roe=qD.default=aoe;var YD={};Object.defineProperty(YD,"__esModule",{value:!0});var soe=YD.default=void 0,tmt=ioe(c),nmt=je,rmt=ioe(of);function ioe(e){return e&&e.__esModule?e:{default:e}}const loe=e=>tmt.default.createElement(nmt.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><path fill-rule="nonzero" d="M4 17.995h15.992c-.009 0-.009-9.99-.009-9.99H3.992c.008 0 .008 9.99.008 9.99m-2-12C2 4.892 2.898 4 3.99 4h16.02C21.108 4 22 4.895 22 5.994v12.012A1.997 1.997 0 0 1 20.01 20H3.99A1.994 1.994 0 0 1 2 18.006z"/><path fill-rule="nonzero" d="M8 6v12h2V6zm6 0v12h2V6z"/><path d="M4 12h17v2H4z"/></g></svg>'},e,{newIcon:rmt.default}));loe.displayName="TableIcon";soe=YD.default=loe;var _g={};Object.defineProperty(_g,"__esModule",{value:!0});var coe=_g.default=void 0,omt=doe(c),amt=doe(Oe);function doe(e){return e&&e.__esModule?e:{default:e}}const uoe=e=>omt.default.createElement(amt.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M6.25 14.25H3c-.69 0-1.25-.56-1.25-1.25V6.799c0-.35.146-.684.404-.92l5-4.6a1.25 1.25 0 0 1 1.692 0l5 4.6c.258.236.404.57.404.92V13c0 .69-.56 1.25-1.25 1.25H9.75v-5.5h-3.5z"/>'},e));uoe.displayName="HomeIcon";coe=_g.default=uoe;var KD={};Object.defineProperty(KD,"__esModule",{value:!0});var foe=KD.default=void 0,smt=poe(c),imt=poe(Oe);function poe(e){return e&&e.__esModule?e:{default:e}}const moe=e=>smt.default.createElement(imt.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M6.333 12.5v-9h3.334v4.36l1.5-1.4V3.5H14a.5.5 0 0 1 .5.5v3.548l1.5 1.4V4a2 2 0 0 0-2-2H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h5v-1.5zM1.5 4a.5.5 0 0 1 .5-.5h2.833v9H2a.5.5 0 0 1-.5-.5z" clip-rule="evenodd"/><path fill="currentcolor" d="M16 11.543v3.832c0 .345-.28.625-.625.625H13.25v-3h-2v3H9.125a.625.625 0 0 1-.625-.625v-3.832c0-.346.144-.677.397-.914l2.5-2.333a1.25 1.25 0 0 1 1.706 0l2.5 2.333c.253.237.397.568.397.914"/>'},e));moe.displayName="ViewTypeBoardHomeIcon";foe=KD.default=moe;var XD={};Object.defineProperty(XD,"__esModule",{value:!0});var hoe=XD.default=void 0,lmt=goe(c),cmt=goe(Oe);function goe(e){return e&&e.__esModule?e:{default:e}}const voe=e=>lmt.default.createElement(cmt.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M3 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h4v-1.5H3a.5.5 0 0 1-.5-.5V8.75h4.75v1.42q.096-.145.227-.267l2.842-2.653H8.75V2.5H13a.5.5 0 0 1 .5.5v3.615l1.5 1.4V3a2 2 0 0 0-2-2zm-.5 2a.5.5 0 0 1 .5-.5h4.25v4.75H2.5z" clip-rule="evenodd"/><path fill="currentcolor" d="M16 11.543v3.832c0 .345-.28.625-.625.625H13.25v-3h-2v3H9.125a.625.625 0 0 1-.625-.625v-3.832c0-.346.144-.677.397-.914l2.5-2.333a1.25 1.25 0 0 1 1.706 0l2.5 2.333c.253.237.397.568.397.914"/>'},e));voe.displayName="ViewTypeCardHomeIcon";hoe=XD.default=voe;var JD={};Object.defineProperty(JD,"__esModule",{value:!0});var boe=JD.default=void 0,dmt=yoe(c),umt=yoe(Oe);function yoe(e){return e&&e.__esModule?e:{default:e}}const Eoe=e=>dmt.default.createElement(umt.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4.948L14.18 7.25h.32V4a.5.5 0 0 0-.5-.5H6.5v3.75h3.82l-1.608 1.5H6.5v3.75H7V14H2a2 2 0 0 1-2-2zm2-.5a.5.5 0 0 0-.5.5v3.25H5V3.5zm3 9V8.75H1.5V12a.5.5 0 0 0 .5.5z" clip-rule="evenodd"/><path fill="currentcolor" d="M16 15.375v-3.832a1.25 1.25 0 0 0-.397-.914l-2.5-2.333a1.25 1.25 0 0 0-1.706 0l-2.5 2.333a1.25 1.25 0 0 0-.397.914v3.832c0 .345.28.625.625.625h2.125v-3h2v3h2.125c.345 0 .625-.28.625-.625"/>'},e));Eoe.displayName="ViewTypeTableHomeIcon";boe=JD.default=Eoe;const fmt=e=>{throw new Error(`Not implemented: ${e}`)},pmt=({children:e})=>{const{formatMessage:t}=Ee();return h.jsxs(_e,{xcss:ie({position:"relative",width:"24px",height:"24px"}),children:[e,h.jsx(Me,{xcss:ie({position:"absolute",top:"space.150",left:"space.150",backgroundColor:"elevation.surface",borderRadius:"border.radius.circle",width:"16px",height:"16px"}),children:h.jsx(hr,{size:"16",appearance:"grayBold",icon:coe,shape:"circle",label:t(Ae["views.default-view-icon-label"]),testId:"default-view-indicator-icon"})})]})},Of=({IconComponent:e,iconSize:t,layoutType:n,isDefault:r,isPresentationOnly:o})=>{const a=({children:l})=>{const d=vt("platform-visual-refresh-icons");if(r){if(d)switch(n.defaultMessage){case"Card":return h.jsx(hoe,{label:""});case"Board":return h.jsx(foe,{label:""});case"Table":return h.jsx(boe,{label:""});case"Calendar":return null;default:fmt(n.defaultMessage)}return h.jsx(pmt,{children:l})}return h.jsx(h.Fragment,{children:l})},s=t=="large"||t=="xlarge",{formatMessage:i}=Ee();return h.jsx(h.Fragment,{children:s?h.jsx(hr,{appearance:"gray",icon:e,label:o?"":i(Ae["view-settings.layout.layout-text"],{layoutType:i(n)})}):h.jsx(a,{children:h.jsx(e,{size:t,label:o?"":i(Ae["view-settings.layout.layout-text"],{layoutType:i(n)})})})})},woe=({value:e,onChange:t,source:n,contentId:r})=>{const{formatMessage:o}=Ee(),a=rt(),s=c.useMemo(()=>[{label:o(Ae["view-settings.layout.card-width.small-text"]),value:Da.SMALL},{label:o(Ae["view-settings.layout.card-width.medium-text"]),value:Da.MEDIUM},{label:o(Ae["view-settings.layout.card-width.large-text"]),value:Da.LARGE}],[o]),i=c.useMemo(()=>s.find(d=>d.value===e.cardWidth)??null,[s,e.cardWidth]),l=c.useCallback(async d=>{d&&(t({type:It.LAYOUT_CARD_WIDTH,value:d.value}),await a.sendLayoutSettingSelectedEvent({contentId:r,databaseContainer:We(),source:n,layoutSetting:"cardWidth",value:d.value}))},[a,r,t,n]);return h.jsxs(_e,{children:[h.jsx(Vu,{htmlFor:"view-settings-layout-card-width-select",children:o(Ae["view-settings.layout.card-width.label"])}),h.jsx(Jo,{value:i,options:s,onChange:l,inputId:"view-settings-layout-card-width-select"})]})},mmt=ie({overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"}),hmt=ie({marginLeft:"space.050"}),Coe=({field:e,showIcon:t,isBold:n})=>{const{formatMessage:r}=Ee();return h.jsxs(Me,{alignBlock:"center",xcss:ie({width:"100%"}),children:[t&&h.jsx(Wt,{isButton:!0,children:h.jsx(Ms,{type:e.type,label:So(e.type).label,noTooltip:!0})}),h.jsx(Wt,{minWidth:80,children:h.jsx(_e,{xcss:[mmt,t&&hmt],children:n?h.jsx(Gt,{weight:"semibold",children:e.name||r(G["field.default-field-name"])}):e.name||r(G["field.default-field-name"])})})]})},gmt=e=>h.jsx(Coe,{field:e,showIcon:!0}),vmt=e=>e.id,bmt=e=>e.name,ymt={menu:e=>({...e,width:"max-content",minWidth:"100%"})};function Emt(e,t){return!(t&&!e)}const NE=({value:e,fields:t,onChange:n,onFocus:r,onBlur:o,autoFocus:a,isRequired:s,isClearable:i,isLoading:l,placeholder:d,spacing:u,isDisabled:f=!1,isInvalid:p})=>{const{formatMessage:m}=Ee();c.useEffect(()=>{(!t&&e||t&&e&&!t.some(v=>v.id===e.id))&&n(void 0)},[t,n,e]);const g=De(v=>{n(v??void 0)},[n]);return h.jsx(Rr,{error:Emt(e,s)?void 0:m(G["validation.required-field"]),children:v=>h.jsx(Jo,{...v,value:e??null,onChange:g,isClearable:i,isDisabled:f||!t,formatOptionLabel:gmt,options:t,getOptionValue:vmt,getOptionLabel:bmt,onFocus:r,onBlur:o,autoFocus:a,isLoading:l,placeholder:d,spacing:u,styles:ymt,isInvalid:v.isInvalid||p,classNamePrefix:"field-picker"})})},_oe=({contentId:e,value:t,onChange:n,source:r})=>{const{formatMessage:o}=Ee(),a=rt(),[s,i]=fe.useEqualSelector(u=>{const f=Xe(u,{contentId:e});return[f,[...no(f).filter(p=>[ae.ATTACHMENT,ae.PAGE_LINK,ae.ENTRY_LINK].includes(p.type))]]}),l=c.useMemo(()=>Rm(s,t.coverFieldId),[s,t.coverFieldId]),d=c.useCallback(u=>{n({type:It.LAYOUT_COVER_FIELD_ID,value:u?u.id:MO.NONE}),a.sendLayoutSettingSelectedEvent({contentId:e,databaseContainer:We(),source:r,layoutSetting:"coverImage",value:u?u.id:MO.NONE})},[a,e,n,r]);return h.jsxs(_e,{children:[h.jsx(Vu,{htmlFor:"cover-field-setting",children:o(Ae["view-settings.layout.cover-image.label"])}),h.jsx(NE,{fields:i,value:l,onChange:d,isClearable:!0}),h.jsx(py,{children:o(Ae["view-settings.layout.cover-image.helper-message"])})]})},wmt=({contentId:e,source:t})=>{const{formatMessage:n}=Ee(),r=rt(),{view:o,setViewChange:a}=at(),s=o.settings.layout,[i,l]=fe.useEqualSelector(f=>{const p=Xe(f,{contentId:e});return[p,no(p).filter(m=>Pce(m))]}),d=c.useMemo(()=>Um(i,s),[i,s]),u=c.useCallback(async f=>{a({type:It.LAYOUT_GROUP_FIELD_ID,value:f==null?void 0:f.id}),await r.sendLayoutSettingSelectedEvent({contentId:e,databaseContainer:We(),source:t,layoutSetting:"groupField",value:f?f.id:void 0})},[r,e,a,t]);return h.jsxs(_e,{children:[h.jsxs(Vu,{htmlFor:"group-field-setting",children:[n(Ae["view-settings.layout.group-field.label"]),h.jsx(Fh,{})]}),h.jsx(NE,{fields:l,value:d,onChange:u,isClearable:!1,isDisabled:!l.length,isInvalid:!l.length,placeholder:n(Ae["view-settings.layout.group-field.placeholder"])}),l.length?h.jsx(py,{children:n(Ae["view-settings.layout.group-field.helper-message"])}):h.jsx(Bu,{children:n(Ae["view-settings.layout.group-field.error-message"])})]})},Cmt=({onChange:e,contentId:t,layout:n,source:r})=>h.jsxs(h.Fragment,{children:[h.jsx(wmt,{contentId:t,source:r}),h.jsx(woe,{onChange:e,value:n,contentId:t,source:r}),h.jsx(_oe,{contentId:t,value:n,onChange:e,source:r})]}),_mt=({contentId:e,source:t})=>{const{formatMessage:n}=Ee(),r=rt(),{view:o,setViewChange:a}=at(),s=o.settings.layout,[i,l]=fe.useEqualSelector(f=>{const p=Xe(f,{contentId:e});return[p,no(p).filter(m=>Lce(m))]}),d=c.useMemo(()=>zN(i,s),[i,s]),u=c.useCallback(async f=>{a({type:It.LAYOUT_DATE_FIELD_ID,value:f==null?void 0:f.id}),await r.sendLayoutSettingSelectedEvent({contentId:e,databaseContainer:We(),source:t,layoutSetting:"dateField",value:f?f.id:void 0})},[r,e,a,t]);return h.jsxs(_e,{children:[h.jsxs(Vu,{htmlFor:"date-field-setting",children:[n(Ae["view-settings.layout.date-field.label"]),h.jsx(Fh,{})]}),h.jsx(NE,{fields:l,value:d,onChange:u,isClearable:!1,isDisabled:!l.length,isInvalid:!l.length,placeholder:n(Ae["view-settings.layout.date-field.placeholder"])}),l.length?h.jsx(py,{children:n(Ae["view-settings.layout.date-field.helper-message"])}):h.jsx(Bu,{children:n(Ae["view-settings.layout.date-field.error-message"])})]})},xmt=({contentId:e,source:t})=>h.jsx(_mt,{contentId:e,source:t}),Smt=({onChange:e,contentId:t,layout:n,source:r})=>h.jsxs(h.Fragment,{children:[h.jsx(woe,{onChange:e,value:n,contentId:t,source:r}),h.jsx(_oe,{contentId:t,value:n,onChange:e,source:r})]});var ZD={};Object.defineProperty(ZD,"__esModule",{value:!0});var xoe=ZD.default=void 0,kmt=Soe(c),Imt=je,Tmt=Soe(Ju);function Soe(e){return e&&e.__esModule?e:{default:e}}const koe=e=>kmt.default.createElement(Imt.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" d="M7.356 10.942a.497.497 0 0 0-.713 0l-.7.701a.5.5 0 0 0-.003.71l3.706 3.707a.5.5 0 0 0 .705.003l7.712-7.712a.493.493 0 0 0-.006-.708l-.7-.7a.504.504 0 0 0-.714 0l-6.286 6.286a.506.506 0 0 1-.713 0z"/></svg>'},e,{newIcon:Tmt.default}));koe.displayName="EditorDoneIcon";xoe=ZD.default=koe;const Amt={backgroundColorChecked:`var(--ds-background-success-bold, ${Ds})`,backgroundColorCheckedHover:`var(--ds-background-success-bold-hovered, ${Jde})`,backgroundColorCheckedDisabled:`var(--ds-background-disabled, ${Ke})`,backgroundColorUnchecked:`var(--ds-background-neutral-bold, ${jt})`,backgroundColorUncheckedHover:`var(--ds-background-neutral-bold-hovered, ${gu})`,backgroundColorUncheckedDisabled:`var(--ds-background-disabled, ${Ke})`,borderColorFocus:`var(--ds-border-focused, ${vn})`,iconColorChecked:`var(--ds-icon-inverse, ${Ve})`,iconColorDisabled:`var(--ds-icon-disabled, ${an})`,iconColorUnchecked:`var(--ds-icon-inverse, ${Ve})`,handleBackgroundColor:`var(--ds-icon-inverse, ${Ve})`,handleBackgroundColorChecked:`var(--ds-icon-inverse, ${Ve})`,handleBackgroundColorDisabled:`var(--ds-icon-inverse, ${Ve})`},Dmt=()=>Amt,sd=gt(),Ioe={regular:{height:sd*2,width:sd*4},large:{height:sd*2+sd/2,width:sd*5}},Mf=({size:e})=>Ioe[e].height,Omt=({size:e})=>Ioe[e].width,T0=2,$f=sd/4,S8="transform 0.2s ease",Mmt=e=>{const t=Dmt();return M({boxSizing:"content-box",display:"inline-block",padding:T0,margin:T0,backgroundClip:"content-box",backgroundColor:t.backgroundColorUnchecked,borderRadius:`${Mf({size:e})}px`,border:`${T0}px solid transparent`,height:`${Mf({size:e})}px`,position:"relative",transition:`${S8}`,width:`${Omt({size:e})}px`,"&[data-checked]":{backgroundColor:t.backgroundColorChecked,color:t.iconColorChecked},"&[data-disabled]:not([data-checked])":{backgroundColor:t.backgroundColorUncheckedDisabled},"&[data-disabled][data-checked],&[data-disabled][data-checked]:hover":{backgroundColor:t.backgroundColorCheckedDisabled},"&:focus-within":{border:`${T0}px solid ${t.borderColorFocus}`},"&:hover":{backgroundColor:t.backgroundColorUncheckedHover,cursor:"pointer"},"&[data-disabled]:hover,&[data-disabled][data-checked]:hover,&[data-disabled]:not([data-checked]):hover":{cursor:"not-allowed"},"&[data-checked]:hover":{backgroundColor:t.backgroundColorCheckedHover},"&:not([data-checked]):hover":{backgroundColor:t.backgroundColorUncheckedHover},"&[data-disabled]:not([data-checked]):hover":{backgroundColor:t.backgroundColorCheckedDisabled},color:t.iconColorUnchecked,"&[data-disabled], &[data-disabled][data-checked], &[data-disabled][data-checked]:hover":{color:t.iconColorDisabled},'input[type="checkbox"]':{opacity:0,margin:0,padding:0,border:"none","&:focus":{outline:"none !important"}},"::before":{backgroundColor:t.handleBackgroundColor,borderRadius:"var(--ds-border-radius-circle, 50%)",content:'""',position:"absolute",transform:"initial",transition:S8,insetBlockEnd:`${2*$f}px`,height:`${Mf({size:e})-$f*2}px`,width:`${Mf({size:e})-$f*2}px`,insetInlineStart:`${2*$f}px`},"&[data-checked]::before":{backgroundColor:t.handleBackgroundColorChecked,transform:`translateX(${Mf({size:e})}px)`},"&[data-disabled]::before":{backgroundColor:t.handleBackgroundColorDisabled,zIndex:1},"> span":{position:"absolute",insetBlockStart:`${$f}px`},"> span:nth-last-of-type(2)":{insetInlineStart:"3px"},"> span:last-of-type":{insetInlineEnd:"3px"},...e==="large"&&{"> span":{position:"absolute",height:"20px",width:"20px"}},"@media screen and (forced-colors: active)":{"::before":{filter:"grayscale(100%) invert(1)"},"&:focus-within":{outline:"1px solid"}}})},k8=e=>e==="large"?"large":"small",LC=ct,NC={componentName:"toggle",packageName:"@atlaskit/toggle",packageVersion:"13.3.1"},xm=c.memo(c.forwardRef((e,t)=>{const{defaultChecked:n=!1,isDisabled:r=!1,onBlur:o=LC,onChange:a=LC,onFocus:s=LC,size:i="regular",name:l="",value:d="",isChecked:u,analyticsContext:f,id:p,testId:m,label:g,descriptionId:v}=e,b=typeof u>"u",[y,E]=c.useState(n),w=Bo({fn:o,action:"blur",analyticsData:f,...NC}),C=Bo({fn:s,action:"focus",analyticsData:f,...NC}),x=Bo({fn:(O,D)=>(b&&E($=>!$),a(O,D)),action:"change",analyticsData:f,...NC}),S=b?y:u,I={"data-checked":S||void 0,"data-disabled":r||void 0,"data-size":i,"data-testid":m||void 0},A=c.useMemo(()=>Mmt(i),[i]),T=JS()("toggle");return k("label",H({},I,{css:A}),g?k("span",{id:`${T}-label`,hidden:!0},g):null,k("input",{ref:t,checked:S,disabled:r,id:p,name:l,onBlur:w,onChange:x,onFocus:C,type:"checkbox",value:d,"data-testid":m&&`${m}--input`,"aria-labelledby":g?`${T}-label`:void 0,"aria-describedby":v}),k(xoe,{label:"",size:k8(i),testId:m&&`${m}--toggle-check-icon`}),k(ane,{label:"",size:k8(i),testId:m&&`${m}--toggle-cross-icon`}))}));xm.displayName="Toggle";const $mt=()=>{const{formatMessage:e}=Ee(),{view:t,setViewChange:n}=at(),r=rt(),{contentId:o}=An(),a=vt("databases-frontend-wrap-fields"),s=c.useCallback(()=>{n({type:It.LAYOUT_WRAP_TEXT_SET,value:!t.settings.layout.wrapAllText})},[n,t.settings.layout.wrapAllText]),i=c.useCallback(()=>{!t.settings.layout.showNumberedEntries&&o&&r.sendNumberedEntriesToggledEvent({contentId:o,databaseContainer:We(),source:"TableLayoutOptions",value:!0}),n({type:It.LAYOUT_NUMBERED_ENTRIES_SET,value:!t.settings.layout.showNumberedEntries})},[r,o,n,t.settings.layout.showNumberedEntries]);return h.jsxs(Rt,{space:"space.200",children:[a&&h.jsxs(Me,{spread:"space-between",alignBlock:"center",children:[h.jsx(Gt,{maxLines:1,children:e(Ae["view-settings.layout.wrap-all-text"])}),h.jsx(_e,{children:h.jsx(xm,{testId:"wrap-all-text-toggle",isChecked:t.settings.layout.wrapAllText,onChange:s})})]}),h.jsxs(Me,{spread:"space-between",alignBlock:"center",children:[h.jsx(Gt,{maxLines:1,children:e(Ae["view-settings.layout.number-entries"])}),h.jsx(_e,{children:h.jsx(xm,{testId:"numbered-entries-toggle",isChecked:t.settings.layout.showNumberedEntries,onChange:i})})]})]})},Toe=({isCompact:e,source:t})=>{const{formatMessage:n}=Ee(),{view:r,setViewChange:o}=at(),{contentId:a}=An(),s=a===null?void 0:a,i=rt(),l=c.useCallback(async(u,f)=>{o({type:It.LAYOUT_TYPE,value:u}),s&&await i.sendLayoutSelectedEvent({layoutType:u,contentId:s,databaseContainer:We(),source:f})},[i,s,o]),d=Object.values(yt);return xk("databases-frontend-layout-calendar",!1)||d.splice(d.indexOf(yt.CALENDAR),1),h.jsx(Me,{space:e?"space.050":"space.100",xcss:ie({flexWrap:"wrap"}),children:d.map(u=>{const f=xg(u,"medium"),p=r.settings.layout.type===u;return h.jsx(_e,{xcss:ie({flex:1}),children:h.jsx(ur,{onClick:()=>l(u,t),shouldFitContainer:!0,isSelected:p,children:h.jsxs(Me,{alignBlock:"center",alignInline:"center",space:"space.050",children:[f.icon,n(f.label)]})})},u)})})},Rmt=ie({paddingTop:"space.100",paddingBottom:"space.200",paddingLeft:"space.150",borderBottomWidth:"2px",borderBottomStyle:"solid",borderBottomColor:"color.border"}),Aoe=e=>{switch(e){case yt.TABLE:return Ae["layout.table-text"];case yt.CARD:return Ae["layout.card-text"];case yt.BOARD:return Ae["layout.board-text"];case yt.CALENDAR:return Ae["layout.calendar-text"]}},Pmt=({contentId:e})=>{const{view:t,setViewChange:n}=at(),{formatMessage:r}=Ee(),o=t.settings.layout,a=c.useCallback(()=>{switch(o.type){case yt.TABLE:return h.jsx($mt,{});case yt.CARD:return h.jsx(Smt,{onChange:n,contentId:e,layout:o,source:"databaseViewSettingsPanel"});case yt.BOARD:return h.jsx(Cmt,{onChange:n,contentId:e,layout:o,source:"databaseViewSettingsPanel"});case yt.CALENDAR:return h.jsx(xmt,{contentId:e,source:"databaseViewSettingsPanel"})}},[o,n,e]);return h.jsxs(Rt,{space:"space.300",children:[h.jsx(Toe,{isCompact:!0,source:"databaseViewSettingsPanel"}),h.jsx(_e,{xcss:Rmt,children:h.jsx(Go,{as:"h3",size:"xsmall",children:r(Ae["view-settings-panel.layout.layout-options-text"],{layoutType:r(Aoe(o.type))})})}),h.jsx(a,{})]})},Lmt=e=>h.jsx(roe,{...e,LEGACY_fallbackIcon:soe}),xg=(e,t="small",n=!1,r=!0,o=!1)=>{if(o)return{label:G["view.unsaved-view"],icon:h.jsx(Of,{IconComponent:WD,iconSize:t,layoutType:G["view.unsaved-view"],isDefault:n,isPresentationOnly:!0})};const a=Aoe(e);switch(e){case yt.TABLE:return{label:a,icon:h.jsx(Of,{IconComponent:Lmt,iconSize:t,layoutType:a,isDefault:n,isPresentationOnly:r})};case yt.CARD:return{label:a,icon:h.jsx(Of,{IconComponent:Xre,iconSize:t,layoutType:a,isDefault:n,isPresentationOnly:r})};case yt.BOARD:return{label:a,icon:h.jsx(Of,{IconComponent:Ure,iconSize:t,layoutType:a,isDefault:n,isPresentationOnly:r})};case yt.CALENDAR:return{label:a,icon:h.jsx(Of,{IconComponent:zre,iconSize:t,layoutType:a,isDefault:n,isPresentationOnly:r})}}},Doe=e=>e?h.jsx(LD,{LEGACY_size:"small",label:"",testId:"sort-icon-ascending"}):h.jsx($D,{LEGACY_size:"small",label:"",testId:"sort-icon-descending"}),I8=({contentId:e,view:t,viewChangeList:n,unsavedView:r})=>o=>{if(r&&du())o(pt(e,"main",{type:ye.SET_SAVED_VIEW,view:r}));else{const a=n.map(s=>Nce(s,t)).filter(s=>s!==void 0);o(pt(e,"main",{type:ye.BULK_APPLY_SAVED_VIEW_CHANGES,changes:a}))}},Nmt=({contentId:e})=>{const{view:t,getViewChangeList:n,resetViewChangeList:r}=at(),{formatMessage:o}=Ee(),a=fe.useDispatch(),s=rt(),i=fe.useEqualSelector(u=>Xe(u,{contentId:e}).views),l=c.useMemo(()=>ql(i,t.id),[i,t.id]),d=vt("databases-frontend-multi-sort");return c.useCallback(async({analyticsSource:u,newViewName:f})=>{let p=!Fg(t.settings.sort,l==null?void 0:l.settings.sort);d&&(p=p||!Fg(t.settings.sorts,l==null?void 0:l.settings.sorts));const m=!Fg(t.settings.filter,l==null?void 0:l.settings.filter),g=!Fg(t.settings.fields,l==null?void 0:l.settings.fields),v=n(),b=f?f!==(l==null?void 0:l.name):!1;if(f&&b){const y={type:It.VIEW_NAME,value:f,delta:mE(t.name,f)};await a(I8({contentId:e,view:{...t,name:f},viewChangeList:[...v,y]}))}else await a(I8({contentId:e,view:t,viewChangeList:v}));r(t.id),s.sendViewUpdatedEvent({contentId:e,databaseContainer:We(),source:u,viewId:t.id,selectedLayout:t.settings.layout.type,sortUpdated:p,filterUpdated:m,hideFieldsUpdated:g,renamed:b}),tn.setMessage(o(Ae["view-settings-panel.update-view-flag-body"],{viewName:f&&b?f:t.name}),{id:"view-updated",type:"success",hideAfter:3e3,showCloseButton:!0})},[t,l==null?void 0:l.settings.sort,l==null?void 0:l.settings.sorts,l==null?void 0:l.settings.filter,l==null?void 0:l.settings.fields,l==null?void 0:l.name,n,r,s,e,o,a,d])},Fmt=({contentId:e})=>{const{view:t,unsavedView:n}=at(),r=fe.useEqualSelector(s=>Xe(s,{contentId:e}).views),o=c.useMemo(()=>ql(r,t.id),[r,t.id]);return c.useMemo(()=>n&&t.id===Wr.UNSAVED?!0:(o&&Fce(t.settings,o.settings))??!1,[o,n,t.id,t.settings])};var Ct=(e=>(e.LAYOUT="layout",e.FILTER="filter",e.SORT="sort",e.FIELDS="fields",e.OVERVIEW="overview",e))(Ct||{});const jmt=({onBack:e})=>{const{formatMessage:t}=Ee(),r=vt("databases-frontend-content-wrapper")?Ae["view-settings-panel.back.content-wrapper-redesign"]:Ae["view-settings-panel.back"];return h.jsx(Bt,{content:t(r),testId:"view-settings-panel-back-tooltip",children:o=>h.jsx(dn,{...o,appearance:"subtle",icon:ZV,label:t(r),onClick:e,testId:"view-settings-panel-back-button"})})},QD="nct-databases",Mb=`${QD}-value`,DS=`${QD}-entry`,$b=`${QD}-database`;function e3(e){return e.field.name?`<span style="word-wrap: normal">${Or(e.field.name)}</span>`:""}function t3({contentId:e,fieldId:t,entryId:n,renderContext:r,selectDatabase:o=Vt,style:a,tag:s="span",skipIfEmpty:i},l){const d=o(l,{contentId:e});if(!d||Ht(d))throw d!=null&&d.error?mr(d.error):new Error("Database is not loaded.");const u=Cn(d,t),f=fn(d,n),p=Wo(d,u,f,l);if(i&&za({database:d,field:u,entry:f,value:p},l))return"";const m=za({database:d,field:u,entry:f,value:p},l),g=jce({database:d,field:u,entry:f,value:p},l,r,0,e);return`<${s} data-is-empty="${m}" class="${Mb} ${Mb}-${Or(p.type)}"${a?` style="${Or(a)}"`:""}>${g||"&nbsp;"}</${s}>`}async function Vmt({contentId:e,fieldId:t,entryId:n,renderContext:r,selectDatabase:o=Vt,style:a,tag:s="span",skipIfEmpty:i},l){const d=o(l,{contentId:e});if(!d||Ht(d))throw d!=null&&d.error?mr(d.error):new Error("Database is not loaded.");const u=Cn(d,t),f=fn(d,n),p=Wo(d,u,f,l);if(i&&za({database:d,field:u,entry:f,value:p},l))return"";const m=await Bce({database:d,field:u,entry:f,value:p},l,r,0,e);return`<${s} class="${Mb} ${Mb}-${Or(p.type)}"${a?` style="${Or(a)}"`:""}>${m||"&nbsp;"}</${s}>`}function Bmt({contentId:e,entryId:t,renderContext:n,showName:r=!1,selectDatabase:o=Vt},a){const s=o(a,{contentId:e});if(!s||Ht(s))throw s!=null&&s.error?mr(s.error):new Error("Database is not loaded.");const i=fn(s,t),l=no(s).map(u=>{const f=e3({database:s,field:u}),p=t3({contentId:e,fieldId:u.id,entryId:t,renderContext:n,selectDatabase:o},a);return`<tr><th style="font-weight: bold">${f}</th><td>${p}</td></tr>`}),d=r?`<h1>${Or(Gr({database:s,entry:i},a))}</h1>`:"";return`<div class="${DS}">${d}<table><tbody>${l.join("")}</tbody></table></div>`}function Ooe({contentId:e,entryId:t,renderContext:n,viewSettings:r=void 0,selectDatabase:o=Vt,style:a="",outerWidth:s},i){const l=o(i,{contentId:e});if(!l||Ht(l))throw l!=null&&l.error?mr(l.error):new Error("Database is not loaded.");const d=no(l).filter(I=>!r||cd(r.fields,I.id)),u=Rm(l,r==null?void 0:r.layout.coverFieldId),f=(r==null?void 0:r.layout.type)===yt.BOARD?Um(l,r.layout):void 0,p=Uce(d,u,f),{coverImage:m,fallback:g}=Rte({contentId:e,entryId:t,viewSettings:r},{dispatch:()=>{},selector:I=>I(i),selectDatabase:o}),v=(s??uk[(r==null?void 0:r.layout.cardWidth)??Da.MEDIUM])-20,b=m&&"fileId"in m?Hce(i,e,m.fileId):void 0,y=(m&&"attachmentId"in m&&"path"in m?`${to()}${m.path}`:m&&"src"in m?m.src:b||void 0)??(g==null?void 0:g.src),E=Cd(`
        width: ${v}px;
        height: ${Math.round(v*90/135)}px;
        overflow: hidden;
    `),w=Cd(`
        width: 100%;
        aspect-ratio: 135 / 90;
        object-fit: cover;
    `),C=u&&y?`<div class="${DS}-card-cover" style="${E}"><img src="${Or(y)}" alt="" style="${w}"/></div>`:"",x=p.map((I,A)=>{const T=Cn(l,I);let O="";return T.id===zce(l)&&(O+="font-size: 16px; line-height: 20px; font-weight:500;"),(A>0||u&&y)&&(O+="margin-top: 12px;"),t3({contentId:e,fieldId:I,entryId:t,renderContext:n,selectDatabase:o,style:O,tag:"div",skipIfEmpty:!0},i)}),S=Cd(`
        display: inline-block;
        padding: 8px;
        border-radius: 3px;
        border: 2px solid ${Dt};
        background: ${Ve};
        width: ${v}px;
        vertical-align: top;
    `);return`<div class="${DS}-card" style="${S}${a}">${C}${x.join("")}</div>`}function Umt({contentId:e,renderContext:t,viewSettings:n,selectDatabase:r=Vt,selectedFieldIds:o,selectedEntryIds:a},s){const i=r(s,{contentId:e});if(!i||Ht(i))throw i!=null&&i.error?mr(i.error):new Error("Database is not loaded.");const l=fu(i,i,n,s),d=no(l).filter(v=>o!=null&&o.length?o.includes(v.id):!0),u=As(l).filter(v=>a!=null&&a.length?a.includes(v.id):!0),p=`<thead><tr>${d.map(v=>`<th>${e3({database:l,field:v})}</th>`).join("")}</tr></thead>`,g=`<tbody>${u.map(v=>`<tr>${d.map(y=>`<td>${t3({contentId:e,fieldId:y.id,entryId:v.id,renderContext:t,selectDatabase:r},s)}</td>`).join("")}</tr>`).join("")}</tbody>`;return a!=null&&a.length||o!=null&&o.length?`<table>${g}</table>`:`<table>${p}${g}</table>`}async function Hmt({contentId:e,renderContext:t,viewSettings:n=void 0,selectDatabase:r=Vt,selectedFieldIds:o,selectedEntryIds:a},s){const i=r(s,{contentId:e});if(!i||Ht(i))throw i!=null&&i.error?mr(i.error):new Error("Database is not loaded.");const l=fu(i,i,n,s),d=no(l).filter(E=>o!=null&&o.length?o.includes(E.id):!0),u=As(l).filter(E=>a!=null&&a.length?a.includes(E.id):!0),p=`<colgroup>${d.map(E=>`<col style="width: ${E.width??Vm}px"/>`).join("")}</colgroup>`,g=`<thead><tr>${d.map(E=>`<th style="font-weight: bold">${e3({database:l,field:E})}</th>`).join("")}</tr></thead>`,b=`<tbody>${(await Promise.all(u.map(async E=>`<tr>${(await Promise.all(d.map(async C=>`<td>${await Vmt({contentId:e,fieldId:C.id,entryId:E.id,renderContext:t,selectDatabase:r},s)}</td>`))).join("")}</tr>`))).join("")}</tbody>`;let y="";return d.some(E=>E.width==null)&&(y+=Cd(`
            width: 100%;
        `)),a!=null&&a.length||o!=null&&o.length?`<table style="${y}">${b}</table>`:`<table style="${y}">${p}${g}${b}</table>`}function zmt({contentId:e,renderContext:t,viewSettings:n=void 0,selectDatabase:r=Vt},o){const a=r(o,{contentId:e});if(!a||Ht(a))throw a!=null&&a.error?mr(a.error):new Error("Database is not loaded.");const s=fu(a,a,n,o);return As(s).map(l=>Ooe({contentId:e,entryId:l.id,renderContext:t,viewSettings:n,selectDatabase:r,style:"margin: 10px;"},o)).join("")}function Wmt({contentId:e,renderContext:t,viewSettings:n=void 0,selectDatabase:r=Vt},o){const a=r(o,{contentId:e});if(!a||Ht(a))throw a!=null&&a.error?mr(a.error):new Error("Database is not loaded.");const s=Um(a,n.layout),i=s&&a.entries.some(m=>{const g=fn(a,m),v=Wo(a,s,g,o);return za({database:a,field:s,entry:g,value:v},o)}),d=uk[(n==null?void 0:n.layout.cardWidth)??Da.MEDIUM]-16,u=Cd(`
        display: inline-block;
        vertical-align: top;
        margin: 10px;
        background: #F5F6F8;
        border-radius: 3px;
        padding: 8px;
        width: ${d}px;
    `),f=[...i?[void 0]:[],...(s==null?void 0:s.settings.selectOptions)??[]];return(f==null?void 0:f.map(m=>{const g=Vce(m),v=`<div class="${$b}-column-header">${g}</div>`,b=m==null?void 0:m.id,E=a.entries.filter(w=>{const C=fn(a,w),x=Wo(a,s,C,o);return x.type===ae.SELECT&&(b!=null?x.value.includes(b):za({database:a,field:s,entry:C,value:x},o))}).map(w=>Ooe({contentId:e,entryId:w,renderContext:t,viewSettings:n,selectDatabase:r,style:"margin-top: 8px;",outerWidth:d},o));return`<div class="${$b}-column" style="${u}">${v}${E.join("")}</div>`})).join("")}async function Gmt({contentId:e,renderContext:t,viewSettings:n=void 0,showName:r=!1,selectDatabase:o=Vt,databaseName:a},s){var f;const i=((f=n==null?void 0:n.layout)==null?void 0:f.type)??yt.TABLE;let l;switch(i){case yt.BOARD:l=Wmt({contentId:e,renderContext:t,viewSettings:n,selectDatabase:o},s);break;case yt.CARD:l=zmt({contentId:e,renderContext:t,viewSettings:n,selectDatabase:o},s);break;default:l=await Hmt({contentId:e,renderContext:t,viewSettings:n,selectDatabase:o},s);break}const d=Cd(`
        overflow-wrap: anywhere;
        font-size: 14px;
    `),u=r?`<h1>${Or(a)}</h1>`:"";return`<div class="${$b} ${$b}-layout-${Or(i)}" style="${d}">${u}${l}</div>`}const FE=async(e,t)=>{try{return await navigator.clipboard.write([new ClipboardItem({[t]:new Blob([e],{type:t})})]),!0}catch(n){const r=n instanceof Error?n:new Error(String(n));return wn("Error while copying to clipboard",r),!1}},c5t=(e,t,n)=>{const r=Xe,o=Tn(t,{contentId:e}),a=pr(t,{contentId:e}),s=Umt({contentId:e,renderContext:Hm.COPY_DATABASE_TO_CLIPBOARD,viewSettings:n,selectDatabase:r,selectedEntryIds:a,selectedFieldIds:o},t);FE(s,"text/html")},n3=e=>{const{unsavedViewId:t}=An(),n=fe.useEqualSelector(o=>{const a=Xe(o,{contentId:e});return pk(a)}),r=kN();return c.useCallback(o=>{const a=new URL(r+n);return a.searchParams.set("savedViewId",o.id),o.id===Wr.UNSAVED&&t?a.searchParams.set("unsavedView",t):a.searchParams.delete("unsavedView"),FE(a.toString(),"text/plain")},[r,n,t])},qmt=({contentId:e})=>{const{formatMessage:t}=Ee(),n=rt(),{view:r}=at(),[o,a]=c.useState(!1),s=n3(e),i=c.useCallback(async()=>{await s(r)?(a(!0),n.sendViewLinkCopiedEvent({contentId:e,databaseContainer:We(),source:"databaseViewSettingsPanel",viewId:r.id}),setTimeout(()=>{a(!1)},3e3)):pu("failed-to-copy-error",t(Ae["view-actions.failed-to-copy-error"]))},[n,e,t,s,r]);return h.jsx(Bt,{content:t(o?G["copy-link.tooltip"]:Ae["view-settings.copy-link"]),testId:"view-settings-panel-copy-link-tooltip",children:l=>h.jsx(dn,{...l,appearance:"subtle",icon:Jr,label:t(Ae["view-settings.copy-link"]),onClick:i,testId:"view-settings-panel-copy-link-button"})})},Ymt=({onDelete:e})=>{const{formatMessage:t}=Ee();return h.jsx(Bt,{content:t(Ae["view-settings-panel.delete"]),testId:"view-settings-panel-delete-tooltip",children:n=>h.jsx(dn,{...n,appearance:"subtle",icon:Ui,label:t(Ae["view-settings-panel.delete"]),onClick:e,testId:"view-settings-panel-delete-button"})})};var r3={};Object.defineProperty(r3,"__esModule",{value:!0});var Moe=r3.default=void 0,Kmt=o3(c),Xmt=o3(zs),Jmt=o3(Sh);function o3(e){return e&&e.__esModule?e:{default:e}}const $oe=e=>Kmt.default.createElement(Xmt.default,Object.assign({LEGACY_fallbackIcon:Jmt.default},e));$oe.Name="CrossCircleIconMigration";Moe=r3.default=$oe;var a3={};Object.defineProperty(a3,"__esModule",{value:!0});var jE=a3.default=void 0,Zmt=s3(c),Qmt=s3(Mu),eht=s3(N1);function s3(e){return e&&e.__esModule?e:{default:e}}const Roe=e=>Zmt.default.createElement(Qmt.default,Object.assign({LEGACY_fallbackIcon:eht.default},e));Roe.Name="SearchIconMigration";jE=a3.default=Roe;const tht=ie({marginTop:"space.150",marginBottom:"space.250"}),nht=ie({marginRight:"space.075",":hover":{cursor:"pointer"}}),rht=ie({marginLeft:"space.075"}),Poe=({searchValue:e,setSearchValue:t})=>{const{formatMessage:n}=Ee(),r=c.useMemo(()=>e.length>0&&h.jsx(_e,{role:"button",tabIndex:0,xcss:nht,onClick:()=>t(""),onKeyDown:a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),t(""))},"aria-label":n(Ae["view-settings-panel.fields-search-clear-label"]),children:h.jsx(Moe,{spacing:"spacious",label:""})}),[n,e.length,t]),o=h.jsx(it,{xcss:rht,children:h.jsx(jE,{spacing:"spacious",label:""})});return h.jsx(_e,{xcss:tht,children:h.jsx(ts,{value:e,onChange:a=>t(a.target.value),placeholder:n(Ae["view-settings-fields.search-placeholder"]),"aria-label":n(Ae["view-settings-fields.search-placeholder"]),elemBeforeInput:o,elemAfterInput:r})})},oht=ie({color:"color.text.subtle",backgroundColor:"color.background.neutral.subtle",fontWeight:U("font.weight.medium","500"),":hover":{textDecoration:"underline"},":active":{color:"color.text"}}),aht=ie({cursor:"default",color:"color.text.disabled",":hover":{textDecoration:"none"},":active":{color:"color.text.disabled"}}),T8=({text:e,onClick:t,isDisabled:n=!1})=>h.jsx(Co,{isDisabled:n,onClick:t,xcss:[oht,n&&aht],children:e}),sht=ie({marginInlineStart:"space.150"}),FC=({field:e,handleToggleField:t,isLayoutDependent:n})=>{const{view:r}=at(),{formatMessage:o}=Ee(),a=`field-toggle-${e.id}`;return h.jsxs(Me,{spread:"space-between",alignBlock:"center",xcss:sht,children:[h.jsxs(Me,{alignBlock:"center",space:"space.100",children:[h.jsx(Ms,{type:e.type,noTooltip:!0}),n?h.jsx(Gt,{maxLines:1,children:e.name}):h.jsx("label",{htmlFor:a,children:h.jsx(Gt,{maxLines:1,children:e.name})})]}),h.jsx(_e,{children:n?h.jsxs(Me,{alignBlock:"center",space:"space.050",children:[h.jsx(Gt,{children:o(Ae["view-settings-fields.shown.must-show"])}),h.jsx(dn,{icon:Lj,appearance:"subtle",label:o(Ae["view-settings-fields.shown.layout-dependent-field-tooltip"]),isTooltipDisabled:!1,tooltip:{position:"bottom",hideTooltipOnClick:!0}})]}):h.jsx(xm,{id:a,testId:"field-toggle",isChecked:cd(r.settings.fields,e.id),onChange:()=>t==null?void 0:t(e)})})]})},iht=({contentId:e,databaseFields:t})=>{const n=rt(),{view:r,setViewChange:o}=at(),{formatMessage:a}=Ee(),s=r.settings.fields,i=r.settings.layout,[l,d]=c.useState(""),u=fe.useEqualSelector(w=>e?Xe(w,{contentId:e}):void 0),f=u&&Um(u,i),p=u&&zN(u,i),m=c.useCallback(w=>{const C=cd(s,w.id),x={type:It.VIEW_FIELDS,fieldKey:w.id,fieldValue:!C,fields:t};o(x),n.sendHideColumnsEvent({source:"databaseViewSettingsPanel",contentId:e,databaseContainer:We(),hidden:C,fieldType:w.type})},[n,e,t,o,s]),g=t.filter(w=>i.type!==yt.BOARD||w.id!==(f==null?void 0:f.id)).filter(w=>i.type!==yt.CALENDAR||w.id!==(p==null?void 0:p.id)),v=c.useMemo(()=>i.type===yt.BOARD?f:i.type===yt.CALENDAR?p:null,[p,f,i.type]),b=c.useMemo(()=>g.filter(w=>cd(s,w.id)),[g,s]),y=c.useMemo(()=>g.filter(w=>!cd(s,w.id)),[g,s]),E=c.useCallback(w=>{const C=[];for(const x of g)w!==cd(s,x.id)&&C.push({type:It.VIEW_FIELDS,fieldKey:x.id,fieldValue:w,fields:t});o(C),n.sendHideAllColumnsEvent({source:"databaseViewSettingsPanel",contentId:e,databaseContainer:We(),hidden:!w})},[n,e,t,g,o,s]);return h.jsxs(Rt,{space:"space.150",children:[h.jsx(Poe,{searchValue:l,setSearchValue:d}),(b.length>0||v)&&h.jsxs(h.Fragment,{children:[h.jsxs(Me,{alignBlock:"center",spread:"space-between",children:[h.jsx(Go,{as:"h3",size:"xsmall",children:a(Ae["view-settings-fields.heading.shown"])}),b.length>0&&h.jsx(T8,{text:a(Ae["view-settings-fields.switch.hide-all"]),onClick:()=>E(!1)})]}),h.jsxs(Rt,{space:"space.100",children:[v&&h.jsx(FC,{field:v,isLayoutDependent:!0},v.id),b.filter(w=>w.name.toLowerCase().includes(l.toLowerCase())).map(w=>h.jsx(FC,{field:w,handleToggleField:m},w.id))]})]}),y.length>0&&h.jsxs(h.Fragment,{children:[h.jsxs(Me,{alignBlock:"center",spread:"space-between",children:[h.jsx(Go,{as:"h3",size:"xsmall",children:a(Ae["view-settings-fields.heading.hidden"])}),h.jsx(T8,{text:a(Ae["view-settings-fields.switch.show-all"]),onClick:()=>E(!0)})]}),h.jsx(Rt,{space:"space.100",children:y.filter(w=>w.name.toLowerCase().includes(l.toLowerCase())).map(w=>h.jsx(FC,{field:w,handleToggleField:m},w.id))})]})]})};function lht(e,t){return(e.value.filter(o=>WN(o)).findIndex(o=>o.id===t)+1).toString()}function Loe(e,t,n,r){const o=e.type===qe.EQUALS||e.type===qe.GREATER||e.type===qe.LESS?e.value:e.type===qe.CONTAINS?{type:ae.TEXT,value:e.value}:{type:ae.TEXT,value:""},a=Xe(r,{contentId:n}),s=Un(a,"fieldId"in e?e.fieldId:void 0)??on(ae.TEXT),i=lc(a),l=t.type===qe.EQUALS||t.type===qe.GREATER||t.type===qe.LESS?o:t.type===qe.CONTAINS?Kl({database:a,field:s,entry:i,value:o},r):void 0;return{...t,fieldId:e.fieldId,value:l}}const VE=({onChange:e,filterObject:t,contentId:n,store:r})=>{const o=rt(),a=c.useMemo(()=>(t==null?void 0:t.type)===qe.AND||(t==null?void 0:t.type)===qe.OR?t.value:t?[t]:[],[t]),[s,i]=c.useState([]),l=a.length===0&&s.length===1,d=s[0],u=c.useCallback((x,S,I)=>{e({type:Sl.VIEW_FILTERS_SET_FILTER_USAGE_TYPE,usageType:x,usageFilterId:S,path:I})},[e]),f=c.useCallback(()=>{i(x=>[...x,wt()])},[]),p=c.useCallback((x,S)=>{i(I=>I.filter(A=>A!==x)),l&&d===x&&(t==null?void 0:t.id)!==void 0&&e({type:It.VIEW_FILTERS_REMOVE,filterId:t==null?void 0:t.id,path:S})},[l,d,t==null?void 0:t.id,e]),m=c.useCallback(x=>{e({type:It.VIEW_FILTERS_APPEND,filter:{type:qe.EQUALS,id:wt(),fieldId:x??"",value:zm(ae.TEXT)}})},[e]),g=c.useCallback(()=>{e({type:It.VIEW_FILTERS_APPEND,filter:{id:wt(),type:qe.AND,value:[]}}),o.sendDatabaseFilteredEvent({contentId:n,databaseContainer:We(),filterType:qe.AND,source:"databaseViewSettingsPanel"})},[e,o,n]),v=c.useCallback((x,S,I)=>{e({type:It.VIEW_FILTERS_APPEND,filterGroupId:S,filterGroupPath:I,filter:x})},[e]),b=c.useCallback((x,S,I,A)=>{v(S,I,A),i(T=>T.filter(O=>O!==x))},[v]),y=c.useCallback(x=>{let S={...t,fieldId:x.id};const I=GN(x.type);S.type&&!I.includes(S.type)&&(S=Loe(S,{id:S.id,type:I[0]},n,r.getState())),e({type:Sl.VIEW_FILTERS_SET_FIELD_ID,filter:S})},[n,t,e,r]),E=c.useCallback(x=>{e({type:Sl.VIEW_FILTERS_SET_FILTER_TYPE,filter:x})},[e]),w=c.useCallback((x,S)=>{if(x.type!==qe.EMPTY)for(const I of S)e({type:Sl.VIEW_FILTERS_SET_VALUE,filter:x,change:I})},[e]),C=c.useCallback(()=>{e({type:It.VIEW_FILTERS_CLEAR})},[e]);return{draftFilterIds:s,filters:a,handleAddDraftFilter:f,handleChangeFilterType:u,handleCreateDefaultFilter:m,handleCreateDefaultFilterGroup:g,handleCreateFilter:v,handleFieldChange:y,handleFilterTypeChange:E,handleFilterValueChange:w,handleRemoveDraftFilter:p,handleSaveDraftFilter:b,handleClearFilters:C}},Tr={[qe.EQUALS]:e=>{const{fieldType:t,formatMessage:n,not:r}=e;return r?t===ae.DATE?n(G["toolbar-filter.type-picker-date-is-not-on-text"]):t===ae.NUMBER?n(G["toolbar-filter.type-picker-number-does-not-equal"]):n(G["toolbar-filter.type-picker-is-not-text"]):t===ae.DATE?n(G["toolbar-filter.type-picker-date-is-on-text"]):t===ae.NUMBER?n(G["toolbar-filter.type-picker-number-equals-text"]):n(G["toolbar-filter.type-picker-is-text"])},[qe.CONTAINS]:({formatMessage:e,not:t})=>e(t?G["toolbar-filter.type-picker-does-not-contain-text"]:G["toolbar-filter.type-picker-contains-text"]),[qe.EMPTY]:({formatMessage:e,not:t})=>e(t?G["toolbar-filter.type-picker-is-not-empty-text"]:G["toolbar-filter.type-picker-is-empty-text"]),[qe.GREATER]:e=>{const{fieldType:t,formatMessage:n,orEqual:r}=e;return r?t===ae.DATE?n(G["toolbar-filter.type-picker-is-on-or-after-text"]):n(G["toolbar-filter.type-picker-is-greater-than-or-equal-text"]):t===ae.DATE?n(G["toolbar-filter.type-picker-is-after-text"]):n(G["toolbar-filter.type-picker-is-greater-than-text"])},[qe.LESS]:e=>{const{fieldType:t,formatMessage:n,orEqual:r}=e;return r?t===ae.DATE?n(G["toolbar-filter.type-picker-is-on-or-before-text"]):n(G["toolbar-filter.type-picker-is-less-than-or-equal-text"]):t===ae.DATE?n(G["toolbar-filter.type-picker-is-before-text"]):n(G["toolbar-filter.type-picker-is-less-than-text"])}},cht=({fieldType:e,filter:t})=>{const{formatMessage:n}=Ee();return c.useMemo(()=>{if(t.type===qe.EQUALS)return Tr[qe.EQUALS]({fieldType:e,formatMessage:n,not:t.not});if(t.type===qe.CONTAINS)return Tr[qe.CONTAINS]({fieldType:e,formatMessage:n,not:t.not});if(t.type===qe.EMPTY)return Tr[qe.EMPTY]({fieldType:e,formatMessage:n,not:t.not});if(t.type===qe.GREATER)return Tr[qe.GREATER]({fieldType:e,formatMessage:n,orEqual:t.orEqual});if(t.type===qe.LESS)return Tr[qe.LESS]({fieldType:e,formatMessage:n,orEqual:t.orEqual})},[e,t,n])},dht=e=>e.label,uht={menu:e=>({...e,width:"max-content",minWidth:"100%"})},fht=({value:e,onChange:t,types:n,contentId:r})=>{const o=rt(),a=fe.useStore(),s=We(),i=c.useCallback(p=>{p&&(t(Loe(e,{id:e.id,...ap(p,"label")},r,a.getState())),o.sendDatabaseFilteredEvent({contentId:r,databaseContainer:s,filterType:p.type,source:"databaseViewSettingsPanel"}))},[r,t,a,e,o,s]),l=fe.useSelector(p=>{const m=kt(p,{contentId:r,includeDeleted:!0});return Un(m,e.fieldId)}),{formatMessage:d}=Ee(),u=c.useMemo(()=>{const p=[{label:Tr[qe.EQUALS]({fieldType:l==null?void 0:l.type,formatMessage:d}),type:qe.EQUALS},{label:Tr[qe.EQUALS]({fieldType:l==null?void 0:l.type,formatMessage:d,not:!0}),type:qe.EQUALS,not:!0},{label:Tr[qe.CONTAINS]({fieldType:l==null?void 0:l.type,formatMessage:d}),type:qe.CONTAINS},{label:Tr[qe.CONTAINS]({fieldType:l==null?void 0:l.type,formatMessage:d,not:!0}),type:qe.CONTAINS,not:!0},{label:Tr[qe.EMPTY]({fieldType:l==null?void 0:l.type,formatMessage:d}),type:qe.EMPTY},{label:Tr[qe.EMPTY]({fieldType:l==null?void 0:l.type,formatMessage:d,not:!0}),type:qe.EMPTY,not:!0},{label:Tr[qe.GREATER]({fieldType:l==null?void 0:l.type,formatMessage:d}),type:qe.GREATER,orEqual:!1},{label:Tr[qe.GREATER]({fieldType:l==null?void 0:l.type,formatMessage:d,orEqual:!0}),type:qe.GREATER,orEqual:!0},{label:Tr[qe.LESS]({fieldType:l==null?void 0:l.type,formatMessage:d}),type:qe.LESS,orEqual:!1},{label:Tr[qe.LESS]({fieldType:l==null?void 0:l.type,formatMessage:d,orEqual:!0}),type:qe.LESS,orEqual:!0}];return(l==null?void 0:l.type)===ae.NUMBER?kue(p,m=>m.type,"asc"):p},[l==null?void 0:l.type,d]),f=c.useMemo(()=>n?u.filter(p=>n.includes(p.type)):u,[u,n]);return h.jsx(Jo,{options:f,value:u.find(p=>la(ap(p,["label"]),ap(e,["fieldId","value","id"]))),onChange:i,getOptionValue:dht,styles:uht,inputId:"filter-value-edit-type-select"})},i3=c.forwardRef(function({contentId:t,entryId:n,field:r,value:o,onChange:a,onBlur:s,onFocus:i,...l},d){const u=vt("databases-frontend-ci2-m1"),f=So(r.type),p=u&&f.popoverEdit?f.popoverEdit:f.edit,{formatMessage:m}=Ee();if(!p)throw new Error(m(G["error-message.unknown-field-type"],{fieldType:r.type}));const g=De((w,C)=>{a({type:r.type,value:w},C)},[r.type,a]),v=fe.useStore(),b=c.useMemo(()=>Bm({field:r,value:o},r.type,v.getState()),[r,v,o]);Mte({contentId:t,entryId:n,field:r,convertedValue:b},v.getState());const y=c.useRef(),E=c.useCallback(()=>h.jsx(p,{field:r,value:b.value,onChange:g,contentId:t,entryId:n,ref:eo(y,d),onFocus:i,onBlur:s,...l}),[p,r,b.value,g,t,n,d,s,i,l]);return h.jsx(Rr,{error:void 0,children:E})}),pht=({contentId:e,value:t,onChange:n,onChangeDebounceMs:r,autoFocus:o=!1,appearance:a})=>{const[s,i]=bDe(t,n,r),l=De(async(f,p)=>{i({...s,value:f},p)},[i,s]),d=De(f=>{l(f.target.value,null)},[l]),u=fe.useSelector(f=>{const p=kt(f,{contentId:e,includeDeleted:!0});return Un(p,s.fieldId)});switch(s.type){case qe.EQUALS:case qe.GREATER:case qe.LESS:return u?h.jsx(i3,{contentId:e,field:u,value:s.value,onChange:l,autoFocus:o,isBulkEdit:!1,appearance:a,isFilterValueEdit:!0}):null;case qe.CONTAINS:return h.jsx(ts,{value:s.value,onChange:d,autoFocus:o,testId:"filter-value-edit-contains-textfield"});default:return null}},mht=ie({backgroundColor:"color.background.input",borderColor:"color.border",borderWidth:"border.width",borderStyle:"solid",borderRadius:"border.radius.100",padding:"space.250"}),l3=({contentId:e,filter:t,isNew:n,onCancel:r,onDelete:o,onSubmit:a})=>{const s=rt(),{formatMessage:i}=Ee(),l=We(),[d,u]=c.useState(()=>aM(t)),f=c.useMemo(()=>!la(d,t),[d,t]),p=fe.useStore(),m=c.useCallback(I=>{if(I.type===Sl.VIEW_FILTERS_SET_FIELD_ID||I.type===Sl.VIEW_FILTERS_SET_FILTER_TYPE){if(Ii(I.filter))return;u(aM(I.filter))}I.type===Sl.VIEW_FILTERS_SET_VALUE&&u(A=>A.type===qe.EMPTY||I.filter.type===qe.EMPTY?A:A.type===qe.CONTAINS?typeof I.filter.value=="string"?{...A,value:I.filter.value}:A:typeof I.filter.value=="string"||Array.isArray(I.filter.value)?A:{...A,value:I.filter.value})},[]),{handleFieldChange:g,handleFilterTypeChange:v,handleFilterValueChange:b}=VE({onChange:m,filterObject:d,contentId:e,store:p}),[y,E]=fe.useEqualSelector(I=>{const A=Xe(I,{contentId:e}),T=Ii(d)?void 0:d.fieldId;return[no(A),Un(A,T)]}),w=c.useMemo(()=>E?GN(E.type):void 0,[E]),C=E==null?void 0:E.type,x=c.useCallback(()=>{C&&s.sendDatabaseFilteredEvent({contentId:e,databaseContainer:l,fieldType:C,filterType:d.type,source:"databaseViewSettingsPanel"}),a(d)},[s,e,d,C,a,l]),S=Ii(d)||E!==void 0;return h.jsxs(Rt,{space:"space.200",xcss:mht,children:[h.jsxs(Me,{alignBlock:"center",grow:"fill",spread:"space-between",children:[h.jsx(Go,{size:"xxsmall",as:"h3",children:i(n?Ae["view-settings-panel-filter.edit-filter-create-heading"]:Ae["view-settings-panel-filter.edit-filter-update-heading"])}),o&&h.jsx(dn,{appearance:"subtle",icon:ly,label:i(Ae["view-settings-panel-filter.filter-delete-action-label"]),onClick:o,spacing:"compact"})]}),h.jsxs(Rt,{space:"space.100",children:[h.jsx(NE,{isRequired:!0,fields:y,value:E,onChange:g,autoFocus:!E,placeholder:i(Ae["view-settings-panel-filter.select-field-placeholder"])}),h.jsx(fht,{contentId:e,value:d,onChange:v,types:w}),h.jsx(pht,{contentId:e,value:d,onChange:b,onChangeDebounceMs:0,autoFocus:!!E,appearance:"default"})]}),h.jsxs(Me,{space:"space.050",children:[h.jsx(ur,{appearance:"primary",isDisabled:!f||!S,onClick:x,spacing:"compact",children:i(n?Ae["view-settings-panel-filter.edit-filter-create-button"]:Ae["view-settings-panel-filter.edit-filter-update-button"])}),h.jsx(ur,{appearance:"subtle",onClick:r,spacing:"compact",children:i(Ae["view-settings-panel-filter.edit-filter-cancel-button"])})]})]})};var Sg={};Object.defineProperty(Sg,"__esModule",{value:!0});var Noe=Sg.default=void 0,hht=Foe(c),ght=Foe(Oe);function Foe(e){return e&&e.__esModule?e:{default:e}}const joe=e=>hht.default.createElement(ght.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" d="M8.75 1.5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m0 6.5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m0 6.5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0"/><path stroke="currentcolor" stroke-width="1.5" d="M8.75 1.5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm0 6.5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm0 6.5a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"/>'},e));joe.displayName="ShowMoreVerticalIcon";Noe=Sg.default=joe;const vht=({contentId:e,filter:t})=>{const n=Du(),r=Ii(t)?void 0:t.fieldId;return fe.useEqualSelector(o=>{const a=Xe(o,{contentId:e}),s=Un(a,r);if(!(!s||Ii(t)||t.type===qe.EMPTY)){if(t.type===qe.CONTAINS)return t.value;if(t.value.type===ae.SELECT){const i=Kl({database:a,field:s,value:t.value},o);return i==null?void 0:i.split(`
`).join(", ")}return t.value.type===ae.DATE&&t.value.value!==void 0?s1(t.value.value,n):t.value.type===ae.NUMBER?t.value.value===""?"":Yl(t.value.value,s,n):Kl({database:a,field:s,value:t.value},o)}})},mo=xr({"view-settings.filter-panel.fieldless-filter-name":{id:"view-settings.filter-panel.fieldless-filter-name",defaultMessage:"Undefined",description:"The text displayed for a filter in the Filter view settings panel when the filter does not have a field associated with it"},"view-settings.sort-by-panel.alphabetical-ascending":{id:"view-settings.sort-by-panel.alphabetical-ascending",defaultMessage:"A  Z",description:"The label for the ascending sort direction for fields sorted alphabetically"},"view-settings.sort-by-panel.alphabetical-descending":{id:"view-settings.sort-by-panel.alphabetical-descending",defaultMessage:"Z  A",description:"The label for the descending sort direction for fields sorted alphabetically"},"view-settings.sort-by-panel.date-ascending":{id:"view-settings.sort-by-panel.date-ascending",defaultMessage:"Earliest  Latest",description:"The label for the ascending sort direction for date-related fields"},"view-settings.sort-by-panel.date-descending":{id:"view-settings.sort-by-panel.date-descending",defaultMessage:"Latest  Earliest",description:"The label for the descending sort direction for date-related fields"},"view-settings.sort-by-panel.more-actions":{id:"view-settings.sort-by-panel.more-actions",defaultMessage:"Show more actions",description:'The label for the icon button that shows more actions that can be taken on a "sort by" field"'},"view-settings.sort-by-panel.more-actions.delete":{id:"view-settings.sort-by-panel.more-actions.delete",defaultMessage:"Delete sort",description:'Action menu item to delete this "sort by " field'},"view-settings.sort-by-panel.more-actions.move-down":{id:"view-settings.sort-by-panel.more-actions.move-down",defaultMessage:"Move sort down",description:'Action menu item to move this "sort by " field down by 1 position'},"view-settings.sort-by-panel.more-actions.move-to-bottom":{id:"view-settings.sort-by-panel.more-actions.move-to-bottom",defaultMessage:"Move to bottom",description:'Action menu item to move this "sort by " field position to the bottom'},"view-settings.sort-by-panel.more-actions.move-to-top":{id:"view-settings.sort-by-panel.more-actions.move-to-top",defaultMessage:"Move to top",description:'Action menu item to move this "sort by " field position to the top'},"view-settings.sort-by-panel.more-actions.move-up":{id:"view-settings.sort-by-panel.more-actions.move-up",defaultMessage:"Move sort up",description:'Action menu item to move this "sort by " field up by 1 position'},"view-settings.sort-by-panel.numeric-ascending":{id:"view-settings.sort-by-panel.numeric-ascending",defaultMessage:"Low  High",description:"The label for the ascending sort direction for fields sorted numerically"},"view-settings.sort-by-panel.numeric-descending":{id:"view-settings.sort-by-panel.numeric-descending",defaultMessage:"High  Low",description:"The label for the descending sort direction for fields sorted numerically"}}),A8=({children:e,color:t,tooltip:n})=>h.jsx(Zr,{content:n||e,isScreenReaderAnnouncementDisabled:!0,children:r=>h.jsx("span",{...r,children:h.jsx(Gt,{color:t,maxLines:1,children:e})})}),bht=({contentId:e,filter:t})=>{const{formatMessage:n}=Ee(),r=Ii(t)?void 0:t.fieldId,[o,a]=fe.useEqualSelector(u=>{const f=Xe(u,{contentId:e}),p=Un(f,r);return[p==null?void 0:p.name,p==null?void 0:p.type]}),s=cht({fieldType:a,filter:t}),i=vht({contentId:e,filter:t});if(!a||!o)return h.jsx(A8,{color:"color.text.subtlest",children:n(mo["view-settings.filter-panel.fieldless-filter-name"])});const l=i?`${o} ${s}: ${i}`:`${o} ${s}`,d=i?h.jsxs(h.Fragment,{children:[`${o} ${s}: `,h.jsx(Gt,{weight:"bold",children:i})]}):`${o} ${s}`;return h.jsxs(Me,{alignBlock:"center",space:"space.075",children:[h.jsx(Ms,{noTooltip:!0,type:a}),h.jsx(A8,{tooltip:l,children:d})]})},yht=ie({backgroundColor:"color.background.input",borderColor:"color.border",borderWidth:"border.width",borderStyle:"solid",borderRadius:"border.radius.100",paddingBlock:"space.100",paddingInline:"space.200"}),Eht=({contentId:e,filter:t,onEdit:n,onDelete:r})=>{const{formatMessage:o}=Ee(),[a,s]=c.useState(!1),i=c.useCallback(()=>{n==null||n()},[n]),l=c.useCallback(()=>{s(!0)},[]);return h.jsxs(Me,{alignBlock:"center",grow:"fill",space:"space.100",spread:"space-between",xcss:yht,children:[h.jsx(bht,{contentId:e,filter:t}),a?h.jsxs(Me,{alignBlock:"center",grow:"hug",space:"space.100",children:[n&&h.jsx(dn,{appearance:"subtle",icon:JJ,label:o(Ae["view-settings-panel-filter.filter-edit-action-label"]),onClick:i}),r&&h.jsx(dn,{appearance:"subtle",icon:ly,label:o(Ae["view-settings-panel-filter.filter-delete-action-label"]),onClick:r})]}):h.jsx(dn,{appearance:"subtle",icon:Noe,isDisabled:!n&&!r,label:o(Ae["view-settings-panel-filter.filter-show-more-actions-label"]),onClick:l})]})},Voe=({contentId:e,filter:t,onDelete:n,onSubmit:r})=>{const[o,a]=c.useState(!1),s=c.useCallback(()=>{a(!1)},[]),i=c.useCallback(()=>{a(!0)},[]),l=c.useCallback(u=>{r(u),a(!1)},[r]),d=c.useCallback(()=>{n(),a(!1)},[n]);return o?h.jsx(l3,{contentId:e,filter:t,onCancel:s,onDelete:d,onSubmit:l}):h.jsx(Eht,{contentId:e,filter:t,onEdit:i,onDelete:d})};var c3={};Object.defineProperty(c3,"__esModule",{value:!0});var Boe=c3.default=void 0,wht=Uoe(c),Cht=Uoe(Oe);function Uoe(e){return e&&e.__esModule?e:{default:e}}const Hoe=e=>wht.default.createElement(Cht.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M12 6A6 6 0 1 1 0 6a6 6 0 0 1 12 0m-7.5-.75H6a.75.75 0 0 1 .75.75v4h-1.5V6.75H4.5zM6 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2" clip-rule="evenodd"/>',type:"utility"},e));Hoe.displayName="InformationIcon";Boe=c3.default=Hoe;const _ht="83px",xht=ie({gap:"space.075"}),Sht=ie({alignItems:"center",gap:"space.050"}),D8={[qe.AND]:Ae["view-settings-panel-filter.and-filter-type-label"],[qe.OR]:Ae["view-settings-panel-filter.or-filter-type-label"]},kht={[qe.AND]:Ae["view-settings-panel-filter.and-filter-type-info-text"],[qe.OR]:Ae["view-settings-panel-filter.or-filter-type-info-text"]},Rb=({handleChangeFilterType:e,isEditable:t,usageFilter:n,path:r})=>{const{formatMessage:o}=Ee(),a=Object.keys(D8).map(u=>({label:o(D8[u]),value:u})),s={control:(u,f)=>({...u,border:`1px solid ${f.isFocused?U("color.border.focused","#388BFF"):U("color.border","#8590A2")}`,width:_ht}),menu:u=>({...u,width:"max-content"})},i=c.useMemo(()=>a.find(u=>u.value===(n==null?void 0:n.type)),[n==null?void 0:n.type,a]),l=c.useCallback(u=>{u&&e(u.value,n==null?void 0:n.id,r)},[e,r,n==null?void 0:n.id]),d=c.useCallback((u,f)=>{const p=u.value===(i==null?void 0:i.value);return f.context==="menu"?h.jsxs(Rt,{xcss:xht,children:[h.jsx(_e,{children:u.label}),h.jsxs(Me,{xcss:Sht,children:[h.jsx(Boe,{color:p?U("color.icon.accent.blue","#1D7AFC"):U("color.icon.subtle","#5E6C84"),label:""}),h.jsx(Gt,{size:"small",color:p?"color.text.selected":"color.text.subtlest",children:o(kht[u.value])})]})]}):h.jsx(Gt,{children:u.label})},[o,i==null?void 0:i.value]);return h.jsx(_e,{testId:"filter-type-dropdown-menu",xcss:ie({paddingInline:t?"space.0":"space.075"}),children:t?h.jsx(Jo,{inputId:"filter-type-dropdown",value:i,placeholder:"",options:a,onChange:l,formatOptionLabel:d,styles:s,isSearchable:!1}):h.jsx(h.Fragment,{children:i==null?void 0:i.label})})},zoe={fieldId:"",type:qe.EQUALS,value:zm(ae.TEXT)},Iht=ie({backgroundColor:"color.background.input.hovered",borderColor:"color.border",borderWidth:"border.width",borderStyle:"solid",borderRadius:"border.radius.100",gap:"space.150",paddingInline:"space.250",paddingBlock:"space.200"}),Tht=({contentId:e,parentFilter:t,groupIndex:n,groupIdentifier:r})=>{const{setViewChange:o}=at(),{formatMessage:a}=Ee(),s=fe.useStore(),{draftFilterIds:i,filters:l,handleAddDraftFilter:d,handleChangeFilterType:u,handleRemoveDraftFilter:f,handleSaveDraftFilter:p}=VE({onChange:o,filterObject:t,contentId:e,store:s});c.useEffect(()=>{l.length===0&&d()},[]);const m=c.useMemo(()=>l.map((v,b)=>{const y=b===l.length-1,E=i.length>0,w=!y||y&&E;return Ii(v)?null:h.jsxs(Rt,{space:"space.200",children:[h.jsx(Voe,{contentId:e,filter:v,onSubmit:C=>{o({type:It.VIEW_FILTERS_SET,filter:C,path:[n,b]})},onDelete:()=>{o({type:It.VIEW_FILTERS_REMOVE,filterId:v.id,path:[n,b]})}}),w&&h.jsx(Rb,{handleChangeFilterType:u,isEditable:b===0,usageFilter:t,path:[n]})]},v.id)}),[e,i.length,l,u,o,n,t]),g=i.map((v,b)=>h.jsxs(c.Fragment,{children:[h.jsx(l3,{contentId:e,filter:{...zoe,id:v},isNew:!0,onCancel:()=>f(v,[n]),onSubmit:y=>{p(v,y,t.id,[n])}}),b!==i.length-1&&h.jsx(Rb,{handleChangeFilterType:u})]},v));return h.jsxs(Rt,{xcss:Iht,testId:`view-settings-panel-filter.filter-group-${r}`,children:[h.jsxs(Me,{alignBlock:"start",grow:"fill",space:"space.100",children:[h.jsx(mZ,{label:""}),h.jsx(Go,{size:"xxsmall",children:h.jsx(_e,{xcss:ie({textTransform:"uppercase"}),children:a(Ae["view-settings-panel-filter.filter-group-heading"],{identifier:r})})})]}),m,g,h.jsx(_e,{children:h.jsx(ur,{appearance:"subtle",testId:"view-settings-filter-group.add-filter-button",iconBefore:Qr,onClick:d,children:a(Ae["view-settings-panel-filter.add-filter-button-text"])})})]})},Aht=({contentId:e})=>{const{view:t}=at(),{formatMessage:n}=Ee(),r=t.settings.filter,o=fe.useStore(),{setViewChange:a}=at(),s=vt("databases-frontend-nested-filters"),{draftFilterIds:i,filters:l,handleAddDraftFilter:d,handleChangeFilterType:u,handleCreateDefaultFilterGroup:f,handleRemoveDraftFilter:p,handleSaveDraftFilter:m,handleClearFilters:g}=VE({onChange:a,filterObject:r,contentId:e,store:o});c.useEffect(()=>{l.length===0&&d()},[]);const v=c.useMemo(()=>l.map((y,E)=>{const w=E===l.length-1,C=i.length>0,x=!w||w&&C;return h.jsxs(Rt,{space:"space.200",children:[s&&Ii(y)?h.jsx(Tht,{contentId:e,parentFilter:y,groupIndex:E,groupIdentifier:lht(r,y.id)}):h.jsx(Voe,{contentId:e,filter:y,onSubmit:S=>{a({type:It.VIEW_FILTERS_SET,filter:S,path:[E]})},onDelete:()=>{a({type:It.VIEW_FILTERS_REMOVE,filterId:y.id,path:[E]})}}),x&&h.jsx(Rb,{handleChangeFilterType:u,isEditable:E===0,usageFilter:r})]},y.id)}),[e,i.length,l,r,u,s,a]),b=i.map((y,E)=>h.jsxs(c.Fragment,{children:[h.jsx(l3,{contentId:e,filter:{...zoe,id:y},isNew:!0,onCancel:()=>p(y),onSubmit:w=>{m(y,w)}}),E!==i.length-1&&h.jsx(Rb,{handleChangeFilterType:u,usageFilter:r})]},y));return h.jsxs(Rt,{space:"space.200",children:[h.jsx(Gt,{size:"small",children:n(Ae["view-settings-panel-filter.header-info-text"])}),(l.length>0||b.length>0)&&h.jsxs(Rt,{space:"space.200",children:[v,b]}),h.jsxs(Me,{space:"space.050",children:[s?h.jsxs(U_e,{children:[h.jsx(ur,{testId:"view-settings-panel-filter.add-filter-button",iconBefore:Qr,onClick:d,children:n(Ae["view-settings-panel-filter.add-filter-button-text"])}),h.jsx(Uq,{testId:"view-settings-panel-filter.filter-options-dropdown-menu",shouldRenderToParent:!0,placement:"bottom-end",trigger:({triggerRef:y,...E})=>h.jsx(Bt,{content:n(Ae["view-settings-panel-filter.filter-button-options-label"]),position:"bottom-end",children:h.jsx(dn,{ref:y,...E,icon:Ws,label:n(Ae["view-settings-panel-filter.filter-button-options-label"])})}),children:h.jsx(qa,{children:h.jsx(zf,{onClick:f,testId:"view-settings-panel-filter.add-filter-group-button",children:n(Ae["view-settings-panel-filter.add-filter-group-button-text"])})})})]}):h.jsx(ur,{testId:"view-settings-panel-filter.add-filter-button",iconBefore:Qr,onClick:d,children:n(Ae["view-settings-panel-filter.add-filter-button-text"])}),l.length>0&&h.jsx(ur,{appearance:"subtle",onClick:g,children:n(Ae["view-settings-panel-filter.clear-filters-button-text"])})]})]})},Dht=ie({width:"100%",bottom:"space.0",backgroundColor:"elevation.surface",zIndex:"navigation",flexWrap:"wrap"}),Oht=ie({paddingTop:"space.200",paddingBottom:"space.200",paddingRight:"space.300",paddingLeft:"space.300"}),Mht=({handleViewUpdate:e,handleSaveAsNewView:t,viewNameIsValid:n,hasChanges:r,canEditViews:o})=>{const{view:a}=at(),{formatMessage:s}=Ee(),i=a.id,l=vt("databases-frontend-content-wrapper"),d=!n||!r,u=i!==Wr.UNSAVED;return o?h.jsxs(Me,{alignInline:"center",spread:"space-between",space:"space.100",xcss:[Dht,l&&Oht],children:[h.jsx(_e,{xcss:ie({flex:"1"}),children:h.jsx(ur,{shouldFitContainer:!0,onClick:t,isDisabled:d,children:s(Ae["view-settings-panel.save-as-new-view-label"])})}),u&&h.jsx(_e,{xcss:ie({flex:"1"}),children:h.jsx(ur,{appearance:"primary",onClick:e,shouldFitContainer:!0,isDisabled:d,children:s(Ae["view-settings-panel.update-view-label"])})})]}):null};var d3={},kg={};Object.defineProperty(kg,"__esModule",{value:!0});kg.default=void 0;var $ht=Woe(c),Rht=Woe(Oe);function Woe(e){return e&&e.__esModule?e:{default:e}}const Goe=e=>$ht.default.createElement(Rht.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M3 8h10M1 2.75h14M5 13.25h6"/>'},e));Goe.displayName="FilterIcon";kg.default=Goe;var BE={};Object.defineProperty(BE,"__esModule",{value:!0});BE.default=void 0;var Pht=qoe(c),Lht=je,Nht=qoe(kg);function qoe(e){return e&&e.__esModule?e:{default:e}}const Yoe=e=>Pht.default.createElement(Lht.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M7 13h10l1-2H6zM3.99 6c-.55 0-.79.41-.55.9L4 8h16l.55-1.1c.25-.5.01-.9-.54-.9zm6.79 11.56a.87.87 0 0 0 .73.44h.99c.28 0 .61-.2.73-.44L14 16h-4z"/></svg>'},e,{newIcon:Nht.default}));Yoe.displayName="FilterIcon";BE.default=Yoe;Object.defineProperty(d3,"__esModule",{value:!0});var UE=d3.default=void 0,Fht=u3(c),jht=u3(kg),Vht=u3(BE);function u3(e){return e&&e.__esModule?e:{default:e}}const Koe=e=>Fht.default.createElement(jht.default,Object.assign({LEGACY_fallbackIcon:Vht.default},e));Koe.Name="FilterIconMigration";UE=d3.default=Koe;var f3={},HE={};Object.defineProperty(HE,"__esModule",{value:!0});var Bht=HE.default=void 0,Uht=Xoe(c),Hht=je,zht=Xoe(Wu);function Xoe(e){return e&&e.__esModule?e:{default:e}}const Joe=e=>Uht.default.createElement(Hht.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M10.294 9.698a.99.99 0 0 1 0-1.407 1.01 1.01 0 0 1 1.419 0l2.965 2.94a1.09 1.09 0 0 1 0 1.548l-2.955 2.93a1.01 1.01 0 0 1-1.42 0 .99.99 0 0 1 0-1.407l2.318-2.297z"/></svg>'},e,{newIcon:zht.default,iconType:"utility"}));Joe.displayName="ChevronRightIcon";Bht=HE.default=Joe;Object.defineProperty(f3,"__esModule",{value:!0});var Ig=f3.default=void 0,Wht=p3(c),Ght=p3(Wu),qht=p3(HE);function p3(e){return e&&e.__esModule?e:{default:e}}const Zoe=e=>Wht.default.createElement(Ght.default,Object.assign({LEGACY_fallbackIcon:qht.default},e));Zoe.Name="ChevronRightIconMigration";Ig=f3.default=Zoe;function m3(e,t){const n=e.value;let r=0;for(const o of n)WN(o)?t&&(r+=m3(o,t)):o.fieldId&&r++;return r}const Yht=ie({paddingTop:"space.100",paddingBottom:"space.100",borderBottomWidth:"2px",borderBottomStyle:"solid",borderBottomColor:"color.border"}),Kht=ie({marginLeft:"space.negative.150",marginRight:"space.negative.150"}),Xht=ie({paddingTop:"space.100",paddingBottom:"space.100",paddingLeft:"space.150",paddingRight:"space.150"}),Jht=ie({color:"color.text.disabled"}),Zht=ie({color:"color.text"}),Qht=ie({flexWrap:"wrap",gap:"space.050",flex:1}),egt=({viewSetting:e})=>{const{formatMessage:t}=Ee(),{view:n}=at(),{setActivePanelSetting:r}=rf(),o=vt("databases-frontend-multi-sort"),a=vt("databases-frontend-nested-filters"),s=c.useCallback(p=>{const m=n.settings.filter,g=xg(n.settings.layout.type,"medium");switch(p){case Ct.FILTER:return{icon:h.jsx(UE,{spacing:"spacious",label:""}),title:t(Ae["view-settings.filter.filter-text"]),showCount:!0,isNotZero:!!m,countText:t(Ae["view-settings-panel.filter.filter-count"],{n:m?m3(m,a):0})};case Ct.LAYOUT:return{icon:g.icon,title:t(Ae["view-settings-panel.layout.layout-options-text"],{layoutType:t(g.label)}),showCount:!1};case Ct.SORT:return{icon:h.jsx(az,{label:""}),title:t(Ae["view-settings.sort.sort-text"]),showCount:o,...o?{isNotZero:n.settings.sorts.length>0,countText:t(Ae["view-settings-panel.sort.sort-count"],{n:n.settings.sorts.length})}:{}};case Ct.FIELDS:return{icon:h.jsx(KI,{label:""}),title:t(Ae["view-settings.hide-field.field-text"]),showCount:!0,isNotZero:!!n.settings.fields,countText:t(Ae["view-settings-panel.hide-field.field-count"],{n:n.settings.fields?i1(n.settings).length:0})}}},[t,o,n.settings,a]),{icon:i,title:l,showCount:d,isNotZero:u,countText:f}=s(e);return h.jsx(_e,{xcss:[Yht,Kht],testId:`view-settings-configuration-row-${e}`,children:h.jsx(ht,{appearance:"subtle",spacing:"none",shouldFitContainer:!0,onClick:()=>r(e),testId:`view-settings-configuration-row-button-${e}`,children:h.jsxs(Me,{spread:"space-between",alignBlock:"center",xcss:Xht,children:[h.jsx(Me,{alignBlock:"center",xcss:ie({paddingRight:"space.150"}),children:i}),h.jsxs(Me,{alignBlock:"center",spread:"space-between",xcss:Qht,children:[h.jsx(Me,{space:"space.200",alignBlock:"center",children:h.jsx(Go,{as:"h5",size:"xsmall",children:l})}),h.jsx(Me,{space:"space.100",alignBlock:"center",children:d&&f&&h.jsx(Go,{as:"div",size:"xxsmall",children:h.jsx(_e,{testId:`view-settings-configuration-row-count-${e}`,xcss:u?Zht:Jht,children:f})})})]}),h.jsx(Ig,{spacing:"spacious",color:U("color.icon.subtle","#626F86"),label:"",testId:`view-settings-configuration-row-chevron-${e}`})]})})})};var h3={},zE={};Object.defineProperty(zE,"__esModule",{value:!0});var tgt=zE.default=void 0,ngt=Qoe(c),rgt=je,ogt=Qoe(mc);function Qoe(e){return e&&e.__esModule?e:{default:e}}const eae=e=>ngt.default.createElement(rgt.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M12 19a7 7 0 1 1 0-14 7 7 0 0 1 0 14m0-1.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11m0-6a1 1 0 0 1 1 1v2a1 1 0 0 1-2 0v-2a1 1 0 0 1 1-1m0-3a1 1 0 1 1 0 2 1 1 0 0 1 0-2"/></svg>'},e,{newIcon:ogt.default}));eae.displayName="EditorPanelIcon";tgt=zE.default=eae;Object.defineProperty(h3,"__esModule",{value:!0});var WE=h3.default=void 0,agt=g3(c),sgt=g3(mc),igt=g3(zE);function g3(e){return e&&e.__esModule?e:{default:e}}const tae=e=>agt.default.createElement(sgt.default,Object.assign({LEGACY_fallbackIcon:igt.default},e));tae.Name="InformationIconMigration";WE=h3.default=tae;const lgt=({viewNameIsValid:e,canEditViews:t,viewName:n,setViewName:r})=>{const o=Ee(),{formatMessage:a}=o,{view:s}=at(),[i,l]=c.useState(!1),d=()=>{n.trim()===""&&r(s.name),l(!1)},u=()=>{l(!0)},f=g=>{r(g.target.value)},p={};i||(p["aria-relevant"]="all",p["aria-atomic"]="false");const m=c.useMemo(()=>s.id===Wr.UNSAVED?a(G["view.unsaved-view"]):s.name,[a,s.id,s.name]);return h.jsxs(_e,{children:[h.jsxs(Me,{alignBlock:"center",space:"space.025",children:[h.jsxs(Vu,{htmlFor:"basic-textfield",children:[a(Ae["view-settings-panel.name-view-label"]),h.jsx(Fh,{})]}),s.id===Wr.UNSAVED&&h.jsx(Bt,{content:a(Ae["view-settings-panel.unsaved-rename-tooltip"]),position:"right",children:h.jsx(WE,{label:a(Ae["view-settings-panel.rename-info-label"]),LEGACY_size:"medium",spacing:"spacious",color:U("color.icon","#44546F")})})]}),h.jsx(ts,{name:"basic",id:"basic-textfield",testId:"view-rename-textfield",placeholder:a(Ae["view-settings-panel.name-view-placeholder"]),isDisabled:s.id===Wr.UNSAVED||!t,value:n,defaultValue:m,isInvalid:!e,onBlur:d,onChange:f,onFocus:u}),!e&&h.jsx(Bu,{children:h.jsx(_e,{"aria-live":"polite",...p,children:a(Ae["view-rename.unique-view-requirement"])})})]})},cgt=ie({listStyle:"none",padding:"space.0",margin:"space.0"}),dgt=({viewNameIsValid:e,viewNames:t,canEditViews:n,viewName:r,setViewName:o})=>h.jsxs(Rt,{space:"space.300",children:[h.jsx(lgt,{viewNameIsValid:e,viewNames:t,canEditViews:n,viewName:r,setViewName:o}),h.jsx(Toe,{isCompact:!0,source:"databaseViewSettingsPanel"}),h.jsx(_e,{as:"ul",xcss:cgt,children:[Ct.LAYOUT,Ct.FILTER,Ct.SORT,Ct.FIELDS].map(a=>h.jsx("li",{children:h.jsx(egt,{viewSetting:a})},a))})]}),ugt=ie({borderBottomWidth:"2px",borderBottomStyle:"solid",borderBottomColor:"color.border"}),fgt=ie({padding:"space.100",marginLeft:"space.negative.200"}),O8=({children:e,showBorder:t})=>h.jsx(_e,{xcss:[t&&ugt],children:h.jsx(_e,{xcss:fgt,children:e})});var v3={};Object.defineProperty(v3,"__esModule",{value:!0});var nae=v3.default=void 0,pgt=rae(c),mgt=rae(Oe);function rae(e){return e&&e.__esModule?e:{default:e}}const oae=e=>pgt.default.createElement(mgt.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M2.5 11.875 8 8.25l5.5 3.625m-11-4.5L8 3.75l5.5 3.625"/>'},e));oae.displayName="PriorityHighestIcon";nae=v3.default=oae;var b3={};Object.defineProperty(b3,"__esModule",{value:!0});var aae=b3.default=void 0,hgt=sae(c),ggt=sae(Oe);function sae(e){return e&&e.__esModule?e:{default:e}}const iae=e=>hgt.default.createElement(ggt.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M2.5 8.625 8 12.25l5.5-3.625m-11-4.5L8 7.75l5.5-3.625"/>'},e));iae.displayName="PriorityLowestIcon";aae=b3.default=iae;const M8=({direction:e,fieldContentField:t,fieldType:n})=>n===ae.DATE||n===ae.PAGE_DETAILS&&(t==="createdAt"||t==="updatedAt")?e==="ascending"?mo["view-settings.sort-by-panel.date-ascending"]:mo["view-settings.sort-by-panel.date-descending"]:n===ae.NUMBER||n===ae.PAGE_DETAILS&&t==="versionNumber"?e==="ascending"?mo["view-settings.sort-by-panel.numeric-ascending"]:mo["view-settings.sort-by-panel.numeric-descending"]:e==="ascending"?mo["view-settings.sort-by-panel.alphabetical-ascending"]:mo["view-settings.sort-by-panel.alphabetical-descending"],vgt=({fieldContentField:e,fieldType:t,id:n,onChange:r,value:o})=>{const{formatMessage:a}=Ee(),s=c.useMemo(()=>[{label:a(M8({direction:"ascending",fieldContentField:e,fieldType:t})),value:"ascending"},{label:a(M8({direction:"descending",fieldContentField:e,fieldType:t})),value:"descending"}],[e,t,a]),i=c.useCallback(l=>r((l==null?void 0:l.value)||"ascending"),[r]);return h.jsx(Jo,{inputId:n,classNamePrefix:"sort-direction-options",onChange:i,options:s,value:s.find(l=>l.value===o)})},bgt=({contentId:e,direction:t,fieldId:n,onChange:r,onDelete:o,onMoveDown:a,onMoveToBottom:s,onMoveToTop:i,onMoveUp:l,testId:d})=>{const{formatMessage:u}=Ee(),f=`sort-by-select-${n}`,[p,m,g]=fe.useEqualSelector(x=>{const S=Xe(x,{contentId:e}),I=Un(S,n);return[I==null?void 0:I.name,I==null?void 0:I.type,I==null?void 0:I.settings.contentField]}),v=c.useCallback(x=>r(n,x),[n,r]),b=c.useCallback(()=>o(n),[n,o]),y=c.useCallback(()=>a==null?void 0:a(n),[n,a]),E=c.useCallback(()=>s==null?void 0:s(n),[n,s]),w=c.useCallback(()=>i==null?void 0:i(n),[n,i]),C=c.useCallback(()=>l==null?void 0:l(n),[n,l]);return!m||!p?null:h.jsxs(Rt,{space:"space.150",testId:d,children:[h.jsxs(Me,{alignBlock:"center",space:"space.100",spread:"space-between",children:[h.jsxs(Me,{alignBlock:"center",space:"space.100",children:[h.jsx(Ms,{noTooltip:!0,type:m}),h.jsx(Gt,{maxLines:1,testId:d?`${d}--field-name`:void 0,children:h.jsx("label",{htmlFor:f,children:p})})]}),h.jsxs(q1,{trigger:({triggerRef:x,...S})=>h.jsx(dn,{...S,appearance:"subtle",icon:oW,label:u(mo["view-settings.sort-by-panel.more-actions"]),ref:x,spacing:"compact",testId:"sort-field-options-button"}),shouldRenderToParent:!0,children:[h.jsx(qa,{children:h.jsx(er,{elemBefore:h.jsx(ly,{label:""}),onClick:b,children:u(mo["view-settings.sort-by-panel.more-actions.delete"])})}),h.jsxs(qa,{hasSeparator:!0,children:[h.jsx(er,{elemBefore:h.jsx(nae,{label:""}),isDisabled:!i,onClick:w,children:u(mo["view-settings.sort-by-panel.more-actions.move-to-top"])}),h.jsx(er,{elemBefore:h.jsx(Ore,{label:""}),isDisabled:!l,onClick:C,children:u(mo["view-settings.sort-by-panel.more-actions.move-up"])}),h.jsx(er,{elemBefore:h.jsx(Sre,{label:""}),isDisabled:!a,onClick:y,children:u(mo["view-settings.sort-by-panel.more-actions.move-down"])}),h.jsx(er,{elemBefore:h.jsx(aae,{label:""}),isDisabled:!s,onClick:E,children:u(mo["view-settings.sort-by-panel.more-actions.move-to-bottom"])})]})]})]}),h.jsx(vgt,{fieldContentField:g,fieldType:m,id:f,onChange:v,value:t})]})},ygt=({contentId:e,onChange:t,onDelete:n,onReorder:r,sorts:o})=>{const a=c.useCallback((i,l)=>t(i,l==="ascending"),[t]),s=c.useCallback(i=>l=>r(l,i),[r]);return o.length===0?null:h.jsx(Rt,{space:"space.300",children:o.map((i,l)=>{const d=l===0,u=l===o.length-1;return h.jsx(bgt,{contentId:e,direction:i.ascending?"ascending":"descending",fieldId:i.fieldId,onChange:a,onDelete:n,onMoveDown:u?void 0:s(l+1),onMoveToBottom:u?void 0:s(o.length-1),onMoveToTop:d?void 0:s(0),onMoveUp:d?void 0:s(l-1),testId:`multi-sort-item-${l}`},i.fieldId)})})},Egt=2,Rf=2,jC=gt()-Egt;function wgt(e,t=!1,n){return{container:(r,{isDisabled:o})=>({...r,fontFamily:Eu(),pointerEvents:"all",cursor:o?"not-allowed":r.cursor}),input:r=>({...r,color:"var(--ds-text, hsl(0, 0%, 20%))"}),control:(r,{isFocused:o,isDisabled:a})=>{let s=o?`var(--ds-border-focused, ${cn})`:`var(--ds-border-input, ${Ke})`,i=o?`var(--ds-background-input-pressed, ${Ve})`:`var(--ds-background-input, ${Ke})`,l=o?`var(--ds-background-input-pressed, ${Ve})`:`var(--ds-background-input-hovered, ${Dt})`;a&&(i=`var(--ds-background-disabled, ${Ke})`,s=`var(--ds-background-disabled, ${Ke})`),e==="error"&&(s=`var(--ds-border-danger, ${bn})`),e==="success"&&(s=`var(--ds-border-success, ${Ds})`);let d=o?`var(--ds-border-focused, ${cn})`:`var(--ds-border-input, ${Dt})`;e==="error"&&(d=`var(--ds-border-danger, ${bn})`),e==="success"&&(d=`var(--ds-border-success, ${Ds})`);const u="200ms";return n==="subtle"&&(s=o?`var(--ds-border-focused, ${cn})`:"transparent",i=o?`var(--ds-surface, ${Ve})`:"transparent",l=o?`var(--ds-background-input-pressed, ${Ve})`:`var(--ds-background-input-hovered, ${Dt})`),n==="none"&&(s="transparent",i="transparent",l="transparent",d="transparent"),{...r,pointerEvents:a?"none":void 0,backgroundColor:i,borderColor:s,borderStyle:"solid",borderRadius:"3px",borderWidth:"2px",boxShadow:"none",minHeight:t?gt()*4:gt()*5,padding:0,transition:`background-color ${u} ease-in-out,
        border-color ${u} ease-in-out`,"::-webkit-scrollbar":{height:gt(),width:gt()},"::-webkit-scrollbar-corner":{display:"none"},":hover":{"::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,0.2)"},cursor:"pointer",backgroundColor:l,borderColor:d},"::-webkit-scrollbar-thumb:hover":{backgroundColor:"rgba(0,0,0,0.4)"}}},valueContainer:r=>({...r,paddingLeft:jC,paddingRight:jC,paddingBottom:t?0:2,paddingTop:t?0:2}),clearIndicator:r=>({...r,color:`var(--ds-text-subtlest, ${an})`,paddingLeft:Rf,paddingRight:Rf,paddingBottom:t?0:6,paddingTop:t?0:6,":hover":{color:`var(--ds-text-subtle, ${rn})`}}),loadingIndicator:r=>({...r,paddingBottom:t?0:6,paddingTop:t?0:6}),dropdownIndicator:(r,{isDisabled:o})=>{let a=`var(--ds-text-subtle, ${rn})`;return o&&(a=`var(--ds-text-disabled, ${an})`),{...r,color:a,paddingLeft:Rf,paddingRight:Rf,paddingBottom:t?0:6,paddingTop:t?0:6,":hover":{color:`var(--ds-text-subtle, ${jt})`}}},indicatorsContainer:r=>({...r,paddingRight:jC-Rf}),option:(r,{isFocused:o,isSelected:a,isDisabled:s})=>{let i=`var(--ds-text, ${mn})`;s?i=`var(--ds-text-disabled, ${an})`:a&&(i=`var(--ds-text-selected, ${Jt})`);let l,d;s?d=void 0:a&&o?d=`var(--ds-background-selected-hovered, ${gn})`:a?d=`var(--ds-background-selected, ${gn})`:o&&(d=`var(--ds-background-neutral-subtle-hovered, ${Ke})`),!s&&(o||a)&&(l=`inset 2px 0px 0px ${`var(--ds-border-selected, ${Jt})`}`);const u=s?"not-allowed":r.cursor;return{...r,padding:"6px 12px",backgroundColor:d,color:i,cursor:u,boxShadow:l,":active":{backgroundColor:s?void 0:a?`var(--ds-background-selected-pressed, ${Ke})`:`var(--ds-background-neutral-subtle-pressed, ${Dt})`},"@media screen and (-ms-high-contrast: active)":{borderLeft:!s&&(o||a)?"2px solid transparent":""}}},placeholder:(r,{isDisabled:o})=>({...r,color:o?`var(--ds-text-disabled, ${Vn})`:`var(--ds-text-subtlest, ${Vn})`}),singleValue:(r,{isDisabled:o})=>({...r,color:o?`var(--ds-text-disabled, ${an})`:`var(--ds-text, ${mn})`,lineHeight:`${gt()*2}px`}),menu:r=>({...r,backgroundColor:"var(--ds-surface-overlay, white)",boxShadow:"var(--ds-shadow-overlay, 0 0 0 1px hsl(0deg 0% 0% / 10%), 0 4px 11px hsl(0deg 0% 0% / 10%))"}),menuList:r=>({...r,paddingTop:gt(),paddingBottom:gt()}),multiValue:(r,{isFocused:o})=>({...r,borderRadius:"2px",backgroundColor:o?`var(--ds-background-selected, ${Ut})`:`var(--ds-background-neutral, ${Ut})`,boxShadow:o?"0 0 0 2px var(--ds-surface, transparent), 0 0 0 4px var(--ds-border-focused, transparent)":"none",maxWidth:"100%","@media screen and (-ms-high-contrast: active)":{border:o?"1px solid transparent":"none"},color:o?"var(--ds-text-selected, hsl(0, 0%, 20%))":"var(--ds-text, hsl(0, 0%, 20%))"}),multiValueLabel:(r,{isFocused:o})=>({...r,padding:"2px",color:"inherit",paddingRight:"2px"}),multiValueRemove:(r,{isFocused:o})=>({...r,backgroundColor:o&&`var(--ds-UNSAFE_util-transparent, ${Uo})`,fill:o?"var(--ds-text-selected, #000)":"var(--ds-text, #000)",paddingLeft:"2px",paddingRight:"2px",borderRadius:"0px 2px 2px 0px",":hover":{backgroundColor:`var(--ds-background-danger-hovered, ${Uo})`,fill:"var(--ds-text-danger, #000)"},":active":{backgroundColor:`var(--ds-background-danger-pressed, ${Uo})`,fill:"var(--ds-text-danger, #000)"}})}}const Cgt=({maxWidth:e,minWidth:t,children:n,id:r,style:o})=>k("div",{css:{backgroundColor:"var(--ds-surface-overlay, white)",borderRadius:4,boxShadow:`var(--ds-shadow-overlay, ${`0 0 0 1px ${u_}, 0 4px 11px ${u_}`})`,maxWidth:e,minWidth:t,zIndex:Qt.modal()},style:o,id:r},n),_gt=()=>k("div",{css:{marginRight:2,textAlign:"center",width:32}},k(UG,{label:"open"})),xgt=({innerRef:e,innerProps:t,...n})=>k("div",{ref:e,css:{padding:"8px 8px 4px"}},k(_c.Control,H({},n,{innerProps:t}))),Sgt=e=>k(Su,null,k(_c.Control,e)),kgt=({children:e,innerProps:t,...n})=>k("div",t,e),$8={Control:xgt,DropdownIndicator:_gt,Menu:kgt},Igt=()=>!!(typeof window<"u"&&window.document&&window.document.createElement),Tgt=[{name:"offset",options:{offset:[0,8]}},{name:"preventOverflow",enabled:!0,options:{padding:5,boundary:"clippingParents",altAxis:!0,altBoundary:!0}}],R8={modifiers:Tgt,placement:"bottom-start"},Agt=e=>Object.keys(e).length===0;class lae extends c.PureComponent{constructor(...t){var n;super(...t),q(this,"menuRef",null),q(this,"selectRef",null),q(this,"targetRef",null),q(this,"unbindWindowClick",null),q(this,"unbindWindowKeydown",null),q(this,"defaultStyles",yx(wgt(this.props.validationState||(this.props.isInvalid?"error":"default"),this.props.spacing==="compact","default"),{groupHeading:r=>({...r,color:`var(--ds-text-subtlest, ${Ek})`})})),q(this,"isOpenControlled",this.props.isOpen!==void 0),q(this,"defaultOpenState",this.isOpenControlled?this.props.isOpen:this.props.defaultIsOpen),q(this,"state",{focusLockEnabled:!1,isOpen:(n=this.defaultOpenState)!==null&&n!==void 0?n:!1,mergedComponents:$8,mergedPopperProps:R8}),q(this,"popperWrapperId",`${Wce({options:this.props.options})}-popup-select`),q(this,"handleKeyDown",r=>{switch(r.key){case"Escape":case"Esc":this.close();break}this.props.handleKeyDown&&this.props.handleKeyDown(r)}),q(this,"handleClick",({target:r})=>{const{isOpen:o}=this.state;r instanceof Element&&(o&&this.menuRef&&!this.menuRef.contains(r)&&this.close(),!o&&this.targetRef&&this.targetRef.contains(r)&&this.open())}),q(this,"handleSelectChange",(r,o)=>{const{closeMenuOnSelect:a,onChange:s}=this.props;a&&o.action!=="clear"&&this.close(),s&&s(r,o)}),q(this,"handleFirstPopperUpdate",()=>{this.setState({focusLockEnabled:!0})}),q(this,"open",r=>{const{onOpen:o}=this.props;!(r!=null&&r.controlOverride)&&this.isOpenControlled||(o&&o(),this.setState({isOpen:!0}),this.selectRef&&this.selectRef.select.openMenu("first"),!(typeof window>"u")&&(this.unbindWindowKeydown=Zl.bind(window,{type:"keydown",listener:this.handleKeyDown,options:{capture:!0}})))}),q(this,"close",r=>{var o;const{onClose:a,onMenuClose:s}=this.props;!(r!=null&&r.controlOverride)&&this.isOpenControlled||(a&&a(),s&&s(),this.setState({isOpen:!1}),this.setState({focusLockEnabled:!1}),this.targetRef!=null&&this.targetRef.focus(),!(typeof window>"u")&&((o=this.unbindWindowKeydown)===null||o===void 0||o.call(this),this.unbindWindowKeydown=null))}),q(this,"resolveTargetRef",r=>o=>{!this.targetRef&&r&&o&&(this.targetRef=o,typeof r=="function"?r(o):r.current=o)}),q(this,"resolveMenuRef",r=>o=>{this.menuRef=o,typeof r=="function"?r(o):r.current=o}),q(this,"getSelectRef",r=>{this.selectRef=r}),q(this,"getItemCount",()=>{const{options:r}=this.props;let o=0;return r.forEach(a=>{a.options?a.options.forEach(()=>o++):o++}),o}),q(this,"getMaxHeight",()=>{const{maxMenuHeight:r}=this.props;if(!this.selectRef)return r;const o=this.showSearchControl(),{controlRef:a}=this.selectRef.select,s=o?a.offsetHeight:0;return r-s}),q(this,"showSearchControl",()=>{const{searchThreshold:r,isSearchable:o}=this.props;return o&&this.getItemCount()>r}),q(this,"renderSelect",()=>{const{footer:r,maxMenuWidth:o,minMenuWidth:a,target:s,...i}=this.props,{focusLockEnabled:l,isOpen:d,mergedComponents:u,mergedPopperProps:f}=this.state,p=this.showSearchControl(),m=Igt()?document.body:null,g={...u,Control:p?u.Control:Sgt};if(!m||!d)return null;const v=_.createElement(zTe,H({},f,{onFirstUpdate:b=>{var y;this.handleFirstPopperUpdate(),(y=f.onFirstUpdate)===null||y===void 0||y.call(f,b)}}),({placement:b,ref:y,style:E})=>_.createElement(NTe,{innerRef:this.resolveMenuRef(y)},_.createElement(Cgt,{style:E,"data-placement":b,minWidth:a,maxWidth:o,id:this.popperWrapperId},_.createElement(P5,{disabled:!l,returnFocus:!0},_.createElement(KK,H({backspaceRemovesValue:!1,controlShouldRenderValue:!1,isClearable:!1,tabSelectsValue:!1,menuIsOpen:!0,ref:this.getSelectRef},i,{isSearchable:p,styles:yx(this.defaultStyles,i.styles||{}),maxMenuHeight:this.getMaxHeight(),components:g,onChange:this.handleSelectChange})),r))));return f.strategy==="fixed"?v:sr.createPortal(v,m)})}static getDerivedStateFromProps(t,n){const r={},o={...R8,...t.popperProps};d9(o,n.mergedPopperProps)||(r.mergedPopperProps=o);const a={...$8,...t.components};return d9(a,n.mergedComponents)||(r.mergedComponents=a),Agt(r)?null:r}componentDidMount(){typeof window>"u"||(this.unbindWindowClick=Zl.bind(window,{type:"click",listener:this.handleClick,options:{capture:!0}}))}componentWillUnmount(){var t,n;typeof window>"u"||((t=this.unbindWindowClick)===null||t===void 0||t.call(this),this.unbindWindowClick=null,(n=this.unbindWindowKeydown)===null||n===void 0||n.call(this),this.unbindWindowKeydown=null)}componentDidUpdate(t){const{isOpen:n}=this.props;t.isOpen!==n&&(n===!0?this.open({controlOverride:!0}):n===!1&&this.close({controlOverride:!0}))}render(){const{target:t}=this.props,{isOpen:n}=this.state;return _.createElement(FTe,null,_.createElement(WTe,null,({ref:r})=>t&&t({isOpen:n,ref:this.resolveTargetRef(r),"aria-haspopup":"true","aria-expanded":n,"aria-controls":n?this.popperWrapperId:void 0})),this.renderSelect())}}q(lae,"defaultProps",{closeMenuOnSelect:!0,components:{},maxMenuHeight:300,maxMenuWidth:440,minMenuWidth:220,popperProps:{},isSearchable:!0,searchThreshold:5,styles:{},options:[]});const Dgt=e=>h.jsxs(Me,{alignBlock:"center",space:"space.100",children:[h.jsx(Ms,{noTooltip:!0,type:e.type}),h.jsx(Gt,{maxLines:1,children:e.label})]}),Ogt=({fields:e,onChange:t})=>{const{formatMessage:n}=Ee(),r=c.useMemo(()=>e.map(o=>({label:o.name,type:o.type,value:o.id})),[e]);return h.jsx(lae,{classNamePrefix:"sort-field-options",formatOptionLabel:Dgt,isSearchable:!0,maxMenuHeight:400,onChange:t,options:r,searchThreshold:0,target:({isOpen:o,...a})=>h.jsx(ur,{...a,iconBefore:cz,isSelected:o,children:n(Ae["view-settings.sort.add-sort-button"])})})},Mgt=({contentId:e,fields:t})=>{const n=rt(),{formatMessage:r}=Ee(),{view:o,setViewChange:a}=at(),{sorts:s}=o.settings,i=c.useCallback(m=>{if(!m)return;const g={ascending:!0,fieldId:m.value};a({type:It.VIEW_SORT_APPEND,sort:g}),Bp(n,g,Hd.VIEW_PANEL_MENU,m.type,e)},[n,e,a]),l=c.useCallback((m,g)=>{a({type:It.VIEW_SORT_UPDATE_VALUE,ascending:g,fieldId:m});const v=t.find(b=>b.id===m);Bp(n,{ascending:g,fieldId:m},Hd.VIEW_PANEL_MENU,v?v.type:void 0,e)},[n,e,t,a]),d=c.useCallback(()=>{a({type:It.VIEW_SORT_CLEAR})},[a]),u=c.useCallback(m=>{a({type:It.VIEW_SORT_DELETE,fieldId:m})},[a]),f=c.useCallback((m,g)=>{a({type:It.VIEW_SORT_REORDER,fieldId:m,newIndex:g})},[a]),p=c.useMemo(()=>{const m=s.map(g=>g.fieldId);return t.filter(g=>!m.includes(g.id))},[t,s]);return h.jsxs(Rt,{space:s.length>0?"space.300":"space.250",children:[h.jsx(Gt,{size:"small",children:r(Ae["view-settings.sort.description"])}),h.jsxs(Rt,{space:"space.300",children:[h.jsx(ygt,{contentId:e,onChange:l,onDelete:u,onReorder:f,sorts:s}),h.jsxs(Me,{space:"space.050",children:[h.jsx(Ogt,{fields:p,onChange:i}),s.length>0&&h.jsx(ur,{appearance:"subtle",onClick:d,children:r(Ae["view-settings.sort.clear-all-button"])})]})]})]})},$gt=({contentId:e,databaseFields:t})=>{const n=rt(),{formatMessage:r}=Ee(),{view:o,setViewChange:a}=at(),s=o.settings.layout,i=o.settings.sort,l=fe.useEqualSelector(b=>e?Xe(b,{contentId:e}):void 0),d=l&&Um(l,s),[u,f]=c.useState(""),p=c.useMemo(()=>Doe((i==null?void 0:i.ascending)===!0),[i==null?void 0:i.ascending]),m=c.useCallback(b=>{const y=t.find(E=>E.id===(b==null?void 0:b.fieldId));a({type:It.VIEW_SORT,sort:b}),Bp(n,b,Hd.VIEW_PANEL_MENU,y?y.type:void 0,e)},[n,e,t,a]),g=c.useMemo(()=>t.filter(b=>(s.type!==yt.BOARD||b.id!==(d==null?void 0:d.id))&&b.type!==ae.ATTACHMENT),[t,d==null?void 0:d.id,s.type]);return vt("databases-frontend-multi-sort")?h.jsx(Mgt,{contentId:e,fields:g}):h.jsxs(Rt,{children:[h.jsx(Poe,{searchValue:u,setSearchValue:f}),h.jsxs(_e,{children:[h.jsx(O8,{showBorder:t.length>0,children:h.jsx(iR,{id:"none",isSelected:!i,onClick:()=>m(void 0),testId:"sort-item-radio-no-sorting",children:r(Ae["view-settings-panel.no-sorting-option-text"])})}),g.filter(b=>b.name.toLowerCase().includes(u.toLowerCase())).map((b,y)=>{const E=b.id!==(i==null?void 0:i.fieldId),w=E?"none":i!=null&&i.ascending?"ascending":"descending";return h.jsx(O8,{showBorder:y!==t.length-1,children:h.jsx(iR,{id:b.id,isSelected:(i==null?void 0:i.fieldId)===b.id,testId:`sort-item-radio-${y}`,onClick:()=>{m({fieldId:b.id,ascending:E?!0:!(i!=null&&i.ascending)})},"aria-sort":w,"aria-label":r(Ae["view-settings-panel.sorting-option-text"],{field:b.name,sort:w}),children:h.jsxs(Me,{alignBlock:"center",space:"space.050",children:[h.jsx(Gt,{maxLines:1,children:b.name}),(i==null?void 0:i.fieldId)===b.id&&p]})})},b.id)})]})]})},Rgt=()=>{const{contentId:e}=An();return e?h.jsx(Pgt,{contentId:e}):null},Pgt=({contentId:e})=>{const[t,n]=c.useState(!0),{view:r}=at(),{activePanelSetting:o,setActivePanelSetting:a}=rf(),{hidePanel:s,getData:i,isPanelVisible:l}=lr(),[d,u]=c.useState(null),[f,p]=c.useState(r.name),{formatMessage:m}=Ee(),g=rt(),{canEditViews:v}=i(),b=xre(e),[y,E,w,C]=fe.useEqualSelector(le=>{const j=Xe(le,{contentId:e}),Z=j.views.filter(K=>K.id!==r.id);return[j.views.length,Z.map(K=>K.name.trim().toLowerCase()),no(j),j.views]}),x=c.useMemo(()=>ql(C,r.id),[C,r.id]),S=Fmt({contentId:e}),I=c.useMemo(()=>(x&&fk(f,[...E,x.name]))??!1,[x,f,E]),A=S||I;c.useEffect(()=>{n(f.trim()!==""&&!E.includes(f.trim().toLowerCase()))},[x,t,E,f]);const T=c.useCallback(le=>{switch(le){case Ct.FILTER:return document.querySelector("#view-settings-filter-button");case Ct.LAYOUT:return document.querySelector("#view-settings-layout-button");case Ct.SORT:return document.querySelector("#view-settings-sort-button");case Ct.FIELDS:return document.querySelector("#view-settings-hide-field-button");case Ct.OVERVIEW:return document.querySelector(".view-actions-menu-trigger-button");default:return null}},[]);c.useEffect(()=>{l("ViewSettingsPanel")?u(T(o)):a(null)},[l,a,o,T]);const O=c.useCallback(()=>{g.sendViewSettingsPanelClosedEvent({contentId:e,databaseContainer:We(),source:"databaseViewSettingsPanel",viewId:r.id,isEdited:A}),s(),setTimeout(()=>{d&&d.focus()},0)},[g,e,A,r,s,d]),D=f!==(x==null?void 0:x.name)?f:void 0,$=ipt({contentId:e}),L=c.useCallback(()=>{$({analyticsSource:"databaseViewSettingsPanel",newViewName:D}),a(Ct.OVERVIEW)},[D,$,a]),F=Nmt({contentId:e}),B=c.useCallback(async()=>{await F({analyticsSource:"databaseViewSettingsPanel",newViewName:D}),Rd(()=>{s()})},[s,D,F]),V=c.useCallback(()=>{a(Ct.OVERVIEW)},[a]),Y=c.useCallback(()=>{b(r.id,"databaseViewSettingsPanel",O)},[b,O,r]),J=o===Ct.OVERVIEW,z={[Ct.FILTER]:{headerTitle:m(Ae["view-settings.filter.filter-text"]),contentBody:h.jsx(Aht,{contentId:e})},[Ct.LAYOUT]:{headerTitle:m(Ae["view-settings.layout.layout-heading"]),contentBody:h.jsx(Pmt,{contentId:e})},[Ct.SORT]:{headerTitle:m(Ae["view-settings.sort.sort-text"]),contentBody:h.jsx($gt,{contentId:e,databaseFields:w})},[Ct.FIELDS]:{headerTitle:m(Ae["view-settings.hide-field.field-text"]),contentBody:h.jsx(iht,{contentId:e,databaseFields:w})},[Ct.OVERVIEW]:{headerTitle:m(Ae["view-settings-panel.title"]),contentBody:h.jsx(dgt,{viewNameIsValid:t,viewNames:E,viewName:f,setViewName:p,canEditViews:v})}};c.useEffect(()=>{p(r.name)},[r.name,p]);const ce=J&&v&&r.id!==Wr.UNSAVED&&y>1;return h.jsx(opt,{testId:"view-settings-panel-content",header:{title:z[o||Ct.OVERVIEW].headerTitle,actions:{onClose:O,backButton:!J&&h.jsx(jmt,{onBack:V}),closeButtonTooltipMessage:A?m(Ae["view-settings-panel.close.tooltip-text"]):void 0,copyButton:J&&h.jsx(qmt,{contentId:e}),deleteButton:ce&&h.jsx(Ymt,{onDelete:Y})}},content:z[o||Ct.OVERVIEW].contentBody,footer:h.jsx(Mht,{contentId:e,handleViewUpdate:B,handleSaveAsNewView:L,viewNameIsValid:t,hasChanges:A,canEditViews:v})})};function Lgt(e){e()}let cae=Lgt;const Ngt=e=>cae=e,Fgt=()=>cae,P8=Symbol.for("react-redux-context"),L8=typeof globalThis<"u"?globalThis:{};function jgt(){var e;if(!c.createContext)return{};const t=(e=L8[P8])!=null?e:L8[P8]=new Map;let n=t.get(c.createContext);return n||(n=c.createContext(null),t.set(c.createContext,n)),n}const Vgt=jgt();function Bgt(){const e=Fgt();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],o=t;for(;o;)r.push(o),o=o.next;return r},subscribe(r){let o=!0,a=n={callback:r,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){!o||t===null||(o=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}const N8={notify(){},get:()=>[]};function Ugt(e,t){let n,r=N8;function o(f){return l(),r.subscribe(f)}function a(){r.notify()}function s(){u.onStateChange&&u.onStateChange()}function i(){return!!n}function l(){n||(n=e.subscribe(s),r=Bgt())}function d(){n&&(n(),n=void 0,r.clear(),r=N8)}const u={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:s,isSubscribed:i,trySubscribe:l,tryUnsubscribe:d,getListeners:()=>r};return u}const Hgt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zgt=Hgt?c.useLayoutEffect:c.useEffect;function Wgt({store:e,context:t,children:n,serverState:r,stabilityCheck:o="once",noopCheck:a="once"}){const s=c.useMemo(()=>{const d=Ugt(e);return{store:e,subscription:d,getServerState:r?()=>r:void 0,stabilityCheck:o,noopCheck:a}},[e,r,o,a]),i=c.useMemo(()=>e.getState(),[e]);zgt(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),i!==e.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,i]);const l=t||Vgt;return c.createElement(l.Provider,{value:s},n)}Ngt(sr.unstable_batchedUpdates);const Ggt=c.lazy(()=>Te(()=>de(()=>import("./DatabaseFatalError-CkLhcYzI.js"),__vite__mapDeps([95,3,4,1,2,5,6,7,8,9,10,96])))),qgt=({children:e})=>{const t=c.useCallback(({error:n})=>h.jsx(c.Suspense,{children:h.jsx(Ggt,{error:n})}),[]);return h.jsx(oue,{beforeCapture:n=>{n.setLevel("fatal")},fallback:t,children:e})},Ygt=Ret(["html,html body,#app{","}html.is-dragging .draggable-li .dragging-active{opacity:1;}html.is-dragging .draggable-li:hover .dragging-inactive{opacity:0;}html.is-dragging .draggable-li:not(.active-view){background:none;}html.is-dragging .draggable-li:hover .view-card-button,html.is-dragging .draggable-li:hover .view-actions-menu-trigger-button{visibility:hidden;width:0px;}html.is-dragging .draggable-li:hover .view-card-default-text{margin-right:-10px;}"],e=>e.isValueEmbed?`display: inline-block;
        width: max-content;
        max-width: 760px;`:`display: flex;
        flex-direction: column;
        flex-grow: 1;
        margin: 0 !important;
        z-index: 0;
        overflow-x: hidden;

        position: relative; /* Needed for createScrollPositionHandler() */

        /* @atlaskit/css-reset sets height: 100% on html,body. This breaks the flex box height. */
        height: auto;
        min-height: 100%;`),Kgt=({scope:e,children:t})=>e?h.jsx(Hft,{scope:e,children:t}):h.jsx(h.Fragment,{children:t}),Xgt=()=>{const{contentId:e}=An(),[t,n]=c.useState(void 0),[r,o]=c.useState(void 0),a=qN();return c.useEffect(()=>{const s=async()=>{const i=await iE();n(i.updateBoardStatus),o(i.getVersionName())};du()&&s()},[]),e?h.jsx(jft,{contentId:e,versionName:r,versionId:a,updateContentStatus:t}):null},Jgt=c.lazy(()=>Te(()=>de(()=>import("./DatabaseSnackbar-Cs_xWcUL.js"),__vite__mapDeps([97,3,4,1,2,5,6,7,8,9,10,22,98])))),Zgt=c.lazy(()=>Te(()=>de(()=>import("./index-CawCM-Ye.js"),__vite__mapDeps([99,3,4,1,2,5,6,7,8,9,10,100,101,102,103])))),Qgt=c.lazy(()=>Te(()=>de(()=>import("./ExportDialog-7Hq1BcwY.js"),__vite__mapDeps([104,3,4,1,2,5,6,7,8,9,10,105])))),e0t=c.lazy(()=>Te(()=>de(()=>import("./ImportDialog-BEagr8w2.js"),__vite__mapDeps([106,3,4,1,2,5,6,7,8,9,10,107])))),t0t=c.lazy(()=>Te(()=>de(()=>import("./DatabaseSetup-Cu2zicyf.js"),__vite__mapDeps([108,1,2,3,4,5,6,7,8,9,10,109,110,102,111])))),n0t=c.lazy(()=>Te(()=>de(()=>import("./CopyDatabaseDialog-UNKrENzr.js"),__vite__mapDeps([112,3,4,1,2,5,6,7,8,9,10,113])))),r0t=c.lazy(()=>Te(()=>de(()=>import("./FieldSettingsDialog-ZkUheON_.js"),__vite__mapDeps([114,3,4,1,2,5,6,7,8,9,10,115,105,13,113])))),o0t=c.lazy(()=>Te(()=>de(()=>import("./DatabaseEntryPanel-hXpyemV9.js"),__vite__mapDeps([116,3,4,1,2,5,6,7,8,9,10])))),a0t=c.lazy(()=>Te(()=>de(()=>import("./CreateFieldPanel-D-GU8ZJs.js"),__vite__mapDeps([117,3,4,1,2,5,6,7,8,9,10,115,105,13,113])))),s0t={DevtoolsDialog:h.jsx(c.Suspense,{children:h.jsx(Zgt,{})}),ConfirmDialog:h.jsx(Bft,{}),ExportDialog:h.jsx(c.Suspense,{children:h.jsx(Qgt,{})}),ImportDialog:h.jsx(c.Suspense,{children:h.jsx(e0t,{})})},i0t={DatabaseSetupPanel:h.jsx(c.Suspense,{children:h.jsx(t0t,{})}),FieldSettingsPanel:h.jsx(c.Suspense,{children:h.jsx(r0t,{})}),FieldCreatePanel:h.jsx(c.Suspense,{children:h.jsx(a0t,{})}),CopyDatabasePanel:h.jsx(c.Suspense,{children:h.jsx(n0t,{})}),ViewSettingsPanel:h.jsx(Rgt,{}),EntryViewPanel:h.jsx(c.Suspense,{children:h.jsx(o0t,{})})},d5t=({aaid:e="",scope:t,children:n,isValueEmbed:r=!1})=>{Gce();const o=Du(),a={cloudId:ia()??"",aaid:e,locale:o,product:"confluence",stargateUrl:"/gateway/api",workspaceId:qce()};return h.jsx(fDe,{children:h.jsx(qgt,{children:h.jsx(Tft,{config:a,analyticsClientInstance:qk.client,children:h.jsx(sbe,{children:h.jsx(pLe,{children:h.jsx(lDe,{children:h.jsx(Kgt,{scope:t,children:h.jsx(Wgt,{store:dd,children:h.jsx(Mft,{children:h.jsxs(dbe,{children:[h.jsx(Xgt,{}),h.jsx(Ygt,{isValueEmbed:r}),h.jsx(Yft,{}),h.jsx(c.Suspense,{children:h.jsx(Jgt,{})}),h.jsx(Uft,{defaultDialogs:s0t,children:h.jsx(Vet,{defaultPanels:i0t,children:n})})]})})})})})})})})})})},VC=xr({"datasources-dialog.progress-bar.cancel_connection":{id:"datasources-dialog.progress-bar.cancel_connection",defaultMessage:"Cancel connection",description:"The call to action that will cancel datasources connection import by forcing a tab reload when the user clicks on it."},"datasources-dialog.progress-bar.connection_began":{id:"datasources-dialog.progress-bar.connection_began",defaultMessage:"Currently connecting. Keep this tab open until finished.",description:"The text message displayed when datasources import is beginning to import issues. It warns the user that closing the tab will abort the process."},"datasources-dialog.progress-bar.connection_with_count":{id:"datasources-dialog.progress-bar.connection_with_count",defaultMessage:"Currently connecting {currentCount}/{totalCount}... Keep this tab open until finished.",description:"The text message displayed when datasources import is creating new entries with the knowledge of how many entries there will be. It warns the user that closing the tab will abort the process."},"datasources-dialog.progress-bar.connection_complete":{id:"datasources-dialog.progress-bar.connection_complete",defaultMessage:"Successfully connected {connectionType}",description:"The text message displayed when datasources connection import is complete."},"connections.field.title.version-comment":{id:"connections.field.version-comment",defaultMessage:"Version Comment",description:"The title of the field that stores the version comment."},"connections.field.title.excerpt":{id:"connections.field.excerpt",defaultMessage:"Excerpt",description:"The title of the field that stores the excerpt."},"connections.field.title.page_status":{id:"connections.field.page_status",defaultMessage:"Status",description:"The title of the field that stores the page status."}}),u5t=()=>{const{formatMessage:e}=Ee(),t=fe.useDispatch(),n=fe.useEqualSelector(o=>Yce(o).map(s=>s&&a1(s)?no(s):void 0).flat().filter(s=>s)),r=fe.useEqualSelector(o=>o.connections.connections);c.useEffect(()=>{(()=>{if(!n)return;const a=Object.entries(r).map(([i,l])=>({connectionId:i,type:l.type}));if(n.filter(i=>[ae.PAGE_LINK,ae.JIRA_ISSUE].includes(i.type)&&!a.find(l=>{const d=i.type===ae.PAGE_LINK?"confluence":"jira";return l.connectionId===i.id&&l.type===d})).length!==0){for(const i of n)if([ae.PAGE_LINK,ae.JIRA_ISSUE].includes(i.type)){const l=i.type===ae.PAGE_LINK?"confluence":"jira";t(Aa.actions.addConnection({cloudId:i.settings.cloudId??ia()??"",connectionId:i.id,type:l,requiredColumns:l==="confluence"?[...Kce]:[...Xce]}))}for(const i of n)if([ae.PAGE_DETAILS,ae.PAGE_STATUS,ae.PAGE_LABELS,ae.JIRA_ISSUE_DETAILS].includes(i.type)){const l=i.type===ae.PAGE_LABELS?"labels":i.settings.contentField??i.settings.jiraField;i.settings.fieldId&&l&&(l==="version"&&i.settings.includeVersionComment?t(Aa.actions.addColumnToConnection({connectionId:i.settings.fieldId,column:{key:"versionComment",type:"string",title:e(VC["connections.field.title.version-comment"])}})):t(l==="excerpt"?Aa.actions.addColumnToConnection({connectionId:i.settings.fieldId,column:{key:"excerpt",type:"html",title:e(VC["connections.field.title.excerpt"])}}):Aa.actions.addRequiredColumnToConnection({connectionId:i.settings.fieldId,column:l}))),i.settings.fieldId&&i.type===ae.PAGE_STATUS&&t(Aa.actions.addColumnToConnection({connectionId:i.settings.fieldId,column:{key:"pageStatus",type:"pageStatus",title:e(VC["connections.field.title.page_status"])}}))}}})()},[t,n,e,r])},{createElement:su,createContext:l0t,createRef:f5t,forwardRef:dae,useCallback:so,useContext:uae,useEffect:Hl,useImperativeHandle:fae,useLayoutEffect:c0t,useMemo:d0t,useRef:zr,useState:Sp}=vF,F8=vF.useId,u0t=c0t,GE=l0t(null);GE.displayName="PanelGroupContext";const zl=u0t,f0t=typeof F8=="function"?F8:()=>null;let p0t=0;function y3(e=null){const t=f0t(),n=zr(e||t||null);return n.current===null&&(n.current=""+p0t++),e??n.current}function pae({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:o,forwardedRef:a,id:s,maxSize:i,minSize:l,onCollapse:d,onExpand:u,onResize:f,order:p,style:m,tagName:g="div",...v}){const b=uae(GE);if(b===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:y,expandPanel:E,getPanelSize:w,getPanelStyle:C,groupId:x,isPanelCollapsed:S,reevaluatePanelConstraints:I,registerPanel:A,resizePanel:T,unregisterPanel:O}=b,D=y3(s),$=zr({callbacks:{onCollapse:d,onExpand:u,onResize:f},constraints:{collapsedSize:n,collapsible:r,defaultSize:o,maxSize:i,minSize:l},id:D,idIsFromProps:s!==void 0,order:p});zr({didLogMissingDefaultSizeWarning:!1}),zl(()=>{const{callbacks:F,constraints:B}=$.current,V={...B};$.current.id=D,$.current.idIsFromProps=s!==void 0,$.current.order=p,F.onCollapse=d,F.onExpand=u,F.onResize=f,B.collapsedSize=n,B.collapsible=r,B.defaultSize=o,B.maxSize=i,B.minSize=l,(V.collapsedSize!==B.collapsedSize||V.collapsible!==B.collapsible||V.maxSize!==B.maxSize||V.minSize!==B.minSize)&&I($.current,V)}),zl(()=>{const F=$.current;return A(F),()=>{O(F)}},[p,D,A,O]),fae(a,()=>({collapse:()=>{y($.current)},expand:F=>{E($.current,F)},getId(){return D},getSize(){return w($.current)},isCollapsed(){return S($.current)},isExpanded(){return!S($.current)},resize:F=>{T($.current,F)}}),[y,E,w,S,D,T]);const L=C($.current,o);return su(g,{...v,children:e,className:t,id:s,style:{...L,...m},"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-group-id":x,"data-panel-id":D,"data-panel-size":parseFloat(""+L.flexGrow).toFixed(1)})}const E3=dae((e,t)=>su(pae,{...e,forwardedRef:t}));pae.displayName="Panel";E3.displayName="forwardRef(Panel)";let OS=null,Tl=null;function m0t(e,t){if(t){const n=(t&bae)!==0,r=(t&yae)!==0,o=(t&Eae)!==0,a=(t&wae)!==0;if(n)return o?"se-resize":a?"ne-resize":"e-resize";if(r)return o?"sw-resize":a?"nw-resize":"w-resize";if(o)return"s-resize";if(a)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function h0t(){Tl!==null&&(document.head.removeChild(Tl),OS=null,Tl=null)}function BC(e,t){const n=m0t(e,t);OS!==n&&(OS=n,Tl===null&&(Tl=document.createElement("style"),document.head.appendChild(Tl)),Tl.innerHTML=`*{cursor: ${n}!important;}`)}function mae(e){return e.type==="keydown"}function hae(e){return e.type.startsWith("pointer")}function gae(e){return e.type.startsWith("mouse")}function qE(e){if(hae(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(gae(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function g0t(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function v0t(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function b0t(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:B8(e),b:B8(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;xt(r,"Stacking order can only be calculated for elements with a common ancestor");const o={a:V8(j8(n.a)),b:V8(j8(n.b))};if(o.a===o.b){const a=r.childNodes,s={a:n.a.at(-1),b:n.b.at(-1)};let i=a.length;for(;i--;){const l=a[i];if(l===s.a)return 1;if(l===s.b)return-1}}return Math.sign(o.a-o.b)}const y0t=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function E0t(e){var t;const n=getComputedStyle((t=vae(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function w0t(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||E0t(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||y0t.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function j8(e){let t=e.length;for(;t--;){const n=e[t];if(xt(n,"Missing node"),w0t(n))return n}return null}function V8(e){return e&&Number(getComputedStyle(e).zIndex)||0}function B8(e){const t=[];for(;e;)t.push(e),e=vae(e);return t}function vae(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const bae=1,yae=2,Eae=4,wae=8,C0t=g0t()==="coarse";let qi=[],YE=!1,wi=new Map,KE=new Map;const Sm=new Set;function _0t(e,t,n,r,o){var a;const{ownerDocument:s}=t,i={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:o},l=(a=wi.get(s))!==null&&a!==void 0?a:0;return wi.set(s,l+1),Sm.add(i),Pb(),function(){var u;KE.delete(e),Sm.delete(i);const f=(u=wi.get(s))!==null&&u!==void 0?u:1;wi.set(s,f-1),Pb(),f===1&&wi.delete(s)}}function U8(e){const{target:t}=e,{x:n,y:r}=qE(e);YE=!0,w3({target:t,x:n,y:r}),Pb(),qi.length>0&&(C3("down",e),e.preventDefault(),e.stopPropagation())}function Pf(e){const{x:t,y:n}=qE(e);if(!YE){const{target:r}=e;w3({target:r,x:t,y:n})}C3("move",e),Cae(),qi.length>0&&e.preventDefault()}function Jc(e){const{target:t}=e,{x:n,y:r}=qE(e);KE.clear(),YE=!1,qi.length>0&&e.preventDefault(),C3("up",e),w3({target:t,x:n,y:r}),Cae(),Pb()}function w3({target:e,x:t,y:n}){qi.splice(0);let r=null;e instanceof HTMLElement&&(r=e),Sm.forEach(o=>{const{element:a,hitAreaMargins:s}=o,i=a.getBoundingClientRect(),{bottom:l,left:d,right:u,top:f}=i,p=C0t?s.coarse:s.fine;if(t>=d-p&&t<=u+p&&n>=f-p&&n<=l+p){if(r!==null&&a!==r&&!a.contains(r)&&!r.contains(a)&&b0t(r,a)>0){let g=r,v=!1;for(;g&&!g.contains(a);){if(v0t(g.getBoundingClientRect(),i)){v=!0;break}g=g.parentElement}if(v)return}qi.push(o)}})}function UC(e,t){KE.set(e,t)}function Cae(){let e=!1,t=!1;qi.forEach(r=>{const{direction:o}=r;o==="horizontal"?e=!0:t=!0});let n=0;KE.forEach(r=>{n|=r}),e&&t?BC("intersection",n):e?BC("horizontal",n):t?BC("vertical",n):h0t()}function Pb(){wi.forEach((e,t)=>{const{body:n}=t;n.removeEventListener("contextmenu",Jc),n.removeEventListener("pointerdown",U8),n.removeEventListener("pointerleave",Pf),n.removeEventListener("pointermove",Pf)}),window.removeEventListener("pointerup",Jc),window.removeEventListener("pointercancel",Jc),Sm.size>0&&(YE?(qi.length>0&&wi.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("contextmenu",Jc),n.addEventListener("pointerleave",Pf),n.addEventListener("pointermove",Pf))}),window.addEventListener("pointerup",Jc),window.addEventListener("pointercancel",Jc)):wi.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("pointerdown",U8,{capture:!0}),n.addEventListener("pointermove",Pf))}))}function C3(e,t){Sm.forEach(n=>{const{setResizeHandlerState:r}=n,o=qi.includes(n);r(e,o,t)})}function xt(e,t){if(!e)throw console.error(t),Error(t)}const _3=10;function ac(e,t,n=_3){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function Cs(e,t,n=_3){return ac(e,t,n)===0}function fo(e,t,n){return ac(e,t,n)===0}function x0t(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){const o=e[r],a=t[r];if(!fo(o,a,n))return!1}return!0}function yd({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];xt(r!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:o=0,collapsible:a,maxSize:s=100,minSize:i=0}=r;if(ac(n,i)<0)if(a){const l=(o+i)/2;ac(n,l)<0?n=o:n=i}else n=i;return n=Math.min(s,n),n=parseFloat(n.toFixed(_3)),n}function Jf({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:o,trigger:a}){if(fo(e,0))return t;const s=[...t],[i,l]=r;xt(i!=null,"Invalid first pivot index"),xt(l!=null,"Invalid second pivot index");let d=0;if(a==="keyboard"){{const f=e<0?l:i,p=n[f];xt(p,`Panel constraints not found for index ${f}`);const{collapsedSize:m=0,collapsible:g,minSize:v=0}=p;if(g){const b=t[f];if(xt(b!=null,`Previous layout not found for panel index ${f}`),fo(b,m)){const y=v-b;ac(y,Math.abs(e))>0&&(e=e<0?0-y:y)}}}{const f=e<0?i:l,p=n[f];xt(p,`No panel constraints found for index ${f}`);const{collapsedSize:m=0,collapsible:g,minSize:v=0}=p;if(g){const b=t[f];if(xt(b!=null,`Previous layout not found for panel index ${f}`),fo(b,v)){const y=b-m;ac(y,Math.abs(e))>0&&(e=e<0?0-y:y)}}}}{const f=e<0?1:-1;let p=e<0?l:i,m=0;for(;;){const v=t[p];xt(v!=null,`Previous layout not found for panel index ${p}`);const y=yd({panelConstraints:n,panelIndex:p,size:100})-v;if(m+=y,p+=f,p<0||p>=n.length)break}const g=Math.min(Math.abs(e),Math.abs(m));e=e<0?0-g:g}{let p=e<0?i:l;for(;p>=0&&p<n.length;){const m=Math.abs(e)-Math.abs(d),g=t[p];xt(g!=null,`Previous layout not found for panel index ${p}`);const v=g-m,b=yd({panelConstraints:n,panelIndex:p,size:v});if(!fo(g,b)&&(d+=g-b,s[p]=b,d.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?p--:p++}}if(x0t(o,s))return o;{const f=e<0?l:i,p=t[f];xt(p!=null,`Previous layout not found for panel index ${f}`);const m=p+d,g=yd({panelConstraints:n,panelIndex:f,size:m});if(s[f]=g,!fo(g,m)){let v=m-g,y=e<0?l:i;for(;y>=0&&y<n.length;){const E=s[y];xt(E!=null,`Previous layout not found for panel index ${y}`);const w=E+v,C=yd({panelConstraints:n,panelIndex:y,size:w});if(fo(E,C)||(v-=C-E,s[y]=C),fo(v,0))break;e>0?y--:y++}}}const u=s.reduce((f,p)=>p+f,0);return fo(u,100)?s:o}function S0t({layout:e,panelsArray:t,pivotIndices:n}){let r=0,o=100,a=0,s=0;const i=n[0];xt(i!=null,"No pivot index found"),t.forEach((f,p)=>{const{constraints:m}=f,{maxSize:g=100,minSize:v=0}=m;p===i?(r=v,o=g):(a+=v,s+=g)});const l=Math.min(o,100-a),d=Math.max(r,100-s),u=e[i];return{valueMax:l,valueMin:d,valueNow:u}}function km(e,t=document){return Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function _ae(e,t,n=document){const o=km(e,n).findIndex(a=>a.getAttribute("data-panel-resize-handle-id")===t);return o??null}function xae(e,t,n){const r=_ae(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function Sae(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function XE(e,t=document){const n=t.querySelector(`[data-panel-resize-handle-id="${e}"]`);return n||null}function k0t(e,t,n,r=document){var o,a,s,i;const l=XE(t,r),d=km(e,r),u=l?d.indexOf(l):-1,f=(o=(a=n[u])===null||a===void 0?void 0:a.id)!==null&&o!==void 0?o:null,p=(s=(i=n[u+1])===null||i===void 0?void 0:i.id)!==null&&s!==void 0?s:null;return[f,p]}function I0t({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:o,panelGroupElement:a,setLayout:s}){zr({didWarnAboutMissingResizeHandle:!1}),zl(()=>{if(!a)return;const i=km(n,a);for(let l=0;l<o.length-1;l++){const{valueMax:d,valueMin:u,valueNow:f}=S0t({layout:r,panelsArray:o,pivotIndices:[l,l+1]}),p=i[l];if(p!=null){const m=o[l];xt(m,`No panel data found for index "${l}"`),p.setAttribute("aria-controls",m.id),p.setAttribute("aria-valuemax",""+Math.round(d)),p.setAttribute("aria-valuemin",""+Math.round(u)),p.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{i.forEach((l,d)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,o,a]),Hl(()=>{if(!a)return;const i=t.current;xt(i,"Eager values not found");const{panelDataArray:l}=i,d=Sae(n,a);xt(d!=null,`No group found for id "${n}"`);const u=km(n,a);xt(u,`No resize handles found for group id "${n}"`);const f=u.map(p=>{const m=p.getAttribute("data-panel-resize-handle-id");xt(m,"Resize handle element has no handle id attribute");const[g,v]=k0t(n,m,l,a);if(g==null||v==null)return()=>{};const b=y=>{if(!y.defaultPrevented)switch(y.key){case"Enter":{y.preventDefault();const E=l.findIndex(w=>w.id===g);if(E>=0){const w=l[E];xt(w,`No panel data found for index ${E}`);const C=r[E],{collapsedSize:x=0,collapsible:S,minSize:I=0}=w.constraints;if(C!=null&&S){const A=Jf({delta:fo(C,x)?I-x:x-C,initialLayout:r,panelConstraints:l.map(T=>T.constraints),pivotIndices:xae(n,m,a),prevLayout:r,trigger:"keyboard"});r!==A&&s(A)}}break}}};return p.addEventListener("keydown",b),()=>{p.removeEventListener("keydown",b)}});return()=>{f.forEach(p=>p())}},[a,e,t,n,r,o,s])}function H8(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function kae(e,t){const n=e==="horizontal",{x:r,y:o}=qE(t);return n?r:o}function T0t(e,t,n,r,o){const a=n==="horizontal",s=XE(t,o);xt(s,`No resize handle element found for id "${t}"`);const i=s.getAttribute("data-panel-group-id");xt(i,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const d=kae(n,e),u=Sae(i,o);xt(u,`No group element found for id "${i}"`);const f=u.getBoundingClientRect(),p=a?f.width:f.height;return(d-l)/p*100}function A0t(e,t,n,r,o,a){if(mae(e)){const s=n==="horizontal";let i=0;e.shiftKey?i=100:o!=null?i=o:i=10;let l=0;switch(e.key){case"ArrowDown":l=s?0:i;break;case"ArrowLeft":l=s?-i:0;break;case"ArrowRight":l=s?i:0;break;case"ArrowUp":l=s?0:-i;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:T0t(e,t,n,r,a)}function D0t({panelDataArray:e}){const t=Array(e.length),n=e.map(a=>a.constraints);let r=0,o=100;for(let a=0;a<e.length;a++){const s=n[a];xt(s,`Panel constraints not found for index ${a}`);const{defaultSize:i}=s;i!=null&&(r++,t[a]=i,o-=i)}for(let a=0;a<e.length;a++){const s=n[a];xt(s,`Panel constraints not found for index ${a}`);const{defaultSize:i}=s;if(i!=null)continue;const l=e.length-r,d=o/l;r++,t[a]=d,o-=d}return t}function Zc(e,t,n){t.forEach((r,o)=>{const a=e[o];xt(a,`Panel data not found for index ${o}`);const{callbacks:s,constraints:i,id:l}=a,{collapsedSize:d=0,collapsible:u}=i,f=n[l];if(f==null||r!==f){n[l]=r;const{onCollapse:p,onExpand:m,onResize:g}=s;g&&g(r,f),u&&(p||m)&&(m&&(f==null||Cs(f,d))&&!Cs(r,d)&&m(),p&&(f==null||!Cs(f,d))&&Cs(r,d)&&p())}})}function A0(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function O0t({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:o,precision:a=3}){const s=n[o];let i;return s==null?i=e!=null?e.toPrecision(a):"1":r.length===1?i="1":i=s.toPrecision(a),{flexBasis:0,flexGrow:i,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function M0t(e,t=10){let n=null;return(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...o)},t)}}function z8(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Iae(e){return`react-resizable-panels:${e}`}function Tae(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:o,order:a}=t;return o?r:a?`${a}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function Aae(e,t){try{const n=Iae(e),r=t.getItem(n);if(r){const o=JSON.parse(r);if(typeof o=="object"&&o!=null)return o}}catch{}return null}function $0t(e,t,n){var r,o;const a=(r=Aae(e,n))!==null&&r!==void 0?r:{},s=Tae(t);return(o=a[s])!==null&&o!==void 0?o:null}function R0t(e,t,n,r,o){var a;const s=Iae(e),i=Tae(t),l=(a=Aae(e,o))!==null&&a!==void 0?a:{};l[i]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{o.setItem(s,JSON.stringify(l))}catch(d){console.error(d)}}function W8({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((a,s)=>a+s,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(a=>`${a}%`).join(", ")}`);if(!fo(r,100))for(let a=0;a<t.length;a++){const s=n[a];xt(s!=null,`No layout data found for index ${a}`);const i=100/r*s;n[a]=i}let o=0;for(let a=0;a<t.length;a++){const s=n[a];xt(s!=null,`No layout data found for index ${a}`);const i=yd({panelConstraints:t,panelIndex:a,size:s});s!=i&&(o+=s-i,n[a]=i)}if(!fo(o,0))for(let a=0;a<t.length;a++){const s=n[a];xt(s!=null,`No layout data found for index ${a}`);const i=s+o,l=yd({panelConstraints:t,panelIndex:a,size:i});if(s!==l&&(o-=l-s,n[a]=l,fo(o,0)))break}return n}const P0t=100,Zf={getItem:e=>(z8(Zf),Zf.getItem(e)),setItem:(e,t)=>{z8(Zf),Zf.setItem(e,t)}},G8={};function Dae({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:o,id:a=null,onLayout:s=null,keyboardResizeBy:i=null,storage:l=Zf,style:d,tagName:u="div",...f}){const p=y3(a),m=zr(null),[g,v]=Sp(null),[b,y]=Sp([]),E=zr({}),w=zr(new Map),C=zr(0),x=zr({autoSaveId:e,direction:r,dragState:g,id:p,keyboardResizeBy:i,onLayout:s,storage:l}),S=zr({layout:b,panelDataArray:[],panelDataArrayChanged:!1});zr({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),fae(o,()=>({getId:()=>x.current.id,getLayout:()=>{const{layout:j}=S.current;return j},setLayout:j=>{const{onLayout:Z}=x.current,{layout:K,panelDataArray:oe}=S.current,X=W8({layout:j,panelConstraints:oe.map(pe=>pe.constraints)});H8(K,X)||(y(X),S.current.layout=X,Z&&Z(X),Zc(oe,X,E.current))}}),[]),zl(()=>{x.current.autoSaveId=e,x.current.direction=r,x.current.dragState=g,x.current.id=p,x.current.onLayout=s,x.current.storage=l}),I0t({committedValuesRef:x,eagerValuesRef:S,groupId:p,layout:b,panelDataArray:S.current.panelDataArray,setLayout:y,panelGroupElement:m.current}),Hl(()=>{const{panelDataArray:j}=S.current;if(e){if(b.length===0||b.length!==j.length)return;let Z=G8[e];Z==null&&(Z=M0t(R0t,P0t),G8[e]=Z);const K=[...j],oe=new Map(w.current);Z(e,K,oe,b,l)}},[e,b,l]),Hl(()=>{});const I=so(j=>{const{onLayout:Z}=x.current,{layout:K,panelDataArray:oe}=S.current;if(j.constraints.collapsible){const X=oe.map(Q=>Q.constraints),{collapsedSize:pe=0,panelSize:ee,pivotIndices:ne}=dl(oe,j,K);if(xt(ee!=null,`Panel size not found for panel "${j.id}"`),!Cs(ee,pe)){w.current.set(j.id,ee);const se=id(oe,j)===oe.length-1?ee-pe:pe-ee,ue=Jf({delta:se,initialLayout:K,panelConstraints:X,pivotIndices:ne,prevLayout:K,trigger:"imperative-api"});A0(K,ue)||(y(ue),S.current.layout=ue,Z&&Z(ue),Zc(oe,ue,E.current))}}},[]),A=so((j,Z)=>{const{onLayout:K}=x.current,{layout:oe,panelDataArray:X}=S.current;if(j.constraints.collapsible){const pe=X.map(ve=>ve.constraints),{collapsedSize:ee=0,panelSize:ne=0,minSize:Q=0,pivotIndices:se}=dl(X,j,oe),ue=Z??Q;if(Cs(ne,ee)){const ve=w.current.get(j.id),ke=ve!=null&&ve>=ue?ve:ue,N=id(X,j)===X.length-1?ne-ke:ke-ne,R=Jf({delta:N,initialLayout:oe,panelConstraints:pe,pivotIndices:se,prevLayout:oe,trigger:"imperative-api"});A0(oe,R)||(y(R),S.current.layout=R,K&&K(R),Zc(X,R,E.current))}}},[]),T=so(j=>{const{layout:Z,panelDataArray:K}=S.current,{panelSize:oe}=dl(K,j,Z);return xt(oe!=null,`Panel size not found for panel "${j.id}"`),oe},[]),O=so((j,Z)=>{const{panelDataArray:K}=S.current,oe=id(K,j);return O0t({defaultSize:Z,dragState:g,layout:b,panelData:K,panelIndex:oe})},[g,b]),D=so(j=>{const{layout:Z,panelDataArray:K}=S.current,{collapsedSize:oe=0,collapsible:X,panelSize:pe}=dl(K,j,Z);return xt(pe!=null,`Panel size not found for panel "${j.id}"`),X===!0&&Cs(pe,oe)},[]),$=so(j=>{const{layout:Z,panelDataArray:K}=S.current,{collapsedSize:oe=0,collapsible:X,panelSize:pe}=dl(K,j,Z);return xt(pe!=null,`Panel size not found for panel "${j.id}"`),!X||ac(pe,oe)>0},[]),L=so(j=>{const{panelDataArray:Z}=S.current;Z.push(j),Z.sort((K,oe)=>{const X=K.order,pe=oe.order;return X==null&&pe==null?0:X==null?-1:pe==null?1:X-pe}),S.current.panelDataArrayChanged=!0},[]);zl(()=>{if(S.current.panelDataArrayChanged){S.current.panelDataArrayChanged=!1;const{autoSaveId:j,onLayout:Z,storage:K}=x.current,{layout:oe,panelDataArray:X}=S.current;let pe=null;if(j){const ne=$0t(j,X,K);ne&&(w.current=new Map(Object.entries(ne.expandToSizes)),pe=ne.layout)}pe==null&&(pe=D0t({panelDataArray:X}));const ee=W8({layout:pe,panelConstraints:X.map(ne=>ne.constraints)});H8(oe,ee)||(y(ee),S.current.layout=ee,Z&&Z(ee),Zc(X,ee,E.current))}}),zl(()=>{const j=S.current;return()=>{j.layout=[]}},[]);const F=so(j=>function(K){K.preventDefault();const oe=m.current;if(!oe)return()=>null;const{direction:X,dragState:pe,id:ee,keyboardResizeBy:ne,onLayout:Q}=x.current,{layout:se,panelDataArray:ue}=S.current,{initialLayout:ve}=pe??{},ke=xae(ee,j,oe);let ge=A0t(K,j,X,pe,ne,oe);if(ge===0)return;const N=X==="horizontal";document.dir==="rtl"&&N&&(ge=-ge);const R=ue.map(re=>re.constraints),P=Jf({delta:ge,initialLayout:ve??se,panelConstraints:R,pivotIndices:ke,prevLayout:se,trigger:mae(K)?"keyboard":"mouse-or-touch"}),W=!A0(se,P);(hae(K)||gae(K))&&C.current!=ge&&(C.current=ge,W?UC(j,0):N?UC(j,ge<0?bae:yae):UC(j,ge<0?Eae:wae)),W&&(y(P),S.current.layout=P,Q&&Q(P),Zc(ue,P,E.current))},[]),B=so((j,Z)=>{const{onLayout:K}=x.current,{layout:oe,panelDataArray:X}=S.current,pe=X.map(ve=>ve.constraints),{panelSize:ee,pivotIndices:ne}=dl(X,j,oe);xt(ee!=null,`Panel size not found for panel "${j.id}"`);const se=id(X,j)===X.length-1?ee-Z:Z-ee,ue=Jf({delta:se,initialLayout:oe,panelConstraints:pe,pivotIndices:ne,prevLayout:oe,trigger:"imperative-api"});A0(oe,ue)||(y(ue),S.current.layout=ue,K&&K(ue),Zc(X,ue,E.current))},[]),V=so((j,Z)=>{const{layout:K,panelDataArray:oe}=S.current,{collapsedSize:X=0,collapsible:pe}=Z,{collapsedSize:ee=0,collapsible:ne,maxSize:Q=100,minSize:se=0}=j.constraints,{panelSize:ue}=dl(oe,j,K);ue!=null&&(pe&&ne&&Cs(ue,X)?Cs(X,ee)||B(j,ee):ue<se?B(j,se):ue>Q&&B(j,Q))},[B]),Y=so((j,Z)=>{const{direction:K}=x.current,{layout:oe}=S.current;if(!m.current)return;const X=XE(j,m.current);xt(X,`Drag handle element not found for id "${j}"`);const pe=kae(K,Z);v({dragHandleId:j,dragHandleRect:X.getBoundingClientRect(),initialCursorPosition:pe,initialLayout:oe})},[]),J=so(()=>{v(null)},[]),z=so(j=>{const{panelDataArray:Z}=S.current,K=id(Z,j);K>=0&&(Z.splice(K,1),delete E.current[j.id],S.current.panelDataArrayChanged=!0)},[]),ce=d0t(()=>({collapsePanel:I,direction:r,dragState:g,expandPanel:A,getPanelSize:T,getPanelStyle:O,groupId:p,isPanelCollapsed:D,isPanelExpanded:$,reevaluatePanelConstraints:V,registerPanel:L,registerResizeHandle:F,resizePanel:B,startDragging:Y,stopDragging:J,unregisterPanel:z,panelGroupElement:m.current}),[I,g,r,A,T,O,p,D,$,V,L,F,B,Y,J,z]),le={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return su(GE.Provider,{value:ce},su(u,{...f,children:t,className:n,id:a,ref:m,style:{...le,...d},"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":p}))}const Oae=dae((e,t)=>su(Dae,{...e,forwardedRef:t}));Dae.displayName="PanelGroup";Oae.displayName="forwardRef(PanelGroup)";function id(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function dl(e,t,n){const r=id(e,t),a=r===e.length-1?[r-1,r]:[r,r+1],s=n[r];return{...t.constraints,panelSize:s,pivotIndices:a}}function L0t({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){Hl(()=>{if(e||n==null||r==null)return;const o=XE(t,r);if(o==null)return;const a=s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{s.preventDefault(),n(s);break}case"F6":{s.preventDefault();const i=o.getAttribute("data-panel-group-id");xt(i,`No group element found for id "${i}"`);const l=km(i,r),d=_ae(i,t,r);xt(d!==null,`No resize element found for id "${t}"`);const u=s.shiftKey?d>0?d-1:l.length-1:d+1<l.length?d+1:0;l[u].focus();break}}};return o.addEventListener("keydown",a),()=>{o.removeEventListener("keydown",a)}},[r,e,t,n])}function Mae({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:o,onDragging:a,style:s={},tabIndex:i=0,tagName:l="div",...d}){var u,f;const p=zr(null),m=zr({onDragging:a});Hl(()=>{m.current.onDragging=a});const g=uae(GE);if(g===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:v,groupId:b,registerResizeHandle:y,startDragging:E,stopDragging:w,panelGroupElement:C}=g,x=y3(o),[S,I]=Sp("inactive"),[A,T]=Sp(!1),[O,D]=Sp(null),$=zr({state:S});zl(()=>{$.current.state=S}),Hl(()=>{if(n)D(null);else{const V=y(x);D(()=>V)}},[n,x,y]);const L=(u=r==null?void 0:r.coarse)!==null&&u!==void 0?u:15,F=(f=r==null?void 0:r.fine)!==null&&f!==void 0?f:5;return Hl(()=>{if(n||O==null)return;const V=p.current;return xt(V,"Element ref not attached"),_0t(x,V,v,{coarse:L,fine:F},(J,z,ce)=>{if(z)switch(J){case"down":{I("drag"),E(x,ce);const{onDragging:le}=m.current;le&&le(!0);break}case"move":{const{state:le}=$.current;le!=="drag"&&I("hover"),O(ce);break}case"up":{I("hover"),w();const{onDragging:le}=m.current;le&&le(!1);break}}else I("inactive")})},[L,v,n,F,y,x,O,E,w]),L0t({disabled:n,handleId:x,resizeHandler:O,panelGroupElement:C}),su(l,{...d,children:e,className:t,id:o,onBlur:()=>T(!1),onFocus:()=>T(!0),ref:p,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...s},tabIndex:i,"data-panel-group-direction":v,"data-panel-group-id":b,"data-resize-handle":"","data-resize-handle-active":S==="drag"?"pointer":A?"keyboard":void 0,"data-resize-handle-state":S,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":x})}Mae.displayName="PanelResizeHandle";const q8="databases-panel-resize-layout",MS={setItem:(e,t)=>{localStorage.setItem(`${q8}-${e}`,JSON.stringify(t))},getItem:e=>{const t=localStorage.getItem(`${q8}-${e}`);return t?JSON.parse(t):null}},N0t=({children:e,storageKey:t,outerContainerRef:n})=>{const r=c.useRef(null),{getData:o,isPanelVisible:a}=lr(),s=o(),i=c.useCallback(d=>{MS.setItem(t,d)},[t]),l=c.useCallback(()=>{if(s&&a("FieldSettingsPanel")){const d=s.fieldId,u=document.getElementById(d);if(u){const f=n==null?void 0:n.getBoundingClientRect(),p=u.getBoundingClientRect();f&&(p.right>f.right||p.left<f.left)&&u.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}}},[s,a,n]);return c.useEffect(()=>{var u;const d=MS.getItem(t);d&&((u=r.current)==null||u.setLayout(d),t.includes("FieldSettingsPanel")&&setTimeout(()=>{l()},0))},[l,i,t]),h.jsx(Oae,{onLayout:i,ref:r,id:"panel-group",direction:"horizontal",style:{flexGrow:1},children:e})},li={main:{order:1,min:30,max:100,defaultSize:100},sidebar:{order:2,min:25,max:70,defaultSize:30}},F0t=Re.div.withConfig({displayName:"DatabaseLayout__LayoutContainer",componentId:"sc-1xq0ukc-0"})(["display:flex;flex-direction:column;justify-content:flex-start;height:100%;position:absolute;width:100%;overflow:hidden;left:0;top:0;margin-right:",";#app-resize-handle{border-left-width:2px;border-left-style:solid;border-left-color:",";}#app-resize-handle[data-resize-handle-state='hover']{border-left-color:",";}#app-resize-handle[data-resize-handle-state='drag']{border-left-color:",";}#right-side-panel{height:100%;}"],U("space.100"),U("color.border","#091E4224"),U("color.border.focused","#388BFF"),U("color.border.selected","#0C66E4")),j0t=Re.div.withConfig({displayName:"DatabaseLayout__ToolbarContainer",componentId:"sc-1xq0ukc-1"})(["",""],e=>e.isEmbedView?ln(["padding-left:0;"]):e.isContentWrapperEnabled?e.isRightGutterCollapsed?ln(["padding:0 0 0 ",";"],U("space.800")):ln(["padding:0 ",";"],U("space.800")):ln(["padding-left:",";"],U("space.200"))),V0t=Re.div.withConfig({displayName:"DatabaseLayout__ContentWrapper",componentId:"sc-1xq0ukc-2"})(["flex-grow:1;min-height:0;flex-shrink:1;display:flex;flex-direction:row;"]),B0t=Re(E3).withConfig({displayName:"DatabaseLayout__ViewWrapper",componentId:"sc-1xq0ukc-3"})(["min-height:0;display:flex;flex-direction:column;overflow-x:hidden;",""],e=>e.$isEmbed?ln(["padding-left:",";padding-right:",";"],U("space.100","8px"),U("space.100","8px")):e.$isContentWrapperEnabled?e.$isRightGutterCollapsed?ln(["padding:0 0 0 ",";"],U("space.800","64px")):ln(["max-width:calc(100vw - "," * 2);padding-left:",";"],U("space.800","64px"),U("space.800","64px")):ln(["padding-left:token('space.0');"])),U0t=Re(E3).withConfig({displayName:"DatabaseLayout__SidebarPanel",componentId:"sc-1xq0ukc-4"})(["",""],e=>e.$showTopBorder&&ln(["border-top:1px solid ",";margin-top:",";"],U("color.border","#EBECF0"),U("space.100"))),H0t=Re.div.withConfig({displayName:"DatabaseLayout__PanelContent",componentId:"sc-1xq0ukc-5"})(["box-sizing:border-box;display:flex;justify-content:flex-start;align-items:center;width:100%;height:100%;flex-direction:column;overflow:auto;"]),Y8=({isEmbedView:e,isContentWrapperEnabled:t,isRightGutterCollapsed:n,toolbar:r})=>h.jsx(j0t,{isEmbedView:e,isContentWrapperEnabled:t,isRightGutterCollapsed:n,id:"layout-toolbar-wrapper","data-testid":"layout-toolbar-wrapper",children:r}),z0t=({banners:e,view:t,sidebar:n,toolbar:r,options:o={toolbarLocation:"top"},outerContainerRef:a})=>{const s=vt("databases-frontend-content-wrapper"),[i,l]=c.useState(!1),d=Xr(),{getPanelComponent:u,getPanelKey:f}=lr();c.useEffect(()=>{(async()=>{var C;(C=(await iE()).objectSidebarMethods)==null||C.registerChangeObjectSidebarShownHandler(x=>{l(!!x)})})()},[]);const p=u(),m=n??p??null,g=`${d?"embed":"confluence-content"}-${f()??"no-panel"}`,v=fe.useDispatch(),b=fe.useEqualSelector(E=>g4(E)),y=E=>{const w=MS.getItem(g);return w?w[li[E].order-1]:li[E].defaultSize};return h.jsxs(F0t,{id:"layout-container","data-testid":"layout-container",onClick:E=>{const w=E.target;"ariaLabel"in w&&w.ariaLabel!=="dragHandlerIcon"&&w.hasAttribute("data-testid")&&w.getAttribute("data-testid")!=="database-value-view-container"&&(b||v(wr()))},children:[e&&h.jsx("div",{"data-testid":"layout-banner-wrapper",children:e}),o.toolbarLocation==="top"?h.jsx(Y8,{isEmbedView:d,isContentWrapperEnabled:s,isRightGutterCollapsed:i,toolbar:r}):null,h.jsx(V0t,{"data-testid":"layout-content-wrapper",children:h.jsxs(N0t,{storageKey:g,outerContainerRef:a,children:[h.jsxs(B0t,{order:li.main.order,maxSize:li.main.max,minSize:li.main.min,id:"main",tagName:"main",$isEmbed:d,$isContentWrapperEnabled:s,$isRightGutterCollapsed:i,"data-testid":"layout-view--wrapper",children:[o.toolbarLocation==="views"?h.jsx(Y8,{isEmbedView:d,isContentWrapperEnabled:s,isRightGutterCollapsed:i,toolbar:r}):null,t]}),h.jsx(h.Fragment,{children:m?h.jsxs(h.Fragment,{children:[h.jsx(Mae,{id:"app-resize-handle",style:{marginTop:(o==null?void 0:o.toolbarLocation)==="top"?U("space.100"):0,marginLeft:0,marginRight:0,marginBottom:0}}),h.jsx(U0t,{$showTopBorder:(o==null?void 0:o.toolbarLocation)==="top",order:li.sidebar.order,maxSize:li.sidebar.max,minSize:li.sidebar.min,defaultSize:y("sidebar"),id:"right-side-panel","data-testid":"layout-right-side-panel",children:h.jsx(H0t,{children:m})})]}):null})]})})]})},W0t="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/entry_empty_state-CqgifqKV.svg",G0t="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/search_error-mdEf3Nln.svg",q0t="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/search_illustration-Dkn9niU3.svg",jn=xr({"reference-preview.broken-header":{id:"reference-preview.broken-header",defaultMessage:"Uh oh, we cant embed this database",description:"The header text displayed in the database reference preview window when a broken database is selected."},"reference-preview.broken-description":{id:"reference-preview.broken-description",defaultMessage:"This database may be broken. Try embedding a different database.",description:"The description text displayed in the database reference preview window when a broken database is selected."},"reference-preview.placeholder":{id:"reference-preview.placeholder",defaultMessage:"Select a database, entry, or value to preview it here",description:"The text displayed in the database reference preview window when a database has not yet been selected."},"reference-picker.header":{id:"reference-picker.header",defaultMessage:"Embed database",description:"The header in the picker section of the database referencing wizard."},"reference-picker.close":{id:"reference-picker.close",defaultMessage:"Close",description:"The aria label for the close button in the database referencing wizard."},"reference-picker.optional":{id:"reference-picker.optional",defaultMessage:"(optional)",description:"The text indicating an optional field in the database referencing wizard."},"reference-picker.cancel":{id:"reference-picker.cancel",defaultMessage:"Cancel",description:"The text for the cancel button in the database referencing wizard."},"reference-picker.embed":{id:"reference-picker.embed",defaultMessage:"Embed",description:"The text for the embed button in the database referencing wizard.."},"reference-database-picker.label":{id:"reference-database-picker.label",defaultMessage:"Database",description:"The text heading a database picker in the database referencing wizard."},"reference-database-picker.placeholder":{id:"reference-database-picker.placeholder",defaultMessage:"Search or paste link",description:"The text placeholder for a database picker in the database referencing wizard."},"reference-entry-picker.label":{id:"reference-entry-picker.label",defaultMessage:"Entry",description:"The text heading an entry picker in the database referencing wizard."},"reference-value-picker.label":{id:"reference-value-picker.label",defaultMessage:"Value",description:"The text heading a value picker in the database referencing wizard."},"reference-entry-picker-option.add-icon-label":{id:"reference-entry-picker-option.add-icon-label",defaultMessage:"Create new entry",description:"The label for the add icon for a create option in the entry picker for the database referencing wizard."},"reference-entry-picker-option.add-label":{id:"reference-entry-picker-option.add-label",defaultMessage:"Create new entry",description:"The label for the create new entry option in the entry picker for the database referencing wizard."},"reference-entry-picker-option.unnamed-entry":{id:"reference-entry-picker-option.unnamed-entry",defaultMessage:"Unnamed entry",description:"The text for an entry that has not been named."},"reference-entry-picker.placeholder":{id:"reference-entry-picker.placeholder",defaultMessage:"Select or create an entry",description:"The text placeholder for an entry picker in the database referencing wizard."},"reference-value-picker.placeholder":{id:"reference-value-picker.placeholder",defaultMessage:"Select a value by field",description:"The text placeholder for a value picker in the database referencing wizard."},"reference-preview.entry-placeholder-header":{id:"reference-preview.entry-placeholder-header",defaultMessage:"Embed the entry to start editing",description:"The header text displayed in the database reference preview window when a create option entry is selected."},"reference-preview.entry-placeholder-description":{id:"reference-preview.entry-placeholder-description",defaultMessage:"You can edit this entry and your changes will sync to the database.",description:"The description text displayed in the database reference preview window when a create option entry is selected."},"reference-value-picker.no-options":{id:"reference-value-picker.no-options",defaultMessage:"No values to embed",description:"The message displayed when a value picker has no options in the database referencing wizard."},"reference-entry-picker.no-options":{id:"reference-entry-picker.no-options",defaultMessage:"No entries to embed",description:"The message displayed when a entry picker has no options in the database referencing wizard."},"reference-database-picker.menu-header":{id:"reference-database-picker.menu-header",defaultMessage:"RECENTLY VIEWED DATABASES",description:"The text heading the database picker menu in the database referencing wizard."},"reference-database-picker.error-message":{id:"reference-database-picker.error-message",defaultMessage:"Select a valid database",description:"The error message displayed when there is a problem with the selected database"},"reference-database-picker.error-label":{id:"reference-database-picker.error-label",defaultMessage:"selection error",description:"The label for the error icon when there is a problem with the selected database"}}),K8=Re.div.withConfig({displayName:"embedReferencestyles__EmbedReferenceContainer",componentId:"sc-fn9jzf-0"})(["display:flex;max-width:100%;height:600px;overflow:hidden;"]),HC=Re.div.withConfig({displayName:"embedReferencestyles__PlaceholderContainer",componentId:"sc-fn9jzf-1"})(["width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column;"]),Y0t=Re.div.withConfig({displayName:"embedReferencestyles__PreviewContainer",componentId:"sc-fn9jzf-2"})(["margin-left:",";margin-right:",";min-height:0;display:flex;flex-direction:column;height:100%;padding-bottom:",";"],U("space.100"),U("space.100"),U("space.100")),$ae=Re.p.withConfig({displayName:"embedReferencestyles__PreviewPlaceholderHeaderText",componentId:"sc-fn9jzf-3"})(["font:",";text-align:center;width:400px;"],U("font.heading.medium")),K0t=Re.div.withConfig({displayName:"embedReferencestyles__ValueContainer",componentId:"sc-fn9jzf-4"})(["margin-top:",";margin-left:",";"],U("space.400"),U("space.200")),Rae=Re.p.withConfig({displayName:"embedReferencestyles__PreviewPlaceholderText",componentId:"sc-fn9jzf-5"})(["font:",";width:240px;text-align:center;"],U("font.body")),X0t="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M0%203C0%201.34315%201.34315%200%203%200H13C14.6569%200%2016%201.34315%2016%203V13C16%2014.6569%2014.6569%2016%2013%2016H3C1.34315%2016%200%2014.6569%200%2013V3ZM7.33398%208C7.33398%207.44772%207.7817%207%208.33398%207H12.334C12.8863%207%2013.334%207.44772%2013.334%208C13.334%208.55229%2012.8863%209%2012.334%209H8.33398C7.7817%209%207.33398%208.55229%207.33398%208ZM3.66699%207C3.11471%207%202.66699%207.44772%202.66699%208C2.66699%208.55229%203.11471%209%203.66699%209H5.00033C5.55261%209%206.00033%208.55229%206.00033%208C6.00033%207.44772%205.55261%207%205.00033%207H3.66699Z'%20fill='%23CD519D'/%3e%3c/svg%3e",Pae=Re.div.withConfig({displayName:"databaseEntryPickerstyles__DatabaseEntryPickerOptionContainer",componentId:"sc-1594993-0"})(["display:flex;align-items:center;gap:",";"],U("space.100","8px")),J0t=({isCreate:e,label:t})=>{const{formatMessage:n}=Ee();return h.jsxs(Pae,{children:[e?h.jsx(CE,{LEGACY_size:"small",label:n(jn["reference-entry-picker-option.add-icon-label"])}):h.jsx("img",{src:X0t}),t]})},sc=e=>!!e&&typeof e!="string"&&!("id"in e)&&!("entry"in e),Z0t=e=>sc(e)?"":e.entry?e.entry.id:"",Q0t=({selectedDatabase:e,setSelectedEntry:t,selectedEntry:n,setSelectedField:r,canCreate:o})=>{var g;const a=fe.useStore(),{formatMessage:s}=Ee(),i=o&&e&&((g=e.operations)==null?void 0:g.updateEntries),l=Object.freeze({}),d=c.useCallback(v=>{try{if(sc(v))return s(jn["reference-entry-picker-option.add-icon-label"]);if(v){const b=Gr(v,a.getState());return b||s(jn["reference-entry-picker-option.unnamed-entry"])}return""}catch(b){return b instanceof Error&&(tn.setMessage(b.message,{showCloseButton:!0}),wn(b)),""}},[s,a]),u=c.useCallback((v,b)=>{const y=d(v);return b.context==="menu"?h.jsx(J0t,{isCreate:sc(v),label:y}):y},[d]),f=c.useMemo(()=>!e||Ht(e)?[]:[...i?[l]:[],...As(e).map(v=>({database:e,entry:v}))],[l,i,e]),p=c.useCallback(v=>{t(v??void 0),r(void 0)},[t,r]),m=c.useCallback((v,b)=>d(v.data).toLowerCase().includes(b.toLowerCase()),[d]);return h.jsx($4,{inputId:"reference-entry-picker-input",options:f,filterOption:m,formatOptionLabel:u,value:n??null,getOptionValue:Z0t,onChange:p,placeholder:s(jn["reference-entry-picker.placeholder"]),noOptionsMessage:()=>s(jn["reference-entry-picker.no-options"]),isDisabled:!e||Ht(e),isClearable:!0})},X8=({error:e=!1})=>{const{formatMessage:t}=Ee();return h.jsxs(h.Fragment,{children:[h.jsx("img",{width:108,height:108,role:"presentation",src:e?G0t:q0t}),e&&h.jsx($ae,{children:t(jn["reference-preview.broken-header"])}),h.jsx(Rae,{children:t(jn[e?"reference-preview.broken-description":"reference-preview.placeholder"])})]})},evt=()=>{const{formatMessage:e}=Ee();return h.jsxs(h.Fragment,{children:[h.jsx("img",{width:242,height:111,role:"presentation",src:W0t,alt:e(jn["reference-preview.entry-placeholder-header"])}),h.jsx($ae,{children:e(jn["reference-preview.entry-placeholder-header"])}),h.jsx(Rae,{children:e(jn["reference-preview.entry-placeholder-description"])})]})},tvt=({contentId:e,DatabasePreviewComponent:t})=>{const{setContentId:n}=An();c.useEffect(()=>{n(e)},[e,n]);const[r,o]=c.useState(null);return h.jsx(t,{contentId:e,isContentEditable:!1,canEditContent:!1,couldEditFields:!1,canEditFields:!1,outerContainerRef:r,setOuterContainerRef:o,hasSelection:!1})},nvt=({databaseError:e,selectedDatabase:t,DatabasePreviewComponent:n,EntryPreviewComponent:r,ValuePreviewComponent:o,selectedEntry:a,selectedField:s})=>e?h.jsx(HC,{children:h.jsx(X8,{error:!0})}):s&&a&&"entry"in a&&t?h.jsx(K0t,{children:h.jsx(o,{contentId:t.contentId,entryId:a.entry.id,fieldId:s})}):a&&sc(a)?h.jsx(K8,{children:h.jsx(HC,{children:h.jsx(evt,{})})}):a&&"entry"in a&&t?h.jsx(Y0t,{children:h.jsx(r,{contentId:t.contentId,entryId:a.entry.id,isContentEditable:!1})}):t?h.jsx(tvt,{contentId:t.contentId,DatabasePreviewComponent:n}):h.jsx(K8,{children:h.jsx(HC,{children:h.jsx(X8,{})})}),rvt=e=>/database\/\d+/.test(e),ovt=e=>{if(rvt(e)){const t=/database\/(\d+)/,n=e.match(t);return n?n[1]:void 0}};var x3={};Object.defineProperty(x3,"__esModule",{value:!0});var Lae=x3.default=void 0,avt=Nae(c),svt=Nae(Oe);function Nae(e){return e&&e.__esModule?e:{default:e}}const Fae=e=>avt.default.createElement(svt.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-width="1.5" d="M1.75 7.25V3c0-.69.56-1.25 1.25-1.25h10c.69 0 1.25.56 1.25 1.25v4.25m-12.5 0H8m-6.25 0v3.5m12.5-3.5H8m6.25 0v3.5M8 7.25v3.5m0 3.5h5c.69 0 1.25-.56 1.25-1.25v-2.25M8 14.25H3c-.69 0-1.25-.56-1.25-1.25v-2.25M8 14.25v-3.5m0 0h6.25m-6.25 0H1.75"/>'},e));Fae.displayName="DatabaseIcon";Lae=x3.default=Fae;const ivt=Xn(h.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[h.jsx("g",{clipPath:"url(#clip0_326_275)",children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2C0 0.895431 0.895431 0 2 0H14C15.1046 0 16 0.895431 16 2V14C16 15.1046 15.1046 16 14 16H2C0.895431 16 0 15.1046 0 14V2ZM3 4C3 3.44772 3.44772 3 4 3H5C5.55228 3 6 3.44772 6 4C6 4.55228 5.55228 5 5 5H4C3.44772 5 3 4.55228 3 4ZM4 7C3.44772 7 3 7.44772 3 8C3 8.55229 3.44772 9 4 9H5C5.55228 9 6 8.55229 6 8C6 7.44772 5.55228 7 5 7H4ZM3 12C3 11.4477 3.44772 11 4 11H5C5.55228 11 6 11.4477 6 12C6 12.5523 5.55228 13 5 13H4C3.44772 13 3 12.5523 3 12ZM8 3C7.44772 3 7 3.44772 7 4C7 4.55228 7.44772 5 8 5H12C12.5523 5 13 4.55228 13 4C13 3.44772 12.5523 3 12 3H8ZM7 8C7 7.44772 7.44772 7 8 7H12C12.5523 7 13 7.44772 13 8C13 8.55229 12.5523 9 12 9H8C7.44772 9 7 8.55229 7 8ZM8 11C7.44772 11 7 11.4477 7 12C7 12.5523 7.44772 13 8 13H12C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11H8Z",fill:"#8270DB"})}),h.jsx("defs",{children:h.jsx("clipPath",{id:"clip0_326_275",children:h.jsx("rect",{width:"16",height:"16",fill:"white"})})})]})),lvt=e=>h.jsx(Lae,{LEGACY_fallbackIcon:ivt,spacing:"spacious",...e}),cvt=Le.div.withConfig({displayName:"databasePickerstyles__DatabaseOptionContainer",componentId:"sc-1x3nkzn-0"})(["display:inline-flex;align-items:flex-start;gap:",";"],U("space.100")),dvt=Le.div.withConfig({displayName:"databasePickerstyles__DatabaseOptionContentContainer",componentId:"sc-1x3nkzn-1"})(["display:flex;flex-direction:column;"]),uvt=Le.div.withConfig({displayName:"databasePickerstyles__DatabaseOptionTitle",componentId:"sc-1x3nkzn-2"})(["font:",";color:",";"],U("font.body"),U("color.text","#172B4D")),fvt=Le.span.withConfig({displayName:"databasePickerstyles__DatabaseOptionIcon",componentId:"sc-1x3nkzn-3"})(["padding-top:",";"],U("space.050","4px")),pvt=Le.div.withConfig({displayName:"databasePickerstyles__DatabaseOptionInfoContainer",componentId:"sc-1x3nkzn-4"})(["display:flex;flex-direction:row;gap:",";font:",";color:",";"],U("space.100","8px"),U("font.body.small"),U("color.text.subtlest","#6B778C")),mvt=Le.div.withConfig({displayName:"databasePickerstyles__ErrorMessage",componentId:"sc-1x3nkzn-5"})(["position:absolute;display:flex;align-items:center;font:",";padding-top:",";gap:",";color:",";"],U("font.body.UNSAFE_small"),U("space.025","2px"),U("space.050","4px"),U("color.text.danger","#AE2A19")),hvt=({value:e})=>{const t=n=>{const r=new Date,o=new Date(n);return Eue(o,r,{addSuffix:!0})};return h.jsxs(cvt,{children:[h.jsx(fvt,{children:h.jsx(lvt,{label:""})}),h.jsxs(dvt,{children:[h.jsx(uvt,{children:e.name}),h.jsxs(pvt,{children:[h.jsx("span",{children:e.space.name}),h.jsx("span",{children:""}),h.jsx("span",{children:t(e.lastUpdatedDate)})]})]})]})},gvt=(e,t)=>t.context==="menu"?h.jsx(hvt,{value:e}):e.name,vvt=({selectedDatabase:e,onChange:t,isInvalid:n})=>{const[r,o]=c.useState(!1),a=fe.useDispatch(),s=Ee(),{formatMessage:i}=s,l=De(async f=>{const p=ovt(f);if(p)return[await Jce(p)];{const m=await Zce(f);return[{label:i(Xf["generic-database-picker.menu-header"]),options:m}]}},[i]),d=De(async f=>{if(!f){t(void 0);return}const p=f;o(!0);const m=await a(Fs(p.contentId,s));t(m),o(!1)},[a,t,s]),u=f=>"contentId"in f?f.contentId:"";return h.jsxs(h.Fragment,{children:[h.jsx(qs,{inputId:"database-picker-input",value:e??null,loadOptions:l,formatOptionLabel:gvt,getOptionValue:u,onChange:d,isLoading:r,isClearable:!0,isInvalid:n,classNamePrefix:"database-picker",placeholder:i(Xf["generic-database-picker.placeholder"])}),n&&h.jsxs(mvt,{children:[h.jsx(Us,{LEGACY_size:"small",label:i(Xf["generic-database-picker.error-label"]),color:U("color.text.danger","#AE2A19")}),i(Xf["generic-database-picker.error-message"])]})]})};var S3={};Object.defineProperty(S3,"__esModule",{value:!0});var jae=S3.default=void 0,bvt=Vae(c),yvt=Vae(Oe);function Vae(e){return e&&e.__esModule?e:{default:e}}const Bae=e=>bvt.default.createElement(yvt.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" fill-rule="evenodd" d="M3 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm.75 7.75h8.5v-1.5h-8.5z" clip-rule="evenodd"/>'},e));Bae.displayName="CheckboxIndeterminateIcon";jae=S3.default=Bae;const Evt=({label:e})=>h.jsxs(Pae,{children:[h.jsx(jae,{label:"",color:U("color.icon.accent.teal")}),e]}),wvt=e=>e.id,Cvt=({selectedDatabase:e,selectedEntry:t,selectedField:n,setSelectedField:r})=>{const{formatMessage:o}=Ee(),a=c.useMemo(()=>!e||Ht(e)||!t||sc(t),[e,t]),s=c.useCallback((u,f)=>f.context==="menu"?h.jsx(Evt,{label:u.name}):u.name,[]),i=c.useMemo(()=>!e||Ht(e)||!t||sc(t)?[]:e.fields.map(u=>e.fieldsById[u]),[e,t]),l=c.useCallback(u=>{r(u??void 0)},[r]),d=c.useCallback((u,f)=>u.data.name.toLowerCase().includes(f.toLowerCase()),[]);return h.jsx($4,{inputId:"reference-value-picker-input",options:i,formatOptionLabel:s,filterOption:d,value:n??null,getOptionValue:wvt,onChange:l,placeholder:o(jn["reference-value-picker.placeholder"]),noOptionsMessage:()=>o(jn["reference-value-picker.no-options"]),isDisabled:a,isClearable:!0})},_vt=async(e,t,n)=>new Promise(r=>{let o=!1;const a=lc(e),s=XS(n.getState(),{contentId:e.contentId});if(s)s.onPendingChanges(i=>{o&&!i&&r(a.id)});else{const i=new Error("Could not select collab manager for entry creation");tn.setMessage(i.message,{showCloseButton:!0}),wn(i),r(void 0)}t(pt(e.contentId,"main",{type:ye.ADD_ENTRY,entry:a})),o=!0}),xvt=async(e,t,n,r,o,a,s,i,l)=>{if(a1(e)){let d="",u="DATABASE",f=!1;if(t){if(sc(t)){const m=await _vt(e,r,o);m&&(d=`?entryId=${m}`,f=!0)}else d=`?entryId=${t.entry.id}`;u="ENTRY"}return n&&(d+=`&fieldId=${n.id}`,u="VALUE"),!t&&!n&&a&&(d+=`?savedViewId=${a.id}`),await s.sendMacroCreatedEvent({macroType:u,contentId:e.contentId,isNew:f,source:"databaseReferenceModal"}),{finalDatabaseUrl:`${l}/spaces/${i}/database/${e.contentId}${d}`}}},Svt=Re.div.withConfig({displayName:"embedReferencePickerstyles__ReferencePickerContainer",componentId:"sc-17fbob3-0"})(["display:flex;flex-direction:column;min-height:0;padding:"," ",";"],U("space.025","2px"),U("space.300","24px")),kvt=Re.div.withConfig({displayName:"embedReferencePickerstyles__ReferenceOptionContainer",componentId:"sc-17fbob3-1"})(["display:flex;flex-direction:row;gap:",";margin-bottom:",";"],U("space.025","2px"),U("space.050","4px")),J8=Re.span.withConfig({displayName:"embedReferencePickerstyles__ReferenceOptionHeader",componentId:"sc-17fbob3-2"})(["font:",";color:",";"],U("font.heading.xxsmall"),e=>e.isSubtle?U("color.text.disabled","#8993A5"):jt),zC=Re.div.withConfig({displayName:"embedReferencePickerstyles__OptionGroup",componentId:"sc-17fbob3-3"})(["margin-bottom:",";"],U("space.300","24px")),Ivt=Re.div.withConfig({displayName:"embedReferencePickerstyles__ActionsContainer",componentId:"sc-17fbob3-4"})(["display:flex;flex-direction:row;justify-content:flex-end;gap:",";"],U("space.100","8px")),WC=({label:e,isRequired:t})=>{const{formatMessage:n}=Ee();return h.jsxs(kvt,{children:[h.jsx(J8,{children:e}),t?h.jsx(Fh,{}):h.jsx(J8,{isSubtle:!0,children:n(jn["reference-picker.optional"])})]})},Tvt=({setSelectedDatabase:e,selectedDatabase:t,setSelectedEntry:n,selectedEntry:r,setSelectedField:o,selectedField:a,handleCancel:s,databaseError:i})=>{const l=fe.useDispatch(),d=fe.useStore(),u=fe.useEqualSelector(x=>to()),{formatMessage:f}=Ee(),p=rt(),{view:m}=at(),{spaceKey:g}=An(),[v,b]=c.useState(!1),[y,E]=c.useState(!1),w=c.useCallback(x=>{x?(e(x),E(!1)):(e(void 0),E(!0)),n(void 0),o(void 0)},[e,n,o]),C=c.useCallback(async()=>{if(t){b(!0);const x=await xvt(t,r,a,l,d,m,p,g,u);window.parent.postMessage(JSON.stringify(x),window.location.origin),b(!1)}else E(!0)},[t,r,a,l,d,m,p,g,u]);return h.jsxs(Svt,{children:[h.jsxs(zC,{children:[h.jsx(WC,{label:f(jn["reference-database-picker.label"]),isRequired:!0}),h.jsx(vvt,{onChange:w,selectedDatabase:t,isInvalid:i||y})]}),h.jsxs(zC,{children:[h.jsx(WC,{label:f(jn["reference-entry-picker.label"])}),h.jsx(Q0t,{selectedDatabase:t,setSelectedEntry:n,selectedEntry:r,setSelectedField:o,canCreate:t?t.operations.updateEntries:!1})]}),h.jsxs(zC,{children:[h.jsx(WC,{label:f(jn["reference-value-picker.label"])}),h.jsx(Cvt,{selectedDatabase:t,selectedEntry:r,selectedField:a,setSelectedField:o})]}),h.jsxs(Ivt,{children:[h.jsx(ht,{appearance:"subtle",onClick:s,testId:"reference-cancel-button",children:f(jn["reference-picker.cancel"])}),h.jsx(Yd,{testId:"reference-submit-button",type:"submit",appearance:"primary",isLoading:v,onClick:C,children:f(jn["reference-picker.embed"])})]})]})},Avt=Re.div.withConfig({displayName:"embedReferenceOptionsstyles__ReferenceOptionsContainer",componentId:"sc-1nxxtk4-0"})(["display:flex;flex-direction:column;width:100%;"]),Dvt=Re.div.withConfig({displayName:"embedReferenceOptionsstyles__FormHeaderContainer",componentId:"sc-1nxxtk4-1"})(["display:flex;padding:"," "," ",";position:relative;align-items:center;justify-content:space-between;"],U("space.300"),U("space.300"),U("space.300")),Ovt=Re.h1.withConfig({displayName:"embedReferenceOptionsstyles__FormTitle",componentId:"sc-1nxxtk4-2"})(["display:flex;min-width:0;margin:0;align-items:center;font:",";"],U("font.heading.small")),Z8=()=>{window.parent.postMessage(JSON.stringify({cancelDatabaseReference:!0}),window.location.origin)},Mvt=({setSelectedDatabase:e,selectedDatabase:t,setSelectedEntry:n,selectedEntry:r,setSelectedField:o,selectedField:a,databaseError:s})=>{const{formatMessage:i}=Ee();return h.jsxs(Avt,{children:[h.jsxs(Dvt,{children:[h.jsx(Ovt,{children:i(jn["reference-picker.header"])}),h.jsx(ht,{appearance:"subtle",iconBefore:h.jsx(EA,{label:i(jn["reference-picker.close"])}),onClick:Z8,testId:"reference-close-button"})]}),h.jsx(Tvt,{setSelectedDatabase:e,selectedDatabase:t,setSelectedEntry:n,selectedEntry:r,setSelectedField:o,selectedField:a,handleCancel:Z8,databaseError:s})]})},p5t=({ToolbarComponent:e,DatabasePreviewComponent:t,EntryPreviewComponent:n,ValuePreviewComponent:r})=>{const[o,a]=c.useState(void 0),[s,i]=c.useState(void 0),[l,d]=c.useState(void 0),[u,f]=c.useState(!1),p=m=>m?"error"in m:!1;return c.useEffect(()=>{f(p(o))},[o]),c.useLayoutEffect(()=>{window.parent.postMessage(JSON.stringify({databaseReferencingComponentLoaded:!0}),window.location.origin)},[]),Ra.success({force:!0}),h.jsx(z0t,{options:{toolbarLocation:"views"},view:h.jsx(nvt,{databaseError:u,selectedDatabase:o,selectedEntry:s,selectedField:l==null?void 0:l.id,DatabasePreviewComponent:t,EntryPreviewComponent:n,ValuePreviewComponent:r}),sidebar:h.jsx(Mvt,{setSelectedDatabase:a,selectedDatabase:o,setSelectedEntry:i,selectedEntry:s,setSelectedField:d,selectedField:l,databaseError:u}),toolbar:o&&!s&&!l?h.jsx(e,{contentId:o.contentId,canEditContent:!1,canEditFields:!1,actions:[],showViewSettings:!1}):null})},Uae="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/generic_error-CNeNhMCT.svg",Qo=()=>{const e=c.useContext(wre);if(e===void 0)throw new Error("useCommentContext must be used within a CommentContextProvider");return e},$vt=(e,t)=>Object.keys(e.commentThreads).filter(n=>YN(n)===t).map(n=>e.commentThreads[n]),Rvt=(e,t)=>$vt(e,t).length>0,m5t=(e,t)=>{if(e)for(const[n,r]of Object.entries(t)){const o=r.find(a=>a.threadId===e);if(o)return{thread:o,entryId:KN(n),fieldId:YN(n)}}};var Pvt=(e=>(e[e.fileReceived=0]="fileReceived",e[e.csvParsed=1]="csvParsed",e[e.conversionCompleted=2]="conversionCompleted",e[e.importCompleted=3]="importCompleted",e))(Pvt||{});const Lvt={"text/csv":ho.CSV,"text/plain":ho.TEXT,"text/tab-separated-values":ho.CSV,"application/vnd.ms-excel":ho.CSV};async function Nvt({contentId:e,exportType:t,viewSettings:n,selectDatabase:r=Vt,databaseName:o},a,s){const i=r(a.getState(),{contentId:e});if(!i||Ht(i))throw i!=null&&i.error?mr(i.error):new Rp("Database is not loaded.","snackbar-error-message.database-is-not-loaded");switch(await Promise.all((n&&n.filter?Qce(i,n.filter):Array.from(ede(i))).map(l=>Promise.race([tde({contentId:l.database.contentId,field:l.field,entryId:l.entry.id,value:l.value},a,s),new Promise(d=>setTimeout(()=>d(!0),5e3))]))),t){case op.HTML:return new File([await Hae({contentId:e,renderContext:Hm.EXPORT_DATABASE,viewSettings:n,selectDatabase:r,databaseName:o},a.getState())],`${o}.html`,{type:"text/html"});case op.CSV:return new File([Fvt({contentId:e,viewSettings:n,selectDatabase:r},a.getState())],`${o}.csv`,{type:"text/csv"});default:throw new Error(`Export to ${t} not supported.`)}}function Fvt({contentId:e,viewSettings:t,selectDatabase:n=Vt},r){const o=n(r,{contentId:e});if(!o||Ht(o))throw o!=null&&o.error?mr(o.error):new Error("Database is not loaded.");const a=fu(o,o,t,r),s=no(a),i=s.map(d=>d.name),l=As(a).map(d=>s.map(u=>{const f=_o(o,u,d);return nde({database:a,field:u,entry:d,value:f},r)||""}));return XN.unparse([i,...l],{skipEmptyLines:!0})}async function Hae({contentId:e,renderContext:t,viewSettings:n,selectDatabase:r=Vt,databaseName:o},a){return await k3(await Gmt({contentId:e,renderContext:t,viewSettings:n,selectDatabase:r,showName:!0,databaseName:o},a),o,a,!1)}async function jvt({contentId:e,entryId:t,renderContext:n,selectDatabase:r=Vt},o){const a=r(o,{contentId:e});if(!a||Ht(a))throw a!=null&&a.error?mr(a.error):new Error("Database is not loaded.");const s=fn(a,t);return await k3(await Bmt({contentId:e,entryId:t,renderContext:n,selectDatabase:r,showName:!0},o),Gr({database:a,entry:s},o)||"",o,n===Hm.COPY_DATABASE_TO_CLIPBOARD)}function Vvt(e){const t=e.replace(/<meta[^>]*>|<br>/g,""),n=/<img\b(?![^>]*\/>)([^>]*)>/gi;return t.replace(n,"<img$1 />")}async function k3(e,t,n,r=!1){var i,l,d,u,f;const o=Vvt(e),a=await rde({representation:$O.STORAGE,value:o},{to:$O.EXPORT_VIEW},["webresource.uris.css","webresource.superbatch.uris.css"]),s=ode(a.value).html();return r?s:`<!DOCTYPE html><html><head><title>${Or(t)}</title><base href=${Or(to())}><style>body { background: #fff !important; padding: 15px !important; }</style>`+[...((l=(i=a.webresource)==null?void 0:i.uris)==null?void 0:l.css)??[],...((f=(u=(d=a.webresource)==null?void 0:d.superbatch)==null?void 0:u.uris)==null?void 0:f.css)??[]].map(p=>`<link rel="stylesheet" href="${Or(p)}">`).join("")+`</head><body><div class="wiki-content">${s}</div></body></html>`}var Ns=(e=>(e.EXISTING="existing",e.CREATE="create",e.IGNORE="ignore",e))(Ns||{}),iu=(e=>(e.EXISTING="existing",e.CREATE="create",e))(iu||{});const JE=e=>{throw new Error(`Not implemented: ${e}`)},zae={"text/html":ho.HTML,...Lvt},Q8=(e,t,n)=>{const o=e.indexOf(t[0])+n.length-e.length;return o>0?n.slice(-o):[]},Wae=(e,t,n,r)=>{const o=e.length===0?0:n.indexOf(e[0]);return{fieldReferences:n.slice(o).map(a=>({type:Ns.EXISTING,fieldId:a})),entryReferences:r.slice(r.indexOf(t[0])).map(a=>({type:iu.EXISTING,entryId:a})),selectedRows:t.map(()=>!0),selectedColumns:e.map(()=>!0)}},Bvt=(e,t,n,r,o,a,s)=>{const i=Wae(e,t,n,r),l=Q8(r,t,a.rows),d=Q8(n,e,a.rows[0].cols),u=[];return{...i,fieldReferences:[...i.fieldReferences,...d.map(()=>{const f=Wm(s,[...Fi(o),...u]);return u.push(f),{type:iu.CREATE,field:{...on(ae.TEXT),name:f}}})],entryReferences:[...i.entryReferences,...l.map(()=>({type:Ns.CREATE,entry:lc(o)}))]}},eL=(e,t)=>e.filter(n=>n.type===t).map(n=>{if("field"in n&&n.field)return n.field.id;if("fieldId"in n)return n.fieldId}).pop(),Uvt=e=>{const n=ade(e).find("*"),r=["ac:","ri:","at:"];return Array.from(n).some(o=>r.some(a=>o.name.startsWith(a)))},Hvt=async(e,t,n)=>await Promise.all(n.map(async r=>{if(r.type==="text/html"&&Uvt(r.rawContent)){const o=await k3(r.rawContent,e,t,!0);return{type:r.type,rawContent:o}}else return r}));function zvt(e,t){switch(qr.failure(),e.error.tag){case"UNSUPPORTED_MIME_TYPE":$r(new Error(`Unsupported mime type ${e.error.fileType}.`)),t([{actionType:"cannotReadPastedContent",type:"error"}]);return;case"UNEXPECTED_DATA_TYPE":$r(new Error("Unexpected data type.")),t([{actionType:"unexpectedDataType",type:"error"}]);return;default:return JE(e.error)}}function Wvt(e){qr.failure(),$r(new Error("Pasted content cannot be read.")),e([{actionType:"cannotReadPastedContent",type:"error"}])}function Gvt(e){switch(qr.failure(),e.error.tag){case"UNKNOWN_FILE_TYPE":$r(new Error(`Unknown file type: ${e.error.fileType}.`));return;default:return JE(e.error.tag)}}function qvt(e){return Array.from(e).filter(t=>t.type.startsWith("image/"))}function Yvt(e){return Array.isArray(e)&&e.length>0&&e.every(t=>typeof t=="object"&&"accountId"in t&&typeof t.accountId=="string"&&"_id"in t&&typeof t._id=="string")}function Wl(e,t){if((t==null?void 0:t.type)===Ns.EXISTING)return Un(e,t.fieldId);if((t==null?void 0:t.type)===Ns.CREATE)return t.field}function kp(e,t){if((t==null?void 0:t.type)===iu.EXISTING)return or(e,t.entryId);if((t==null?void 0:t.type)===iu.CREATE)return t.entry}const Kvt=e=>{const{preventChangesOnLock:t,setValuesChangeset:n}=e,r=t.filter(o=>"fieldId"in o||"field"in o).map(o=>"fieldId"in o?o.fieldId:o.field.id);return n.filter(o=>!("fieldId"in o)||!r.includes(o.fieldId))},Xvt=e=>{switch(e){case"entriesFiltered":return{title:"flag-info-message.entries-filtered",description:"flag-info-description.entries-filtered"};case"pastedIntoSort":return{title:"flag-info-message.pasted-into-sort",description:"flag-info-description.pasted-into-sort"};case"structureLocked":return{title:"flag-warning-message.structure-locked",description:"flag-warning-description.structure-locked"};case"readOnly":return{title:"flag-warning-message.read-only",description:"flag-warning-description.read-only",excludeUndo:!0};case"restrictedContentCantBeCopied":return{title:"flag-warning-message.restricted-content-cant-be-copied",description:"flag-warning-description.restricted-content-cant-be-copied"};case"mismatchedFieldType":return{title:"flag-warning-message.pasting-content-that-doesnt-match",description:"flag-warning-description.pasting-content-that-doesnt-match"};case"updateFieldSettings":return{title:"flag-warning-message.field-settings-updated",description:"flag-warning-description.field-settings-updated"};case"cannotReadPastedContent":return{title:"flag-error-message.cannot-read-pasted-content",excludeUndo:!0};case"unexpectedDataType":return{title:"flag-error-message.unexpected-data-type",excludeUndo:!0};default:return JE(e)}};function Jvt(e,t,n,r){const o=Zvt(e,t);Qvt({actionTypes:o,numberOfEntriesFiltered:t,numberOfEntriesPasted:n,showFlags:r})}function Zvt(e,t){const n=[],{isPartialPaste:r,isIncompatiblePasteContent:o,shouldFieldSettingUpdate:a,isPastingIntoSortedField:s}=e;return r&&n.push("structureLocked"),t>0&&n.push("entriesFiltered"),!r&&o&&n.push("mismatchedFieldType"),a&&n.push("updateFieldSettings"),s&&n.push("pastedIntoSort"),n}function Qvt({actionTypes:e,numberOfEntriesFiltered:t,numberOfEntriesPasted:n,showFlags:r}){const o=[];for(const a of e)switch(a){case"mismatchedFieldType":case"structureLocked":o.unshift({actionType:a,type:"warning"});break;case"updateFieldSettings":o.unshift({actionType:"updateFieldSettings",type:"warning",options:{showIcon:!1}});break;case"pastedIntoSort":o.unshift({actionType:"pastedIntoSort",type:"info"});break;case"entriesFiltered":o.unshift({actionType:"entriesFiltered",type:"info",options:{messageValues:{numberOfEntriesFiltered:t,numberOfEntriesPasted:n}}});break}o.length&&r(o)}const ebt=e=>{const{formatMessage:t}=Ee(),{addFlag:n,clearFlags:r}=Vk(),o=rt(),{contentId:a}=An(),s=c.useCallback(async(u,f)=>{await o.sendUndoEvent({action:"paste",type:f,source:"flags",contentId:u,databaseContainer:We()})},[o]),i=c.useCallback((u,f)=>{f.undo(),a&&s(a,u)},[a,s]),l=c.useCallback((u,f)=>{const p=[];f&&p.push({content:t(G["button-message.undo-action"]),onClick:()=>{i(u,f),r()}});const m={content:t(G["button-message.dismiss-action"]),onClick:()=>{r()}};return p.push(m),p},[r,t,i]),d=c.useCallback(u=>{const f=[];for(const{type:p,actionType:m,options:g}of u){const{title:v,description:b,excludeUndo:y}=Xvt(m),E=g&&"messageValues"in g?g.messageValues:void 0;f.push({title:t(nm[v],E),description:b?t(nm[b],E):"",appearance:p,actions:l(m,y?void 0:e)})}return f},[t,l,e]);return c.useCallback(u=>{const f=d(u);for(const p of f)n(p)},[n,d])},Lb=c.forwardRef(function({children:t,...n},r){return h.jsx(Od,{...n,ref:r,children:t})}),tbt=e=>{throw new Error(`Not implemented: ${e}`)},ci=Ym({menuData:null,showMenu(e){this.menuData=e},closeMenu(){this.menuData=null},isMenuOpen(e){var n,r,o;if(!e)return this.menuData!==null;const t=e==null?void 0:e.type;if(!t)return!1;switch(t){case"field":return((n=this.menuData)==null?void 0:n.type)==="field"&&this.menuData.fieldId===(e==null?void 0:e.fieldId);case"entry":return((r=this.menuData)==null?void 0:r.type)==="entry"&&this.menuData.entryId===(e==null?void 0:e.entryId);case"value":return((o=this.menuData)==null?void 0:o.type)==="value"&&this.menuData.fieldId===(e==null?void 0:e.fieldId)&&this.menuData.entryId===(e==null?void 0:e.entryId);default:return tbt(t)}},isAnyMenuOpen(){return this.menuData!==null},isPanel(){return this.menuData&&"panel"in this.menuData?!!this.menuData.panel:!1}}),os=(e=null)=>{const[t,n]=c.useState(()=>ci.isMenuOpen(e)),r=c.useCallback(()=>{ci.closeMenu(),n(!1)},[]),o=c.useCallback(()=>{e&&(ci.showMenu(e),n(!0))},[e]),a=c.useCallback(()=>{n(s=>s?(ci.closeMenu(),!1):(e&&ci.showMenu(e),!0))},[e]);return c.useEffect(()=>aue(ci,()=>{const s=!ci.isMenuOpen(e);s&&t?n(!1):!s&&!t&&n(!0)}),[t,e]),{closeMenu:r,toggleOpenMenu:a,isMenuOpen:t,isPanel:ci.isPanel(),openMenu:o}},nbt=242,rbt=246,obt=c.forwardRef(function e({items:t,onClose:n},r){const[o,a]=c.useState(!1),s=()=>a(p=>!p),{openThread:i}=Qo();c.useEffect(()=>{i.valueId&&n&&n()},[n,i.valueId]);const l=c.useCallback((p,m)=>{var g;s(),(g=p.onClick)==null||g.call(p,m),p.closeOnClick&&(n==null||n(m))},[n]),d=c.useCallback((p,m)=>{var g;Array.isArray(p.content)?a(!0):a(!1),(g=p.onMouseEnter)==null||g.call(p,m)},[]),u=Xr()?rbt:void 0,f=c.useCallback(p=>{var b,y,E,w;const m=t[p],g=((y=(b=t[p-1])==null?void 0:b.items)==null?void 0:y.length)>0,v=((w=(E=t[p])==null?void 0:E.items)==null?void 0:w.length)>0;return p>0&&!m.hasNoSeparator&&g&&v},[t]);return h.jsx(aq,{minWidth:nbt,maxHeight:u,onClick:p=>p.stopPropagation(),children:t.map((p,m)=>{var g;return h.jsx(tDe,{hasSeparator:f(m),title:p.sectionTitle,children:(g=p.items)==null?void 0:g.map((v,b)=>{const y=v.content;return h.jsx(Zr,{content:v.tooltipDescription,position:v.tooltipPosition,children:Array.isArray(y)?h.jsx(cE,{isOpen:o,placement:"right-start",onClose:s,content:({setInitialFocusRef:E})=>h.jsx(e,{items:y,onClose:n,ref:eo(r,E)}),trigger:E=>h.jsx(Lb,{...E,role:"menuitem",isSelected:o,onClick:w=>l(v,w),onMouseEnter:w=>d(v,w),onMouseLeave:v.onMouseLeave,iconBefore:v.elemBefore,iconAfter:v.elemAfter||h.jsx(Ig,{spacing:"spacious",label:""}),isDisabled:v.isDisabled,children:v.name})}):typeof y=="string"?h.jsx(Lb,{role:"menuitem",onClick:E=>l(v,E),onMouseEnter:E=>d(v,E),onMouseLeave:v.onMouseLeave,iconBefore:v.elemBefore,iconAfter:v.elemAfter,isDisabled:v.isDisabled,isSelected:v.isActive,children:y}):h.jsx(h.Fragment,{children:y})},b)})},m)})})}),I3=({menuData:e,trigger:t,items:n,onClose:r,offset:o,boundariesElement:a=document.body,placement:s="right-start",shouldRenderToParent:i,shouldDisableFocusLock:l,panel:d=!1})=>{const{closeMenu:u,isMenuOpen:f,isPanel:p}=os(e),m=c.useCallback(v=>{u(),r==null||r(v)},[u,r]),g=c.useMemo(()=>f&&n.length>0&&n.some(v=>v.items.length>0),[f,n]);return h.jsx(cE,{role:"menu",shouldDisableFocusLock:l,shouldRenderToParent:i,isOpen:g&&p===d,onClose:m,content:({setInitialFocusRef:v})=>h.jsx(obt,{items:n,onClose:m,ref:v}),placement:s,trigger:t,offset:o,boundary:a,id:"database-contextual-menu"})},abt={ARROWLEFT:"",ARROWRIGHT:"",ARROWUP:"",ARROWDOWN:""},tL=!!navigator.platform.match(/iphone|ipad|ipod|mac/i);function sbt(e){let t;tL?t=e.mac.replace(/Cmd/i,"").replace(/Shift/i,"").replace(/Ctrl/i,"").replace(/Alt/i,"").replace(/Backspace/i,"").replace(/Enter/i,""):t=e.windows.replace(/Backspace/i,"");const n=t.split("-");let r=n[n.length-1];return r.length===1&&(r=r.toUpperCase()),n[n.length-1]=abt[r.toUpperCase()]||r,n.join(tL?"":"+")}function tr(e,t){if(e){const n=sbt(e);return t?`${t} ${n}`:n}}function ibt(e,t,n,r){return{description:e,windows:t.replace(/Mod/i,"Ctrl"),mac:n.replace(/Mod/i,"Cmd"),common:r}}function To(e,t){const n=t.replace(/Mod/i,"Ctrl"),r=t.replace(/Mod/i,"Cmd");return ibt(e,n,r,t)}const lbt=To("Add Row Above","Ctrl-Alt-ArrowUp"),Gae=To("Add Row Below","Ctrl-Alt-ArrowDown"),T3=To("Backspace","Backspace"),qae=To("Delete Row","Ctrl-Backspace"),cbt=To("Move Row Down","Ctrl-Alt-Shift-ArrowDown"),dbt=To("Move Row Up","Ctrl-Alt-Shift-ArrowUp"),Yae=To("Add Column After","Ctrl-Alt-ArrowRight"),ubt=To("Add Column Before","Ctrl-Alt-ArrowLeft"),fbt=To("Move Column Left","Ctrl-Alt-Shift-ArrowLeft"),pbt=To("Move Column Right","Ctrl-Alt-Shift-ArrowRight"),mbt=To("Open Comments","Cmd-Alt-C"),Kae=!!navigator.platform.match(/iphone|ipad|ipod|mac/i),hbt=[{modifiers:[Kae?"metaKey":"ctrlKey"],code:"KeyZ"}],gbt=[{modifiers:[Kae?"metaKey":"ctrlKey","shiftKey"],code:"KeyZ"}],Xae=[{modifiers:["ctrlKey"],code:"KeyD"},{modifiers:["metaKey"],code:"KeyD"}],vbt=[{modifiers:["ctrlKey","altKey"],code:"ArrowUp"},{modifiers:["metaKey","altKey"],code:"ArrowUp"}],Jae=[{modifiers:["ctrlKey","altKey"],code:"ArrowDown"},{modifiers:["metaKey","altKey"],code:"ArrowDown"}],bbt=[{modifiers:["ctrlKey","altKey","shiftKey"],code:"ArrowUp"},{modifiers:["metaKey","altKey","shiftKey"],code:"ArrowUp"}],ybt=[{modifiers:["ctrlKey","altKey","shiftKey"],code:"ArrowDown"},{modifiers:["metaKey","altKey","shiftKey"],code:"ArrowDown"}],Ebt=[{modifiers:["ctrlKey","altKey"],code:"ArrowLeft"},{modifiers:["metaKey","altKey"],code:"ArrowLeft"}],Zae=[{modifiers:["ctrlKey","altKey"],code:"ArrowRight"},{modifiers:["metaKey","altKey"],code:"ArrowRight"}],wbt=[{modifiers:["ctrlKey","altKey","shiftKey"],code:"ArrowLeft"},{modifiers:["metaKey","altKey","shiftKey"],code:"ArrowLeft"}],Cbt=[{modifiers:["ctrlKey","altKey","shiftKey"],code:"ArrowRight"},{modifiers:["metaKey","altKey","shiftKey"],code:"ArrowRight"}],ZE=[{modifiers:[],code:"Backspace"}],Qae=[{modifiers:["ctrlKey"],code:"Backspace"},{modifiers:["metaKey"],code:"Backspace"}],_bt=[{modifiers:["metaKey","altKey"],code:"KeyC"},{modifiers:["ctrlKey","altKey"],code:"KeyC"}],xbt=[{modifiers:[],code:"Enter"}],h5t=[{modifiers:[],code:"Escape"}],Tg=(e,t,n=[],r=!0)=>{const o=c.useCallback(a=>{const s=a.target,i=(t==null?void 0:t.current)&&t.current.contains(s),l=n.some(d=>{try{return s.closest(d)!==null}catch(u){return u instanceof Error&&$r(u),!1}});!i&&!l&&e()},[e,n,t]);c.useEffect(()=>{if(r)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t,e,o,r])},ese=({children:e})=>{const{entryId:t}=An(),n=_.useRef(null),{isPanelVisible:r}=lr();return c.useEffect(()=>{const o=n.current;if(!o||!Xr())return;const a=r()?560:t?100:400,s=700;let i=a;const l=new window.ResizeObserver(()=>{const u=document.getElementById("layout-toolbar-wrapper");let f=o.offsetHeight+((u==null?void 0:u.getBoundingClientRect().height)??30)+30;i!==f&&(f<a&&(f=a),f>s&&(f=s),i=f,setTimeout(()=>{window.parent.postMessage(JSON.stringify({method:"resize",height:Math.max(f,1)}),"*")},0))});return(()=>{l.observe(o)})(),()=>{l.unobserve(o)}},[n,r,t]),h.jsx("div",{ref:n,id:"resizeObserver",style:{display:"block"},children:e})},A3={top:0,bottom:0},Ip=100,Sbt=[...Array(Ip+1).keys()].map(e=>e/Ip),Ed=new Map;function kbt(e){const t=document.createElement("div");Object.assign(t.style,{position:e===window?"fixed":"absolute",top:"0",bottom:"0",width:"100%",pointerEvents:"none",overflow:"hidden"}),(e===window?document.body:e).appendChild(t);const n=[],r=new IntersectionObserver(a=>{for(const l of a){const d=n.find(({el:u})=>u===l.target);d&&(d.entry=l)}const s=n.filter(l=>l.entry&&l.entry.intersectionRatio>0),i=Ed.get(e);if(i){let l;if(s.length>0){const d=t.getBoundingClientRect();l={top:s[0].entry.intersectionRect.top-d.top,bottom:s[s.length-1].entry.intersectionRect.bottom-d.top}}else l=A3;if(l.top!==i.position.top||l.bottom!==i.position.bottom){i.position=l;for(const d of i.handlers)d(i.position)}}},{threshold:Sbt}),o=new ResizeObserver(()=>{const a=Math.ceil(t.offsetHeight/Ip);for(let s=0;s<a;s++)if(!n[s]){const i=document.createElement("div");n[s]={el:i},Object.assign(i.style,{position:"absolute",top:`${s*Ip}px`,height:`${Ip}px`,width:"100%"}),t.appendChild(i),r.observe(i)}});return o.observe(t),()=>{o.disconnect(),r==null||r.disconnect(),t.remove()}}function Ibt(e,t=document.body){const n=Ed.get(t);return n?(n.handlers.add(e),e(n.position)):Ed.set(t,{handlers:new Set([e]),destroy:kbt(t),position:A3}),()=>{const r=Ed.get(t);r&&(r.handlers.delete(e),r.handlers.size===0&&(r.destroy(),Ed.delete(t)))}}function Tbt(e){var t;return(e&&((t=Ed.get(e))==null?void 0:t.position))??A3}function nL(e,{batchHeight:t=1,margin:n=0}={}){return{top:Math.floor(e.top/t)*t-n,bottom:Math.ceil(e.top/t)*t+(e.bottom-e.top)+n}}function rL({isDisabled:e,container:t=typeof document<"u"?document.body:void 0,throttleMs:n,batchHeight:r,margin:o}={}){const[a,s]=c.useState(()=>nL(Tbt(t),{batchHeight:r,margin:o}));return c.useEffect(()=>{if(!e){const i=l=>{c.startTransition(()=>{s(d=>{const u=nL(l,{batchHeight:r,margin:o});return la(d,u)?d:u})})};return Ibt(n?Iue(i,n):i,t)}},[r,t,e,o,n]),a}function Abt({isDisabled:e,container:t}={}){const[n,r]=c.useState({left:0,top:0});return c.useEffect(()=>{var a;if(e)return()=>{};const o=()=>{c.startTransition(()=>{r({left:(t==null?void 0:t.scrollLeft)??window.scrollX,top:(t==null?void 0:t.scrollTop)??window.scrollY})})};return(a=t??window)==null||a.addEventListener("scroll",o),()=>{var s;return(s=t??window)==null?void 0:s.removeEventListener("scroll",o)}},[t,e]),n}const Dbt=({label:e,color:t})=>h.jsx("svg",{width:"13",height:"12",viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-label":e,children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.46875 1.5C2.00276 1.5 1.625 1.87776 1.625 2.34375V10.4682L3.53812 9.375H10.5312C10.9972 9.375 11.375 8.99724 11.375 8.53125V2.34375C11.375 1.87776 10.9972 1.5 10.5312 1.5H2.46875ZM0.5 2.34375C0.5 1.25644 1.38144 0.375 2.46875 0.375H10.5312C11.6186 0.375 12.5 1.25644 12.5 2.34375V8.53125C12.5 9.61856 11.6186 10.5 10.5312 10.5H3.83688L1.34158 11.9259C1.16748 12.0254 0.953593 12.0247 0.780166 11.924C0.606739 11.8234 0.5 11.638 0.5 11.4375V2.34375ZM5.93752 4.87518V3.18768H7.06252V4.87518H8.75002V6.00018H7.06252V7.68768H5.93752V6.00018H4.25002V4.87518H5.93752Z",fill:t})}),Obt=({label:e,color:t})=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:12,viewBox:"0 0 12 12","aria-label":e,children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2.34375C0 1.25644 0.881439 0.375 1.96875 0.375H10.0312C11.1186 0.375 12 1.25644 12 2.34375V8.53125C12 9.61856 11.1186 10.5 10.0312 10.5H3.33688L0.841578 11.9259C0.667483 12.0254 0.453593 12.0247 0.280166 11.924C0.106739 11.8234 0 11.638 0 11.4375V2.34375ZM1.96875 1.5C1.50276 1.5 1.125 1.87776 1.125 2.34375V10.4682L3.03812 9.375H10.0312C10.4972 9.375 10.875 8.99724 10.875 8.53125V2.34375C10.875 1.87776 10.4972 1.5 10.0312 1.5H1.96875ZM9.00018 4.87486H3.00018V3.74986H9.00018V4.87486ZM6.75018 7.12486H3.00018V5.99986H6.75018V7.12486Z",fill:t})}),Mbt=ie({":hover":{cursor:"pointer",backgroundColor:"color.background.neutral.hovered"},borderRadius:"3px",paddingInline:"space.025"}),$bt=ie({borderRadius:"3px",":hover":{cursor:"pointer"}}),Rbt=({onClick:e,commentToggled:t,hasThreads:n,commentCount:r,shouldShowHoverButton:o,valueId:a})=>{const{formatMessage:s}=Ee(),[i,l]=Ti(),d=c.useMemo(()=>r>9?"9+":r.toString(),[r]);return n?h.jsx(Zr,{position:"top",content:s(G["comments.show-comment-thread-button-tooltip"],{isMulti:r}),children:h.jsx(_e,{onClick:e,xcss:Mbt,id:`cell-view-thread-button-${a}`,children:h.jsxs(Me,{space:"space.075",alignBlock:"center",xcss:ie({color:t?"color.text.accent.blue":"color.text.subtle"}),children:[h.jsx(Obt,{label:s(G["comments.view-comment-thread-button-label"]),color:t?U("color.text.accent.blue","#0055CC"):U("color.text.subtle","#44546F")}),d]})})}):o?h.jsx(Zr,{position:"top",content:s(G["comments.add-comment-thread-button-label"]),children:h.jsx(_e,{xcss:$bt,onClick:e,...l,id:`cell-add-thread-button-${a}`,children:h.jsx(Dbt,{label:s(G["comments.add-comment-thread-button-label"]),color:i?U("color.text.subtle","#44546F"):U("color.text.subtlest","#626F86")})})}):null};var Nb=(e=>(e.WHITEBOARD="WHITEBOARD",e.DATABASE="DATABASE",e))(Nb||{}),Pbt=(e=>(e.whiteboard="whiteboard",e.database="database",e))(Pbt||{});const g5t=e=>{switch(e){case"WHITEBOARD":return"whiteboard";case"DATABASE":return"database";default:return}};class D3 extends i_{constructor(t,n){super({name:"CanvasRendererError",...n},t)}static from(t){const n=t instanceof Error?t:new Error(String(t)),r=new D3(n.message);return r.stack=n.stack,r.originalError=n,r.ignoreUfoReporting=n instanceof i_?n.ignoreUfoReporting:!1,r}}var jr=(e=>(e.DYNAMIC_IMPORT_ERROR="DynamicImportError",e.RECOVERABLE_WEB_GL_ERROR="RecoverableWebGlError",e.UNRECOVERABLE_WEB_GL_ERROR="UnrecoverableWebGlError",e.ANONYMOUS_NOT_SUPPORTED_ERROR="AnonymousNotSupportedError",e.TENANT_ID_MISSING_ERROR="TenantIdMissingError",e.IDENTITY_USER_FAILED_ERROR="IdentityUserFailedError",e.CANVAS_RENDERER_ERROR="CanvasRendererError",e.SHADER_COMPILATION_ERROR="ShaderCompilationError",e.NO_SESSION_DATA_ERROR="NoSessionDataError",e.RUNTIME_ASSERTION_ERROR="RuntimeAssertionError",e.UNKNOWN_ERROR="UNKNOWN_ERROR",e))(jr||{});function Lbt(e){var t,n;return e instanceof Error?e.name===jr.ANONYMOUS_NOT_SUPPORTED_ERROR||e.name===jr.TENANT_ID_MISSING_ERROR||e.name===jr.IDENTITY_USER_FAILED_ERROR||e.name===jr.DYNAMIC_IMPORT_ERROR||e.name===jr.SHADER_COMPILATION_ERROR||e.name===jr.NO_SESSION_DATA_ERROR||e.name===jr.RUNTIME_ASSERTION_ERROR?{type:e.name,isRecoverable:!1}:e instanceof ErrorEvent&&e.error.name===jr.DYNAMIC_IMPORT_ERROR?{type:jr.DYNAMIC_IMPORT_ERROR,isRecoverable:!1}:e instanceof D3&&(((t=e.originalError)==null?void 0:t.name)===jr.UNRECOVERABLE_WEB_GL_ERROR||((n=e.originalError)==null?void 0:n.name)===jr.RECOVERABLE_WEB_GL_ERROR)?{type:e.originalError.name,isRecoverable:!1}:{type:jr.UNKNOWN_ERROR,isRecoverable:!1}:{type:jr.UNKNOWN_ERROR,isRecoverable:!1}}function Nbt(e){const{type:t,isRecoverable:n}=Lbt(e);return{error:e,type:t,isRecoverable:n,ignoreUfoReporting:e instanceof i_?e==null?void 0:e.ignoreUfoReporting:!1}}class Fbt{constructor(){this.state=Ym({error:void 0,captureLocation:void 0}),this.fatalListeners=[],this.nonFatalListeners=[]}useFatalError(){return _u(this.state).error}hasUnrecoverableError(){const{error:t}=this.state;return!!(t&&!t.isRecoverable)}useUnrecoverableError(){const t=this.useFatalError();if(t&&!t.isRecoverable)return t}captureFatalError(t,n){const r=RO(t),o=Nbt(r);o.sentryErrorId=sue(o,n),!(this.hasUnrecoverableError()&&!o.isRecoverable)&&(this.state.error=o,this.state.captureLocation=n,this.fatalListeners.forEach(a=>a(o.error,o.sentryErrorId)))}captureNonFatalError(t,n){const r=RO(t),o=f_(r,{tags:{captureLocation:n.captureLocation,capabilityTier:n.capabilityTier,customerImpact:n.customerImpact}});this.nonFatalListeners.forEach(a=>a(r,o))}clearError(){this.state.error=void 0,this.state.captureLocation=void 0}onFatalError(t){this.fatalListeners.push(t)}onNonFatalError(t){this.nonFatalListeners.push(t)}clearOnErrorListeners(){this.fatalListeners=[],this.nonFatalListeners=[]}}const ul=new Fbt,pv=(e,t,n)=>{var r;return{id:e.id,reactionsId:e.reactionsId,createdAt:e.createdAtNonLocalized,threadId:t,type:n,author:e.author,body:e.body,version:e.version,reactions:[],permissions:e.permissions,replies:(r=e.replies??[])==null?void 0:r.map(o=>pv(o,t,"reply")),resolved:e.location.inlineResolveProperties.resolved}},oL=(e,t,n)=>{if(PO.status!=="succeeded")return e;const r=PO.identity,o={id:n.optimisticId,reactionsId:n.optimisticId,createdAt:new Date().toISOString(),isOptimistic:!0,type:n.type,threadId:n.threadId,body:{value:n.content},author:{displayName:r.displayName??"Anonymous",profilePicture:{path:r.picture},accountId:r.accountId},version:{friendlyWhen:"Saving...",number:0},reactions:[],permissions:{isEditable:!1,isRemovable:!1},replies:[],resolved:!1};return e.push(o),e},aL=(e,t,n)=>(t&&(t.id=n.id,t.reactionsId=n.reactionsId,t.isOptimistic=!1,t.version={friendlyWhen:n.version.friendlyWhen,number:n.version.number},t.permissions=n.permissions,t.createdAt=n.createdAtNonLocalized),e),jbt=(e,t,n)=>{var a;if(!t)return e;const o=(((a=t.version)==null?void 0:a.number)??1)+1;return t.body={value:n.content},t.version={friendlyWhen:"Saving...",number:o},e},Vbt=(e,t,n)=>(t&&(t.version={friendlyWhen:n.version.friendlyWhen,number:n.version.number},t.permissions=n.permissions),e),Bbt=(e,t)=>e.filter(n=>n.id!==(t==null?void 0:t.id)),Ubt=(e,t)=>(t&&(t.resolved=!0),e),Hbt=(e,t)=>(t&&(t.resolved=!1),e);class zbt{constructor(t,n){this.getBoardId=t,this.service=n,this.threads=new Map,this.subscribers=[],this.mapOfExternalIdToThreadId=new Map,this.mapOfThreadIdToExternalId=new Map,this.currentOpenedThread=void 0,this.commentDrafts=new Map}subscribe(t){this.subscribers.push(t)}unsubscribe(t){this.subscribers=this.subscribers.filter(n=>n!==t)}emit(t){this.subscribers.forEach(n=>n(t))}getCurrentOpenedThread(){return this.currentOpenedThread}updateCurrentOpenedThread(t){this.currentOpenedThread=t,this.emit({type:"threadSelected"})}mapExternalIdToThreadId(t,n){this.mapOfExternalIdToThreadId.set(t,n),this.mapOfThreadIdToExternalId.set(n,t),this.emit({type:"threadAssociated"})}getThreadIdFromExternalId(t){return this.mapOfExternalIdToThreadId.get(t)}getExternalIdFromThreadId(t){return this.mapOfThreadIdToExternalId.get(t)}async addThread(t,n,r=Nb.WHITEBOARD,o){const a=JSON.stringify(t),s=this.getBoardId(),i=LO();this.writeOptimisticUpdate(n,void 0,{content:a,optimisticId:i,threadId:n,type:"root"},oL);try{const l=await this.service.addComment({boardId:s,content:a,parentCommentId:void 0,createdFrom:r,originalSelection:o});return this.mapExternalIdToThreadId(l.id,n),this.writePersistentUpdate(n,i,l,aL),this.emit({type:"threadCreated",threadId:n,externalId:l.id}),this.emit({type:"rootCommentChanged"}),{threadId:n,externalId:l.id,contentId:l.reactionsId}}catch(l){throw ul.captureNonFatalError(l,{captureLocation:"addThread-catch-all"}),this.threads.delete(n),l}}getRootCommentFromThreadId(t,n){if(!t)return;const r=n.get(t);if(!(!r||r.status==="loading"))return r.comments[0]??void 0}async addReply(t,n,r=Nb.WHITEBOARD){const o=this.threads.get(n);if(!o||(o==null?void 0:o.status)==="loading")return;const a=JSON.parse(JSON.stringify(o));try{const s=JSON.stringify(t),i=this.getBoardId(),l=LO();this.writeOptimisticUpdate(n,void 0,{content:s,optimisticId:l,threadId:n,type:"reply"},oL);const d=o.comments[0],u=await this.service.addComment({boardId:i,content:s,parentCommentId:d.id,createdFrom:r});return this.writePersistentUpdate(n,l,u,aL),{threadId:n,externalId:u.id,parentContentId:u.parentId}}catch(s){throw ul.captureNonFatalError(s,{captureLocation:"addReply-catch-all"}),this.revertThread(n,a),s}}async updateComment(t,n,r){const o=this.threads.get(t);if(!o||(o==null?void 0:o.status)==="loading")return;const a=JSON.parse(JSON.stringify(o));try{const s=JSON.stringify(r),i=o.comments[0];this.writeOptimisticUpdate(t,n,{content:s},jbt);const l=await this.service.updateComment({content:s,commentId:n,parentCommentId:i.id});this.writePersistentUpdate(t,n,l,Vbt)}catch(s){throw ul.captureNonFatalError(s,{captureLocation:"updateComment-catch-all"}),this.revertThread(t,a),s}}async deleteComment(t,n){let r;try{const o=await this.getOrInitializeThread(t,n);if(r=JSON.parse(JSON.stringify(o)),!r)return;this.writeOptimisticUpdate(t,n,{},Bbt),await this.service.deleteComment({commentId:n}),this.emit({type:"threadChangedRemotely",threadId:t,version:Date.now()})}catch(o){throw ul.captureNonFatalError(o,{captureLocation:"deleteComment-catch-all"}),r&&this.revertThread(t,r),o}}async resolveComment(t,n,r,o){let a;try{const s=await this.getOrInitializeThread(t,n);if(a=JSON.parse(JSON.stringify(s)),!a)return;this.writeOptimisticUpdate(t,n,{},Ubt),r==null||r(),await this.service.resolveComment({commentId:n,resolved:!0}),await this.reloadThread(t,n);const i=this.threads.get(t);if(!(i&&i.status==="fetched"&&i.comments[0].resolved))throw this.emit({type:"errored"}),ul.captureNonFatalError(new Error("Failed to resolve comment"),{captureLocation:"resolveComment-resolve-unsuccessful"}),this.revertThread(t,a),o==null||o(),new Error("Failed to resolve comment");this.emit({type:"threadResolved",onReOpenCallback:()=>this.reOpenComment(t,n,o,r)}),this.emit({type:"threadChangedRemotely",threadId:t,version:Date.now()})}catch(s){throw ul.captureNonFatalError(s,{captureLocation:"resolveComment-catch-all"}),a&&this.revertThread(t,a),o==null||o(),s}}async reOpenComment(t,n,r,o){const a=this.threads.get(t);if(!a)return;const s=JSON.parse(JSON.stringify(a));try{this.writeOptimisticUpdate(t,n,{},Hbt),r==null||r(),await this.service.resolveComment({commentId:n,resolved:!1}),await this.reloadThread(t,n);const i=this.threads.get(t);if(!(i&&i.status==="fetched"&&!i.comments[0].resolved)){this.emit({type:"errored"}),o==null||o();return}this.emit({type:"threadChangedRemotely",threadId:t,version:Date.now()})}catch(i){throw ul.captureNonFatalError(i,{captureLocation:"reOpenComment-catch-all"}),this.revertThread(t,s),o==null||o(),i}}async getRootLevelComments(t){const n=this.getBoardId(),r=new Map,{comments:o,totalCount:a,cursor:s}=await this.service.listComments({boardId:n,noCache:!0,before:t});return o.forEach(i=>{const l=this.mapOfExternalIdToThreadId.get(i.id);if(l){const d=pv(i,l,"root"),u=d.replies,f=[d,...u];r.set(l,{status:"fetched",comments:f})}}),{rootLevelThreads:r,totalCount:a,cursor:s}}async getCommentCount(){const t=this.getBoardId();return await this.service.getCommentCount({boardId:t,noCache:!0})}async initializeThread(t,n){try{const r=this.getBoardId(),o=this.threads.get(t);if(!n)return[];if(o&&o.status!=="loading")return this.emit({type:"threadLoaded",threadId:t}),o.comments;this.threads.set(t,{status:"loading"});const s=(await this.service.listComments({boardId:r,parentCommentId:n,noCache:!0}).then(d=>d.comments)).map(d=>pv(d,t,"root")),i=s[0],l=i.replies;return this.threads.set(t,{status:"fetched",comments:[i,...l]}),this.emit({type:"threadLoaded",threadId:t}),Br.getInstance().success(Ur.COMMENT_INTERACTION,{commentAction:"view-comment"}),s}catch(r){const o=r instanceof Error?r.message:String(r);throw Br.getInstance().failure(Ur.COMMENT_INTERACTION,{errorMessage:o,commentAction:"view-comment"}),r}}async reloadThread(t,n){const r=this.getBoardId(),a=(await this.service.listComments({boardId:r,parentCommentId:n,noCache:!0}).then(l=>l.comments)).map(l=>pv(l,t,"root")),s=a[0],i=s.replies;return this.threads.set(t,{status:"fetched",comments:[s,...i]}),this.emit({type:"threadLoaded",threadId:t}),a}getThread(t){return this.threads.get(t)}async getOrInitializeThread(t,n){let r=this.threads.get(t);return r||(await this.initializeThread(t,n),r=this.threads.get(t)),r}hasThread(t){return this.threads.has(t)}hasLoadableThread(t){return this.mapOfThreadIdToExternalId.has(t)}getThreads(){const t=new Map;return this.threads.forEach((n,r)=>{t.set(r,{visible:n.status!=="loading"&&n.comments.length>0&&!n.comments[0].resolved,thread:n})}),t}writeOptimisticUpdate(t,n,r,o){const a=this.threads.get(t)??{status:"fetched",comments:[]};if(a.status==="loading")return;const s=a.comments??[],i=a.comments.length,l=s.find(u=>u.id===n),d=o(s,l,r);this.threads.set(t,{status:"localChange",comments:d}),this.emit({type:"threadChangedLocally",threadId:t}),(l==null?void 0:l.type)==="root"&&this.emit({type:"rootCommentChanged"}),d.length>i&&this.emit({type:"addedReplyToThread"}),d.length<i&&this.emit({type:"deletedReplyFromThread"})}writePersistentUpdate(t,n,r,o){const a=this.threads.get(t);if(!a||a.status==="loading")return;const s=a.comments.find(l=>l.id===n),i=o(a.comments,s,r);this.threads.set(t,{status:"fetched",comments:i}),this.emit({type:"threadChangedRemotely",threadId:t,version:Date.now()})}getDraftId(t){return`draft-${t}`}getCommentDraft(t){return this.commentDrafts.get(t)}setCommentDraft(t,n){this.commentDrafts.set(t,n)}deleteCommentDraft(t){this.commentDrafts.delete(t)}revertThread(t,n){this.threads.set(t,n)}}let GC;const Wbt=(e=yE(),t=sde)=>(GC||(GC=new zbt(()=>t.data.mediaCollectionId,e)),GC),$S=[{id:"1f44d",shortName:":thumbsup:"},{id:"1f44f",shortName:":clap:"},{id:"1f525",shortName:":fire:"},{id:"2764",shortName:":heart:"},{id:"1f632",shortName:":astonished:"},{id:"1f914",shortName:":thinking:"}],Gbt=[{id:"1f44d",shortName:":thumbsup:"},{id:"1f44f",shortName:":clap:"},{id:"1f525",shortName:":fire:"},{id:"2764",shortName:":heart:"},{id:"1f632",shortName:":astonished:"},{id:"1f914",shortName:":thinking:"},{id:"1f44e",shortName:":thumbsdown:"},{id:"1f4a1",shortName:":bulb:"},{id:"2b50",shortName:":star:"},{id:"1f49a",shortName:":green_heart:"},{id:"1f499",shortName:":blue_heart:"},{id:"1f494",shortName:":broken_heart:"},{id:"1f600",shortName:":grinning:"},{id:"1f642",shortName:":slight_smile:"}];new Map($S.map(e=>[e.shortName,e]));new Map(Gbt.map(e=>[e.shortName,e]));const qbt=5,Ybt=9,Kbt=50,O3=xr({deleteEmojiTooltip:{id:"fabric.emoji.delete.tooltip",defaultMessage:"Delete",description:"Tooltip content for delete emoji when focus on deletable emoji"},deleteEmojiTooltipForScreenreader:{id:"fabric.emoji.delete.screenreader.tooltip",defaultMessage:"To delete {shortName} emoji, press Backspace",description:"Tooltip content for delete emoji when focus on deletable emoji"},deleteEmojiTitle:{id:"fabric.emoji.delete.title",defaultMessage:"Remove emoji",description:"Title for emoji removal dialog"},deleteEmojiDescription:{id:"fabric.emoji.delete.description",defaultMessage:"All existing instances of this emoji will be replaced with {emojiShortName}",description:"Description for emoji removal dialog"},deleteEmojiLabel:{id:"fabric.emoji.delete.label",defaultMessage:"Remove",description:"Button label to remove emoji"},addCustomEmojiLabel:{id:"fabric.emoji.add.custom.emoji.label",defaultMessage:"Add your own emoji",description:"Button label to add custom emoji"},emojiPlaceholder:{id:"fabric.emoji.placeholder",defaultMessage:"e.g. hello",description:"Placeholder for emoji that provides an example for emoji name"},emojiNameAriaLabel:{id:"fabric.emoji.name.ariaLabel",defaultMessage:"Enter a name for the new emoji",description:"Explains to enter a name for a new emoji"},emojiChooseFileTitle:{id:"fabric.emoji.choose.file.title",defaultMessage:"Choose file",description:"Choose custom emoji file"},emojiChooseFileScreenReaderDescription:{id:"fabric.emoji.choose.file.screenReaderDescription",defaultMessage:"Choose a file for the emoji. JPG, PNG or GIF. Max size 1 MB",description:"Message indicating the purpose of choosing the file and requirements for the file"},emojiSelectSkinToneButtonAriaLabelText:{id:"fabric.emoji.select.skin.tone.ariaLabel",defaultMessage:"Choose your skin tone, {selectedTone} selected",description:"Message indicating the purpose of the skin tone selection button and the selected tone"},emojiSelectSkinToneListAriaLabelText:{id:"fabric.emoji.select.skin.list.ariaLabel",defaultMessage:"Skin tone selector",description:"Message indicating the purpose of the skin tone list and make user to choose one tone"},emojiImageRequirements:{id:"fabric.emoji.image.requirements",defaultMessage:"JPG, PNG or GIF. Max size 1 MB.",description:"Message for emoji image requirements and maximum file size"},emojiPreviewTitle:{id:"fabric.emoji.preview.title",defaultMessage:"Preview",description:"Emoji preview title"},emojiPreview:{id:"fabric.emoji.preview",defaultMessage:"Your new emoji {emoji} looks great",description:"Emoji preview"},addEmojiLabel:{id:"fabric.emoji.add.label",defaultMessage:"Add emoji",description:"verb - Button label to add emoji"},retryLabel:{id:"fabric.emoji.retry.label",defaultMessage:"Retry",description:"verb - Button label to retry upload"},cancelLabel:{id:"fabric.emoji.cancel.label",defaultMessage:"Cancel",description:"verb - button label to cancel operation"},searchPlaceholder:{id:"fabric.emoji.search.placeholder",defaultMessage:"Search",description:"Placeholder for search emoji field"},searchLabel:{id:"fabric.emoji.search.label",defaultMessage:"Emoji name",description:"verb - button label to search"},searchResultsStatusSeeAll:{id:"fabric.emoji.search.status",defaultMessage:"Seeing all emojis",description:"search results status when no search query for screenreader to read out"},categoriesSelectorLabel:{id:"fabric.emoji.categories.label",defaultMessage:"Choose an emoji category",description:"Aria label for Emoji categories selector at the top of emoji picker"},categoriesSearchResults:{id:"fabric.emoji.categories.search.results",defaultMessage:"Search results",description:"Emoji categories search results"},frequentCategory:{id:"fabric.emoji.category.frequent",defaultMessage:"Frequent",description:"Emoji frequent category"},peopleCategory:{id:"fabric.emoji.category.people",defaultMessage:"People",description:"Emoji frequent category"},natureCategory:{id:"fabric.emoji.category.nature",defaultMessage:"Nature",description:"Emoji nature category"},foodsCategory:{id:"fabric.emoji.category.foods",defaultMessage:"Food & Drink",description:"Emoji Foods category"},activityCategory:{id:"fabric.emoji.category.activity",defaultMessage:"Activity",description:"Emoji activity category"},placesCategory:{id:"fabric.emoji.category.places",defaultMessage:"Travel & Places",description:"Emoji Places category"},objectsCategory:{id:"fabric.emoji.category.objects",defaultMessage:"Objects",description:"Emoji objects category"},symbolsCategory:{id:"fabric.emoji.category.symbols",defaultMessage:"Symbols",description:"Emoji symbols category"},flagsCategory:{id:"fabric.emoji.category.flags",defaultMessage:"Flags",description:"Emoji flags category"},productivityCategory:{id:"fabric.emoji.category.productivity",defaultMessage:"Productivity",description:"Emoji productivity category"},userUploadsCustomCategory:{id:"fabric.emoji.category.user.uploads",defaultMessage:"Your uploads",description:"User uploads in the custom category"},allUploadsCustomCategory:{id:"fabric.emoji.category.all.uploads",defaultMessage:"All uploads",description:"All uploads in the custom category"},deleteEmojiFailed:{id:"fabric.emoji.error.delete.failed",defaultMessage:"Remove failed",description:"Error message when custom emoji failed to be removed"},emojiInvalidImage:{id:"fabric.emoji.error.invalid.image",defaultMessage:"Selected image is invalid",description:"Error message for invalid selected image"},emojiUploadFailed:{id:"fabric.emoji.error.upload.failed",defaultMessage:"Upload failed",description:"Failed to upload emoji image"},emojiImageTooBig:{id:"fabric.emoji.error.image.too.big",defaultMessage:"Selected image is more than 1 MB",description:"Error message for image too big, beyond the size limit"},emojiPickerTitle:{id:"fabric.emoji.picker",defaultMessage:"Emoji picker",description:"Aria label for emoji picker"},emojiPickerListPanel:{id:"fabric.emoji.pickerlist.tabpanel",defaultMessage:"Emojis actions and list panel",description:"Aria lable for tabpanel of emoji picker, which shows emojis actions and list"},emojiPickerGrid:{id:"fabric.emoji.pickerlist.grid",defaultMessage:"{showSearchResults, select, true{Search results} other{Emojis}}",description:'Aria label for emoji picker grid, showSearchResults is a boolean variable, message will be "Entering Emojis table", or "Leaving Emojis"'},emojiButtonRoleDescription:{id:"fabric.emoji.emojipicker.emoi.roledescription",defaultMessage:"emoji button",description:"Aria roledescription for emoji button, used in emoji picker."},error:{id:"fabric.emoji.emojipicker.error",defaultMessage:"Error!",description:"Aria label for error icon, apperaed in emoji uploader screens and delete emoji screens of emoji picker"}}),v5t="CUSTOM",b5t="FREQUENT",y5t="SEARCH",E5t="USER_CUSTOM",w5t="allUploadsCustomCategory",C5t="userUploadsCustomCategory",tse="delete-emoji",_5t=1e5,Al=20,x5t=350,S5t=80,k5t="medium",I5t=260,nse=295,T5t=nse-58,Xbt=54,A5t=nse+Xbt,D5t="fabric.emoji",O5t=["PEOPLE","NATURE","FOODS","ACTIVITY","PLACES","OBJECTS","SYMBOLS","FLAGS"];let $n=function(e){return e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Tab="Tab",e.Space=" ",e.Backspace="Backspace",e}({}),M5t=function(e){return e.Down="Down",e.Up="Up",e.Left="Left",e.Right="Right",e}({});const $5t=[$n.ArrowRight,$n.ArrowLeft,$n.Home,$n.End],Jbt=[$n.Enter,$n.Backspace,$n.Space],R5t=[$n.Enter,$n.Tab,$n.Space],P5t=[$n.ArrowRight,$n.ArrowLeft,$n.Home,$n.End,$n.ArrowUp,$n.ArrowDown,$n.PageUp,$n.PageDown],L5t=0,N5t=8,F5t=5,j5t=150,rse=20,Zbt=e=>!!(e&&e.sprite),ose=e=>!!(e&&e.imagePath),M3=e=>!!(e&&e.mediaPath),Qbt=e=>!!(e&&e.then),V5t=e=>e&&e.shortName&&e.type,B5t=e=>M3(e.representation),U5t=e=>!!(e&&e.skinVariations),H5t=e=>"baseId"in e,z5t=e=>e in O3,af=e=>({shortName:e.shortName,id:e.id,fallback:e.fallback}),e1t=(e,t)=>e===t||e&&t&&e.id===t.id&&e.shortName===t.shortName,W5t=(e,t)=>{if(!t)return!1;for(let n=0;n<e.length;n++)if(e1t(e[n],t))return!0;return!1},G5t=e=>e.category,t1t=()=>typeof window>"u"?0:window.devicePixelRatio,n1t=e=>t1t()>1?e*2:e,r1t=(e,t)=>!!(t&&e.altRepresentation&&n1t(t)>e.representation.height);let q5t=function(e){return e[e.None=0]="None",e[e.Default=1]="Default",e[e.UsageFrequency=2]="UsageFrequency",e}({}),Y5t=function(e){return e.PICKER="picker",e.TYPEAHEAD="typeahead",e}({}),Qc=function(e){return e.EMOJI_RENDERED="emoji-rendered",e.EMOJI_RESOURCE_FETCHED="emoji-resource-fetched",e.EMOJI_PICKER_OPENED="emoji-picker-opened",e.EMOJI_SELECTION_RECORDED="emoji-selection-recorded",e.EMOJI_UPLOADED="emoji-uploaded",e.EMOJI_SEARCHED="emoji-searched",e}({}),ed=function(e){return e.EMOJI="emoji",e.EMOJI_PICKER="emoji-picker",e.EMOJI_PROVIDER="emoji-provider",e}({}),Lf=function(e){return e.FMP="fmp",e.MOUNTED="emoji-mount",e.METADATA="emoji-metadata",e.MEDIADATA="emoji-media",e.ONLOAD="emoji-onload",e}({}),kn=function(e){return e.FMP_END="fmp",e.MOUNTED_END="emoji-mount_end",e.METADATA_START="emoji-metadata_start",e.METADATA_END="emoji-metadata_end",e.MEDIA_START="emoji-media_start",e.MEDIA_END="emoji-media_end",e.ONLOAD_START="emoji-onload_start",e.ONLOAD_END="emoji-onload_end",e}({});function o1t(e){return e.button===0&&!e.altKey&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey}var $3={};Object.defineProperty($3,"__esModule",{value:!0});var ase=$3.default=void 0,a1t=R3(c),s1t=R3(kh),i1t=R3(gg);function R3(e){return e&&e.__esModule?e:{default:e}}const sse=e=>a1t.default.createElement(s1t.default,Object.assign({LEGACY_fallbackIcon:i1t.default},e));sse.Name="CrossCircleIconMigration";ase=$3.default=sse;const K5t=`var(--ds-border, ${Ut})`,X5t="var(--ds-shadow-overlay, 0 3px 6px rgba(0, 0, 0, 0.2))",ise=`var(--ds-background-neutral-subtle-hovered, ${Dt})`,Im="emoji-common-selected",Tm="emoji-common-select-on-hover",QE="emoji-common-emoji-sprite",lse="emoji-common-node",l1t="emoji-common-emoji-image",RS="emoji-common-deleteButton",c1t="emoji-common-main-styles",PS="emoji-common-deletable",d1t=M({visibility:"hidden",display:"flex",position:"absolute",top:"var(--ds-space-negative-100, -8px)",right:"var(--ds-space-negative-100, -8px)",zIndex:1,"& span":{lineHeight:0}}),J5t=M({flex:1,display:"flex",justifyContent:"flex-end",padding:"11px 10px 12px 0"}),u1t=M({borderRadius:"var(--ds-border-radius-100, 3px)",backgroundColor:"transparent",display:"inline-block",verticalAlign:"middle",margin:"-1px 0",img:{display:"block"},[`&.${Im},&.${Tm}:hover`]:{backgroundColor:ise},[`&.${Im},&.${Tm}:hover .${RS}`]:{visibility:"visible"},[`&.${PS}`]:{position:"relative"},[`&.${PS}:focus-within .${RS}`]:{visibility:"visible"},"&:focus":{boxShadow:`0 0 0 2px ${`var(--ds-border-focused, ${cn})`}`,transitionDuration:"0s, 0.2s",outline:"none"}}),f1t=M({display:"inline-block",margin:"-1px 0",[`&.${Im},&.${Tm}:hover`]:{backgroundColor:ise},[`.${QE}`]:{background:"transparent no-repeat",display:"inline-block",minHeight:`${Al}px`,minWidth:`${Al}px`,verticalAlign:"middle"},"&:focus":{boxShadow:`0 0 0 2px ${`var(--ds-border-focused, ${cn})`}`,transitionDuration:"0s, 0.2s",outline:"none"}}),p1t="emoji-common-placeholder",sL=M({position:"relative",margin:"-1px 0",display:"inline-block",background:"var(--ds-border, #f7f7f7)",borderRadius:"var(--ds-border-radius-100, 3px)",overflow:"hidden",verticalAlign:"middle",whiteSpace:"nowrap",textAlign:"center"}),m1t=Pr({from:{transform:"translateX(-100%)"},to:{transform:"translateX(100%)"}}),h1t=M({"&::before":{content:'""',display:"block",position:"absolute",background:`var(--ds-background-neutral, ${No})`,height:"100%",width:"100%",animation:`${m1t} 1s cubic-bezier(0.4, 0.0, 0.2, 1) infinite`}}),Z5t=M({opacity:0,visibility:"hidden",display:"none"}),Q5t=M({backgroundColor:"transparent",border:"0",borderRadius:"var(--ds-border-radius-100, 3px)",cursor:"pointer",padding:0,position:"relative",display:"inline-block","&::-moz-focus-inner":{border:"0 none",padding:0},"&>span":{padding:"var(--ds-space-075, 6px)",[`&>.${QE}`]:{height:"24px",width:"24px"},"&>img":{height:"24px",width:"24px"}},"&:focus":{boxShadow:`0 0 0 2px ${`var(--ds-border-focused, ${cn})`}`,transitionDuration:"0s, 0.2s",outline:"none"}}),e4t=M({opacity:0,position:"absolute",top:"-10px",left:"-10px","+span":{borderRadius:"var(--ds-border-radius-100, 3px)"},"&:focus + span":{boxShadow:`0 0 0 2px ${`var(--ds-border-focused, ${cn})`}`,transitionDuration:"0s, 0.2s",outline:"none"}}),t4t="emoji-picker-add-emoji",n4t=M({display:"flex",flexDirection:"column",alignSelf:"center",marginTop:"var(--ds-space-negative-025, -2px)",marginLeft:"10px",maxWidth:"285px",width:"285px",flexGrow:1,flexShrink:1}),r4t=M({display:"block",color:`var(--ds-text, ${Ba})`,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","&:first-letter":{textTransform:"uppercase"}}),o4t=M({display:"block",color:`var(--ds-text-subtle, ${jt})`,font:'var(--ds-font-body-UNSAFE_small, normal 400 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)',lineHeight:1,marginBottom:"var(--ds-space-negative-025, -2px)",overflow:"hidden",paddingBottom:"var(--ds-space-025, 2px)",textOverflow:"ellipsis",whiteSpace:"nowrap","&:first-of-type":{color:`var(--ds-text, ${Ba})`,font:'var(--ds-font-body, normal 400 14px/20px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}}),a4t=M({display:"flex",flexDirection:"row",flexWrap:"nowrap",padding:"10px",height:"32px",alignItems:"center"}),s4t=M({display:"inline-block",flex:"initial",width:"32px",[`& .${QE}, span[role="img"]`]:{width:"32px",height:"32px",padding:0,maxHeight:"inherit"},'& span[role="img"] > img':{position:"relative",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",maxHeight:"32px",maxWidth:"32px",padding:0,display:"block"}});M({border:"1px solid var(--ds-border, #fff)",borderRadius:"var(--ds-border-radius-100, 3px)",display:"block",margin:"0",overflowX:"hidden",overflowY:"auto",padding:"0"});const i4t=M({height:"78px",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"space-around"}),l4t=M({paddingBottom:"7px",display:"flex",justifyContent:"space-between",alignItems:"flex-end",font:'var(--ds-font-body-UNSAFE_small, normal 400 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'}),c4t=M({"&&":{color:`var(--ds-text-subtle, ${Vn})`}}),d4t=M({display:"flex"});M({font:'var(--ds-font-body-small, normal 400 11px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'});const u4t=M({display:"flex",justifyContent:"space-between",paddingBottom:"7px"}),f4t=M({flex:"1 1 auto",marginRight:"5px",input:{background:"transparent",border:0,outline:"none","&:invalid":{boxShadow:"none"},"&::-ms-clear":{display:"none"}}}),p4t=M({display:"flex",flexDirection:"column",height:"100px",padding:"10px"}),m4t=M({display:"flex",justifyContent:"space-between",alignItems:"center",background:`var(--ds-background-neutral, ${Ke})`,borderRadius:"var(--ds-border-radius-100, 3px)",padding:"10px"}),h4t=M({h5:{color:`var(--ds-text-subtle, ${Vn})`,paddingBottom:"var(--ds-space-050, 4px)",font:'var(--ds-font-body-UNSAFE_small, normal 400 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)'},img:{maxHeight:"20px",maxWidth:"50px"}}),g4t=M({paddingLeft:"var(--ds-space-050, 4px)",img:{maxHeight:"40px",maxWidth:"100px"}}),v4t=M({display:"flex",justifyContent:"flex-end",alignItems:"center",paddingTop:"10px"}),b4t=M({alignSelf:"center",marginLeft:"10px",marginBottom:"10px"}),g1t="emoji-submit-delete",y4t=M({height:"100px",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"flex-end"}),E4t=M({height:"64px",font:'var(--ds-font-body-UNSAFE_small, normal 400 12px/16px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)',"&:first-of-type":{color:`var(--ds-text-subtle, ${Vn})`,lineHeight:"16px"}}),w4t=M({"&&":{font:`var(--ds-font-body-UNSAFE_small, ${bF.body.UNSAFE_small})`,fontWeight:"var(--ds-font-weight-semibold, 600)"}});M({paddingLeft:"var(--ds-space-025, 2px)",color:`var(--ds-text-danger, ${bn})`,fontFamily:Eu()});const C4t=M({display:"flex"}),_4t=M({display:"flex",height:"40px",alignItems:"center",justifyContent:"space-between",font:`var(--ds-font-body, ${bF.body.medium})`,img:{maxHeight:"32px",maxWidth:"72px"},[`.${g1t}`]:{width:"84px",fontWeight:"var(--ds-font-weight-bold, bold)",marginRight:"var(--ds-space-050, 4px)"}}),x4t=M({display:"flex",color:`var(--ds-text-danger, ${bn})`,alignItems:"center",justifyContent:"flex-end",paddingRight:"var(--ds-space-050, 4px)"}),S4t=M({display:"flex",color:`var(--ds-text-danger, ${Er})`,paddingRight:"10px",justifyContent:"flex-start"}),k4t=M({display:"inline-flex",color:`var(--ds-text-danger, ${bn})`,paddingRight:"10px",justifyContent:"flex-end",alignItems:"center"}),I4t=M({maxWidth:"285px"}),T4t=M({marginRight:"10px",marginLeft:"10px"}),A4t=M({display:"flex",justifyContent:"flex-end",alignItems:"center"}),v1t=M({borderRadius:"3px",backgroundColor:`var(--ds-background-inverse-subtle, ${gu})`,padding:"0 var(--ds-space-025, 2px)",label:"tooltip-shortcut"}),b1t="render-emoji-delete-button",y1t=ie({width:"18px",height:"18px"}),E1t=e=>k("span",{css:d1t,className:RS,"data-testid":b1t},k(ht,{iconBefore:k(_e,{xcss:y1t},k(ase,{label:tse,color:`var(--ds-text-subtle, ${rn})`,LEGACY_size:"small"})),onClick:e.onClick,appearance:"subtle-link",spacing:"none",testId:"emoji-delete-button",tabIndex:-1})),bs={},w1t=e=>e===1?!0:e===0?!1:Math.random()*e<=1,di=e=>bs[e.id]?e.instanceId?bs[e.id].sampledInstance[e.instanceId]:bs[e.id].sampled:!1,Fb=e=>{const t=()=>{bs[e.id]||(bs[e.id]={sampled:!1,sampledInstance:{}})},n=async u=>{if(di(e))return;if(!(u.samplingFunc||w1t)(u.samplingRate)){e.instanceId&&(bs[e.id].sampledInstance[e.instanceId]=!1),bs[e.id].sampled=!1;return}return e.instanceId&&(bs[e.id].sampledInstance[e.instanceId]=!0,bs[e.id].sampled=!0),e.start(u.startTime)},r=async u=>di(e)?e.success(u):null,o=async u=>di(e)?e.failure(u):null,a=async u=>di(e)?e.abort(u):null,s=u=>{if(di(e))return e.addMetadata(u)},i=(u,f)=>{if(di(e))return e.mark(u,f)},l=u=>{if(di(e))return e.markFMP(u)},d=u=>{if(di(e))return e.markInlineResponse(u)};return t(),{...e,start:n,addMetadata:s,success:r,failure:o,abort:a,mark:i,markFMP:l,markInlineResponse:d}},iL=e=>({platform:{component:e},type:oo.Load,performanceType:Cr.PageSegmentLoad}),qC=e=>({platform:{component:e},type:oo.Experience,performanceType:Cr.InlineResult}),C1t=[{key:Lf.FMP,endMark:kn.FMP_END},{key:Lf.METADATA,component:"resourced-emoji",startMark:kn.METADATA_START,endMark:kn.METADATA_END},{key:Lf.MEDIADATA,component:"caching-emoji",startMark:kn.MEDIA_START,endMark:kn.MEDIA_END},{key:Lf.MOUNTED,component:"emoji",endMark:kn.MOUNTED_END},{key:Lf.ONLOAD,startMark:kn.ONLOAD_START,endMark:kn.ONLOAD_END}],jb={"emoji-rendered":new Fa(Qc.EMOJI_RENDERED,{platform:{component:ed.EMOJI},type:oo.Operation,performanceType:Cr.Custom,timings:C1t}),"emoji-resource-fetched":new Fa(Qc.EMOJI_RESOURCE_FETCHED,iL(ed.EMOJI_PROVIDER)),"emoji-picker-opened":new Ss(Qc.EMOJI_PICKER_OPENED,iL(ed.EMOJI_PICKER)),"emoji-selection-recorded":new Ss(Qc.EMOJI_SELECTION_RECORDED,qC(ed.EMOJI_PROVIDER)),"emoji-uploaded":new Ss(Qc.EMOJI_UPLOADED,qC(ed.EMOJI_PICKER)),"emoji-searched":new Ss(Qc.EMOJI_SEARCHED,qC(ed.EMOJI_PICKER))},uo=e=>Fb(jb["emoji-rendered"].getInstance(e.id||e.shortName)),Pd=(e,t)=>e.metrics.marks.some(n=>n.name===t),_1t=e=>{const t=c.useRef(!1);return t.current||(e(),t.current=!0),null},x1t=(e,t,n)=>(c.useEffect(()=>()=>{Fb(e).abort()},[]),_1t(()=>{Fb(e).start({samplingRate:t});const r=Object.keys(e.metadata).length===0;n&&r&&e.addMetadata(n)}),null),lu={mac:!1,supportsIntersectionObserver:!1};typeof navigator<"u"&&(lu.mac=/Mac/.test(navigator.platform),lu.supportsIntersectionObserver=typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype);var LS=new Map,D0=new WeakMap,lL=0,S1t=void 0;function k1t(e){return e?(D0.has(e)||(lL+=1,D0.set(e,lL.toString())),D0.get(e)):"0"}function I1t(e){return Object.keys(e).sort().filter(function(t){return e[t]!==void 0}).map(function(t){return t+"_"+(t==="root"?k1t(e.root):e[t])}).toString()}function T1t(e){var t=I1t(e),n=LS.get(t);if(!n){var r=new Map,o,a=new IntersectionObserver(function(s){s.forEach(function(i){var l,d=i.isIntersecting&&o.some(function(u){return i.intersectionRatio>=u});e.trackVisibility&&typeof i.isVisible>"u"&&(i.isVisible=d),(l=r.get(i.target))==null||l.forEach(function(u){u(d,i)})})},e);o=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:a,elements:r},LS.set(t,n)}return n}function A1t(e,t,n,r){if(n===void 0&&(n={}),r===void 0&&(r=S1t),typeof window.IntersectionObserver>"u"&&r!==void 0){var o=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),function(){}}var a=T1t(n),s=a.id,i=a.observer,l=a.elements,d=l.get(e)||[];return l.has(e)||l.set(e,d),d.push(t),i.observe(e),function(){d.splice(d.indexOf(t),1),d.length===0&&(l.delete(e),i.unobserve(e)),l.size===0&&(i.disconnect(),LS.delete(s))}}function D1t(e){var t=e===void 0?{}:e,n=t.threshold,r=t.delay,o=t.trackVisibility,a=t.rootMargin,s=t.root,i=t.triggerOnce,l=t.skip,d=t.initialInView,u=t.fallbackInView,f=c.useRef(),p=c.useState({inView:!!d}),m=p[0],g=p[1],v=c.useCallback(function(y){f.current!==void 0&&(f.current(),f.current=void 0),!l&&y&&(f.current=A1t(y,function(E,w){g({inView:E,entry:w}),w.isIntersecting&&i&&f.current&&(f.current(),f.current=void 0)},{root:s,rootMargin:a,threshold:n,trackVisibility:o,delay:r},u))},[Array.isArray(n)?n.toString():n,s,a,i,l,o,u,r]);c.useEffect(function(){!f.current&&m.entry&&!i&&!l&&g({inView:!!d})});var b=[v,m.inView,m.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}const O1t=e=>{const t=D1t(e);return lu.supportsIntersectionObserver?t:[void 0,!0]},M1t=R1t("Backspace","Backspace");function $1t(e,t,n,r){return{description:e,windows:t.replace(/Mod/i,"Ctrl"),mac:n.replace(/Mod/i,"Cmd"),common:r}}function R1t(e,t){const n=t.replace(/Mod/i,"Ctrl"),r=t.replace(/Mod/i,"Cmd");return $1t(e,n,r,t)}const P1t={ARROWLEFT:"",ARROWRIGHT:"",ARROWUP:"",ARROWDOWN:""};function L1t(e){let t;lu.mac?t=e.mac.replace(/Cmd/i,"").replace(/Shift/i,"").replace(/Ctrl/i,"").replace(/Alt/i,"").replace(/Backspace/i,"").replace(/Enter/i,""):t=e.windows.replace(/Backspace/i,"");const n=t.split("-");let r=n[n.length-1];return r.length===1&&(r=r.toUpperCase()),n[n.length-1]=P1t[r.toUpperCase()]||r,n.join(lu.mac?"":"+")}const N1t=_.memo(({description:e,shortcutOverride:t,keymap:n})=>{const r=t||n&&L1t(n);return r||e?k(c.Fragment,null,e,r&&e&&"",r&&k("span",{css:v1t},r)):null}),F1t=()=>{const{formatMessage:e}=Ee();return _.createElement(N1t,{description:e(O3.deleteEmojiTooltip),keymap:M1t})},j1t=({emoji:e})=>_.createElement(Su,{id:`screenreader-emoji-${e.id}`},_.createElement(Ue,H({},O3.deleteEmojiTooltipForScreenreader,{values:{shortName:e.shortName}})));function V1t(){try{var e,t;return!!(typeof document>"u"||typeof process<"u"&&(!((e=process)===null||e===void 0||(t=e.env)===null||t===void 0)&&t.REACT_SSR))}catch{return!1}}const B1t=(e,t)=>{if(t.target instanceof Element&&t.target.getAttribute("aria-label")===tse)return;const{emoji:n,onSelected:r}=e;r&&o1t(t)&&r(af(n),n,t)},U1t=(e,t)=>{if(!Jbt.includes(t.key))return;t.preventDefault(),t.stopPropagation();const{emoji:n,onSelected:r,showDelete:o}=e;r&&(t.key===$n.Enter||t.key===$n.Space)&&r(af(n),n,t),o&&t.key===$n.Backspace&&cse(e,t)},H1t=(e,t)=>{const{emoji:n,onMouseMove:r}=e;r&&r(af(n),n,t)},z1t=(e,t)=>{const{emoji:n,onFocus:r}=e;r&&r(af(n),n,t)},cse=(e,t)=>{const{emoji:n,onDelete:r}=e;r&&r(af(n),n,t)},W1t=(e,t)=>{const{emoji:n,onLoadError:r}=e;if(t.target){const o=t.target;o.style.visibility="hidden"}r&&r(af(n),n,t)},G1t=e=>{const{emoji:t,fitToHeight:n,selected:r,selectOnHover:o,className:a}=e,s=t.representation,i=s.sprite,l=`${lse} ${r?Im:""} ${o?Tm:""} ${a||""}`;let d={};n&&(d={width:`${n}px`,height:`${n}px`,minHeight:`${n}px`,minWidth:`${n}px`});const u=100/(i.column-1)*(s.xIndex-0),f=100/(i.row-1)*(s.yIndex-0),p={backgroundImage:`url(${i.url})`,backgroundPosition:`${u}% ${f}%`,backgroundSize:`${i.column*100}% ${i.row*100}%`,...d};return k(NS,H({},e,{type:"sprite",className:l}),k("span",{className:QE,style:p}))},q1t=e=>{const{emoji:t,fitToHeight:n,selected:r,selectOnHover:o,className:a,showDelete:s,onLoadSuccess:i,disableLazyLoad:l,autoWidth:d}=e,[u,f]=O1t({triggerOnce:!0}),p=uo(t),m=`${c1t} ${lse} ${r?Im:""} ${o?Tm:""} ${l1t} ${a||""} ${s?PS:""}`;let g,v,b;const y=r1t(t,n)?t.altRepresentation:t.representation;ose(y)?(b=y.imagePath,g=y.width,v=y.height):M3(y)&&(b=y.mediaPath,g=y.width,v=y.height);let E={};n&&g&&v&&(E={width:d&&!V1t()?"auto":n/v*g,height:n});const w=I=>{W1t(e,I)},C=()=>{const I=p.metrics.marks.find(T=>T.name===kn.MOUNTED_END);Pd(p,kn.ONLOAD_START)||p.mark(kn.ONLOAD_START,I==null?void 0:I.time);const A=p.metrics.marks.find(T=>T.name===kn.ONLOAD_START);I&&A&&p.addMetadata({lazyLoad:A.time>I.time}),Pd(p,kn.ONLOAD_END)||p.mark(kn.ONLOAD_END),p.success({metadata:{IBSupported:lu.supportsIntersectionObserver}}),i&&i(t)},x=c.useCallback(()=>{Pd(p,kn.ONLOAD_START)||p.mark(kn.ONLOAD_START)},[p]);c.useEffect(()=>{f&&x()},[f,x]);const S=k("img",H({loading:l?"eager":"lazy",src:b,key:b,alt:t.name||t.shortName,"data-emoji-short-name":t.shortName,"data-emoji-id":t.id,"data-emoji-text":t.fallback||t.shortName,className:"emoji",style:{visibility:"visible"},onError:w,onLoad:C},E,{"data-vc":"emoji"}));return s?k(Bt,{content:k(F1t,null),position:"right-start",tag:"span"},k(NS,H({},e,{"aria-labelledby":`screenreader-emoji-${t.id}`,type:"image",className:m,ref:u,showTooltip:!1,onMouseOver:I=>{var A;(A=document.activeElement)!==null&&A!==void 0&&A.contains(I.target)||I.stopPropagation()}}),S,k(E1t,{onClick:I=>cse(e,I)}),k(j1t,{emoji:t}))):k(NS,H({},e,{type:"image",className:m,ref:u}),S)},NS=c.forwardRef((e,t)=>{const{emoji:n,fitToHeight:r,selected:o,selectOnHover:a,className:s,showTooltip:i,showDelete:l,shouldBeInteractive:d=!1,tabIndex:u,onSelected:f,onMouseMove:p,onFocus:m,onDelete:g,onLoadError:v,onLoadSuccess:b,disableLazyLoad:y,autoWidth:E,children:w,type:C,editorEmoji:x,...S}=e;let I;return x?I={role:void 0}:d?I={role:"button","aria-label":n.shortName}:I={role:"img","aria-label":n.shortName},k("span",H({},I,{ref:t,"data-testid":`${C}-emoji-${n.shortName}`,"data-emoji-type":C,tabIndex:d?u||0:void 0,css:C==="sprite"?f1t:u1t,className:s,onKeyDown:A=>U1t(e,A),onMouseDown:A=>{B1t(e,A)},onMouseEnter:A=>{H1t(e,A)},onFocus:A=>{z1t(e,A)},title:i?n.shortName:void 0},S),w)}),Y1t=e=>{const{emoji:t}=e;return x1t(jb["emoji-rendered"].getInstance(t.id||t.shortName),rse,{source:"Emoji",emojiId:t.id}),c.useEffect(()=>{const n=uo(t);Pd(n,"fmp")||n.markFMP(),Pd(n,kn.MOUNTED_END)||n.mark(kn.MOUNTED_END)},[]),Zbt(t.representation)?k(G1t,e):k(q1t,e)},K1t=e=>`emoji-placeholder-${e}`,X1t=e=>{const{shortName:t,size:n=Al,showTooltip:r,representation:o,loading:a=!1}=e;let s,i;if(o&&n){const f=o.width,p=o.height;f&&p&&(s=n/p*f,i=n)}const l=s||n,d=i||n,u={fill:"f7f7f7",minWidth:`${l}px`,width:`${l}px`,height:`${d}px`};return k("span",{"data-testid":K1t(t),"aria-busy":a,role:"status","aria-label":t,className:p1t,css:a?[sL,h1t]:sL,style:u,title:r?t:""})},J1t=c.createContext(null),Z1t=({children:e,emojiContextValue:t})=>{const n=c.useMemo(()=>t,[t]);return c.useEffect(()=>{async function r(){try{await(n==null?void 0:n.emoji.emojiProvider.fetchEmojiProvider())}catch{}}n!=null&&n.emoji.emojiProvider.onlyFetchOnDemand&&(n!=null&&n.emoji.emojiProvider.onlyFetchOnDemand())||r()},[n]),_.createElement(J1t.Provider,{value:n},e)},Q1t=e=>e.emojiProvider?_.createElement(Z1t,{emojiContextValue:{emoji:{emojiProvider:e.emojiProvider}}},e.children):_.createElement(_.Fragment,null,e.children);var yl=function(e){return e.INITIAL="INITIAL",e.FALLBACK="FALLBACK",e.EMOJI="EMOJI",e}(yl||{});const eyt=e=>{const{emojiProvider:t,emojiId:n,showTooltip:r=!1,customFallback:o=void 0,fitToHeight:a=Al,optimistic:s=!1,optimisticImageURL:i=void 0,editorEmoji:l}=e,{shortName:d,id:u,fallback:f}=n,[p,m]=c.useState(),[g,v]=c.useState(!1),[b,y]=c.useState(!1),[E,w]=c.useState(),C=c.useCallback(async(A,T,O=!1)=>{A.fetchByEmojiId||(m(void 0),uo(T).failure({metadata:{reason:"missing fetchByEmojiId interface",source:"ResourcedEmojiComponent"}}));const D=A.fetchByEmojiId(T,O);uo(T).mark(kn.METADATA_START),Qbt(D)?(v(!1),D.then($=>{m($),$||uo(T).failure({metadata:{reason:"failed to find",source:"ResourcedEmojiComponent",data:{emoji:{id:T.id,shortName:T.shortName}}}})}).catch(()=>{m(void 0),uo(T).failure({metadata:{reason:"failed to load",source:"ResourcedEmojiComponent",data:{emoji:{id:T.id,shortName:T.shortName}}}})}).finally(()=>{v(!0),uo(T).mark(kn.METADATA_END)})):(m(D),v(!0),uo(T).mark(kn.METADATA_END))},[]);c.useEffect(()=>{n&&(Pd(uo(n),kn.FMP_END)||uo(n).markFMP())},[n]),c.useMemo(()=>{!E||!n||C(E,n,s)},[E,n,s,C]),c.useEffect(()=>{Promise.resolve(t).then(A=>{w(A)})},[t]);const x=c.useMemo(()=>!p&&!g&&!i?yl.INITIAL:!p&&g||b?yl.FALLBACK:yl.EMOJI,[p,g,i,b]),S=c.useMemo(()=>{if(i)if(p&&(ose(p.representation)||M3(p==null?void 0:p.representation))){const{width:A,height:T}=p.representation;return{...p,representation:{width:A,height:T,imagePath:i}}}else return{id:u,shortName:d,fallback:f,type:"",category:"",representation:{height:a||Al,width:a||Al,imagePath:i},searchable:!0};return p},[p,i,f,a,u,d]),I=c.useCallback(A=>{y(!0),uo(A).failure({metadata:{reason:"load error",source:"ResourcedEmojiComponent",emojiId:A.id}})},[]);return _.createElement(Q1t,{emojiProvider:E},_.createElement("span",{"data-emoji-id":u,"data-emoji-short-name":d,"data-emoji-text":f||d},x===yl.INITIAL&&_.createElement(X1t,{shortName:d,showTooltip:r,size:a||Al,loading:!0}),x===yl.FALLBACK&&_.createElement(_.Fragment,null,o||f||d),x===yl.EMOJI&&S&&_.createElement(Y1t,{emoji:S,onLoadError:I,showTooltip:r,fitToHeight:a,autoWidth:!p,editorEmoji:l})))};let tyt=class extends _.Component{componentDidCatch(t,n){for(const r of this.props.experiences){const{name:o,message:a}=t,s=n.componentStack&&typeof n.componentStack<"u"?n.componentStack:void 0;r.failure({metadata:{source:"UfoErrorBoundary",reason:"error",error:{name:o,message:a,infoStack:s}}})}}render(){return this.props.children}};const e2=e=>{const{emojiId:t,optimisticImageURL:n}=e;return c.useEffect(()=>{if(t){var r=et("platform_always_sample_rendered_emoji");return uo(t).start({samplingRate:r?1:rse}),jb["emoji-rendered"].getInstance(t.id||t.shortName).addMetadata({source:"ResourcedEmoji",emojiId:t.id,isOptimisticImageURL:!!n}),()=>{uo(t).abort({metadata:{source:"ResourcedEmoji",reason:"unmount"}})}}},[t,n]),_.createElement(tyt,{experiences:[jb["emoji-rendered"].getInstance(e.emojiId.id||e.emojiId.shortName)]},_.createElement(eyt,e))},nl=(e,t,n)=>({platform:{component:e},type:t,performanceType:n});let rl=function(e){return e.REACTIONS_RENDERED="reactions-rendered",e.PICKER_OPENED="reactions-picker-opened",e.REACTION_ADDED="reaction-added",e.REACTION_REMOVED="reaction-removed",e.REACTION_DETAILS_FETCHED="reaction-details-fetched",e.REACTION_DIALOG_OPENED="reaction-dialog-opened",e.REACTION_DIALOG_CLOSED="reaction-dialog-closed",e.REACTION_DIALOG_SELECTED_REACTION_CHANGED="reaction-dialog-selected-reaction-changed",e}({}),ol=function(e){return e.PICKER_RENDERED="reactions-picker",e.REACTIONS="reactions-list",e.REACTION_ITEM="reaction-item",e.REACTION_DIALOG="reaction-dialog",e}({});const O4t=new Ss(rl.PICKER_OPENED,nl(ol.PICKER_RENDERED,oo.Experience,Cr.InlineResult)),nyt=new Fa(rl.REACTIONS_RENDERED,nl(ol.REACTIONS,oo.Load,Cr.PageSegmentLoad)),ryt=new Fa(rl.REACTION_ADDED,nl(ol.REACTIONS,oo.Experience,Cr.InlineResult)),M4t=new Ss(rl.REACTION_DIALOG_OPENED,nl(ol.REACTION_DIALOG,oo.Experience,Cr.InlineResult)),$4t=new Ss(rl.REACTION_DIALOG_CLOSED,nl(ol.REACTION_DIALOG,oo.Experience,Cr.InlineResult)),R4t=new Ss(rl.REACTION_DIALOG_SELECTED_REACTION_CHANGED,nl(ol.REACTION_DIALOG,oo.Experience,Cr.InlineResult)),oyt=new Fa(rl.REACTION_DETAILS_FETCHED,nl(ol.REACTION_ITEM,oo.Experience,Cr.InlineResult)),ayt=new Fa(rl.REACTION_REMOVED,nl(ol.REACTIONS,oo.Experience,Cr.InlineResult)),syt=e=>Fb(nyt.getInstance(e)),iyt="@atlaskit/reactions",lyt="22.10.14",P4t=e=>Math.random()*e<=1,cyt=GU("fabric-elements"),Dl=(e,t,...n)=>{e&&cyt(t(...n))(e)},as=(e,t,n,r)=>(o={})=>({action:e,actionSubject:t,eventType:n,actionSubjectId:r,attributes:{...o,packageName:iyt,packageVersion:lyt}}),sf=e=>e?Date.now()-e:void 0,dyt=e=>e?e.reacted?"existingReacted":"existingNotReacted":"new",cL=e=>as("succeeded",e,Ck)(),dL=(e,t)=>as("failed",e,Ck)({errorCode:t}),L4t=e=>as("rendered","reactionView",Ck)({duration:sf(e)}),N4t=e=>as("clicked","reactionPickerButton",dc)({reactionEmojiCount:e}),F4t=e=>as("cancelled","reactionPicker",dc)({duration:sf(e)}),j4t=e=>as("clicked","reactionPicker",dc,"more")({duration:sf(e)}),V4t=(e,t,n,r)=>as("clicked","reactionPicker",dc,"emoji")({duration:sf(r),source:e,previousState:dyt(n),emojiId:t}),uyt=e=>as("hovered","existingReaction",dc)({duration:sf(e)}),fyt=e=>as("focused","existingReaction",dc)({duration:sf(e)}),pyt=(e,t)=>as("clicked","existingReaction",dc)({added:e,emojiId:t}),O0=e=>e instanceof Error?{name:e.name,message:e.message}:e,dse=e=>e.button===0&&!e.altKey&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey,M0=(e,t)=>{const n=e.indexOf(".");return n===-1?e.substring(0,e.length):t===0?e.substring(0,n):e.substring(0,n+t+1)},myt=e=>{const o=e/1e3,a=e/1e6;if(e>999999999)return"999.9M+";if(e>=1e6){const s=e.toString().length;return a.toString().charAt(s-5)==="0"?M0(a.toString(),0)+"M":M0(a.toString(),1)+"M"}if(e>=1e3){const s=e.toString().length;return o.toString().charAt(s-2)==="0"?M0(o.toString(),0)+"K":M0(o.toString(),1)+"K"}return e.toString()},hyt=M({fontSize:11,color:`var(--ds-text-subtlest, ${Wa})`,overflow:"hidden",position:"relative",padding:"var(--ds-space-050, 4px) var(--ds-space-100, 8px) var(--ds-space-050, 4px) 0",lineHeight:"14px"}),gyt=M({display:"flex",flexDirection:"column"}),vyt=M({color:`var(--ds-text-selected, ${Jt})`}),uL=M({fontVariantNumeric:"tabular-nums"}),byt="counter-wrapper",yyt="counter-container",Eyt="counter_label_wrapper",use=({highlight:e=!1,limit:t,overLimitLabel:n,className:r,value:o,animationDuration:a=Qm})=>{const s=u=>t&&n&&u>=t?n||"":u===0?"":myt(u),i=c.useRef(),l=s(o);c.useEffect(()=>{i.current=o},[o]);const d=c.useMemo(()=>i.current?i.current<o:!1,[o]);return k("div",{className:r,"data-testid":byt,css:hyt},k(xu,null,k(ej,{enterFrom:d?"top":"bottom",exitTo:d?"top":"bottom",key:o,duration:a},(u,f)=>k("div",{ref:u.ref,css:[gyt,M({position:f==="exiting"?"absolute":void 0})],className:u.className,"data-testid":yyt},k("span",{"data-testid":Eyt,css:e?[uL,vyt]:uL,key:o},l)))))},wyt=Pr({"0%":{opacity:0},"20%":{opacity:1},"60%":{opacity:1},"100%":{opacity:0}}),Cyt=Pr({"0%":{transform:"translateY(0) scale(1)"},"100%":{transform:"translateY(-120px) scale(1.7)"}}),_yt=M({position:"relative",left:8,zIndex:Qt.tooltip()+1,"@media (prefers-reduced-motion: reduce)":{opacity:0}}),xyt=M({position:"absolute",top:0,left:0,pointerEvents:"none",opacity:0,animation:`${wyt} ease-in-out, ${Cyt} ease`,animationDuration:"700ms",":nth-child(2)":{left:-5,animationDelay:"0.15s"},":nth-child(3)":{left:8,animationDelay:"0.3s"},":nth-child(4)":{left:-1,animationDelay:"0.45s"}}),Syt=4,kyt=({emojiProvider:e,emojiId:t})=>k("div",{css:_yt},[...Array(Syt)].map((n,r)=>k("div",{key:r,css:xyt},k(e2,{emojiProvider:e,emojiId:t,fitToHeight:16})))),ic=xr({addReaction:{id:"fabric.reactions.add",defaultMessage:"Add reaction",description:"Message for add reaction button"},loadingReactions:{id:"fabric.reactions.loading",defaultMessage:"Loading...",description:"Message while reactions are being loaded"},moreEmoji:{id:"fabric.reactions.more.emojis",defaultMessage:"More emojis",description:'Tooltip of the "show more" button in the quick reaction selector. The full emoji selector is displayed when the user clicks on it.'},moreInfo:{id:"fabric.reactions.more.info",defaultMessage:"More info",description:"Clickable text in a tooltip that will display more information about the users who reacted"},reactWithEmoji:{id:"fabric.reactions.reactwithemoji",defaultMessage:"React with {emoji} emoji",description:"Aria label on reaction button"},summary:{id:"fabric.reactions.summary",defaultMessage:"View all user reactions",description:"Aria label on summary reaction button. Clicking this button shows who reacted in a popup"},unexpectedError:{id:"fabric.reactions.error.unexpected",defaultMessage:"Reactions are temporarily unavailable",description:"Unexpected error message"},otherUsers:{id:"fabric.reactions.other.reacted.users",defaultMessage:"{count, plural, one {and one other} other {and {count} others}}",description:"The number of users that have reacted similarly, but aren't shown"},closeReactionsDialog:{id:"reactions.dialog.close",defaultMessage:"Close",description:"Close Reactions Dialog"},reactionsCount:{id:"reactions.dialog.reactions.count",defaultMessage:`{count, plural,
        one {# reaction}
        other {# reactions}
      }`,description:"The count of Reactions displayed in Reactions Dialog"},leftNavigateLabel:{id:"reactions.dialog.left.navigate",defaultMessage:"Left Navigate",description:"Navigation Link to navigate to left"},rightNavigateLabel:{id:"reactions.dialog.right.navigate",defaultMessage:"Right Navigate",description:"Navigation Link to navigate to right"},emojiName:{id:"reactions.dialog.emoji.name",defaultMessage:"{emojiName}",description:"Description of the emoji"},seeWhoReacted:{id:"reactions.dialog.viewall",defaultMessage:"See who reacted",description:"Link button to show who reacted in a modal"},seeWhoReactedTooltip:{id:"reactions.dialog.viewall.tooltip",defaultMessage:"View all user reactions",description:"Tooltip content of see who reacted link"}}),fL=5,Iyt=M({maxWidth:"150px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",marginBottom:fL,ul:{listStyle:"none",margin:0,padding:0,textAlign:"left"},li:{overflow:"hidden",textOverflow:"ellipsis",marginTop:fL}}),Tyt=M({textTransform:"capitalize",color:`var(--ds-text-inverse, ${Wa})`,fontWeight:600}),pL=M({color:`var(--ds-text-inverse, ${Wa})`,fontWeight:300}),Ayt=M({cursor:"pointer",textDecoration:"underline",":hover":{backgroundColor:`var(--ds-background-neutral-bold, ${mn})`,color:`var(--ds-text-inverse, ${Ve})`}}),Dyt="render-reactionTooltip",Oyt=({children:e,emojiName:t,reaction:{users:n=[],emojiId:r=""},maxReactions:o=qbt,handleUserListClick:a,allowUserDialog:s=!1,isEnabled:i=!0})=>{const l=!n||n.length===0||!i?null:k("div",{css:Iyt,tabIndex:0},k("ul",null,t?k("li",{css:Tyt},t):null,n.slice(0,o).map(d=>k("li",{key:d.id},d.displayName)),k("li",{css:s?[pL,Ayt]:pL,onClick:()=>{s&&a&&a(r)}},n.length>o?k(Ue,H({},ic.otherUsers,{values:{count:n.length-o}})):s&&k(Ue,ic.moreInfo))));return k(Bt,{content:l,position:"bottom",testId:Dyt},_.Children.only(e))},fse=24;M({position:"relative"});const Myt=M({transformOrigin:"center center 0",lineHeight:"12px",padding:"var(--ds-space-050, 4px) var(--ds-space-050, 4px) var(--ds-space-050, 4px) var(--ds-space-100, 8px)"});M({display:"flex",flexDirection:"row",alignItems:"flex-start",minWidth:"36px",height:`${fse}px`,background:"transparent",border:`1px solid ${`var(--ds-border, ${Ut})`}`,boxSizing:"border-box",borderRadius:"20px",color:`${`var(--ds-text-subtle, ${gu})`}`,cursor:"pointer",margin:"var(--ds-space-050, 4px) var(--ds-space-050, 4px) 0 0",padding:0,transition:"200ms ease-in-out","&:hover":{background:`${`var(--ds-background-neutral-subtle-hovered, ${Ke})`}`},"&:focus":{boxShadow:`0 0 0 2px ${`var(--ds-border-focused, ${cn})`}`,transitionDuration:"0s, 0.2s",outline:"none"},overflow:"hidden"});M({backgroundColor:`var(--ds-background-selected, ${gn})`,borderColor:`var(--ds-border-selected, ${Vo})`,"&:hover":{background:`${`var(--ds-background-selected-hovered, ${jo})`}`}});const $yt=fse-2,Ryt=M({display:"flex",flexDirection:"row",alignItems:"center",borderRadius:"10px",height:`${$yt}px`}),Pyt=M({padding:"var(--ds-space-050, 4px) var(--ds-space-025, 2px) var(--ds-space-050, 4px) 10px"}),Lyt=700,Nyt=Pr({"0%":{backgroundColor:"transparent"},"20%":{backgroundColor:`var(--ds-background-selected-pressed, ${jo})`,borderColor:`var(--ds-border-selected, ${Vo})`},"75%":{backgroundColor:`var(--ds-background-selected-pressed, ${jo})`,borderColor:`var(--ds-border-selected, ${Vo})`},"100%":{backgroundColor:`var(--ds-background-selected-pressed, ${jo})`,borderColor:`var(--ds-border-selected, ${Vo})`}}),Fyt=M({width:"100%",height:"100%"}),jyt=M({animation:`${Nyt} ${Lyt}ms ease-in-out`}),Vyt="flash-animation",Byt=e=>k("div",{className:e.className,css:[Fyt,e.flash&&jyt],"data-testid":Vyt},e.children),Uyt=ie({display:"flex",flexDirection:"row",alignItems:"flex-start",minWidth:"36px",height:"24px",backgroundColor:"color.background.neutral.subtle",borderWidth:"border.width",borderStyle:"solid",borderColor:"color.border",borderRadius:"border.radius.circle",color:"color.text.subtle",marginBlockStart:"space.050",marginInlineEnd:"space.050",padding:"space.0",overflow:"hidden",":hover":{backgroundColor:"color.background.neutral.subtle.hovered"},":active":{backgroundColor:"color.background.neutral.subtle.pressed"}}),pse=({onClick:e,flash:t=!1,additionalStyles:n=[],ariaLabel:r,ariaPressed:o,onMouseEnter:a,onFocus:s,children:i,dataAttributes:l={},testId:d})=>k(Co,H({onClick:e,onMouseEnter:a,onFocus:s,"aria-label":r,"aria-pressed":o,testId:d,xcss:[Uyt,...n]},l),k(Byt,{flash:t,css:Ryt},i)),Hyt="render_reaction_wrapper",zyt=ie({position:"relative"}),Wyt=ie({backgroundColor:"color.background.selected",borderColor:"color.border.selected",":hover":{backgroundColor:"color.background.selected.hovered"},":active":{backgroundColor:"color.background.selected.pressed"}}),Gyt=ie({backgroundColor:"elevation.surface",":hover":{backgroundColor:"elevation.surface.hovered"},":active":{backgroundColor:"elevation.surface.pressed"}}),qyt=({emojiProvider:e,onClick:t,reaction:n,onMouseEnter:r=()=>{},onFocused:o=()=>{},flash:a=!1,showParticleEffect:s=!1,handleUserListClick:i=()=>{},allowUserDialog:l,showOpaqueBackground:d=!1})=>{const u=Ee(),f=c.useRef(),p=c.useRef(),{createAnalyticsEvent:m}=Kn(),[g,v]=c.useState(),[b,y]=c.useState(!0),{reacted:E}=n,w={id:n.emojiId,shortName:""};c.useEffect(()=>{(async()=>{const O=await(await Promise.resolve(e)).findById(n.emojiId);O&&v(O.name)})()},[e,n.emojiId]);const C=c.useCallback(T=>{if(T.preventDefault(),dse(T)){const{reacted:O,emojiId:D}=n;Dl(m,pyt,!O,D),t(n.emojiId,T)}},[m,n,t]),x=c.useCallback(T=>{T.preventDefault(),y(!0),(!n.users||!n.users.length)&&(p.current=Date.now()),Dl(m,uyt,p.current),r(n.emojiId,T)},[m,n,r]),S=c.useCallback(T=>{T.preventDefault(),y(!0),(!n.users||!n.users.length)&&(f.current=Date.now()),Dl(m,fyt,f.current),o(n.emojiId,T)},[m,n,o]),I=T=>{i(T),y(!1)},A=d?[Gyt]:[];return k(_e,{xcss:zyt},s&&k(kyt,{emojiId:w,emojiProvider:e}),k(Oyt,{emojiName:g,reaction:n,handleUserListClick:I,allowUserDialog:l,isEnabled:b},k(pse,{onClick:C,flash:a,additionalStyles:n.reacted?[Wyt]:A,ariaLabel:u.formatMessage(ic.reactWithEmoji,{emoji:g}),ariaPressed:E,onMouseEnter:x,onFocus:S,testId:Hyt,dataAttributes:{"data-emoji-id":n.emojiId,"data-emoji-button-id":n.emojiId}},k("div",{css:[Myt,n.count===0&&Pyt]},k(e2,{emojiProvider:e,emojiId:w,fitToHeight:16})),k(use,{value:n.count,highlight:n.reacted}))))},Yyt=ie({outline:"none",display:"flex",backgroundColor:"color.background.neutral.subtle",border:0,borderRadius:"border.radius",margin:"space.0",padding:"space.100",":hover > span":{transition:"transform cubic-bezier(0.23, 1, 0.32, 1) 200ms",transform:"scale(1.33)"}}),Kyt="button-emoji-id",Xyt=({emojiId:e,onClick:t,emojiProvider:n})=>{const r=a=>{a.preventDefault(),t&&dse(a)&&t(e,void 0,a)},o=Ee();return k(Co,{testId:Kyt,onClick:r,"aria-label":o.formatMessage(ic.reactWithEmoji,{emoji:e.shortName}),xcss:Yyt},k(e2,{emojiProvider:n,emojiId:e}))};var P3={};Object.defineProperty(P3,"__esModule",{value:!0});var mse=P3.default=void 0,Jyt=hse(c),Zyt=je,Qyt=hse(Nu);function hse(e){return e&&e.__esModule?e:{default:e}}const gse=e=>Jyt.default.createElement(Zyt.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M12 14a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m-4.5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m9 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3"/></svg>'},e,{newIcon:Qyt.default}));gse.displayName="EditorMoreIcon";mse=P3.default=gse;const eEt="show-more-button",tEt=({onClick:e})=>k(Ue,ic.moreEmoji,t=>k(Bt,{content:t},k(dn,{label:ic.moreEmoji.defaultMessage,onClick:e,testId:eEt,icon:mse,appearance:"subtle"}))),nEt=Pr({"0%":{opacity:1,transform:"scale(0.5)"},"75%":{transform:"scale(1.25)"},"100%":{opacity:1,transform:"scale(1)"}}),rEt=M({animation:`${nEt} 150ms ease-in-out forwards`,opacity:0}),oEt="render-selector",mL=50,aEt=ie({padding:"space.050"}),sEt=ie({borderLeftColor:"color.border",borderLeftStyle:"solid",borderLeftWidth:"border.width",marginInlineStart:"space.050",marginInlineEnd:"space.100",height:"24px",display:"inline-block"}),hL=({children:e,delay:t,testId:n})=>k("div",{"data-testid":n,css:rEt,style:t?{animationDelay:`${t}ms`}:void 0},e),B4t=({emojiProvider:e,onMoreClick:t,onSelection:n,showMore:r,pickerQuickReactionEmojiIds:o=$S})=>{const a=(s,i)=>{var l;return k(hL,{delay:i*mL,key:(l=s.id)!==null&&l!==void 0?l:s.shortName,testId:oEt},k(Bt,{content:s.shortName},k(Xyt,{emojiId:s,emojiProvider:e,onClick:n})))};return k(Me,{alignBlock:"center",xcss:aEt},o?o.map(a):null,r?k(c.Fragment,null,k(_e,{xcss:sEt}),k(hL,{delay:$S.length*mL},k(tEt,{key:"more",onClick:t}))):null)};var L3={},t2={};Object.defineProperty(t2,"__esModule",{value:!0});t2.default=void 0;var iEt=vse(c),lEt=vse(Oe);function vse(e){return e&&e.__esModule?e:{default:e}}const bse=e=>iEt.default.createElement(lEt.default,Object.assign({dangerouslySetGlyph:'<path fill="currentcolor" d="M6.25 6.25a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m4.5 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"/><path stroke="currentcolor" stroke-width="1.5" d="M10.5 2.75H16M13.25 0v5.5m2 2.5A7.25 7.25 0 1 1 8 .75m3.25 9S10 11.5 8 11.5 4.75 9.75 4.75 9.75m1.5-3.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Zm4.5 0a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z"/>'},e));bse.displayName="EmojiAddIcon";t2.default=bse;Object.defineProperty(L3,"__esModule",{value:!0});var yse=L3.default=void 0,cEt=Ese(c),dEt=je,uEt=Ese(t2);function Ese(e){return e&&e.__esModule?e:{default:e}}const wse=e=>cEt.default.createElement(dEt.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" d="M8.049 14.197c-.166-.476.103-.991.602-1.15.5-.159 1.039.098 1.205.575.06.174.225.487.495.796.426.488.955.764 1.649.764.693 0 1.223-.276 1.65-.764.27-.31.433-.622.494-.796.166-.476.706-.734 1.204-.575.5.159.77.673.603 1.15-.13.371-.395.876-.839 1.385C14.348 16.458 13.306 17 12 17s-2.348-.542-3.112-1.418a4.4 4.4 0 0 1-.839-1.385M9.5 11a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3m5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3M19 5h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0V7h-1a1 1 0 0 1 0-2h1V4a1 1 0 0 1 2 0zm-5-1.777V5.29A7 7 0 1 0 18.71 10h2.067A9 9 0 1 1 14 3.223"/></svg>'},e,{newIcon:uEt.default}));wse.displayName="EmojiAddIcon";yse=L3.default=wse;const fEt="render-tooltip-trigger",pEt="render-trigger-button",mEt=ie({minWidth:"32px",height:"24px",padding:"space.0",borderWidth:"border.width",borderStyle:"solid",borderRadius:"border.radius.circle",display:"flex",justifyContent:"center",alignItems:"center",lineHeight:"16px"}),hEt=ie({borderColor:"color.border",backgroundColor:"color.background.neutral.subtle",":hover":{backgroundColor:"color.background.neutral.subtle.hovered"},":active":{backgroundColor:"color.background.neutral.subtle.pressed"}}),gEt=ie({borderColor:"color.border",backgroundColor:"elevation.surface",":hover":{backgroundColor:"elevation.surface.hovered"},":active":{backgroundColor:"elevation.surface.pressed"}}),vEt=ie({borderColor:"color.border.disabled",backgroundColor:"color.background.disabled"}),bEt=ie({minWidth:"24px",padding:"space.050",border:"none",borderRadius:"border.radius"}),U4t=_.forwardRef((e,t)=>{const{onClick:n,miniMode:r,tooltipContent:o,disabled:a=!1,ariaAttributes:s={},showOpaqueBackground:i=!1}=e;return k(Bt,{testId:fEt,content:o},k(Co,H({testId:pEt,xcss:[mEt,a?vEt:i?gEt:hEt,r&&bEt],onClick:(d,u)=>{n&&!a&&n(d,u)},isDisabled:a,ref:t},s),k(yse,{primaryColor:a?"var(--ds-icon-disabled, #091E424F)":"var(--ds-icon, #44546F)",size:"small",label:"Add reaction"})))}),H4t=M({verticalAlign:"middle","&.miniMode":{display:"inline-block"}}),z4t=M({display:"flex"}),W4t=M({":focus":{outline:"none"}}),G4t=M({background:`var(--ds-surface-overlay, ${Ve})`,borderRadius:`${cc()}px`,boxShadow:`var(--ds-shadow-overlay, ${`0 4px 8px -2px ${Vs}, 0 0 1px ${Bs}`})`,"&> div":{boxShadow:void 0,marginTop:"var(--ds-space-050, 4px)",marginBottom:"var(--ds-space-050, 4px)"}});let mv=function(e){return e.ready="READY",e.loading="LOADING",e.error="ERROR",e.notLoaded="NOT_LOADED",e.disabled="DISABLED",e}({});const Ol=48,yEt=8,EEt="var(--ds-space-100, 8px)",wEt=Ybt*(Ol+yEt)+Ol-2,FS=48,q4t=e=>M({overflow:"hidden",maxWidth:`${wEt}px`,height:"100%",display:"flex",justifyContent:"start",position:"relative",scrollBehavior:"smooth","&:after":{content:'""',zIndex:0,display:"block",minWidth:`${e}%`,bottom:"0px",position:"absolute"}}),Y4t=M({"& > h1":{fontSize:"24px!important",color:`${`var(--ds-text, ${mn})`}`}}),gL={rightEdge:270,leftEdge:90},K4t=e=>M({display:"flex",alignSelf:"center",lineHeight:"14px",fontSize:"11px",fontWeight:e?700:400,paddingRight:"0px",marginTop:"var(--ds-space-075, 6px)","> div":{width:"100%",padding:"var(--ds-space-0, 0px)!important",color:e?`${`var(--ds-text, ${Jt})`}!important`:`2px solid ${`var(--ds-text, ${rn})`}!important`}}),vL=(e,t)=>M({content:'""',position:"absolute",left:"0px",top:"0px",width:`${Ol}px`,height:`${FS}px`,zIndex:0,background:t==="dark"?`linear-gradient(${gL[e]}deg, rgba(34, 39, 43, 0.95) 40.23%, rgba(34, 39, 43, 0.55) 58.33%, rgba(34, 39, 43, 0) 77.49%)`:`linear-gradient(${gL[e]}deg, rgba(255, 255, 255, 0.95) 40.23%, rgba(255, 255, 255, 0.55) 58.33%, rgba(255, 255, 255, 0) 77.49%)`}),X4t=(e,t,n)=>M({flexShrink:0,display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center",justifyContent:"center",minWidth:`${Ol}px`,minHeight:`${FS}px`,marginRight:EEt,boxSizing:"border-box",position:"relative","> div":{minWidth:`${Ol}px`,minHeight:`${FS}px`,padding:"0px !important",alignItems:"center",justifyContent:"center"},"& > span":{minHeight:"16px",minWidth:"16px"},"&.disabled:after":vL("rightEdge",n),"&.disabled + &.disabled:after":vL("leftEdge",n),"&:after":e?{content:'""',borderBottom:`2px solid ${`var(--ds-text, ${Jt})`}`,width:`${Ol}px`,bottom:"0px",display:"block",position:"absolute",zIndex:2}:{content:'""',borderBottom:"2px solid transparent",width:`${Ol}px`,bottom:"0px",display:"block",position:"absolute",zIndex:1}});M({"> button":{cursor:"pointer"},"button:last-child":{marginLeft:"var(--ds-space-200, 16px)"}});const J4t=M({marginTop:"var(--ds-space-300, 24px)",display:"flex",flexDirection:"column",p:{margin:0,color:`${`var(--ds-text, ${mn})`}`,textTransform:"capitalize",fontWeight:600,fontSize:16,lineHeight:"20px","> span":{marginRight:"var(--ds-space-100, 8px)"}}}),Z4t=M({listStyle:"none",marginTop:"var(--ds-space-200, 16px)",padding:0,textAlign:"left",li:{color:`${`var(--ds-text, ${rn})`}`,fontSize:14}}),Q4t=M({display:"flex",alignItems:"center",padding:"var(--ds-space-100, 8px) 0px var(--ds-space-100, 8px) 0px","> span":{marginLeft:"var(--ds-space-200, 16px)"}}),eTt=M({overflow:"auto",scrollBehavior:"smooth",display:"flex",paddingBottom:"var(--ds-space-050, 4px)","div[role=tablist]":{flexGrow:1,paddingInline:"var(--ds-space-100, 8px)"}}),tTt=M({display:"flex",justifyContent:"center",alignItems:"center",height:"100%"}),nTt=M({display:"inline-block",marginTop:"var(--ds-space-050, 4px)"}),rTt=M({height:"24px",lineHeight:"24px",paddingLeft:0,paddingRight:0,marginTop:"var(--ds-space-050, 4px)",marginLeft:"var(--ds-space-050, 4px)"}),oTt=M({display:"flex",flexWrap:"wrap",position:"relative",alignItems:"center",borderRadius:"15px",marginTop:"var(--ds-space-negative-050, -4px)","> :first-of-type > :first-of-type":{marginLeft:0}}),CEt=({children:e,update:t})=>{const n=c.useRef(!0);return c.useLayoutEffect(()=>{if(n.current){n.current=!1;return}t()},[t]),_.createElement(c.Fragment,null,e)},_Et=["button","a","input","select","textarea"],xEt=e=>!!(_Et.includes(e.tagName.toLowerCase())||e.getAttribute("tabindex")!==null||e.hasAttribute("contenteditable")),Cse=()=>{const e=c.useRef([]),t=c.useCallback(o=>{const a=requestAnimationFrame(o);return e.current.push(a),a},[]),n=c.useCallback(o=>{cancelAnimationFrame(o),e.current=e.current.filter(a=>a!==o)},[]),r=c.useCallback(()=>{e.current.forEach(o=>cancelAnimationFrame(o)),e.current=[]},[]);return{requestFrame:t,cancelFrame:n,cancelAllFrames:r}},SEt=({isOpen:e,onClose:t,popupRef:n,triggerRef:r,autoFocus:o,shouldDisableFocusTrap:a,shouldUseCaptureOnOutsideClick:s,shouldCloseOnTab:i,shouldRenderToParent:l})=>{const{isLayerDisabled:d,currentLevel:u}=yy(),{requestFrame:f,cancelAllFrames:p}=Cse();c.useEffect(()=>{if(!e||!n)return ct;const m=E=>{t&&t(E),a&&et("platform_dst_popup-disable-focuslock")&&(r==null||r.setAttribute("tabindex","0"),n&&o&&n.setAttribute("tabindex","0"))},g=E=>{const{target:w}=E;if(!document.body.contains(w))return;if(et("platform_dst_popup-disable-focuslock")){var x;if(d()&&(x=document.activeElement)!==null&&x!==void 0&&x.closest("[aria-modal]"))return}else if(d())return;const S=n&&n.contains(w),I=r&&r.contains(w);!S&&!I&&(m(E),document.activeElement&&!xEt(document.activeElement)&&et("platform_dst_popup-disable-focuslock")&&(r==null||r.focus()))},v=E=>{if(et("platform_dst_popup-disable-focuslock")){const{key:C,shiftKey:x}=E;if(x&&C==="Tab"&&!l){if(d())return;f(()=>{n&&!n.contains(document.activeElement)&&(m(E),u===1&&(r==null||r.focus()))});return}if(C==="Tab"){var w;if(i){if(d())return;m(E);return}if(d()&&(w=document.activeElement)!==null&&w!==void 0&&w.closest("[aria-modal]"))return;if(a){f(l?()=>{n&&!n.contains(document.activeElement)&&m(E)}:()=>{document.hasFocus()||m(E)});return}}if(d())return;(C==="Escape"||C==="Esc")&&(r&&o&&r.focus(),m(E))}else{if(d())return;const{key:C}=E;(C==="Escape"||C==="Esc"||i&&C==="Tab")&&m(E)}},b=mt.bindAll(window,[{type:"click",listener:g,options:{capture:s}},{type:"keydown",listener:v}]);let y=ct;return y=mt.bind(window,{type:"blur",listener:function(w){d()||!(document.activeElement instanceof HTMLIFrameElement)||m(w)}}),()=>{p(),b(),y()}},[e,t,n,r,o,a,s,d,i,u,l,f,p])},kEt=({initialFocusRef:e,popupRef:t,triggerRef:n,autoFocus:r,shouldCloseOnTab:o,shouldDisableFocusTrap:a})=>{const{requestFrame:s,cancelAllFrames:i}=Cse();c.useEffect(()=>{if(!t||o)return ct;if(a&&et("platform_dst_popup-disable-focuslock"))return s(()=>{n==null||n.setAttribute("tabindex","-1"),t&&r&&t.setAttribute("tabindex","-1"),(e||t).focus()}),ct;const d=G1(t,{clickOutsideDeactivates:!0,escapeDeactivates:!0,initialFocus:e||t,fallbackFocus:t,returnFocusOnDeactivate:!0});return s(()=>{d.activate()}),()=>{i(),d.deactivate()}},[t,n,r,e,o,a,s,i])},IEt=M({width:"100%"}),TEt=M({display:"block",boxSizing:"border-box",zIndex:Qt.layer(),flex:"1 1 auto",backgroundColor:`var(--ds-surface-overlay, ${Ve})`,borderRadius:"var(--ds-border-radius, 3px)",boxShadow:`var(--ds-shadow-overlay, ${`0 4px 8px -2px ${Vs}, 0 0 1px ${Bs}`})`,color:"var(--ds-text, #172B4D)",[mX]:`var(--ds-surface-overlay, ${Ve})`,"&:focus":{outline:"none"}}),AEt=M({overflow:"auto"}),DEt=M({"iframe:not([data-ds--level] iframe)":{pointerEvents:"none"}}),OEt=c.forwardRef((e,t)=>{const{shouldRenderToParent:n,shouldFitContainer:r,children:o,...a}=e;return k("div",H({css:[TEt,!n&&AEt,r&&IEt]},a,{ref:t}),o)});function MEt({isOpen:e,id:t,offset:n,testId:r,content:o,fallbackPlacements:a,onClose:s,boundary:i,rootBoundary:l,shouldFlip:d,placement:u="auto",popupComponent:f=OEt,autoFocus:p=!0,triggerRef:m,shouldUseCaptureOnOutsideClick:g,shouldRenderToParent:v,shouldFitContainer:b,shouldDisableFocusLock:y,strategy:E,role:w,label:C,titleId:x,modifiers:S}){const[I,A]=c.useState(null),[T,O]=c.useState(null),D=v&&y,$=w!=="dialog";kEt({initialFocusRef:T,popupRef:I,shouldCloseOnTab:D,triggerRef:m,autoFocus:p,shouldDisableFocusTrap:$}),SEt({isOpen:e,onClose:s,popupRef:I,triggerRef:m,shouldUseCaptureOnOutsideClick:g,shouldCloseOnTab:D,autoFocus:p,shouldDisableFocusTrap:$,shouldRenderToParent:v});const{currentLevel:L}=yy(),F=c.useMemo(()=>[{name:"flip",enabled:d,options:{rootBoundary:l,boundary:i,fallbackPlacements:a}},...S||[]],[d,l,i,a,S]);return k(Ru,{placement:u,offset:n,modifiers:F,strategy:E},({ref:B,style:V,placement:Y,update:J})=>k(f,{id:t,"data-ds--level":L,"data-placement":Y,"data-testid":r,role:w,"aria-label":C,"aria-labelledby":x,ref:z=>{z&&(typeof B=="function"?B(z):B.current=z,A(z))},style:V,tabIndex:p?0:void 0,shouldRenderToParent:v,shouldFitContainer:b},et("platform.design-system-team.iframe_gojiv")&&k(pF,{styles:DEt}),k(CEt,{update:J},o({update:J,isOpen:e,onClose:s,setInitialFocusRef:O}))))}const $Et=()=>{const[e]=c.useState(()=>Za((t,n,r)=>o=>{o&&r&&(typeof t=="function"?t(o):t&&(t.current=o),n(o))}));return e},REt=Qt.layer(),PEt=ie({position:"relative"}),LEt=c.memo(({isOpen:e,id:t,offset:n,testId:r,trigger:o,content:a,onClose:s,boundary:i,rootBoundary:l="viewport",shouldFlip:d=!0,placement:u="auto",fallbackPlacements:f,popupComponent:p,autoFocus:m=!0,zIndex:g=REt,shouldUseCaptureOnOutsideClick:v=!1,shouldRenderToParent:b=!1,shouldFitContainer:y=!1,shouldDisableFocusLock:E=!1,strategy:w,role:C,label:x,titleId:S,modifiers:I})=>{const[A,T]=c.useState(null),O=$Et(),D=ZS(),$=t||D,L=k(I4,{isDisabled:!1},k(MEt,{content:a,isOpen:e,placement:u,fallbackPlacements:f,boundary:i,rootBoundary:l,shouldFlip:d,offset:n,popupComponent:p,id:$,testId:r,onClose:s,autoFocus:m,shouldUseCaptureOnOutsideClick:v,shouldRenderToParent:b||y,shouldFitContainer:y,shouldDisableFocusLock:E,triggerRef:A,strategy:y?"absolute":w,role:C,label:x,titleId:S,modifiers:I})),F=k(hh,null,k(bh,null,({ref:B})=>o({ref:O(B,T,e),"aria-controls":e?$:void 0,"aria-expanded":e,"aria-haspopup":C==="dialog"&&et("platform_dst_popup-disable-focuslock")?"dialog":!0})),e&&(b||y?L:k(yh,{zIndex:g},L)));return y?k(_e,{xcss:PEt},F):F}),NEt=ie({transformOrigin:"center center 0",lineHeight:"12px"}),FEt=ie({paddingTop:"space.050",paddingRight:"space.050",paddingBottom:"space.050",paddingLeft:"space.100"}),jEt=ie({backgroundColor:"elevation.surface",":hover":{backgroundColor:"elevation.surface.hovered"},":active":{backgroundColor:"elevation.surface.pressed"}}),VEt=ie({position:"relative"}),BEt="reaction-summary-button",UEt="summary-emoji-display",HEt=c.forwardRef(({emojiProvider:e,reactions:t=[],emojisToShow:n=3,onClick:r,showOpaqueBackground:o=!1},a)=>{const s=Ee(),i=(f,p)=>[...f].sort((m,g)=>g.count-m.count).slice(0,p),l=c.useMemo(()=>t.reduce((f,p)=>f+=(p==null?void 0:p.count)||0,0),[t]),d=c.useMemo(()=>i(t,n),[n,t]),u=o?[jEt]:[];return _.createElement(_e,{xcss:VEt,ref:a},_.createElement(pse,{onClick:r,testId:BEt,ariaLabel:s.formatMessage(ic.summary),additionalStyles:u},_.createElement(Me,{space:"space.050",xcss:FEt},d.map(f=>_.createElement(_e,{xcss:NEt,testId:UEt},_.createElement(e2,{key:f.emojiId,emojiProvider:e,emojiId:{id:f.emojiId,shortName:""},fitToHeight:16})))),_.createElement(use,{value:l})))}),zEt=ie({padding:"space.100",paddingTop:"space.050",maxWidth:"325px"}),WEt="render-summary-view-popup",aTt=({emojiProvider:e,reactions:t=[],flash:n={},particleEffectByEmoji:r={},handleOpenReactionsDialog:o,allowUserDialog:a,placement:s="auto-start",onReactionClick:i,onReactionFocused:l,onReactionMouseEnter:d,showOpaqueBackground:u=!1})=>{const[f,p]=c.useState(!1),m=c.useCallback(()=>p(!1),[]),g=c.useCallback(()=>p(!f),[f]);return _.createElement(LEt,{placement:s,content:()=>_.createElement(Me,{xcss:zEt,testId:WEt,space:"space.025",shouldWrap:!0},t.map(v=>_.createElement(qyt,{key:v.emojiId,reaction:v,emojiProvider:e,onClick:i,onFocused:l,onMouseEnter:d,flash:n[v.emojiId],handleUserListClick:o,allowUserDialog:a,showParticleEffect:r[v.emojiId]}))),isOpen:f,onClose:m,trigger:v=>_.createElement(HEt,H({},v,{emojiProvider:e,reactions:t,onClick:g,showOpaqueBackground:u}))})};class sTt extends _.Component{componentDidCatch(t,n){for(const o of this.props.experiences){var r;o.failure({metadata:{source:"UfoErrorBoundary",reason:"error",error:{name:t.name,message:t.message,infoStack:(r=n.componentStack)!==null&&r!==void 0?r:void 0}}})}}render(){return this.props.children}}class iTt extends _.PureComponent{constructor(t){super(t),q(this,"getPropsFromActions",n=>{const{mapActionsToProps:r}=this.props;return r&&(!this.previousActions||!this.propsFromActions||this.previousActions!==n)&&(this.propsFromActions=r(n)),this.previousActions=n,this.propsFromActions}),q(this,"getPropsFromState",n=>{const{mapStateToProps:r}=this.props;return r?r(n):void 0}),q(this,"handleOnChange",()=>{this.forceUpdate()}),this.state={store:void 0}}componentDidMount(){Promise.resolve(this.props.store).then(t=>{this.setState({store:t}),t.onChange(this.handleOnChange)})}async componentWillUnmount(){this.state.store&&this.state.store.removeOnChangeListener(this.handleOnChange)}render(){return this.state.store?this.props.children(Object.assign({},this.getPropsFromState(this.state.store.getState()),this.getPropsFromActions(this.state.store))):null}}function GEt(e){let t=[];return(...n)=>{t.length===0&&(window.setTimeout(()=>{e(t),t=[]}),t=[]),t.push(n)}}function qEt(e){const t={};return(n,...r)=>{t[n]||(window.setTimeout(()=>{e(n,t[n]),delete t[n]}),t[n]=[]),t[n].push(r)}}const YEt=(e,t)=>e.localeCompare(t),KEt=(e,t)=>e.count>t.count?-1:e.count<t.count?1:YEt(e.emojiId,t.emojiId),XEt=e=>{const t=e.reduce((r,o,a)=>(r[o.emojiId]=a,r),{}),n=({emojiId:r})=>t[r]===void 0?e.length:t[r];return(r,o)=>n(r)-n(o)},YC=e=>({status:mv.ready,reactions:e.filter(t=>t.count>0)}),JEt=e=>t=>t.emojiId===e,ZEt=e=>({...e,count:e.count+1,reacted:!0}),QEt=e=>({...e,count:e.count-1,reacted:!1}),e2t=(e,t)=>n=>n.emojiId===e?t instanceof Function?t(n):t:n,t2t=e=>e&&e.length?XEt(e):KEt,n2t=(e,t)=>e.concat(t);function bL(e){return!e||!(e===401||e===403)}const $0={add:ryt,remove:ayt,render:e=>syt(e),fetchDetails:oyt};class r2t{constructor(t,n,r){q(this,"callbacks",[]),q(this,"initialState",{reactions:{},flash:{},particleEffectByEmoji:{}}),q(this,"setState",o=>{this.state={...this.state,...o},this.triggerOnChange()}),q(this,"triggerOnChange",GEt(()=>this.callbacks.forEach(o=>o(this.state)))),q(this,"setReactions",(o,a,s)=>{this.setState({reactions:{...this.state.reactions,[`${o}|${a}`]:s}})}),q(this,"handleDetailedReactionResponse",o=>{const{containerAri:a,ari:s,emojiId:i}=o;this.withReaction(l=>({...l,users:o.users}))(a,s,i)}),q(this,"flash",o=>{this.setFlash(o.containerAri,o.ari,o.emojiId,!0),window.setTimeout(()=>this.setFlash(o.containerAri,o.ari,o.emojiId,!1),700)}),q(this,"displayParticleEffect",o=>{this.setParticleEffectForEmoji(o.containerAri,o.ari,o.emojiId,!0),window.setTimeout(()=>{this.setParticleEffectForEmoji(o.containerAri,o.ari,o.emojiId,!1)},1500)}),q(this,"optmisticUpdate",(o,a,s)=>i=>{this.withReadyReaction(o,a)(l=>{let d=!1;const u=l.reactions.map(f=>{if(f.emojiId===s){d=!0;const p=i(f);if(p)return{...p,optimisticallyUpdated:!0}}return f});if(!d){const f=i({containerAri:o,ari:a,emojiId:s,count:0,reacted:!1});f&&u.push({...f,optimisticallyUpdated:!0})}return YC(u)})}),q(this,"doAddReaction",o=>{const{containerAri:a,ari:s,emojiId:i}=o;this.optmisticUpdate(a,s,i)(ZEt),this.flash(o),this.displayParticleEffect(o);const l=$0.add.getInstance(`${s}|${i}`);l.start(),l.addMetadata({source:"MemoryReactionsStore",storeMetadata:this.metadata,ari:s,containerAri:a,emojiId:i}),this.client.addReaction(a,s,i,this.metadata).then(d=>{this.createAnalyticsEvent&&Dl(this.createAnalyticsEvent,cL,"addReaction"),l.success()}).catch(d=>(bL(d.code)&&(this.createAnalyticsEvent&&Dl(this.createAnalyticsEvent,dL,"addReaction",d.code),l.failure({metadata:{error:O0(d),reason:"addReaction fetch failed"}})),Promise.reject(d)))}),q(this,"doRemoveReaction",o=>{const{containerAri:a,ari:s,emojiId:i}=o,l=$0.remove.getInstance(`${s}|${i}`);this.setParticleEffectForEmoji(a,s,i,!1),l.start(),l.addMetadata({source:"MemoryReactionsStore",storeMetadata:this.metadata,ari:s,containerAri:a,emojiId:i}),this.optmisticUpdate(a,s,i)(QEt),this.client.deleteReaction(a,s,i,this.metadata).then(d=>{l.success()}).catch(d=>{l.failure({metadata:{error:O0(d),reason:"deleteReaction fetch failed"}})})}),q(this,"setCreateAnalyticsEvent",o=>{this.createAnalyticsEvent=o}),q(this,"getReactions",qEt((o,a)=>{const s=$0.render(o),i=a.reduce(n2t);s.start({samplingRate:Kbt}),s.addMetadata({source:"MemoryReactionsStore",storeMetadata:this.metadata,containerAri:o,aris:i.join(",")}),this.client.getReactions(o,i).then(l=>{Object.keys(l).map(d=>{const u=this.getReactionsState(o,d),f=u&&u.status===mv.ready?u.reactions:void 0;this.setReactions(o,d,YC(l[d].sort(t2t(f))))})}).then(()=>{this.createAnalyticsEvent&&Dl(this.createAnalyticsEvent,cL,"getReactions"),s.success()}).catch(l=>{bL(l.code)&&(this.createAnalyticsEvent&&Dl(this.createAnalyticsEvent,dL,"getReactions"),s.failure({metadata:{error:O0(l),reason:"getReactions fetch failed"}}));const d=i.reduce((u,f)=>({...u,[`${o}|${f}`]:{reactions:[],status:mv.error}}),{});this.setState({...this.state,reactions:{...this.state.reactions,...d}})})})),q(this,"toggleReaction",this.withReaction(this.doRemoveReaction,this.doAddReaction)),q(this,"addReaction",this.withReaction(this.flash,this.doAddReaction)),q(this,"getDetailedReaction",(o,a,s)=>{const i=$0.fetchDetails.getInstance(`${a}|${s}`);i.start(),i.addMetadata({source:"MemoryReactionsStore",storeMetadata:this.metadata,ari:a,containerAri:o,emojiId:s}),this.client.getDetailedReaction(o,a,s).then(l=>{i.success(),this.handleDetailedReactionResponse(l)}).catch(l=>{i.failure({metadata:{error:O0(l),reason:"getDetailedReaction fetch failed"}})})}),q(this,"getState",()=>this.state),q(this,"onChange",o=>{this.callbacks.push(o)}),q(this,"removeOnChangeListener",o=>{this.callbacks=this.callbacks.filter(a=>a!==o)}),this.client=t,this.state=n??this.initialState,this.metadata=r}getReactionsState(t,n){return this.state.reactions[`${t}|${n}`]}setFlash(t,n,r,o){this.setState({flash:{...this.state.flash,[`${t}|${n}`]:{...this.state.flash[`${t}|${n}`],[r]:o}}})}setParticleEffectForEmoji(t,n,r,o){this.setState({particleEffectByEmoji:{...this.state.particleEffectByEmoji,[`${t}|${n}`]:{...this.state.particleEffectByEmoji[`${t}|${n}`],[r]:o}}})}withReadyReaction(t,n){return r=>{const o=this.getReactionsState(t,n);if(o&&o.status===mv.ready){const a=r(o);a&&this.setReactions(t,n,a)}}}withReaction(t,n){return(r,o,a)=>{this.withReadyReaction(r,o)(s=>{const i=s.reactions.find(JEt(a))||{containerAri:r,ari:o,emojiId:a,count:0,reacted:!1},d=(i.reacted||!n?t:n)(i);if(d&&!(d instanceof Function))return YC(s.reactions.map(e2t(a,d)))})}}}class o2t{constructor(t){this.service=t}async getReactions({containerAri:t,commentAris:n}){const r=Pc.parse(t).resourceId;return(await this.service.listCommentReactions(n.map(a=>{const s=jg.parse(a).commentId;return{containerId:r,commentId:s}}))).reduce((a,s)=>{const i=a[s.ari]??[];a[s.ari]=i;for(let l=0;l<s.reactionsSummaryForEmoji.length;l++)i.push({ari:s.ari,containerAri:s.containerAri,emojiId:s.reactionsSummaryForEmoji[l].emojiId,count:s.reactionsSummaryForEmoji[l].count,reacted:s.reactionsSummaryForEmoji[l].reacted});return a},{})}async getDetailedReaction({commentAri:t,containerAri:n,emojiId:r}){const o=Pc.parse(n).resourceId,a=jg.parse(t).commentId,s=await this.service.getCommentReactionDetails({commentId:a,containerId:o,emojiId:r});return{ari:s.ari,containerAri:s.containerAri,emojiId:s.emojiId,count:s.count,reacted:s.reacted,users:s.users.map(i=>({id:i.accountId,displayName:i.displayName}))}}async addReaction({commentAri:t,containerAri:n,emojiId:r}){const o=Pc.parse(n).resourceId,a=jg.parse(t).commentId,s=Pc.parse(n).resourceType.toUpperCase();await this.service.addCommentReaction({commentId:a,containerId:o,emojiId:r,containerType:s})}async removeReaction({commentAri:t,containerAri:n,emojiId:r}){const o=Pc.parse(n).resourceId,a=jg.parse(t).commentId,s=Pc.parse(n).resourceType.toUpperCase();await this.service.deleteCommentReaction({commentId:a,containerId:o,emojiId:r,containerType:s})}}let KC;const a2t=()=>(KC||(KC=new o2t(yE())),KC);let XC;const s2t=(e=a2t())=>{if(!XC){const t={reactions:{},flash:{},particleEffectByEmoji:{}},n={getReactions(r,o){return e.getReactions({containerAri:r,commentAris:o}).then(a=>(Br.getInstance().success(Ur.COMMENT_INTERACTION,{commentAction:"get-reactions-for-comment"}),a)).catch(a=>{const s=a instanceof Error?a.message:String(a);throw Br.getInstance().failure(Ur.COMMENT_INTERACTION,{commentAction:"get-reactions-for-comment",errorMessage:s}),a})},getDetailedReaction(r,o,a){return e.getDetailedReaction({commentAri:o,containerAri:r,emojiId:a}).then(s=>(Br.getInstance().success(Ur.COMMENT_INTERACTION,{commentAction:"get-detailed-reactions-for-comment"}),s)).catch(s=>{const i=s instanceof Error?s.message:String(s);throw Br.getInstance().failure(Ur.COMMENT_INTERACTION,{commentAction:"get-detailed-reactions-for-comment",errorMessage:i}),s})},async addReaction(r,o,a){try{return await e.addReaction({commentAri:o,containerAri:r,emojiId:a}),Br.getInstance().success(Ur.COMMENT_INTERACTION,{commentAction:"add-reactions-for-comment"}),[]}catch(s){const i=s instanceof Error?s.message:String(s);throw Br.getInstance().failure(Ur.COMMENT_INTERACTION,{commentAction:"add-reactions-for-comment",errorMessage:i}),s}},async deleteReaction(r,o,a){try{return await e.removeReaction({commentAri:o,containerAri:r,emojiId:a}),Br.getInstance().success(Ur.COMMENT_INTERACTION,{commentAction:"delete-reactions-for-comment"}),[]}catch(s){const i=s instanceof Error?s.message:String(s);throw Br.getInstance().failure(Ur.COMMENT_INTERACTION,{commentAction:"delete-reactions-for-comment",errorMessage:i}),s}}};XC=new r2t(n,t)}return XC},i2t=_.lazy(()=>l2t().then(({CommentThreadDialog:e})=>({default:e})));function l2t(){return Te(()=>de(()=>import("./thread-dialog-BFj8TAu7.js").then(e=>e.cM),__vite__mapDeps([118,3,4,1,2,5,6,7,8,9,10,64,25,76,119,120,29,69,101,107,26,82,83,67,96,89,121,81,78,122])))}function c2t(e,t,n,r){const[o,a]=_.useState(r);return c.useLayoutEffect(()=>{const s=i=>{if(i.type==="threadResolved"||i.type==="errored"||i.type==="rootCommentChanged"||i.type==="deletedReplyFromThread"||i.type==="addedReplyToThread"||i.type==="threadAssociated"||i.type==="threadSelected"||i.threadId!==t)return;const d=e.getThread(t);!d||d.status==="loading"||a([...d.comments])};return e.subscribe(s),e.initializeThread(t,n),()=>e.unsubscribe(s)},[e,t,n]),o}const td=xr({"comments-confirm-dialog.delete-comment-heading":{id:"comments-confirm-dialog.delete-comment-heading",defaultMessage:"Do you want to delete this comment?",description:"The header of the confirmation dialog for deleting a comment"},"comments-confirm-dialog.delete-comment-body":{id:"comments-confirm-dialog.delete-comment-body",defaultMessage:"Your comment will be permanently removed if you do.",description:"The message displayed inside the confirmation dialog for deleting a comment"},"comments-confirm-dialog.delete-comment-confirm-button":{id:"comments-confirm-dialog.delete-comment-confirm-button",defaultMessage:"Delete",description:"The call to action that will confirm a comment should be deleted"},"comments-confirm-dialog.delete-comment-cancel-button":{id:"comments-confirm-dialog.delete-comment-cancel-button",defaultMessage:"Cancel",description:"The button inside of the confirmation dialog for deleting a comment that will cancel the action"},"comments-snackbar.confirm-resolved-comment":{id:"comments-snackbar.confirm-resolved-comment",defaultMessage:"Comment was resolved. You can view all comments from the more actions menu.",description:"The message displayed inside of a snackbar banner when a user resolves a comment"},"comments-snackbar.undo-resolved-comment":{id:"comments-snackbar.undo-resolved-comment",defaultMessage:"Undo",description:"The button at the end of the resolved comments snackbar message that lets users undo a resolved comment"},"whiteboards.comment-editor.cancel":{id:"whiteboards.comment-editor.cancel",defaultMessage:"Cancel",description:"Label for the button that cancels editing a comment"},"whiteboards.comment-editor.save":{id:"whiteboards.comment-editor.save",defaultMessage:"Save",description:"Label for the button that saves an edited comment"},"whiteboards.comment-editor.default-placeholder":{id:"whiteboards.comment-editor.default-placeholder",defaultMessage:"Type to comment or @ to mention",description:"Default placeholder text for the comment editor"},"whiteboards.comment-editor.someone-is-typing":{id:"whiteboards.comment-editor.someone-is-typing",defaultMessage:"{numUsers, plural, one {{user} is typing...} other {# others are typing...}}",description:"Text stating that another user/users are typing"},"whiteboards.comment-thread-dialog.title":{id:"whiteboards.comment-thread-dialog.title",defaultMessage:"Comments",description:"Title/heading of a popup dialog displaying comments. The popup dialog shows comments that have been left on a whiteboard."},"whiteboards.comment-thread-dialog.thread-navigation":{id:"whiteboards.comment-thread-dialog.thread-navigation",defaultMessage:"{currentThreadNumber} of {numberOfThreads}",description:"A heading that shows you what number comment thread the user is viewing and how many there are."},"whiteboards.comment-action.replies":{id:"whiteboards.comment-action.replies",defaultMessage:"{numReplies, plural, one {# reply} other {# replies}}",description:"Label for the button that shows the comments replies"},"whiteboards.comment-action.replies-tooltip":{id:"whiteboards.comment-action.replies-tooltip",defaultMessage:"View replies",description:"Tooltip for the button that shows the comments replies"},"whiteboards.comment-action.resolve":{id:"whiteboards.comment-action.resolve",defaultMessage:"Resolve",description:"Label for the button that resolves a comment"},"whiteboards.comment-action.resolve-comment-tooltip":{id:"whiteboards.comment-action.resolve-comment-tooltip",defaultMessage:"Resolve comment",description:"Tooltip for the button that resolves a comment"},"whiteboards.comment-action.resolve-thread-tooltip":{id:"whiteboards.comment-action.resolve-thread-tooltip",defaultMessage:"Resolve thread",description:"Tooltip for the button that resolves a thread"},"whiteboards.comment-action.edit":{id:"whiteboards.comment-action.edit",defaultMessage:"Edit",description:"Label for the button that edits a comment"},"whiteboards.comment-action.edit-tooltip":{id:"whiteboards.comment-action.edit-tooltip",defaultMessage:"Edit comment",description:"Tooltip for the button that edits a comment"},"whiteboards.comment-action.delete":{id:"whiteboards.comment-action.delete",defaultMessage:"Delete",description:"Label for the button that deletes a comment"},"whiteboards.comment-action.delete-comment-tooltip":{id:"whiteboards.comment-action.delete-comment-tooltip",defaultMessage:"Delete comment",description:"Tooltip for the button that deletes a comment"},"whiteboards.comment-action.delete-thread-tooltip":{id:"whiteboards.comment-action.delete-thread-tooltip",defaultMessage:"Delete thread",description:"Tooltip for the button that deletes a thread"},"whiteboards.comment-action.copy-link-tooltip":{id:"whiteboards.comment-action.copy-link-tooltip",defaultMessage:"Copy link to comment",description:"Tooltip for the button that copies a link"},"whiteboards.comment-action.link-copied-tooltip":{id:"whiteboards.comment-action.link-copied-tooltip",defaultMessage:"Copied!",description:"Tooltip for the button that copies a link, when a link has been copied"}}),nd="main",d2t=({contentId:e,entryId:t,fieldId:n,commentToggled:r,thread:o,currentUserId:a,isCreate:s,threadNavigationOpts:i,stringRepresentation:l,setIsDeleting:d,onThreadCreate:u,handleClose:f})=>{const p=fe.useDispatch(),m=Wbt(void 0,hv),g=s2t(),v=ia(),b=rt(),{setOpenThread:y,setFocusedCommentThreadId:E}=Qo(),{showDialog:w}=Oc(),{formatMessage:C}=Ee(),[x,S]=c.useState(!1),I=c2t(m,o==null?void 0:o.threadId,o==null?void 0:o.threadId,[]),A=c.useCallback(()=>{o&&o.threadId&&p(pt(e,nd,{type:ye.INCREMENT_VALUE_COMMENT_THREAD_VERSION_NUMBER,fieldId:n,entryId:t,threadId:o.threadId}))},[e,p,t,n,o]);c.useEffect(()=>{o&&o.threadId&&!x&&m.reloadThread(o.threadId,o.threadId),(o!=null&&o.isResolved||!(o!=null&&o.threadId)&&I.length>0)&&f()},[o==null?void 0:o.versionNumber]),c.useLayoutEffect(()=>{if(!m)return;const B=V=>{V.type==="threadCreated"?u(V):V.type==="deletedReplyFromThread"||V.type==="addedReplyToThread"||V.type==="rootCommentChanged"?A():V.type==="threadChangedLocally"&&S(!0)};if(!r){m.unsubscribe(B);return}return m.subscribe(B),o!=null&&o.isResolved||m.initializeThread(o==null?void 0:o.threadId,void 0),()=>m.unsubscribe(B)},[m,e,t,n,p,r,o==null?void 0:o.threadId,o==null?void 0:o.isResolved,o,A,y,u]);const T=B=>{o!=null&&o.threadId&&(d(!0),w("ConfirmDialog",{heading:C(td["comments-confirm-dialog.delete-comment-heading"]),body:h.jsx(h.Fragment,{children:C(td["comments-confirm-dialog.delete-comment-body"])}),yesLabel:C(td["comments-confirm-dialog.delete-comment-confirm-button"]),noLabel:C(td["comments-confirm-dialog.delete-comment-cancel-button"]),appearance:"warning",onClose:V=>{V&&(m.deleteComment(o.threadId,B),A(),p(pt(e,nd,{type:ye.DECREMENT_VALUE_COMMENT_THREAD_COMMENT_COUNT,entryId:t,fieldId:n,threadId:o.threadId})),o.commentCount===1&&(p(pt(e,nd,{type:ye.REMOVE_VALUE_COMMENT_THREAD,entryId:t,fieldId:n,threadId:B})),f())),d(!1)}}))},O=()=>{o&&(p(pt(e,nd,{type:ye.SET_VALUE_COMMENT_THREAD_RESOLVED,entryId:t,fieldId:n,threadId:o.threadId,isResolved:!0})),A(),f(),tn.setMessage(C(td["comments-snackbar.confirm-resolved-comment"]),{id:"comment-resolved",type:"success",hideAfter:8e3,showIcon:!0,actions:[{content:C(td["comments-snackbar.undo-resolved-comment"]),onClick:()=>{m.reOpenComment(o.threadId,o.threadId),p(pt(e,nd,{type:ye.SET_VALUE_COMMENT_THREAD_RESOLVED,entryId:t,fieldId:n,threadId:o.threadId,isResolved:!1})),y({valueId:Va(t,n),threadId:o.threadId}),tn.clearMessage("comment-resolved")}}]}))},D=c.useCallback((B,V)=>{o&&(p(pt(e,nd,{type:ye.INCREMENT_VALUE_COMMENT_THREAD_COMMENT_COUNT,entryId:t,fieldId:n,threadId:o.threadId})),B&&V&&b.sendDatabaseCommentCreatedEvent({databaseContainer:We(),commentId:B,parentCommentContentId:V}),A())},[b,e,p,t,n,A,o]),$=c.useCallback(()=>{E(void 0)},[E]),L={onDelete:T,onResolve:O,onReOpen:()=>()=>{},onReply:D,onClick:()=>()=>{},onEdit:()=>()=>{},onEditCancel:()=>()=>{},onCreated:(B,V)=>{V&&b.sendDatabaseCommentCreatedEvent({databaseContainer:We(),commentId:V})},canCreate:!0,store:m,reactionsStore:g,threadId:(o==null?void 0:o.threadId)??wt(),comments:I,showCloseButton:!0,showChildrenComments:!0,showProfileCard:!0,verticalPadding:0,cloudId:v,contentId:e,accountId:a,contentType:Nb.DATABASE,originalSelection:l,threadNavigationOpts:i&&i},F=o!=null&&o.threadId?{type:"persisted",externalId:o.threadId,onClose:$,onCancelled:()=>{},...L}:{type:"unpersisted",onClose:$,onCancelled:()=>{},...L};return!(o!=null&&o.threadId)&&I.length===0&&!s?null:h.jsx(c.Suspense,{fallback:h.jsx(rr,{interactionName:"load"}),children:h.jsx(i2t,{...F,onClose:f})})},u2t=({contentId:e,fieldId:t,entryId:n,commentToggled:r,threads:o,openThread:a,create:s,setIsDeleting:i,handleClose:l})=>{const d=fe.useDispatch(),{setOpenThread:u,setFocusedCommentThreadId:f,allThreads:p}=Qo(),m=Va(n,t),[g,v]=c.useState(void 0),[b,y]=c.useState(!!s),[E,w]=fe.useEqualSelector(D=>{const $=Xe(D,{contentId:e}),L=Cn($,t),F=fn($,n),B=_o($,L,F),V=Fm(D),Y=B.type!==ae.ATTACHMENT?Kl({database:$,field:L,entry:F,value:B},D):void 0;return[V,Y,p]}),C=c.useMemo(()=>a.threadId?p.findIndex(D=>(D==null?void 0:D.threadId)===a.threadId):p.findIndex(D=>(D==null?void 0:D.valueId)===m),[p,a.threadId,m]),x=c.useMemo(()=>C!==-1,[C]),[S,I]=c.useState(x?C:0);c.useEffect(()=>{d(Bh({entryId:n,fieldId:t}))},[]),c.useEffect(()=>{C!==void 0&&x&&(o==null?void 0:o.length)===1&&I(C)},[C,x,o]),c.useEffect(()=>{!s&&(o!=null&&o.length)?v(p[S]):(v(void 0),y(!0))},[]);const A=c.useCallback(()=>{if(p.length>S+1){const D=p[S+1];(D==null?void 0:D.valueId)===m?I($=>$+1):(f(D==null?void 0:D.threadId),u({valueId:D==null?void 0:D.valueId,create:!1,panel:a.panel,threadId:D==null?void 0:D.threadId})),v(D)}},[p,a.panel,S,f,u,m]),T=c.useCallback(()=>{if(p.length>S-1){const D=p[S-1];(D==null?void 0:D.valueId)===m?I($=>$-1):(f(D==null?void 0:D.threadId),u({valueId:D==null?void 0:D.valueId,create:!1,panel:a.panel,threadId:D==null?void 0:D.threadId})),v(D)}},[p,a.panel,S,f,u,m]),O=D=>{D.type==="threadCreated"&&(y(!1),d(pt(e,"main",{type:ye.ADD_VALUE_COMMENT_THREAD,entryId:n,fieldId:t,newThread:{threadId:D.externalId,isResolved:!1,commentCount:1,versionNumber:0}})),u({valueId:Va(n,t),create:!1,panel:a.panel,threadId:D.externalId}),v({valueId:Va(n,t),threadId:D.externalId,commentCount:1,isResolved:!1,versionNumber:0}),o?I(S+o.length):p.length===0&&I(0))};if(x||!x&&b)return h.jsx(d2t,{contentId:e,fieldId:t,entryId:n,commentToggled:r,thread:g,currentUserId:E,isCreate:b,stringRepresentation:w,setIsDeleting:i,onThreadCreate:O,threadNavigationOpts:o!=null&&o.length&&(p!=null&&p.length)&&!s?{currentThreadNumber:S+1,threadCount:p.length,onNextThread:A,onPreviousThread:T}:void 0,handleClose:l})},f2t=[-18,12],p2t=[24,0],m2t=70,h2t=ie({zIndex:"dialog"}),g2t=c.forwardRef(({children:e,"data-testid":t,...n},r)=>h.jsx(_e,{xcss:h2t,testId:t,...n,ref:r,children:e})),yL=({contentId:e,entryId:t,fieldId:n,valueId:r,threads:o,totalCommentCount:a,hasThreads:s,shouldShowHoverButton:i,openThread:l,toggleComment:d,setIsThreadPopupHovered:u,placement:f="right-start",panel:p=!1,setIsHoverCell:m})=>{const{setOpenThread:g,setFocusedCommentThreadId:v}=Qo(),b=fe.useDispatch(),y=c.useRef(null),[E,w]=c.useState(!1),C=c.useMemo(()=>l.valueId===r&&!!l.panel===p,[l.panel,l.valueId,p,r]);c.useEffect(()=>{C||u(!1)},[C,u]);const x=c.useCallback(()=>{g({valueId:void 0}),v(void 0),m==null||m(!1),b(wr())},[b,v,m,g]);Tg(x,y,['[aria-roledescription="emoji button"]',`#cell-view-thread-button-${r}`,`#cell-add-thread-button-${r}`],C&&!E);const S=()=>{const I=document.getElementById("right-side-panel");return I?[0,I.offsetWidth-m2t]:p2t};return h.jsx(el,{shouldRenderToParent:!0,isOpen:C,placement:f,autoFocus:!1,boundary:document.getElementById("layout-table")??"clippingParents",popupComponent:g2t,offset:p?S():f2t,contentContainer:c.Fragment,trigger:I=>s||i?h.jsx(_e,{ref:I==null?void 0:I.ref,id:`cell-comment-button-${r}`,xcss:ie({padding:"space.0",position:"absolute",right:"space.100",top:"space.150"}),children:h.jsx(Rbt,{onClick:d,commentToggled:C,hasThreads:s,commentCount:a,shouldShowHoverButton:i,valueId:r})}):null,content:()=>h.jsx("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),id:"comment-threads-popup",ref:y,children:h.jsx(u2t,{contentId:e,entryId:t,fieldId:n,commentToggled:C,threads:o,openThread:l,create:l.create,setIsDeleting:w,handleClose:x})})})},EL=(()=>{if(typeof window>"u")return null;const e=new Image;return e.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",e})();function _se({nativeSetDragImage:e}){e&&EL&&e(EL,0,0)}function wL(e){e.defaultPrevented||(e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.preventDefault())}let jS=null;function v2t(){Qf(),jS=mt.bindAll(window,[{type:"dragover",listener:wL},{type:"dragenter",listener:wL},{type:"drop",listener(e){e.preventDefault(),Qf()}},{type:"dragend",listener:Qf},...J5({onDragEnd:Qf})],{capture:!1})}function Qf(){var e;(e=jS)===null||e===void 0||e(),jS=null}function b2t(){var e;if(((e=window.event)===null||e===void 0?void 0:e.type)==="drop"){var t;(t=window.event)===null||t===void 0||t.preventDefault()}Qf()}const Vb={start:v2t,stop:b2t},VS="nct-databases-";var ep=(e=>(e.UP="up",e.DOWN="down",e))(ep||{}),Xt=(e=>(e.ENTRY_CARD="entryCard",e.ENTRY_ROWS="entryRows",e.FIELD_COLUMNS="fieldColumns",e.FILL_VALUES="fillValues",e.SELECT_VALUES="selectValues",e))(Xt||{});const y2t=Oue({type:Mue(Xt),contentId:C2(),dragOverId:C2(),draggingIds:$ue(C2()),height:sM(),width:sM()});function E2t(e){let t="";for(let n=0;n<e.length;n++)t+=e.charCodeAt(n).toString(16).padStart(2,"0");return t}function w2t(e){let t="";for(let n=0;n<e.length;n+=2)t+=String.fromCharCode(parseInt(e.slice(n,n+2),16));return t}function xse(e,t){e.setData(`${VS}${E2t(JSON.stringify(t))}`,"")}function CL(e){for(const t of e.types)if(t.startsWith(VS))try{return y2t.parse(JSON.parse(w2t(t.slice(VS.length))))}catch{}}const rd=C2t(),_L=100,Sse=({dragDirection:e,ids:t,rowOrColIds:n,positions:r,contentId:o,onDrop:a,topOrLeftPadding:s,dragType:i,onDragOver:l,onSetDraggingItem:d})=>{const[u,f]=c.useState(),[p,m]=c.useState(),g=c.useRef(),v=De(T=>{m(T),l==null||l(T)},[l]),b=De(T=>{f(T),d==null||d(T)},[d]);c.useEffect(()=>{u&&!t.includes(u.id)&&b(void 0)},[u,t,b]),c.useEffect(()=>{g.current=p},[p]);const y=De(T=>n.findIndex(O=>{var D,$,L,F;return e==="vertical"?((D=r[O])==null?void 0:D.top)+(($=r[O])==null?void 0:$.height)/2>T:((L=r[O])==null?void 0:L.left)+((F=r[O])==null?void 0:F.width)/2>T})??n.length,[e,r,n]),E=De((T,O)=>{(u==null?void 0:u.id)!==O&&rd(()=>{const D=(e==="vertical"?T.clientY:T.clientX)-s,$=y(D);b({id:O,idx:$})},_L)},[e,u==null?void 0:u.id,y,b,s]),w=De(()=>{rd(()=>{b(void 0)})},[b]),C=c.useRef(0),x=De(T=>{const O=CL(T.dataTransfer);if(T.dataTransfer.dropEffect="move",(O==null?void 0:O.type)!==i||T.dataTransfer.dropEffect!=="move"||O.contentId!==o)return;T.preventDefault();const D=(e==="vertical"?T.clientY:T.clientX)-s;let $=y(D);p&&$>p.idx&&$--;const L={id:O.dragOverId,idx:$,height:e==="vertical"?O.height:void 0,width:e==="horizontal"?O.width:void 0};la(L,p)||rd(()=>{v(L)})},[i,o,e,s,y,p,v]),S=De(T=>{C.current++,x(T)},[x]),I=De(()=>{--C.current===0&&rd(()=>{v(void 0)})},[v]),A=De(T=>{C.current=0,rd(()=>{b(void 0),v(void 0)},_L);const O=CL(T.dataTransfer),D=g.current;!D||(O==null?void 0:O.type)!==i||O.contentId!==o||(T.preventDefault(),rd(async()=>{a({id:O.dragOverId,idx:D.idx,ids:O.draggingIds})}))},[o,i,v,b,a]);return c.useMemo(()=>({dragOver:p,draggingItem:u,handleDrag:E,handleDragEnd:w,handleDragEnter:S,handleDragLeave:I,handleDragOver:x,handleDrop:A}),[p,u,E,w,S,I,x,A])};function C2t(){let e;return(t,n=0)=>{e||(e=[],setTimeout(()=>{try{for(const r of e)r()}finally{e=void 0}},n)),e.push(t)}}const kse=(e,t,n,r)=>(o,a)=>{const s=Xe(a(),{contentId:e}),i=lc(s,n),l=pr(a(),{contentId:e});if(l.length===0)return;const d=r?l[0]:l[l.length-1],u=s.entries.indexOf(d);o(pt(e,t,{type:ye.ADD_ENTRY,entry:i,index:r?u:u+1})),o(wr())},_2t=e=>(t,n)=>{t(pt(e,"main",{type:ye.CLONE_ENTRIES,entryIds:Object.fromEntries(Ki(n(),{contentId:e}).map(r=>[r,wt()]))}))},x2t=e=>(t,n)=>{const r=Ki(n(),{contentId:e});t(pt(e,"main",{type:ye.CLEAR_ENTRIES,entryIds:r}))},Ise=e=>(t,n)=>{const r=pr(n(),{contentId:e});ko(()=>{Ko({dispatch:t,getState:n},e,()=>{r.forEach(o=>{t(pt(e,"main",{type:ye.DELETE_ENTRY,entryId:o}))})})})},BS=(e,t)=>async(n,r)=>{const o=Xe(r(),{contentId:e});await t();const s=Xe(r(),{contentId:e}).entries.filter(i=>!o.entries.includes(i));s.length>0&&ko(()=>{n(bK({entryIds:s}))})},S2t=(e,t)=>(n,r)=>{const o=pr(r(),{contentId:e}),a=Xe(r(),{contentId:e}),s=t?o[0]:o[o.length-1],i=a.entries.indexOf(s);ko(()=>{Ko({dispatch:n,getState:r},e,()=>{n(pt(e,"main",{type:ye.REORDER_ENTRIES,entryIds:o,newIndex:t?i-1:i+2}))})})},Tse=(e,t,n,r)=>(o,a)=>{const s=Xe(a(),{contentId:e}),i=on(ae.TEXT),l=Wm(r,Fi(s,i)),d=Tn(a(),{contentId:e});if(d.length===0)return;const u=n?d[0]:d[d.length-1],f=s.fields.indexOf(u);o(pt(e,"main",{type:ye.ADD_FIELD,field:{...i,name:l},index:n?f:f+1,currentViewId:t})),o(wr())},k2t=(e,t)=>(n,r)=>{const o=Gs(r(),{contentId:e});n(pt(e,"main",{type:ye.CLONE_FIELDS,fieldIds:Object.fromEntries(o.map(a=>[a,wt()])),currentViewId:t}))},I2t=e=>(t,n)=>{const r=Gs(n(),{contentId:e});t(pt(e,"main",{type:ye.CLEAR_ENTRIES,fieldIds:r}))},Ase=e=>(t,n)=>{const r=Tn(n(),{contentId:e});ko(()=>{Ko({dispatch:t,getState:n},e,()=>{r.forEach(o=>{t(pt(e,"main",{type:ye.DELETE_FIELD,fieldId:o}))})})})},T2t=(e,t,n)=>(r,o)=>{const a=Tn(o(),{contentId:e}),s=Xe(o(),{contentId:e}),i=i1(t);ko(()=>{Ko({dispatch:r,getState:o},e,()=>{a.forEach((l,d)=>{const u=s.fields.indexOf(l);r(pt(e,"main",{type:ye.REORDER_FIELD,fieldId:l,hiddenFields:i,newIndex:n?u-1:u+a.length-d+1}))})})})},US=(e,t)=>async(n,r)=>{const o=Xe(r(),{contentId:e});await t();const s=Xe(r(),{contentId:e}).fields.filter(i=>!o.fields.includes(i));s.length>0&&ko(()=>{n(yK({fieldIds:s}))})},N3=e=>(t,n)=>{const r=pr(n(),{contentId:e}),o=Tn(n(),{contentId:e});t(pt(e,"main",{type:ye.CLEAR_ENTRIES,entryIds:r,fieldIds:o}))},Ha=Re.form.attrs({action:"#"}).withConfig({displayName:"InlineEdit__InlineEditContainer",componentId:"sc-4qtwdm-0"})(["position:relative;display:flex;flex-direction:column;padding-right:",";"," > div{flex-grow:1;display:flex;flex-direction:column;> *{flex-grow:1;}}> :nth-child(","){","}"],e=>e.hasThreads?"36px":e.shouldShowHoverButton?"24px":"0",e=>e.isEditing||e.isManual?"":ln(["transition:background 0.2s;&:hover{background:",";}"],U("elevation.surface.hovered","#F1F2F4")),e=>e.isEditing?1:2,({preserveEditWidth:e})=>ln(e?["visibility:hidden;"]:["display:none;"]));function F3({readView:e,editView:t,isEditing:n,preserveEditWidth:r,onIsEditingChange:o,isManual:a,value:s,onReset:i,onSubmit:l,onBlur:d,onIsSelectedChange:u,enableSelection:f,tooltipContent:p,isSelected:m,field:g,entryId:v,hasThreads:b=!1,shouldShowHoverButton:y,isReadOnly:E}){const[w,C]=c.useState();cq(n?w:void 0);const{closeMenu:x,isMenuOpen:S}=os(),{view:I}=at(),{contentId:A}=An(),{openThread:T}=Qo(),O=fe.useStore();c.useEffect(()=>{if(!(!w||n||!f))return ir(Cc({element:w,getInitialData:()=>({type:Xt.SELECT_VALUES}),onDrop:()=>{Vb.stop()},onGenerateDragPreview:({nativeSetDragImage:K})=>{_se({nativeSetDragImage:K}),Vb.start()}}),ju({element:w,onDragStart:({source:K})=>{K.data.type===Xt.SELECT_VALUES&&(u==null||u())},onDragEnter:({source:K})=>{K.data.type===Xt.SELECT_VALUES&&!m&&(document.activeElement instanceof HTMLElement&&document.activeElement.blur(),Lp(),u==null||u({isMultiSelectOn:!0}))}}))},[w,f,n,m,u]);const D=c.useRef(!1),[$,L]=c.useState(!1),F=c.useCallback(async K=>{var ee;const oe=K.target,X=document.getElementById("comment-threads-popup");if(X&&X.contains(oe))return;const pe=D.current||ca(K,["shiftKey"]);f&&pe?(K.preventDefault(),u==null||u({isMultiSelectOn:pe})):!pe&&(!n||(g==null?void 0:g.type)===ae.ATTACHMENT)&&!a&&!(K.target instanceof Element&&K.target.closest("a[href],input,button,select,textarea,area[href]"))&&(await gN(0),((ee=getSelection())==null?void 0:ee.type)!=="Range"&&((m||K.target instanceof Element&&K.target.closest("th")||K.target instanceof Element&&K.target.closest("h1"))&&o(!0),x(),f&&(u==null||u())))},[f,n,g==null?void 0:g.type,a,u,m,x,o]),B=De(()=>{n||(o(!0),x(),f&&(u==null||u()))},[x,f,n,o,u]),V=De(K=>{D.current=!1,K.currentTarget.contains(K.relatedTarget)||(K.stopPropagation(),o(!1),d==null||d(s))},[d,o,s]),Y=De(()=>{L(!0)},[]),J=De(()=>{L(!1)},[]),z=De(K=>{$||Np(),K.preventDefault(),l==null||l(s)},[$,l,s]),ce=c.useRef(s);c.useEffect(()=>{n&&(ce.current=s)},[n]);const le=De(K=>{K.key==="Escape"&&(K.stopPropagation(),K.preventDefault(),i(ce.current),o(!1),Np()),K.key==="Shift"&&(D.current=!0)},[o,i]),j=De(K=>{K.key==="Shift"&&(D.current=!1)},[]),Z=c.useMemo(()=>(T==null?void 0:T.valueId)!==void 0,[T.valueId]);return c.useEffect(()=>{const K=oe=>{const X=(oe.ctrlKey||oe.metaKey)&&oe.key==="v",pe=oe.key==="Backspace"||oe.key==="Escape"||oe.key==="Shift"||oe.ctrlKey||oe.metaKey||X;if(!A||!m||pe||S||Z)return;const ee=g$e(O.getState());((ee==null?void 0:ee.entryId)===v&&(ee==null?void 0:ee.fieldId)===(g==null?void 0:g.id)||I.settings.layout.type!==yt.TABLE)&&(o(!0),u==null||u())};return m?window.addEventListener("keydown",K):window.removeEventListener("keydown",K),()=>{window.removeEventListener("keydown",K)}},[Z,A,v,g==null?void 0:g.id,S,m,o,u,T.valueId,O,I.settings.layout.type]),h.jsxs(Ha,{preserveEditWidth:r,isEditing:n,isManual:a,onBlur:V,onClick:F,onSubmit:z,onKeyDown:le,onKeyUp:j,onCompositionStart:Y,onCompositionEnd:J,ref:C,hasThreads:b,shouldShowHoverButton:y,children:[h.jsx(Zr,{content:p,children:A&&h.jsx(A2t,{contentId:A,isSelected:!!m,isEditing:n,isReadOnly:E,children:e()})}),n&&t(),h.jsx("input",{type:"submit",style:{display:"none"}}),!n&&!a&&h.jsx("span",{tabIndex:0,onFocus:B})]})}const A2t=({children:e,contentId:t,isSelected:n,isEditing:r,isReadOnly:o})=>{const a=fe.useDispatch(),s=c.useCallback(i=>{if(!o&&!r&&i.key==="Backspace"&&n){const l=i.target,d=document.getElementById("comment-threads-popup");if(d&&d.contains(l))return;i.stopPropagation(),a(N3(t))}},[t,a,r,n,o]);return h.jsx(_e,{tabIndex:0,onKeyDown:s,xcss:ie({":focus":{outline:"none"}}),children:e})},Kt=Re.div.attrs(e=>{var t;return{"data-presence-name":e.presenceInfo?((t=e.presenceInfo)==null?void 0:t.type)==="single-user"?e.presenceInfo.name:e.intl.formatMessage(G["presence.multiple-users-active.non-final"],{count:e.presenceInfo.count}):void 0}}).withConfig({displayName:"InlineEditWrapper__InlineEditWrapperContainer",componentId:"sc-15gdz4v-0"})(["position:relative;display:flex;flex-direction:column;border-radius:3px;overflow:visible;&.","&.",":not(.","),&.","&.","{transition:background-color 0.2s;background-color:",";}"],Ie.IS_HOVER_DELETE_BUTTON,Ie.IS_SELECTED,Ie.HIDE_BORDER_ON_FOCUS,Ie.IS_HOVER_DELETE_BUTTON,Ie.IS_SELECTED,U("color.background.danger.hovered",Ev)),Bb=Re.div.withConfig({displayName:"InlineEditWrapper__BorderContainer",componentId:"sc-15gdz4v-1"})(["position:absolute;top:0;left:0;right:0;bottom:0;border:",";border-radius:",";margin:-1px;pointer-events:none;",".",":not(.",") > &,",".",":not(:focus-within):not(.",") > &{border-color:",";margin:0;}","."," > &{border-style:none;border-radius:0;}",".",":not(.",") > &{border-top:",";}",".",":not(.",") > &{border-bottom:",";}",".",":not(.",") > &{border-left:",";}",".",":not(.",") > &{border-right:",";}",".",":not(.","):not(.",") > &{border-start-start-radius:",";}",".",":not(.","):not(.",") > &{border-start-end-radius:",";}",".",":not(.","):not(.",") > &{border-end-start-radius:",";}",".",":not(.","):not(.",") > &{border-end-end-radius:",";}",".","."," > &{transition:border-color 0.2s;border-color:",";}"],Sne,Rn,Kt,Ie.IS_INVALID,Ie.HIDE_BORDER_ON_FOCUS,Kt,Ie.IS_INVALID,Ie.IS_SELECTED,Er,Kt,Ie.IS_SELECTED,Kt,Ie.IS_SELECTED,Ie.IS_TOP_ADJACENT_SELECTED,xi,Kt,Ie.IS_SELECTED,Ie.IS_BOTTOM_ADJACENT_SELECTED,xi,Kt,Ie.IS_SELECTED,Ie.IS_LEFT_ADJACENT_SELECTED,xi,Kt,Ie.IS_SELECTED,Ie.IS_RIGHT_ADJACENT_SELECTED,xi,Kt,Ie.IS_SELECTED,Ie.IS_TOP_ADJACENT_SELECTED,Ie.IS_LEFT_ADJACENT_SELECTED,Rn,Kt,Ie.IS_SELECTED,Ie.IS_TOP_ADJACENT_SELECTED,Ie.IS_RIGHT_ADJACENT_SELECTED,Rn,Kt,Ie.IS_SELECTED,Ie.IS_BOTTOM_ADJACENT_SELECTED,Ie.IS_LEFT_ADJACENT_SELECTED,Rn,Kt,Ie.IS_SELECTED,Ie.IS_BOTTOM_ADJACENT_SELECTED,Ie.IS_RIGHT_ADJACENT_SELECTED,Rn,Kt,Ie.IS_SELECTED,Ie.IS_HOVER_DELETE_BUTTON,U("color.border.danger",yr)),D2t=Re.div.withConfig({displayName:"InlineEditWrapper__TelepointerBorderContainer",componentId:"sc-15gdz4v-2"})(["position:absolute;top:0;left:0;right:0;bottom:0;border:",";border-radius:",";margin:-1px;pointer-events:none;"," > &{border-style:none;border-radius:0;}",":not(.",") > &{border-top:2px solid ",";}",":not(.",") > &{border-bottom:2px solid ",";}",":not(.",") > &{border-left:2px solid ",";}",":not(.",") > &{border-right:2px solid ",";}",":not(.","):not(.",") > &{border-start-start-radius:",";}",":not(.","):not(.",") > &{border-start-end-radius:",";}",":not(.","):not(.",") > &{border-end-start-radius:",";}",":not(.","):not(.",") > &{border-end-end-radius:",";}"],Sne,Rn,Kt,Kt,Ie.IS_TOP_ADJACENT_SELECTED,e=>e.presenceInfo.color,Kt,Ie.IS_BOTTOM_ADJACENT_SELECTED,e=>e.presenceInfo.color,Kt,Ie.IS_LEFT_ADJACENT_SELECTED,e=>e.presenceInfo.color,Kt,Ie.IS_RIGHT_ADJACENT_SELECTED,e=>e.presenceInfo.color,Kt,Ie.IS_TOP_ADJACENT_SELECTED,Ie.IS_LEFT_ADJACENT_SELECTED,Rn,Kt,Ie.IS_TOP_ADJACENT_SELECTED,Ie.IS_RIGHT_ADJACENT_SELECTED,Rn,Kt,Ie.IS_BOTTOM_ADJACENT_SELECTED,Ie.IS_LEFT_ADJACENT_SELECTED,Rn,Kt,Ie.IS_BOTTOM_ADJACENT_SELECTED,Ie.IS_RIGHT_ADJACENT_SELECTED,Rn),O2t=Re.div.withConfig({displayName:"InlineEditWrapper__ActionContainer",componentId:"sc-15gdz4v-3"})(["position:absolute;top:calc(100% + 1px);right:0;transition:opacity 0.2s;z-index:1;opacity:0;pointer-events:none;background:",";border-radius:3px;",":hover > &,",":focus-within > &{opacity:1;pointer-events:auto;}"],U("elevation.surface","#FFFFFF"),Kt,Kt),n2=c.forwardRef(function({actions:t=[],children:n,isInvalid:r,markAsDeleted:o,isSelected:a,selectedAdjacentCells:s,hideBorderOnFocus:i,className:l,isDraggable:d,onDragStart:u,onDrag:f,onDragEnd:p,style:m,presenceInfo:g},v){const b=SE(),y=Ee();return h.jsxs(Kt,{"data-testId":`inline-edit-wrapper${o?"-mark-as-deleted":""}`,className:fa([l,{[Ie.HIDE_BORDER_ON_FOCUS]:i,[Ie.IS_INVALID]:r,[Ie.IS_SELECTED]:a,[Ie.IS_SKELETON_ENABLED]:b,[Ie.IS_LEFT_ADJACENT_SELECTED]:a&&(s==null?void 0:s.left),[Ie.IS_RIGHT_ADJACENT_SELECTED]:a&&(s==null?void 0:s.right),[Ie.IS_TOP_ADJACENT_SELECTED]:a&&(s==null?void 0:s.top),[Ie.IS_BOTTOM_ADJACENT_SELECTED]:a&&(s==null?void 0:s.bottom),[Ie.IS_HOVER_DELETE_BUTTON]:o}]),ref:v,draggable:d,onDragStart:u,onDrag:f,onDragEnd:p,style:m,presenceInfo:g,intl:y,children:[n,!b&&h.jsx(Bb,{}),g&&h.jsx(D2t,{presenceInfo:g}),t.length>0&&h.jsx(O2t,{children:t.map(E=>h.jsx(Zr,{content:E.tooltip,children:h.jsx(ht,{iconBefore:E.icon,onClick:E.onClick,tabIndex:-1})},E.id))})]})}),M2t=(e,t,n,r)=>{const o=vt("databases-frontend-presence"),a=fe.useEqualSelector(i=>{if(!o)return;const l=Object.values(i.collab.telepointers).filter(d=>d.entryId===t&&d.fieldId===n);if(l.length!==0)return l.length===1?{type:"single-user",count:1,name:l[0].identity.nickname,color:U("color.background.accent.blue.bolder","#0C66E4")}:{type:"multi-user",name:l[0].identity.nickname,count:l.length,color:U("color.background.accent.blue.bolder","#0C66E4")}}),s=fe.useStore();return c.useEffect(()=>{o&&(r?s.getState().collab.byContentId[e].updateTelepointer(t,n):s.getState().collab.byContentId[e].updateTelepointer(void 0,void 0))},[r,s,t,n,e,o]),a},oa={currentFieldId:null,changes:[]};function $2t(e){oa.currentFieldId=e,oa.changes=[]}function R2t(e){oa.changes.push(e)}function P2t(){oa.currentFieldId=null,oa.changes=[]}function L2t(e,t){if(oa.currentFieldId!==e||oa.changes.length===0)return[];let n=[];if(t===ae.TEXT){const r=N2t(oa.changes.map(o=>o.change));n.push({val:oa.changes[oa.changes.length-1].val,change:{delta:r.ops,type:ae.TEXT}})}else n=oa.changes;return n}function N2t(e){return e.reduce((t,n)=>n&&n.type===ae.TEXT?t.compose(new Ib(n.delta)):t,new Ib)}const F2t=({contentId:e,fieldId:t,entryId:n,handleChange:r,currentSortFieldId:o,onFocus:a,onBlur:s,...i})=>{const l=fe.useDispatch(),[d,u]=fe.useEqualSelector(C=>{const x=Xe(C,{contentId:e}),S=fn(x,n),I=Cn(x,t),A=Wo(x,I,S,C);return[I,A]}),[f,p]=c.useState(!1),m=c.useCallback(C=>{l(pt(e,"main",C))},[e,l]),g=c.useMemo(()=>o===d.id,[d.id,o]),v=c.useCallback((C,x)=>{l(pt(e,"main",{type:ye.SET_VALUE,fieldId:t,entryId:n,value:C,change:x}))},[e,l,n,t]),b=c.useCallback((C,x)=>{g||NO(d.type)?R2t({val:C,change:x}):v(C,x)},[g,d.type,v]),y=c.useCallback(()=>{const C=L2t(d.id,d.type);C.length>0&&(C.forEach(({val:x,change:S})=>v(x,S)),P2t())},[d.id,d.type,v]),E=c.useCallback(()=>{f||!g&&!NO(d.type)||(p(!0),$2t(d.id),a==null||a())},[d.id,d.type,g,f,a]),w=c.useCallback(()=>{y(),s==null||s(),p(!1)},[y,s]);return h.jsx(i3,{...i,contentId:e,entryId:n,field:d,value:u,onChange:r||b,onFocus:E,onBlur:w,addChangeToDraft:m})},j2t=({contentId:e,fieldId:t,entryId:n,showFieldNamePlaceholder:r,...o})=>{const[a,s]=fe.useEqualSelector(i=>{const l=kt(i,{contentId:e,includeDeleted:!0}),d=fn(l,n),u=Cn(l,t),f=Wo(l,u,d,i);return[u,f]});return h.jsx(kne,{...o,contentId:e,entryId:n,field:a,value:s,showFieldNamePlaceholder:r})},Dse=_.memo(j2t),j3=Re(n2).withConfig({displayName:"DatabaseValueInlineEdit__StyledInlineEditWrapper",componentId:"sc-vs2j0m-0"})(["height:100%;> ",",> "," > ","{flex-grow:1;*:not(a):not(span):not(#comment-threads-popup):not(#comment-threads-popup *):not( #popover-edit-container-multi-select-value ){border-color:transparent;}}&:hover{> "," > ","{background:",";}}> ",",> div > ",",> "," > "," div > ","{display:inline-block;padding:",";max-width:100%;box-sizing:border-box;}min-height:41px !important;&& textarea{padding:",";}&& input{padding:",";}",""],vo,vo,Ha,vo,Ha,({isSelected:e,hasThreads:t})=>e||t?"initial":U("elevation.surface.hovered","#F1F2F4"),$d,$d,vo,Ha,$d,({isFirstInRow:e})=>e?"10px 8px 10px 20px":"10px 8px",({isFirstInRow:e})=>e?"8px 6px 8px 18px":"8px 6px",({isFirstInRow:e})=>e&&"8px 6px 8px 18px",({presenceInfo:e})=>e&&`z-index: 2;

  &::before {
    content: attr(data-presence-name);
    max-width: 65%;
    color: white;
    position: absolute;
    bottom: 100%;
    right: 0;
    height: fit-content;
    background: ${e.color};
    pointer-events: none;
    text-align: right;
    padding: ${U("space.025","0.125rem")} ${U("space.050","0.25rem")} ${U("space.025","0.125rem")} ${U("space.050","0.25rem")};
    border-radius: 4px 4px 0 0;
  }

  `),V2t=({contentId:e,fieldId:t,entryId:n,isEditing:r,onIsEditingChange:o,isReadonly:a,isContentEditable:s,isSelected:i,markAsDeleted:l,onIsSelectedChange:d,isFirstInRow:u,selectedAdjacentCells:f,enableSelection:p,panel:m=!1,isHoverCell:g=!1,setIsHoverCell:v,currentSortFieldId:b})=>{const y=fe.useDispatch(),E=qN(),[w,C]=c.useState(!1),{openThread:x,setOpenThread:S,setFocusedCommentThreadId:I}=Qo(),{formatMessage:A}=Ee(),T=vt("databases-frontend-ci2-m1"),[O,D,$,L,F]=fe.useEqualSelector(pe=>{const ee=kt(pe,{contentId:e,includeDeleted:!0}),ne=fn(ee,n),Q=Cn(ee,t),se=_o(ee,Q,ne),ue=So(Q.type).editMode({database:ee,field:Q,entry:ne,value:se},pe),ve=Aft(pe,{contentId:e,fieldId:t,entryId:n}),ke=(ve==null?void 0:ve.reduce((ge,N)=>ge+N.commentCount,0))??0;return[se,ue,Q,ve,ke]}),B=De(pe=>{y(pt(e,"main",{type:ye.SET_VALUE,fieldId:t,entryId:n,value:pe,change:null}))},[e,y,n,t]),V=$.type===ae.JIRA_ISSUE&&!$.settings.jiraServerId&&!$.settings.cloudId||$.type===ae.ENTRY_LINK&&!$.settings.databaseId&&!$.settings.contentId,Y=!a&&!V,J=SE(),z=!Y||D===Ei.READ_ONLY||J?!1:r&&D===Ei.INLINE_EDIT||D===Ei.EDIT,ce=M2t(e,n,t,i||r),le=c.useMemo(()=>$.type===ae.ATTACHMENT,[$.type]),j=c.useMemo(()=>Va(n,t),[n,t]),Z=pe=>{pe.stopPropagation(),S({valueId:x.valueId===j?void 0:j,panel:m}),I(void 0)},K=c.useMemo(()=>L&&L.length>0,[L]),oe=c.useMemo(()=>!r&&!a&&(g||x.valueId===j),[r,a,g,x.valueId,j]),X=!E&&!le||T;return h.jsx(j3,{markAsDeleted:l,hideBorderOnFocus:!0,isSelected:i,isFirstInRow:u,selectedAdjacentCells:f,presenceInfo:ce,hasThreads:K,children:h.jsx(Rr,{error:void 0,children:()=>h.jsx(F3,{isSelected:i,isReadOnly:!Y,readView:()=>h.jsxs(h.Fragment,{children:[h.jsx(Dse,{contentId:e,entryId:n,fieldId:t,noFocus:!0,isReadonly:s===!1}),X&&h.jsx(yL,{contentId:e,entryId:n,fieldId:t,valueId:j,shouldShowHoverButton:oe,threads:L,totalCommentCount:F,hasThreads:!!L&&L.length>0,openThread:x,toggleComment:Z,setIsThreadPopupHovered:C,placement:m?"left":"right-start",panel:m,setIsHoverCell:v})]}),editView:()=>h.jsxs(h.Fragment,{children:[h.jsx(F2t,{contentId:e,entryId:n,fieldId:t,noValidation:D===Ei.INLINE_EDIT,isSeamless:D===Ei.EDIT,autoFocus:r,currentSortFieldId:b}),!E&&!r&&le&&!T&&h.jsx(yL,{contentId:e,entryId:n,fieldId:t,valueId:j,shouldShowHoverButton:le?oe:!1,threads:L,totalCommentCount:F,hasThreads:!!L&&L.length>0,openThread:x,toggleComment:Z,setIsThreadPopupHovered:C,placement:m?"left-start":"right-start",panel:m})]}),isEditing:z,onIsEditingChange:o,value:O,onReset:B,onIsSelectedChange:d,enableSelection:w?!1:p,field:$,entryId:n,tooltipContent:V?A(G["value-inline-edit.required-field-missing-tooltip"]):null,hasThreads:!r&&K,shouldShowHoverButton:oe})})})},B2t=({initialIsEditing:e=!1,setEditingIds:t,...n})=>{const[r,o]=c.useState(e);return c.useEffect(()=>{e&&!r&&(t==null||t(a=>{const s=new Set(a);return s.forEach(i=>{i.entryId===n.entryId&&s.delete(i)}),s}))},[e,r,n.entryId,t]),h.jsx(V2t,{isEditing:r,onIsEditingChange:o,...n})},Ose=_.memo(B2t);var r2={exports:{}},Mse={};function $se(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=$se(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function xL(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=$se(e))&&(r&&(r+=" "),r+=t);return r}const U2t=Object.freeze(Object.defineProperty({__proto__:null,clsx:xL,default:xL},Symbol.toStringTag,{value:"Module"})),H2t=gk(U2t);var Dn={},ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.dontSetMe=Y2t;ss.findInArray=z2t;ss.int=q2t;ss.isFunction=W2t;ss.isNum=G2t;function z2t(e,t){for(let n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function W2t(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function G2t(e){return typeof e=="number"&&!isNaN(e)}function q2t(e){return parseInt(e,10)}function Y2t(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.browserPrefixToKey=Pse;Mc.browserPrefixToStyle=K2t;Mc.default=void 0;Mc.getPrefix=Rse;const JC=["Moz","Webkit","O","ms"];function Rse(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const n=(e=window.document)===null||e===void 0||(e=e.documentElement)===null||e===void 0?void 0:e.style;if(!n||t in n)return"";for(let r=0;r<JC.length;r++)if(Pse(t,JC[r])in n)return JC[r];return""}function Pse(e,t){return t?"".concat(t).concat(X2t(e)):e}function K2t(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function X2t(e){let t="",n=!0;for(let r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}Mc.default=Rse();Object.defineProperty(Dn,"__esModule",{value:!0});Dn.addClassName=Fse;Dn.addEvent=Q2t;Dn.addUserSelectStyles=dwt;Dn.createCSSTransform=swt;Dn.createSVGTransform=iwt;Dn.getTouch=lwt;Dn.getTouchIdentifier=cwt;Dn.getTranslation=V3;Dn.innerHeight=rwt;Dn.innerWidth=owt;Dn.matchesSelector=Nse;Dn.matchesSelectorAndParentsTo=Z2t;Dn.offsetXYFromParent=awt;Dn.outerHeight=twt;Dn.outerWidth=nwt;Dn.removeClassName=jse;Dn.removeEvent=ewt;Dn.removeUserSelectStyles=uwt;var wo=ss,SL=J2t(Mc);function Lse(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Lse=function(r){return r?n:t})(e)}function J2t(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Lse(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}let R0="";function Nse(e,t){return R0||(R0=(0,wo.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,wo.isFunction)(e[n])})),(0,wo.isFunction)(e[R0])?e[R0](t):!1}function Z2t(e,t,n){let r=e;do{if(Nse(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function Q2t(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function ewt(e,t,n,r){if(!e)return;const o={capture:!0,...r};e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}function twt(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,wo.int)(n.borderTopWidth),t+=(0,wo.int)(n.borderBottomWidth),t}function nwt(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,wo.int)(n.borderLeftWidth),t+=(0,wo.int)(n.borderRightWidth),t}function rwt(e){let t=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,wo.int)(n.paddingTop),t-=(0,wo.int)(n.paddingBottom),t}function owt(e){let t=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,wo.int)(n.paddingLeft),t-=(0,wo.int)(n.paddingRight),t}function awt(e,t,n){const o=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),a=(e.clientX+t.scrollLeft-o.left)/n,s=(e.clientY+t.scrollTop-o.top)/n;return{x:a,y:s}}function swt(e,t){const n=V3(e,t,"px");return{[(0,SL.browserPrefixToKey)("transform",SL.default)]:n}}function iwt(e,t){return V3(e,t,"")}function V3(e,t,n){let{x:r,y:o}=e,a="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){const s="".concat(typeof t.x=="string"?t.x:t.x+n),i="".concat(typeof t.y=="string"?t.y:t.y+n);a="translate(".concat(s,", ").concat(i,")")+a}return a}function lwt(e,t){return e.targetTouches&&(0,wo.findInArray)(e.targetTouches,n=>t===n.identifier)||e.changedTouches&&(0,wo.findInArray)(e.changedTouches,n=>t===n.identifier)}function cwt(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function dwt(e){if(!e)return;let t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&Fse(e.body,"react-draggable-transparent-selection")}function uwt(e){if(e)try{if(e.body&&jse(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function Fse(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function jse(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var is={};Object.defineProperty(is,"__esModule",{value:!0});is.canDragX=mwt;is.canDragY=hwt;is.createCoreData=vwt;is.createDraggableData=bwt;is.getBoundPosition=fwt;is.getControlPosition=gwt;is.snapToGrid=pwt;var lo=ss,wd=Dn;function fwt(e,t,n){if(!e.props.bounds)return[t,n];let{bounds:r}=e.props;r=typeof r=="string"?r:ywt(r);const o=B3(e);if(typeof r=="string"){const{ownerDocument:a}=o,s=a.defaultView;let i;if(r==="parent"?i=o.parentNode:i=a.querySelector(r),!(i instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const l=i,d=s.getComputedStyle(o),u=s.getComputedStyle(l);r={left:-o.offsetLeft+(0,lo.int)(u.paddingLeft)+(0,lo.int)(d.marginLeft),top:-o.offsetTop+(0,lo.int)(u.paddingTop)+(0,lo.int)(d.marginTop),right:(0,wd.innerWidth)(l)-(0,wd.outerWidth)(o)-o.offsetLeft+(0,lo.int)(u.paddingRight)-(0,lo.int)(d.marginRight),bottom:(0,wd.innerHeight)(l)-(0,wd.outerHeight)(o)-o.offsetTop+(0,lo.int)(u.paddingBottom)-(0,lo.int)(d.marginBottom)}}return(0,lo.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,lo.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,lo.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,lo.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function pwt(e,t,n){const r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]}function mwt(e){return e.props.axis==="both"||e.props.axis==="x"}function hwt(e){return e.props.axis==="both"||e.props.axis==="y"}function gwt(e,t,n){const r=typeof t=="number"?(0,wd.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;const o=B3(n),a=n.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,wd.offsetXYFromParent)(r||e,a,n.props.scale)}function vwt(e,t,n){const r=!(0,lo.isNum)(e.lastX),o=B3(e);return r?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function bwt(e,t){const n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function ywt(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function B3(e){const t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var o2={},a2={};Object.defineProperty(a2,"__esModule",{value:!0});a2.default=Ewt;function Ewt(){}Object.defineProperty(o2,"__esModule",{value:!0});o2.default=void 0;var ZC=Cwt(c),Lr=U3(Gm),wwt=U3(sr),br=Dn,ui=is,QC=ss,Nf=U3(a2);function U3(e){return e&&e.__esModule?e:{default:e}}function Vse(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Vse=function(r){return r?n:t})(e)}function Cwt(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=Vse(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}function Ir(e,t,n){return t=_wt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _wt(e){var t=xwt(e,"string");return typeof t=="symbol"?t:String(t)}function xwt(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const na={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let fi=na.mouse,s2=class extends ZC.Component{constructor(){super(...arguments),Ir(this,"dragging",!1),Ir(this,"lastX",NaN),Ir(this,"lastY",NaN),Ir(this,"touchIdentifier",null),Ir(this,"mounted",!1),Ir(this,"handleDragStart",t=>{if(this.props.onMouseDown(t),!this.props.allowAnyClick&&typeof t.button=="number"&&t.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=n;if(this.props.disabled||!(t.target instanceof r.defaultView.Node)||this.props.handle&&!(0,br.matchesSelectorAndParentsTo)(t.target,this.props.handle,n)||this.props.cancel&&(0,br.matchesSelectorAndParentsTo)(t.target,this.props.cancel,n))return;t.type==="touchstart"&&t.preventDefault();const o=(0,br.getTouchIdentifier)(t);this.touchIdentifier=o;const a=(0,ui.getControlPosition)(t,o,this);if(a==null)return;const{x:s,y:i}=a,l=(0,ui.createCoreData)(this,s,i);(0,Nf.default)("DraggableCore: handleDragStart: %j",l),(0,Nf.default)("calling",this.props.onStart),!(this.props.onStart(t,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,br.addUserSelectStyles)(r),this.dragging=!0,this.lastX=s,this.lastY=i,(0,br.addEvent)(r,fi.move,this.handleDrag),(0,br.addEvent)(r,fi.stop,this.handleDragStop))}),Ir(this,"handleDrag",t=>{const n=(0,ui.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let i=r-this.lastX,l=o-this.lastY;if([i,l]=(0,ui.snapToGrid)(this.props.grid,i,l),!i&&!l)return;r=this.lastX+i,o=this.lastY+l}const a=(0,ui.createCoreData)(this,r,o);if((0,Nf.default)("DraggableCore: handleDrag: %j",a),this.props.onDrag(t,a)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=r,this.lastY=o}),Ir(this,"handleDragStop",t=>{if(!this.dragging)return;const n=(0,ui.getControlPosition)(t,this.touchIdentifier,this);if(n==null)return;let{x:r,y:o}=n;if(Array.isArray(this.props.grid)){let l=r-this.lastX||0,d=o-this.lastY||0;[l,d]=(0,ui.snapToGrid)(this.props.grid,l,d),r=this.lastX+l,o=this.lastY+d}const a=(0,ui.createCoreData)(this,r,o);if(this.props.onStop(t,a)===!1||this.mounted===!1)return!1;const i=this.findDOMNode();i&&this.props.enableUserSelectHack&&(0,br.removeUserSelectStyles)(i.ownerDocument),(0,Nf.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,i&&((0,Nf.default)("DraggableCore: Removing handlers"),(0,br.removeEvent)(i.ownerDocument,fi.move,this.handleDrag),(0,br.removeEvent)(i.ownerDocument,fi.stop,this.handleDragStop))}),Ir(this,"onMouseDown",t=>(fi=na.mouse,this.handleDragStart(t))),Ir(this,"onMouseUp",t=>(fi=na.mouse,this.handleDragStop(t))),Ir(this,"onTouchStart",t=>(fi=na.touch,this.handleDragStart(t))),Ir(this,"onTouchEnd",t=>(fi=na.touch,this.handleDragStop(t)))}componentDidMount(){this.mounted=!0;const t=this.findDOMNode();t&&(0,br.addEvent)(t,na.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const t=this.findDOMNode();if(t){const{ownerDocument:n}=t;(0,br.removeEvent)(n,na.mouse.move,this.handleDrag),(0,br.removeEvent)(n,na.touch.move,this.handleDrag),(0,br.removeEvent)(n,na.mouse.stop,this.handleDragStop),(0,br.removeEvent)(n,na.touch.stop,this.handleDragStop),(0,br.removeEvent)(t,na.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,br.removeUserSelectStyles)(n)}}findDOMNode(){var t,n;return(t=this.props)!==null&&t!==void 0&&t.nodeRef?(n=this.props)===null||n===void 0||(n=n.nodeRef)===null||n===void 0?void 0:n.current:wwt.default.findDOMNode(this)}render(){return ZC.cloneElement(ZC.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};o2.default=s2;Ir(s2,"displayName","DraggableCore");Ir(s2,"propTypes",{allowAnyClick:Lr.default.bool,children:Lr.default.node.isRequired,disabled:Lr.default.bool,enableUserSelectHack:Lr.default.bool,offsetParent:function(e,t){if(e[t]&&e[t].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Lr.default.arrayOf(Lr.default.number),handle:Lr.default.string,cancel:Lr.default.string,nodeRef:Lr.default.object,onStart:Lr.default.func,onDrag:Lr.default.func,onStop:Lr.default.func,onMouseDown:Lr.default.func,scale:Lr.default.number,className:QC.dontSetMe,style:QC.dontSetMe,transform:QC.dontSetMe});Ir(s2,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),e.default=void 0;var t=p(c),n=u(Gm),r=u(sr),o=u(H2t),a=Dn,s=is,i=ss,l=u(o2),d=u(a2);function u(E){return E&&E.__esModule?E:{default:E}}function f(E){if(typeof WeakMap!="function")return null;var w=new WeakMap,C=new WeakMap;return(f=function(x){return x?C:w})(E)}function p(E,w){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var C=f(w);if(C&&C.has(E))return C.get(E);var x={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var I in E)if(I!=="default"&&Object.prototype.hasOwnProperty.call(E,I)){var A=S?Object.getOwnPropertyDescriptor(E,I):null;A&&(A.get||A.set)?Object.defineProperty(x,I,A):x[I]=E[I]}return x.default=E,C&&C.set(E,x),x}function m(){return m=Object.assign?Object.assign.bind():function(E){for(var w=1;w<arguments.length;w++){var C=arguments[w];for(var x in C)Object.prototype.hasOwnProperty.call(C,x)&&(E[x]=C[x])}return E},m.apply(this,arguments)}function g(E,w,C){return w=v(w),w in E?Object.defineProperty(E,w,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[w]=C,E}function v(E){var w=b(E,"string");return typeof w=="symbol"?w:String(w)}function b(E,w){if(typeof E!="object"||E===null)return E;var C=E[Symbol.toPrimitive];if(C!==void 0){var x=C.call(E,w||"default");if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(E)}class y extends t.Component{static getDerivedStateFromProps(w,C){let{position:x}=w,{prevPropsPosition:S}=C;return x&&(!S||x.x!==S.x||x.y!==S.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:x,prevPropsPosition:S}),{x:x.x,y:x.y,prevPropsPosition:{...x}}):null}constructor(w){super(w),g(this,"onDragStart",(C,x)=>{if((0,d.default)("Draggable: onDragStart: %j",x),this.props.onStart(C,(0,s.createDraggableData)(this,x))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(C,x)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",x);const S=(0,s.createDraggableData)(this,x),I={x:S.x,y:S.y,slackX:0,slackY:0};if(this.props.bounds){const{x:T,y:O}=I;I.x+=this.state.slackX,I.y+=this.state.slackY;const[D,$]=(0,s.getBoundPosition)(this,I.x,I.y);I.x=D,I.y=$,I.slackX=this.state.slackX+(T-I.x),I.slackY=this.state.slackY+(O-I.y),S.x=I.x,S.y=I.y,S.deltaX=I.x-this.state.x,S.deltaY=I.y-this.state.y}if(this.props.onDrag(C,S)===!1)return!1;this.setState(I)}),g(this,"onDragStop",(C,x)=>{if(!this.state.dragging||this.props.onStop(C,(0,s.createDraggableData)(this,x))===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",x);const I={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:T,y:O}=this.props.position;I.x=T,I.y=O}this.setState(I)}),this.state={dragging:!1,dragged:!1,x:w.position?w.position.x:w.defaultPosition.x,y:w.position?w.position.y:w.defaultPosition.y,prevPropsPosition:{...w.position},slackX:0,slackY:0,isElementSVG:!1},w.position&&!(w.onDrag||w.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var w,C;return(w=(C=this.props)===null||C===void 0||(C=C.nodeRef)===null||C===void 0?void 0:C.current)!==null&&w!==void 0?w:r.default.findDOMNode(this)}render(){const{axis:w,bounds:C,children:x,defaultPosition:S,defaultClassName:I,defaultClassNameDragging:A,defaultClassNameDragged:T,position:O,positionOffset:D,scale:$,...L}=this.props;let F={},B=null;const Y=!!!O||this.state.dragging,J=O||S,z={x:(0,s.canDragX)(this)&&Y?this.state.x:J.x,y:(0,s.canDragY)(this)&&Y?this.state.y:J.y};this.state.isElementSVG?B=(0,a.createSVGTransform)(z,D):F=(0,a.createCSSTransform)(z,D);const ce=(0,o.default)(x.props.className||"",I,{[A]:this.state.dragging,[T]:this.state.dragged});return t.createElement(l.default,m({},L,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(x),{className:ce,style:{...x.props.style,...F},transform:B}))}}e.default=y,g(y,"displayName","Draggable"),g(y,"propTypes",{...l.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:i.dontSetMe,style:i.dontSetMe,transform:i.dontSetMe}),g(y,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Mse);const{default:Bse,DraggableCore:Swt}=Mse;r2.exports=Bse;r2.exports.default=Bse;r2.exports.DraggableCore=Swt;var kwt=r2.exports;const Iwt=_r(kwt),Use="resizable",kL=4;function Hse(e,t){const n=e instanceof Element?e.closest("th,td"):void 0;if(n&&t.contains(n))return n.parentElement&&Hse(n.parentElement,t)||n}function Twt(e,t){const n=Hse(e.target,t);if(n){let r;const o=n.getBoundingClientRect();if(Math.abs(e.clientX-o.left)<=kL?r=n.previousElementSibling:Math.abs(e.clientX-o.right)<=kL&&(r=n),r&&r.classList.contains(Use))return r}}function IL(e,t,n){const r=zse(e),o=[...e.parentElement.children],a=o.find(d=>d.classList.contains("entry-number-table-header")),s=o.filter(i2).slice(0,r+1).reduce((d,u,f)=>d+((n==null?void 0:n[f])??u.offsetWidth),0),i=!t&&a?a.offsetWidth:0,l=s-i;return l!==0?{left:`${l}px`}:{...Gse}}function zse(e){return[...e.parentElement.children].filter(i2).indexOf(e)}const zo="ignored-td-class",Awt=["th","td"];function i2(e){return Awt.includes(e.localName)&&!e.className.includes(zo)}const Wse=Le.div.withConfig({displayName:"TableResizer__TableResizerContainer",componentId:"sc-p0wxgr-0"})(["position:relative;"]),Dwt=Le.div.withConfig({displayName:"TableResizer__ResizeHandler",componentId:"sc-p0wxgr-1"})(["position:absolute;top:",";bottom:0;width:10px;margin-left:",";z-index:",";cursor:col-resize;transform:none !important;:after{content:' ';position:absolute;height:100%;width:2px;left:",";background-color:",";}"],U("space.100"),U("space.050"),Ln.TABLE_RESIZE_HANDLER,U("space.050","4px"),({isCellSelected:e,isResizing:t})=>e?"transparent":t?Vo:Dt),Owt=Le.div.withConfig({displayName:"TableResizer__ResizeCover",componentId:"sc-p0wxgr-2"})(["position:fixed;top:0;left:0;right:0;bottom:0;cursor:col-resize;"]),Gse={display:"none"},Mwt=({children:e,widths:t,onResizeSubmit:n,onResize:r,minWidth:o,isDisabled:a,contentId:s,hasNumberedEntries:i,fieldIds:l,databaseDraft:d})=>{const u=c.useRef(null),f=c.useRef(null),[p,m]=c.useState(),[g,v]=c.useState(void 0),b=rt(),y=c.useMemo(()=>g?IL(g.cell,i,g.effectiveWidths):p?IL(p,i):Gse,[p,i,g]),E=De(A=>{!g&&u.current&&!(f.current&&A.target instanceof Node&&f.current.contains(A.target))&&m(Twt(A,u.current))},[g]),w=De(()=>{m(void 0)},[]),C=De(()=>{if(!p)return;const A=zse(p),T=[...[...p.parentElement.children].filter(i2).slice(0,A+1).map(O=>O.offsetWidth),...t.slice(A+1)];v({hasMoved:!1,cell:p,cellIdx:A,rawWidths:T,effectiveWidths:T})},[p,t]),x=De((A,T)=>{if(T.deltaX===0)return;const O=l[g.cellIdx-1],D=Rvt(d,O),$=L0(g,F=>{F.hasMoved=!0,F.rawWidths[F.cellIdx]+=T.deltaX,F.effectiveWidths[F.cellIdx]=Math.max(F.rawWidths[F.cellIdx],(o??0)+(D?ide:0))}),L=$.effectiveWidths.slice(1);v($),r==null||r(L)},[d,l,o,r,g]),S=De(()=>{if(g.hasMoved){const A=g.effectiveWidths.slice(1);n(A),b.sendColumnResizedEvent({contentId:s,databaseContainer:We()})}else{const A=[...t];A[g.cellIdx]=void 0,m(void 0);const T=A.slice(1);r==null||r(T),n(T)}v(void 0)},[b,s,r,n,g,t]),I=c.useMemo(()=>{var A;return p?((A=p.nextElementSibling)==null?void 0:A.classList.contains(Ie.IS_SELECTED))||(p==null?void 0:p.classList.contains(Ie.IS_SELECTED)):!1},[p]);return h.jsxs(Wse,{onMouseMove:a?void 0:E,onMouseLeave:w,ref:u,children:[e((g==null?void 0:g.effectiveWidths)??t),h.jsx(Iwt,{disabled:!p,axis:"x",onStart:C,onDrag:x,onStop:S,children:h.jsx(Dwt,{style:y,ref:f,isResizing:!!g,isCellSelected:I})}),g&&sr.createPortal(h.jsx(Owt,{}),document.body)]})},Ag=Le.span.withConfig({displayName:"FieldNameContainer",componentId:"sc-e12v5j-0"})(["&,span{display:inline-flex;align-items:center;}> :nth-child(2){margin-left:0.2em;}"]),HS={hasOpenMenu:!1},$wt={...HS},TL=new Set;function Rwt(e){const[,t]=c.useReducer(n=>n+1,0);c.useEffect(()=>{const n=()=>{e()&&t()};return TL.add(n),()=>{TL.delete(n)}})}function Pwt(){return Rwt(()=>HS.hasOpenMenu!==$wt.hasOpenMenu),HS.hasOpenMenu}const H3=Le.div.withConfig({displayName:"FieldNameEdit__FieldNameEditContainer",componentId:"sc-btq363-0"})([""]),Lwt=c.forwardRef(function({contentId:t,fieldId:n,showPlaceholder:r,noValidation:o,isFieldSettings:a,inputId:s},i){const{formatMessage:l}=Ee(),d=fe.useStore(),[u,f]=c.useState(!1),[p,m]=fe.useEqualSelector(S=>{const I=kt(S,{contentId:t,includeDeleted:!0}),A=Cn(I,n),T=o?!0:mk(A.name,Fi(I,A));return[A,T]}),g=fe.useDispatch(),[v,b]=c.useState(null);mm(v,c.useCallback((S,I)=>{g(pt(t,"main",{type:ye.SET_FIELD_NAME,fieldId:n,name:I,delta:S}))},[t,g,n]));const y=c.useCallback(S=>{const I=kt(d.getState(),{contentId:t,includeDeleted:!0}),A=l(G["field-settings.field-name-inline-edit-default-text"],{defaultFieldName:l(So(p.type).label)}),T=Wm(S===""?A:S,Fi(I,p));g(pt(t,"main",{type:ye.SET_FIELD_NAME,fieldId:n,name:T,delta:mE(p.name,T,p.name.length)}))},[t,g,p,n,l,d]),E=De(S=>dE(S),[]),w=De(S=>{f(!0),S.currentTarget.setSelectionRange(S.currentTarget.value.length,S.currentTarget.value.length)},[]),C=c.useCallback(()=>{f(!1)},[]);c.useEffect(()=>{u||y(p.name.trim())},[p.name,u,y]);const x=hE(sh.MEAN_FIELD_NAME_TYPING);return h.jsx(Rr,{error:m?void 0:l(G["validation.unique-field-name"]),children:S=>h.jsx(H3,{children:h.jsx(ts,{...S,id:s,autoComplete:"off",testId:"field-name-edit-text-field",placeholder:a?l(G["field-settings.field-name-placeholder"]):r?l(G["field.default-field-name"]):void 0,value:p==null?void 0:p.name,onChange:jp,onKeyDown:E,onFocus:w,onBlur:C,size:1,ref:eo(i,b,x)})})})}),Am=Le.span.withConfig({displayName:"FieldNameView__FieldNameViewContainer",componentId:"sc-1wtq2ta-0"})(["color:",";"],U("color.text.subtlest","#626F86")),AL=({fieldId:e,contentId:t})=>{const{formatMessage:n}=Ee(),r=fe.useEqualSelector(o=>{const a=kt(o,{contentId:t,includeDeleted:!0}),s=Cn(a,e);return(s==null?void 0:s.name)||n(G["field.default-field-name"])});return h.jsx(Am,{children:r})},Nwt=Le(n2).withConfig({displayName:"FieldNameInlineEdit__StyledInlineEditWrapper",componentId:"sc-fa9n0u-0"})(["> "," > ","{flex-grow:1;display:flex;justify-content:center;> div{flex-grow:0;}}> "," > "," > div > "," > "," > div{border:none;background:none;input{font:",";padding:"," "," "," ",";color:",";}}> ",",> "," > "," > div > ","{padding:"," "," "," ",";}"],vo,Ha,vo,Ha,vo,H3,U("font.body.UNSAFE_small"),U("space.025"),U("space.050","4px"),U("space.025","2px"),U("space.050","4px"),Vn,Am,vo,Ha,Am,U("space.025"),U("space.050","4px"),U("space.025","2px"),U("space.050","4px")),Fwt=c.forwardRef(function({contentId:t,fieldId:n,showIcon:r,isReadonly:o,isSelected:a,hoverDeleteButton:s,selectedAdjacentCells:i},l){const d=c.useRef(void 0),{formatMessage:u}=Ee(),{showPanel:f}=lr(),{closeMenu:p}=os(),m=rt(),[g,v]=fe.useEqualSelector(w=>{const C=kt(w,{contentId:t,includeDeleted:!0}),x=Cn(C,n),S=mk(x.name,Fi(C,x));return[x,S]}),b=fe.useDispatch(),y=c.useCallback(()=>{b(wr()),b(vK({contentId:t,fieldId:n})),b(am({value:!0})),f("FieldSettingsPanel",{fieldId:n}),p(),m.sendDatabaseFieldUpdatedEvent({contentId:t,databaseContainer:We()})},[b,t,n,f,p,m]),E=!o;return h.jsxs(Ag,{ref:d.current,children:[r&&h.jsx(Wt,{isButton:!0,children:h.jsx(Ms,{type:g.type,label:So(g.type).label,noTooltip:!0})}),h.jsx(Nwt,{hideBorderOnFocus:!0,isDraggable:!1,canEdit:E,isSelected:a,markAsDeleted:s,selectedAdjacentCells:i,children:h.jsx(h.Fragment,{children:E?h.jsx(Rr,{error:v?void 0:u(G["validation.unique-field-name"]),children:()=>h.jsx(F3,{readView:()=>h.jsx(Wt,{minWidth:80,children:h.jsx(AL,{contentId:t,fieldId:n})}),editView:()=>h.jsx(Wt,{minWidth:80,children:h.jsx(Lwt,{contentId:t,fieldId:n,noValidation:!0,showPlaceholder:!0,ref:l})}),isEditing:!1,isReadOnly:!E,onIsEditingChange:y,value:g.name,onReset:jp,preserveEditWidth:!0})}):h.jsx(Wt,{minWidth:80,children:h.jsx(AL,{contentId:t,fieldId:n})})})})]})}),jwt=c.forwardRef(function({...t},n){return h.jsx(Fwt,{...t,ref:n})}),Vwt=({ascending:e,field:t,contentId:n,onChange:r})=>{const o=rt(),a=c.useCallback(i=>{i.stopPropagation();const l={fieldId:t.id,ascending:!e};r(l),Bp(o,l,Hd.FIELD_NAME,t.type,n)},[t.id,t.type,e,r,o,n]),s=c.useMemo(()=>Doe(!!e),[e]);return h.jsx(ht,{spacing:"compact",onClick:a,iconBefore:s,appearance:"subtle"})},Bwt=Le.div.withConfig({displayName:"FieldNameWithActions__Description",componentId:"sc-18lhb1t-0"})(["display:flex;flex-direction:column;row-gap:",";white-space:pre-line;padding:"," ",";","{font:",";color:",";}"],U("space.025","2px"),U("space.200","16px"),U("space.300","24px"),Ag,U("font.body.small"),U("color.text","#172B4D")),Dg=Le.div.withConfig({displayName:"FieldNameWithActions__FieldNameInlineContainer",componentId:"sc-18lhb1t-1"})(["display:flex;flex-grow:1;align-items:center;justify-content:space-between;cursor:pointer;> ","{> :first-child{flex-shrink:0;position:absolute;left:",";top:calc(50% - ",");z-index:1;pointer-events:none;}> ",":nth-child(2){margin-left:0;width:100%;height:100%;position:absolute;left:0;top:0;justify-content:center;> ","{flex-grow:1;display:flex;","{flex-grow:1;display:flex;justify-content:center;> div{padding-right:",";justify-content:center;}}}","{white-space:pre;overflow:hidden;display:block;text-overflow:ellipsis;","}",","," > div > input,","{margin-left:"," !important;}> ","{border-bottom:none !important;border-bottom-left-radius:unset;border-bottom-right-radius:unset;}}}"],Ag,({isFirstInRow:e})=>e?"20px":"8px",U("space.100"),Kt,vo,Ha,({hasSorting:e,isLastInRow:t})=>e&&t?"85px":t?"68px":e?"52px":"30px",Am,({hideText:e})=>e&&un(["display:none;"]),Am,H3,gD,({isFirstInRow:e,visualRefreshIcons:t})=>e?t?"44px":"40px":t?"32px":"28px",Bb),Dm=Le.div.attrs({id:"field-name-with-actions-container"}).withConfig({displayName:"FieldNameWithActions__FieldNameWithActionsContainer",componentId:"sc-18lhb1t-2"})(["display:flex;flex-grow:1;z-index:1;column-gap:2px;",";",";*{min-width:0;}"],({isIndentedMenu:e})=>e&&un(["> :last-child{margin-right:"," !important;}"],U("space.500","40px")),({isSelected:e,isSoftSelected:t})=>e&&!t&&un(["background-color:",";"],U("color.background.selected","#E9F2FF"))),qse=c.forwardRef(function({contentId:t,fieldId:n,isReadonly:r,couldEditFields:o,isDragging:a=!1,isSelected:s,isSoftSelected:i,hoverDeleteButton:l,isFirstInRow:d,isLastInRow:u,selectedAdjacentCells:f},p){var le;const{view:m,setViewChange:g}=at(),[v,b]=Ti(),y=Pwt(),[E,w]=c.useState(null),C=(le=Qp(E))==null?void 0:le.width,[x,S]=c.useState(!1),I=rt(),[A,T,O]=fe.useEqualSelector(j=>{const Z=kt(j,{contentId:t,includeDeleted:!0}),K=Cn(Z,n),oe=Object.values(Z.entriesById).some(pe=>n in pe.values),X=!mk(K.name,Fi(Z,K));return[K,X,oe]}),D=Xr()?sa.EMBED_DATABASE:sa.STANDALONE_DATABASE;!x&&A.type===ae.ENTRY_LINK&&O&&!A.settings.databaseId&&!A.settings.contentId&&(I.sendEntryLinkFieldAnalytics({contentId:t,source:"fieldNameWithActions",fieldId:A.id,databaseContainer:D}),S(!0)),c.useEffect(()=>{if(!A.type||A.type!==ae.JIRA_ISSUE)return;const j=A.settings.jiraServerId,Z=A.settings.cloudId;j&&!Z&&I.sendDatasourcesDBMigrationConvertIdFailedEvent({source:"FieldNameWithActions",missingField:"cloudId",serverId:j,contentId:t,databaseContainer:D}),!j&&Z&&I.sendDatasourcesDBMigrationConvertIdFailedEvent({source:"FieldNameWithActions",missingField:"serverId",cloudId:Z,contentId:t,databaseContainer:D})},[I,D,t,A.settings.cloudId,A.settings.jiraServerId,A.type]);const $=c.useMemo(()=>h.jsxs(Bwt,{children:[h.jsx(Coe,{field:A,isBold:!0}),h.jsx("div",{children:A.description})]}),[A]),L=vt("databases-frontend-multi-sort"),F=c.useCallback(j=>{g(L?{type:It.VIEW_SORT_UPDATE_VALUE,fieldId:j.fieldId,ascending:j.ascending}:{type:It.VIEW_SORT,sort:j})},[L,g]),B=c.useMemo(()=>(L?m.settings.sorts:m.settings.sort?[m.settings.sort]:[]).find(Z=>Z.fieldId===A.id),[A.id,L,m.settings.sort,m.settings.sorts]),V=B!==void 0,Y=!!(A!=null&&A.description)&&(A.showDescription||A.showDescription===void 0),J=(C||0)<hk+20;!vt("databases-frontend-checkbox-field-type")&&A.type===ae.CHECKBOX&&(r=!0);const ce=vt("platform-visual-refresh-icons");return h.jsx(n2,{isInvalid:T,children:h.jsx(el,{isOpen:Y&&!y&&!a&&v,content:()=>$,placement:"bottom",trigger:j=>h.jsxs(Dm,{isSelected:s,isSoftSelected:i,isIndentedMenu:u&&o,...b,...j,ref:eo(j.ref,w),children:[h.jsx(Dg,{hasSorting:V,hideText:J,isFirstInRow:d,isLastInRow:u,isSelected:s,selectedAdjacentCells:f,visualRefreshIcons:ce,children:h.jsx(jwt,{fieldId:A.id,showIcon:!0,contentId:t,isSelected:s,hoverDeleteButton:l,isReadonly:r,selectedAdjacentCells:f,ref:p})}),!r&&h.jsx(Me,{alignBlock:"center",alignInline:"center",xcss:ie({paddingRight:"space.150"}),children:V&&h.jsx(Vwt,{ascending:B.ascending,field:A,onChange:F,contentId:t})})]}),zIndex:Ln.TOOLTIP,isTooltip:!0})})}),Tp=Le.div.withConfig({displayName:"styled__ButtonGroup",componentId:"sc-qjhl32-0"})(["display:flex;align-items:center;justify-content:",";width:",";column-gap:",";"],e=>e.align==="right"?"flex-end":e.align==="spaced"?"space-between":"flex-start",e=>e.noShrink?"max-content":"auto",e=>e.isCompact?"4px":"10px"),z3=42,Si=1,Is=`2px solid ${U("color.border","#091E4224")}`,Uwt=un(["display:grid;> thead,> tbody,> tfoot{&,> tr{display:contents;}}"]),Yse=Le.table.withConfig({displayName:"styled__SubtleTable",componentId:"sc-qjhl32-1"})(["border-collapse:separate;border-spacing:0;> thead,> tbody,> tfoot{border:none;display:contents;}> thead > tr{position:sticky;top:0;background:",";}> thead > tr{border-start-start-radius:",";border-start-end-radius:",";}> thead > tr > th{font:",";&.","{border:none;}}> tbody > tr > *{&.","{width:","px;background:",";border:none;}}> tfoot > tr > td{&:first-child{border-end-start-radius:",";}&:last-child{border-right:",";border-width:","px;border-end-end-radius:",";margin-right:1px;}}> * > tr > *{border:",";border-width:","px;}> thead + tbody > tr:first-child > *,tbody > tr + tr > *,tfoot > tr:first-child > *{border-top:none;}> * > tr > *{border-right:none;}> * > tr > .entry-number-table-header,> * > tr > .entry-number-table-data{border-right:",";border-width:","px;}> thead > tr:hover > th{background:",";}> thead > tr:hover > th.","{background:",";}"],U("elevation.surface","#FFFFFF"),Rn,Rn,U("font.heading.xxsmall"),zo,zo,Bi/2,U("elevation.surface","#FFFFF"),Rn,Is,Si,Rn,Is,Si,Is,Si,U("elevation.surface.hovered","#F1F2F4"),zo,U("elevation.surface","#FFFFFF"));Le.div.withConfig({displayName:"styled__FloatingButtonContainer",componentId:"sc-qjhl32-2"})(["background-color:",";border-radius:3px;box-shadow:0 4px 8px -2px ",",0 0 1px ",";box-sizing:border-box;button:not(:hover,:focus),a:not(:hover,:focus){background:",";}"],Ve,Vs,Bs,U("elevation.surface","#FFFFFF"));Le.div.withConfig({displayName:"styled__ErrorMessage",componentId:"sc-qjhl32-3"})(["color:",";white-space:pre-line;"],U("color.text.danger"));Le.div.withConfig({displayName:"styled__DropZone",componentId:"sc-qjhl32-4"})(["display:flex;flex-direction:column;border:2px dashed ",";border-radius:3px;background-color:",";transition:border 0.2s;"],e=>e.isDragActive?Vn:e.isHidden?"transparent":Ek,e=>e.isDragActive?gn:"transparent");const W3=Le(zte).withConfig({displayName:"DatabaseContentWrapper",componentId:"sc-6wvp91-0"})(["min-height:0;overflow:hidden;"]),Hwt=M({overflowX:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),zwt=M({margin:"var(--ds-space-300, 24px) 0 var(--ds-space-200, 16px) 0"}),Wwt=M({color:"var(--ds-text, #172B4D)",font:'var(--ds-font-heading-large, normal 500 24px/28px ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Ubuntu, system-ui, "Helvetica Neue", sans-serif)',letterSpacing:"normal",marginBlockStart:0,outline:"none"}),Gwt=M({display:"flex",alignItems:"flex-start",flexWrap:"wrap"}),qwt=M({flexWrap:"nowrap"}),Ywt=M({minWidth:0,maxWidth:"100%",flex:"1 0 auto",flexShrink:void 0,marginBlockEnd:"var(--ds-space-100, 8px)"}),Kwt=M({maxWidth:"100%",flex:"0 0 auto",marginBlockEnd:"var(--ds-space-100, 8px)",marginInlineStart:"auto",paddingInlineStart:"var(--ds-space-400, 32px)",whiteSpace:"nowrap",">":{textAlign:"right"}}),Xwt=M({flexShrink:1}),Jwt=ie({marginBlockStart:"space.200"}),Zwt=({children:e})=>k("div",{css:zwt},e),Qwt=_.forwardRef(({children:e,id:t,truncateTitle:n},r)=>k("h1",{css:[Wwt,n&&Hwt],ref:r,tabIndex:-1,id:t},e)),eCt=({children:e,truncateTitle:t})=>k("div",{css:[Gwt,t&&qwt]},e),tCt=({children:e,truncateTitle:t})=>k("div",{css:[Ywt,t&&Xwt]},e),nCt=({children:e})=>k("div",{css:Kwt},e),rCt=({children:e})=>k(_e,{xcss:Jwt},e),G3=({innerRef:e,breadcrumbs:t,actions:n,bottomBar:r,children:o,id:a,disableTitleStyles:s=!1,truncateTitle:i=!1})=>_.createElement(Zwt,null,t,_.createElement(eCt,{truncateTitle:i},_.createElement(tCt,{truncateTitle:i},s?o:_.createElement(Qwt,{ref:e,truncateTitle:i,id:a},o)),n&&_.createElement(nCt,null,n)),r&&_.createElement(rCt,null," ",r," "));function DL(e=0){return+e<0?0:e}function OL(e,t){const n=DL(e),r=DL(t);return r&&r<n?`${r}+`:n===1/0?"":n.toString()}const ML={root:"_2rkopd34 _18zr12x7 _1e0c116y _1o9zidpf _1kz6184x",added:"_bfhk1bay",default:"_bfhklecj",important:"_bfhk1v7l",primary:"_bfhkomb0",primaryInverted:"_bfhkvuon",removed:"_bfhktaeo"},$L={root:"_2rkogqwt _18zr1b66 _1e0c116y _vchhusvi _1ul91ejb _1bah1h6o _1o9zidpf _1kz6184x",added:"_bfhkmv6i _syaz1fxt",default:"_bfhk1fkg _syazwwip",important:"_bfhk1366 _syazwwip",primary:"_bfhk1ymo _syazwwip",primaryInverted:"_bfhkvuon _syaz1e6v",removed:"_bfhk1gly _syaz1fxt"},Ap=c.memo(function({appearance:t="default",children:n=0,max:r=99,style:o,testId:a}){return Pe("platform-component-visual-refresh")?c.createElement("span",{"data-testid":a,style:{background:o==null?void 0:o.backgroundColor,color:o==null?void 0:o.color},className:Ye([$L.root,$L[t]])},c.createElement(Gt,{size:"small",align:"center",color:"inherit"},typeof n=="number"&&r?OL(n,r):n)):c.createElement("span",{"data-testid":a,style:{backgroundColor:o==null?void 0:o.backgroundColor,color:o==null?void 0:o.color},className:Ye([ML.root,ML[t]])},c.createElement(Gt,{size:"UNSAFE_small",align:"center",color:o!=null&&o.color?"inherit":oCt[t]},typeof n=="number"&&r?OL(n,r):n))});Ap.displayName="Badge";const oCt={added:"color.text.success",default:"color.text",important:"color.text.inverse",primary:"color.text.inverse",primaryInverted:"color.text.brand",removed:"color.text.danger"},aCt=ie({paddingBottom:"space.100",paddingLeft:"space.050",marginLeft:"space.050"}),sCt=({hasNoFields:e,openViewSettingsPanel:t})=>{const{formatMessage:n}=Ee(),{view:r}=at(),{activePanelSetting:o}=rf(),{isPanelVisible:a,hidePanel:s}=lr(),i=xg(r.settings.layout.type,"medium"),l=c.useCallback(v=>a("ViewSettingsPanel")&&o===v,[o,a]),d=c.useCallback(v=>{l(v)?s():t(v??null)},[l,t,s]),u=vt("databases-frontend-multi-sort"),f=u&&r.settings.sorts.length>0||!u&&!!r.settings.sort,p=vt("databases-frontend-nested-filters"),m=r.settings.filter,g=m?m3(m,p):0;return h.jsxs(Me,{space:"space.100",shouldWrap:!0,xcss:aCt,children:[h.jsx(ht,{spacing:"compact",appearance:"subtle",isSelected:l(Ct.LAYOUT),iconBefore:i.icon,onClick:()=>d(Ct.LAYOUT),id:"view-settings-layout-button",testId:"view-settings-layout-button","aria-current":l(Ct.LAYOUT)?"true":void 0,children:n(Ae["view-settings.layout.layout-text"],{layoutType:n(i.label)})}),h.jsx(ht,{spacing:"compact",appearance:"subtle",isSelected:l(Ct.FILTER)||!!m&&g>0,iconBefore:h.jsx(UE,{label:""}),onClick:()=>d(Ct.FILTER),id:"view-settings-filter-button",testId:"view-settings-filter-button","aria-current":l(Ct.FILTER)?"true":void 0,children:h.jsxs(Me,{alignBlock:"center",space:"space.050",children:[n(Ae["view-settings.filter.filter-text"]),m&&g>0&&h.jsx(Ap,{style:{backgroundColor:U("color.background.accent.blue.subtlest.hovered","#CCE0FF"),color:U("color.text","#172B4D")},testId:"filters-badge",children:g})]})}),h.jsx(ht,{spacing:"compact",appearance:"subtle",isSelected:l(Ct.SORT)||f,isDisabled:e,iconBefore:h.jsx(az,{label:"",spacing:"none"}),onClick:()=>d(Ct.SORT),testId:"view-settings-sort-button",id:"view-settings-sort-button","aria-current":l(Ct.SORT)?"true":void 0,children:u?h.jsxs(Me,{alignBlock:"center",space:"space.050",children:[n(Ae["view-settings.sort.sort-text"]),f&&h.jsx(Ap,{style:{backgroundColor:U("color.background.accent.blue.subtlest.hovered","#CCE0FF"),color:U("color.text","#172B4D")},testId:"sorts-badge",children:r.settings.sorts.length})]}):n(Ae["view-settings.sort.sort-text"])}),h.jsx(ht,{spacing:"compact",appearance:"subtle",iconBefore:h.jsx(KI,{label:"",spacing:"none"}),isSelected:l(Ct.FIELDS)||!!r.settings.fields,isDisabled:e,onClick:()=>d(Ct.FIELDS),testId:"view-settings-hide-field-button",id:"view-settings-hide-field-button","aria-current":l(Ct.FIELDS)?"true":void 0,children:h.jsxs(Me,{alignBlock:"center",space:"space.050",children:[n(Ae["view-settings.hide-field.field-text"]),r.settings.fields&&h.jsx(Ap,{style:{backgroundColor:U("color.background.accent.blue.subtlest.hovered","#CCE0FF"),color:U("color.text","#172B4D")},testId:"fields-badge",children:i1(r.settings).length})]})})]})},Kse=c.createContext(null),Xse=c.createContext(null),Jse=c.createContext(null),iCt={componentName:"tabs",packageName:"@atlaskit/tabs",packageVersion:"18.0.0"},RL=({tabPanel:e,index:t,isSelected:n,tabsId:r})=>e&&c.createElement(Jse.Provider,{value:{role:"tabpanel",id:`${r}-${t}-tab`,hidden:n?void 0:!0,"aria-labelledby":`${r}-${t}`,tabIndex:n?0:-1},key:t},e),lCt=e=>{const{shouldUnmountTabPanelOnChange:t=!1,selected:n,defaultSelected:r,onChange:o,id:a,analyticsContext:s,children:i,testId:l}=e,[d,u]=c.useState(n||r||0),f=n===void 0?d:n,p=c.Children.toArray(i).filter(w=>!!w),[m,...g]=p,v=c.useRef(new Set([f]));v.current.has(f)||v.current.add(f);const b=c.useCallback((w,C)=>{o&&o(w,C),u(w)},[o]),y=KS({fn:b,action:"clicked",analyticsData:s,...iCt}),E=t?RL({tabPanel:g[f],index:f,isSelected:!0,tabsId:a}):Array.from(v.current).map(w=>RL({tabPanel:g[w],index:w,isSelected:w===f,tabsId:a}));return c.createElement("div",{"data-testid":l,className:Ye(["_1e0c1txw _p12f1osq _1tkeidpf _i0dl1osq _2lx21bp4 _16jlkb7n","_1c3y1txw _ftfaidpf _18i0kb7n _185bglyw"])},c.createElement(Xse.Provider,{value:{selected:f,onChange:y,tabsId:a}},m),c.createElement(c.Fragment,null,E))},cCt=()=>{const e=c.useContext(Kse);if(e==null||typeof e>"u")throw Error("@atlaskit/tabs: A Tab must have a TabList parent.");return e},dCt=()=>{const e=c.useContext(Xse);if(e===null||typeof e>"u")throw Error("@atlaskit/tabs: A TabList must have a Tabs parent.");return e},cTt=()=>{const e=c.useContext(Jse);if(e===null||typeof e>"u")throw Error("@atlaskit/tabs:  A TabPanel must have a Tabs parent.");return e},uCt=({children:e})=>{const{tabsId:t,selected:n,onChange:r}=dCt(),o=c.createRef(),a=c.Children.toArray(e).filter(Boolean),s=a.length,i=c.useCallback(u=>{var f;const p=(f=o.current)===null||f===void 0?void 0:f.querySelector(`[id='${t}-${u}']`);p&&p.focus(),r(u)},[t,o,r]),l=c.useCallback(u=>{if(!["ArrowRight","ArrowLeft","Home","End"].includes(u.key))return;u.preventDefault();const f=s-1;if(["Home","End"].includes(u.key)){const v=u.key==="Home"?0:f;i(v);return}const p=parseInt(u.currentTarget.getAttribute("aria-posinset")||"0")-1,m=u.key==="ArrowRight"?1:-1;let g=p+m;(g<0||g>=s)&&(g=g<0?f:0),i(g)},[s,i]),d=c.useCallback(({tab:u,isSelected:f,index:p})=>c.createElement(Kse.Provider,{value:{onClick:()=>r(p),onKeyDown:l,"aria-setsize":s,role:"tab",id:`${t}-${p}`,"aria-posinset":p+1,"aria-selected":f,"aria-controls":`${t}-${p}-tab`,tabIndex:f?0:-1},key:p},u),[s,l,r,t]);return c.createElement("div",{role:"tablist",ref:o,className:Ye(["_1e0c1txw _kqswh2mm _85i5ze3t _1q51ze3t _y4tize3t _bozgze3t",Pe("platform-component-visual-refresh")?"_k48p1wq8 _ahbqx0bf _gpbcidpf _10vzidpf _1mmwidpf _15plidpf _7hip15vq _1fud15vq _bb0mh2mm _1quzjjyb _rzxytlke _1ofh12x7 _pryi12x7 _1a85u2gc _rmpau2gc _1dze1l2s _1tms1q9c _fiizidpf _1xrmidpf _xyihidpf _166qidpf _1lzu1ec3 _24g71kw7 _140sidpf _lycustnw _15d8b3bt _1fztidpf _wd7eu2gc _1olcu2gc _1oazdud1 _w9ewidpf _170tidpf _y1g1idpf _1nvfidpf _1b8d1ec3 _1n121kw7 _7p9oidpf _o2e1stnw _16u6b3bt _1yk1idpf _1lbou2gc _1c9uu2gc _1i201ouy _bppridpf _1mbxidpf _kn0bidpf _wsgdidpf _rsmz174y _1m0e1kw7 _93pdidpf _1sglstnw _1ksob3bt _1p9sidpf _1qa1u2gc _1jjcu2gc _fiem1ldt _pascidpf _eid3idpf _zr3eidpf _fntnidpf _1mp41kw7 _kfgte4h9 _1cs8stnw _1rushloo _1kt9b3bt _1fkridpf _1enwidpf _z5wtu2gc":"_k48p1wq8 _ahbqx0bf _gpbcidpf _10vzidpf _1mmwidpf _15plidpf _7hip15vq _1fud15vq _bb0mh2mm _1quzjjyb _rzxytlke _1ofh12x7 _pryi12x7 _1a85u2gc _rmpau2gc _1dze1l2s _1tms1q9c _fiizidpf _1xrmidpf _xyihidpf _166qidpf _17hygqwt _1lzu990c _24g71kw7 _140sidpf _lycustnw _15d8b3bt _1fztidpf _wd7eu2gc _1olcu2gc _1oazdud1 _w9ewidpf _170tidpf _y1g1idpf _1nvfidpf _1jakgqwt _1b8d990c _1n121kw7 _7p9oidpf _o2e1stnw _16u6b3bt _1yk1idpf _1lbou2gc _1c9uu2gc _1i201ouy _bppridpf _1mbxidpf _kn0bidpf _wsgdidpf _9r9ugqwt _rsmz1gcm _1m0e1kw7 _93pdidpf _1sglstnw _1ksob3bt _1p9sidpf _1qa1u2gc _1jjcu2gc _fiem1ldt _pascidpf _eid3idpf _zr3eidpf _fntnidpf _rfx3gqwt _1mp41kw7 _kfgt1bk5 _1cs8stnw _1rushloo _1kt9b3bt _1fkridpf _1enwidpf _z5wtu2gc"])},a.map((u,f)=>d({tab:u,index:f,isSelected:f===n})))},fCt=({handleAddView:e})=>{const{formatMessage:t}=Ee(),n=c.useCallback(()=>{e("databaseViewTabs")},[e]);return h.jsx(Zr,{position:"bottom",content:t(Ae["views.add-view-label"]),children:h.jsx(ht,{appearance:"subtle",onClick:n,iconBefore:h.jsx(pD,{LEGACY_size:"medium",label:t(Ae["views.add-view-label"])}),testId:"add-view-button"})})};var q3={},Og={};Object.defineProperty(Og,"__esModule",{value:!0});Og.default=void 0;var pCt=Zse(c),mCt=Zse(Oe);function Zse(e){return e&&e.__esModule?e:{default:e}}const Qse=e=>pCt.default.createElement(mCt.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M1 8h12.75m-4.5-5 5 5-5 5"/>'},e));Qse.displayName="ArrowRightIcon";Og.default=Qse;var l2={};Object.defineProperty(l2,"__esModule",{value:!0});var hCt=l2.default=void 0,gCt=eie(c),vCt=je,bCt=eie(Og);function eie(e){return e&&e.__esModule?e:{default:e}}const tie=e=>gCt.default.createElement(vCt.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M11.793 5.793a1 1 0 0 0 0 1.414L15.586 11H6a1 1 0 0 0 0 2h9.586l-3.793 3.793a1 1 0 0 0 0 1.414c.39.39 1.024.39 1.415 0l5.499-5.5a1 1 0 0 0 .293-.679v-.057a1 1 0 0 0-.293-.678l-5.499-5.5a1 1 0 0 0-1.415 0"/></svg>'},e,{newIcon:bCt.default}));tie.displayName="ArrowRightIcon";hCt=l2.default=tie;Object.defineProperty(q3,"__esModule",{value:!0});var Y3=q3.default=void 0,yCt=K3(c),ECt=K3(Og),wCt=K3(l2);function K3(e){return e&&e.__esModule?e:{default:e}}const nie=e=>yCt.default.createElement(ECt.default,Object.assign({LEGACY_fallbackIcon:wCt.default},e));nie.Name="ArrowRightIconMigration";Y3=q3.default=nie;var X3={};Object.defineProperty(X3,"__esModule",{value:!0});var Om=X3.default=void 0,CCt=J3(c),_Ct=J3(qh),xCt=J3(jy);function J3(e){return e&&e.__esModule?e:{default:e}}const rie=e=>CCt.default.createElement(_Ct.default,Object.assign({LEGACY_fallbackIcon:xCt.default},e));rie.Name="EditIconMigration";Om=X3.default=rie;var Z3={},c2={};Object.defineProperty(c2,"__esModule",{value:!0});var SCt=c2.default=void 0,kCt=oie(c),ICt=je,TCt=oie(_g);function oie(e){return e&&e.__esModule?e:{default:e}}const aie=e=>kCt.default.createElement(ICt.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" d="M10 19v-4.5a2 2 0 1 1 4 0V19h4a1 1 0 0 0 1-1v-7.831l-6.293-6.296a1 1 0 0 0-1.414 0L5 10.169V18a1 1 0 0 0 1 1zm11-6.83V18a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-5.83l-.04.04c-.39.39-1.03.39-1.42 0s-.39-1.03 0-1.42l8.339-8.331a3 3 0 0 1 4.242 0l8.339 8.331c.39.39.39 1.03 0 1.42s-1.03.39-1.42 0z"/></svg>'},e,{newIcon:TCt.default}));aie.displayName="HomeIcon";SCt=c2.default=aie;Object.defineProperty(Z3,"__esModule",{value:!0});var sie=Z3.default=void 0,ACt=Q3(c),DCt=Q3(_g),OCt=Q3(c2);function Q3(e){return e&&e.__esModule?e:{default:e}}const iie=e=>ACt.default.createElement(DCt.default,Object.assign({LEGACY_fallbackIcon:OCt.default},e));iie.Name="HomeIconMigration";sie=Z3.default=iie;var eO={},d2={};Object.defineProperty(d2,"__esModule",{value:!0});d2.default=void 0;var MCt=lie(c),$Ct=je,RCt=lie(Sg);function lie(e){return e&&e.__esModule?e:{default:e}}const cie=e=>MCt.default.createElement($Ct.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><circle cx="12" cy="19" r="2"/><circle cx="12" cy="12" r="2"/><circle cx="12" cy="5" r="2"/></g></svg>'},e,{newIcon:RCt.default}));cie.displayName="MoreVerticalIcon";d2.default=cie;Object.defineProperty(eO,"__esModule",{value:!0});var die=eO.default=void 0,PCt=tO(c),LCt=tO(Sg),NCt=tO(d2);function tO(e){return e&&e.__esModule?e:{default:e}}const uie=e=>PCt.default.createElement(LCt.default,Object.assign({LEGACY_fallbackIcon:NCt.default},e));uie.Name="ShowMoreVerticalIconMigration";die=eO.default=uie;const nO=({isOpen:e,defaultOpen:t,onOpenChange:n,children:r,...o})=>{const[a,s]=Mh(t??!1,e),i=De(l=>{s(l.isOpen),n==null||n(l)},[n,s]);return h.jsx(q1,{isOpen:a,onOpenChange:i,...o,children:r})},FCt=Re(qa).withConfig({displayName:"DropdownMenu__StyledDropdownItemGroup",componentId:"sc-8n1z12-0"})(["&:first-child{border-top:none;}"]),Gl=({...e})=>_.Children.toArray(e.children).filter(t=>!!t).length===0?null:h.jsx(FCt,{hasSeparator:!0,...e});Re(ISe).withConfig({displayName:"DropdownMenu__StyledDropdownItemCheckboxGroup",componentId:"sc-8n1z12-1"})(["&:first-child{border-top:none;}"]);Re(DSe).withConfig({displayName:"DropdownMenu__StyledDropdownItemRadioGroup",componentId:"sc-8n1z12-2"})(["&:first-child{border-top:none;}"]);const PL=({item:e})=>{var n;const t=c.useMemo(()=>{var o;const r=(o=e.disableConditions)==null?void 0:o.find(a=>a.isConditionActive);return r?r.message:""},[e.disableConditions]);return h.jsx(Zr,{content:t,position:"right",ignoreTooltipPointerEvents:!0,testId:"view-actions-tooltip",children:h.jsx(er,{onClick:e.onClick,isDisabled:!!((n=e.disableConditions)!=null&&n.some(r=>r.isConditionActive)),testId:`view-actions-${e.id}`,children:h.jsxs(Me,{alignBlock:"center",space:"space.150",children:[e.icon,e.name]})})},e.id)},rO=Re(ht).withConfig({displayName:"HoverButton",componentId:"sc-ytf3st-0"})(e=>`
  &&& {
    &:hover {
      background: ${e.$isActive?U("color.background.accent.blue.subtlest","#E9F2FF"):U("color.background.neutral.subtle.pressed","#091E4224")};
    }
    opacity: ${e.$isViewActionsOpen?"1":"0"};
    // overridden in ViewCard on hover
    width: ${e.$isViewActionsOpen?"32px":"1px"};
    padding: 0px;
    ${e.$isViewActionsOpen&&`
      background: ${e.$isViewActive?U("color.background.accent.blue.subtlest","#E9F2FF"):U("color.background.neutral.subtle.pressed","#091E4224")};
    `}
  }
`),fie=({contentId:e,view:t,isViewActive:n,isOpen:r,setIsViewActionsOpen:o,isDefault:a,isReadonly:s,openViewSettingsPanel:i,handleCloseViewPicker:l,isTabMode:d=!1,savedViews:u,handleReorder:f,isUnsavedView:p,isRightmostTab:m=!1,rightmostTabIndex:g})=>{const v=rt(),{formatMessage:b}=Ee(),{setViewId:y}=at(),E=fe.useDispatch(),w=fe.useEqualSelector(B=>Xe(B,{contentId:e})),C=n3(e),x=xre(e),S=c.useCallback(async B=>{B.preventDefault(),B.stopPropagation(),o(!1),await C(t)?v.sendViewLinkCopiedEvent({contentId:e,databaseContainer:We(),source:"databaseViewActionsMenu",viewId:t.id}):pu("failed-to-copy-error",b(Ae["view-actions.failed-to-copy-error"]))},[v,e,b,C,o,t]),I=c.useCallback(B=>{B.preventDefault(),B.stopPropagation(),o(!1),l==null||l(),E(pt(e,"main",{type:ye.SET_DEFAULT_SAVED_VIEW,viewId:t.id})),tn.setMessage(b(Ae["view-actions.views-make-default-flag-body"],{viewName:t.name}),{id:"default-view-changed",type:"success",hideAfter:3e3,showCloseButton:!0}),v.sendDefaultViewSetEvent({contentId:e,databaseContainer:We(),source:"databaseViewActionsMenu",viewId:t.id})},[v,e,E,b,l,o,t.id,t.name]),A=c.useCallback(B=>{B.event.stopPropagation(),o(B.isOpen)},[o]),T=c.useCallback(()=>{i(Ct.OVERVIEW),y(t.id),l==null||l(),v.sendDatabaseEditViewEvent({contentId:e,databaseContainer:We(),source:"databaseViewActionsMenu",viewId:t.id})},[v,e,l,i,y,t.id]),O=d?ht:rO,D=d?Ws:die,$=Ya(({triggerRef:B,...V})=>{const Y=O===ht?{}:{$isActive:n,$isViewActionsOpen:r};return h.jsx(O,{...V,appearance:"subtle",iconBefore:h.jsx(D,{label:b(Ae["view-actions.views-more-label"])}),ref:B,spacing:"compact",...Y,isSelected:d&&r,className:"view-actions-menu-trigger-button"})},[O,D,b,n,r,d]),L=c.useMemo(()=>{const B=b(Ae["view-actions.edit-view-text"]),V=b(Ae["view-actions.views-make-default-text"]),Y=b(Ae["view-settings.copy-link"]),J=b(Ae["view-actions.delete-view-delete-button"]);return[!s&&{id:"edit-view",name:B,onClick:T,icon:h.jsx(Om,{spacing:"spacious",label:B})},du()&&!p&&!s&&{id:"make-default",name:V,onClick:I,icon:h.jsx(sie,{spacing:"spacious",label:V}),disableConditions:[{isConditionActive:a,message:b(Ae["view-actions.views-make-default-tooltip-text"])}]},{id:"copy-link",name:Y,onClick:S,icon:h.jsx(Jr,{spacing:"spacious",label:Y})},w.views.length>1&&!p&&!s&&{id:"delete",name:J,onClick:()=>x(t.id,"databaseViewActionsMenu"),icon:h.jsx(Ui,{spacing:"spacious",label:J})}].filter(Boolean)},[w.views.length,b,S,x,T,I,a,s,p,t]),F=c.useMemo(()=>{const B=b(Ae["view-actions.move-left"]),V=b(Ae["view-actions.move-right"]),Y=u==null?void 0:u.findIndex(z=>z.id===t.id),J=Y===0;return d&&!p&&!s?[{id:"move-left",name:B,onClick:()=>Y!==void 0&&(f==null?void 0:f(Y,(m&&g?g:Y)-1)),icon:h.jsx(_D,{spacing:"spacious",label:B}),disableConditions:[{isConditionActive:J,message:b(Ae["view-actions.move-left-tooltip-text"])}]},{id:"move-right",name:V,onClick:()=>Y!==void 0&&(f==null?void 0:f(Y,Y+1)),icon:h.jsx(Y3,{spacing:"spacious",label:V}),disableConditions:[{isConditionActive:m,message:b(Ae["view-actions.move-right-tooltip-text"])}]}].filter(Boolean):[]},[b,f,s,m,d,p,g,u,t.id]);return(d&&n||!d)&&h.jsxs(nO,{trigger:$,isOpen:r,onOpenChange:A,testId:"view-actions-dropdown-menu",children:[h.jsx(Gl,{children:L.map(B=>h.jsx(PL,{item:B},B.id))}),h.jsx(Gl,{hasSeparator:!0,children:F.map(B=>h.jsx(PL,{item:B},B.id))})]})},LL=ie({maxWidth:"175px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),jCt=({view:e,isDragging:t})=>{const n=c.useRef(null),[r,o]=c.useState(!1);c.useEffect(()=>{if(n.current){const{scrollWidth:l,clientWidth:d}=n.current;o(l>d)}},[e.name]);const{formatMessage:a}=Ee(),s=c.useMemo(()=>e.id===Wr.UNSAVED?a(G["view.unsaved-view"]):e.name,[a,e.id,e.name]),i=c.useMemo(()=>r&&!t?s:"",[r,t,s]);return r&&!t?h.jsx(Zr,{content:i,position:"bottom",testId:"view-name-tooltip",children:h.jsx(_e,{xcss:LL,ref:n,testId:"view-name-tab",children:s})}):h.jsx(_e,{xcss:LL,ref:n,testId:"view-name-tab",children:s})},VCt=ie({paddingLeft:"space.075",paddingRight:"space.100",alignItems:"center"}),BCt=ie({paddingRight:"space.0"}),UCt=ie({overflow:"visible !important"}),pie=c.createContext(null),HCt=(e,t,n)=>({type:"tab",view:e,index:t,instanceId:n}),NL=c.memo(function({view:t,contentId:n,isActive:r,isDefault:o,isReadonly:a,openViewSettingsPanel:s,showViewSettings:i=!0,savedViews:l,handleReorder:d,closestEdge:u,setClosestEdge:f,draggedOverIndex:p,setDraggedOverIndex:m,index:g,isUnsavedView:v,isRightmostTab:b,rightmostTabIndex:y}){const[E,w]=c.useState(!1),C=c.useRef(null),x=c.useContext(pie),[S,I]=c.useState(!1);c.useEffect(()=>{if(v||a)return;const O=C.current,D=HCt(t,g,x);return ir(Cc({element:O,getInitialData:()=>D,onDragStart:()=>I(!0),onDrop:()=>I(!1)}),ju({element:O,getData({input:$}){return Lh(D,{element:O,input:$,allowedEdges:["left","right"]})},getIsSticky:()=>!0,canDrop:({source:$})=>$.data.instanceId===x&&$.data.type==="tab"&&$.data.content!==t,onDragEnter:()=>{},onDragLeave:()=>f(null),onDrop:()=>f(null),onDrag({self:$,source:L}){if(L.element===O){f(null);return}const B=ua($.data);m(g);const V=L.data.index;if(typeof V!="number")return;const Y=g===V-1,J=g===V+1;if(Y&&B==="right"||J&&B==="left"){f(null);return}f(B)}}))},[g,x,f,m,v,t,a]),Tg(()=>w(!1),void 0,['[data-testid="view-actions-dropdown-menu--content"]','[data-testid="view-actions-dropdown-menu--trigger"]']);const A=c.useCallback(()=>xg(t.settings.layout.type,"medium",o,!1,v).icon,[o,v,t.settings.layout.type]),T=cCt();return h.jsx(_e,{ref:C,xcss:UCt,...T,children:h.jsxs(_e,{xcss:ie({paddingBottom:"space.025",paddingTop:"space.025",opacity:S?"0.4":"1",position:"relative",":hover":{backgroundColor:"color.background.neutral"}}),children:[h.jsxs(Me,{xcss:[VCt,r&&i&&BCt],space:"space.100",children:[h.jsx(A,{}),h.jsx(jCt,{view:t,isDragging:S}),i&&r&&h.jsx(fie,{contentId:n,view:t,isViewActive:r,isOpen:E,setIsViewActionsOpen:w,isDefault:o,isReadonly:a,openViewSettingsPanel:s,isTabMode:!0,savedViews:l,handleReorder:d,isUnsavedView:v,isRightmostTab:b,rightmostTabIndex:y})]}),!v&&p===g&&u&&h.jsx(_e,{testId:"drop-indicator",children:h.jsx(nY,{edge:u,gap:b&&u==="right"?U("space.100","8px"):g===0&&u==="left"?U("space.negative.100","-8px"):U("space.200","16px")})})]})})});function zCt(){return Symbol("instance-id")}const FL=Re.div.withConfig({displayName:"ViewTabs__VisuallyHidden",componentId:"sc-1nnuhu3-0"})(["visibility:hidden;position:absolute;"]),WCt=({contentId:e,defaultView:t,isReadonly:n,openViewSettingsPanel:r,handleAddView:o,showViewSettings:a=!0,ViewPicker:s,isViewsMenuOpen:i,setIsViewsMenuOpen:l})=>{const[d]=c.useState(zCt),{view:u,setViewId:f,unsavedView:p}=at(),m=fe.useDispatch(),g=rt(),{hidePanel:v}=lr(),[b,y]=c.useState(null),[E,w]=c.useState(null),[C,x]=fe.useEqualSelector(ne=>{const Q=Xe(ne,{contentId:e});return[Q.views,Kb(Q)]}),S=c.useRef(null),I=c.useRef(null),[A,T]=c.useState(0),O=c.useMemo(()=>{const ne=Zm(()=>{S.current&&T(S.current.clientWidth)},50);return new ResizeObserver(()=>{ne()})},[]);c.useEffect(()=>{if(!C)return;const ne=performance.now();Rd(()=>{Br.getInstance().successWithDuration(Ur.DATABASE_TOOLBAR_TOOLBAR_RENDER_VIEWS,ne,performance.now())})},[C]),c.useEffect(()=>{const ne=S.current;return ne&&O.observe(ne),()=>{ne&&O.unobserve(ne)}},[O]);const D=c.useMemo(()=>C.map(ne=>ne.id===u.id?u:ne),[u,C]),$=c.useMemo(()=>{const ne={};return D.forEach(Q=>{ne[Q.id]=c.createRef()}),p&&(ne[p.id]=c.createRef()),ne},[D,p]),[L,F]=c.useState(0),[B,V]=c.useState(!1),[Y,J]=c.useState(!0),[z,ce]=c.useState(!1);c.useEffect(()=>{var se,ue,ve,ke;const ne=(se=I.current)==null?void 0:se.clientWidth,Q=(ve=(ue=$[u.id])==null?void 0:ue.current)==null?void 0:ve.clientWidth;if(A!=0&&ne!==void 0&&Q!==void 0){let ge=Q+ne,N=1,R=!1;if(p!==null&&$[p.id].current){const P=(ke=$[p==null?void 0:p.id].current)==null?void 0:ke.clientWidth;u.id!=p.id?(ge+=P??0,ge>A?J(!1):J(!0)):J(!0)}for(const P of D){const W=$[P.id].current;if(W)if(P.id!==u.id){if(ge+=W.clientWidth,ge>A)break;N++}else R=!0}F(N),V(!R),ce(D.length>N)}},[A,u.id,D,$,p]);const{formatMessage:le}=Ee(),j=C.findIndex(ne=>ne.id===u.id)+(p?1:0),Z=c.useCallback((ne,Q)=>{m(pt(e,"main",{type:ye.REORDER_SAVED_VIEW,viewId:ne,newIndex:Q})),g.sendDatabaseViewReorderedEvent({contentId:e,databaseContainer:We(),viewId:ne,source:"databaseViewTabs"})},[g,e,m]),K=c.useCallback((ne,Q)=>{if(b){const se=b==="right"?1:0;Z(C[ne].id,Q+se)}},[b,Z,C]),oe=c.useCallback((ne,Q)=>{Z(C[ne].id,Q+(Q>ne?1:0))},[Z,C]);c.useEffect(()=>da({canMonitor({source:ne}){return ne.data.instanceId===d},onDrop({source:ne,location:Q}){const se=Q.current.dropTargets[0];if(!se)return;const ue=se.data.view,ve=ne.data.view;if(ne.data.type!=="tab"||!ue||!ve)return;const ke=C.findIndex(N=>N.id===ve.id),ge=C.findIndex(N=>N.id===ue.id);if(B&&ue.id===u.id){const N=L-1;b==="right"?(Z(u.id,N),Z(ve.id,N+1)):Z(ve.id,N)}else K(ke,ge)}}),[u.id,Z,K,d,B,C,L,b]);const X=c.useCallback(ne=>{ne.id!==u.id&&(f(ne.id),Rd(()=>{v()})),g.sendDatabaseViewSelected({contentId:e,databaseContainer:We(),viewId:ne.id,source:"databaseViewTabs"})},[u.id,g,e,v,f]),pe=c.useCallback(ne=>{const Q=performance.now();X(p?ne===0?p:C[ne-1]:C[ne]),Rd(()=>{Br.getInstance().successWithDuration(Ur.DATABASE_TOOLBAR_VIEWS_CHANGE_VIEW,Q,performance.now())})},[X,C,p]),ee=Y?"div":FL;return h.jsxs(Me,{alignBlock:"center",grow:"fill",xcss:ie({overflow:"hidden"}),testId:"view-tabs-container",ref:S,children:[h.jsx(pie.Provider,{value:d,children:h.jsx(_e,{xcss:ie({width:"max-content"}),children:h.jsx(lCt,{id:"view-tabs",onChange:pe,selected:j,children:h.jsxs(uCt,{children:[p&&h.jsx(ee,{ref:$[p.id],children:h.jsx(NL,{view:p,contentId:e,isActive:p.id===u.id,isDefault:Xr(),isReadonly:n,openViewSettingsPanel:r,showViewSettings:a,savedViews:C,handleReorder:oe,closestEdge:b,setClosestEdge:y,draggedOverIndex:E,setDraggedOverIndex:w,index:0,isUnsavedView:!0,isRightmostTab:Y&&L===1},p.id)}),D.map((ne,Q)=>{const se=ne.id===u.id,ue=B?L-1:L,ve=L!=0&&(se||Q<ue)?"div":FL,ke=Xr()?p?!1:ne.id===(t??x).id:ne.id===x.id;return h.jsx(ve,{ref:$[ne.id],"data-testid":`view-tab-${Q+(p?1:0)}`,children:h.jsx(NL,{view:ne,contentId:e,isActive:se,isDefault:ke,isReadonly:n,openViewSettingsPanel:r,showViewSettings:a,savedViews:C,handleReorder:oe,closestEdge:b,setClosestEdge:y,draggedOverIndex:E,setDraggedOverIndex:w,index:Q,isRightmostTab:se&&B||Q===L-1,rightmostTabIndex:L-1})},`${ne.id}-${Q+(p?1:0)}`)})]})})})}),h.jsxs(Me,{ref:I,alignBlock:"center",children:[(!n||z)&&h.jsx(_e,{backgroundColor:"color.background.accent.gray.subtler",xcss:ie({width:"1px",height:"20px",borderRadius:"border.radius.050",marginRight:"space.050"})}),!n&&!z&&h.jsx(fCt,{handleAddView:o}),z&&h.jsx("div",{"data-testid":"view-picker-overflow",children:h.jsx(s,{contentId:e,canEditViews:!n,defaultView:t,isOpen:i,setIsOpen:l,handleAddView:o,openViewSettingsPanel:r,showViewSettings:a,tooltipContent:le(Ae["view.overflow-tooltip-text"],{n:C.length-L})})})]})]})};function mie({entry:e,field:t,value:n,database:r,text:o},{getState:a,dispatch:s}){const i=Wo(r,t,e,a());switch(t.type){case ae.JIRA_ISSUE_DETAILS:case ae.ENTRY_DETAILS:case ae.BACKLINK:case ae.PAGE_DETAILS:return null;case ae.PAGE_LABELS:return GCt({entry:e,field:t,database:r,text:o},{getState:a,dispatch:s}),null;case ae.PAGE_STATUS:return qCt({entry:e,field:t,value:n,database:r,text:o},{getState:a,dispatch:s}),null;case ae.TEXT:return[{type:t.type,delta:mE((i==null?void 0:i.value)??"",(n==null?void 0:n.value)??"")}];case ae.NUMBER:return[{type:t.type,value:n==null?void 0:n.value}];case ae.CHECKBOX:return[{type:t.type,value:n==null?void 0:n.value}];case ae.DATE:return[{type:t.type,value:n==null?void 0:n.value}];case ae.HYPERLINK:return fl({field:t,databaseValue:n});case ae.ENTRY_LINK:return fl({field:t,databaseValue:n});case ae.USER:return fl({field:t,databaseValue:n});case ae.JIRA_ISSUE:return fl({field:t,databaseValue:n});case ae.SELECT:return fl({field:t,databaseValue:n});case ae.PAGE_LINK:return fl({field:t,databaseValue:n});case ae.ATTACHMENT:return fl({field:t,databaseValue:n})}}const fl=({field:e,databaseValue:t})=>{if(!((a,s)=>(a==null?void 0:a.type)===s)(t,e.type))return[];const o=Array.isArray(t.value)?t.value:[t.value];return[{type:e.type,delta:{type:Be.SET_TO,value:o}}]},GCt=({entry:e,field:t,database:n,text:r},{getState:o,dispatch:a})=>{var s;(s=Lm({database:n,field:t,entry:e},o()))==null||s.map(i=>{var m;const l=n1(i,{},o())??[],d=((m=lde(r))==null?void 0:m.split(" "))||[],u=Tue(r)?[]:d,f=l.filter(g=>!u.includes(g)),p={add:[],remove:[]};u.forEach(g=>{const v=Tb({action:"select-option",option:{value:g,label:g}});v&&p.add.push(...v.add)}),f.forEach(g=>{const v=Tb({action:"deselect-option",option:{value:g,label:g}});v&&p.remove.push(...v.remove)}),t.settings.allowEdit&&ok(i,p,{getState:o,dispatch:a})})},qCt=({entry:e,field:t,database:n,value:r,text:o},{getState:a,dispatch:s})=>{var l;const i=r==null?void 0:r.value;(l=Nm({database:n,field:t,entry:e},a()))==null||l.map(d=>{const u=i&&r1(d,i,a());o&&t.settings.allowEdit&&(u==null?void 0:u.name)!==o&&sk(d,{name:o,color:ak},{getState:a,dispatch:s})})};function jL(e){const t=e.reduce((n,r)=>Math.max(r.length,n),0);return[...new Array(t)]}function YCt(e,t){if(!e)return"";if(t!==ae.USER)return ude(e,r=>FO(r,!1));let n="";for(const{type:r,node:o}of fde(e))if(r==="open"){const a=FO(o);a&&(n?n+=","+a:n=a)}return n}function VL({field:e,database:t,value:n,state:r,text:o}){return e?za({database:t,field:e,value:n},r):!o}function hie(e,t,n,r){switch(t.type){case ho.HTML:{const o=jL(t.content),a=t.content.map((s,i)=>{const l=kp(e,n.entryReferences[i]);return{isSelected:n.selectedRows[i]??!0,cols:o.map((d,u)=>{const f=s[u],p=Wl(e,n.fieldReferences[u]);let m,g;p&&(f?(g=dde(f,{database:e,field:p,entry:l},r),m=g.isSourceEmpty):g=zm(p.type));const v=p?!g||za({database:e,field:p,value:g},r):!0,b=g!=null&&g.value?Array.isArray(g==null?void 0:g.value)&&(g==null?void 0:g.value.length)>1:!1;return{text:YCt(f,p==null?void 0:p.type),value:g,isTargetEmpty:v,targetFieldId:p==null?void 0:p.id,targetEntryId:l==null?void 0:l.id,targetIsMulti:b,isSourceEmpty:m}})}});return{success:!0,result:{colCount:o.length,rows:a}}}case ho.CSV:{const o=XN.parse(t.content,{skipEmptyLines:!0}),a=jL(o.data),s=o.data.map((i,l)=>{const d=kp(e,n.entryReferences[l]);return{isSelected:n.selectedRows[l]??!0,cols:a.map((u,f)=>{const p=i[f]??"",m={type:ae.TEXT,value:p},g=Wl(e,n.fieldReferences[f]),v=g?cde({database:e,field:g,value:m},g.type,r):m,b=!!(g!=null&&g.settings.multi);return{text:p,value:v,isTargetEmpty:VL({field:g,database:e,value:m,state:r,text:p}),targetFieldId:g==null?void 0:g.id,targetEntryId:d==null?void 0:d.id,targetIsMulti:b,isSourceEmpty:void 0}})}});return{success:!0,result:{colCount:a.length,rows:s}}}case ho.TEXT:{const o=t.content,a=Wl(e,n.fieldReferences[0]),s=kp(e,n.entryReferences[0]),i={type:ae.TEXT,value:o},l=a?Bm({field:a,value:i},a.type,r):void 0,d=!!(a!=null&&a.settings.multi);return{success:!0,result:{colCount:1,rows:[{isSelected:!0,cols:[{text:o,value:l||i,isTargetEmpty:VL({field:a,database:e,value:l||i,state:r,text:o}),targetFieldId:a==null?void 0:a.id,targetEntryId:s==null?void 0:s.id,targetIsMulti:d,isSourceEmpty:void 0}]}]}}}default:return{success:!1,error:{tag:"UNKNOWN_FILE_TYPE",fileType:t.type}}}}const KCt=e=>{const t=JN(e);return gie(t).length>0},gie=e=>e.find("table").eq(0);function vie(e){var t;switch(e.type){case ho.HTML:{const n=JN(e.rawContent),r=gie(n),o=[...b2(r.length===0?n.find("tr"):r.find("> tr,> thead > tr,> tbody > tr,> tfoot > tr"))],a=(o.length===0?[n.find("th,td")]:o.map(s=>s.children("th,td"))).map(s=>[...b2(s)]).filter(s=>s.length>0);if(a.length===0){const s=n.find("p, span"),i=[...b2(s)].map(l=>l.text()).join(`
`);return s.length===0?{success:!1}:{success:!0,file:{name:e.name,mimeType:e.mimeType,rawContent:e.rawContent,size:e.size,type:ho.CSV,content:i}}}for(let s=0;s<a.length;s++){const i=a[s];for(const l of i)if(l){const d=i.indexOf(l),u=parseInt(l.attr("colspan")??"1");u>1&&i.splice(d+1,0,...new Array(u-1));const f=parseInt(l.attr("rowspan")??"1");if(f>1)for(let p=s+1;p<s+f;p++)(t=a[p])==null||t.splice(d,0,void 0)}}return{success:!0,file:{content:a,name:e.name,mimeType:e.mimeType,rawContent:e.rawContent,size:0,type:e.type}}}case ho.CSV:return{success:!0,file:{content:e.rawContent,name:e.name,mimeType:e.mimeType,rawContent:e.rawContent,size:e.size,type:e.type}};case ho.TEXT:return{success:!0,file:{content:e.rawContent,name:e.name,mimeType:e.mimeType,rawContent:e.rawContent,size:e.size,type:e.type}};default:return JE(e.type)}}function XCt(e){const t={name:"Pasted content (HTML)",mimeType:e.type,rawContent:e.rawContent,size:0,type:ho.HTML},n=vie(t);if(n.success)return n}function JCt(e){for(const t of e){const n=zae[t.type];if(t.rawContent){const r={name:`Pasted content (${n})`,mimeType:t.type,rawContent:t.rawContent,size:0,type:n},o=vie(r);if(o.success)return o}}}function ZCt(e){return e.find(t=>t.type==="text/html")}function QCt(e){return e.filter(t=>t.type!=="text/html")}function e_t(e){const t=ZCt(e);let n;if(t&&t.rawContent&&(n=XCt(t),n&&KCt(t.rawContent)))return n;const r=QCt(e),o=JCt(r);return o||(n!=null&&n.success?n:{success:!1,error:{tag:"PASTED_CONTENT_CANNOT_BE_READ"}})}async function t_t(e){const n=Array.from(e).filter(i=>i.kind==="string");if(n.length===0)return{success:!1,error:{tag:"UNEXPECTED_DATA_TYPE"}};const r=Object.keys(zae),o=n.filter(i=>r.includes(i.type));return o.length===0?{success:!1,error:{tag:"UNSUPPORTED_MIME_TYPE",fileType:n.map(i=>i.type).join(", ")}}:{success:!0,items:(await Promise.allSettled(o.map(async i=>{const l=i.type,d=await new Promise((u,f)=>{i.getAsString(p=>{p!==null?u(p):f("Failed to read content")})});return{type:l,rawContent:d}}))).filter(i=>i.status==="fulfilled").map(i=>i.value)}}function n_t(e,t,n,r,o,a){var p;const s=t.entryReferences[n],i=kp(o,s),l=t.fieldReferences[r],d=Wl(o,l);if(!d||!i)return[];const u=e!=null&&e.text&&((p=e.value)==null?void 0:p.type)!==d.type?Bm({database:o,field:d,value:{value:e.text,type:ae.TEXT}},d.type,a.getState()):e.value;return(mie({database:o,field:d,entry:i,value:u,text:e.text},a)||[]).map(m=>({type:ye.SET_VALUE,entryId:i.id,value:u,fieldId:d.id,change:m}))}const r_t=(e,t,n,r,o)=>{const a=kp(t,o);return{type:ye.ADD_ENTRY,entry:{...a,values:Object.fromEntries(n.fieldReferences.map((s,i)=>{var f,p,m;const l=Wl(t,s),d=(m=(p=(f=r.rows)==null?void 0:f[e])==null?void 0:p.cols)==null?void 0:m[i],u=(d==null?void 0:d.value)||{value:(d==null?void 0:d.text)||zm(ae.TEXT).value,type:ae.TEXT};return l!=null&&l.id&&u?[l.id,u]:[]}).filter(([s,i])=>s&&i))}}},o_t=(e,t,n,r,o,a)=>{let s=[];return n.fieldReferences.forEach((i,l)=>{var m,g,v;const d=Wl(t,i),u=(i==null?void 0:i.type)===Ns.CREATE,f=(v=(g=(m=r.rows)==null?void 0:m[e])==null?void 0:g.cols)==null?void 0:v[l];if(f===void 0)return;if(u&&d){const b={type:ye.ADD_FIELD,field:d,currentViewId:a};s.push(b)}const p=n_t(f,n,e,l,t,o);s=[...s,...p]}),s},a_t=(e,t)=>{const n=e.map(r=>r.id??r.label);return t.filter(r=>!n.includes(r))},s_t=(e,t)=>{const n={};return e.forEach((r,o)=>{var s,i;const a=Un(t,r.targetFieldId);if(a&&a.type===ae.SELECT&&((s=r.value)!=null&&s.value)){const l=a_t(a.settings.selectOptions,(i=r.value)==null?void 0:i.value);l.length>0&&(n[a.id]?(l.forEach(d=>n[a.id].newTags.add(d)),n[a.id].cellIndicesWithNewTags.push(o)):n[a.id]={newTags:new Set(l),cellIndicesWithNewTags:[o]})}}),n},i_t=(e,t)=>{const n={...hde(e.settings.selectOptions),label:t},r={type:ye.SET_SELECT_OPTIONS,fieldId:e.id,newValue:[...e.settings.selectOptions,n],change:{type:Be.APPEND,value:n}};return{newTagOption:n,change:r}},l_t=(e,t)=>{const n=e.value,o=n.value.map(a=>t[a]||a);n.value=o},c_t=(e,t,n)=>{const r=[],o=[];for(const a in e){const{newTags:s,cellIndicesWithNewTags:i}=e[a],l=Un(t,a);if(!l)continue;const d={};for(const u of s){const{newTagOption:f,change:p}=i_t(l,u);r.push(p),d[u]=f.id??f.label}if(s.size>0&&!l.settings.creatable){const u={type:ye.SET_IS_CREATABLE,fieldId:a,isCreatable:!0};o.push(u)}for(const u of i)l_t(n[u],d)}return{newTagOptionChanges:r,allowTagCreationChanges:o}},d_t=(e,t,n,r,o)=>{let a=[];return e.entryReferences.forEach((s,i)=>{if((s==null?void 0:s.type)===iu.CREATE){const l=r_t(i,n,e,t,s);a=[...a,l]}else{const l=o_t(i,n,e,t,r,o);a=[...a,...l]}}),a},u_t=(e,t)=>e.some(n=>{const r=Un(t,n.targetFieldId);return!((r==null?void 0:r.type)===ae.ATTACHMENT)&&n.targetIsMulti&&!(r!=null&&r.settings.multi)}),f_t=(e,t,n)=>{for(const r of e){const o=Un(t,r.targetFieldId),a=r.targetEntryId?or(t,r.targetEntryId):void 0;if(o&&a){const s=_o(t,o,a);if(!za({database:t,field:o,entry:a,value:s},n)&&r.isTargetEmpty&&!r.isSourceEmpty)return!1}}return!0},p_t=async(e,t,n)=>{var a;const r=[];let o;for(const s of e){const i=Un(t,s.targetFieldId);if(i&&i.type===ae.USER&&i.settings.mentionNotificationEnabled){o=i.id;const l=(a=s==null?void 0:s.value)==null?void 0:a.value,d=s.text.split(",");Yvt(l)&&l.forEach((u,f)=>{r.push({mentionedUserAccountId:u.accountId,mentionLocalId:u._id,displayName:d[f]})})}}r.length&&o&&await n({mentions:r,fieldId:o})},m_t=(e,t)=>{const n=[];for(const r of e){const o=Un(t,r.targetFieldId);if(r.targetIsMulti&&r.targetFieldId&&o&&!o.settings.multi){const a={type:ye.SET_IS_MULTI,fieldId:r.targetFieldId,isMulti:!0};n.push(a)}}return n},h_t=(e,t)=>{const n=eL(e,ye.ADD_FIELD),r=eL(t,ye.SET_VALUE);return n||r};function g_t(e){return e.fieldReferences.map(t=>{if((t==null?void 0:t.type)===Ns.CREATE)return t.field.id;if((t==null?void 0:t.type)===Ns.EXISTING)return t.fieldId}).filter(t=>t!==void 0)}const v_t=(e,t,n)=>{const r=[],o=h_t(e,t),a=g_t(n),s=o===void 0?void 0:a.indexOf(o);for(const i of t)switch(i.type){case ye.SET_VALUE:r.push({fieldId:i.fieldId,entryId:i.entryId});break;case ye.ADD_ENTRY:for(const l of Object.keys(i.entry.values))s!==void 0&&a.indexOf(l)<=s&&r.push({fieldId:l,entryId:i.entry.id});break;case ye.CREATE_FIELD_AND_SET_VALUE:r.push({fieldId:i.field.id,entryId:i.entryId});break}return r},b_t=({changesets:e,settings:t})=>n=>{const{createFieldsChangeset:r,setValuesChangeset:o}=e,a=v_t(r,o,t);for(const s of a){const{fieldId:i,entryId:l}=s;i&&l&&n(Bh({fieldId:i,entryId:l,clearExistingSelection:!1}))}};function y_t({numberOfEntriesPasted:e,changeset:t,viewSettings:n,database:r,state:o}){const a=t.filter(i=>i.type===ye.ADD_ENTRY).filter(i=>!n.filter||jO({database:r,entry:i.entry},n.filter,o)).length,s=t.filter(i=>i.type===ye.SET_VALUE).filter(i=>{const l=or(r,i.entryId);if(!n.filter||!l)return!0;const d={...l,values:{...l.values,[i.fieldId]:i.value}};return jO({database:r,entry:d},n.filter,o)}).length;return e-(s+a)}const E_t=(e,t)=>{const n=bie(e);return t.filter(r=>"fieldId"in r?!n.includes(r.fieldId):!0)};function bie(e){return e.filter(t=>t.type===ye.ADD_FIELD).map(t=>t.field.id)}const w_t=(e,t)=>{const n=[],r=bie(e);if(r.length===0)return[];for(const o of r){const a=e.find(i=>i.type===ye.ADD_FIELD?i.field.id===o:!1),s=mde(t,i=>i.type===ye.SET_VALUE&&i.fieldId===o);(a==null?void 0:a.type)===ye.ADD_FIELD&&(s==null?void 0:s.type)===ye.SET_VALUE&&n.push({entryId:s.entryId,value:s.value,change:s.change,field:a.field,currentViewId:a==null?void 0:a.currentViewId,index:a==null?void 0:a.index,type:ye.CREATE_FIELD_AND_SET_VALUE})}return n};function C_t(e,t){var r;const n=(r=e==null?void 0:e.sort)==null?void 0:r.fieldId;return n?t.some(o=>o.targetFieldId===n):!1}const __t=(e,t,n,r,o,a,s)=>async(i,l)=>{const d=l(),u=Xe(l(),{contentId:e}),f=t.rows.map(V=>V.cols),p=Array.from(f).flat(),m=s_t(p,u),{allowTagCreationChanges:g,newTagOptionChanges:v}=c_t(m,u,p);await p_t(p,u,a);const b=kt(d,{contentId:e,includeDeleted:!0}),y=d_t(n,t,b,{dispatch:i,getState:l},r),E=p4(d,{contentId:e}),w=ws(E,...y.filter(V=>V.type===ye.ADD_FIELD));let C=ws(E,...y.filter(V=>V.type!==ye.ADD_FIELD));const x=w_t(w,C);let S=ws(E,...m_t(p,u)),I=ws(E,...v),A=ws(E,...g);const T=[...w,...S,...I,...A],O=!!u.meta.isLocked&&!!T.length;O&&(C=Kvt({preventChangesOnLock:T,setValuesChangeset:C}),S=[],I=[],A=[]);const D=t.rows.length,$=y_t({numberOfEntriesPasted:D,changeset:C,viewSettings:s,database:u,state:d});ko(()=>{u.meta.isLocked?Ko({dispatch:i,getState:l},e,()=>{i(hl(e,"main",C))}):Ko({dispatch:i,getState:l},e,()=>{i(hl(e,"main",S)),i(hl(e,"main",I)),i(hl(e,"main",A)),i(hl(e,"main",x)),i(hl(e,"main",E_t(w,C)))})});const L=!u.meta.isLocked&&(u_t(p,u)||!!g.length),F=!f_t(p,u,d),B=C_t(s,p);Jvt({isPartialPaste:O,isIncompatiblePasteContent:F,shouldFieldSettingUpdate:L,isPastingIntoSortedField:B},$,D,o),i(b_t({changesets:{createFieldsChangeset:[...w,...x],setValuesChangeset:[...C,...x]},settings:n,contentId:e}))},x_t=(e,t,n,r,o,a,s)=>async(i,l)=>{if(t.length===0)return;const d=l(),u=Xe(d,{contentId:e});if(!OY(d,{contentId:e}))return;const p=v$e(u,d,ae.ATTACHMENT);if(qvt(t).length&&p)return;const g=await t_t(t);if(!g.success)return zvt(g,o);const v=await Hvt(u.name,d,g.items),b=e_t(v);if(!b.success){Wvt(o);return}const y=Tn(d,{contentId:u.contentId}),E=pr(d,{contentId:u.contentId}),w=fu(u,u,s,l()).entries,C=s.fields?pde(u,s):u.fields,x=Wae(y,E,C,w),S=hie(u,b.file,x,l());if(!S.success)return Gvt(S);const I=Bvt(y,E,C,w,u,S.result,r);i(__t(e,S.result,I,n,o,a,s)),qr.success()},dTt=(e,t,n,r)=>(o,a)=>{const s=a(),i=Xe(s,{contentId:e}),l=hie(i,t,n,s);if(!l.success)return l.error;const d=n.fieldReferences.flatMap(p=>(p==null?void 0:p.type)===Ns.CREATE?[{type:ye.ADD_FIELD,field:p.field,currentViewId:r}]:[]),u=l.result.rows.flatMap(p=>p.isSelected?[{type:ye.ADD_ENTRY,entry:lc(i,void 0,{values:Object.fromEntries(p.cols.flatMap((m,g)=>{const v=Wl(i,n.fieldReferences[g]);return v&&m.value?[[v.id,m.value]]:[]}))})}]:[]),f=ws(p4(s,{contentId:e,scope:"import"}),...d,...u);o(hl(e,"main",f))},S_t=Object.freeze([]),ki=!!navigator.platform.match(/iphone|ipad|ipod|mac/i);function uTt({containerWidth:e,containerPadding:t=0,gridGap:n=0,minColumnWidth:r}){const o=Array.isArray(t)?t:[t,t],a=Math.max(1,Math.ceil((e-o[0]-o[1]+n)/r)),s=(e-o[0]-o[1]+n)/a-n;return{columns:a,columnWidth:s}}const k_t=e=>{throw new Error(`Not implemented: ${e}`)},I_t=Le.div.withConfig({displayName:"DatabaseActions__ToggleWrapper",componentId:"sc-gj7ac7-0"})(["margin-left:",";margin-right:",";"],U("space.negative.100"),U("space.negative.100")),BL=Le.div.withConfig({displayName:"DatabaseActions__Shortcut",componentId:"sc-gj7ac7-1"})(["margin-left:",";background-color:",";color:",";border-radius:","px;padding:",";font:",";align-self:flex-end;@media (max-width:0px){display:none;}"],U("space.negative.100"),U("color.background.neutral","#091E420F"),U("color.text.subtle",ji),cc(),U("space.050","4px"),U("font.body.small")),T_t=e=>(t,n)=>{const r=Xe(n(),{contentId:e});t(pt(e,"main",{type:ye.TOGGLE_LOCK_STRUCTURE,newValue:!r.meta.isLocked}))},A_t=({contentId:e,isReadOnly:t,placement:n,show:r})=>{var X;const o=fe.useDispatch(),a=rt(),{view:s}=at(),{openThread:i}=Qo(),{showPanel:l}=lr(),{referencing:d}=An(),{createMentionNotification:u}=iD({contentId:e}),f=U5(e),p=f==null?void 0:f.database.undoManager,m=ebt(p),v=((X=_u(hv).data.dataSecurityPolicy)==null?void 0:X.pageExport)!==!0,b=fe.useSelector(pe=>Xe(pe,{contentId:e})),[y,E]=c.useState(!1),[w,C]=c.useState(!1),{showDialog:x}=Oc();c.useEffect(()=>{(async()=>{const ee=(await o1()).email;(ee!=null&&ee.endsWith("@atlassian.com")||ee!=null&&ee.endsWith("@usersinbuckets.com"))&&C(!0)})()},[]);const{formatMessage:S}=Ee(),I=Ph({deferFn:c.useCallback(async()=>{await o(T_t(e))},[e,o])}),A=c.useCallback(pe=>{pe.stopPropagation(),pe.preventDefault(),I.isPending||I.run()},[I]),T=c.useCallback(()=>{x("ExportDialog")},[x]),O=c.useCallback(()=>{l("DatabaseSetupPanel")},[l]),D=c.useCallback(()=>{l("CopyDatabasePanel")},[l]),$=c.useCallback(()=>{i.valueId||p==null||p.undo()},[p,i.valueId]);sn(hbt,$);const L=c.useCallback(()=>{i.valueId||p==null||p.redo()},[p,i.valueId]);sn(gbt,L);const F=c.useCallback(()=>{x("DevtoolsDialog")},[x]),B=c.useCallback(pe=>{E(pe.isOpen)},[]),V=Ya(({triggerRef:pe,...ee})=>h.jsx(dn,{testId:"actions-menu.more-actions",icon:bc,label:S(G["actions-menu.more-actions"]),appearance:"subtle",ref:pe,...ee}),[S]),Y=c.useMemo(()=>({open:!r||r.includes("open"),lock:(!r||r.includes("lock"))&&b.operations.updateMetadata,import:(!r||r.includes("import"))&&b.operations.updateEntries,print:(!r||r.includes("print"))&&!v,help:!r||r.includes("help"),copy:!r||r.includes("copy"),feedback:!r||r.includes("feedback")}),[r,b.operations.updateMetadata,b.operations.updateEntries,v]),J=c.useCallback(pe=>{if(i.valueId)return;if(t){m([{actionType:"readOnly",type:"warning"}]);return}qr.start(),a.sendContentPastedEvent({contentId:e,databaseContainer:We()});const ee=S(G["field-settings.field-name-inline-edit-default-text"],{defaultFieldName:S(Jn(ae.TEXT))});o(x_t(e,pe,s.id,ee,m,u,s.settings))},[i.valueId,t,a,e,S,o,s.id,s.settings,m,u]);iy({onPaste:J});const z=!(p!=null&&p.canUndo()),ce=!(p!=null&&p.canRedo()),[le,j]=c.useState(!1),[Z,K]=c.useState(null);return c.useEffect(()=>{(async()=>{await iE().then(K)})()},[]),c.useEffect(()=>{var se;if(!du()||!Z)return;const pe=[{id:"databases-undo",text:S(G["actions-menu.undo"]),target:"_blank",isDisabled:z,shortcutText:S(ki?G["actions-menu.mac-undo-shortcut"]:G["actions-menu.non-mac-undo-shortcut"]),onClick:$},{id:"databases-redo",text:S(G["actions-menu.redo"]),target:"_blank",isDisabled:ce,shortcutText:S(ki?G["actions-menu.mac-redo-shortcut"]:G["actions-menu.non-mac-redo-shortcut"]),onClick:L}],ee=[Y.lock&&{id:"databases-lock-structure",text:S(G["actions-menu.lock-structure"]),onClick:A,showToggle:{isChecked:I.isPending?!b.meta.isLocked:b.meta.isLocked,isDisabled:I.isPending}},Y.copy&&{id:"databases-copy-structure",text:S(G["actions-menu.copy-structure"]),onClick:D},!d&&!t&&{id:"databases-templates",text:S(G["actions-menu.import-and-templates"]),onClick:O},Y.print&&{id:"databases-export",text:S(G["actions-menu.export"]),onClick:T},{id:"view-resolved-comments"}].filter(Boolean),ne=[{id:"databases-get-help",text:S(G["actions-menu.get-help"]),url:VO,target:"_blank"},w&&{id:"databases-devtools",text:S(G["actions-menu.devtools"]),onClick:F}].filter(Boolean),Q=[];p&&Q.push(pe),ee.length&&Q.push(ee),Y.help&&Q.push(ne),(se=Z.updateMoreActions)==null||se.call(Z,{items:Q}),j(!0)},[Y,ce,z,b.meta.isLocked,S,D,T,A,F,L,O,$,t,I.isPending,d,w,p,Z]),!(Object.values(Y).filter(pe=>pe).length>0)||le?null:h.jsx(h.Fragment,{children:h.jsxs(nO,{trigger:V,placement:n,isOpen:y,onOpenChange:B,children:[h.jsxs(Gl,{children:[p&&h.jsx(er,{elemAfter:h.jsx(BL,{children:S(ki?G["actions-menu.mac-undo-shortcut"]:G["actions-menu.non-mac-undo-shortcut"])}),onClick:$,isDisabled:!p.canUndo(),children:S(G["actions-menu.undo"])}),p&&h.jsx(er,{elemAfter:h.jsx(BL,{children:S(ki?G["actions-menu.mac-redo-shortcut"]:G["actions-menu.non-mac-redo-shortcut"])}),onClick:L,isDisabled:!p.canRedo(),children:S(G["actions-menu.redo"])})]}),h.jsxs(Gl,{children:[Y.lock&&h.jsx(Bt,{content:S(G["actions-menu.lock-structure-tooltip"]),children:h.jsx(er,{elemAfter:h.jsx(I_t,{children:h.jsx(xm,{isChecked:I.isPending?!b.meta.isLocked:b.meta.isLocked,isDisabled:I.isPending})}),onClick:A,children:S(G["actions-menu.lock-structure"])})}),Y.copy&&h.jsx(er,{onClick:D,children:S(G["actions-menu.copy-structure"])}),!d&&h.jsx(er,{testId:"actions-menu.import-and-templates",onClick:O,children:S(G["actions-menu.import-and-templates"])}),Y.print&&h.jsx(er,{onClick:T,children:S(G["actions-menu.export"])})]}),h.jsxs(Gl,{children:[Y.help&&h.jsx(er,{href:VO,target:"_blank",rel:"noopener noreferrer",children:S(G["actions-menu.get-help"])}),w&&h.jsx(er,{onClick:F,children:S(G["actions-menu.devtools"])})]})]})})},oO=60;function D_t(e){return e.length<=oO}const yie=Le.div.withConfig({displayName:"DatabaseNameEdit__DatabaseNameEditContainer",componentId:"sc-1ay3yw9-0"})(["position:relative;"]),O_t=({contentId:e,showPlaceholder:t=!1,onChange:n=()=>{}})=>{const{formatMessage:r}=Ee(),o=c.useRef(null),a=fe.useEqualSelector(p=>Xe(p,{contentId:e}).name),[s,i]=c.useState(a),[l,d]=c.useState(!0),u=c.useCallback(p=>{i(p.currentTarget.value);const m=D_t(p.currentTarget.value);n(p.currentTarget.value,m),d(m)},[n]),f=hE(sh.MEAN_DATABASE_NAME_TYPING);return c.useEffect(()=>{var p;o&&((p=o==null?void 0:o.current)==null||p.focus())},[o]),h.jsx(Rr,{error:l?void 0:r(G["validation.database-name-length"],{maxLength:oO}),children:p=>h.jsx(yie,{children:h.jsx(ts,{...p,autoComplete:"off",placeholder:t?r(G["unnamed-entities.untitled-database"]):void 0,value:s,onChange:u,ref:yo([f,o]),size:1,testId:"database-name-edit"})})})},M_t=Le.div.withConfig({displayName:"DatabaseNameView__DatabaseNameViewContainer",componentId:"sc-1fc6fjv-0"})(["width:100%;color:",";padding:",";"],({isUnnamed:e})=>e?U("color.text.subtlest","#626F86"):"inherit",U("space.050","4px")),UL=({name:e})=>{const{formatMessage:t}=Ee();return h.jsx(M_t,{isUnnamed:!e,children:h.jsx(pg,{position:"bottom-start",testId:"databaseName",children:e||t(G["unnamed-entities.untitled-database"])})})},$_t=Le(n2).withConfig({displayName:"DatabaseNameInlineEdit__StyledInlineEditWrapper",componentId:"sc-1qc06nm-0"})(["margin-left:",";width:99%;margin-bottom:",";> "," > ","{border-radius:3px;}> "," > "," > div > "," > "," > div{border:none;input{font:",";padding:"," ",";}}"],U("space.100"),U("space.negative.200"),vo,Ha,vo,Ha,vo,yie,U("font.heading.large"),U("space.025"),U("space.050","4px")),R_t=({contentId:e,isReadonly:t})=>{const n=rt(),{formatMessage:r}=Ee(),[o,a]=c.useState(!1),s=fe.useEqualSelector(y=>Xe(y,{contentId:e}).name),[i,l]=c.useState(s),[d,u]=c.useState(!0),f=c.useCallback(async y=>{d&&(await gde(e,y),n.sendEmbedDatabaseTitleUpdatedEvent({contentId:e,databaseContainer:We()})),a(!1)},[n,e,d]),p=c.useCallback((y,E)=>{l(y),u(E)},[]),m=!t,g=SE(),v=c.useCallback(()=>h.jsx(UL,{name:i}),[i]),b=c.useCallback(()=>h.jsx(O_t,{contentId:e,onChange:p,showPlaceholder:!0}),[e,p]);return Xr()?h.jsx($_t,{hideBorderOnFocus:!0,isDraggable:!1,isEditing:o,isInvalid:m&&!d,children:m?h.jsx(Rr,{error:d?void 0:r(G["validation.database-name-length"],{maxLength:oO}),children:()=>h.jsx(F3,{isReadOnly:!m,readView:v,editView:b,isEditing:o&&!g,onIsEditingChange:a,value:i,onReset:f,onBlur:f,preserveEditWidth:!0})}):h.jsx(UL,{name:i})}):null},P_t=(e,t)=>e?t?"190px":"240px":t?"240px":"300px",Eie=Le.div.withConfig({displayName:"ViewCardNameEdit__ViewNameContainer",componentId:"sc-20wac5-0"})(["min-height:20px;padding:"," ",";border-radius:2px;max-width:"," !important;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],U("space.025","2px"),U("space.025","2px"),e=>P_t(e.isViewActionsOpen,e.isDefault)),L_t=({name:e,existingViewNames:t=[],view:n,setDuplicateViewNameErrorId:r,isActive:o=!1,isDefault:a,isViewActionsOpen:s})=>(c.useEffect(()=>{t&&!fk(n.name,t)?r(n.id):r("")},[t,r,n.id,n.name]),h.jsx(Eie,{"data-testid":"view-name-container",isDefault:a,isActive:o,isViewActionsOpen:s,children:e})),tp={DEFAULT_ACTIVE_PADDING:"70px",DEFAULT_PADDING:"6px",UNSAVED_VIEW_ACTIVE_PADDING:"40px"},zS=Le.span.withConfig({displayName:"ViewCard__DefaultText",componentId:"sc-1toikrp-0"})(["color:",";font:",";font-style:italic;text-align:right;padding-right:",";position:absolute;right:",";"],_k,U("font.body"),tp.DEFAULT_PADDING,U("space.075","6px")),N_t=Le.div.withConfig({displayName:"ViewCard__Container",componentId:"sc-1toikrp-1"})(["display:flex;flex-direction:row;align-items:center;column-gap:",";z-index:0;padding:"," 0px;margin:0px 0px 0px ",";border-radius:3px;cursor:",";color:",";}& ","{padding-right:","}&:hover,&:focus-within{","{width:32px;visibility:visible;display:inline-flex;opacity:1;}","{","}","{max-width:"," !important;}}"],U("space.050","4px"),U("space.100","8px"),U("space.050","4px"),e=>e.onClick?"pointer":"default",e=>e.isActive?U("color.text.selected",Vo):gu,zS,e=>e.isViewActionsOpen?tp.DEFAULT_ACTIVE_PADDING:tp.DEFAULT_PADDING,rO,zS,e=>e.isUnsavedView?`
            padding-right: ${tp.UNSAVED_VIEW_ACTIVE_PADDING};
          `:`
          padding-right: ${tp.DEFAULT_ACTIVE_PADDING};
        `,Eie,e=>e.isDefault?"180px":"240px"),F_t=Le.div.withConfig({displayName:"ViewCard__SubtleText",componentId:"sc-1toikrp-2"})(["color:",";font:",";"],_k,U("font.body.UNSAFE_small"));function j_t(e,t,n=!1){var o;const r=e.settings.layout.type;return{icon:t?h.jsx(WD,{label:"",LEGACY_size:"medium",spacing:"spacious"}):(o=xg(r,"medium",n,!1))==null?void 0:o.icon,name:e.name}}const V_t=({view:e,isActive:t,isDefault:n,onClick:r,subtleText:o,isReadonly:a,contentId:s,existingViewNames:i,setDuplicateViewNameErrorId:l,hasDuplicateNameError:d,openViewSettingsPanel:u,handleClose:f,showViewSettings:p=!0})=>{const[m,g]=c.useState(!1),[v,b]=c.useState(!1),y=rt(),{formatMessage:E}=Ee(),w=De(async O=>{O.preventDefault(),O.stopPropagation(),await r(e)},[e,r]),C=n3(s),x=De(async O=>{O.preventDefault(),O.stopPropagation(),await C(e)?(b(!0),setTimeout(()=>{b(!1)},3e3),await y.sendViewLinkCopiedEvent({contentId:s,databaseContainer:We(),source:"databaseViewPicker",viewId:e.id})):pu("failed-to-copy-error",E(Ae["view-actions.failed-to-copy-error"]))},[y,s,E,C,e]),{icon:S,name:I}=j_t(e,od(e),n),A=c.useMemo(()=>od(e)?E(G["view.unsaved-view"]):I,[E,I,e]),T=c.useMemo(()=>od(e)?E(G["toolbar-views.embed-visible-tooltip"]):n?E(G["toolbar-views.default-view-tooltip"],{isEmbed:Xr()}):"",[E,e,n]);return h.jsx(Rr,{isTouched:d,placement:Gte.BOTTOM,error:d?E(G["toolbar-views.duplicate-view-warning-text"]):void 0,children:O=>h.jsx(Bt,{content:T,position:"top",children:h.jsxs(N_t,{isActive:t,onClick:w,isDefault:n,isViewActionsOpen:m,isUnsavedView:od(e),showViewSettings:p,children:[S,h.jsxs(it,{alignItems:"start",direction:"column",xcss:ie({flexGrow:1}),children:[h.jsxs(it,{alignItems:"center",columnGap:"space.050",justifyContent:"space-between",xcss:ie({flexGrow:1,width:"100%",minHeight:U("space.300","1.5rem")}),children:[h.jsx(L_t,{name:A,existingViewNames:i,view:e,setDuplicateViewNameErrorId:l,validationProps:O,isActive:t,isDefault:n,isViewActionsOpen:m}),h.jsx(it,{alignItems:"center",children:h.jsxs(h.Fragment,{children:[n&&h.jsx(zS,{className:"view-card-default-text",isViewActionsOpen:m,children:E(G["toolbar-views.default-text"])}),p&&h.jsx(Bt,{content:E(v?G["copy-link.tooltip"]:Ae["view-settings.copy-link"]),children:h.jsx(rO,{iconBefore:h.jsx(Jr,{spacing:"spacious",label:E(Ae["view-settings.copy-link"])}),onClick:x,appearance:"subtle",spacing:"compact",$isActive:t,$isViewActionsOpen:m,className:"view-card-button"})}),!od(e)&&p&&h.jsx(fie,{contentId:s,view:e,isViewActive:t,isOpen:m,setIsViewActionsOpen:g,isDefault:n,isReadonly:a,openViewSettingsPanel:u,handleCloseViewPicker:f})]})})]}),h.jsx(F_t,{children:o})]})]})})})},B_t=e=>e.id??e.name,U_t=Le.li.withConfig({displayName:"ViewList__Li",componentId:"sc-wyl51m-0"})(["display:flex;align-items:center;margin:"," "," 0px ",";border-radius:3px;padding-left:",";background:",";box-sizing:border-box;&:hover{background:",";}"],U("space.100","8px"),U("space.100","8px"),U("space.100","8px"),U("space.200","16px"),e=>e.isActive&&`${gn}`,e=>!e.isActive&&`${Ke}`),H_t=Le.hr.withConfig({displayName:"ViewList__Hr",componentId:"sc-wyl51m-1"})(["border:none;border-top:",";width:388px;margin:"," "," 0 ",";"],Is,U("space.100"),U("space.050"),U("space.050")),z_t=({contentId:e,value:t,onChange:n,canEditViews:r,defaultView:o,handleAddView:a,openViewSettingsPanel:s,handleClose:i,showViewSettings:l=!0,viewPickerRef:d})=>{const u=rt(),{unsavedView:f}=at(),{hidePanel:p}=lr(),[m,g]=c.useState(""),v=Ee(),{formatMessage:b}=v,[y,E,w]=fe.useEqualSelector(O=>{const D=kt(O,{contentId:e,includeDeleted:!0});return[D.views,Kb(D),a$e(O,{contentId:e,scope:"main"})]}),C=fe.useDispatch(),x=De((O,D)=>{C(pt(e,"main",{type:ye.REORDER_SAVED_VIEW,viewId:y[O].id,newIndex:D+(D>O?1:0)})),u.sendDatabaseViewReorderedEvent({contentId:e,databaseContainer:We(),viewId:y[O].id,source:"databaseViewPicker"})},[u,e,C,y]),S=c.useRef(t.id);S.current=t.id;const I=De(()=>{n((o==null?void 0:o.id)??E.id)},[E==null?void 0:E.id,o==null?void 0:o.id,n]),A=De(O=>{u.sendDatabaseViewSelected({contentId:e,databaseContainer:We(),viewId:O.id,source:"databaseViewPicker"}),O.id!==t.id&&(n(O.id),Rd(()=>{p()}))},[u,p,e,n,t.id]);c.useEffect(()=>{!ql(y,t.id)&&!od(t)&&I()},[I,y,t]);const T=c.useCallback(({value:O})=>{const D=O.id===t.id,$=Xr()?O.id===(o??E).id:O.id===E.id;return h.jsx(V_t,{onClick:A,view:D?t:O,isActive:D,isDefault:$,isReadonly:!r,contentId:e,setDuplicateViewNameErrorId:g,hasDuplicateNameError:m===O.id,existingViewNames:y.filter(L=>L.id!==O.id).map(L=>L.name),openViewSettingsPanel:s,handleClose:i,showViewSettings:l},O.id)},[t,o,E,A,r,e,m,y,s,i,l]);return h.jsxs("div",{ref:d,children:[f&&h.jsxs(h.Fragment,{children:[h.jsx(U_t,{isActive:t.id===Wr.UNSAVED,children:T({i:0,value:f,autoFocus:!0,isReadonly:!1,isDisabled:!1,onChange:()=>{}})}),f&&h.jsx(H_t,{})]}),h.jsx(EY,{getId:B_t,values:y,onAdd:a,onReorder:x,renderField:T,verticalScroll:!0,addLabel:b(Ae["views.add-view-label"]),noDelete:!0,showDivider:!0,isReadonly:!r,isDisabled:w,activeId:t.id,errorId:m,showUnsavedView:!0,isViewsList:!0})]})},W_t=Le(Wte).withConfig({displayName:"ViewPicker__PopupContentContainer",componentId:"sc-c826s7-0"})(["&& > *{padding:0px;margin-top:0px;}"]),G_t=Le.div.withConfig({displayName:"ViewPicker__ContentContainer",componentId:"sc-c826s7-1"})(["display:flex;flex-direction:column;overflow-x:hidden;"]),q_t=Le(ht).withConfig({displayName:"ViewPicker__StyledButton",componentId:"sc-c826s7-2"})(["&&,&&:hover{background-color:",";span{color:",";}}"],e=>e.isSelected&&U("color.background.neutral.subtle.pressed","#091E4224"),U("color.text","#172B4D")),Y_t=({contentId:e,canEditViews:t,defaultView:n,isOpen:r,setIsOpen:o,handleAddView:a,openViewSettingsPanel:s,showViewSettings:i=!0,tooltipContent:l})=>{const{view:d,setViewId:u}=at(),f=c.useRef(null),p=c.useCallback(()=>{o(!r)},[r,o]),m=c.useCallback(()=>{o(!1)},[o]),g=c.useCallback(()=>{o(!1),a("databaseViewPicker")},[a,o]),v=c.useCallback(b=>{u(b),o(!1)},[u,o]);return Tg(m,f,['[id="view-picker-popup-button"]','[data-testid="view-actions-dropdown-menu--content"]'],r),h.jsx(el,{testId:"view-picker-overflow-menu",contentContainer:W_t,isOpen:r,onClose:m,trigger:b=>h.jsx(Bt,{content:l,children:h.jsx(q_t,{...b,iconAfter:h.jsx(Ws,{LEGACY_size:"medium",spacing:"spacious",label:""}),onClick:p,isSelected:r,isDisabled:!e,appearance:"subtle",testId:"view-picker-popup-button",id:"view-picker-popup-button"})}),placement:"bottom",content:()=>e&&h.jsx(G_t,{children:h.jsx(z_t,{contentId:e,value:d,onChange:v,canEditViews:t,defaultView:n,handleAddView:g,openViewSettingsPanel:s,handleClose:m,showViewSettings:i,viewPickerRef:f})}),width:400})},K_t=ie({paddingInlineStart:"space.100"}),wie=Le.div.withConfig({displayName:"QuickSearch__SearchFieldTransition",componentId:"sc-uemrnk-0"})(["transition:width 0.3s,background 0.3s;",""],e=>e.expanded?un(["width:382px;"]):un(["width:32px;"])),HL={modifiers:[ki?"metaKey":"ctrlKey"],code:"KeyF"},X_t={code:"Escape"},J_t=1e3,Z_t=({onChange:e,value:t})=>{const[n,r]=c.useState(t),o=W5(e,500),a=!n,s=vt("databases-frontend-content-wrapper"),i=c.useCallback(C=>{r(C),o(C)},[r,o]);c.useEffect(()=>{r(t),t||u(!1)},[t]);const l=c.useRef(null),[d,u]=c.useState(!a),{formatMessage:f}=Ee(),p=fe.useDispatch(),m=c.useCallback(()=>{p(wr()),u(!0)},[p]),g=c.useCallback(()=>{var C;(C=l.current)==null||C.select()},[]);sn(d?void 0:HL,m),sn(d&&!a?HL:void 0,g);const v=c.useCallback(()=>{a&&u(!1)},[a]),b=c.useCallback(()=>{var C;(C=l.current)==null||C.blur()},[]);sn(d?X_t:void 0,b);const y=c.useCallback(()=>{var C;i(void 0),(C=l.current)==null||C.focus()},[i]),E=De(C=>{d||m();const x=C.target.value;i(x)},[d,m,i]),w=h.jsx(dn,{appearance:"subtle",icon:eG,label:f(G["quick-search.clear-label"]),onClick:y});return h.jsx(wie,{expanded:d,children:d?h.jsx(ts,{ref:l,autoComplete:"off",autoFocus:!0,placeholder:f(G["quick-search.search-database-text"]),onChange:E,onBlur:v,value:n??"",elemAfterInput:a?void 0:w,elemBeforeInput:h.jsx(it,{xcss:K_t,children:h.jsx(kv,{label:"",spacing:"spacious"})}),label:f(G["quick-search.search-database-text"]),testId:"database-search"}):h.jsx(Bt,{hideTooltipOnClick:!0,delay:J_t,content:h.jsxs(h.Fragment,{children:[f(G["quick-search.quick-search-tooltip-text"])," ",h.jsx("kbd",{children:f(ki?G["quick-search.mac-modifier"]:G["quick-search.ctrl"])})," ",f(G["quick-search.plus-key"])," ",h.jsx("kbd",{children:f(G["quick-search.F-key"])})]}),children:h.jsx(dn,{icon:kv,label:f(G["quick-search.search-database-text"]),onClick:m,appearance:s?"subtle":"default"})})})},Q_t=({value:e=Pa,showQuickSearch:t,contentId:n})=>{const r=rt(),{setViewChange:o}=at(),a=De(async i=>{if(!(i===""||i===void 0)){if(!n){wn(new Error("sendDatabasedSearchedEvent was not sent because contentId was not defined"));return}await r.sendDatabasedSearchedEvent({contentId:n,databaseContainer:We()})}},[r,n]),s=De(async i=>{await a(i),o({type:It.VIEW_SEARCH,value:i})},[o,a]);return t?h.jsx(Wt,{isButton:!0,children:h.jsx(Z_t,{value:e==null?void 0:e.search,onChange:s})}):null},Cie=Le.div.withConfig({displayName:"Toolbar__Container",componentId:"sc-vcv6jd-0"})(["display:flex;position:relative;overflow:hidden;align-items:center;padding-top:",";padding-bottom:",";column-gap:100px;overflow-x:auto;margin-right:",";margin-left:",";padding-left:",";padding-right:",";> h2{margin-right:",";min-width:0;}> .expand{flex-grow:1;}> :last-child{flex-shrink:0;}"],U("space.100"),U("space.100"),U("space.100"),U("space.100"),U("space.025"),U("space.025"),U("space.050")),ext=Le.div.withConfig({displayName:"Toolbar__InnerContainer",componentId:"sc-vcv6jd-1"})(["display:flex;flex-direction:column;column-gap:",";overflow:auto;flex-shrink:1;min-width:250px;width:100%;> div:first-child{flex-shrink:1;min-width:0;overflow:hidden;}"],U("space.050","4px")),fTt=({contentId:e,actions:t,canEditContent:n,canEditFields:r,showViewSettings:o=!0})=>{const[a,s]=c.useState(!1),{view:i,setViewId:l,resolvedView:d,clearUnsavedView:u}=at(),f=rt(),p=fe.useDispatch(),{setActivePanelSetting:m}=rf(),g=Ee(),{showPanel:v}=lr(),[b,y]=fe.useEqualSelector(C=>{const x=kt(C,{contentId:e,includeDeleted:!0});return[x.views,no(x)]}),E=c.useCallback(C=>{const x=performance.now();m(C),v("ViewSettingsPanel",{canEditViews:r}),Rd(()=>{Br.getInstance().successWithDuration(Ur.DATABASE_PANEL_VIEW_SETTINGS_OPEN,x,performance.now())}),p(wr())},[m,v,r,p]),w=c.useCallback(C=>{let x=UN();x={...x,name:HN(x,b.map(S=>S.name),g)},p(pt(e,"main",{type:ye.ADD_SAVED_VIEW,view:x})),i.id===Wr.UNSAVED&&u(),l(x.id),E(Ct.OVERVIEW),f.sendDatabaseCreateViewEvent({contentId:e,databaseContainer:We(),viewId:x.id,source:C,layoutType:x.settings.layout.type})},[u,f,e,p,g,E,b,l,i.id]);return h.jsxs(h.Fragment,{children:[Xr()&&h.jsx(G3,{children:h.jsx(R_t,{contentId:e,isReadonly:!n})}),h.jsxs(Cie,{children:[h.jsx(ext,{children:h.jsx(Wt,{isButton:!0,children:h.jsx(WCt,{contentId:e,defaultView:d,isReadonly:!r,openViewSettingsPanel:E,handleAddView:w,showViewSettings:o,ViewPicker:Y_t,isViewsMenuOpen:a,setIsViewsMenuOpen:s})})}),h.jsxs(Tp,{isCompact:!0,children:[o&&h.jsx(Q_t,{contentId:e,value:i.settings,showQuickSearch:!0}),h.jsx(Wt,{isButton:!0,children:h.jsx(A_t,{contentId:e,placement:"bottom-end",show:t,isReadOnly:!n})})]})]}),o&&h.jsx(sCt,{hasNoFields:!y,openViewSettingsPanel:E})]})},WS=un(["background-color:",";color:",";"],U("color.background.accent.blue.subtler.pressed",vn),U("color.text.inverse",Ve)),txt=un(["background-color:",";color:",";"],U("color.background.accent.red.subtler.pressed",bn),U("color.text.inverse",Ve)),nxt=Le.td.withConfig({displayName:"styles__RowSelectButtonContainer",componentId:"sc-tnqyrd-0"})(["position:sticky !important;z-index:",";left:0;.","{position:absolute;top:calc(50% - ","px);left:-","px;width:max-content;}"],Ln.ROW_SELECT_BUTTON,Ie.SELECT_BUTTON,fwe/2-1/2,1/2),rxt=Le.div.withConfig({displayName:"styles__ColSelectButtonContainer",componentId:"sc-tnqyrd-1"})(["position:absolute;z-index:",";top:-","px;left:calc(50% - ","px);"],Ln.COLUMN_SELECT_BUTTON,iwe/2-1/2,swe/2-1/2),_ie=Le.div.withConfig({displayName:"styles__DragHandlerWrapper",componentId:"sc-tnqyrd-2"})(["",""],({isActive:e,isDeletionActive:t})=>e&&un(["&&&{",";display:flex;}"],t?txt:WS)),oxt=Le.div.withConfig({displayName:"FieldTypeSearch__SearchFieldContainer",componentId:"sc-bqd5x3-0"})(["> div{padding-inline:",";column-gap:",";border:none;border-radius:0;position:fixed;z-index:2;width:100%;border-bottom:2px solid ",";:focus-within:not([data-disabled]){border-bottom:2px solid ",";}}"],U("space.200","16px"),U("space.150","12px"),U("color.border","#091E4224"),U("color.border","#091E4224")),axt=c.forwardRef(function({onChange:t,value:n="",autoFocus:r},o){const a=De(l=>{t(l.target.value)},[t]),s=fe.useDispatch(),{formatMessage:i}=Ee();return c.useEffect(()=>{s(wr())},[s]),h.jsx(oxt,{children:h.jsx(ts,{testId:"field-type-dropdown-search-input",ref:o,autoComplete:"off",autoFocus:r,elemBeforeInput:h.jsx(jE,{label:"",LEGACY_size:"small"}),placeholder:i(G["field-type.search-text"]),onChange:a,value:n})})}),sxt=Le(aT).withConfig({displayName:"FieldTypeDropdown__EmptyItem",componentId:"sc-19oo8yk-0"})(["pointer-events:none;color:"," !important;"],_k),ixt=Le(ht).withConfig({displayName:"FieldTypeDropdown__StyledButton",componentId:"sc-19oo8yk-1"})(["&&{text-align:left;align-items:center;padding:"," ",";border-radius:3px;",";",";",";}"],U("space.050","4px"),U("space.100","8px"),({shouldFitContainer:e})=>e&&"height: 40px",({isSelected:e})=>e?"border: none":`border: ${U("space.025","2px")} solid ${U("color.border.input",Ut)}`,({isInvalid:e})=>e&&`border-color: ${U("color.border.danger","#E2483D")}`),lxt=Le.div.withConfig({displayName:"FieldTypeDropdown__PopupContentContainer",componentId:"sc-19oo8yk-2"})([""]),cxt=ie({overflow:"auto"}),dxt=({maxHeight:e="435px",value:t,onChange:n,trigger:r,onFocus:o,onBlur:a,shouldFitContainer:s,showTypes:i,isDisabled:l,hasFieldTypeError:d,...u})=>{var D;const[f,p]=c.useState(""),m=c.useRef(null),{formatMessage:g}=Ee(),[v,b]=c.useState(!1),y=De(()=>{b($=>($&&p(""),!$))},[]),[E,w]=c.useState(null),C=(D=Qp(s?E:void 0))==null?void 0:D.width,x=vt("databases-frontend-checkbox-field-type"),S=vt("databases-frontend-live-doc"),I=c.useCallback(()=>{b(!1),p("")},[b,p]);Tg(I,m,['[id="field-type-dropdown-trigger"]'],v);const A=Ya(({ref:$,...L})=>{if(r&&typeof r=="function")return r({ref:eo(B=>w(B),$),onFocus:o,onBlur:a,onClick:y,isSelected:L["aria-expanded"],...L});if(typeof r=="string")return h.jsx("span",{ref:$,onClick:y,...L,children:r});const F=t?So(t).label:null;return h.jsx(ixt,{id:"field-type-dropdown-trigger",testId:"field-type-dropdown-trigger",iconBefore:F&&t?h.jsx(Ms,{type:t,label:F,noTooltip:!0}):void 0,iconAfter:h.jsx(Ws,{LEGACY_size:"medium",spacing:"spacious",label:""}),ref:eo(B=>w(B),$),onFocus:o,onBlur:a,shouldFitContainer:s,onClick:y,isSelected:L["aria-expanded"],isDisabled:l,appearance:"subtle",isInvalid:d,...L,children:r??(F&&g(F))})},[g,y,d,l,a,o,s,r,t]),T=c.useMemo(()=>$=>{switch($){case po.BASIC:return G["field-type.category-basic"];case po.PAGE:return S?G["field-type.category-page-and-live-doc"]:G["field-type.category-page"];case po.JIRA:return G["field-type.category-jira"];case po.OTHER_DATABASES:return G["field-type.category-other-databases"];default:return k_t($)}},[S]),O=c.useMemo(()=>Object.values(po).map($=>[g(T($)),Object.entries(rre()).filter(([L,F])=>{if(!(!x&&L==="checkbox"))return F.category===$&&(!i||i.includes(L))&&g(F.label).toLowerCase().includes(f.toLowerCase())})]).filter(([$,L])=>L.length>0),[g,T,x,f,i]);return h.jsx(el,{isOpen:v,onClose:y,contentContainer:lxt,trigger:A,content:({setInitialFocusRef:$})=>h.jsx(_e,{ref:m,children:h.jsxs(nT,{testId:"field-type-dropdown",minWidth:C||void 0,maxHeight:e,onClick:L=>L.stopPropagation(),children:[h.jsx(axt,{onChange:p,value:f,ref:$}),h.jsx(_e,{xcss:cxt,style:{marginTop:"37px"},children:O.map(([L,F])=>h.jsx(Tx,{title:O.length>1?L:void 0,hasSeparator:!0,children:F.map(([B,{label:V,shortDescription:Y}])=>h.jsx(Bt,{content:Y&&g(Y),hideTooltipOnMouseDown:!0,position:"left",children:h.jsx(aT,{"data-testid":`field-type-dropdown-${B}`,iconBefore:h.jsx(Ms,{type:B,label:V,noTooltip:!0}),onClick:fr(()=>{n(B),y()}),isSelected:B===t,children:g(V)})},B))},L))}),!O.length&&h.jsx(Tx,{hasSeparator:!0,children:h.jsx(sxt,{children:g(G["field-settings.field-type-dropdown-no-matches-text"])})})]})}),...u})},xie=Le.div.withConfig({displayName:"AddFieldButton__AddFieldButtonContainer",componentId:"sc-pwzjyt-0"})(["display:flex;flex-direction:column;flex-grow:1;width:100%;> *{width:100%;flex-grow:1;}"]),zL=({contentId:e,currentViewId:t,isDisabled:n})=>{const r=fe.useStore(),o=fe.useDispatch(),{showPanel:a}=lr(),s=vg(),i=rt(),{formatMessage:l}=Ee(),d=Xe(r.getState(),{contentId:e}),u=c.useCallback(b=>{o(wr());const y=on(b),E=l(G["field-settings.field-name-inline-edit-default-text"],{defaultFieldName:l(So(y.type).label)}),w=Wm(E,Fi(d,y));o(pt(e,s,{type:ye.ADD_FIELD,field:{...y,name:w},currentViewId:t})),i.sendCreateDatabaseFieldEvent({contentId:e,databaseContainer:We(),source:"databaseCreateFieldDialog"}),i.sendDatabaseFieldOptionUpdatedEvent({source:"database",contentId:e,databaseContainer:We(),fieldSelection:b,isNewField:!0}),So(b).category!==po.BASIC&&a("FieldCreatePanel",{type:b,field:y})},[o,l,d,e,s,t,i,a]),f=ie({borderRadius:"0 2px 0 0",width:"100%",height:"100%",color:"color.text",backgroundColor:"elevation.surface",":active":{backgroundColor:"elevation.surface.hovered",color:"color.text.accent.blue"},borderRightWidth:"1px",borderRightStyle:"solid",borderRightColor:"color.border"}),p=ie({":hover":{backgroundColor:"elevation.surface.hovered"}}),m=ie({color:"color.text.subtlest",":hover":{color:"color.text.subtlest",backgroundColor:"elevation.surface"},":active":{color:"color.text.subtlest",backgroundColor:"elevation.surface"}}),g=ie({":hover":{backgroundColor:"color.background.accent.blue.subtlest.hovered"},backgroundColor:"elevation.surface",color:"color.text.accent.blue"}),v=Ya(({ref:b,isSelected:y,...E})=>h.jsx(Wt,{isButton:!0,height:20,width:20,children:h.jsx(Co,{testId:"add-field-button",id:"add-field-button",role:"button",xcss:[f,E["aria-expanded"]?g:p,n&&m],ref:b,isDisabled:n,...E,children:h.jsx(Qr,{label:l(G["table-layout.add-field-label"]),LEGACY_size:"small"})})}),[l,n,f,p,m,g]);return h.jsx(xie,{children:h.jsx(dxt,{trigger:v,onChange:u,placement:"bottom-end",offset:Ptt})})};var nt=(e=>(e.BEFORE="before",e.AFTER="after",e))(nt||{});const Li=10,Dp=Le.div.withConfig({displayName:"AddFieldDot__StyledDot",componentId:"sc-1h1irt1-0"})(["opacity:0;transition:opacity 0.2s;position:absolute;display:flex;justify-content:center;align-items:center;width:","px;height:","px;background-color:",";border-radius:50%;color:transparent;&:hover{background-color:",";cursor:pointer;color:",";border:2px solid ",";margin:",";}&:not(:hover){&:after{position:absolute;content:'';border:",";border-radius:",";height:0;}}&& > *{height:8px;width:8px;svg{vertical-align:text-top;height:100%;width:auto;}}"],Li,Li,Ve,cn,Ve,Ve,U("space.negative.025","-2px"),xi,Rn),uxt=Le(Dp).withConfig({displayName:"AddFieldDot__InsertFieldDot",componentId:"sc-1h1irt1-1"})(["top:calc(50% - ","px);",";"],Li/2,({position:e})=>e===nt.BEFORE?un(["left:-","px;"],Li/2+1/2):un(["right:-","px;"],Li/2+1/2)),Ub=({contentId:e,fieldId:t,canEditFields:n,position:r,hoverProps:o,currentViewId:a})=>{const s=fe.useStore(),i=fe.useDispatch(),l=rt(),{formatMessage:d}=Ee(),u=De(async f=>{f.preventDefault();const p=kt(s.getState(),{contentId:e,includeDeleted:!0}),m=on(ae.TEXT),g=d(G["field-settings.field-name-inline-edit-default-text"],{defaultFieldName:d(So(m.type).label)}),v=Wm(g,Fi(p,m)),b=p.fields.indexOf(t),y=r===nt.AFTER?b+1:b;i(pt(e,"main",{type:ye.ADD_FIELD,field:{...m,name:v},index:y,currentViewId:a})),i(wr()),await l.sendInsertColumnEvent({contentId:e,databaseContainer:We()})},[l,e,a,i,t,d,r,s]);return n?h.jsx(Bt,{content:()=>d(G["table-layout.insert-column-tooltip"]),position:r===nt.BEFORE?"left":"right",children:h.jsx(uxt,{onClick:u,position:r,...o,"data-testid":"insert-field-dot",children:h.jsx(Qr,{label:"",LEGACY_size:"small"})})}):null},fxt=10,pxt=un(["&.",",&.","{z-index:1;&:before{content:' ';position:absolute;top:0;height:",";width:2px;background-color:",";pointer-events:none;}&.","{&:before{left:-1px;}}&.","{&:before{right:-1px;}}}"],Ie.INSERT_COLUMN_BEFORE,Ie.INSERT_COLUMN_AFTER,({containerHeight:e})=>`${e-fxt}px`,vn,Ie.INSERT_COLUMN_BEFORE,Ie.INSERT_COLUMN_AFTER),Sie=Le.div.withConfig({displayName:"Table__TableLayoutWrapper",componentId:"sc-47djjv-0"})([""]),kie=Le(Yse).withConfig({displayName:"Table",componentId:"sc-47djjv-1"})(["overflow-wrap:anywhere;width:100%;box-sizing:border-box;min-width:",";background:",";.","{display:none;transition:opacity 0.2s;background-color:",";color:",";border-radius:6px;&:hover{",";cursor:pointer;}.","{display:flex;}.","{display:none;}&.","{display:flex;",";cursor:grabbing;.","{display:flex;}.","{display:none;}}}&,> *{display:flex;flex-direction:column;}> * > tr{display:grid;grid-template-columns:",";}> * > tr > *{position:relative;display:flex;flex-direction:column;padding:0;box-sizing:border-box;min-width:0;> ",",> ","{flex-grow:1;}}> * > tr > .entry-number-table-header,> * > tr > .entry-number-table-data{padding-top:",";position:sticky;","}> thead > tr > th{",";}> thead > tr > th:nth-last-child(2){","{margin-right:0;}border-right:",";border-width:","px;border-start-end-radius:",";}> thead > tr > :nth-child(3){","}> thead > tr > :nth-child(2){","}> thead > tr > th:nth-child(","){border-start-start-radius:",";}> thead > tr > th.","{z-index:1;right:",";","{position:relative;left:-39px;height:calc(100% - 1px);width:40px;border-width:","px;border:1px solid transparent;border-left:1px solid ",";box-sizing:border-box;z-index:1;}}> thead > tr > th:not(.","){","{padding:",";}svg{height:18px;width:auto;}}> thead > tr > th,> tfoot > tr > td,> tbody > tr > td{min-height:","px;}> tbody > tr > *:nth-last-child(2){border-right:",";border-width:","px;}> tbody > tr > :nth-child(3){","}> tbody > tr > :nth-child(2){","}> tbody > tr:first-of-type > *{","{top:1px;}}> tbody > tr:last-of-type > *{","{bottom:1px;}}td{&.",":not(:focus-within){background:",";}&.",":not(:focus-within){background:transparent !important;}&.",":not(:focus-within){opacity:0.4;}}th.",",td.","{position:sticky;right:0;background:",";border-left:",";border-bottom:",";border-width:","px;min-width:",";justify-content:center;> *{flex-grow:1;}}> * > tr:not(.",") > *.",":is(:hover) ~ *."," ",",> * > tr:not(.",") > *.",":has(~ .",":is(:hover)) ",",> * > tr > td:hover ","{opacity:1;z-index:",";}"],e=>`${e.minWidth}px`,U("elevation.surface","#FFFFFF"),Ie.SELECT_BUTTON,U("elevation.surface.sunken","#F7F8F9"),jt,WS,Ie.DRAG_HANDLER_ICON,Ie.ACTIVE_DRAG_HANDLER_ICON,Ie.SHOW_AS_DRAGGING,WS,Ie.ACTIVE_DRAG_HANDLER_ICON,Ie.DRAG_HANDLER_ICON,e=>e.gridTemplateColumns,Dm,Kt,U("space.150","12px"),e=>!e.canEditContent&&`
    left: 0;
  `,pxt,Dm,Is,Si,Rn,e=>e.hasNumberedEntries&&e.canEditContent&&`
      border-left: none;
    `,e=>e.hasNumberedEntries&&!e.canEditContent&&`
      border-left: none;
    `,({canEditContent:e})=>e?2:1,Rn,Ie.ADD_FIELD,U("space.negative.025","-2px"),xie,Si,U("color.border","#091E4224"),Ie.ADD_FIELD,Dg,U("space.050","4px"),z3,Is,Si,e=>e.hasNumberedEntries&&e.canEditContent&&`
      border-left: none;
    `,e=>e.hasNumberedEntries&&!e.canEditContent&&`
      border-left: none;
    `,Bb,Bb,Ie.IS_SELECTED,U("color.background.accent.blue.subtlest","#E9F2FF"),Ie.IS_SOFT_SELECTED,Ie.SHOW_AS_DISABLED,Ie.ADD_FIELD,Ie.ACTIONS,U("elevation.surface","#FFFFFF"),Is,Is,Si,e=>`${e.actionsMidWidth}px`,Ie.IS_SELECTED,Ie.IS_SELECTED,Ie.IS_SELECTED,Dp,Ie.IS_SELECTED,Ie.IS_SELECTED,Ie.IS_SELECTED,Dp,Dp,Ln.TABLE_VIEW_INSERT_DOT),mxt=M({display:"block",position:"absolute",zIndex:1,background:go.backgroundColor,content:'""',pointerEvents:"none"}),hxt={top:M({height:go.thickness,top:"var(--local-line-offset)",right:0,left:0}),right:M({width:go.thickness,top:0,right:"var(--local-line-offset)",bottom:0}),bottom:M({height:go.thickness,right:0,bottom:"var(--local-line-offset)",left:0}),left:M({width:go.thickness,top:0,bottom:0,left:"var(--local-line-offset)"})};function GS({edge:e,gap:t="0px"}){const n=`calc(-0.5 * (${t} + ${go.thickness}px))`;return k("div",{css:[mxt,e&&hxt[e]],style:{"--local-line-offset":n}})}const al=(e,t,n,r)=>{const o=r.getState(),a=Xe(o,{contentId:e}),s=Cn(a,t),i=fn(a,n),l=_o(a,s,i);if(s.type===ae.BACKLINK||s.type===ae.ENTRY_DETAILS){const d=Kl({database:a,field:s,entry:i,value:l},o),u=ZN(a,s,i,l,o);return d===""?Number(u)===0:!d}else return s.type===l.type?za({database:a,field:s,entry:i,value:l},o):!Kl({database:a,field:s,entry:i,value:l},o)},Iie=(e,t,n,r)=>{const o=r.getState(),a=Xe(o,{contentId:e}),s=Cn(a,t),i=fn(a,n),l=_o(a,s,i),d=Kl({database:a,field:s,entry:i,value:l},o);if(s.type===ae.PAGE_LINK){const u=[];if(Array.isArray(l.value))for(const f of l.value)typeof f!="string"&&"ari"in f&&f.ari!==void 0&&u.push(f.ari);if(u.length>0)return u}if(d===void 0||d.trim()==="")return[];if(s.type===ae.TEXT)return[d];if(s.type===ae.ENTRY_LINK&&s.settings.contentId===void 0)return[];if(s.type===ae.BACKLINK&&s.settings.backlinkDisplayType!==VN.NUMBER){const u=ZN(a,s,i,l,o);if((d==null?void 0:d.trim())===""&&u&&!isNaN(Number(u)))return Array(Number(u)).fill(i.id)}return(d==null?void 0:d.trim().split(`
`))||[]},gxt=[ft.SUM,ft.AVERAGE,ft.MIN,ft.MAX,ft.COUNT_TOTAL,ft.COUNT,ft.COUNT_UNIQUE,ft.COUNT_EMPTY,ft.PERCENT_EMPTY,ft.PERCENT_NOT_EMPTY],WL=[ft.COUNT_TOTAL,ft.COUNT,ft.COUNT_UNIQUE,ft.COUNT_EMPTY,ft.PERCENT_EMPTY,ft.PERCENT_NOT_EMPTY],vxt=e=>{switch(e){case ae.NUMBER:return gxt;case ae.ATTACHMENT:return WL.filter(t=>t!==ft.COUNT_UNIQUE);default:return WL}},Tie=(e,t,n,r,o)=>{n(e?pt(t,"main",{type:ye.SET_SAVED_VIEW_CALCULATIONS,viewId:o,fieldId:r,value:e.value}):pt(t,"main",{type:ye.REMOVE_SAVED_VIEW_CALCULATION,viewId:o,fieldId:r}))},Aie=e=>e===ft.PERCENT_EMPTY||e===ft.PERCENT_NOT_EMPTY,Op=e=>[ae.PAGE_STATUS,ae.PAGE_LABELS,ae.PAGE_DETAILS,ae.JIRA_ISSUE_DETAILS].includes(e),bxt=(e,t)=>Aie(e)&&!t.endsWith("%")?`${t}%`:t,Hb=e=>e==null?void 0:e.map(t=>t!=null?`${t}px`:"1fr").join(" "),Die=e=>e==null?void 0:e.parentElement,yxt=e=>e==null?void 0:e.parentElement,Ext=e=>e==null?void 0:e.tBodies[0],Mp=e=>[...(e==null?void 0:e.rows)||[]],wxt=e=>e==null?void 0:e.parentElement,aO=e=>wxt(yxt(e)),Cxt=e=>e==null?void 0:e.tHead,ld=e=>[...(e==null?void 0:e.children)||[]],_xt=e=>{var t;return[...((t=e==null?void 0:e.firstElementChild)==null?void 0:t.children)||[]]},GL=e=>{if(!e)return;const t=Die(e),n=aO(t),r=Cxt(n),a=ld(t).indexOf(e);return _xt(r)[a]};var sO={};Object.defineProperty(sO,"__esModule",{value:!0});var iO=sO.default=void 0,xxt=lO(c),Sxt=lO(Yh),kxt=lO(By);function lO(e){return e&&e.__esModule?e:{default:e}}const Oie=e=>xxt.default.createElement(Sxt.default,Object.assign({LEGACY_fallbackIcon:kxt.default},e));Oie.Name="CopyIconMigration";iO=sO.default=Oie;var cO={};Object.defineProperty(cO,"__esModule",{value:!0});var u2=cO.default=void 0,Ixt=dO(c),Txt=dO(zs),Axt=dO(gg);function dO(e){return e&&e.__esModule?e:{default:e}}const Mie=e=>Ixt.default.createElement(Txt.default,Object.assign({LEGACY_fallbackIcon:Axt.default},e));Mie.Name="CrossCircleIconMigration";u2=cO.default=Mie;var uO={};Object.defineProperty(uO,"__esModule",{value:!0});var $ie=uO.default=void 0,Dxt=Rie(c),Oxt=Rie(Oe);function Rie(e){return e&&e.__esModule?e:{default:e}}const Pie=e=>Dxt.default.createElement(Oxt.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M1 13.25h14M1 2.75h5M1 8h7m1.5-3.25 3-3 3 3m-3 4v-6.5"/>'},e));Pie.displayName="SortAscendingIcon";$ie=uO.default=Pie;var fO={};Object.defineProperty(fO,"__esModule",{value:!0});var Lie=fO.default=void 0,Mxt=Nie(c),$xt=Nie(Oe);function Nie(e){return e&&e.__esModule?e:{default:e}}const Fie=e=>Mxt.default.createElement($xt.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M1 2.75h14M1 13.25h5M1 8h7m1.5 3.25 3 3 3-3m-3-4v6.5"/>'},e));Fie.displayName="SortDescendingIcon";Lie=fO.default=Fie;var pO={};Object.defineProperty(pO,"__esModule",{value:!0});var jie=pO.default=void 0,Rxt=Lxt(c),Pxt=je;function Lxt(e){return e&&e.__esModule?e:{default:e}}const Vie=e=>Rxt.default.createElement(Pxt.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="m14.3 13.29-2.31 2.33-2.3-2.32a.99.99 0 0 0-1.4 0 1.01 1.01 0 0 0 0 1.42l2.93 2.96c.21.22.49.32.77.32s.56-.11.78-.32l2.94-2.96a1.01 1.01 0 0 0 0-1.42.99.99 0 0 0-1.41 0m0-6.01-2.31 2.33-2.3-2.32a.99.99 0 0 0-1.4 0 1.01 1.01 0 0 0 0 1.42l2.93 2.96c.21.22.49.32.77.32s.56-.11.78-.32l2.94-2.96a1.01 1.01 0 0 0 0-1.42.99.99 0 0 0-1.41 0"/></svg>'},e));Vie.displayName="HipchatChevronDoubleDownIcon";jie=pO.default=Vie;var mO={};Object.defineProperty(mO,"__esModule",{value:!0});var Bie=mO.default=void 0,Nxt=jxt(c),Fxt=je;function jxt(e){return e&&e.__esModule?e:{default:e}}const Uie=e=>Nxt.default.createElement(Fxt.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="M11.22 6.32 8.29 9.28a1.01 1.01 0 0 0 0 1.42.99.99 0 0 0 1.41 0L12 8.38l2.31 2.33a.99.99 0 0 0 1.41 0 1.01 1.01 0 0 0 0-1.42l-2.94-2.96a1.1 1.1 0 0 0-.79-.33c-.28 0-.56.11-.77.32m0 6-2.93 2.96a1.01 1.01 0 0 0 0 1.42.99.99 0 0 0 1.41 0l2.3-2.32 2.31 2.33a.99.99 0 0 0 1.41 0 1.01 1.01 0 0 0 0-1.42l-2.94-2.96a1.1 1.1 0 0 0-.79-.33c-.28 0-.56.11-.77.32"/></svg>'},e));Uie.displayName="HipchatChevronDoubleUpIcon";Bie=mO.default=Uie;const Hie=({type:e,fieldType:t,useBoldText:n=!1})=>{const{formatMessage:r}=Ee(),o={[ft.SUM]:r(G["quick-calculations.calculation-type-sum"]),[ft.COUNT_TOTAL]:r(G["quick-calculations.calculation-type-count-total"]),[ft.COUNT]:r(G["quick-calculations.calculation-type-count"]),[ft.COUNT_EMPTY]:r(G["quick-calculations.calculation-type-count-empty"]),[ft.COUNT_UNIQUE]:r(G["quick-calculations.calculation-type-count-unique"]),[ft.PERCENT_EMPTY]:r(G["quick-calculations.calculation-type-percent-empty"]),[ft.PERCENT_NOT_EMPTY]:r(G["quick-calculations.calculation-type-percent-not-empty"]),[ft.AVERAGE]:r(G["quick-calculations.calculation-type-average"]),[ft.MIN]:r(G["quick-calculations.calculation-type-min"]),[ft.MAX]:r(G["quick-calculations.calculation-type-max"])},a=t&&Op(t);return h.jsx(Gt,{color:a?"color.text.disabled":n?"color.text.subtlest":"color.text",weight:n?"semibold":"regular",children:e!==void 0?o[e]:r(G["quick.calculations.placeholder-text"])})},zie=({field:e,handleOnClick:t,calculations:n})=>{const r=QN(e.id,n),{formatMessage:o}=Ee(),a=h.jsx(tE,{label:o(G["quick.calculations.check-icon"]),LEGACY_size:"medium",spacing:"spacious",color:U("color.text.brand","#0C66E4")}),s=vxt(e.type).map(i=>h.jsx(Od,{iconBefore:r?h.jsx(Me,{xcss:ie({visibility:r===i?"visible":"hidden"}),children:a}):null,onClick:()=>{t(i)},children:h.jsx(Hie,{type:i})},i));return r?[h.jsx(Od,{iconBefore:h.jsx(Me,{xcss:ie({visibility:r?"hidden":"visible"}),children:a}),onClick:()=>{t(void 0)},children:o(G["quick.calculations.calculation-type-none"])},"none"),...s]:s},Vxt=c.forwardRef(function({contentId:t,field:n,onClose:r},o){const{view:a}=at(),s=rt(),i=fe.useDispatch(),l=c.useCallback(f=>{Tie(f,t,i,n.id,a.id)},[t,i,n.id,a.id]),d=c.useMemo(()=>{var f;return(f=a.settings.calculations)==null?void 0:f[n.id]},[n.id,a.settings.calculations]),u=f=>{f?(l({value:f,label:f}),d&&d!==f?s.sendCalculationEventConverted({databaseContainer:We(),fieldId:n.id,fromCalculationType:d,toCalculationType:f,source:"quickCalcFieldActions",contentId:t}):s.sendCreateCalculationEvent({databaseContainer:We(),fieldId:n.id,calculationType:f,source:"quickCalcFieldActions",contentId:t})):(l(null),s.sendRemoveCalculationEvent({databaseContainer:We(),fieldId:n.id,source:"quickCalcFieldActions",contentId:t})),r()};return h.jsx(_e,{ref:o,padding:"space.100",children:h.jsx(zie,{field:n,handleOnClick:u,calculations:a.settings.calculations})})}),Bxt=({contentId:e,scope:t,Trigger:n,isOpen:r,offset:o,placement:a,onSelect:s})=>{const i=fe.useEqualSelector(f=>{const p=Xe(f,{contentId:e}),m=Tn(f,{contentId:e});return Cn(p,m[0])}),[l,d]=c.useState(r);c.useEffect(()=>{d(r)},[r]);const u=Ya(({ref:f,...p})=>n({ref:f,...p}),[n]);return h.jsx(el,{id:"quick-calc-menu",autoFocus:!1,isOpen:l,onClose:()=>d(!1),trigger:u,placement:a,contentContainer:null,offset:o,content:({setInitialFocusRef:f})=>h.jsx(aq,{minWidth:"200px",maxHeight:"435px",onClick:p=>p.stopPropagation(),children:h.jsx(Vxt,{field:i,contentId:e,scope:t,ref:f,onClose:()=>{d(!1),s()}})})})},ta=ie({marginRight:"space.negative.075"}),pl=ie({backgroundColor:"color.background.neutral",color:"color.text.subtlest",borderRadius:"border.radius.050",padding:"space.050",lineHeight:1,fontSize:11.67,alignSelf:"flex-end"}),Nr={add_field_left:{keyMap:ubt,keyboardShortCut:Ebt},add_field_right:{keyMap:Yae,keyboardShortCut:Zae},duplicate_fields:{keyMap:To("Copy","Mod-d"),keyboardShortCut:Xae},clear_cells:{keyMap:T3,keyboardShortCut:ZE},delete_fields:{keyMap:qae,keyboardShortCut:Qae},move_fields_left:{keyMap:fbt,keyboardShortCut:wbt},move_fields_right:{keyMap:pbt,keyboardShortCut:Cbt},filter_field:void 0,sort_field_increasing:void 0,sort_field_decreasing:void 0,hide_fields:void 0},Uxt=({contentId:e,scope:t,fieldId:n,currentViewId:r,viewSettings:o,hoverProps:a,handleSelectColumn:s,canEditFields:i})=>{var Je,qt,Yt,Ze,Ot,gr,kr;const[l,d,u,f,p,m,g,v,b]=fe.useEqualSelector(He=>{const Mt=Hu(He,{fieldId:n}),zt=Mt?IY(He,{contentId:e}):0,cr=Mt&&DY(He,{contentId:e}),Ao=Mt&&d$e(He,{contentId:e}),sl=Mt&&u$e(He,{contentId:e}),ba=i&&zt>0,lf=i&&zt>0,$c=i&&zt>0&&!cr,cf=i&&zt>0,Rg=i&&zt>0&&sl,Pg=i&&zt>0&&Ao;return[$c,lf,ba,cf,Rg,Pg,Mt,zt,Mt&&my(He)]}),{formatMessage:y}=Ee(),E=fe.useStore(),w=fe.useDispatch(),{setViewChange:C,view:x}=at(),S=rt(),{getData:I,hidePanel:A,showPanel:T}=lr(),{fieldId:O}=I()||{},D={type:"field",fieldId:n},{isMenuOpen:$,toggleOpenMenu:L}=os({type:"field",fieldId:n}),F=c.useRef(g),B=c.useCallback(async He=>{$||await S.sendFieldContextualMenuOpened({contentId:e,databaseContainer:We()}),L(),g?F.current=!1:(s(He),F.current=!0)},[S,e,s,$,g,L]),V=c.useCallback(He=>{g&&!F.current&&!$&&s(He)},[s,$,g]),Y=He=>He.preventDefault(),J=Ya(({ref:He,...Mt})=>h.jsx(rxt,{className:zo,onMouseDown:B,onMouseUp:V,onContextMenu:Y,...Mt,...a,ref:He,"data-testid":"field-select-button",children:h.jsxs(_ie,{className:Ie.SELECT_BUTTON,isActive:$&&g,isDeletionActive:b,children:[h.jsx("div",{className:Ie.ACTIVE_DRAG_HANDLER_ICON,children:h.jsx(uwe,{label:Ie.ACTIVE_DRAG_HANDLER_ICON})}),h.jsx("div",{className:Ie.DRAG_HANDLER_ICON,children:h.jsx(cwe,{label:Ie.DRAG_HANDLER_ICON})})]})}),[B,V,a,$,g,b]),z=c.useCallback(async He=>{const Mt=y(G["field-settings.field-name-inline-edit-default-text"],{defaultFieldName:y(rre()[ae.TEXT].label)});await w(US(e,()=>w(Tse(e,r,He===nt.BEFORE,Mt)))),await S.sendInsertRowEvent({contentId:e,databaseContainer:We()})},[S,e,r,w,y]),ce=c.useCallback(()=>{w(US(e,()=>w(k2t(e,x.id))))},[w,e,x.id]),le=c.useCallback(()=>{w(I2t(e))},[e,w]),{showDialog:j}=Oc(),Z=c.useCallback(()=>{w($a({value:null}))},[w]),K=c.useCallback(()=>{const He=[],Mt=Xe(E.getState(),{contentId:e});Gs(E.getState(),{contentId:e}).forEach(cr=>{Mt.fieldsById[cr]&&He.push(Mt.fieldsById[cr].name)}),j("ConfirmDialog",{heading:y(G["field-settings.delete-field"]),body:h.jsxs(Rt,{space:"space.150",children:[h.jsx(_e,{children:h.jsx(Ue,{...G["field-settings.delete-multiple-fields-confirmation-message.fields"],values:{fieldsNumber:He.length,fields:h.jsx(Gt,{weight:"bold",children:He.join(", ")})}})}),h.jsx(_e,{children:y(G["field-settings.delete-multiple-fields-confirmation-message.additional"])})]}),yesLabel:y(G["delete-buttons.delete-field-button"]),noLabel:y(G["delete-buttons.delete-field-cancel-button"]),appearance:"danger",onClose:cr=>{Z(),cr&&(i$e(E.getState(),e,O)&&A(),Ff(n,o==null?void 0:o.calculations)&&S.sendRemoveCalculationEvent({databaseContainer:We(),fieldId:n,source:"selectFieldMenu",contentId:Mt.contentId}),w(Ase(e)),S.sendDeleteFieldEvent({contentId:e,databaseContainer:We()}))}})},[E,e,j,y,Z,O,n,o==null?void 0:o.calculations,w,S,A]),oe=c.useCallback(He=>{w(T2t(e,o,He===nt.BEFORE))},[e,w,o]),X=c.useCallback(He=>C(He),[C]),pe=vt("databases-frontend-multi-sort"),ee=c.useCallback(He=>{const Mt=Xe(E.getState(),{contentId:e}),zt=Cn(Mt,n);if(pe){const cr=x.settings.sorts.find(Ao=>Ao.fieldId===He.fieldId);C(cr?{type:It.VIEW_SORT_UPDATE_VALUE,fieldId:He.fieldId,ascending:He.ascending}:{type:It.VIEW_SORT_APPEND,sort:He})}else C({type:It.VIEW_SORT,sort:He});Bp(S,He,Hd.SORT_MENU,zt?zt.type:void 0,e)},[S,e,n,pe,C,E,x.settings.sorts]),ne=x.settings.filter,Q=c.useMemo(()=>(ne==null?void 0:ne.value.filter(He=>"fieldId"in He&&He.fieldId===n).length)||0,[ne,n]),{handleCreateDefaultFilter:se}=VE({onChange:X,filterObject:Pa.filter,contentId:e,store:E}),{setActivePanelSetting:ue}=rf(),ve=c.useCallback(()=>{se(n),ue(Ct.FILTER),T("ViewSettingsPanel",{canEditViews:i})},[se,n,ue,T,i]),ke=c.useCallback(()=>{const He=Xe(E.getState(),{contentId:e}),Mt=no(He),zt=Cn(He,n),cr={type:It.VIEW_FIELDS,fieldKey:n,fieldValue:!1,fields:Mt};C(cr),S.sendHideColumnsEvent({source:"databaseView",contentId:e,databaseContainer:We(),hidden:!0,fieldType:zt.type})},[S,e,n,C,E]),ge=c.useMemo(()=>{var He;return{key:"add_field_left",content:y(G["field-actions.add-left"]),closeOnClick:!0,onClick:()=>z(nt.BEFORE),elemAfter:h.jsx(Me,{xcss:pl,children:tr((He=Nr.add_field_left)==null?void 0:He.keyMap)}),elemBefore:h.jsx(it,{xcss:ta,children:h.jsx(wwe,{label:"",size:"medium"})})}},[y,z]),[N,R]=c.useState(!1),P=c.useCallback(()=>{R(!1)},[]),W=c.useCallback(()=>{R(He=>!He)},[]),re=c.useMemo(()=>{var He;return{key:"add_field_right",content:y(G["field-actions.add-right"]),closeOnClick:!0,onClick:()=>z(nt.AFTER),onMouseEnter:P,elemAfter:h.jsx(Me,{xcss:pl,children:tr((He=Nr.add_field_right)==null?void 0:He.keyMap)}),elemBefore:h.jsx(it,{xcss:ta,children:h.jsx(iz,{label:"",size:"medium"})})}},[P,y,z]),be=c.useMemo(()=>{var He;return{key:"duplicate_fields",content:y(G["field-actions.duplicate"],{fieldCount:v}),closeOnClick:!0,onClick:ce,onMouseEnter:P,elemAfter:h.jsx(Me,{xcss:pl,children:tr((He=Nr.duplicate_fields)==null?void 0:He.keyMap)}),elemBefore:h.jsx(it,{xcss:ta,children:h.jsx(iO,{label:"",LEGACY_size:"medium",spacing:"spacious"})})}},[P,y,ce,v]),te=c.useMemo(()=>{var He;return{key:"clear_cells",content:y(G["value-actions.clear-cells"],{valuesCount:2}),closeOnClick:!0,onClick:le,onMouseEnter:P,elemAfter:h.jsx(Me,{xcss:pl,children:tr((He=Nr.clear_cells)==null?void 0:He.keyMap)}),elemBefore:h.jsx(it,{xcss:ta,children:h.jsx(u2,{label:"",LEGACY_size:"medium",spacing:"spacious"})})}},[P,y,le]),xe=c.useCallback(()=>{w($a({value:"fields"}))},[w]),he=c.useMemo(()=>{var He;return{key:"delete_fields",content:y(G["field-actions.delete"],{fieldCount:v}),closeOnClick:!0,onClick:K,onMouseEnter:xe,onMouseLeave:Z,elemAfter:h.jsx(Me,{xcss:pl,children:tr((He=Nr.delete_fields)==null?void 0:He.keyMap)}),elemBefore:h.jsx(it,{xcss:ta,children:h.jsx(Ui,{label:"",spacing:"spacious",color:b?U("color.icon.danger","#C9372C"):void 0})})}},[y,K,b,xe,Z,v]),we=c.useMemo(()=>{var He;return{key:"move_fields_left",content:y(G["field-actions.move-left"],{fieldCount:v}),closeOnClick:!0,onClick:()=>oe(nt.BEFORE),onMouseEnter:P,elemAfter:h.jsx(Me,{xcss:pl,children:tr((He=Nr.move_fields_left)==null?void 0:He.keyMap)}),elemBefore:h.jsx(it,{xcss:ta,children:h.jsx(_D,{label:"",LEGACY_size:"medium",spacing:"spacious"})})}},[P,y,oe,v]),$e=c.useMemo(()=>{var He;return{key:"move_fields_right",content:y(G["field-actions.move-right"],{fieldCount:v}),closeOnClick:!0,onClick:()=>oe(nt.AFTER),onMouseEnter:P,elemAfter:h.jsx(Me,{xcss:pl,children:tr((He=Nr.move_fields_right)==null?void 0:He.keyMap)}),elemBefore:h.jsx(it,{xcss:ta,children:h.jsx(Y3,{label:"",LEGACY_size:"medium",spacing:"spacious"})})}},[P,y,oe,v]),Fe=c.useMemo(()=>({key:"filter_field",content:y(G["field-actions.filter"]),closeOnClick:!0,onClick:ve,onMouseEnter:P,elemAfter:Q>0?h.jsx(Ap,{style:{backgroundColor:U("color.background.accent.blue.subtlest.hovered","#CCE0FF")},testId:"filters-badge",children:Q}):void 0,elemBefore:h.jsx(it,{xcss:ta,children:h.jsx(UE,{label:"",LEGACY_size:"medium",spacing:"spacious"})})}),[y,ve,P,Q]),st=c.useMemo(()=>({key:"sort_field_increasing",content:y(G["field-actions.sort-increasing"]),closeOnClick:!0,onClick:()=>ee({fieldId:n,ascending:!0}),onMouseEnter:P,elemBefore:h.jsx(it,{xcss:ta,children:h.jsx($ie,{LEGACY_fallbackIcon:Bie,label:"",spacing:"spacious"})})}),[P,n,y,ee]),dt=c.useMemo(()=>({key:"sort_field_decreasing",content:y(G["field-actions.sort-decreasing"]),closeOnClick:!0,onClick:()=>ee({fieldId:n,ascending:!1}),onMouseEnter:P,elemBefore:h.jsx(it,{xcss:ta,children:h.jsx(Lie,{LEGACY_fallbackIcon:jie,label:"",spacing:"spacious"})})}),[P,n,y,ee]),Qe=c.useMemo(()=>({key:"hide_fields",content:y(G["field-actions.hide-fields"],{fieldCount:v}),closeOnClick:!0,onClick:ke,onMouseEnter:P,value:{name:"hide_fields"},elemBefore:h.jsx(it,{xcss:ta,children:h.jsx(KI,{label:""})})}),[P,y,ke,v]),en=Ya(({ref:He,...Mt})=>{const zt=Xe(E.getState(),{contentId:e}),cr=Cn(zt,n),Ao=Op(cr.type);return h.jsx(Bt,{content:Ao?y(G["quick.calculations.field-disabled-text"]):"",position:"auto",children:sl=>h.jsx(_e,{...sl,children:h.jsx(Lb,{testId:"calculate-menu-item",isDisabled:Ao,iconAfter:Ao?h.jsx(WE,{spacing:"spacious",label:""}):h.jsx(Ig,{label:"",LEGACY_size:"medium",spacing:"spacious"}),iconBefore:h.jsx(kwe,{label:""}),onClick:W,onMouseEnter:()=>R(!0),ref:He,...Mt,children:y(G["quick.calculations.placeholder-text"])})})})},[e,n,y,E,W]),ut=c.useMemo(()=>({key:"SELECT_VALUE_MENU_ACTIONS.QUICK_CALCULATION",name:"quick-calc",closeOnClick:!0,content:i?h.jsx(Bxt,{scope:t,contentId:e,removeSelectedContent:()=>{},Trigger:en,isOpen:N,onSelect:()=>{L(),R(!1)},placement:"right",offset:[0,2]}):null,value:{name:"SELECT_VALUE_MENU_ACTIONS.QUICK_CALCULATION"}}),[i,t,e,en,N,L]),pn=c.useMemo(()=>{const He=[],Mt=[],zt=[];return u&&(He.push(re),He.push(ge)),d&&He.push(be),f&&He.push(te),l&&He.push(he),m&&Mt.push(we),p&&Mt.push($e),v===1&&(zt.push(ut),zt.push(Fe),zt.push(st),zt.push(dt),zt.push(Qe)),[{items:He},{items:Mt},{items:zt}]},[u,d,f,l,m,p,v,re,ge,be,te,he,we,$e,ut,Fe,st,dt,Qe]);return sn($&&u?(Je=Nr.add_field_left)==null?void 0:Je.keyboardShortCut:void 0,()=>z(nt.BEFORE)),sn($&&u?(qt=Nr.add_field_right)==null?void 0:qt.keyboardShortCut:void 0,()=>z(nt.AFTER)),sn($&&d?(Yt=Nr.duplicate_fields)==null?void 0:Yt.keyboardShortCut:void 0,ce),sn($&&f?(Ze=Nr.clear_cells)==null?void 0:Ze.keyboardShortCut:void 0,le),sn($&&l?(Ot=Nr.delete_fields)==null?void 0:Ot.keyboardShortCut:void 0,K),sn($&&p?(gr=Nr.move_fields_right)==null?void 0:gr.keyboardShortCut:void 0,()=>oe(nt.AFTER)),sn($&&m?(kr=Nr.move_fields_left)==null?void 0:kr.keyboardShortCut:void 0,()=>()=>oe(nt.BEFORE)),h.jsx(I3,{menuData:D,items:pn,trigger:J,placement:"bottom-start"})},Hxt=_.memo(Uxt),zxt=14,Wxt=4,Gxt=un(["::after{content:' ';position:absolute;opacity:1;top:",";left:",";width:","px;height:",";border-radius:2px;border:none;background-color:",";transition:opacity 0.2s;z-index:",";}"],U("space.negative.050","-4px"),U("space.negative.025","-2px"),Wxt,({containerHeight:e})=>`${e-8}px`,vn,Ln.TABLE_VIEW_DROP_INDICATOR),qxt=Le.div.withConfig({displayName:"TableLayoutHeaderCell__PragmaticDropIndicatorStyling",componentId:"sc-17bujtd-0"})(["content:' ';position:absolute;opacity:1;left:",";height:",";border-radius:2px;border:none;background-color:",";transition:opacity 0.2s;z-index:",";"],U("space.negative.025","-2px"),({containerHeight:e})=>`${e-8}px`,vn,Ln.TABLE_VIEW_DROP_INDICATOR),Yxt=Le.div.withConfig({displayName:"TableLayoutHeaderCell__PragmaticDropIndicatorStylingLastInRow",componentId:"sc-17bujtd-1"})(["::after{content:' ';position:absolute;opacity:1;width:2px;right:-1px;height:",";border-radius:2px;border:none;background-color:",";transition:opacity 0.2s;z-index:",";}"],({containerHeight:e})=>`${e-8}px`,vn,Ln.TABLE_VIEW_DROP_INDICATOR),hO=Le.th.withConfig({displayName:"TableLayoutHeaderCell__Th",componentId:"sc-17bujtd-2"})(["position:relative;&.","{*{cursor:"," !important;}}&:hover:not(.","){.","{display:flex;}}"," &.","{::before{content:'';position:absolute;left:0;top:",";height:",";width:100%;}}"],Ie.SHOW_AS_DISABLED,({isFilterOrSortingActive:e})=>e?"not-allowed":"grabbing",Ie.SHOW_AS_DISABLED,Ie.SELECT_BUTTON,({isDragOver:e})=>e&&Gxt,Ie.MAXIMIZE_HEIGHT,U("space.negative.100","-8px"),({containerHeight:e})=>`${e-8}px`),Kxt=_.memo(c.forwardRef(({canEditFields:e,contentId:t,fieldId:n,className:r,isLastInRow:o,onDragStart:a,onDrag:s,onDragEnd:i,isDraggingActive:l,containerHeight:d,isDragOver:u,currentViewId:f,isFirstInRow:p,fieldIndex:m,...g},v)=>{var Z;const{view:b}=at(),y=b.settings,E=c.useRef(null),w=c.useRef(null),[C,x]=Ti(),S=vg(),[I,A,T,O,D]=fe.useEqualSelector(K=>{const oe=g4(K),X=Hu(K,{fieldId:n});return[X,oe,X&&my(K),X?MY(K,{fieldId:n,contentId:t}):void 0,X?Gs(K,{contentId:t}):[]]}),$=fe.useDispatch(),L=De(K=>{const oe=ca(K,[ki?"metaKey":"ctrlKey","shiftKey"]),X=ca(K,["shiftKey"]);Np(),Lp(),$(X?ZRe({contentId:t,fieldId:n,isRangeSelect:!oe}):vK({contentId:t,fieldId:n})),$(am({value:!1}))},[t,$,n]),{closeMenu:F}=os(),B=vt("database-frontend-cell-interactions-m0"),[V,Y]=c.useState({type:"idle"}),J=I&&(B?V.type==="dragging":l),z=c.useRef(),ce=c.useCallback(K=>{var we,$e,Fe,st;if(K.target!==K.currentTarget||!w.current)return;Lp(),F();const oe=Die(w.current),X=aO(oe),pe=(we=v==null?void 0:v.current)==null?void 0:we.tableBodyRef.current,ee=Mp(pe),Q=ld(oe).filter(dt=>dt.classList.contains(Ie.IS_SELECTED)),se=Q.indexOf(w.current),ue=Q.slice(0,se+1).reduce((dt,Qe)=>dt+Qe.clientWidth,0),ve=Q.map(dt=>dt.clientWidth),ke=ve.reduce((dt,Qe)=>dt+Qe,0);z.current=document.createElement("div");const ge=document.createElement("thead"),N=document.createElement("tbody"),R=document.createElement("tr"),P=oe==null?void 0:oe.cloneNode(!0),re=ld(P).filter(dt=>dt.classList.contains(Ie.IS_SELECTED)),be=($e=re.find(dt=>dt.draggable))==null?void 0:$e.querySelector(`.${Ie.SELECT_BUTTON}`);be==null||be.classList.add(Ie.SHOW_AS_DRAGGING);const te=pe==null?void 0:pe.cloneNode(!0),xe=Mp(te);xe==null||xe.forEach(dt=>{const Qe=R.cloneNode(!1),ut=ld(dt).filter(pn=>pn.classList.contains(Ie.IS_SELECTED));Qe.append(...ut),N.append(Qe),Object.assign(Qe.style,{display:"grid",gridTemplateColumns:Hb(ve)})}),ee==null||ee.forEach(dt=>{ld(dt).filter(ut=>ut.classList.contains(Ie.IS_SELECTED)).forEach(ut=>ut.classList.add(Ie.SHOW_AS_DISABLED))});const he=X==null?void 0:X.cloneNode(!1);he&&(Object.assign(z.current.style,{position:"absolute",top:0,left:0,zIndex:Ln.DRAG_IMAGE_ELEMENT,paddingTop:0}),Object.assign(he.style,{minWidth:`${ke}px`}),Object.assign(R.style,{display:"grid",gridTemplateColumns:Hb(ve)}),he.append(ge),he.append(N),R.append(...re),ge.append(R),z.current.append(he),(Fe=X==null?void 0:X.parentElement)==null||Fe.append(z.current),K.dataTransfer.setDragImage(z.current,ue-((st=K.target)==null?void 0:st.clientWidth)/2,zxt/2)),xse(K.dataTransfer,{type:Xt.FIELD_COLUMNS,contentId:t,draggingIds:D,dragOverId:n,height:w.current.offsetHeight,width:w.current.offsetWidth}),a==null||a(K,n)},[F,t,n,a,v,D]),le=De(K=>{K.target===K.currentTarget&&(s==null||s(K,n))},[n,s]),j=De(K=>{var pe;if(K.target!==K.currentTarget)return;z.current&&(z.current.remove(),z.current=void 0);const oe=(pe=v==null?void 0:v.current)==null?void 0:pe.tableBodyRef.current;Mp(oe).forEach(ee=>{ld(ee).filter(se=>se.classList.contains(Ie.IS_SELECTED)).forEach(se=>se.classList.remove(Ie.SHOW_AS_DISABLED))}),i==null||i(K,n)},[n,i,v]);return c.useEffect(()=>{if(!w.current)return;const K=w.current;return ir(Cc({element:K,getInitialData(){return{type:Xt.FIELD_COLUMNS,fieldIndex:m,fieldId:n}},onDragStart(){B&&Y({type:"dragging"})},onDrop(){Y({type:"idle"})}}),ju({element:K,getData({input:oe,element:X}){return Lh({fieldId:n,fieldIndex:m},{input:oe,element:X,allowedEdges:["left","right"]})},canDrop({source:oe}){return oe.data.type===Xt.FIELD_COLUMNS&&oe.data.fieldId!==n&&B||oe.data.type===Xt.FILL_VALUES},onDragEnter(oe){oe.source.data.type===Xt.FIELD_COLUMNS&&B&&Y({type:"is-over",closestEdge:ua(oe.self.data)})},onDrag(oe){if(oe.source.data.type===Xt.FIELD_COLUMNS&&B){const X=ua(oe.self.data);Y(pe=>pe.type!=="is-over"||pe.closestEdge===X?pe:{type:"is-over",closestEdge:X})}},onDragLeave(){Y({type:"idle"})},onDrop(){Y({type:"idle"})}}))},[m,n,B]),h.jsxs(hO,{id:n,containerHeight:d,isDragOver:u,draggable:e&&C,onDragStart:ce,onDrag:le,onDragEnd:j,isFirstInRow:p,"data-testid":"table-layout-header-cell",ref:eo(w,(Z=v==null?void 0:v.current)==null?void 0:Z.headerFieldRef),className:fa([r,{[Ie.IS_SELECTED]:I,[Ie.IS_SOFT_SELECTED]:A,[Ie.MAXIMIZE_HEIGHT]:l,[Ie.SHOW_AS_DISABLED]:J}]),children:[I&&!l&&!(O!=null&&O.left)&&h.jsx(Ub,{contentId:t,fieldId:n,position:nt.BEFORE,canEditFields:e,currentViewId:f}),e&&V.type==="idle"&&h.jsx(Hxt,{contentId:t,scope:S,viewSettings:y,currentViewId:f,canEditFields:e,fieldId:n,hoverProps:x,handleSelectColumn:L}),h.jsx(qse,{contentId:t,fieldId:n,isReadonly:!e,isDragging:J,isSelected:I,isSoftSelected:A,hoverDeleteButton:T,isLastInRow:o,selectedAdjacentCells:O,ref:E,isFirstInRow:p,...g}),B&&V.type==="is-over"&&V.closestEdge&&(o&&V.closestEdge=="right"?h.jsx(Yxt,{containerHeight:d,children:h.jsx(GS,{edge:V.closestEdge})}):h.jsx(qxt,{containerHeight:d,children:h.jsx(GS,{edge:V.closestEdge})})),I&&!l&&!o&&!(O!=null&&O.right)&&h.jsx(Ub,{contentId:t,fieldId:n,position:nt.AFTER,canEditFields:e,currentViewId:f})]})}));var gO={},f2={};Object.defineProperty(f2,"__esModule",{value:!0});f2.default=void 0;var Xxt=Wie(c),Jxt=je,Zxt=Wie(zs);function Wie(e){return e&&e.__esModule?e:{default:e}}const Gie=e=>Xxt.default.createElement(Jxt.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="currentcolor" fill-rule="evenodd" d="m13.485 11.929 2.122-2.121a1 1 0 0 0-1.415-1.415l-2.12 2.122L9.95 8.393a1 1 0 0 0-1.414 1.415l2.12 2.12-2.12 2.122a1 1 0 0 0 1.414 1.414l2.121-2.12 2.121 2.12a1 1 0 1 0 1.415-1.414zM12 20a8 8 0 1 1 0-16 8 8 0 0 1 0 16"/></svg>'},e,{newIcon:Zxt.default}));Gie.displayName="EditorErrorIcon";f2.default=Gie;Object.defineProperty(gO,"__esModule",{value:!0});var qie=gO.default=void 0,Qxt=vO(c),eSt=vO(zs),tSt=vO(f2);function vO(e){return e&&e.__esModule?e:{default:e}}const Yie=e=>Qxt.default.createElement(eSt.default,Object.assign({LEGACY_fallbackIcon:tSt.default},e));Yie.Name="CrossCircleIconMigration";qie=gO.default=Yie;const Sa=ie({marginRight:"space.negative.075"}),ml=ie({backgroundColor:"color.background.neutral",color:"color.text.subtlest",borderRadius:"border.radius.050",padding:"space.050",lineHeight:1,fontSize:11.67,alignSelf:"flex-end"}),Fr={expand_entry:void 0,collapse_entry:void 0,copy_entry_link:void 0,add_entry_above:{keyMap:lbt,keyboardShortCut:vbt},add_entry_below:{keyMap:Gae,keyboardShortCut:Jae},duplicate_entries:{keyMap:To("Copy","Mod-d"),keyboardShortCut:Xae},clear_cells:{keyMap:T3,keyboardShortCut:ZE},delete_entries:{keyMap:qae,keyboardShortCut:Qae},move_entries_up:{keyMap:dbt,keyboardShortCut:bbt},move_entries_down:{keyMap:cbt,keyboardShortCut:ybt}},nSt=({contentId:e,scope:t,entryId:n,currentViewId:r,hoverProps:o,handleSelectEntry:a,canEditContent:s,trigger:i})=>{var Fe,st,dt,Qe,en,ut,pn;const{view:{settings:l}}=at(),[d,u,f,p,m,g,v,b,y,E,w,C,x]=fe.useEqualSelector(Je=>{const qt=Xe(Je,{contentId:e}),Yt=hy(Je,{entryId:n}),Ze=Yt?Ki(Je,{contentId:e}):[],Ot=Ze.length>1?null:Ze[0],gr=Yt?TY(Je,{contentId:e}):0,kr=Yt&&f$e(Je,{contentId:e}),He=Yt&&p$e(Je,{contentId:e}),Mt=Yt&&v4(Je),zt=eF(l),cr=s&&gr>0,Ao=s&&gr>0,sl=s&&gr>0,ba=s&&gr===1,lf=s&&gr>0&&kr,$c=s&&gr>0&&He,cf=zt;return[sl,Ao,cr,lf,$c,Yt,Ot,ba,gr,to(),pk(qt),Mt,cf]}),{formatMessage:S}=Ee(),I=fe.useStore(),A=fe.useDispatch(),T=rt(),{showPanel:O,hidePanel:D,isPanelVisible:$,getData:L}=lr(),{entryId:F}=L()||{},B=c.useCallback(()=>{D()},[D]),V=c.useCallback(()=>{O("EntryViewPanel",{entryId:n,isReadonly:!s})},[s,n,O]),Y={type:"entry",entryId:n},{isMenuOpen:J,toggleOpenMenu:z}=os(Y),ce=c.useRef(g),le=c.useCallback(Je=>{z(),g?ce.current=!1:(a(Je),ce.current=!0)},[a,g,z]),j=c.useCallback(Je=>{const qt=ca(Je,["shiftKey"]);g&&!ce.current&&!J?a(Je):!qt&&$("EntryViewPanel")&&V()},[V,a,J,$,g]),Z=Je=>Je.preventDefault(),K=Ya(({ref:Je,...qt})=>h.jsx(nxt,{className:zo,onMouseDown:le,onMouseUp:j,onContextMenu:Z,...qt,...o,ref:Je,"data-testid":"row-select-button","aria-expanded":J,"aria-haspopup":"menu",role:"button",children:h.jsxs(_ie,{className:Ie.SELECT_BUTTON,isActive:J&&g,isDeletionActive:C,children:[h.jsx("div",{className:Ie.ACTIVE_DRAG_HANDLER_ICON,children:h.jsx(gwe,{label:Ie.ACTIVE_DRAG_HANDLER_ICON})}),h.jsx("div",{className:Ie.DRAG_HANDLER_ICON,children:h.jsx(mwe,{label:Ie.DRAG_HANDLER_ICON})})]})}),[le,j,o,J,g,C]),oe=i??K,[X,pe]=c.useState(!1),ee=c.useCallback(()=>{const Je=vde({baseUrl:E,databasePath:w,contentId:e,entryId:n,viewId:r});FE(Je.toString(),"text/plain"),pe(!0),setTimeout(()=>pe(!1),3e3)},[E,e,r,w,n]),ne=c.useCallback(async Je=>{await A(BS(e,()=>A(kse(e,t,l,Je===nt.BEFORE)))),await T.sendInsertRowEvent({contentId:e,databaseContainer:We()})},[T,e,A,t,l]),Q=c.useCallback(()=>{A(BS(e,()=>A(_2t(e))))},[A,e]),se=c.useCallback(()=>{A(x2t(e))},[e,A]),ue=c.useCallback(()=>{kY(I.getState(),e,F)&&D(),A(Ise(e)),A($a({value:null})),NV(T,Gk.ENTRY_CONTEXTUAL_MENU,I.getState(),e)},[I,e,F,A,T,D]),ve=c.useCallback(Je=>{A(S2t(e,Je===nt.BEFORE))},[e,A]),ke=c.useMemo(()=>({key:"expand_entry",content:S(G["entry-actions.expand"]),onClick:V,closeOnClick:!0,elemBefore:h.jsx(it,{xcss:Sa,children:h.jsx(twe,{label:""})})}),[S,V]),ge=c.useMemo(()=>({key:"collapse_entry",content:S(G["entry-actions.collapse"]),onClick:B,closeOnClick:!0,elemBefore:h.jsx(it,{xcss:Sa,children:h.jsx(xwe,{label:"",size:"medium"})})}),[S,B]),N=c.useMemo(()=>({key:"copy_entry_link",content:S(G["entry-actions.copy-link"]),onClick:ee,tooltipDescription:X?S(G["copy-link.tooltip"]):void 0,tooltipPosition:"right",elemBefore:h.jsx(Me,{spread:"space-between",alignBlock:"center",xcss:Sa,children:h.jsx(Jr,{label:"",LEGACY_size:"medium",spacing:"spacious"})})}),[S,ee,X]),R=c.useMemo(()=>{var Je;return{key:"add_entry_above",content:S(G["entry-actions.add-above"]),onClick:()=>ne(nt.BEFORE),closeOnClick:!0,elemAfter:h.jsx(Me,{xcss:ml,children:tr((Je=Fr.add_entry_above)==null?void 0:Je.keyMap)}),elemBefore:h.jsx(it,{xcss:Sa,children:h.jsx(bwe,{label:"",size:"medium"})})}},[S,ne]),P=c.useMemo(()=>{var Je;return{key:"add_entry_below",content:S(G["entry-actions.add-below"]),onClick:()=>ne(nt.AFTER),closeOnClick:!0,elemAfter:h.jsx(Me,{xcss:ml,children:tr((Je=Fr.add_entry_below)==null?void 0:Je.keyMap)}),elemBefore:h.jsx(it,{xcss:Sa,children:h.jsx(sz,{label:"",size:"medium"})})}},[S,ne]),W=c.useMemo(()=>{var Je;return{key:"duplicate_entries",content:S(G["entry-actions.duplicate-entry"],{entryCount:y}),onClick:Q,closeOnClick:!0,elemAfter:h.jsx(Me,{xcss:ml,children:tr((Je=Fr.duplicate_entries)==null?void 0:Je.keyMap)}),elemBefore:h.jsx(it,{xcss:Sa,children:h.jsx(iO,{label:"",LEGACY_size:"medium",spacing:"spacious"})})}},[S,Q,y]),re=c.useMemo(()=>{var Je;return{key:"clear_cells",content:S(G["value-actions.clear-cells"],{valuesCount:2}),onClick:se,closeOnClick:!0,elemAfter:h.jsx(Me,{xcss:ml,children:tr((Je=Fr.clear_cells)==null?void 0:Je.keyMap)}),elemBefore:h.jsx(it,{xcss:Sa,children:h.jsx(u2,{label:"",LEGACY_size:"medium",spacing:"spacious"})})}},[S,se]),be=c.useCallback(()=>{A($a({value:"entries"}))},[A]),te=c.useCallback(()=>{A($a({value:null}))},[A]),xe=c.useMemo(()=>{var Je;return{key:"delete_entries",content:S(G["entry-actions.delete"],{entryCount:y}),onClick:ue,onMouseEnter:be,onMouseLeave:te,closeOnClick:!0,elemAfter:h.jsx(Me,{xcss:ml,children:tr((Je=Fr.delete_entries)==null?void 0:Je.keyMap)}),elemBefore:h.jsx(it,{xcss:Sa,children:h.jsx(Ui,{label:"",spacing:"spacious",color:C?U("color.icon.danger",yr):void 0})})}},[S,ue,C,be,te,y]),he=c.useMemo(()=>{var Je;return{key:"move_entries_up",content:S(G["entry-actions.move-up"],{entryCount:y}),onClick:()=>ve(nt.BEFORE),closeOnClick:!0,isDisabled:x,elemAfter:h.jsx(Me,{xcss:ml,children:tr((Je=Fr.move_entries_up)==null?void 0:Je.keyMap)}),elemBefore:h.jsx(it,{xcss:Sa,children:h.jsx(LD,{label:"",LEGACY_size:"medium",spacing:"spacious"})})}},[S,ve,x,y]),we=c.useMemo(()=>{var Je;return{key:"move_entries_down",content:S(G["entry-actions.move-down"],{entryCount:y}),onClick:()=>ve(nt.AFTER),closeOnClick:!0,isDisabled:x,elemAfter:h.jsx(Me,{xcss:ml,children:tr((Je=Fr.move_entries_down)==null?void 0:Je.keyMap)}),elemBefore:h.jsx(it,{xcss:Sa,children:h.jsx($D,{label:"",LEGACY_size:"medium",spacing:"spacious"})})}},[S,ve,x,y]),$e=c.useMemo(()=>{const Je=$("EntryViewPanel"),qt=[],Yt=[],Ze=[];return v&&!Je&&qt.push(ke),v&&Je&&qt.push(ge),b&&qt.push(N),f&&(Yt.push(R),Yt.push(P)),u&&Yt.push(W),d&&(Yt.push(re),Yt.push(xe)),p&&Ze.push(he),m&&Ze.push(we),[{items:qt},{items:Yt},{items:Ze}]},[m,p,we,he,R,P,b,d,u,f,re,ge,N,xe,W,ke,$,v]);return sn(J&&f?(Fe=Fr.add_entry_above)==null?void 0:Fe.keyboardShortCut:void 0,()=>ne(nt.BEFORE)),sn(J&&f?(st=Fr.add_entry_below)==null?void 0:st.keyboardShortCut:void 0,()=>ne(nt.AFTER)),sn(J&&u?(dt=Fr.duplicate_entries)==null?void 0:dt.keyboardShortCut:void 0,Q),sn(J&&d?(Qe=Fr.clear_cells)==null?void 0:Qe.keyboardShortCut:void 0,se),sn(J&&d?(en=Fr.delete_entries)==null?void 0:en.keyboardShortCut:void 0,ue),sn(J&&p?(ut=Fr.move_entries_up)==null?void 0:ut.keyboardShortCut:void 0,()=>ve(nt.BEFORE)),sn(J&&m?(pn=Fr.move_entries_down)==null?void 0:pn.keyboardShortCut:void 0,()=>ve(nt.AFTER)),h.jsx(I3,{menuData:Y,items:$e,trigger:oe})},Kie=e=>{const[t,n]=c.useState(0);return c.useEffect(()=>{const r=document.getElementById(e),o=()=>{n((r==null?void 0:r.scrollLeft)||0)};return r==null||r.addEventListener("scroll",o),()=>{r==null||r.removeEventListener("scroll",o)}},[e]),t},Mg=({contentId:e})=>{const{view:t}=at(),n=fe.useEqualSelector(r=>kt(r,{contentId:e,viewSettings:t.settings,includeDeleted:!0}).entries.length);return t.settings.layout.showNumberedEntries&&n!==0},Xie=Le.td.withConfig({displayName:"EntryNumber__StyledEntryNumberTd",componentId:"sc-nopfct-0"})(["width:","px;left:","px;padding-top:",";visibility:",";justify-content:start;align-items:center;background:",";z-index:",";color:",";"," ",""],e=>e.hasNumberedEntries?Bd:0,Bi/2,U("space.150","12px"),e=>e.hasNumberedEntries?"visible":"hidden",U("elevation.surface","#FFFFF"),Ln.TABLE_NUMBERED_COLUMN,U("color.text.subtlest","#6B778C"),({hasNumberedEntries:e})=>!e&&un(["height:0;"]),({isSelected:e})=>e&&un(["background:",";"],U("color.background.accent.blue.subtlest","#E9F2FF"))),Jie=Le.div.withConfig({displayName:"EntryNumber__EntryNumberShadow",componentId:"sc-nopfct-1"})(["display:none;position:absolute;height:100%;width:2px;left:","px;top:0px;box-shadow:",";"],Bd-3,U("elevation.shadow.overflow")),rSt=Le.div.withConfig({displayName:"EntryNumber__EntryNumberBorder",componentId:"sc-nopfct-2"})(["position:absolute;top:0;left:0;bottom:0;right:0;border:",";border-top:",";border-bottom:",";margin-top:",";margin-left:-1px;margin-bottom:",";margin-right:",";"],xi,e=>e.entryBeforeIsSelected?"none":xi,e=>e.entryAfterIsSelected?"none":xi,e=>e.isFirstEntry?"0px":"-1px",e=>e.isLastEntry?"0px":"-1px",U("space.negative.025","-2px")),oSt=({entryId:e,isSelected:t,contentId:n,index:r,isDraggingActive:o,entryIsSelectedMap:a,isFirstEntry:s,isLastEntry:i})=>{const l=Mg({contentId:n}),d=Kie("scrollable-inner-container"),u=c.useCallback(()=>{const m=Object.keys(a),g=m.indexOf(e);if(g===-1)return{entryBeforeIsSelected:!1,entryAfterIsSelected:!1};const v=m[g-1],b=m[g+1];return{entryBeforeIsSelected:a[v]??!1,entryAfterIsSelected:a[b]??!1}},[e,a]),{entryBeforeIsSelected:f,entryAfterIsSelected:p}=u();return h.jsxs(Xie,{className:"entry-number-table-data",hasNumberedEntries:l,isSelected:t&&!o,children:[t&&!o&&h.jsx(rSt,{entryBeforeIsSelected:f,entryAfterIsSelected:p,isFirstEntry:s,isLastEntry:i}),r+1,h.jsx(Jie,{style:{display:d>0?"block":"none"}})]})},aSt=({contentId:e,canEditContent:t})=>{const n=fe.useDispatch(),r=fe.useSelector(a=>Wi(a,{contentId:e})),o=c.useCallback(()=>{t&&n(N3(e))},[t,e,n]);sn(r>1?ZE:void 0,()=>o())},Zie=(e,t,n)=>{let r=0;for(const o of n)isNaN(Number(o.value))||(r+=Number(o.value));return r},sSt=(e,t,n)=>n.length,iSt=(e,t,n,r)=>{const o=n.filter(s=>!al(e,t,s.id,r)),a=[];for(const s of o){const i=Iie(e,t,s.id,r);for(const l of i)a.push(l.trim())}return a.length},lSt=(e,t,n,r)=>n.filter(a=>al(e,t,a.id,r)).length,cSt=(e,t,n,r)=>{const o=n.filter(s=>!al(e,t,s.id,r)),a=new Set;for(const s of o){const i=Iie(e,t,s.id,r);for(const l of i)a.add(l)}return a.size},dSt=(e,t,n,r)=>{const a=n.filter(s=>al(e,t,s.id,r)).length/n.length*100;return parseFloat(a.toFixed(3))},uSt=(e,t,n,r)=>{const a=n.filter(s=>!al(e,t,s.id,r)).length/n.length*100;return parseFloat(a.toFixed(3))},fSt=(e,t,n,r)=>{const o=n.filter(s=>!al(e,t,s.id,r));return o.length===0?null:Zie(e,t,n)/o.length},pSt=(e,t,n,r)=>{const o=n.filter(a=>!al(e,t,a.id,r));return o.length===0?null:Math.min(...o.map(a=>Number(a.value)))},mSt=(e,t,n,r)=>{const o=n.filter(a=>!al(e,t,a.id,r));return o.length===0?null:Math.max(...o.map(a=>Number(a.value)))},hSt={[ft.SUM]:Zie,[ft.COUNT_TOTAL]:sSt,[ft.COUNT]:iSt,[ft.COUNT_EMPTY]:lSt,[ft.COUNT_UNIQUE]:cSt,[ft.PERCENT_EMPTY]:dSt,[ft.PERCENT_NOT_EMPTY]:uSt,[ft.AVERAGE]:fSt,[ft.MIN]:pSt,[ft.MAX]:mSt};function gSt(e){return hSt[e]}const vSt=({fieldId:e,database:t,width:n,canEditContent:r,isFirstField:o})=>{const{view:a}=at(),s=fe.useDispatch(),{formatMessage:i}=Ee(),[l,d,u]=fe.useEqualSelector(j=>{const Z=bde(j,{database:t,fieldId:e}),K=Cn(t,e),oe=yde(t,e,j);return[Z,K,oe]}),f=c.useCallback(j=>{Tie(j,t.contentId,s,e,a.id)},[t.contentId,s,e,a.id]),[p,m]=c.useState(!1),[g,v]=c.useState(!1),{locale:b}=Ee(),y=rt(),E=c.useMemo(()=>ie({width:"100%",borderRadius:"border.radius.100",paddingTop:"space.075",paddingBottom:"space.075",paddingLeft:"space.150",paddingRight:"space.150",position:"relative",maxHeight:"36px",visibility:Ff(e,a.settings.calculations)||g||o&&r?"visible":"hidden"}),[r,e,g,o,a]),w=ie({width:"100%",paddingTop:"space.075",paddingLeft:"space.025",paddingRight:"space.025",paddingBottom:"space.075"}),C=ie({overflow:"hidden",whiteSpace:"nowrap",flexShrink:0}),x=ie({maxHeight:"300px"}),S=j=>ie({overflowWrap:"unset",fontWeight:"bold",textOverflow:j?"ellipsis":"unset",overflow:"hidden"}),I=c.useMemo(()=>{var j;return(j=a.settings.calculations)==null?void 0:j[e]},[e,a.settings.calculations]),A=j=>{j?(f({value:j,label:j}),I&&I!==j?y.sendCalculationEventConverted({databaseContainer:We(),fieldId:d.id,fromCalculationType:I,toCalculationType:j,source:"quickCalculationSelect",contentId:t.contentId}):y.sendCreateCalculationEvent({databaseContainer:We(),fieldId:d.id,calculationType:j,source:"quickCalculationSelect",contentId:t.contentId})):(f(null),y.sendRemoveCalculationEvent({databaseContainer:We(),fieldId:d.id,source:"quickCalculationSelect",contentId:t.contentId})),m(!1)},T=c.useMemo(()=>{if(!I||!l)return;const j=gSt(I),Z=fe.useStore(),K=j(t.contentId,e,u,Z);if(K===null)return"-";const oe=Yl(K.toString(),d,b,[ft.COUNT_TOTAL,ft.COUNT,ft.COUNT_UNIQUE,ft.COUNT_EMPTY,ft.PERCENT_EMPTY,ft.PERCENT_NOT_EMPTY].includes(I));return Aie(I)?bxt(I,oe):oe},[I,t.contentId,u,d,e,b,l]),O=c.useRef(null),D=c.useRef(null),$=c.useRef(null),L=c.useRef(null),[F,B]=c.useState(!1),[V,Y]=c.useState(0),[J,z]=c.useState(!1),ce=c.useCallback(()=>Op(d.type)?i(G["quick.calculations.field-disabled-text"]):J?T:"",[T,d.type,i,J]);c.useEffect(()=>{var ne,Q,se,ue;const j=((ne=L.current)==null?void 0:ne.offsetWidth)||0,Z=((Q=D.current)==null?void 0:Q.offsetWidth)||0,K=((se=$.current)==null?void 0:se.offsetWidth)||0,oe=((ue=O.current)==null?void 0:ue.offsetWidth)||0,pe=Z+K+oe+28+2,ee=j-pe;!J&&ee<=0?z(!0):J&&ee>0&&z(!1),F||Y(Z),F&&ee-V>0&&B(!1),!F&&pe>=j&&B(!0)},[T,d.name,e,F,V,J,n]);const le=j=>h.jsx(Co,{isDisabled:Op(d.type),backgroundColor:"color.background.input.hovered",...j,onClick:()=>{r&&m(!p)},xcss:E,children:h.jsxs(Me,{spread:"space-between",alignBlock:"center",children:[h.jsxs(Me,{alignBlock:"center",xcss:C,children:[!F&&h.jsx(_e,{children:h.jsx(Gt,{weight:"semibold",ref:D,maxLines:1,children:h.jsx(Hie,{type:QN(e,a.settings.calculations),fieldType:d.type,useBoldText:!0})})}),r&&h.jsx(Me,{ref:$,children:h.jsx(Me,{children:h.jsx(Ws,{spacing:"spacious",label:""})})})]}),h.jsx(Me,{alignBlock:"center",xcss:ie({overflow:"hidden",overflowWrap:"unset"}),children:Op(d.type)?h.jsx(WE,{spacing:"spacious",label:""}):h.jsx(_e,{as:"span",color:"color.text",ref:O,xcss:S(F),testId:"quick-calculation-result",children:T})})]})});return c.useEffect(()=>{Ff(e,a.settings.calculations)||v(!1)},[e,a.settings.calculations]),h.jsx(it,{children:h.jsx(cE,{isOpen:p,onClose:()=>{m(!1),v(!1)},placement:"top-start",content:()=>h.jsx(_e,{xcss:x,children:h.jsx(zie,{field:d,handleOnClick:A,calculations:a.settings.calculations})}),trigger:j=>h.jsx(it,{xcss:ie({width:"100%"}),children:h.jsx(_e,{...j,ref:L,xcss:w,onMouseEnter:()=>{!Ff(e,a.settings.calculations)&&r&&v(!0)},onMouseLeave:()=>{!Ff(e,a.settings.calculations)&&!p&&(v(!1),m(!1))},children:h.jsx(Zr,{content:ce(),position:"top",children:Z=>h.jsx(_e,{...Z,children:le(j)})})})})})})},qL=e=>ie({padding:"space.0",width:e!==void 0?`${e}px`:""}),bSt=({columnWidths:e,database:t,canEditContent:n})=>{const{view:r}=at();if(!Ede(r)&&!n)return null;const o=r.settings.layout.showNumberedEntries&&t.entries.length!==0;return h.jsxs("tr",{style:{display:"grid",gridTemplateColumns:Hb([o?Bd:0,...e])},children:[h.jsx(_e,{as:"td",xcss:qL(o?Bd:0)}),t.fields.map(a=>{const s=t.fields.indexOf(a),i=t.fields.indexOf(a)===0;return h.jsx(_e,{as:"td",xcss:qL(e[s]),children:h.jsx(vSt,{fieldId:a,database:t,width:e[s],canEditContent:n,isFirstField:i})},a)})]})},ySt=(e,t,n,r,o)=>{const a=Lm({database:e,field:t,entry:n},o()),s=Bm({database:e,field:t,value:r},ae.TEXT,o());switch(t.type){case ae.PAGE_LABELS:return a.map(i=>{var l;return(l=n1(i,{},o()))==null?void 0:l.join(`
`)}).join(`
`);case ae.PAGE_STATUS:return a.map(i=>{var l;return((l=r1(i,{},o()))==null?void 0:l.name)??""}).join(`
`);default:return s.value}},ESt=(e,t,n,r,o,a,s)=>(i,l)=>{const d=Xe(l(),{contentId:e}),u=r.filter(f=>!o.includes(f));ko(()=>{Ko({dispatch:i,getState:l},e,()=>{let f=0;u.forEach(p=>{n.forEach((m,g)=>{const v=d.entriesById[o[f]],b=d.fieldsById[a[g]],y=_o(d,b,v),E=d.entriesById[p],w=d.fieldsById[m],C=ySt(d,b,v,y,l),x=mie({value:y,field:w,entry:E,database:d,text:C},{dispatch:i,getState:l});x==null||x.forEach(S=>{i(pt(e,t,{type:ye.SET_VALUE,fieldId:m,entryId:p,value:y,change:S}))})}),f++,f>=o.length-1&&(f=0)})})})},wSt=(e,t,n)=>(r,o)=>{const a=Xe(o(),{contentId:e}),s=lc(a,n);return r(pt(e,t,{type:ye.ADD_ENTRY,entry:s})),s},CSt=Le(ht).withConfig({displayName:"AddEntryButton__StyledButton",componentId:"sc-1bo8x9v-0"})(["border-radius:0;&&{align-items:center;height:100%;text-align:left;}svg{height:18px;width:auto;}"]),_St=ie({height:"40px",marginRight:"space.050",marginBottom:"space.0",borderWidth:"1px",borderStyle:"solid",borderBottomLeftRadius:"border.radius",borderBottomRightRadius:"border.radius",borderColor:"color.border",backgroundColor:"elevation.surface",zIndex:"card"}),xSt=ie({borderBottomLeftRadius:"0"}),SSt=({addEntryButtonRef:e,contentId:t,onAdd:n,width:r})=>{const o=fe.useDispatch(),a=rt(),{view:{settings:s}}=at(),{formatMessage:i}=Ee(),l=vg(),d=Mg({contentId:t}),u=De(async()=>{o(wr()),await a.sendAddEntryButtonClickedEvent({contentId:t,databaseContainer:We()});const p=o(wSt(t,l,s));n==null||n(p)},[a,t,o,n,l,s]),f=ie({position:"sticky",bottom:"space.0",left:"space.0",zIndex:"blanket",backgroundColor:"elevation.surface"});return h.jsx(it,{xcss:[f,ie({width:"100%"})],children:h.jsx(_e,{xcss:[_St,...d?[xSt]:[]],style:{marginRight:"0",width:r||"100%"},children:h.jsx(CSt,{ref:e,appearance:"subtle",onClick:u,iconBefore:h.jsx(Qr,{spacing:"spacious",color:U("color.text.subtlest","#626F86"),label:""}),spacing:"compact",shouldFitContainer:!0,testId:"table-layout-add-entry",children:h.jsx(Gt,{color:"color.text.subtlest",size:"medium",children:i(G["table-layout.add-entry"])})})})})},kSt="0.7s";function ISt({itemIds:e,itemRefMap:t,renderSection:n,transitionTime:r=kSt}){const o=e.filter(f=>t.positions[f].top<n.bottom&&t.positions[f].top+t.positions[f].height>n.top),a=J_(e),s=J_(o),i=a&&!la(a,e),l=c.useMemo(()=>e.filter(f=>{var p;return((s==null?void 0:s.includes(f))||i&&o.includes(f))&&((p=t.prevPositions)==null?void 0:p[f])!=null&&(t.prevPositions[f].left!==t.positions[f].left||t.prevPositions[f].top!==t.positions[f].top)}),[i,e,t.positions,t.prevPositions,s,o]),d=c.useMemo(()=>new Set([...o,...l]),[l,o]),u=c.useRef([]);return c.useLayoutEffect(()=>{var f,p,m;for(const g of d){const v=l.includes(g),b=!(a!=null&&a.includes(g)),y=(f=t.refs[g])==null?void 0:f.current;y&&(v||b)&&(Object.assign(y.style,{position:"relative",transition:"none",...v&&((p=t.prevPositions[g])==null?void 0:p.left)!=null&&t.positions[g].left!=null?{left:`${t.prevPositions[g].left-t.positions[g].left}px`}:{},...v&&((m=t.prevPositions[g])==null?void 0:m.top)!=null&&t.positions[g].top!=null?{top:`${t.prevPositions[g].top-t.positions[g].top}px`}:{},...b?{opacity:"0"}:{}}),u.current.push(()=>{Object.assign(y.style,{transition:`top ${r}, left ${r}, opacity ${r}`,top:"0px",left:"0px",opacity:"1"})}))}},[l,t.positions,t.prevPositions,t.refs,a,d,r,o]),c.useEffect(()=>{setTimeout(()=>{for(const f of u.current)f();u.current=[]},0)}),d}function Qie({getPositions:e}={}){const t=yDe({onUpdate:(i,l)=>{i&&i!==l&&a.unobserve(i),l&&l!==i&&a.observe(l)}}),n=c.useRef({}),r=c.useRef({}),o=()=>{for(const i of Object.keys(r.current))delete r.current[i];e&&Object.assign(r.current,e({refs:t,sizes:n.current}))},a=z5(S_t,i=>{for(const l of i){const d=Object.keys(t).find(u=>t[u].current===l.target);d&&(n.current[d]={width:l.contentRect.width,height:l.contentRect.height})}o()}),s=Aue(r.current);return o(),{refs:t,sizes:n.current,positions:r.current,prevPositions:s}}function TSt(e){const s=[];let i=0;for(let d=0;d<e.length;d++){const u=e[d],[f,p]=[d===0?0:10/2,d===e.length-1?0:10/2],[m,g,v,b]=[i+f,i+u-p,10/2,40-10/2],[y,E,w,C,x,S]=[`${m+15},${v}`,`${m},${40/2}`,`${m+15},${b}`,`${g-15},${v}`,`${g},${40/2}`,`${g-15} ${b}`],I=`M ${y} A 15,15 0 0 0 ${E} 15,15 0 0 0 ${w} L ${S} A 15,15 0 0 0 ${x} 15,15 0 0 0 ${C} Z`;s.push(`<path style="fill:rgba(9, 30, 66, 0.04)" d="${Or(I)}"/>`),i+=u}const l=IF(e);return`<svg xmlns="http://www.w3.org/2000/svg" height="${Or(40)}" width="${Or(l)}">${s.join("")}</svg>`}const ASt=({hasNumberedEntries:e,index:t,fieldCount:n,row:r,columnWidths:o})=>{const a=c.useMemo(()=>$te(TSt(o.slice(1))),[o]);return h.jsxs("tr",{style:{background:"transparent",left:Bi/2},children:[h.jsx("div",{style:{position:"sticky",zIndex:Ln.ROW_SELECT_BUTTON,width:Bi/2,border:"none",left:0,background:U("color.background.input.pressed","#FFFFFF")}}),e&&h.jsx(Xie,{className:"entry-number-table-data",hasNumberedEntries:e,children:t+1}),h.jsx("td",{colSpan:n,style:{gridColumn:e?"3 / -1":"2 / -1",height:r.height,background:`url(${pN(a)}) repeat-y`,borderLeft:"none"}})]})},DSt="data:image/svg+xml,%3csvg%20width='150'%20height='150'%20viewBox='0%200%20150%20150'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M108.9%20108.12V100.876H121.636V93.6273H135.933V86.3782H121.636V38.8309H100.516V17.6946H33.0383V42.1582H48.7201V49.4073H13.1728V56.6564H25.3474V63.9H43.1674V71.1491H10.9092V78.3982H33.0383V132.3H121.636V122.618H95.3456V115.369H139.091V108.12H108.9Z'%20fill='url(%23paint0_linear_11796_90826)'/%3e%3cpath%20opacity='0.6'%20d='M100.664%2050.0509L121.5%2038.8309H100.664V50.0509Z'%20fill='url(%23paint1_linear_11796_90826)'/%3e%3cpath%20d='M121.647%2038.8091H121.631L121.647%2038.8309V38.8091Z'%20fill='%23E7E8EC'/%3e%3cpath%20opacity='0.6'%20d='M100.664%2050.0509L121.5%2038.8309H100.664V50.0509Z'%20fill='url(%23paint2_linear_11796_90826)'/%3e%3cpath%20opacity='0.2'%20d='M100.664%2038.8309H121.5H121.647L121.631%2038.8091L100.516%2017.6946V38.8309H100.664Z'%20fill='%23EBECF0'/%3e%3cpath%20opacity='0.6'%20d='M74.9837%2098.6509C86.5395%2098.6509%2095.9073%2089.283%2095.9073%2077.7272C95.9073%2066.1714%2086.5395%2056.8036%2074.9837%2056.8036C63.4279%2056.8036%2054.0601%2066.1714%2054.0601%2077.7272C54.0601%2089.283%2063.4279%2098.6509%2074.9837%2098.6509Z'%20fill='url(%23paint3_linear_11796_90826)'/%3e%3cpath%20d='M79.8926%2095.3782C91.4484%2095.3782%20100.816%2086.0103%20100.816%2074.4545C100.816%2062.8987%2091.4484%2053.5309%2079.8926%2053.5309C68.3368%2053.5309%2058.969%2062.8987%2058.969%2074.4545C58.969%2086.0103%2068.3368%2095.3782%2079.8926%2095.3782Z'%20fill='url(%23paint4_linear_11796_90826)'/%3e%3cpath%20d='M90.9872%2076.4018V72.5837C90.9872%2072.0327%2090.5508%2071.5746%2089.9999%2071.5582H82.849V64.4291C82.849%2063.8673%2082.3908%2063.4091%2081.829%2063.4091C81.829%2063.4091%2081.8235%2063.4091%2081.8181%2063.4091H77.9999C77.4381%2063.4037%2076.9744%2063.8564%2076.969%2064.4182V71.5473H69.8617C69.2999%2071.5473%2068.8363%2072%2068.8308%2072.5618V76.38C68.8308%2076.9418%2069.2835%2077.4055%2069.8454%2077.4109H76.9744V84.5346C76.9744%2085.0964%2077.4272%2085.56%2077.989%2085.5655H81.8072C82.369%2085.5491%2082.8163%2085.0855%2082.8054%2084.5237V77.3946H89.9399C90.4963%2077.4164%2090.9654%2076.98%2090.9872%2076.4237C90.9872%2076.4237%2090.9872%2076.4182%2090.9872%2076.4127V76.4018Z'%20fill='white'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_11796_90826'%20x1='26.6674'%20y1='125.935'%20x2='117.709'%20y2='34.8928'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.1'%20stop-color='%23C1C7D0'/%3e%3cstop%20offset='1'%20stop-color='%23EBECF0'%20stop-opacity='0.5'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint1_linear_11796_90826'%20x1='100.26'%20y1='49.6473'%20x2='122.302'%20y2='27.6055'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23A5ADBA'%20stop-opacity='0'/%3e%3cstop%20offset='1'%20stop-color='%23A5ADBA'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint2_linear_11796_90826'%20x1='100.26'%20y1='49.6473'%20x2='122.302'%20y2='27.6055'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23A5ADBA'%20stop-opacity='0'/%3e%3cstop%20offset='0.11'%20stop-color='%23A5ADBA'%20stop-opacity='0.07'/%3e%3cstop%20offset='0.32'%20stop-color='%23A5ADBA'%20stop-opacity='0.24'/%3e%3cstop%20offset='0.6'%20stop-color='%23A5ADBA'%20stop-opacity='0.52'/%3e%3cstop%20offset='0.93'%20stop-color='%23A5ADBA'%20stop-opacity='0.91'/%3e%3cstop%20offset='1'%20stop-color='%23A5ADBA'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint3_linear_11796_90826'%20x1='60.191'%20y1='92.5254'%20x2='89.7764'%20y2='62.9345'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23C1C7D0'%20stop-opacity='0.1'/%3e%3cstop%20offset='0.04'%20stop-color='%23C1C7D0'%20stop-opacity='0.25'/%3e%3cstop%20offset='0.09'%20stop-color='%23C1C7D0'%20stop-opacity='0.43'/%3e%3cstop%20offset='0.14'%20stop-color='%23C1C7D0'%20stop-opacity='0.58'/%3e%3cstop%20offset='0.21'%20stop-color='%23C1C7D0'%20stop-opacity='0.71'/%3e%3cstop%20offset='0.28'%20stop-color='%23C1C7D0'%20stop-opacity='0.82'/%3e%3cstop%20offset='0.36'%20stop-color='%23C1C7D0'%20stop-opacity='0.9'/%3e%3cstop%20offset='0.46'%20stop-color='%23C1C7D0'%20stop-opacity='0.96'/%3e%3cstop%20offset='0.6'%20stop-color='%23C1C7D0'%20stop-opacity='0.99'/%3e%3cstop%20offset='1'%20stop-color='%23C1C7D0'/%3e%3c/linearGradient%3e%3clinearGradient%20id='paint4_linear_11796_90826'%20x1='65.0999'%20y1='89.2527'%20x2='94.6854'%20y2='59.6618'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%230052CC'/%3e%3cstop%20offset='1'%20stop-color='%232684FF'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",OSt="https://nct-databases.prod-east.frontend.public.atl-paas.net/assets/database_no_results-BKBq_vBP.svg",ele=({imageUrl:e,heading:t,description:n,buttonText:r,onButtonClick:o})=>h.jsxs(Rt,{alignBlock:"center",alignInline:"center",space:"space.150",xcss:ie({textAlign:"center",paddingTop:"space.800",paddingBottom:"space.800"}),children:[h.jsx("img",{src:e,role:"presentation"}),h.jsx(Go,{as:"h3",size:"medium",children:t}),h.jsx(_e,{xcss:ie({width:"277px",lineHeight:"24px"}),children:n}),r&&o&&h.jsx(ht,{appearance:"primary",onClick:o,children:r})]}),MSt=Le.tr.withConfig({displayName:"TableLayoutEmptyStateRow__Tr",componentId:"sc-9yiuh6-0"})(["margin-right:1px;border-right:1px solid ",";transition:opacity 1s;opacity:",";"],U("color.border","#091E4224"),e=>e.isInitialized?"1":"0"),YL=()=>{const{formatMessage:e}=Ee();return h.jsx(ele,{heading:e(G["table-layout.empty-database-empty-state-heading"]),description:e(G["table-layout.empty-database-empty-state-description"]),imageUrl:DSt})},$St=()=>{const{formatMessage:e}=Ee();return h.jsx(ele,{heading:e(G["table-layout.no-matching-entries-empty-state-heading"]),description:e(G["table-layout.no-matching-entries-empty-state-description"]),imageUrl:OSt})},KL=_.memo(_.forwardRef(({contentId:e,allFieldsHidden:t,canEditContent:n},r)=>{const[o,a]=c.useState(!1);c.useEffect(()=>{a(!0)},[]);const s=fe.useEqualSelector(i=>kt(i,{contentId:e,includeDeleted:!0}).entries.length>0);return h.jsx(MSt,{ref:r,isInitialized:o,style:{gridTemplateColumns:"auto",marginLeft:`${n?Bi/2:0}px`},children:h.jsx("td",{children:s?t?h.jsx(YL,{}):h.jsx($St,{}):h.jsx(YL,{})})})})),RSt=Le.tr.withConfig({displayName:"TableLayoutRows__DropIndicator",componentId:"sc-uiak1v-0"})(["position:relative;:before{content:' ';position:absolute;z-index:",";left:0;width:calc(100%);height:4px;border-radius:2px;background-color:",";}"],Ln.TABLE_VIEW_ROW_DROP_INDICATOR,vn),e_="empty",$p="add",_s="drag",XL="gap",PSt=120,LSt=52,NSt=z3;function JL(e){const{index:t}=e;return typeof t!="number"?null:t}const FSt=_.memo(_.forwardRef(function({contentId:t,isContentEditable:n,canEditFields:r,canEditContent:o,editingIds:a,setEditingIds:s,renderSection:i,currentWidths:l,containerWidth:d,containerTop:u},f){const{view:p}=at(),m=wde(p.settings),{focusedCommentThreadId:g}=Qo(),v=vt("database-frontend-cell-interactions-m0"),[b,y,E,w,C,x]=fe.useEqualSelector(ne=>{var ge,N;const Q=kt(ne,{contentId:t,viewSettings:p.settings,includeDeleted:!0,ignoredEntries:Array.from(a).map(R=>R.entryId)}),se=Q.entries.reduce((R,P)=>(R[P]=hy(ne,{entryId:P}),R),{}),ue=g?Ere(ne,{contentId:t,threadId:g}):void 0,ve=KN(ue??""),ke=pr(ne,{contentId:t});return[Q.entries,Q.fields.length,((ge=p.settings)==null?void 0:ge.filter)||((N=p.settings)==null?void 0:N.sort),se,ve,ke]}),[S,I]=c.useState(),A=c.useMemo(()=>{const ne=[...b.length===0?[e_]:b];return S&&!E&&!v&&ne.splice(S.idx,0,_s),o&&ne.push($p),ne},[b,o,S,E,v]),T=Qie({getPositions:({sizes:ne})=>{var ue;const Q={};let se=0;for(const ve of A){const ke=se,ge=ve===_s?0:((ue=ne[ve])==null?void 0:ue.height)??NSt;Q[ve]={top:ke,height:ge},se+=ge}return Q}}),O=rt(),D=fe.useStore(),$=fe.useDispatch(),[L,F]=c.useState(),B=De(({idx:ne,ids:Q})=>{E||(ko(()=>{Ko(D,t,()=>{$(pt(t,"main",{type:ye.REORDER_ENTRIES,entryIds:Q,newIndex:ne}))})}),O.sendRowReorderedEvent({contentId:t,databaseContainer:We()}))},[O,t,$,E,D]),V=c.useMemo(()=>{var ne,Q;return(((ne=document.getElementById("layout-toolbar-wrapper"))==null?void 0:ne.offsetHeight)??PSt)+(((Q=document.getElementById("table-layout-header-row"))==null?void 0:Q.offsetHeight)??LSt)+10-(u>0?u+60:0)},[u]),{handleDragLeave:Y,handleDragEnter:J,handleDragEnd:z,handleDrag:ce,handleDrop:le,handleDragOver:j}=Sse({dragDirection:"vertical",ids:b,rowOrColIds:A,contentId:t,positions:T.positions,dragType:Xt.ENTRY_ROWS,onDrop:B,onDragOver:I,onSetDraggingItem:F,topOrLeftPadding:V}),Z=J_(!!S),K=ISt({itemIds:A,itemRefMap:T,renderSection:i,transitionTime:S||Z?"0s":void 0}),oe=c.useMemo(()=>new Set([...K,...C?[C]:[]]),[K,C]),X=c.useMemo(()=>{let ne=0;const Q=[];for(const se of A)oe.has(se)?(ne>0&&(Q.push({type:"gap",height:ne}),ne=0),Q.push({type:"row",rowId:se})):ne+=T.positions[se].height;return ne>0&&Q.push({type:"gap",height:ne}),Q},[A,oe,T.positions]),pe=c.useMemo(()=>{const ne=IF(l.filter(ue=>ue!=null)),Q=l.filter(ue=>ue==null).length,se=Math.max(Vm,(d-ne)/Q);return l.map(ue=>ue??se)},[d,l]);c.useEffect(()=>da({canMonitor:({source:ne})=>ne.data.type===Xt.FILL_VALUES,onDrop:({source:ne})=>{const Q=Tn(D.getState(),{contentId:t}),se=pr(D.getState(),{contentId:t}),ue=ne.data.selectedFieldIds,ve=ne.data.selectedEntryIds;$(ESt(t,"main",Q,se,ve,ue))}}),[t,$,D]),c.useEffect(()=>{if(v)return;const ne=document==null?void 0:document.querySelector("body");return ne&&(ne.addEventListener("dragover",j),ne.addEventListener("drop",le),ne.addEventListener("dragleave",Y),ne.addEventListener("dragenter",J)),()=>{ne&&(ne.removeEventListener("dragover",j),ne.removeEventListener("drop",le),ne.removeEventListener("dragleave",Y),ne.removeEventListener("dragenter",J))}},[J,Y,j,le,v]),c.useEffect(()=>{if(v)return ir(da({canMonitor({source:ne}){return ne.data.type===Xt.ENTRY_ROWS},onDrop({location:ne,source:Q}){const se=ne.current.dropTargets[1];if(!se)return;const ue=JL(Q.data),ve=JL(se.data);if(ue===null||ve===null)return;const ke=ua(se.data);B({idx:ve+(ke==="bottom"?1:0),ids:x})}}))},[v,B,x]);const ee=Mg({contentId:t});return h.jsx(h.Fragment,{children:h.jsx("tbody",{ref:f,children:m?h.jsx(KL,{contentId:t,allFieldsHidden:m,canEditContent:o}):X.map((ne,Q)=>ne.type===XL?h.jsx(ASt,{hasNumberedEntries:ee,index:Q,fieldCount:y,row:ne,columnWidths:pe},`${XL}-${Q}`):ne.rowId===$p?null:ne.rowId===e_?h.jsx(KL,{contentId:t,ref:T.refs[e_],canEditContent:o},ne.rowId):ne.rowId===_s&&S&&L&&!v?h.jsx(RSt,{},`${_s}-${Q}`):ne.rowId===_s?null:h.jsx(ikt,{ref:T.refs[ne.rowId],contentId:t,entryId:ne.rowId,isContentEditable:n,canEditFields:r,canEditContent:o,editingIds:a,setEditingIds:s,isDraggingActive:!!L,isLastInColumn:b[b.length-1]===ne.rowId,onDrag:ce,onDragEnd:z,containerWidth:d,currentViewId:p.id,index:b.indexOf(ne.rowId),entryIsSelectedMap:w},ne.rowId))})})})),jSt=Le.tr.withConfig({displayName:"TableLayoutHeaderRow__TR",componentId:"sc-vmufp7-0"})(["z-index:",";padding-top:",";"],Ln.TABLE_LAYOUT_HEADER_ROW,U("space.100")),VSt=Le.th.withConfig({displayName:"TableLayoutHeaderRow__StyledEntryNumberTh",componentId:"sc-vmufp7-1"})(["width:","px;visibility:",";left:","px;position:sticky;background:",";z-index:",";"],e=>e.hasNumberedEntries?Bd:0,e=>e.hasNumberedEntries?"visible":"hidden",Bi/2,U("elevation.surface","#FFFFF"),Ln.TABLE_ROW),BSt=_.memo(_.forwardRef(function({contentId:t,canEditContent:n,canEditFields:r,couldEditFields:o,containerHeight:a,containerLeft:s,tableBodyRef:i},l){const{view:d}=at(),u=Kie("scrollable-inner-container"),[f,p,m,g]=fe.useEqualSelector(z=>{const ce=kt(z,{contentId:t,viewSettings:d.settings,includeDeleted:!0});return[ce.fields,ce.meta.isLocked,i1(d.settings),Tn(z,{contentId:t})]}),v=Mg({contentId:t}),b=vt("database-frontend-cell-interactions-m0"),[y,E]=c.useState(),w=c.useMemo(()=>{const z=[...f];return y&&!b&&z.splice(y.idx,0,_s),z.push($p),z},[f,y,b]),C=Qie({getPositions:({sizes:z})=>{var j;const ce={};let le=0;for(const Z of w){const K=le,oe=Z===_s?0:((j=z[Z])==null?void 0:j.width)??Vm;ce[Z]={left:K,width:oe},le+=oe}return ce}});function x(z){const{fieldIndex:ce}=z;return typeof ce!="number"?null:ce}const[S,I]=c.useState(),A=fe.useStore(),T=fe.useDispatch(),O=rt(),D=c.useCallback(z=>{if(!z)return;const{idx:ce,ids:le}=z;le&&(ko(()=>{Ko(A,t,()=>{const Z=f.indexOf(le[0])<ce?le:le.slice().reverse();for(const K of Z)T(pt(t,"main",{type:ye.REORDER_FIELD,fieldId:K,newIndex:ce,hiddenFields:m}))})}),O.sendColumnReorderedEvent({contentId:t,databaseContainer:We()}))},[O,t,T,m,A,f]),$=c.useCallback(z=>{E(z),z!=null&&z.idx},[]),{handleDragLeave:L,handleDragEnter:F,handleDragEnd:B,handleDrag:V,handleDrop:Y,handleDragOver:J}=Sse({dragDirection:"horizontal",ids:f,rowOrColIds:w,contentId:t,positions:C.positions,dragType:Xt.FIELD_COLUMNS,onDrop:D,onDragOver:$,onSetDraggingItem:I,topOrLeftPadding:50-s});return c.useEffect(()=>{if(b)return ir(da({canMonitor({source:z}){return z.data.type===Xt.FIELD_COLUMNS},onDrop({location:z,source:ce}){const le=z.current.dropTargets[0];if(!le)return;const j=x(ce.data),Z=x(le.data);if(j===null||Z===null)return;const K=ua(le.data);D({id:"",idx:Z+(Z+1===f.length&&K==="right"?1:0),ids:g})}}))},[b,D,f,g]),h.jsxs(jSt,{onDragEnter:F,onDragOver:J,onDragLeave:L,onDrop:b?null:Y,id:"table-layout-header-row","data-testid":"table-layout-header-row",ref:l,children:[n&&h.jsx("th",{className:zo,style:{position:"sticky",width:`${Bi/2}px`,background:U("elevation.surface","#FFFFF"),left:0,zIndex:Ln.ROW_SELECT_BUTTON}}),h.jsx(VSt,{className:"entry-number-table-header",hasNumberedEntries:v,children:h.jsx(Jie,{style:{display:u>0?"block":"none"}})}),w.map(z=>z!==_s&&z!==$p?h.jsx(Kxt,{canEditFields:r,couldEditFields:o,contentId:t,fieldId:z,currentViewId:d.id,className:Use,ref:{current:{tableBodyRef:i,headerFieldRef:C.refs[z]}},isFirstInRow:f[0]===z,isLastInRow:f[f.length-1]===z,onDrag:V,onDragEnd:B,isDraggingActive:!!S,containerHeight:a,isDragOver:!b&&!!S&&(y==null?void 0:y.idx)===w.indexOf(z)-1,fieldIndex:w.indexOf(z)},z):z!==_s&&z===$p&&h.jsx(hO,{className:fa([Ie.ADD_FIELD],{[zo]:!0}),containerHeight:a,isDragOver:!b&&(y==null?void 0:y.idx)===w.indexOf(z)-1,children:p&&o?h.jsx(Bt,{content:()=>"Structure is locked",position:"top",children:h.jsx(zL,{contentId:t,currentViewId:d.id,isDisabled:!0})}):r?h.jsx(zL,{contentId:t,currentViewId:d.id}):null},z))]})})),Ld=9,USt=38,HSt=48,ZL=e=>e!=null?Math.max(e,hk):e,zSt=e=>{if(!e)return 0;const t=window.innerHeight,n=e.getBoundingClientRect().top;return t-n-USt-HSt-5},WSt=ie({position:"sticky",bottom:"space.0",backgroundColor:"elevation.surface",zIndex:"navigation",display:"flex"}),QL=Le.div.withConfig({displayName:"TableLayout__ActionsContainerGutter",componentId:"sc-1q0eqjp-0"})(["width:","px;"," position:sticky;z-index:1000;background:",";"],Ld,({side:e})=>e==="left"?"left: 0px;":"right: 0px;",U("elevation.surface","#FFFFFF")),GSt=Le.div.withConfig({displayName:"TableLayout__ActionsContainer",componentId:"sc-1q0eqjp-1"})(["flex:1;"]),qSt=({editingIds:e,setEditingIds:t,contentId:n,isContentEditable:r,canEditContent:o,canEditFields:a,couldEditFields:s,renderSection:i,containerWidth:l,addEntryButtonRef:d,containerTop:u,containerLeft:f,handleEntry:p})=>{var ee,ne;const{view:m}=at(),{openThread:g}=Qo(),[v,b,y]=fe.useEqualSelector(Q=>{const se=kt(Q,{contentId:n,viewSettings:m.settings,includeDeleted:!0}),ue=OY(Q,{contentId:n});return[se,no(se).map(ve=>ve.width),ue]}),E=Mg({contentId:n}),[w,C]=c.useState(void 0),x=De(Q=>C(Q.map(se=>ZL(se))),[]),S=c.useMemo(()=>[E?Bd:0,...w!=null&&w.length?w:b],[E,w,b]),I=fe.useDispatch(),A=fe.useStore(),T=De(Q=>{C(void 0),ko(()=>{Ko(A,n,()=>{for(let se=0;se<Q.length;se++){const ue=v.fields[se];Q[se]!==b[se]&&ue&&I(pt(n,"main",{type:ye.SET_FIELD_WIDTH,fieldId:ue,width:ZL(Q[se])}))}})})},[A,n,v,b,I]),O=S.reduce((Q,se)=>Q+(se??Vm),0)+Ld,D=c.useMemo(()=>`${o?S.some(Q=>Q==null)?`${Bi/2}px`:"0fr":""} ${Hb(S)} ${Ld}px`,[o,S]),$=c.useRef(null),L=c.useRef(null),F=c.useRef(null),[B,V]=c.useState(0),Y=c.useCallback(()=>{I(wr())},[I]),J=['[id="database-contextual-menu"]','[data-testid="confirm-dialog--blanket"]','[id="quick-calc-menu"]','[id="bulk-edit-values"]'],{isPanelVisible:z}=lr(),le=["FieldSettingsPanel","ViewSettingsPanel","EntryViewPanel"].some(Q=>z(Q));Tg(Y,F,J,y&&!le);const j=c.useCallback(()=>{!g.valueId&&!(document.activeElement instanceof HTMLIFrameElement)&&I(wr())},[I,g.valueId]),Z=W5(()=>{const Q=zSt(F.current);V(Q)},300);c.useEffect(()=>(window.addEventListener("blur",j),()=>{window.removeEventListener("blur",j)}),[j]),c.useEffect(()=>(window.addEventListener("resize",Z),()=>{window.removeEventListener("resize",Z)}),[Z]),aSt({contentId:n,canEditContent:o});const oe=(B!==0?Math.min(((ee=F.current)==null?void 0:ee.offsetHeight)??0,B):((ne=F.current)==null?void 0:ne.offsetHeight)??0)+e.size*z3,X=S.reduce((Q,se)=>{if(Q!==void 0&&se!==void 0)return Q+se},0),pe=c.useMemo(()=>{const se=(L.current!==null?[...L.current.children].filter(i2):[]).slice(1);return b.map((ue,ve)=>{var ke;return ue||((ke=se[ve])==null?void 0:ke.offsetWidth)})},[b]);return h.jsxs(Sie,{containerWidth:l,children:[h.jsx(Mwt,{widths:S,onResizeSubmit:T,onResize:x,minWidth:hk,isDisabled:!a,contentId:n,hasNumberedEntries:E,fieldIds:v.fields,databaseDraft:v,children:Q=>h.jsxs(kie,{ref:F,id:"layout-table","data-testid":"layout-table",minWidth:O,gridTemplateColumns:D,actionsMidWidth:Ld,containerHeight:oe,canEditContent:o,hasNumberedEntries:E,children:[h.jsx("thead",{children:h.jsx(BSt,{contentId:n,canEditContent:o,canEditFields:a,couldEditFields:s,containerHeight:oe,containerLeft:f,ref:L,tableBodyRef:$})}),h.jsx(FSt,{contentId:n,isContentEditable:r,canEditFields:a,canEditContent:o,editingIds:e,setEditingIds:t,renderSection:i,currentWidths:Q,containerWidth:l,containerTop:u,ref:$})]})}),h.jsxs(_e,{xcss:WSt,children:[h.jsx(QL,{side:"left"}),h.jsxs(GSt,{children:[o&&h.jsx(SSt,{addEntryButtonRef:d,contentId:n,onAdd:p,width:X}),h.jsx(bSt,{database:v,columnWidths:pe,containerWidth:l,canEditContent:o})]}),h.jsx(QL,{side:"right"})]})]})},YSt=_.memo(qSt),KSt=Object.freeze(Object.defineProperty({__proto__:null,ACTIONS_MID_WIDTH:Ld,default:YSt},Symbol.toStringTag,{value:"Module"})),XSt=c.forwardRef(function({contentId:t,value:n,onBulkEditChange:r},o){const[a,s,i]=fe.useEqualSelector(p=>{const m=Xe(p,{contentId:t}),g=Tn(p,{contentId:t}),v=pr(p,{contentId:t}),b=Un(m,g[0]),y=or(m,v[0]);return[b,v,y]}),l=fe.useDispatch(),d=De(p=>{l(pt(t,"main",p))},[t,l]),u=fe.useStore(),f=De((p,m)=>{a&&(r(p,m),ko(()=>{Ko(u,t,()=>{s.forEach(g=>{d({type:ye.SET_VALUE,fieldId:a.id,entryId:g,value:p,change:m})})})}))},[t,d,r,s,a,u]);return a?h.jsx(i3,{contentId:t,field:a,entryId:i==null?void 0:i.id,value:n||zm(a.type),isSeamless:!0,onChange:f,autoFocus:!0,addChangeToDraft:d,ref:o,isBulkEdit:!0}):null}),JSt=Le.div.withConfig({displayName:"BulkEditValues__ContentContainer",componentId:"sc-1vf2mbl-0"})(["padding:",";"],U("space.050","4px")),ZSt=({contentId:e,removeSelectedContent:t,Trigger:n,isOpen:r,offset:o,placement:a})=>{const[s,i]=fe.useEqualSelector(w=>{const C=Xe(w,{contentId:e}),x=Tn(w,{contentId:e}),S=pr(w,{contentId:e}),I=AY(w,{contentId:e}),A=Un(C,x[0]),T=or(C,S[0]),O=A&&S.map(L=>{const F=fn(C,L);return _o(C,A,F)}),$=(O==null?void 0:O.every(L=>la(L.value,O==null?void 0:O[0].value)))&&A&&T?_o(C,A,T):void 0;return[I,$]}),l=vt("databases-frontend-ci2-m1"),[d,u]=c.useState(i),f=c.useRef(d),p=De(w=>{f.current===void 0&&t(),f.current=w,u(w)},[t]),[m,g]=Mh(!1,r),v=De(()=>{m||u(void 0),g(!m)},[m,g]),b=c.useRef(s);c.useEffect(()=>{m&&!la(s,b.current)&&u(void 0),b.current=s},[m,s]);const{formatMessage:y}=Ee(),E=Ya(({ref:w,...C})=>n&&typeof E=="function"?n({ref:w,...C}):h.jsx(Bt,{content:y(G["bulk-edit-values.tooltip"]),children:h.jsx(dn,{icon:Om,label:y(G["bulk-edit-values.label"]),spacing:"compact",appearance:"subtle",isSelected:m,onClick:x=>{v(),x.stopPropagation(),x.preventDefault()},ref:w,...C})}),[n,y,v,m]);return h.jsx(el,{id:"bulk-edit-values",autoFocus:!1,isOpen:m,onClose:v,contentContainer:JSt,trigger:E,placement:a,offset:o,content:({setInitialFocusRef:w})=>h.jsx(nT,{minWidth:"200px",maxHeight:"435px",onClick:C=>C.stopPropagation(),children:h.jsx(XSt,{contentId:e,value:l?i:d,onBulkEditChange:p,ref:w})})})},pi=ie({marginRight:"space.negative.075"}),P0=ie({backgroundColor:"color.background.neutral",color:"color.text.subtlest",borderRadius:"border.radius.050",padding:"space.050",lineHeight:1,fontSize:11.67,alignSelf:"flex-end"}),mi={comments:{keyMap:mbt,keyboardShortCut:_bt},copy_value_link:void 0,bulk_edit_values:void 0,add_field_right:{keyMap:Yae,keyboardShortCut:Zae},add_entry_below:{keyMap:Gae,keyboardShortCut:Jae},clear_values:{keyMap:T3,keyboardShortCut:ZE},delete_entries:void 0,delete_fields:void 0},tle=_.memo(function({contentId:t,scope:n,entryId:r,fieldId:o,currentViewId:a,Trigger:s,canEditContent:i,canEditFields:l,panel:d=!1,placement:u="right-start",fieldTypeCategories:f=[po.BASIC,po.PAGE,po.OTHER_DATABASES,po.JIRA]}){var pn,Je,qt,Yt;const{view:{settings:p}}=at(),[m,g,v,b,y,E,w,C,x,S,I,A,T,O,D]=fe.useEqualSelector(Ze=>{const Ot=Xe(Ze,{contentId:t}),gr=fn(Ot,r),kr=Cn(Ot,o),He=_o(Ot,kr,gr),Mt=ha(Ze,{entryId:r,fieldId:o}),zt=Mt?pr(Ze,{contentId:t}):[],cr=Mt?Tn(Ze,{contentId:t}):[],Ao=cr.length,sl=zt.length,ba=Mt?Wi(Ze,{contentId:t}):0,lf=Mt&&DY(Ze,{contentId:t}),$c=zt.flatMap(m2=>{const Ele=fn(Ot,m2);return Nm({database:Ot,field:kr,entry:Ele},Ze)}),cf=$c.every(m2=>la(m2.contentId,$c[0].contentId)),Rg=So(kr.type),Pg=Rg.category,fle=f!=null&&f.includes(po.PAGE)&&Pg===po.PAGE?cf:f.includes(Pg),wO=Rg.editMode({database:Ot,field:kr,entry:gr,value:He},Ze)!==Ei.READ_ONLY,ple=Mt&&v4(Ze),mle=Mt&&my(Ze),CO=i&&ba>0,hle=CO&&wO&&kr.type!==ae.PAGE_STATUS,gle=i&&ba===1,vle=i&&ba>1&&Ao===1&&wO&&fle,ble=i&&ba>0,yle=l&&ba>0&&!lf;return[gle,CO,hle,vle,ble,yle,ba,Ao,sl,to(),pk(Ot),ple,mle,zt,cr]}),$=w>0,{formatMessage:L}=Ee(),{setOpenThread:F}=Qo(),B=fe.useStore(),V=fe.useDispatch(),Y=rt(),J={type:"value",entryId:r,fieldId:o},{isMenuOpen:z}=os(J),{getData:ce,hidePanel:le}=lr(),{fieldId:j}=ce()||{},{entryId:Z}=ce()||{},[K,oe]=c.useState(!1),X=c.useCallback(()=>{const Ze=new URL(S+I);Ze.searchParams.set("contentId",t),Ze.searchParams.set("entryId",r),Ze.searchParams.set("fieldId",o),FE(Ze.toString(),"text/plain"),oe(!0),setTimeout(()=>oe(!1),3e3)},[S,t,I,r,o]),pe=c.useCallback(async Ze=>{const Ot=L(G["field-settings.field-name-inline-edit-default-text"],{defaultFieldName:L(So(ae.TEXT).label)});await V(US(t,()=>V(Tse(t,a,Ze===nt.BEFORE,Ot)))),await Y.sendInsertRowEvent({contentId:t,databaseContainer:We()})},[Y,t,a,V,L]),ee=c.useCallback(async Ze=>{await V(BS(t,()=>V(kse(t,n,p,Ze===nt.BEFORE)))),await Y.sendInsertRowEvent({contentId:t,databaseContainer:We()})},[Y,t,V,n,p]),ne=c.useCallback(()=>{V(N3(t))},[t,V]),Q=c.useCallback(()=>{F({valueId:Va(r,o),create:!0,panel:d})},[r,o,d,F]),se=c.useCallback(()=>{kY(B.getState(),t,Z)&&le(),V(Ise(t)),NV(Y,Gk.ENTRY_CONTEXTUAL_MENU,B.getState(),t)},[B,t,Z,V,Y,le]),{showDialog:ue}=Oc(),ve=c.useCallback(()=>{V($a({value:"fields"})),V(yK({fieldIds:D,clearSelectedValues:!1}))},[V,D]),ke=c.useCallback(()=>{V($a({value:null})),V(e9e({fieldIds:D}))},[V,D]),ge=c.useCallback(()=>{V($a({value:null}))},[V]),N=c.useCallback(()=>{V($a({value:null})),V(QRe({entryIds:O}))},[V,O]),R=c.useCallback(()=>{V($a({value:"entries"})),V(bK({entryIds:O,clearSelectedValues:!1}))},[V,O]),P=c.useCallback(()=>{const Ze=[],Ot=Xe(B.getState(),{contentId:t});Gs(B.getState(),{contentId:t}).forEach(kr=>{Ot.fieldsById[kr]&&Ze.push(Ot.fieldsById[kr].name)}),ue("ConfirmDialog",{heading:L(G["field-settings.delete-field"]),body:h.jsxs(Rt,{space:"space.150",children:[h.jsx(_e,{children:h.jsx(Ue,{...G["field-settings.delete-multiple-fields-confirmation-message.fields"],values:{fieldsNumber:Ze.length,fields:h.jsx(Gt,{weight:"bold",children:Ze.join(", ")})}})}),h.jsx(_e,{children:L(G["field-settings.delete-multiple-fields-confirmation-message.additional"])})]}),yesLabel:L(G["delete-buttons.delete-field-button"]),noLabel:L(G["delete-buttons.delete-field-cancel-button"]),appearance:"danger",onClose:kr=>{ge(),kr&&(Tn(B.getState(),{contentId:t}).includes(j)&&le(),V(Ase(t)))}}),Y.sendDeleteFieldEvent({contentId:t,databaseContainer:We()}),Y.sendRemoveCalculationEvent({databaseContainer:We(),fieldId:o,source:"selectValueMenu",contentId:Ot.contentId})},[B,t,ue,L,Y,o,ge,j,V,le]),W=c.useMemo(()=>{var Ze;return{key:"comments",content:L(G["value-actions.comments"]),onClick:()=>Q(),closeOnClick:!0,tooltipPosition:"right",elemBefore:h.jsx(Me,{spread:"space-between",alignBlock:"center",xcss:pi,children:h.jsx(OZ,{label:"",spacing:"spacious"})}),elemAfter:h.jsx(Me,{xcss:P0,children:tr((Ze=mi.comments)==null?void 0:Ze.keyMap)})}},[L,Q]),re=c.useMemo(()=>({key:"copy_value_link",content:L(G["value-actions.copy-link"]),onClick:X,closeOnClick:!1,tooltipDescription:K?L(G["copy-link.tooltip"]):void 0,tooltipPosition:"right",elemBefore:h.jsx(Me,{spread:"space-between",alignBlock:"center",xcss:pi,children:h.jsx(Jr,{label:"",LEGACY_size:"medium",spacing:"spacious"})})}),[L,X,K]),[be,te]=c.useState(!1),xe=c.useCallback(()=>{te(!1)},[]),he=c.useCallback(()=>{te(Ze=>!Ze)},[]),we=Ya(({ref:Ze,...Ot})=>h.jsx(Lb,{isSelected:be,iconAfter:h.jsx(Ig,{label:"",LEGACY_size:"medium",spacing:"spacious"}),iconBefore:h.jsx(Om,{label:"",LEGACY_size:"medium",spacing:"spacious"}),onClick:he,onMouseEnter:()=>te(!0),ref:Ze,...Ot,children:L(G["value-actions.bulk-edit-values"],{valuesCount:w})}),[L,be,w,he]),$e=c.useMemo(()=>({key:"bulk_edit_values",name:L(G["value-actions.bulk-edit-values"],{valuesCount:w}),elemBefore:h.jsx(it,{xcss:pi,children:h.jsx(Om,{label:"",LEGACY_size:"medium",spacing:"spacious"})}),content:h.jsx(ZSt,{contentId:t,removeSelectedContent:ne,Trigger:we,isOpen:be,placement:"right",offset:[0,2]}),value:{name:"bulk_edit_values"}}),[we,t,L,ne,be,w]),Fe=c.useMemo(()=>{var Ze;return{key:"add_field_right",content:L(G["field-actions.add-right"]),onClick:async()=>{await pe(nt.AFTER)},onMouseEnter:xe,closeOnClick:!0,elemAfter:h.jsx(Me,{xcss:P0,children:tr((Ze=mi.add_field_right)==null?void 0:Ze.keyMap)}),elemBefore:h.jsx(it,{xcss:pi,children:h.jsx(iz,{label:"",size:"medium"})})}},[xe,L,pe]),st=c.useMemo(()=>{var Ze;return{key:"add_entry_below",content:L(G["entry-actions.add-below"]),onClick:async()=>await ee(nt.AFTER),onMouseEnter:xe,closeOnClick:!0,elemAfter:h.jsx(Me,{xcss:P0,children:tr((Ze=mi.add_entry_below)==null?void 0:Ze.keyMap)}),elemBefore:h.jsx(it,{xcss:pi,children:h.jsx(sz,{label:"",size:"medium"})})}},[xe,L,ee]),dt=c.useMemo(()=>{var Ze;return{key:"clear_values",content:L(G["value-actions.clear-cells"],{valuesCount:w}),onClick:ne,onMouseEnter:ge,closeOnClick:!0,elemAfter:h.jsx(Me,{xcss:P0,children:tr((Ze=mi.clear_values)==null?void 0:Ze.keyMap)}),elemBefore:h.jsx(it,{xcss:pi,children:h.jsx(u2,{label:"",LEGACY_size:"medium",spacing:"spacious"})})}},[L,ne,ge,w]),Qe=c.useMemo(()=>({key:"delete_entries",content:L(G["entry-actions.delete"],{entryCount:x}),onClick:()=>{se(),ge()},closeOnClick:!0,onMouseEnter:R,onMouseLeave:N,elemBefore:h.jsx(it,{xcss:pi,children:h.jsx(Ui,{label:"",spacing:"spacious",color:A?U("color.icon.danger",yr):void 0})})}),[L,se,A,R,ge,N,x]),en=c.useMemo(()=>({key:"delete_fields",content:L(G["field-actions.delete"],{fieldCount:C}),onClick:P,closeOnClick:!0,onMouseEnter:ve,onMouseLeave:ke,elemBefore:h.jsx(it,{xcss:pi,children:h.jsx(Ui,{label:"",spacing:"spacious",color:T?U("color.icon.danger",yr):void 0})})}),[L,P,T,ve,ke,C]),ut=c.useMemo(()=>{const Ze=[];$&&Ze.push(W),m&&Ze.push(re),b&&Ze.push($e);const Ot=[];return g&&(Ot.push(Fe),Ot.push(st)),v&&Ot.push(dt),y&&Ot.push(Qe),E&&Ot.push(en),[{items:Ze},{items:Ot}]},[st,Fe,$e,b,v,m,y,E,g,$,dt,W,re,Qe,en]);return sn(z&&!be?(pn=mi.comments)==null?void 0:pn.keyboardShortCut:void 0,()=>Q()),sn(z&&!be&&g?(Je=mi.add_field_right)==null?void 0:Je.keyboardShortCut:void 0,()=>pe(nt.AFTER)),sn(z&&!be&&g?(qt=mi.add_entry_below)==null?void 0:qt.keyboardShortCut:void 0,()=>ee(nt.AFTER)),sn(z&&!be&&g?(Yt=mi.clear_values)==null?void 0:Yt.keyboardShortCut:void 0,ne),sn(z&&be?xbt:void 0,()=>{xe()}),h.jsx(I3,{menuData:J,items:ut,onClose:xe,trigger:s,shouldDisableFocusLock:!0,shouldRenderToParent:!0,panel:d,placement:u})});var Nd,Ml,$l;const xl=class xl{constructor(t){ya(this,Ml);ya(this,$l);Js(this,$l,new Map),this.handleIntersection=n=>{n.forEach(r=>{var o;(o=Ne(this,$l).get(r.target))==null||o(r,this.unobserve)})},Js(this,Ml,new t(this.handleIntersection)),this.unobserve=this.unobserve.bind(this),this.observe=this.observe.bind(this),this.disconnect=this.disconnect.bind(this)}observe(t,n){t&&(Ne(this,$l).set(t,n),Ne(this,Ml).observe(t))}unobserve(t){t&&(Ne(this,$l).delete(t),Ne(this,Ml).unobserve(t))}disconnect(){Ne(this,Ml).disconnect()}static getInstance(t=IntersectionObserver){return Ne(xl,Nd)||Js(xl,Nd,new xl(t)),Ne(xl,Nd)}};Nd=new WeakMap,Ml=new WeakMap,$l=new WeakMap,ya(xl,Nd,null);let qS=xl;const QSt=Le(Dp).withConfig({displayName:"AddEntryDot__InsertEntryDot",componentId:"sc-1d5oh8a-0"})(["left:calc(50% - ","px);",""],Li/2,({position:e})=>e===nt.AFTER?un(["bottom:-","px;"],Li/2+1):un(["top:-","px;"],Li/2)),eN=({contentId:e,entryId:t,fieldId:n,canEditContent:r,position:o,hoverProps:a,setEditingIds:s})=>{const i=fe.useStore(),l=fe.useDispatch(),d=rt(),{view:{settings:u}}=at(),{formatMessage:f}=Ee(),p=De(async m=>{m.preventDefault();const g=kt(i.getState(),{contentId:e,viewSettings:u,includeDeleted:!0}),v=lc(g,u),b=g.entries.indexOf(t),y=o===nt.AFTER?b+1:b;l(pt(e,"main",{type:ye.ADD_ENTRY,entry:v,index:y})),l(wr()),s(E=>{const w=new Set(E);return w.add({entryId:v.id,fieldId:n}),w}),await d.sendInsertRowEvent({contentId:e,databaseContainer:We()})},[d,e,l,t,n,o,s,i,u]);return r?h.jsx(Bt,{content:()=>f(G["table-layout.insert-row-tooltip"]),position:o===nt.BEFORE?"top":"bottom",children:h.jsx(QSt,{onClick:p,position:o,...a,children:h.jsx(Qr,{label:"",LEGACY_size:"small"})})}):null},tN=U("color.background.accent.blue.subtler.pressed",vn),nN=U("color.background.accent.red.subtler.pressed",bn),ekt=Le.div.withConfig({displayName:"DragCaret__StyledCaret",componentId:"sc-111i6w-0"})(["z-index:1;display:flex;transition:opacity 0.2s;"," position:absolute;justify-content:center;align-items:center;bottom:",";right:-6.5px;border-left:6px solid transparent;border-right:6px solid transparent;border-top:10px solid ",";cursor:ns-resize;&:after{position:absolute;content:'';}&:hover{border-left:10px solid transparent;border-right:10px solid transparent;border-top:16px solid ",";bottom:-10px;right:-10.5px;&:after{top:-14px;border-left:6px solid transparent;border-right:6px solid transparent;",";}}&:not(:hover){&:after{top:",";border-left:3px solid transparent;border-right:3px solid transparent;",";}}"],({isActive:e})=>e&&"pointerEvents: 'none';",U("space.negative.075","-6px"),U("color.text.inverse",Ve),U("color.text.inverse",Ve),({isDeletionActive:e})=>`border-top: 10px solid ${e?nN:tN}`,U("space.negative.100","-8px"),({isDeletionActive:e})=>`border-top: 5px solid ${e?nN:tN}`),tkt=({contentId:e,scope:t,canEditContent:n,fieldId:r,entryId:o,isSelected:a,isDeletionActive:s,onIsSelectedChange:i})=>{const{formatMessage:l}=Ee(),d=_.useRef(null),u=fe.useStore(),[f,p]=c.useState(!1);return c.useEffect(()=>{if(d.current)return Cc({element:d.current,getInitialData:()=>{if(!a)return{type:Xt.FILL_VALUES,selectedFieldIds:[r],selectedEntryIds:[o]};const m=h4(u.getState(),{contentId:e}),g=Xe(u.getState(),{contentId:e}),v=m==="row"?g.fields:Tn(u.getState(),{contentId:e}),b=m==="column"?g.entries:pr(u.getState(),{contentId:e});return{type:Xt.FILL_VALUES,selectedFieldIds:[...v,r],selectedEntryIds:[...b,o]}},onDragStart:({source:m})=>{!a&&m.data.type===Xt.FILL_VALUES&&(i==null||i()),p(!0)},onDrop:()=>{p(!1),Vb.stop()},onGenerateDragPreview:({nativeSetDragImage:m})=>{_se({nativeSetDragImage:m}),Vb.start()}})},[e,o,r,a,t,u,i]),n?h.jsx(Bt,{content:()=>l(G["table-layout.drag-to-fill-tooltip"]),position:"right",children:h.jsx(ekt,{isActive:f,isDeletionActive:s,ref:d,"data-testid":"database-cell-drag-caret"})}):null},rN=Le.div.withConfig({displayName:"TableLayoutCell__DragToFillIndicator",componentId:"sc-g9jcar-0"})([":after{content:' ';position:absolute;"," left:-","px;width:calc(100% + ","px);height:6px;background-color:",";}"],({position:e})=>e===nt.BEFORE?"top: -3px;":"bottom: -3px;",Db/2,Db,vn),nkt=_.memo(_.forwardRef(function({contentId:t,entryId:n,fieldId:r,isContentEditable:o,canEditContent:a,canEditFields:s,editingIds:i,setEditingIds:l,isFirstInRow:d,isLastInRow:u,isLastInColumn:f,isSelectionDisabled:p,isInsertContentDisabled:m,showAsDisabled:g,addRowBeforeButtonHoverProps:v,addRowAfterButtonHoverProps:b,currentViewId:y,dropIndicatorEdge:E,onIsSelectedChange:w,handleOnContextMenu:C,currentSortFieldId:x,...S},I){const A=vg(),{focusedCommentThreadId:T,openThread:O}=Qo(),[D,$,L,F,B,V,Y,J,z,ce,le,j,Z,K,oe]=fe.useEqualSelector(W=>{const re=Xe(W,{contentId:t}),be=!p&&g4(W),te=!p&&ha(W,{entryId:n,fieldId:r}),xe=te?Tn(W,{contentId:t}):[],he=te?pr(W,{contentId:t}):[],we=te?MY(W,{entryId:n,fieldId:r,contentId:t}):void 0,$e=h4(W,{contentId:t}),Fe=!(te&&$e==="cell"),st=Cn(re,r),dt=fn(re,n),Qe=_o(re,st,dt),en=So(st.type).editMode({database:re,field:st,entry:dt,value:Qe},W)!==Ei.READ_ONLY,ut=te&&v4(W),pn=te&&my(W),Je=xe[xe.length-1]===r,qt=he[he.length-1]===n,Yt=he[0]===n,Ze=te&&($e==="cell"&&qt&&Je||$e==="row"&&u&&qt||$e==="column"&&f&&Je),Ot=T?Ere(W,{contentId:t,threadId:T}):void 0;return[r===re.fields[0],ut||pn,te,be,we,!Fe,Fe&&!(we!=null&&we.left)&&!m,Fe&&!(we!=null&&we.right)&&!m,Fe&&!(we!=null&&we.top)&&!m,Fe&&!(we!=null&&we.bottom)&&!m,en,qt,Yt,Ze,Ot]}),X=c.useMemo(()=>Va(n,r),[n,r]),pe=c.useMemo(()=>Array.from(i).some(({entryId:W,fieldId:re})=>D&&W===n&&re===void 0||W===n&&re===r),[i,n,r,D]),ee=c.useRef(null);c.useEffect(()=>{const W=ee.current,re=qS.getInstance();return W&&oe===X&&re.observe(W,(be,te)=>{be.isIntersecting||(be.target.scrollIntoView({behavior:"instant",block:"center",inline:"nearest"}),te(be.target))}),()=>{re.disconnect()}},[oe,X]);const[ne,Q]=c.useState(!1),se=c.useCallback(W=>{Q(!0);const re=GL(ee==null?void 0:ee.current);re==null||re.classList.add(W===nt.BEFORE?Ie.INSERT_COLUMN_BEFORE:Ie.INSERT_COLUMN_AFTER)},[ee]),ue=c.useCallback(W=>{Q(!1);const re=GL(ee==null?void 0:ee.current);re==null||re.classList.remove(W===nt.BEFORE?Ie.INSERT_COLUMN_BEFORE:Ie.INSERT_COLUMN_AFTER)},[ee]),[ve,ke]=c.useState(null);c.useEffect(()=>da({canMonitor:({source:W})=>W.data.type===Xt.FILL_VALUES,onDrag:({location:W})=>{const re=W.initial.input.clientY<=W.current.input.clientY?ep.DOWN:ep.UP;L&&ke(re)},onDrop:()=>ke(null)}),[t,L]);const[ge,N,R]=Ti(),P=fe.useDispatch();return c.useEffect(()=>{V&&ee.current&&!O.valueId&&ee.current.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})},[V,O]),h.jsxs("td",{...S,...N,"data-testid":"database-cell",onContextMenu:C,ref:eo(ee,I),onBlur:W=>{var be,te,xe;((be=W.relatedTarget)==null?void 0:be.closest("#comment-threads-popup"))||((te=W.relatedTarget)==null?void 0:te.closest('[data-canvas-target="comment-thread-dialog"]'))||((xe=W.target)==null?void 0:xe.closest("#comment-threads-popup"))||P(wr())},className:fa([{[Ie.IS_SELECTED]:L,[Ie.IS_SOFT_SELECTED]:F,[Ie.SHOW_AS_DISABLED]:g}]),children:[!d&&Y&&ge&&h.jsx(Ub,{contentId:t,fieldId:r,position:nt.BEFORE,canEditFields:s,hoverProps:{onMouseEnter:()=>se(nt.BEFORE),onMouseLeave:()=>ue(nt.BEFORE)},currentViewId:y}),z&&ge&&h.jsx(eN,{contentId:t,entryId:n,fieldId:r,position:nt.BEFORE,canEditContent:a,hoverProps:v,setEditingIds:l}),h.jsx(Ose,{contentId:t,fieldId:r,entryId:n,initialIsEditing:pe,setEditingIds:l,isReadonly:!a,isContentEditable:o,isSelected:L&&!g,onIsSelectedChange:w,isFirstInRow:d,selectedAdjacentCells:B,enableSelection:!0,markAsDeleted:$,isHoverCell:ge,setIsHoverCell:R,currentSortFieldId:x}),ce&&ge&&h.jsx(eN,{contentId:t,entryId:n,fieldId:r,position:nt.AFTER,canEditContent:a,hoverProps:b,setEditingIds:l}),J&&ge&&h.jsx(Ub,{contentId:t,fieldId:r,position:nt.AFTER,canEditFields:s,hoverProps:{onMouseEnter:()=>se(nt.AFTER),onMouseLeave:()=>ue(nt.AFTER)},currentViewId:y}),(!ve&&K||ge&&!L)&&le&&!ne&&!f&&h.jsx(tkt,{contentId:t,scope:A,canEditContent:a,isSelected:L,fieldId:r,entryId:n,isDeletionActive:$,onIsSelectedChange:w}),L&&ve===ep.UP&&Z&&h.jsx(rN,{position:nt.BEFORE}),L&&ve===ep.DOWN&&j&&h.jsx(rN,{position:nt.AFTER}),E&&h.jsx(GS,{edge:E})]})})),rkt=_.memo(function({contentId:t,entryId:n,fieldId:r,isContentEditable:o,canEditContent:a,canEditFields:s,isSelectionDisabled:i,currentViewId:l,...d}){const u=vg(),f=fe.useStore(),p=fe.useDispatch(),{openThread:m}=Qo(),{toggleOpenMenu:g,closeMenu:v}=os({type:"value",entryId:n,fieldId:r}),b=c.useCallback(C=>{const x=performance.now();v(),p(am({value:!1})),Wi(f.getState(),{contentId:t})===0&&p(n9e({value:{entryId:n,fieldId:r}})),C!=null&&C.isMultiSelectOn?p(A4({contentId:t,entryId:n,fieldId:r})):(p(Bh({entryId:n,fieldId:r})),p(am({value:!0}))),Br.getInstance().successWithDuration(Ur.DATABASE_SELECTION_CHANGE,x,performance.now())},[v,f,t,p,n,r]),y=c.useCallback(C=>{const x=Wi(f.getState(),{contentId:t})>1,S=!!C&&ca(C,["shiftKey"]);x||b({isMultiSelectOn:S})},[t,b,f]),E=c.useCallback(C=>{y(C);const x=ha(f.getState(),{entryId:n,fieldId:r});(m==null?void 0:m.valueId)!==Va(n,r)&&x&&o&&(C.preventDefault(),g(),Np())},[y,f,n,r,m==null?void 0:m.valueId,o,g]),w=c.useCallback(C=>h.jsx(nkt,{contentId:t,entryId:n,fieldId:r,isContentEditable:o,canEditContent:a,canEditFields:s,currentViewId:l,isSelectionDisabled:i,onIsSelectedChange:b,handleOnContextMenu:E,...d,...C,isFirstInRow:d.isFirstInRow,ref:C==null?void 0:C.ref}),[a,s,t,l,n,r,E,o,i,b,d]);return h.jsx(tle,{scope:u,Trigger:w,contentId:t,currentViewId:l,canEditContent:a,canEditFields:s,entryId:n,fieldId:r})}),t_=9,oN=15,okt=Le.div.withConfig({displayName:"TableLayoutRow__DisabledTooltipContainer",componentId:"sc-12ghk1l-0"})(["position:absolute;z-index:",";width:max-content;padding:",";display:inline-flex;align-items:center;gap:",";margin-top:",";border-radius:4px;background:",";box-shadow:",";"],Ln.TABLE_VIEW_SELECTION_TOOLBAR,U("space.200"),U("space.100","8px"),U("space.negative.100","-8px"),U("elevation.surface","#FFFFFF"),U("elevation.shadow.overlay")),akt=un([":after{content:' ';position:absolute;left:0;width:calc(100% - ","px);height:2px;background-color:",";opacity:0;",";}"],1+Ld,vn,({insertIndicatorPosition:e})=>e===nt.BEFORE?un(["opacity:1;top:-0.5px;"]):e===nt.AFTER&&un(["opacity:1;bottom:-0.5px;"])),nle=Le.tr.withConfig({displayName:"TableLayoutRow__Tr",componentId:"sc-12ghk1l-1"})(["transition:opacity 1s;opacity:",";position:relative;",";&.","{*{cursor:"," !important;}}&:hover:not(.","){.","{display:flex;}}"],({isInitialized:e})=>e?"1":"0",akt,Ie.SHOW_AS_DISABLED,({isFilterOrSortingActive:e})=>e?"not-allowed":"grabbing",Ie.SHOW_AS_DISABLED,Ie.SELECT_BUTTON),skt=_.memo(_.forwardRef(({contentId:e,entryId:t,isContentEditable:n,canEditContent:r,canEditFields:o,editingIds:a,setEditingIds:s,isDraggingActive:i,isLastInColumn:l,onDragStart:d,onDrag:u,onDragEnd:f,containerWidth:p,currentViewId:m,index:g,entryIsSelectedMap:v},b)=>{const{view:{settings:y}}=at(),{formatMessage:E}=Ee(),[w,C]=Ti(),[x,S]=c.useState({type:"idle"}),I=vt("database-frontend-cell-interactions-m0"),[A,T,O,D,$,L]=fe.useEqualSelector(se=>{const ue=kt(se,{contentId:e,viewSettings:y,includeDeleted:!0}),ve=hy(se,{entryId:t}),ke=eF(y);return[ue.fields,ve,Ki(se,{contentId:e}),ke,ue.entries.indexOf(t)===0,ue.entries.indexOf(t)===ue.entries.length-1]}),[F,B]=c.useState(!0);c.useEffect(()=>{B(!0)},[]);const V=fe.useDispatch(),Y=c.useCallback(se=>{const ue=!!se&&ca(se,[ki?"metaKey":"ctrlKey","shiftKey"]),ve=!!se&&ca(se,["shiftKey"]);Np(),Lp(),V(ve?JRe({contentId:e,entryId:t,isRangeSelect:!ue}):XRe({contentId:e,entryId:t})),V(am({value:!1}))},[e,V,t]),J=c.useCallback(()=>V(t9e({contentId:e,entryId:t})),[V,e,t]),{closeMenu:z}=os(),ce=c.useRef(),le=c.useRef(null),j=c.useRef(),Z=c.useCallback(se=>{var Qe,en;if(se.target!==se.currentTarget)return;Lp(),z();const ue=se.target,ve=aO(ue),ke=Ext(ve),N=Mp(ke).filter(ut=>ut.classList.contains(Ie.IS_SELECTED)),R=N.indexOf(le.current),P=N.slice(0,R+1).reduce((ut,pn)=>ut+pn.clientHeight,0),W=document.createElement("tbody"),re=ve==null?void 0:ve.cloneNode(!1),be=ke==null?void 0:ke.cloneNode(!0),xe=Mp(be).filter(ut=>ut.classList.contains(Ie.IS_SELECTED)),he=Array.from(ue.cells).map(ut=>ut.offsetWidth),we=he.slice(2).reduce((ut,pn)=>ut+pn,0)-t_+1,$e=p-10-t_-oN;xe.flatMap(ut=>Array.from(ut.querySelectorAll(`.${zo}`))).forEach(ut=>{ut.style.width="0"}),xe.flatMap(ut=>Array.from(ut.querySelectorAll(".entry-number-table-data"))).forEach(ut=>{ut.style.opacity="0"}),xe.forEach(ut=>{const Je=[0,0,...he.slice(2)].map(qt=>`${qt}px`);ut.style.gridTemplateColumns=Je.join(" ")});const dt=(Qe=xe.find(ut=>ut.draggable))==null?void 0:Qe.querySelector(`.${Ie.SELECT_BUTTON}`);dt==null||dt.classList.add(Ie.SHOW_AS_DRAGGING),dt&&(dt.style.left="-9px"),ce.current=document.createElement("div"),(en=ve==null?void 0:ve.parentElement)==null||en.append(ce.current),re.append(W),W.append(...xe),ce.current.append(re),D?(j.current=tV(ce.current),Object.assign(ce.current.style,{position:"absolute",top:0,left:0,zIndex:Ln.DRAG_IMAGE_ELEMENT}),j.current.render(h.jsxs(okt,{isEntryCardActionBar:!1,children:[h.jsx(qie,{label:"",color:U("color.icon.danger","#C9372C")}),h.jsx("div",{children:E(G["table-layout.reset-filter-to-enable-row-sorting"])})]})),se.dataTransfer.setDragImage(ce.current,0,25)):(Object.assign(ce.current.style,{width:`${Math.min(we,$e)}px`,overflow:"hidden",position:"absolute",top:0,left:0,zIndex:Ln.DRAG_IMAGE_ELEMENT,paddingLeft:`${t_}px`}),se.dataTransfer.setDragImage(ce.current,oN/2,P-(ue==null?void 0:ue.clientHeight)/2)),xse(se.dataTransfer,{type:Xt.ENTRY_ROWS,contentId:e,draggingIds:O,dragOverId:t,height:le.current.offsetHeight,width:le.current.offsetWidth}),d==null||d(se,t)},[z,p,e,t,E,D,d,O]),K=c.useCallback(se=>{se.target===se.currentTarget&&(u==null||u(se,t))},[t,u]),oe=c.useCallback(se=>{se.target===se.currentTarget&&(ce.current&&(ce.current.remove(),ce.current=void 0),j.current&&(j.current.unmount(),j.current=void 0),f==null||f(se,t))},[t,f]),X=T&&i,[pe,ee]=Ti(),[ne,Q]=Ti();return c.useEffect(()=>{if(!le.current)return;const se=le.current;return ir(Cc({element:se,getInitialData(){return{type:Xt.ENTRY_ROWS,index:g,entryId:t}},onDragStart(){I&&S({type:"dragging"})},onDrop(){S({type:"idle"})}}),ju({element:se,canDrop({source:ue}){return ue.data.type===Xt.ENTRY_ROWS&&ue.data.entryId!==t&&I||ue.data.type===Xt.FILL_VALUES},getData({input:ue,element:ve}){return Lh({entryId:t,index:g},{input:ue,element:ve,allowedEdges:["top","bottom"]})},onDragEnter(ue){ue.source.data.type===Xt.ENTRY_ROWS&&I?S({type:"is-over",closestEdge:ua(ue.self.data)}):ue.source.data.type===Xt.FILL_VALUES&&ue.location.current.dropTargets[0]&&J()},onDrag(ue){if(ue.source.data.type===Xt.ENTRY_ROWS&&I){const ve=ua(ue.self.data);S(ke=>ke.type!=="is-over"||ke.closestEdge===ve?ke:{type:"is-over",closestEdge:ve})}},onDragLeave(){S({type:"idle"})},onDrop(){S({type:"idle"})}}))},[g,b,t,J,I]),h.jsxs(nle,{ref:eo(b,le),isInitialized:F,isFilterOrSortingActive:D,insertIndicatorPosition:pe?nt.BEFORE:ne?nt.AFTER:void 0,draggable:r&&w,onDragStart:Z,onDrag:K,onDragEnd:oe,className:fa({[Ie.IS_SELECTED]:T,[Ie.SHOW_AS_DISABLED]:X}),children:[r&&h.jsx(nSt,{contentId:e,scope:"main",currentViewId:m,canEditContent:r,entryId:t,hoverProps:C,handleSelectEntry:Y}),h.jsx(oSt,{entryId:t,isSelected:T,contentId:e,index:g,isDraggingActive:I?x.type==="dragging":i,entryIsSelectedMap:v,isFirstEntry:$,isLastEntry:L}),A.map(se=>{var ue;return h.jsx(rkt,{contentId:e,entryId:t,fieldId:se,isContentEditable:n,canEditContent:r,canEditFields:o,editingIds:a,setEditingIds:s,isFirstInRow:A[0]===se,isLastInRow:A[A.length-1]===se,isLastInColumn:l,isSelectionDisabled:i,isInsertContentDisabled:i,showAsDisabled:X,addRowBeforeButtonHoverProps:ee,addRowAfterButtonHoverProps:Q,currentViewId:m,dropIndicatorEdge:x.type==="is-over"?x.closestEdge:null,currentSortFieldId:(ue=y.sort)==null?void 0:ue.fieldId},se)}),h.jsx("td",{className:fa([Ie.ACTIONS],{[zo]:!0})})]})})),ikt=skt,lkt=Le(Cie).withConfig({displayName:"DatabaseContentSkeleton__StyledToolbarContainer",componentId:"sc-15yu0wx-0"})(["padding-bottom:"," !important;border-bottom:1px solid "," !important;"],U("space.025","2px"),U("color.border","#091E4224")),ckt=Le.div.withConfig({displayName:"DatabaseContentSkeleton__DatabaseContentContainer",componentId:"sc-15yu0wx-1"})(["position:relative;display:flex;flex-grow:1;flex-direction:column;min-height:0;"]),rle=Le(ckt).withConfig({displayName:"DatabaseContentSkeleton__DatabaseContentSkeletonWrapper",componentId:"sc-15yu0wx-2"})(["*{user-select:none;border:none;outline:none;cursor:default;}> "," > div{overflow:visible;}&&& .","{right:50px;}.add-entry{grid-column:1 / -1;padding:10px ",";}"],W3,Ie.ADD_FIELD,U("space.100","8px")),dkt=Le.div.withConfig({displayName:"DatabaseContentSkeleton__VerticalDivider",componentId:"sc-15yu0wx-3"})(["width:1px;background-color:",";margin-left:",";"],U("color.border","#091E4224"),U("space.200","16px")),ukt=Le.div.withConfig({displayName:"DatabaseContentSkeleton__ViewTabsWrapper",componentId:"sc-15yu0wx-4"})(["height:24px;display:flex;margin-left:",";"],U("space.100")),np=()=>{const e=vt("platform-visual-refresh-icons");return h.jsx(hD,{isEnabled:!0,children:h.jsx(rle,{children:h.jsx(W3,{hasCalulations:!1,children:h.jsx(Sie,{containerWidth:"100%",children:h.jsx(Wse,{children:h.jsxs(kie,{gridTemplateColumns:"1fr 1fr 1fr 1fr 1px",minWidth:624,actionsMidWidth:1,containerHeight:600,children:[h.jsx("thead",{children:h.jsxs("tr",{children:[sp(4).map(t=>h.jsx(hO,{isDragOver:!1,containerHeight:0,children:h.jsx(Dm,{children:h.jsx(Dg,{visualRefreshIcons:e,children:h.jsx(Ag,{children:h.jsx(Wt,{hasIcon:!0,minWidth:80,children:"Field Name"})})})})},t)),h.jsx("th",{className:fa([Ie.ADD_FIELD],{[zo]:!0}),children:h.jsx(Wt,{isButton:!0,height:20,width:20})})]})}),h.jsx("tbody",{children:sp(4).map(t=>{const n=t%2===0?"xxxxxxxxxxxxxxxxxxx":"xxxxxxxxxxxxxxx";return h.jsxs(nle,{isInitialized:!0,isFilterOrSortingActive:!1,insertIndicatorPosition:void 0,children:[sp(4).map(r=>h.jsx("th",{children:h.jsx(j3,{children:h.jsx($d,{children:h.jsx(Wt,{children:n})})})},r)),h.jsx("td",{className:fa([Ie.ACTIONS],{[zo]:!0})})]},t)})}),h.jsx("tfoot",{children:h.jsx("tr",{children:h.jsx("td",{className:"add-entry",children:h.jsx(Wt,{hasIcon:!0,maxWidth:80,children:"Add entry"})})})})]})})})})})})},pTt=()=>{const e=h.jsxs(ukt,{children:[h.jsx(Wt,{hasIcon:!0,height:16,children:"View Tab Elem Name"}),h.jsx(dkt,{}),h.jsx(Wt,{isButton:!0,height:16,width:16,children:h.jsx(ht,{children:"Add"})})]}),t=h.jsx(Tp,{style:{marginBottom:U("space.075","6px"),marginLeft:U("space.100"),marginTop:U("space.075","6px")},children:sp(4).map(r=>h.jsx(Wt,{isButton:!0,height:24,children:h.jsx(ht,{children:"View Button"})},r))}),n=h.jsx(Tp,{align:"spaced",style:{marginBottom:U("space.100")},children:h.jsxs(Tp,{children:[h.jsx(Wt,{isButton:!0,height:16,children:h.jsx(wie,{expanded:!1,children:h.jsx(ht,{iconBefore:h.jsx(jE,{label:""}),children:"Search"})})}),h.jsx(Wt,{isButton:!0,height:16,children:h.jsx(ht,{})})]})});return h.jsx(hD,{isEnabled:!0,children:h.jsxs(rle,{children:[h.jsxs(lkt,{children:[e,h.jsx("div",{className:"expand"}),n]}),t,h.jsx(np,{})]})})},fkt=500,pkt=800,mkt=Le.div.withConfig({displayName:"DatabaseLayoutRenderer__DatabaseContentInnerContainer",componentId:"sc-87xgua-0"})(["display:flex;flex-direction:column;flex-grow:1;position:relative;min-width:100%;width:min-content;",""],({canEditContent:e})=>e&&un(["& tbody > tr:last-child > *{border-bottom:none;}"])),hkt=c.lazy(()=>Te(()=>de(()=>Promise.resolve().then(()=>KSt),void 0))),gkt=c.lazy(()=>Te(()=>de(()=>import("./BoardLayout-DfQV1NLj.js"),__vite__mapDeps([123,3,4,1,2,5,6,7,8,9,10,124,125,126])))),vkt=c.lazy(()=>Te(()=>de(()=>import("./CalendarLayout-C46DBk35.js"),__vite__mapDeps([127,3,4,1,2,5,6,7,8,9,10,124,126])))),bkt=c.lazy(()=>Te(()=>de(()=>import("./CardLayout-H9_XpTby.js"),__vite__mapDeps([128,3,4,1,2,5,6,7,8,9,10,125,126])))),mTt=({canEditContent:e,couldEditFields:t,canEditFields:n,contentId:r,isContentEditable:o=!1,outerContainerRef:a,setOuterContainerRef:s})=>{const i=c.useRef(null),[l,d]=c.useState(null),[u,f]=c.useState(!1),p=Qp(a,!1),m=Qp(l,!1),g=rL({isDisabled:!l,container:l??void 0,batchHeight:fkt,margin:pkt}),{view:v}=at();c.useEffect(()=>{p&&m&&f(m.height<=p.height)},[p,m]);const{left:b}=Abt({container:(l==null?void 0:l.parentElement)??void 0}),{top:y}=rL({isDisabled:!l,container:l??void 0}),[E,w]=c.useState(new Set),C=c.useCallback(x=>{w(E.add({entryId:x.id,fieldId:void 0})),setTimeout(()=>{a&&l&&(a==null||a.scrollTo({left:0,top:l==null?void 0:l.getBoundingClientRect().height,behavior:"smooth"}))},0)},[E,a,l]);return h.jsx(h.Fragment,{children:h.jsx(W3,{innerRef:s,heightIsLessThanContainer:u,allowOverheadSpace:!1,children:h.jsx(mkt,{canEditContent:e,id:"database-content-inner-container","data-testid":"database-content-inner-container",ref:d,children:h.jsx(ese,{children:v.settings.layout.type===yt.CARD?p&&h.jsx(c.Suspense,{fallback:h.jsx(np,{}),children:h.jsx(bkt,{contentId:r,isContentEditable:o,canEditContent:e,renderSection:g,containerWidth:p.width})}):v.settings.layout.type===yt.BOARD?p&&h.jsx(c.Suspense,{fallback:h.jsx(np,{}),children:h.jsx(gkt,{contentId:r,isContentEditable:o,canEditFields:n,canEditContent:e,renderSection:g,containerWidth:p.width})}):v.settings.layout.type===yt.CALENDAR?p&&h.jsx(c.Suspense,{fallback:h.jsx(np,{}),children:h.jsx(vkt,{canEditFields:n,canEditContent:e,contentId:r,renderSection:g,containerWidth:(a==null?void 0:a.clientWidth)??0})}):p&&h.jsx(c.Suspense,{fallback:h.jsx(np,{}),children:h.jsx(hkt,{editingIds:E,setEditingIds:w,contentId:r,isContentEditable:o,canEditContent:e,canEditFields:n,couldEditFields:t,renderSection:g,containerWidth:(a==null?void 0:a.clientWidth)??0,addEntryButtonRef:i,containerTop:y,containerLeft:b,handleEntry:C})})})})})})},ykt=c.lazy(()=>Te(()=>de(()=>import("./ShrinkingEmptyState-B9CFHPUa.js"),__vite__mapDeps([129,3,4,1,2,5,6,7,8,9,10,96])))),n_=c.lazy(()=>Te(()=>de(()=>import("./EmbedEmptyState-DeDR3eDR.js"),__vite__mapDeps([130,3,4,1,2,5,6,7,8,9,10,96])))),hTt=({contentId:e,entryId:t,fieldId:n})=>{const[r,o,a]=La.useEqualSelector(()=>{const p=La.useSelector(v=>Vt(v,{contentId:e})),m=p&&!Ht(p)&&Un(p,n),g=p&&!Ht(p)&&or(p,t);return[!!p,!!g,!!m]}),s=Ee(),{formatMessage:i}=s,l=La.useDispatch();Yn(c.useCallback(async()=>{Ra.mark("database-load-start"),await l(Fs(e,s))},[e,l,s]));const d=La.useSelector(p=>$m(p,{contentId:e})),u=rt(),f=Du();switch(Yn(De(async()=>{await u.sendDatabaseContentViewedEvent({contentId:e,databaseContainer:sa.EMBED_VALUE,locale:f})},[u,e,f])),d==null?void 0:d.status){case St.ERROR:{const p=mr(d.error),m={name:p.name,message:p.message,stack:p.stack};return Ra.failure({metadata:{error:m},force:!0}),wn(new Error(`Couldn't load link with error: ${p}`)),h.jsx(c.Suspense,{fallback:h.jsx(rr,{interactionName:"load"}),children:h.jsx(ykt,{header:i(G["embed-view.error-heading-text"]),description:i(G["embed-view.error-description-text"]),imageUrl:Uae,primaryAction:h.jsx(ht,{appearance:"primary",onClick:()=>window.location.reload(),children:i(G["embed-view.try-again-button-text"])}),maxImageWidth:300,maxImageHeight:250})})}case St.SUCCEEDED:Ra.mark("database-load-end"),Ra.success({force:!0});break;default:return null}return r?o?a?h.jsx(Dse,{contentId:e,entryId:t,fieldId:n}):(wn(new Error(`Field Id: ${n} not found.`)),h.jsx(c.Suspense,{fallback:h.jsx(rr,{interactionName:"load"}),children:h.jsx(n_,{})})):(wn(new Error(`Entry Id: ${t} not found.`)),h.jsx(c.Suspense,{fallback:h.jsx(rr,{interactionName:"load"}),children:h.jsx(n_,{})})):(wn(new Error(`Database with contentId: ${e} not found.`)),h.jsx(c.Suspense,{fallback:h.jsx(rr,{interactionName:"load"}),children:h.jsx(n_,{})}))},Ekt=({contentId:e,entryId:t,fieldId:n,isContentEditable:r,canEditContent:o,editingIds:a,autoFocus:s,canEditFields:i})=>{const l=fe.useDispatch(),{view:d}=at(),[u,f]=c.useState(!1),[p,m]=fe.useEqualSelector(w=>{const C=Xe(w,{contentId:e}),S=Ki(w,{contentId:e}).length?void 0:ha(w,{entryId:t,fieldId:n});return[Cn(C,n),S]}),g=a==null?void 0:a.current.has(p.id);g&&a.current.delete(p.id);const{toggleOpenMenu:v}=os({type:"value",entryId:t,fieldId:n,panel:!0}),b=c.useCallback(w=>{r&&(w!=null&&w.isMultiSelectOn?l(A4({contentId:e,entryId:t,fieldId:n})):l(Bh({entryId:t,fieldId:n})))},[r,l,e,t,n]),y=c.useCallback(w=>{b(),r&&(w.preventDefault(),v())},[b,r,v]),E=c.useCallback(w=>h.jsx("td",{onContextMenu:y,ref:w==null?void 0:w.ref,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:h.jsx(Ose,{contentId:e,fieldId:n,entryId:t,initialIsEditing:g||s,isReadonly:!o,isContentEditable:r,isSelected:m,onIsSelectedChange:b,enableSelection:!0,panel:!0,isHoverCell:u,setIsHoverCell:f,...w})}),[s,o,e,t,n,y,g,r,u,m,b]);return h.jsxs("tr",{onContextMenu:w=>w.preventDefault(),children:[h.jsx("th",{children:h.jsx(qse,{contentId:e,fieldId:n,isReadonly:!0,isSelected:!1})}),h.jsx(tle,{scope:"main",Trigger:E,contentId:e,currentViewId:d.id,canEditContent:o,canEditFields:i,entryId:t,fieldId:n,placement:"auto-end",panel:!0})]})},ole=Le.div.withConfig({displayName:"DatabaseEntry__Container",componentId:"sc-5tixwd-0"})(["min-height:0;overflow:auto;box-sizing:border-box;flex-grow:1;margin-bottom:",";"],U("space.100","8px")),bO=Le(Yse).withConfig({displayName:"DatabaseEntry__Table",componentId:"sc-5tixwd-1"})([""," grid-template-columns:"," 1fr;overflow-wrap:anywhere;> * > tr > *{display:flex;flex-direction:column;min-height:42px;min-width:0;padding:0;box-sizing:border-box;&:last-child{border-right:",";border-width:","px;}> ","{flex-grow:1;","{box-sizing:border-box;padding:",";font:",";}}}> * > tr{&:first-child{th{border-start-start-radius:",";}td{border-start-end-radius:",";}}&:last-child{th{border-end-start-radius:",";}td{border-end-end-radius:",";}}}"],Uwt,e=>`${e.fieldNameWidth??260}px`,Is,Si,Kt,Dg,U("space.100","8px"),U("font.heading.xxsmall"),Rn,Rn,Rn,Rn),wkt=({contentId:e,entryId:t,isContentEditable:n=!1,fieldNameWidth:r,autoFocus:o})=>{const[a,s,i]=fe.useEqualSelector(f=>{const p=kt(f,{contentId:e,includeDeleted:!0});return[p.fields,p.operations,p.meta.isLocked]}),l=n&&s.updateEntries,d=n&&s.updateMetadata&&!i,u=c.useRef(new Set);return h.jsx(ole,{children:h.jsx(bO,{"data-testid":"database-entry-table",fieldNameWidth:r,children:h.jsx("tbody",{children:a.map((f,p)=>h.jsx(Ekt,{contentId:e,entryId:t,fieldId:f,isContentEditable:n,canEditContent:l,canEditFields:d,editingIds:u,autoFocus:o&&p===0},f))})})})},Ckt=Le.div.withConfig({displayName:"DatabaseEntrySkeleton__DatabaseEntryMacroContainer",componentId:"sc-yso96m-0"})([""]),_kt=Le.div.withConfig({displayName:"DatabaseEntrySkeleton__ToolbarSkeleton",componentId:"sc-yso96m-1"})(["display:flex;justify-content:flex-end;padding-bottom:",";"],U("space.100")),xkt=Le(Ckt).withConfig({displayName:"DatabaseEntrySkeleton__DatabaseEntrySkeletonWrapper",componentId:"sc-yso96m-2"})(["*{user-select:none;border:none;outline:none;cursor:default;}","{grid-template-columns:260px 1fr;}.add-field{grid-column:1 / -1;padding:"," ",";}"],bO,U("space.100"),U("space.100","8px")),Skt=({showBreadCrumbs:e=!1})=>{const t=vt("platform-visual-refresh-icons");return h.jsx(hD,{isEnabled:!0,children:h.jsxs(xkt,{children:[e?h.jsx(h.Fragment,{children:h.jsxs(G3,{children:[h.jsx("div",{style:{height:4}}),h.jsxs("div",{style:{display:"flex"},children:[h.jsx(Wt,{children:"New Entry Name"}),h.jsx("div",{style:{flexGrow:1}}),h.jsx(Wt,{isButton:!0,width:30,height:30,style:{height:40},children:"More"})]})]})}):h.jsxs(_kt,{children:[h.jsx(Go,{size:"large",children:h.jsx(Wt,{children:"New Database Name"})}),h.jsx("div",{style:{flexGrow:1}}),h.jsx(Wt,{isButton:!0,width:30,height:30,style:{height:40},children:"More"})]}),h.jsx(ole,{children:h.jsxs(bO,{children:[h.jsx("tbody",{children:sp(5).map(n=>{const r=n%2===1?"Long field name":"Short field",o=n%2===0?"Very very very very very long value":"Shorter entry value";return h.jsxs("tr",{children:[h.jsx("th",{children:h.jsx(Dm,{children:h.jsx(Dg,{visualRefreshIcons:t,children:h.jsx(Ag,{children:h.jsx(Wt,{hasIcon:!0,children:r})})})})}),h.jsx("td",{children:h.jsx(j3,{children:h.jsx($d,{children:h.jsx(Wt,{children:o})})})})]},n)})}),h.jsx("tfoot",{children:h.jsx("tr",{children:h.jsx("td",{colSpan:2,className:"add-field",children:h.jsx(Wt,{hasIcon:!0,maxWidth:80,children:"Add field"})})})})]})})]})})};var yO={},$g={};Object.defineProperty($g,"__esModule",{value:!0});$g.default=void 0;var kkt=ale(c),Ikt=ale(Oe);function ale(e){return e&&e.__esModule?e:{default:e}}const sle=e=>kkt.default.createElement(Ikt.default,Object.assign({dangerouslySetGlyph:'<path stroke="currentcolor" stroke-linejoin="round" stroke-width="1.5" d="M1.75 8.75V13c0 .69.56 1.25 1.25 1.25h10c.69 0 1.25-.56 1.25-1.25V8.75m-12.5 0V3c0-.69.56-1.25 1.25-1.25h10c.69 0 1.25.56 1.25 1.25v5.75m-12.5 0H5.5a2.5 2.5 0 0 0 5 0h3.75M4 5.25h8"/>'},e));sle.displayName="InboxIcon";$g.default=sle;var p2={};Object.defineProperty(p2,"__esModule",{value:!0});p2.default=void 0;var Tkt=ile(c),Akt=je,Dkt=ile($g);function ile(e){return e&&e.__esModule?e:{default:e}}const lle=e=>Tkt.default.createElement(Akt.IconFacade,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentcolor" fill-rule="evenodd"><path fill-rule="nonzero" d="M5 19h14V5H5zM3 4.995C3 3.893 3.893 3 4.995 3h14.01C20.107 3 21 3.893 21 4.995v14.01A1.995 1.995 0 0 1 19.005 21H4.995A1.995 1.995 0 0 1 3 19.005z"/><path d="M9.17 17H4v1.5c0 .83.67 1.5 1.51 1.5H18.5a1.5 1.5 0 0 0 1.51-1.5V17h-5.17a3 3 0 0 1-5.66 0M7 12h10v2H7zm0-4h10v2H7z"/></g></svg>'},e,{newIcon:Dkt.default}));lle.displayName="TrayIcon";p2.default=lle;Object.defineProperty(yO,"__esModule",{value:!0});var cle=yO.default=void 0,Okt=EO(c),Mkt=EO($g),$kt=EO(p2);function EO(e){return e&&e.__esModule?e:{default:e}}const dle=e=>Okt.default.createElement(Mkt.default,Object.assign({LEGACY_fallbackIcon:$kt.default},e));dle.Name="InboxIconMigration";cle=yO.default=dle;function Rkt(e){const t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download=e.name,n.click()}async function gTt({contentId:e,exportType:t,viewSettings:n,selectDatabase:r=Vt,databaseName:o},a,s){switch(t){case op.HTML:case op.CSV:Rkt(await Nvt({contentId:e,exportType:t,viewSettings:n,selectDatabase:r,databaseName:o},a,s));break;case op.PDF:await Lkt({contentId:e,viewSettings:n,selectDatabase:r,databaseName:o},a.getState());break;default:throw new Rp(`Unsupported export type ${t}.`,"snackbar-error-message.unsupported-export-type",{exportType:t})}}const Pkt=`
    #loading {
        position: fixed;
        top: calc(50% - 25px);
        left: calc(50% - 25px);
        animation: spin 0.86s cubic-bezier(0.4, 0.15, 0.6, 0.85) infinite;
    }

    @keyframes spin {
        100% {
            transform: rotate(360deg);
        }
    }
`;async function Lkt({contentId:e,viewSettings:t,selectDatabase:n=Vt,databaseName:r},o){await ule(async()=>await Hae({contentId:e,renderContext:Hm.PRINT_PREVIEW,viewSettings:t,selectDatabase:n,databaseName:r},o))}async function Nkt({contentId:e,entryId:t,selectDatabase:n=Vt},r){await ule(async()=>await jvt({contentId:e,entryId:t,renderContext:Hm.PRINT_PREVIEW,selectDatabase:n},r))}async function ule(e,t){const n=open(void 0,void 0,`popup=1,height=${screen.height},width=${Math.min(screen.width,1100)}`);if(!n)throw new Rp("Could not open popup window.","snackbar-error-message.could-not-open-popup-window");const r=n.document.createElement("style");r.textContent=Pkt,n.document.head.appendChild(r);const o=n.document.createElement("div");o.innerHTML='<svg id="loading" height="50" viewbox="0 0 50 50" width="50" xmlns="http://www.w3.org/2000/svg"><circle class="spin-circle" cx="25" cy="25" fill="none" r="22.5" stroke-linecap="round" stroke-width="5" style="stroke: #42526e; transform-origin: center; transition: stroke-dashoffset 0.8s ease-in-out, opacity 0.2s ease-in-out; transition-delay: initial; stroke-dashoffset: 113.097px; stroke-dasharray: 141.371px;"></circle></svg>',n.document.body.appendChild(o);const a=await e(),s=new DOMParser().parseFromString(a,"text/html"),i=Promise.all([...n.document.importNode(s.head,!0).childNodes].map(async u=>{n.document.head.appendChild(u),["[object HTMLStyleElement]","[object HTMLLinkElement]"].includes(`${u}`)&&u.matches("style,link[rel=stylesheet]")&&await new Promise(f=>{u.addEventListener("load",f),u.addEventListener("error",f)})})),l=to(),d=[...s.body.querySelectorAll("img")];await Promise.all(d.map(async u=>{if(u.src.startsWith(l))try{const f=await Cde(u.src.substring(l.length)).then(m=>m.blob()),p=n.URL.createObjectURL(f);u.src=p}catch(f){n.console.warn("Could not load image",f),wF(f)}})),await i,o.remove();for(const u of n.document.importNode(s.body,!0).childNodes)n.document.body.appendChild(u);await Promise.all(d.map(async u=>{u.complete||await new Promise(f=>{u.addEventListener("load",f),u.addEventListener("error",f)})})),await new Promise(u=>{n.setTimeout(()=>{n.print(),u()},250)})}const Fkt=Le.div.withConfig({displayName:"SlideTransition__Container",componentId:"sc-1q4udfb-0"})(["overflow:hidden;transition:",";"," > div{transition:",";margin-right:",";}",""],e=>e.isInitialized?"margin 0.4s":"none",e=>e.isVisible?"":"margin-left: 0;",e=>e.isInitialized?"margin 0.4s":"none",e=>e.isVisible?"0":`-${e.width}px`,e=>e.isInitialized?"":un(["position:absolute;left:-10000px;"])),jkt=({isVisible:e,children:t})=>{var i;const[n,r]=c.useState(null),o=(i=Qp(n,!1,!0))==null?void 0:i.width,[a,s]=c.useState(!1);return c.useEffect(()=>{o!=null&&!a&&s(!0)},[a,o]),h.jsx(Fkt,{isVisible:e,width:o??0,isInitialized:a,children:h.jsx("div",{ref:r,children:t})})},Vkt=Le.div.withConfig({displayName:"ImmediateEntryActions__ImmediateEntryActionsContainer",componentId:"sc-lxl7e3-0"})(["&,> div{display:flex;align-items:center;}> * + *{margin-left:",";}"],U("space.050")),Bkt=({triggerRef:e,...t})=>h.jsx(ht,{iconBefore:h.jsx(bc,{label:""}),ref:e,...t}),Ukt=({contentId:e,entryId:t,placement:n,show:r})=>{const o=fe.useStore(),[a,s]=c.useState(!1),{showDialog:i}=Oc();c.useEffect(()=>{(async()=>{var E;(E=(await o1()).email)!=null&&E.endsWith("@atlassian.com")&&s(!0)})()},[]);const l=Ee(),{formatMessage:d}=l,u=De(async()=>{await Nkt({contentId:e,entryId:t,selectDatabase:Tc(!0)},o.getState())},[e,t,o]),[f,p]=c.useState(!1),m=De(b=>{p(b.isOpen)},[]),g={print:!r||r.includes("print")},v=Object.values(g).filter(b=>b).length>0;return h.jsx(Vkt,{className:f?"isOpen":"",children:h.jsx(jkt,{isVisible:v,children:h.jsxs(nO,{trigger:Bkt,isOpen:f,onOpenChange:m,placement:n,children:[h.jsx(Gl,{children:g.print&&h.jsx(er,{elemBefore:h.jsx(cle,{spacing:"spacious",label:""}),onClick:u,children:d(G["entry-actions.print-button-text"])})}),a&&h.jsx(Gl,{children:h.jsx(er,{onClick:()=>{i("DevtoolsDialog")},children:d(G["actions-menu.devtools"])})})]})})})},Hkt=c.lazy(()=>Te(()=>de(()=>import("./ShrinkingEmptyState-B9CFHPUa.js"),__vite__mapDeps([129,3,4,1,2,5,6,7,8,9,10,96])))),aN=c.lazy(()=>Te(()=>de(()=>import("./EmbedEmptyState-DeDR3eDR.js"),__vite__mapDeps([130,3,4,1,2,5,6,7,8,9,10,96])))),zkt=["print"],vTt=({contentId:e,entryId:t,isContentEditable:n=!0})=>{const[r,o,a]=La.useEqualSelector(p=>{const m=La.useSelector(v=>Vt(v,{contentId:e})),g=m&&!Ht(m)&&or(m,t);return[!!m,!!g,m&&g?Gr({database:m,entry:g},p):void 0]}),s=Ee(),{formatMessage:i}=s,l=La.useDispatch();Yn(c.useCallback(async()=>{Ra.mark("database-load-start"),await l(Fs(e,s))},[e,l,s]));const d=La.useSelector(p=>$m(p,{contentId:e})),u=rt(),f=Du();switch(Yn(De(async()=>{await u.sendDatabaseContentViewedEvent({contentId:e,databaseContainer:sa.EMBED_ENTRY,locale:f})},[u,e,f])),d==null?void 0:d.status){case St.ERROR:{const p=mr(d.error),m={name:p.name,message:p.message,stack:p.stack};return Ra.failure({metadata:{error:m},force:!0}),wn(new Error(`Couldn't load link with error: ${p}`)),h.jsx(c.Suspense,{fallback:h.jsx(rr,{interactionName:"load"}),children:h.jsx(Hkt,{header:i(G["embed-view.error-heading-text"]),description:i(G["embed-view.error-description-text"]),imageUrl:Uae,primaryAction:h.jsx(ur,{appearance:"primary",onClick:()=>window.location.reload(),children:i(G["embed-view.try-again-button-text"])}),maxImageWidth:300,maxImageHeight:250})})}case St.SUCCEEDED:Ra.mark("database-load-end"),Ra.success({force:!0});break;default:return h.jsx(Skt,{})}return r?o?h.jsxs(h.Fragment,{children:[h.jsx(_e,{id:"layout-toolbar-wrapper",children:h.jsx(G3,{id:"embed-entry-details-entry-name",actions:h.jsx(Tp,{children:h.jsx(Ukt,{contentId:e,entryId:t,placement:"bottom-end",show:zkt})}),children:a||i(G["unnamed-entities.unnamed-entry"])})}),h.jsx(_e,{xcss:ie({overflowY:"auto",height:"100%"}),children:h.jsx(ese,{children:h.jsx(wkt,{contentId:e,entryId:t,isContentEditable:n})})})]}):h.jsx(c.Suspense,{fallback:h.jsx(rr,{interactionName:"load"}),children:h.jsx(aN,{})}):h.jsx(c.Suspense,{fallback:h.jsx(rr,{interactionName:"load"}),children:h.jsx(aN,{})})},bTt=e=>_de.actions.setContext(e);export{Bht as $,ca as A,ht as B,XG as C,Dse as D,xu as E,Lwt as F,pt as G,Qr as H,Vp as I,kt as J,uTt as K,Vu as L,Qie as M,NTe as N,ISt as O,opt as P,$te as Q,jee as R,rr as S,Bt as T,TSt as U,Oe as V,UT as W,YT as X,KSe as Y,e2 as Z,Nh as _,bte as a,gTt as a$,cg as a0,AE as a1,FE as a2,dn as a3,_1e as a4,vg as a5,Yn as a6,$a as a7,NV as a8,Gk as a9,hTt as aA,Rue as aB,l5t as aC,i5t as aD,eV as aE,uIt as aF,dIt as aG,s5t as aH,lIt as aI,oIt as aJ,dd as aK,bTt as aL,tV as aM,d5t as aN,tIt as aO,rIt as aP,Du as aQ,sIt as aR,nIt as aS,Re as aT,c5t as aU,el as aV,_It as aW,ur as aX,Ln as aY,Oc as aZ,We as a_,ly as aa,rt as ab,wkt as ac,AIt as ad,DIt as ae,Ty as af,xee as ag,wy as ah,rNe as ai,OLe as aj,MIt as ak,wye as al,Tt as am,WU as an,Ye as ao,Vv as ap,eq as aq,fa as ar,eee as as,xy as at,u5t as au,sh as av,p5t as aw,fTt as ax,mTt as ay,vTt as az,Kf as b,vG as b$,Ndt as b0,jdt as b1,Wdt as b2,Zdt as b3,eut as b4,tu as b5,un as b6,B7 as b7,n2 as b8,pr as b9,Om as bA,Ko as bB,Sse as bC,J_ as bD,a$e as bE,ele as bF,Mu as bG,N5 as bH,yc as bI,Su as bJ,zW as bK,zTe as bL,P5 as bM,FTe as bN,WTe as bO,zF as bP,cZ as bQ,CB as bR,Blt as bS,hCt as bT,V5 as bU,iIt as bV,Rr as bW,qs as bX,O_t as bY,SIt as bZ,FI as b_,Ki as ba,v4 as bb,Ap as bc,xse as bd,Xt as be,Is as bf,eo as bg,Ket as bh,ki as bi,JRe as bj,XRe as bk,os as bl,Ya as bm,hy as bn,nSt as bo,c4 as bp,Fh as bq,Qi as br,i$e as bs,vK as bt,am as bu,mE as bv,dxt as bw,T4 as bx,wr as by,Bl as bz,K_ as c,pc as c$,yh as c0,Go as c1,lz as c2,Zr as c3,Kn as c4,Mi as c5,Se as c6,RIt as c7,hZe as c8,gI as c9,XIt as cA,e5t as cB,ZIt as cC,QIt as cD,t5t as cE,hut as cF,JIt as cG,Wn as cH,Ane as cI,Mne as cJ,xut as cK,n5t as cL,UIt as cM,KIt as cN,HIt as cO,FIt as cP,qIt as cQ,WIt as cR,zIt as cS,GIt as cT,gut as cU,fut as cV,CW as cW,SCt as cX,Zz as cY,$u as cZ,JCe as c_,_J as ca,SJ as cb,DJ as cc,j1 as cd,vc as ce,Bv as cf,Od as cg,dG as ch,Ws as ci,H_ as cj,ry as ck,n4e as cl,GU as cm,VIt as cn,YIt as co,rT as cp,bc as cq,sT as cr,Ry as cs,r5t as ct,o5t as cu,a5t as cv,Ge as cw,iut as cx,VJ as cy,jIt as cz,fe as d,MLe as d$,ibe as d0,Nmt as d1,ipt as d2,Fmt as d3,U_e as d4,Uq as d5,ime as d6,qa as d7,zf as d8,QE as d9,xh as dA,rpe as dB,eh as dC,Rne as dD,Uz as dE,_4e as dF,jct as dG,_D as dH,JF as dI,ej as dJ,J1 as dK,lj as dL,Bz as dM,exe as dN,Rlt as dO,Gj as dP,BIt as dQ,xc as dR,OE as dS,wke as dT,EA as dU,MXe as dV,PQe as dW,ALe as dX,Ls as dY,Oy as dZ,Zt as d_,l1t as da,Cc as db,ju as dc,vy as dd,w4 as de,Wu as df,C4 as dg,da as dh,Sc as di,me as dj,mb as dk,ze as dl,Xh as dm,Xa as dn,Cl as dp,Io as dq,BLe as dr,ns as ds,Ia as dt,_y as du,Ep as dv,QQe as dw,$It as dx,uke as dy,fke as dz,lte as e,Fl as e$,jX as e0,RLe as e1,Au as e2,d4 as e3,lC as e4,xL as e5,b_ as e6,Us as e7,Jy as e8,og as e9,sa as eA,z0t as eB,pTt as eC,cIt as eD,EIt as eE,sV as eF,pbe as eG,wh as eH,Ch as eI,GRe as eJ,p1 as eK,oot as eL,rot as eM,aot as eN,sot as eO,S_ as eP,qU as eQ,_ye as eR,xye as eS,Sye as eT,Pu as eU,Nt as eV,nT as eW,DNe as eX,ONe as eY,Iye as eZ,kye as e_,wSt as ea,VC as eb,U5 as ec,of as ed,YD as ee,roe as ef,Xre as eg,Te as eh,vt as ei,I0 as ej,z4 as ek,H4 as el,LLe as em,Lw as en,X1 as eo,M1 as ep,_7 as eq,ebt as er,OY as es,Hn as et,AY as eu,rf as ev,sn as ew,h5t as ex,Qo as ey,m5t as ez,Cx as f,q5t as f$,Tx as f0,pFe as f1,fFe as f2,aT as f3,YP as f4,kut as f5,spe as f6,mM as f7,Ru as f8,nf as f9,Qne as fA,ohe as fB,vE as fC,TIt as fD,jE as fE,cTt as fF,u1 as fG,cCt as fH,Uu as fI,ts as fJ,xm as fK,lCt as fL,uCt as fM,tut as fN,$lt as fO,MU as fP,RT as fQ,WJ as fR,n4t as fS,r4t as fT,o4t as fU,s4t as fV,a4t as fW,H5t as fX,_5t as fY,D5t as fZ,U5t as f_,Tg as fa,uge as fb,Pvt as fc,Vk as fd,Xn as fe,bw as ff,w$e as fg,Ph as fh,Lvt as fi,aq as fj,FH as fk,zH as fl,pD as fm,Coe as fn,Jo as fo,hie as fp,Wl as fq,kne as fr,dTt as fs,Ts as ft,bIt as fu,Oke as fv,QW as fw,Yd as fx,UG as fy,Bu as fz,Ay as g,p5 as g$,b5t as g0,O5t as g1,G5t as g2,jb as g3,O3 as g4,v5t as g5,C5t as g6,w5t as g7,T4t as g8,y4t as g9,b4t as gA,I4t as gB,t4t as gC,L5t as gD,J5t as gE,M5t as gF,N5t as gG,P5t as gH,$n as gI,F5t as gJ,y5t as gK,E5t as gL,k5t as gM,$5t as gN,W5t as gO,Qbt as gP,V5t as gQ,Y5t as gR,YI as gS,yo as gT,Kme as gU,Hs as gV,ih as gW,H2t as gX,gIt as gY,Dk as gZ,Kp as g_,E4t as ga,_4t as gb,C4t as gc,x4t as gd,Y1t as ge,v4t as gf,k4t as gg,m4t as gh,h4t as gi,g4t as gj,p4t as gk,S4t as gl,u4t as gm,f4t as gn,l4t as go,c4t as gp,w4t as gq,d4t as gr,i4t as gs,j5t as gt,Z5t as gu,e4t as gv,Q5t as gw,o1t as gx,R5t as gy,A4t as gz,eet as h,S5t as h$,hIt as h0,mIt as h1,xH as h2,rX as h3,B3e as h4,T5e as h5,Ipt as h6,ir as h7,yOe as h8,vOe as h9,nne as hA,dx as hB,WE as hC,pIt as hD,Sr as hE,hr as hF,eU as hG,kst as hH,Ab as hI,RP as hJ,lvt as hK,k_t as hL,dg as hM,cXe as hN,vIt as hO,PSe as hP,sY as hQ,B6 as hR,sit as hS,YLe as hT,rZ as hU,tgt as hV,aIt as hW,whe as hX,FFe as hY,kKe as hZ,OIt as h_,Lh as ha,ua as hb,_se as hc,Vb as hd,fze as he,GS as hf,xoe as hg,XY as hh,tK as hi,MRe as hj,CIt as hk,mc as hl,_c as hm,a5 as hn,MI as ho,yx as hp,wgt as hq,KK as hr,xIt as hs,F2t as ht,py as hu,mm as hv,vvt as hw,NE as hx,GG as hy,yY as hz,v1 as i,q1 as i$,K5t as i0,X5t as i1,nse as i2,x5t as i3,I5t as i4,lse as i5,p1t as i6,A5t as i7,z5t as i8,J1t as i9,J4t as iA,eTt as iB,X4t as iC,K4t as iD,use as iE,Ybt as iF,q4t as iG,Y4t as iH,mv as iI,P4t as iJ,Dl as iK,L4t as iL,N4t as iM,F4t as iN,j4t as iO,V4t as iP,rTt as iQ,nTt as iR,aTt as iS,qyt as iT,oTt as iU,Kbt as iV,M4t as iW,$4t as iX,R4t as iY,sTt as iZ,$0 as i_,x1t as ia,rse as ib,Pd as ic,uo as id,tyt as ie,B5t as ig,kn as ih,X1t as ii,T5t as ij,Q1t as ik,G1 as il,ic as im,O4t as io,hh as ip,bh as iq,U4t as ir,z4t as is,B4t as it,H4t as iu,W4t as iv,G4t as iw,tTt as ix,Z4t as iy,Q4t as iz,Uae as j,er as j0,fLe as j1,vs as j2,nX as j3,Iy as j4,xU as j5,eZ as j6,Cg as j7,soe as j8,oA as j9,g5t as jA,c2t as jB,pme as jC,QT as ja,JT as jb,dm as jc,uD as jd,Z4 as je,F5 as jf,ase as jg,Fa as jh,oo as ji,Cr as jj,Ss as jk,D1t as jl,Dwe as jm,yU as jn,mse as jo,pLe as jp,$i as jq,Nb as jr,qit as js,bX as jt,Pbt as ju,sXe as jv,oW as jw,Tlt as jx,Out as jy,Jr as jz,iE as k,rh as l,lr as m,ct as n,De as o,So as p,Le as q,je as r,po as s,Hft as t,ky as u,Yp as v,SAe as w,at as x,Wt as y,La as z};
//# sourceMappingURL=actions-BSn0aWLf.js.map
